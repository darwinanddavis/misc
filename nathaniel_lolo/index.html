<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>mapdeck</title>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gdHJ5RXZhbCh0YXNrKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgLy8gQXR0ZW1wdCBldmFsKCkgYm90aCB3aXRoIGFuZCB3aXRob3V0IGVuY2xvc2luZyBpbiBwYXJlbnRoZXNlcy4KICAvLyBOb3RlIHRoYXQgZW5jbG9zaW5nIGNvZXJjZXMgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbnRvCiAgLy8gYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWwoKSBjYW4gcGFyc2UKICAvLyAob3RoZXJ3aXNlLCBhIFN5bnRheEVycm9yIGlzIHRocm93bikKICBmdW5jdGlvbiB0cnlFdmFsKGNvZGUpIHsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgdHJ5IHsKICAgICAgcmVzdWx0ID0gZXZhbChjb2RlKTsKICAgIH0gY2F0Y2goZXJyb3IpIHsKICAgICAgaWYgKCFlcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICByZXN1bHQgPSBldmFsKCIoIiArIGNvZGUgKyAiKSIpOwogICAgICB9IGNhdGNoKGUpIHsKICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBpbml0U2l6aW5nKGVsKSB7CiAgICB2YXIgc2l6aW5nID0gc2l6aW5nUG9saWN5KGVsKTsKICAgIGlmICghc2l6aW5nKQogICAgICByZXR1cm47CgogICAgdmFyIGNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodG1sd2lkZ2V0X2NvbnRhaW5lciIpOwogICAgaWYgKCFjZWwpCiAgICAgIHJldHVybjsKCiAgICBpZiAodHlwZW9mKHNpemluZy5wYWRkaW5nKSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAiMCI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZyA9IHBhZGRpbmdUb0Nzcyh1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKSk7CiAgICB9CgogICAgaWYgKHNpemluZy5maWxsKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICIxMDAlIjsKICAgICAgaWYgKGNlbCkgewogICAgICAgIGNlbC5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICAgdmFyIHBhZCA9IHVucGFja1BhZGRpbmcoc2l6aW5nLnBhZGRpbmcpOwogICAgICAgIGNlbC5zdHlsZS50b3AgPSBwYWQudG9wICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUucmlnaHQgPSBwYWQucmlnaHQgKyAicHgiOwogICAgICAgIGNlbC5zdHlsZS5ib3R0b20gPSBwYWQuYm90dG9tICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUubGVmdCA9IHBhZC5sZWZ0ICsgInB4IjsKICAgICAgICBlbC5zdHlsZS53aWR0aCA9ICIxMDAlIjsKICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBjZWwub2Zmc2V0SGVpZ2h0OyB9CiAgICAgIH07CgogICAgfSBlbHNlIHsKICAgICAgZWwuc3R5bGUud2lkdGggPSBweChzaXppbmcud2lkdGgpOwogICAgICBlbC5zdHlsZS5oZWlnaHQgPSBweChzaXppbmcuaGVpZ2h0KTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0V2lkdGg7IH0sCiAgICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwogICAgfQogIH0KCiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIG1ldGhvZHMKICB2YXIgZGVmYXVsdHMgPSB7CiAgICBmaW5kOiBmdW5jdGlvbihzY29wZSkgewogICAgICByZXR1cm4gcXVlcnlTZWxlY3RvckFsbChzY29wZSwgIi4iICsgdGhpcy5uYW1lKTsKICAgIH0sCiAgICByZW5kZXJFcnJvcjogZnVuY3Rpb24oZWwsIGVycikgewogICAgICB2YXIgJGVsID0gJChlbCk7CgogICAgICB0aGlzLmNsZWFyRXJyb3IoZWwpOwoKICAgICAgLy8gQWRkIGFsbCB0aGVzZSBlcnJvciBjbGFzc2VzLCBhcyBTaGlueSBkb2VzCiAgICAgIHZhciBlcnJDbGFzcyA9ICJzaGlueS1vdXRwdXQtZXJyb3IiOwogICAgICBpZiAoZXJyLnR5cGUgIT09IG51bGwpIHsKICAgICAgICAvLyB1c2UgdGhlIGNsYXNzZXMgb2YgdGhlIGVycm9yIGNvbmRpdGlvbiBhcyBDU1MgY2xhc3MgbmFtZXMKICAgICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiAiICsgJC5tYXAoYXNBcnJheShlcnIudHlwZSksIGZ1bmN0aW9uKHR5cGUpIHsKICAgICAgICAgIHJldHVybiBlcnJDbGFzcyArICItIiArIHR5cGU7CiAgICAgICAgfSkuam9pbigiICIpOwogICAgICB9CiAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiIGh0bWx3aWRnZXRzLWVycm9yIjsKCiAgICAgIC8vIElzIGVsIGlubGluZSBvciBibG9jaz8gSWYgaW5saW5lIG9yIGlubGluZS1ibG9jaywganVzdCBkaXNwbGF5Om5vbmUgaXQKICAgICAgLy8gYW5kIGFkZCBhbiBpbmxpbmUgZXJyb3IuCiAgICAgIHZhciBkaXNwbGF5ID0gJGVsLmNzcygiZGlzcGxheSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBkaXNwbGF5KTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgICRlbC5oaWRlKCk7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yU3BhbiA9ICQoIjxzcGFuPiIpLmFkZENsYXNzKGVyckNsYXNzKTsKICAgICAgICAgIGVycm9yU3Bhbi50ZXh0KGVyci5tZXNzYWdlKTsKICAgICAgICAgICRlbC5hZnRlcihlcnJvclNwYW4pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKSB7CiAgICAgICAgLy8gSWYgYmxvY2ssIGFkZCBhbiBlcnJvciBqdXN0IGFmdGVyIHRoZSBlbCwgc2V0IHZpc2liaWxpdHk6bm9uZSBvbiB0aGUKICAgICAgICAvLyBlbCwgYW5kIHBvc2l0aW9uIHRoZSBlcnJvciB0byBiZSBvbiB0b3Agb2YgdGhlIGVsLgogICAgICAgIC8vIE1hcmsgaXQgd2l0aCBhIHVuaXF1ZSBJRCBhbmQgQ1NTIGNsYXNzIHNvIHdlIGNhbiByZW1vdmUgaXQgbGF0ZXIuCiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICIiKSB7CiAgICAgICAgICB2YXIgZXJyb3JEaXYgPSAkKCI8ZGl2PiIpLmFkZENsYXNzKGVyckNsYXNzKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikKICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgLy8gc2V0dGluZyB3aWR0aCBjYW4gcHVzaCBvdXQgdGhlIHBhZ2Ugc2l6ZSwgZm9yY2luZyBvdGhlcndpc2UKICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgc2Nyb2xsYmFycyB0byBhcHBlYXIgYW5kIG1ha2luZyBpdCBpbXBvc3NpYmxlIGZvcgogICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB0byBzaHJpbms7IHNvIHVzZSBtYXgtd2lkdGggaW5zdGVhZAogICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOwogICAgICAgICAgZXJyb3JEaXYudGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JEaXYpOwoKICAgICAgICAgIC8vIFJlYWxseSBkdW1iIHdheSB0byBrZWVwIHRoZSBzaXplL3Bvc2l0aW9uIG9mIHRoZSBlcnJvciBpbiBzeW5jIHdpdGgKICAgICAgICAgIC8vIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgd2luZG93IGlzIHJlc2l6ZWQgb3Igd2hhdGV2ZXIuCiAgICAgICAgICB2YXIgaW50SWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKCFlcnJvckRpdlswXS5wYXJlbnRFbGVtZW50KSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRJZCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yRGl2CiAgICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQogICAgICAgICAgICAgIC5jc3MoImxlZnQiLCBlbC5vZmZzZXRMZWZ0KQogICAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpCiAgICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24oZWwpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwogICAgICB2YXIgZGlzcGxheSA9ICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIpOwogICAgICAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiLCBudWxsKTsKCiAgICAgIGlmIChkaXNwbGF5ID09PSAiaW5saW5lIiB8fCBkaXNwbGF5ID09PSAiaW5saW5lLWJsb2NrIikgewogICAgICAgIGlmIChkaXNwbGF5KQogICAgICAgICAgJGVsLmNzcygiZGlzcGxheSIsIGRpc3BsYXkpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIil7CiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJpbmhlcml0Iik7CiAgICAgICAgJChlbC5uZXh0U2libGluZykuZmlsdGVyKCIuaHRtbHdpZGdldHMtZXJyb3IiKS5yZW1vdmUoKTsKICAgICAgfQogICAgfSwKICAgIHNpemluZzoge30KICB9OwoKICAvLyBDYWxsZWQgYnkgd2lkZ2V0IGJpbmRpbmdzIHRvIHJlZ2lzdGVyIGEgbmV3IHR5cGUgb2Ygd2lkZ2V0LiBUaGUgZGVmaW5pdGlvbgogIC8vIG9iamVjdCBjYW4gY29udGFpbiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6CiAgLy8gLSBuYW1lIChyZXF1aXJlZCkgLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBiaW5kaW5nIG5hbWUsIHdoaWNoIHdpbGwgYmUKICAvLyAgIHVzZWQgYnkgZGVmYXVsdCBhcyB0aGUgQ1NTIGNsYXNzbmFtZSB0byBsb29rIGZvci4KICAvLyAtIGluaXRpYWxpemUgKG9wdGlvbmFsKSAtIEEgZnVuY3Rpb24oZWwpIHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIHdpZGdldCBlbGVtZW50OyBpZiBhIHZhbHVlIGlzIHJldHVybmVkLCBpdCB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgdGhpcmQKICAvLyAgIHZhbHVlIHRvIHJlbmRlclZhbHVlLgogIC8vIC0gcmVuZGVyVmFsdWUgKHJlcXVpcmVkKSAtIEEgZnVuY3Rpb24oZWwsIGRhdGEsIGluaXRWYWx1ZSkgdGhhdCB3aWxsIGJlCiAgLy8gICBjYWxsZWQgd2l0aCBkYXRhLiBTdGF0aWMgY29udGV4dHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBvbmNlIHBlcgogIC8vICAgZWxlbWVudDsgU2hpbnkgYXBwcyB3aWxsIGNhdXNlIHRoaXMgdG8gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHBlcgogIC8vICAgZWxlbWVudCwgYXMgdGhlIGRhdGEgY2hhbmdlcy4KICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0ID0gZnVuY3Rpb24oZGVmaW5pdGlvbikgewogICAgaWYgKCFkZWZpbml0aW9uLm5hbWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgbmFtZSIpOwogICAgfQogICAgaWYgKCFkZWZpbml0aW9uLnR5cGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgdHlwZSIpOwogICAgfQogICAgLy8gQ3VycmVudGx5IHdlIG9ubHkgc3VwcG9ydCBvdXRwdXQgd2lkZ2V0cwogICAgaWYgKGRlZmluaXRpb24udHlwZSAhPT0gIm91dHB1dCIpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgd2lkZ2V0IHR5cGUgJyIgKyBkZWZpbml0aW9uLnR5cGUgKyAiJyIpOwogICAgfQogICAgLy8gVE9ETzogVmVyaWZ5IHRoYXQgLm5hbWUgaXMgYSB2YWxpZCBDU1MgY2xhc3NuYW1lCgogICAgLy8gU3VwcG9ydCBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMuIE9sZC1zdHlsZSBjbGFzcy1ib3VuZAogICAgLy8gZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0ICJvYmplY3QiIHBlciB3aWRnZXQgcGVyIHR5cGUvY2xhc3Mgb2YKICAgIC8vIHdpZGdldDsgdGhlIHJlbmRlclZhbHVlIGFuZCByZXNpemUgbWV0aG9kcyBvbiBzdWNoIHdpZGdldCBvYmplY3RzCiAgICAvLyB0YWtlIGVsIGFuZCBpbnN0YW5jZSBhcmd1bWVudHMsIGJlY2F1c2UgdGhlIHdpZGdldCBvYmplY3QgY2FuJ3QKICAgIC8vIHN0b3JlIHRoZW0uIE5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQKICAgIC8vIG9iamVjdCBwZXIgd2lkZ2V0IGluc3RhbmNlOyB0aGUgZGVmaW5pdGlvbiB0aGF0J3MgcGFzc2VkIGluIGRvZXNuJ3QKICAgIC8vIHByb3ZpZGUgcmVuZGVyVmFsdWUgb3IgcmVzaXplIG1ldGhvZHMgYXQgYWxsLCBqdXN0IHRoZSBzaW5nbGUgbWV0aG9kCiAgICAvLyAgIGZhY3RvcnkoZWwsIHdpZHRoLCBoZWlnaHQpCiAgICAvLyB3aGljaCByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGhhcyByZW5kZXJWYWx1ZSh4KSBhbmQgcmVzaXplKHcsIGgpLgogICAgLy8gVGhpcyBlbmFibGVzIGEgZmFyIG1vcmUgbmF0dXJhbCBwcm9ncmFtbWluZyBzdHlsZSBmb3IgdGhlIHdpZGdldAogICAgLy8gYXV0aG9yLCB3aG8gY2FuIHN0b3JlIHBlci1pbnN0YW5jZSBzdGF0ZSB1c2luZyBlaXRoZXIgT08tc3R5bGUKICAgIC8vIGluc3RhbmNlIGZpZWxkcyBvciBmdW5jdGlvbmFsLXN0eWxlIGNsb3N1cmUgdmFyaWFibGVzIChJIGd1ZXNzIHRoaXMKICAgIC8vIGlzIGluIGNvbnRyYXN0IHRvIHdoYXQgY2FuIG9ubHkgYmUgY2FsbGVkIEMtc3R5bGUgcHNldWRvLU9PIHdoaWNoIGlzCiAgICAvLyB3aGF0IHdlIHJlcXVpcmVkIGJlZm9yZSkuCiAgICBpZiAoZGVmaW5pdGlvbi5mYWN0b3J5KSB7CiAgICAgIGRlZmluaXRpb24gPSBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZpbml0aW9uKTsKICAgIH0KCiAgICBpZiAoIWRlZmluaXRpb24ucmVuZGVyVmFsdWUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXaWRnZXQgbXVzdCBoYXZlIGEgcmVuZGVyVmFsdWUgZnVuY3Rpb24iKTsKICAgIH0KCiAgICAvLyBGb3Igc3RhdGljIHJlbmRlcmluZyAobm9uLVNoaW55KSwgdXNlIGEgc2ltcGxlIHdpZGdldCByZWdpc3RyYXRpb24KICAgIC8vIHNjaGVtZS4gV2UgYWxzbyB1c2UgdGhpcyBzY2hlbWUgZm9yIFNoaW55IGFwcHMvZG9jdW1lbnRzIHRoYXQgYWxzbwogICAgLy8gY29udGFpbiBzdGF0aWMgd2lkZ2V0cy4KICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICAvLyBNZXJnZSBkZWZhdWx0cyBpbnRvIHRoZSBkZWZpbml0aW9uOyBkb24ndCBtdXRhdGUgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24uCiAgICB2YXIgc3RhdGljQmluZGluZyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwogICAgb3ZlcnJpZGVNZXRob2Qoc3RhdGljQmluZGluZywgImZpbmQiLCBmdW5jdGlvbihzdXBlcmZ1bmMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7CiAgICAgICAgdmFyIHJlc3VsdHMgPSBzdXBlcmZ1bmMoc2NvcGUpOwogICAgICAgIC8vIEZpbHRlciBvdXQgU2hpbnkgb3V0cHV0cywgd2Ugb25seSB3YW50IHRoZSBzdGF0aWMga2luZAogICAgICAgIHJldHVybiBmaWx0ZXJCeUNsYXNzKHJlc3VsdHMsICJodG1sLXdpZGdldC1vdXRwdXQiLCBmYWxzZSk7CiAgICAgIH07CiAgICB9KTsKICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzLnB1c2goc3RhdGljQmluZGluZyk7CgogICAgaWYgKHNoaW55TW9kZSkgewogICAgICAvLyBTaGlueSBpcyBydW5uaW5nLiBSZWdpc3RlciB0aGUgZGVmaW5pdGlvbiB3aXRoIGFuIG91dHB1dCBiaW5kaW5nLgogICAgICAvLyBUaGUgZGVmaW5pdGlvbiBpdHNlbGYgd2lsbCBub3QgYmUgdGhlIG91dHB1dCBiaW5kaW5nLCBpbnN0ZWFkCiAgICAgIC8vIHdlIHdpbGwgbWFrZSBhbiBvdXRwdXQgYmluZGluZyBvYmplY3QgdGhhdCBkZWxlZ2F0ZXMgdG8gdGhlCiAgICAgIC8vIGRlZmluaXRpb24uIFRoaXMgaXMgYmVjYXVzZSB3ZSBmb29saXNobHkgdXNlZCB0aGUgc2FtZSBtZXRob2QKICAgICAgLy8gbmFtZSAocmVuZGVyVmFsdWUpIGZvciBodG1sd2lkZ2V0cyBkZWZpbml0aW9uIGFuZCBTaGlueSBiaW5kaW5ncwogICAgICAvLyBidXQgdGhleSBhY3R1YWxseSBoYXZlIHF1aXRlIGRpZmZlcmVudCBzZW1hbnRpY3MgKHRoZSBTaGlueQogICAgICAvLyBiaW5kaW5ncyByZWNlaXZlIGRhdGEgdGhhdCBpbmNsdWRlcyBsb3RzIG9mIG1ldGFkYXRhIHRoYXQgaXQKICAgICAgLy8gc3RyaXBzIG9mZiBiZWZvcmUgY2FsbGluZyBodG1sd2lkZ2V0cyByZW5kZXJWYWx1ZSkuIFdlIGNhbid0CiAgICAgIC8vIGp1c3QgaWdub3JlIHRoZSBkaWZmZXJlbmNlIGJlY2F1c2UgaW4gc29tZSB3aWRnZXRzIGl0J3MgaGVscGZ1bAogICAgICAvLyB0byBjYWxsIHRoaXMucmVuZGVyVmFsdWUoKSBmcm9tIGluc2lkZSBvZiByZXNpemUoKSwgYW5kIGlmCiAgICAgIC8vIHdlJ3JlIG5vdCBkZWxlZ2F0aW5nLCB0aGVuIHRoYXQgY2FsbCB3aWxsIGdvIHRvIHRoZSBTaGlueQogICAgICAvLyB2ZXJzaW9uIGluc3RlYWQgb2YgdGhlIGh0bWx3aWRnZXRzIHZlcnNpb24uCgogICAgICAvLyBNZXJnZSBkZWZhdWx0cyB3aXRoIGRlZmluaXRpb24sIHdpdGhvdXQgbXV0YXRpbmcgZWl0aGVyLgogICAgICB2YXIgYmluZGluZ0RlZiA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIGRlZmluaXRpb24pOwoKICAgICAgLy8gVGhpcyBvYmplY3Qgd2lsbCBiZSBvdXIgYWN0dWFsIFNoaW55IGJpbmRpbmcuCiAgICAgIHZhciBzaGlueUJpbmRpbmcgPSBuZXcgU2hpbnkuT3V0cHV0QmluZGluZygpOwoKICAgICAgLy8gV2l0aCBhIGZldyBleGNlcHRpb25zLCB3ZSdsbCB3YW50IHRvIHNpbXBseSB1c2UgdGhlIGJpbmRpbmdEZWYncwogICAgICAvLyB2ZXJzaW9uIG9mIG1ldGhvZHMgaWYgdGhleSBhcmUgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbCBiYWNrIHRvCiAgICAgIC8vIFNoaW55J3MgZGVmYXVsdHMuIE5PVEU6IElmIFNoaW55J3Mgb3V0cHV0IGJpbmRpbmdzIGdhaW4gYWRkaXRpb25hbAogICAgICAvLyBtZXRob2RzIGluIHRoZSBmdXR1cmUsIGFuZCB3ZSB3YW50IHRoZW0gdG8gYmUgb3ZlcnJpZGVhYmxlIGJ5CiAgICAgIC8vIEhUTUxXaWRnZXQgYmluZGluZyBkZWZpbml0aW9ucywgdGhlbiB3ZSdsbCBuZWVkIHRvIGFkZCB0aGVtIHRvIHRoaXMKICAgICAgLy8gbGlzdC4KICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiZ2V0SWQiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUNoYW5nZSIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAicmVuZGVyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAiY2xlYXJFcnJvciIpOwogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJzaG93UHJvZ3Jlc3MiKTsKCiAgICAgIC8vIFRoZSBmaW5kLCByZW5kZXJWYWx1ZSwgYW5kIHJlc2l6ZSBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseSwgYmVjYXVzZSB3ZQogICAgICAvLyB3YW50IHRvIGFjdHVhbGx5IGRlY29yYXRlIHRoZSBiZWhhdmlvciBvZiB0aGUgYmluZGluZ0RlZiBtZXRob2RzLgoKICAgICAgc2hpbnlCaW5kaW5nLmZpbmQgPSBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gYmluZGluZ0RlZi5maW5kKHNjb3BlKTsKCiAgICAgICAgLy8gT25seSByZXR1cm4gZWxlbWVudHMgdGhhdCBhcmUgU2hpbnkgb3V0cHV0cywgbm90IHN0YXRpYyBvbmVzCiAgICAgICAgdmFyIGR5bmFtaWNSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoIi5odG1sLXdpZGdldC1vdXRwdXQiKTsKCiAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdoYXRldmVyIGNhdXNlZCBTaGlueSB0byB0aGluayB0aGVyZSBtaWdodCBiZQogICAgICAgIC8vIG5ldyBkeW5hbWljIG91dHB1dHMsIGFsc28gY2F1c2VkIHRoZXJlIHRvIGJlIG5ldyBzdGF0aWMgb3V0cHV0cy4KICAgICAgICAvLyBTaW5jZSB0aGVyZSBtaWdodCBiZSBsb3RzIG9mIGRpZmZlcmVudCBodG1sd2lkZ2V0cyBiaW5kaW5ncywgd2UKICAgICAgICAvLyBzY2hlZHVsZSBleGVjdXRpb24gZm9yIGxhdGVyLS1ubyBuZWVkIHRvIHN0YXRpY1JlbmRlciBtdWx0aXBsZQogICAgICAgIC8vIHRpbWVzLgogICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAhPT0gZHluYW1pY1Jlc3VsdHMubGVuZ3RoKQogICAgICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXIoKTsKCiAgICAgICAgcmV0dXJuIGR5bmFtaWNSZXN1bHRzOwogICAgICB9OwoKICAgICAgLy8gV3JhcCByZW5kZXJWYWx1ZSB0byBoYW5kbGUgaW5pdGlhbGl6YXRpb24sIHdoaWNoIHVuZm9ydHVuYXRlbHkgaXNuJ3QKICAgICAgLy8gc3VwcG9ydGVkIG5hdGl2ZWx5IGJ5IFNoaW55IGF0IHRoZSB0aW1lIG9mIHRoaXMgd3JpdGluZy4KCiAgICAgIHNoaW55QmluZGluZy5yZW5kZXJWYWx1ZSA9IGZ1bmN0aW9uKGVsLCBkYXRhKSB7CiAgICAgICAgU2hpbnkucmVuZGVyRGVwZW5kZW5jaWVzKGRhdGEuZGVwcyk7CiAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBkYXRhLmV2YWxzICYmIGkgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2ldKTsKICAgICAgICB9CiAgICAgICAgaWYgKCFiaW5kaW5nRGVmLnJlbmRlck9uTnVsbFZhbHVlKSB7CiAgICAgICAgICBpZiAoZGF0YS54ID09PSBudWxsKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJpbmhlcml0IjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgIGluaXRTaXppbmcoZWwpOwoKICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiLCB0cnVlKTsKICAgICAgICAgIGlmIChiaW5kaW5nRGVmLmluaXRpYWxpemUpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJpbmRpbmdEZWYuaW5pdGlhbGl6ZShlbCwgZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJpbmRpbmdEZWYucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSwgW2VsLCBkYXRhLnhdKTsKICAgICAgfTsKCiAgICAgIC8vIE9ubHkgb3ZlcnJpZGUgcmVzaXplIGlmIGJpbmRpbmdEZWYgaW1wbGVtZW50cyBpdAogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsKICAgICAgICBzaGlueUJpbmRpbmcucmVzaXplID0gZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgIC8vIFNoaW55IGNhbiBjYWxsIHJlc2l6ZSBiZWZvcmUgaW5pdGlhbGl6ZS9yZW5kZXJWYWx1ZSBoYXZlIGJlZW4KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLgogICAgICAgICAgaWYgKGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgICBiaW5kaW5nRGVmLnJlc2l6ZShlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBTaGlueS5vdXRwdXRCaW5kaW5ncy5yZWdpc3RlcihzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYubmFtZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7CiAgICBpZiAoIXNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCkgewogICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9LCAxKTsKICAgIH0KICB9CgogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZwogIC8vIFN0YXRpY2FsbHkgcmVuZGVyIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGlzIHdpZGdldCdzIGNsYXNzCiAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7CiAgICAgIHZhciBtYXRjaGVzID0gYmluZGluZy5maW5kKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgc2l6ZU9iaiA9IGluaXRTaXppbmcoZWwsIGJpbmRpbmcpOwoKICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAiIGh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCI7CgogICAgICAgIHZhciBpbml0UmVzdWx0OwogICAgICAgIGlmIChiaW5kaW5nLmluaXRpYWxpemUpIHsKICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICk7CiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgaW5pdFJlc3VsdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmluZGluZy5yZXNpemUpIHsKICAgICAgICAgIHZhciBsYXN0U2l6ZSA9IHsKICAgICAgICAgICAgdzogc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgfTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCgogIGZ1bmN0aW9uIGhhc19qUXVlcnkzKCkgewogICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciAkdmVyc2lvbiA9IHdpbmRvdy5qUXVlcnkuZm4uanF1ZXJ5OwogICAgdmFyICRtYWpvcl92ZXJzaW9uID0gcGFyc2VJbnQoJHZlcnNpb24uc3BsaXQoIi4iKVswXSk7CiAgICByZXR1cm4gJG1ham9yX3ZlcnNpb24gPj0gMzsKICB9CgogIC8qCiAgLyBTaGlueSAxLjQgYnVtcGVkIGpRdWVyeSBmcm9tIDEueCB0byAzLnggd2hpY2ggbWVhbnMgalF1ZXJ5J3MKICAvIG9uLXJlYWR5IGhhbmRsZXIgKGkuZS4sICQoZm4pKSBpcyBub3cgYXN5bmNyb25vdXMgKGkuZS4sIGl0IG5vdwogIC8gcmVhbGx5IG1lYW5zICQoc2V0VGltZW91dChmbikpLgogIC8gaHR0cHM6Ly9qcXVlcnkuY29tL3VwZ3JhZGUtZ3VpZGUvMy4wLyNicmVha2luZy1jaGFuZ2UtZG9jdW1lbnQtcmVhZHktaGFuZGxlcnMtYXJlLW5vdy1hc3luY2hyb25vdXMKICAvCiAgLyBTaW5jZSBTaGlueSB1c2VzICQoKSB0byBzY2hlZHVsZSBpbml0U2hpbnksIHNoaW55Pj0xLjQgY2FsbHMgaW5pdFNoaW55CiAgLyBvbmUgdGljayBsYXRlciB0aGFuIGl0IGRpZCBiZWZvcmUsIHdoaWNoIG1lYW5zIHN0YXRpY1JlbmRlcigpIGlzCiAgLyBjYWxsZWQgcmVuZGVyVmFsdWUoKSBlYXJsaWVyIHRoYW4gKGFkdmFuY2VkKSB3aWRnZXQgYXV0aG9ycyBtaWdodCBiZSBleHBlY3RpbmcuCiAgLyBodHRwczovL2dpdGh1Yi5jb20vcnN0dWRpby9zaGlueS9pc3N1ZXMvMjYzMAogIC8KICAvIEZvciBhIGNvbmNyZXRlIGV4YW1wbGUsIGxlYWZsZXQgaGFzIHNvbWUgbWV0aG9kcyAoZS5nLiwgdXBkYXRlQm91bmRzKQogIC8gd2hpY2ggcmVmZXJlbmNlIFNoaW55IG1ldGhvZHMgcmVnaXN0ZXJlZCBpbiBpbml0U2hpbnkgKGUuZy4sIHNldElucHV0VmFsdWUpLgogIC8gU2luY2UgbGVhZmxldCBpcyBwcml2eSB0byB0aGlzIGxpZmUtY3ljbGUsIGl0IGtub3dzIHRvIHVzZSBzZXRUaW1lb3V0KCkgdG8KICAvIGRlbGF5IGV4ZWN1dGlvbiBvZiB0aG9zZSBtZXRob2RzICh1bnRpbCBTaGlueSBtZXRob2RzIGFyZSByZWFkeSkKICAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yc3R1ZGlvL2xlYWZsZXQvYmxvYi8xOGVjOTgxL2phdmFzY3JpcHQvc3JjL2luZGV4LmpzI0wyNjYtTDI2OAogIC8KICAvIElkZWFsbHkgd2lkZ2V0IGF1dGhvcnMgd291bGRuJ3QgbmVlZCB0byB1c2UgdGhpcyBzZXRUaW1lb3V0KCkgaGFjayB0aGF0CiAgLyBsZWFmbGV0IHVzZXMgdG8gY2FsbCBTaGlueSBtZXRob2RzIG9uIGEgc3RhdGljUmVuZGVyKCkuIEluIHRoZSBsb25nIHJ1biwKICAvIHRoZSBsb2dpYyBpbml0U2hpbnkgc2hvdWxkIGJlIGJyb2tlbiB1cCBzbyB0aGF0IG1ldGhvZCByZWdpc3RyYXRpb24gaGFwcGVucwogIC8gcmlnaHQgYXdheSwgYnV0IGJpbmRpbmcgaGFwcGVucyBsYXRlci4KICAqLwogIGZ1bmN0aW9uIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKSB7CiAgICBpZiAoc2hpbnlNb2RlICYmIGhhc19qUXVlcnkzKCkpIHsKICAgICAgd2luZG93LmpRdWVyeSh3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgIH0KICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24oKSB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBhcmd1bWVudHMuY2FsbGVlLCBmYWxzZSk7CiAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgIH0sIGZhbHNlKTsKICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGFyZ3VtZW50cy5jYWxsZWUpOwogICAgICAgIG1heWJlU3RhdGljUmVuZGVyTGF0ZXIoKTsKICAgICAgfQogICAgfSk7CiAgfQoKCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEF0dGFjaG1lbnRVcmwgPSBmdW5jdGlvbihkZXBuYW1lLCBrZXkpIHsKICAgIC8vIElmIG5vIGtleSwgZGVmYXVsdCB0byB0aGUgZmlyc3QgaXRlbQogICAgaWYgKHR5cGVvZihrZXkpID09PSAidW5kZWZpbmVkIikKICAgICAga2V5ID0gMTsKCiAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlcG5hbWUgKyAiLSIgKyBrZXkgKyAiLWF0dGFjaG1lbnQiKTsKICAgIGlmICghbGluaykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkF0dGFjaG1lbnQgIiArIGRlcG5hbWUgKyAiLyIgKyBrZXkgKyAiIG5vdCBmb3VuZCBpbiBkb2N1bWVudCIpOwogICAgfQogICAgcmV0dXJuIGxpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLmRhdGFmcmFtZVRvRDMgPSBmdW5jdGlvbihkZikgewogICAgdmFyIG5hbWVzID0gW107CiAgICB2YXIgbGVuZ3RoOwogICAgZm9yICh2YXIgbmFtZSBpbiBkZikgewogICAgICAgIGlmIChkZi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkKICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgICBpZiAodHlwZW9mKGRmW25hbWVdKSAhPT0gIm9iamVjdCIgfHwgdHlwZW9mKGRmW25hbWVdLmxlbmd0aCkgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyIpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGxlbmd0aCkgIT09ICJ1bmRlZmluZWQiICYmIGxlbmd0aCAhPT0gZGZbbmFtZV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGgiKTsKICAgICAgICB9CiAgICAgICAgbGVuZ3RoID0gZGZbbmFtZV0ubGVuZ3RoOwogICAgfQogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBpdGVtOwogICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbGVuZ3RoOyByb3crKykgewogICAgICAgIGl0ZW0gPSB7fTsKICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuYW1lcy5sZW5ndGg7IGNvbCsrKSB7CiAgICAgICAgICAgIGl0ZW1bbmFtZXNbY29sXV0gPSBkZltuYW1lc1tjb2xdXVtyb3ddOwogICAgICAgIH0KICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMudHJhbnNwb3NlQXJyYXkyRCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiBhcnJheTsKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXlbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkgewogICAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbihyb3cpIHsKICAgICAgICAgICAgICByZXR1cm4gcm93W2ldCiAgICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIG5ld0FycmF5OwogIH07CiAgLy8gU3BsaXQgdmFsdWUgYXQgc3BsaXRDaGFyLCBidXQgYWxsb3cgc3BsaXRDaGFyIHRvIGJlIGVzY2FwZWQKICAvLyB1c2luZyBlc2NhcGVDaGFyLiBBbnkgb3RoZXIgY2hhcmFjdGVycyBlc2NhcGVkIGJ5IGVzY2FwZUNoYXIKICAvLyB3aWxsIGJlIGluY2x1ZGVkIGFzIHVzdWFsIChpbmNsdWRpbmcgZXNjYXBlQ2hhciBpdHNlbGYpLgogIGZ1bmN0aW9uIHNwbGl0V2l0aEVzY2FwZSh2YWx1ZSwgc3BsaXRDaGFyLCBlc2NhcGVDaGFyKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgIHZhciBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCB2YWx1ZS5sZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmICghZXNjYXBlTW9kZSkgewogICAgICAgIGlmICh2YWx1ZVtwb3NdID09PSBzcGxpdENoYXIpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlW3Bvc10gPT09IGVzY2FwZUNoYXIpIHsKICAgICAgICAgIGVzY2FwZU1vZGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIGlmIChjdXJyZW50UmVzdWx0ICE9PSAiIikgewogICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CiAgLy8gRnVuY3Rpb24gYXV0aG9yZWQgYnkgWWlodWkvSkogQWxsYWlyZQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlciA9IGZ1bmN0aW9uKG8sIG1lbWJlcikgewogICAgdmFyIHBhcnRzID0gc3BsaXRXaXRoRXNjYXBlKG1lbWJlciwgJy4nLCAnXFwnKTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07CiAgICAgIC8vIHBhcnQgbWF5IGJlIGEgY2hhcmFjdGVyIG9yICdudW1lcmljJyBtZW1iZXIgbmFtZQogICAgICBpZiAobyAhPT0gbnVsbCAmJiB0eXBlb2YgbyA9PT0gIm9iamVjdCIgJiYgcGFydCBpbiBvKSB7CiAgICAgICAgaWYgKGkgPT0gKGwgLSAxKSkgeyAvLyBpZiB3ZSBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSB0aGVuIGV2YWx1bGF0ZQogICAgICAgICAgaWYgKHR5cGVvZiBvW3BhcnRdID09PSAic3RyaW5nIikKICAgICAgICAgICAgb1twYXJ0XSA9IHRyeUV2YWwob1twYXJ0XSk7CiAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlIGNvbnRpbnVlIHRvIG5leHQgZW1iZWRkZWQgb2JqZWN0CiAgICAgICAgICBvID0gb1twYXJ0XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSZXRyaWV2ZSB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGFuCiAgLy8gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCwgb3IgbnVsbCBpZiBub25lLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGVsKSB7CiAgICByZXR1cm4gZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpOwogIH07CgogIC8vIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzY29wZSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLAogIC8vIGFuZCByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YKICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVsZW1lbnQsIGlmIGFueS4gSWYgbm8gZWxlbWVudCBtYXRjaGVzIHRoZQogIC8vIHNlbGVjdG9yLCBvciB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCBoYXMgbm8gSFRNTFdpZGdldAogIC8vIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCwgdGhlbiBudWxsIGlzIHJldHVybmVkLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIGVsID0gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoZWwgPT09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKGVsKTsKICAgIH0KICB9OwoKICAvLyBGaW5kcyBhbGwgZWxlbWVudHMgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLCBhbmQKICAvLyByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlcyAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlcyBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50cywgaW4gYW4gYXJyYXkuIElmIGVsZW1lbnRzIHRoYXQKICAvLyBtYXRjaCB0aGUgc2VsZWN0b3IgZG9uJ3QgaGF2ZSBhbiBhc3NvY2lhdGVkIEhUTUxXaWRnZXQKICAvLyBpbnN0YW5jZSwgdGhlIHJldHVybmVkIGFycmF5IHdpbGwgY29udGFpbiBudWxscy4KICAvLwogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4KICB3aW5kb3cuSFRNTFdpZGdldHMuZmluZEFsbCA9IGZ1bmN0aW9uKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICBzZWxlY3RvciA9IHNjb3BlOwogICAgICBzY29wZSA9IGRvY3VtZW50OwogICAgfQoKICAgIHZhciBub2RlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0cy5wdXNoKHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShub2Rlc1tpXSkpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgdmFyIHBvc3RSZW5kZXJIYW5kbGVycyA9IFtdOwogIGZ1bmN0aW9uIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpIHsKICAgIHdoaWxlIChwb3N0UmVuZGVySGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgIHZhciBoYW5kbGVyID0gcG9zdFJlbmRlckhhbmRsZXJzLnNoaWZ0KCk7CiAgICAgIGlmIChoYW5kbGVyKSB7CiAgICAgICAgaGFuZGxlcigpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZWdpc3RlciB0aGUgZ2l2ZW4gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUKICAvLyBuZXh0IHRpbWUgc3RhdGljIHdpZGdldHMgYXJlIHJlbmRlcmVkLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5hZGRQb3N0UmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICBwb3N0UmVuZGVySGFuZGxlcnMucHVzaChjYWxsYmFjayk7CiAgfTsKCiAgLy8gVGFrZXMgYSBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbiwgYW5kIHJldHVybnMgYW4KICAvLyBvbGQtc3R5bGUgY2xhc3MtYm91bmQgZGVmaW5pdGlvbi4gVGhpcyBzYXZlcyB1cyBmcm9tIGhhdmluZwogIC8vIHRvIHJld3JpdGUgYWxsIHRoZSBsb2dpYyBpbiB0aGlzIGZpbGUgdG8gYWNjb21vZGF0ZSBib3RoCiAgLy8gdHlwZXMgb2YgZGVmaW5pdGlvbnMuCiAgZnVuY3Rpb24gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmbikgewogICAgdmFyIHJlc3VsdCA9IHsKICAgICAgbmFtZTogZGVmbi5uYW1lLAogICAgICB0eXBlOiBkZWZuLnR5cGUsCiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgcmV0dXJuIGRlZm4uZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0sCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyVmFsdWUoeCk7CiAgICAgIH0sCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQsIGluc3RhbmNlKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgfQogICAgfTsKCiAgICBpZiAoZGVmbi5maW5kKQogICAgICByZXN1bHQuZmluZCA9IGRlZm4uZmluZDsKICAgIGlmIChkZWZuLnJlbmRlckVycm9yKQogICAgICByZXN1bHQucmVuZGVyRXJyb3IgPSBkZWZuLnJlbmRlckVycm9yOwogICAgaWYgKGRlZm4uY2xlYXJFcnJvcikKICAgICAgcmVzdWx0LmNsZWFyRXJyb3IgPSBkZWZuLmNsZWFyRXJyb3I7CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cn0pKCk7Cgo="></script>
<script src="data:application/x-javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ21hcGRlY2snLAogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIHJldHVybiB7CgogICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oeCkgewoKICAgICAgCW1kX3NldHVwX3dpbmRvdyggZWwuaWQgKTsKCgkJCQlpZiggeC5zaG93X3ZpZXdfc3RhdGUgKSB7CiAgICAgIAkgIG1kX3NldHVwX3ZpZXdfc3RhdGUoIGVsLmlkICk7CiAgICAgIAkgIHdpbmRvd1tlbC5pZCArICdtYXBWaWV3U3RhdGUnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdpZCcsIGVsLmlkICsgJ21hcFZpZXdTdGF0ZScpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdjbGFzcycsICdtYXBWaWV3U3RhdGUnKTsKICAgICAgCSAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBWaWV3U3RhdGVDb250YWluZXIiK2VsLmlkKTsKICAgIAkJCW1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10gKTsKCQkJCX0KCiAgICAgICAgLy8gSU5JVElBTCBWSUVXCiAgICAgICAgd2luZG93W2VsLmlkICsgJ0lOSVRJQUxfVklFV19TVEFURSddID0gewogICAgICAgIAlsb25naXR1ZGU6IHgubG9jYXRpb25bMF0sCiAgICAgICAgCWxhdGl0dWRlOiB4LmxvY2F0aW9uWzFdLAogICAgICAgIAl6b29tOiB4Lnpvb20sCiAgICAgICAgCXBpdGNoOiB4LnBpdGNoLAogICAgICAgIAliZWFyaW5nOiB4LmJlYXJpbmcsCiAgICAgICAgCW1heFpvb206IHgubWF4X3pvb20sCiAgICAgICAJIAltaW5ab29tOiB4Lm1pbl96b29tLAogICAgICAgCSAJbWF4UGl0Y2g6IHgubWF4X3BpdGNoLAogICAgICAgCSAJbWluUGl0Y2g6IHgubWluX3BpdGNoCiAgICAgICAgfTsKCiAgICAgICBpZiggeC5hY2Nlc3NfdG9rZW4gPT09IG51bGwgKSB7CiAgICAgICAJIGNvbnN0IGRlY2tnbCA9IG5ldyBkZWNrLkRlY2tHTCh7CiAgICAgICAJIAkgIHZpZXdzOiBbIG5ldyBkZWNrLk1hcFZpZXcoewogICAgICAgCSAJICAJaWQ6IGVsLmlkLAogICAgICAgCSAJICAJcmVwZWF0OiB4LnJlcGVhdF92aWV3CiAgICAgICAJIAkgIAl9KSBdLAogICAgICAgCSAJICBtYXA6IGZhbHNlLAoJCQkgICAgICBjb250YWluZXI6IGVsLmlkLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUKCQkJICAgICAgLy9vbkxheWVySG92ZXI6IHNldFRvb2x0aXAKCQkJICAgfSk7CgkJCSAgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKICAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZGVja2dsID0gbmV3IGRlY2suRGVja0dMKHsKICAgICAgICAJICB2aWV3czogWyBuZXcgZGVjay5NYXBWaWV3KHsKICAgICAgICAJICAJaWQ6IGVsLmlkLAogICAgICAgIAkgIAlyZXBlYXQ6IHgucmVwZWF0X3ZpZXcKICAgICAgICAJICAJfSkgXSwKICAgICAgICAgIAltYXBib3hBcGlBY2Nlc3NUb2tlbjogeC5hY2Nlc3NfdG9rZW4sCgkJCSAgICAgIGNvbnRhaW5lcjogZWwuaWQsCgkJCSAgICAgIG1hcFN0eWxlOiB4LnN0eWxlLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUsCgkJCSAgICAgIC8vb25MYXllckhvdmVyOiBzZXRUb29sdGlwCgkJCSAgICAgIG9uVmlld1N0YXRlQ2hhbmdlOiAoe3ZpZXdJZCwgdmlld1N0YXRlLCBpbnRlcmFjdGlvblN0YXRlfSkgPT4gewoKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmICF4LnNob3dfdmlld19zdGF0ZSApIHsgcmV0dXJuOyB9CgkJCQkJCQkvLyBhcyBwZXI6CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL2lzc3Vlcy8zMzQ0CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vU3ltYm9saXhBVS9tYXBkZWNrL2lzc3Vlcy8yMTEKCQkJICAgICAgCWNvbnN0IHZpZXdwb3J0ID0gbmV3IGRlY2suV2ViTWVyY2F0b3JWaWV3cG9ydCh2aWV3U3RhdGUpOwogIAkJCQkJCWNvbnN0IG53ID0gdmlld3BvcnQudW5wcm9qZWN0KFswLCAwXSk7CiAgCQkJCQkJY29uc3Qgc2UgPSB2aWV3cG9ydC51bnByb2plY3QoW3ZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHRdKTsKCiAgCQkJCQkJY29uc3QgdyA9IG53WzBdIDwgLTE4MCA/IC0xODAgOiAoIG53WzBdID4gMTgwID8gMTgwIDogbndbMF0gKTsKICAJCQkJCQljb25zdCBuID0gbndbMV0gPCAtOTAgPyAtOTAgOiAoIG53WzFdID4gOTAgPyA5MCA6IG53WzFdICk7CgogIAkJCQkJCWNvbnN0IGUgPSBzZVswXSA8IC0xODAgPyAtMTgwIDogKCBzZVswXSA+IDE4MCA/IDE4MCA6IHNlWzBdICk7CiAgCQkJCQkJY29uc3QgcyA9IHNlWzFdIDwgLTkwID8gLTkwIDogKCBzZVsxXSA+IDkwID8gOTAgOiBzZVsxXSApOwoKICAJCQkJCQl2aWV3U3RhdGUudmlld0lkID0gdmlld0lkOwoKCQkJCQkJCXZpZXdTdGF0ZS52aWV3Qm91bmRzID0gewogIAkJCQkJCQlub3J0aDogbiwgLy9ud1sxXSwKICAJCQkJCQkJZWFzdDogIGUsIC8vc2VbMF0sCiAgCQkJCQkJCXNvdXRoOiBzLCAvL3NlWzFdLAogIAkJCQkJCQl3ZXN0OiAgdyAvL253WzBdCiAgCQkJCQkJfTsKICAJCQkJCQl2aWV3U3RhdGUuaW50ZXJhY3Rpb25TdGF0ZSA9IGludGVyYWN0aW9uU3RhdGU7CgogIAkJCQkJCWlmKCB4LnNob3dfdmlld19zdGF0ZSApIHsKICAJCQkJCQkJdmFyIHZzID0gSlNPTi5zdHJpbmdpZnkoIHZpZXdTdGF0ZSApOwogIAkJCQkJCQkvL2NvbnNvbGUubG9nKCB2cyApOwogIAkJCQkJCQl3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uaW5uZXJIVE1MID0gdnM7CiAgCQkJCQkJfQoKICAJCQkJCQlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSApIHsgcmV0dXJuOyB9CgoJCQkJCQkgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX3ZpZXdfY2hhbmdlJywgdmlld1N0YXRlKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnU3RhcnQoaW5mbywgZXZlbnQpewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAkvL2lmKCBpbmZvLmxheWVyICE9PSBudWxsICkgeyBpbmZvLmxheWVyID0gbnVsbDsgfSAgLy8gZHJhZ2dpbmcgYSBsYXllcjsKCQkJICAgICAgCWluZm8ubGF5ZXIgPSB1bmRlZmluZWQ7IC8vIGluIGNhc2Ugb2YgZHJhZ2dpbmcgYSBsYXllcgoJCQkgICAgICAJU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArJ19kcmFnX3N0YXJ0JywgaW5mbyk7CgkJCSAgICAgIH0sCgkJCSAgICAgIG9uRHJhZyhpbmZvLCBldmVudCl7CgkJCSAgICAgIAlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSkgeyByZXR1cm47IH0KCQkJICAgICAgCS8vaWYoIGluZm8ubGF5ZXIgIT09IG51bGwgKSB7IGluZm8ubGF5ZXIgPSBudWxsOyB9ICAvLyBkcmFnZ2luZyBhIGxheWVyOwoJCQkgICAgICAJaW5mby5sYXllciA9IHVuZGVmaW5lZDsgLy8gaW4gY2FzZSBvZiBkcmFnZ2luZyBhIGxheWVyCgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX2RyYWcnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnRW5kKGluZm8sIGV2ZW50KXsKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7IHJldHVybjsgfQoJCQkgICAgICAJLy9pZiggaW5mby5sYXllciAhPT0gbnVsbCApIHsgaW5mby5sYXllciA9IG51bGw7IH0gIC8vIGRyYWdnaW5nIGEgbGF5ZXI7CgkJCSAgICAgIAlpbmZvLmxheWVyID0gdW5kZWZpbmVkOyAvLyBpbiBjYXNlIG9mIGRyYWdnaW5nIGEgbGF5ZXIKCQkJICAgICAgCVNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKydfZHJhZ19lbmQnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25SZXNpemUoc2l6ZSkgewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX3Jlc2l6ZScsIHNpemUpOwoJCQkgICAgICB9CgkJCSAgfSk7CgoJCQkgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKCiAgICAgICB9CgkJCSAgICBtZF9pbml0aWFsaXNlX21hcChlbCwgeCk7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemUKICAgICAgfQogICAgfTsKICB9Cn0pOwoKCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoIm1hcGRlY2ttYXAtY2FsbHMiLCBmdW5jdGlvbiAoZGF0YSkgewoKICAJLy9jb25zb2xlLmxvZyggIm1hcGRlY2ttYXAtY2FsbHMiICk7CgogICAgdmFyIGlkID0gZGF0YS5pZCwgICAvLyB0aGUgZGl2IGlkIG9mIHRoZSBtYXAKICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksCiAgICAgIG1hcCA9IGVsLAogICAgICBjYWxsID0gW10sCiAgICAgIGkgPSAwOwoKICAgIGlmICghbWFwKSB7CiAgICAgIC8vY29uc29sZS5sb2coIkNvdWxkbid0IGZpbmQgbWFwIHdpdGggaWQgIiArIGlkKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmNhbGxzLmxlbmd0aDsgaSsrKSB7CgogICAgICBjYWxsID0gZGF0YS5jYWxsc1tpXTsKCiAgICAgIC8vcHVzaCB0aGUgbWFwSWQgaW50byB0aGUgY2FsbC5hcmdzCiAgICAgIGNhbGwuYXJncy51bnNoaWZ0KGlkKTsKCiAgICAgIGlmIChjYWxsLmRlcGVuZGVuY2llcykgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhjYWxsLmRlcGVuZGVuY2llcyk7CiAgICAgIH0KCiAgICAgIGlmICh3aW5kb3dbY2FsbC5tZXRob2RdKSB7CiAgICAgICAgd2luZG93W2NhbGwubWV0aG9kXS5hcHBseSh3aW5kb3dbaWQgKyAnbWFwJ10sIGNhbGwuYXJncyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9jb25zb2xlLmxvZygiVW5rbm93biBmdW5jdGlvbiAiICsgY2FsbC5tZXRob2QpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCg=="></script>
<script src="data:application/x-javascript;base64,ZnVuY3Rpb24gbWRfc2V0dXBfd2luZG93KCBtYXBfaWQgKSB7CgoJbWRfc2V0dXBfd2luZG93X29iamVjdHMoIG1hcF9pZCApOwogIG1kX3NldHVwX21hcGRlY2tfZGl2KCBtYXBfaWQgKTsKCiAgbWRfc2V0dXBfbGVnZW5kKCBtYXBfaWQgKTsKICBtZF9zZXR1cF90aXRsZSggbWFwX2lkICk7CiAgbWRfc2V0dXBfdmlld19zdGF0ZSggbWFwX2lkICk7CiAgbWRfc2V0dXBfdG9vbHRpcCggbWFwX2lkICk7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX3dpbmRvd19vYmplY3RzKCBtYXBfaWQgKSB7Cgl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddID0gW107IC8vIGtlZXAgdHJhY2sgb2YgbGF5ZXJzIGZvciBvdmVybGF5aW5nIG11bHRpcGxlCiAgd2luZG93W21hcF9pZCArICdsZWdlbmRQb3NpdGlvbnMnXSA9IFtdOyAgICAgLy8gYXJyYXkgZm9yIGtlZXBpbmcgYSByZWZlcmVuZSB0byBsZWdlbmQgcG9zaXRpb25zCiAgd2luZG93W21hcF9pZCArICdtYXBUaXRsZVBvc2l0aW9ucyddID0gW107CiAgd2luZG93W21hcF9pZCArICdtYXBkZWNrQm91bmRzJ10gPSBbXTsgICAgICAgLy8gc3RvcmUgdGhlIGJvdW5kaW5nIGJveCBvZiBlYWNoIGxheWVyCiAgd2luZG93W21hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwogIHdpbmRvd1ttYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddID0gMDsKfQoKZnVuY3Rpb24gbWRfc2V0dXBfbWFwZGVja19kaXYoIG1hcF9pZCApIHsKCXZhciBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXBfaWQpOwogIG1hcERpdi5jbGFzc05hbWUgPSAnbWFwZGVja21hcCc7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX2xlZ2VuZCggbWFwX2lkICkgewoJdmFyIG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hcF9pZCk7Cgl2YXIgbGVnZW5kQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgbGVnZW5kQ29udGFpbmVyLmNsYXNzTmFtZSA9ICJsZWdlbmRDb250YWluZXIiOwogIGxlZ2VuZENvbnRhaW5lci5pZCA9ICJsZWdlbmRDb250YWluZXIiK21hcF9pZDsKICBtYXBEaXYuYXBwZW5kQ2hpbGQoIGxlZ2VuZENvbnRhaW5lciApOwp9CgpmdW5jdGlvbiBtZF9zZXR1cF90aXRsZSggbWFwX2lkICkgewoJdmFyIG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hcF9pZCk7Cgl2YXIgbWFwVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBtYXBUaXRsZS5jbGFzc05hbWUgPSAibWFwVGl0bGVDb250YWluZXIiOwogIG1hcFRpdGxlLmlkID0gIm1hcFRpdGxlQ29udGFpbmVyIittYXBfaWQ7CiAgbWFwRGl2LmFwcGVuZENoaWxkKCBtYXBUaXRsZSApOwp9CgpmdW5jdGlvbiBtZF9zZXR1cF92aWV3X3N0YXRlKCBtYXBfaWQgKSB7Cgl2YXIgbWFwRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWFwX2lkKTsKCXZhciBtYXBWaWV3U3RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBtYXBWaWV3U3RhdGUuY2xhc3NOYW1lID0gIm1hcFZpZXdTdGF0ZUNvbnRhaW5lciI7CiAgbWFwVmlld1N0YXRlLmlkID0gIm1hcFZpZXdTdGF0ZUNvbnRhaW5lciIrbWFwX2lkOwogIG1hcERpdi5hcHBlbmRDaGlsZCggbWFwVmlld1N0YXRlICk7Cn0KCmZ1bmN0aW9uIG1kX3NldHVwX3Rvb2x0aXAoIG1hcF9pZCApIHsKCXZhciBtYXBEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXBfaWQpOwoJdmFyIHRvb2x0aXBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICB0b29sdGlwZGl2LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAibWFwZGVja3Rvb2x0aXAiKTsKICB0b29sdGlwZGl2LnNldEF0dHJpYnV0ZSgiaWQiLCAibWFwZGVja3Rvb2x0aXAiK21hcF9pZCk7CiAgbWFwRGl2LmFwcGVuZENoaWxkKHRvb2x0aXBkaXYpOwp9CgpmdW5jdGlvbiBtZF9kaXZfZXhpc3RzKCBkaXZfZWxlbWVudCApIHsKCWlmKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGRpdl9lbGVtZW50ICkgKSB7CgkJcmV0dXJuKCBmYWxzZSApOwoJfQoJcmV0dXJuKCB0cnVlICk7Cn0KCi8vIGZvbGxvd2luZzogaHR0cHM6Ly9jb2RlcGVuLmlvL3Zpcy1nbC9wZW4vcExMUXBOCi8vIGFuZDogaHR0cHM6Ly9iZXRhLm9ic2VydmFibGVocS5jb20vQHBlc3NpbWlzdHJlc3MvZGVjay1nbC1nZW9qc29ubGF5ZXItZXhhbXBsZQpmdW5jdGlvbiBtZF91cGRhdGVfdG9vbHRpcCh7eCwgeSwgb2JqZWN0LCBsYXllciwgaW5kZXh9KSB7CiAgICAvLyBvYmplY3QgaXMgdGhlIGRhdGEgb2JqZWN0IHNlbnQgdG8gdGhlIGxheWVyIGZ1bmN0aW9uCgogIGlmKCAhbWRfZGl2X2V4aXN0cyggJ21hcGRlY2t0b29sdGlwJytsYXllci5wcm9wcy5tYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfdG9vbHRpcCggbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgfQoKICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcGRlY2t0b29sdGlwJytsYXllci5wcm9wcy5tYXBfaWQpOwogIHZhciB0dDsKCiAgaWYgKG9iamVjdCkgewogIAlpZiggb2JqZWN0LnByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCApIHsKCSAgCWlmICggb2JqZWN0LnByb3BlcnRpZXMudG9vbHRpcCAhPT0gdW5kZWZpbmVkICkgewoJICAJICB0dCA9IG9iamVjdC5wcm9wZXJ0aWVzLnRvb2x0aXA7CgkgIAl9IGVsc2UgewoJICAJCXJldHVybjsKCSAgCX0KCSAgfSBlbHNlIGlmICggb2JqZWN0LnRvb2x0aXAgIT09IHVuZGVmaW5lZCApIHsKCSAgCXR0ID0gb2JqZWN0LnRvb2x0aXA7CgkgIH0gZWxzZSB7CgkgIAlyZXR1cm47CgkgIH0KCiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDsKICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IGAke3h9cHhgOwogICAgdG9vbHRpcC5pbm5lckhUTUwgPSBgPGRpdj4ke3R0fTwvZGl2PmA7CiAgfSBlbHNlIHsKICAJdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgdG9vbHRpcC5pbm5lckhUTUwgPSAnJzsKICB9Cn0KCmZ1bmN0aW9uIG1kX3VwZGF0ZV9iaW5hcnlfdG9vbHRpcChsYXllciwgaWR4LCB4LCB5KSB7CgoJaWYoICFtZF9kaXZfZXhpc3RzKCAnbWFwZGVja3Rvb2x0aXAnKyBsYXllci5wcm9wcy5tYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfdG9vbHRpcCggbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgfQoKICBjb25zdCB0b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdtYXBkZWNrdG9vbHRpcCcrbGF5ZXIucHJvcHMubWFwX2lkICk7CiAgdmFyIHR0OwoKCSAgaWYoIGxheWVyLnByb3BzLmRhdGEudG9vbHRpcCAmJiBpZHggPj0gMCApIHsKCSAgCXR0ID0gbGF5ZXIucHJvcHMuZGF0YS50b29sdGlwWyBpZHggXTsKCSAgCXRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgkgICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDsKCSAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHt4fXB4YDsKCSAgICB0b29sdGlwLmlubmVySFRNTCA9IGA8ZGl2PiR7dHR9PC9kaXY+YDsKCSAgfSBlbHNlIHsKICAgIAl0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgkgICAgdG9vbHRpcC5pbm5lckhUTUwgPSAnJzsKICB9Cgp9CgoKZnVuY3Rpb24gbWRfaW5pdGlhbGlzZV9tYXAoZWwsIHgpIHsKCgkvLyBjYWxsIGluaXRpYWwgbGF5ZXJzCiAgaWYgKHguY2FsbHMgIT09IHVuZGVmaW5lZCkgewoKICAgIGZvciAobGF5ZXJDYWxscyA9IDA7IGxheWVyQ2FsbHMgPCB4LmNhbGxzLmxlbmd0aDsgbGF5ZXJDYWxscysrKSB7CgogICAgICAvL3B1c2ggdGhlIG1hcF9pZCBpbnRvIHRoZSBjYWxsLmFyZ3MKICAgICAgeC5jYWxsc1tsYXllckNhbGxzXS5hcmdzLnVuc2hpZnQoZWwuaWQpOwoKICAgICAgaWYgKHdpbmRvd1t4LmNhbGxzW2xheWVyQ2FsbHNdLmZ1bmN0aW9uc10pIHsKCiAgICAgICAgd2luZG93W3guY2FsbHNbbGF5ZXJDYWxsc10uZnVuY3Rpb25zXS5hcHBseSh3aW5kb3dbZWwuaWQgKyAnbWFwJ10sIHguY2FsbHNbbGF5ZXJDYWxsc10uYXJncyk7CgogICAgICB9IGVsc2UgewogICAgICAgIC8vY29uc29sZS5sb2coIlVua25vd24gZnVuY3Rpb24gIiArIHguY2FsbHNbbGF5ZXJDYWxsc10pOwogICAgICB9CiAgICB9CiAgfQoKfQoKCgpmdW5jdGlvbiBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KGFycmF5LCBrZXksIHZhbHVlICkgewogICAgZm9yICggdmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXJyYXlbaV1ba2V5XSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIC0xOwp9CgpmdW5jdGlvbiBtZF9sYXllcl9jbGVhciggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxheWVyICkgewoKICBpZiggbWFwX3R5cGUgPT0gIm1hcGRlY2siICkgewoJCW1kX2NsZWFyX2xheWVyKCBtYXBfaWQsIGxheWVyKyctJytsYXllcl9pZCApOwogIH0gZWxzZSBpZiAoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIiApIHsKICAJbWRfY2xlYXJfb3ZlcmxheSggbWFwX2lkLCBsYXllcisnLScrbGF5ZXJfaWQgKTsKICB9CgogIG1kX3JlbW92ZV9mcm9tX2JvdW5kcyggbWFwX2lkLCBsYXllcl9pZCApOwoJbWRfdXBkYXRlX2xvY2F0aW9uKCBtYXBfaWQsIG1hcF90eXBlICk7CgltZF9jbGVhcl9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkICk7Cn0KCgpmdW5jdGlvbiBtZF91cGRhdGVfbGF5ZXIoIG1hcF9pZCwgbGF5ZXJfaWQsIGxheWVyICkgewoKCWNvbnNvbGUubG9nKCBsYXllcl9pZCApOwoKICB2YXIgZWxlbSA9IG1kX2ZpbmRPYmplY3RFbGVtZW50QnlLZXkoIHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10ucHJvcHMubGF5ZXJzLCAnaWQnLCBsYXllcl9pZCApOwogIGlmICggZWxlbSAhPSAtMSApIHsKICAJd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJ11bZWxlbV0gPSBsYXllcjsKICB9IGVsc2UgewogIAl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddLnB1c2goIGxheWVyICk7CiAgfQoKICAvLyAjIyBpc3N1ZSAxMzcKICAvL3ZhciB2cyA9IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZTsKCiAgd2luZG93W21hcF9pZCArICdtYXAnXS5zZXRQcm9wcyh7CiAgCWxheWVyczogWy4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXQogIAkvL3ZpZXdTdGF0ZTogdnMgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc3N1ZSAyMzkgLSB2aWV3U3RhdGUgbm8gbG9uZ2VyIHN1cHBvcnRlZCBpbiBkZWNrLmdsIHY4LjAuOAogIH0pOwp9CgpmdW5jdGlvbiBtZF9jbGVhcl9sYXllciggbWFwX2lkLCBsYXllcl9pZCApIHsKCiAgdmFyIGVsZW0gPSBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KCB3aW5kb3dbbWFwX2lkICsgJ21hcCddLnByb3BzLmxheWVycywgJ2lkJywgbGF5ZXJfaWQpOwoKICBpZiAoIGVsZW0gIT0gLTEgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycyddLnNwbGljZSggZWxlbSwgMSApOwogIH0KCiAgLy8gIyMgaXNzdWUgMTM3CiAgLy92YXIgdnMgPSB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGU7CiAgd2luZG93W21hcF9pZCArICdtYXAnXS5zZXRQcm9wcyh7CiAgCWxheWVyczogWy4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXQogIAkvL3ZpZXdTdGF0ZTogdnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNzdWUgMjM5ICYgMjg2CiAgfSk7Cn0KCgpmdW5jdGlvbiBtZF91cGRhdGVfb3ZlcmxheSggbWFwX2lkLCBsYXllcl9pZCwgbGF5ZXIgKSB7CgogIGlmICggd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJyBdID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycycgXSA9IFtdOwogIH0KCiAgaWYgKCB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ0dvb2dsZU1hcHNPdmVybGF5J10gPSBuZXcgZGVjay5Hb29nbGVNYXBzT3ZlcmxheSgpOwogIH0KCgl2YXIgZWxlbSA9IG1kX2ZpbmRPYmplY3RFbGVtZW50QnlLZXkoIHdpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10sICdpZCcsIGxheWVyX2lkICk7CgogIGlmICggZWxlbSAhPSAtMSApIHsKICAJd2luZG93WyBtYXBfaWQgKyAnbGF5ZXJzJ11bZWxlbV0gPSBsYXllcjsKICB9IGVsc2UgewogIAl3aW5kb3dbbWFwX2lkICsgJ2xheWVycyddLnB1c2goIGxheWVyICk7CiAgfQoKICB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddLnNldFByb3BzKHsgbGF5ZXJzOiBbIC4uLndpbmRvd1ttYXBfaWQgKyAnbGF5ZXJzJ10gXSB9KTsKICBjb25zdCBvdmVybGF5ID0gd2luZG93WyBtYXBfaWQgKyAnR29vZ2xlTWFwc092ZXJsYXknXTsKICBvdmVybGF5LnNldE1hcCggd2luZG93W21hcF9pZCArICdtYXAnXSApOwp9CgoKZnVuY3Rpb24gbWRfY2xlYXJfb3ZlcmxheSggbWFwX2lkLCBsYXllcl9pZCApIHsKCXZhciBlbGVtID0gbWRfZmluZE9iamVjdEVsZW1lbnRCeUtleSggd2luZG93W21hcF9pZCArICdsYXllcnMnXSwgJ2lkJywgbGF5ZXJfaWQgKTsKCWlmKCBlbGVtICE9IC0xICkgewoJCXdpbmRvd1sgbWFwX2lkICsgJ2xheWVycyddLnNwbGljZSggZWxlbSwgMSApOwoJfQoKCXdpbmRvd1sgbWFwX2lkICsgJ0dvb2dsZU1hcHNPdmVybGF5J10uc2V0UHJvcHMoeyBsYXllcnM6IFsgLi4ud2luZG93W21hcF9pZCArICdsYXllcnMnXSBdIH0pOwogIGNvbnN0IG92ZXJsYXkgPSB3aW5kb3dbIG1hcF9pZCArICdHb29nbGVNYXBzT3ZlcmxheSddOwogIG92ZXJsYXkuc2V0TWFwKCB3aW5kb3dbbWFwX2lkICsgJ21hcCddICk7Cgp9CgpmdW5jdGlvbiBtZF9sYXllcl9jbGljayggbWFwX2lkLCBsYXllciwgaW5mbyApIHsKCiAgaWYgKCAhSFRNTFdpZGdldHMuc2hpbnlNb2RlICkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIGV2ZW50SW5mbyA9IHsKICAJaW5kZXg6IGluZm8uaW5kZXgsCiAgCWNvbG9yOiBpbmZvLmNvbG9yLAogIAlvYmplY3Q6IGluZm8ub2JqZWN0LAogIAlsYXllcklkOiBpbmZvLmxheWVyX2lkLAogIAlsYXQ6IGluZm8ubG5nTGF0WzFdLAogIAlsb246IGluZm8ubG5nTGF0WzBdCiAgfTsKCiAgZXZlbnRJbmZvID0gSlNPTi5zdHJpbmdpZnkoIGV2ZW50SW5mbyApOwogIFNoaW55Lm9uSW5wdXRDaGFuZ2UobWFwX2lkICsgIl8iICsgbGF5ZXIgKyAiX2NsaWNrIiwgZXZlbnRJbmZvKTsKfQoKCgoKCg=="></script>
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoImgzIikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiaDMiXSx0KToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5kZWNrPXQocmVxdWlyZSgiaDMiKSk6ZS5kZWNrPXQoZS5oMyl9KHdpbmRvdywoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBpPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQscil7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmIm9iamVjdCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJiJzdHJpbmciIT10eXBlb2YgZSlmb3IodmFyIGkgaW4gZSluLmQocixpLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LCJhIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD0iIixuKG4ucz0yMjUpfShbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1Mik7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiByLmJ9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiByLmN9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiByLmR9KSksbi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiByLmV9KSksbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiByLmZ9KSksbi5kKHQsImciLChmdW5jdGlvbigpe3JldHVybiByLmd9KSksbi5kKHQsImgiLChmdW5jdGlvbigpe3JldHVybiByLmh9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiByLml9KSksbi5kKHQsImoiLChmdW5jdGlvbigpe3JldHVybiByLmp9KSksbi5kKHQsImsiLChmdW5jdGlvbigpe3JldHVybiByLmt9KSksbi5kKHQsImwiLChmdW5jdGlvbigpe3JldHVybiByLmx9KSksbi5kKHQsIm0iLChmdW5jdGlvbigpe3JldHVybiByLm19KSksbi5kKHQsIm4iLChmdW5jdGlvbigpe3JldHVybiByLm59KSksbi5kKHQsIm8iLChmdW5jdGlvbigpe3JldHVybiByLm99KSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0JiZuKGUucHJvdG90eXBlLHQpLHImJm4oZSxyKSxlfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKHQpe3JldHVybiBlLmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSxuKHQpfWUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fWZ1bmN0aW9uIGkoZSx0LG4pe3JldHVybiB0JiZyKGUucHJvdG90eXBlLHQpLG4mJnIoZSxuKSxlfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDIzMSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM3KSxpPW4oMTcwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hdHx8Im9iamVjdCIhPT1yKHQpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9pKGUpOnR9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZyKGUsdCl9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMzQpLGk9e307ZnVuY3Rpb24gYShlLHQpe3ZhciBuO2lbZV09ITAsdm9pZCAwIT09dCYmKG49dCxyLmdsb2JhbC5jb25zb2xlJiZyLmdsb2JhbC5jb25zb2xlLmVycm9yJiZyLmdsb2JhbC5jb25zb2xlLmVycm9yKG4pKX12YXIgbz1mdW5jdGlvbiBlKHQpe3ZhciBuPXQuZ2w7dGhpcy5leHQ9dCx0aGlzLmlzQWxpdmU9ITAsdGhpcy5oYXNCZWVuQm91bmQ9ITEsdGhpcy5lbGVtZW50QXJyYXlCdWZmZXI9bnVsbCx0aGlzLmF0dHJpYnM9bmV3IEFycmF5KHQubWF4VmVydGV4QXR0cmlicyk7Zm9yKHZhciByPTA7cjx0aGlzLmF0dHJpYnMubGVuZ3RoO3IrKyl7dmFyIGk9bmV3IGUuVmVydGV4QXR0cmliKG4pO3RoaXMuYXR0cmlic1tyXT1pfXRoaXMubWF4QXR0cmliPTB9OyhvLlZlcnRleEF0dHJpYj1mdW5jdGlvbihlKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5idWZmZXI9bnVsbCx0aGlzLnNpemU9NCx0aGlzLnR5cGU9NTEyNix0aGlzLm5vcm1hbGl6ZWQ9ITEsdGhpcy5zdHJpZGU9MTYsdGhpcy5vZmZzZXQ9MCx0aGlzLmNhY2hlZD0iIix0aGlzLnJlY2FjaGUoKX0pLnByb3RvdHlwZS5yZWNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5jYWNoZWQ9W3RoaXMuc2l6ZSx0aGlzLnR5cGUsdGhpcy5ub3JtYWxpemVkLHRoaXMuc3RyaWRlLHRoaXMub2Zmc2V0XS5qb2luKCI6Iil9O3ZhciBzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5nbD1lLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RXJyb3I7ZS5nZXRFcnJvcj1mdW5jdGlvbigpe3ZhciBuO2RvezAhPT0obj10LmFwcGx5KGUpKSYmKGlbbl09ITApfXdoaWxlKDAhPT1uKTtmb3IobiBpbiBpKWlmKGlbbl0pcmV0dXJuIGRlbGV0ZSBpW25dLHBhcnNlSW50KG4sMTApO3JldHVybiAwfX0oZSk7dmFyIG49dGhpcy5vcmlnaW5hbD17Z2V0UGFyYW1ldGVyOmUuZ2V0UGFyYW1ldGVyLGVuYWJsZVZlcnRleEF0dHJpYkFycmF5OmUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXksZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5OmUuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5LGJpbmRCdWZmZXI6ZS5iaW5kQnVmZmVyLGdldFZlcnRleEF0dHJpYjplLmdldFZlcnRleEF0dHJpYix2ZXJ0ZXhBdHRyaWJQb2ludGVyOmUudmVydGV4QXR0cmliUG9pbnRlcn07ZS5nZXRQYXJhbWV0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10LlZFUlRFWF9BUlJBWV9CSU5ESU5HX09FUz90LmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdD09PXQuZGVmYXVsdFZlcnRleEFycmF5T2JqZWN0P251bGw6dC5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q6bi5nZXRQYXJhbWV0ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5PWZ1bmN0aW9uKGUpe3ZhciByPXQuY3VycmVudFZlcnRleEFycmF5T2JqZWN0O3IubWF4QXR0cmliPU1hdGgubWF4KHIubWF4QXR0cmliLGUpO3ZhciBpPXIuYXR0cmlic1tlXTtyZXR1cm4gaS5lbmFibGVkPSEwLG4uZW5hYmxlVmVydGV4QXR0cmliQXJyYXkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheT1mdW5jdGlvbihlKXt2YXIgcj10LmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdDtyLm1heEF0dHJpYj1NYXRoLm1heChyLm1heEF0dHJpYixlKTt2YXIgaT1yLmF0dHJpYnNbZV07cmV0dXJuIGkuZW5hYmxlZD0hMSxuLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuYmluZEJ1ZmZlcj1mdW5jdGlvbihlLHIpe3N3aXRjaChlKXtjYXNlIDM0OTYyOnQuY3VycmVudEFycmF5QnVmZmVyPXI7YnJlYWs7Y2FzZSAzNDk2Mzp0LmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdC5lbGVtZW50QXJyYXlCdWZmZXI9cn1yZXR1cm4gbi5iaW5kQnVmZmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5nZXRWZXJ0ZXhBdHRyaWI9ZnVuY3Rpb24oZSxyKXt2YXIgaT10LmN1cnJlbnRWZXJ0ZXhBcnJheU9iamVjdCxhPWkuYXR0cmlic1tlXTtzd2l0Y2gocil7Y2FzZSAzNDk3NTpyZXR1cm4gYS5idWZmZXI7Y2FzZSAzNDMzODpyZXR1cm4gYS5lbmFibGVkO2Nhc2UgMzQzMzk6cmV0dXJuIGEuc2l6ZTtjYXNlIDM0MzQwOnJldHVybiBhLnN0cmlkZTtjYXNlIDM0MzQxOnJldHVybiBhLnR5cGU7Y2FzZSAzNDkyMjpyZXR1cm4gYS5ub3JtYWxpemVkO2RlZmF1bHQ6cmV0dXJuIG4uZ2V0VmVydGV4QXR0cmliLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGUudmVydGV4QXR0cmliUG9pbnRlcj1mdW5jdGlvbihlLHIsaSxhLG8scyl7dmFyIHU9dC5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q7dS5tYXhBdHRyaWI9TWF0aC5tYXgodS5tYXhBdHRyaWIsZSk7dmFyIGM9dS5hdHRyaWJzW2VdO3JldHVybiBjLmJ1ZmZlcj10LmN1cnJlbnRBcnJheUJ1ZmZlcixjLnNpemU9cixjLnR5cGU9aSxjLm5vcm1hbGl6ZWQ9YSxjLnN0cmlkZT1vLGMub2Zmc2V0PXMsYy5yZWNhY2hlKCksbi52ZXJ0ZXhBdHRyaWJQb2ludGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5pbnN0cnVtZW50RXh0ZW5zaW9uJiZlLmluc3RydW1lbnRFeHRlbnNpb24odGhpcywiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKSxlLmNhbnZhcyYmZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLChmdW5jdGlvbigpe3ZhciBlO2U9Ik9FU1ZlcnRleEFycmF5T2JqZWN0IGVtdWxhdGlvbiBsaWJyYXJ5IGNvbnRleHQgcmVzdG9yZWQiLHIuZ2xvYmFsLmNvbnNvbGUmJnIuZ2xvYmFsLmNvbnNvbGUubG9nJiZyLmdsb2JhbC5jb25zb2xlLmxvZyhlKSx0LnJlc2V0XygpfSksITApLHRoaXMucmVzZXRfKCl9O3MucHJvdG90eXBlLlZFUlRFWF9BUlJBWV9CSU5ESU5HX09FUz0zNDIyOSxzLnByb3RvdHlwZS5yZXNldF89ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLnZlcnRleEFycmF5T2JqZWN0cylmb3IodmFyIGU9MDtlPHRoaXMudmVydGV4QXJyYXlPYmplY3RzLmxlbmd0aDsrK2UpdGhpcy52ZXJ0ZXhBcnJheU9iamVjdHMuaXNBbGl2ZT0hMTt2YXIgdD10aGlzLmdsO3RoaXMubWF4VmVydGV4QXR0cmlicz10LmdldFBhcmFtZXRlcigzNDkyMSksdGhpcy5kZWZhdWx0VmVydGV4QXJyYXlPYmplY3Q9bmV3IG8odGhpcyksdGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLmN1cnJlbnRBcnJheUJ1ZmZlcj1udWxsLHRoaXMudmVydGV4QXJyYXlPYmplY3RzPVt0aGlzLmRlZmF1bHRWZXJ0ZXhBcnJheU9iamVjdF0sdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCl9LHMucHJvdG90eXBlLmNyZWF0ZVZlcnRleEFycmF5T0VTPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG8odGhpcyk7cmV0dXJuIHRoaXMudmVydGV4QXJyYXlPYmplY3RzLnB1c2goZSksZX0scy5wcm90b3R5cGUuZGVsZXRlVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24oZSl7ZS5pc0FsaXZlPSExLHRoaXMudmVydGV4QXJyYXlPYmplY3RzLnNwbGljZSh0aGlzLnZlcnRleEFycmF5T2JqZWN0cy5pbmRleE9mKGUpLDEpLHRoaXMuY3VycmVudFZlcnRleEFycmF5T2JqZWN0PT09ZSYmdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCl9LHMucHJvdG90eXBlLmlzVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZSBpbnN0YW5jZW9mIG8mJmUuaGFzQmVlbkJvdW5kJiZlLmV4dD09PXRoaXMpfSxzLnByb3RvdHlwZS5iaW5kVmVydGV4QXJyYXlPRVM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nbDtpZighZXx8ZS5pc0FsaXZlKXt2YXIgbj10aGlzLm9yaWdpbmFsLHI9dGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q7dGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3Q9ZXx8dGhpcy5kZWZhdWx0VmVydGV4QXJyYXlPYmplY3QsdGhpcy5jdXJyZW50VmVydGV4QXJyYXlPYmplY3QuaGFzQmVlbkJvdW5kPSEwO3ZhciBpPXRoaXMuY3VycmVudFZlcnRleEFycmF5T2JqZWN0O2lmKHIhPT1pKXtyJiZpLmVsZW1lbnRBcnJheUJ1ZmZlcj09PXIuZWxlbWVudEFycmF5QnVmZmVyfHxuLmJpbmRCdWZmZXIuY2FsbCh0LDM0OTYzLGkuZWxlbWVudEFycmF5QnVmZmVyKTtmb3IodmFyIG89dGhpcy5jdXJyZW50QXJyYXlCdWZmZXIscz1NYXRoLm1heChyP3IubWF4QXR0cmliOjAsaS5tYXhBdHRyaWIpLHU9MDt1PD1zO3UrKyl7dmFyIGM9aS5hdHRyaWJzW3VdLGw9cj9yLmF0dHJpYnNbdV06bnVsbDtpZihyJiZjLmVuYWJsZWQ9PT1sLmVuYWJsZWR8fChjLmVuYWJsZWQ/bi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheS5jYWxsKHQsdSk6bi5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkuY2FsbCh0LHUpKSxjLmVuYWJsZWQpe3ZhciBoPSExO3ImJmMuYnVmZmVyPT09bC5idWZmZXJ8fChvIT09Yy5idWZmZXImJihuLmJpbmRCdWZmZXIuY2FsbCh0LDM0OTYyLGMuYnVmZmVyKSxvPWMuYnVmZmVyKSxoPSEwKSwoaHx8Yy5jYWNoZWQhPT1sLmNhY2hlZCkmJm4udmVydGV4QXR0cmliUG9pbnRlci5jYWxsKHQsdSxjLnNpemUsYy50eXBlLGMubm9ybWFsaXplZCxjLnN0cmlkZSxjLm9mZnNldCl9fXRoaXMuY3VycmVudEFycmF5QnVmZmVyIT09byYmbi5iaW5kQnVmZmVyLmNhbGwodCwzNDk2Mix0aGlzLmN1cnJlbnRBcnJheUJ1ZmZlcil9fWVsc2UgYSgxMjgyLCJiaW5kVmVydGV4QXJyYXlPRVM6IGF0dGVtcHQgdG8gYmluZCBkZWxldGVkIGFycmF5T2JqZWN0Iil9O3ZhciB1PW4oMjU3KTtmdW5jdGlvbiBjKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKHR8fCJsdW1hLmdsOiBhc3NlcnRpb24gZmFpbGVkLiIpfWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaChlLHQpe2lmKGU9PT10KXJldHVybiEwO3ZhciBuPUFycmF5LmlzQXJyYXkoZSl8fEFycmF5QnVmZmVyLmlzVmlldyhlKSxyPUFycmF5LmlzQXJyYXkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KTtpZihuJiZyJiZlLmxlbmd0aD09PXQubGVuZ3RoKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSlpZihlW2ldIT09dFtpXSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBmKGUpe2lmKGUuY2FudmFzJiZlLmx1bWEpe3ZhciB0PWUubHVtYS5jYW52YXNTaXplSW5mby5jbGllbnRXaWR0aDtyZXR1cm4gdD9lLmRyYXdpbmdCdWZmZXJXaWR0aC90OjF9cmV0dXJuIDF9ZnVuY3Rpb24gZChlLHQpe3ZhciBuPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl0scj1mKGUpLGk9ZS5kcmF3aW5nQnVmZmVyV2lkdGgsYT1lLmRyYXdpbmdCdWZmZXJIZWlnaHQ7cmV0dXJuIHAodCxyLGksYSxuKX1mdW5jdGlvbiB2KGUpe3ZhciB0PSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PzE6d2luZG93LmRldmljZVBpeGVsUmF0aW98fDE7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShlKT9lPD0wPzE6ZTplP3Q6MX1mdW5jdGlvbiBwKGUsdCxuLHIsaSl7dmFyIGEsbz1nKGVbMF0sdCxuKSxzPXkoZVsxXSx0LHIsaSksdT1nKGVbMF0rMSx0LG4pLGM9dT09PW4tMT91OnUtMTtyZXR1cm4gdT15KGVbMV0rMSx0LHIsaSksaT8oYT1zLHM9dT0wPT09dT91OnUrMSk6YT11PT09ci0xP3U6dS0xLHt4Om8seTpzLHdpZHRoOk1hdGgubWF4KGMtbysxLDEpLGhlaWdodDpNYXRoLm1heChhLXMrMSwxKX19ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuIE1hdGgubWluKE1hdGgucm91bmQoZSp0KSxuLTEpfWZ1bmN0aW9uIHkoZSx0LG4scil7cmV0dXJuIHI/TWF0aC5tYXgoMCxuLTEtTWF0aC5yb3VuZChlKnQpKTpNYXRoLm1pbihNYXRoLnJvdW5kKGUqdCksbi0xKX1mdW5jdGlvbiBtKGUpe3JldHVybiBCb29sZWFuKGUmJk51bWJlci5pc0Zpbml0ZShlLl92ZXJzaW9uKSl9ZnVuY3Rpb24gYihlKXtyZXR1cm4gQm9vbGVhbihlJiYyPT09ZS5fdmVyc2lvbil9dmFyIF8sTyx4PW5ldyB1LmEoe2lkOiJsdW1hLmdsIn0pLHc9bigwKSxTPWZ1bmN0aW9uKGUpe3JldHVybiBiKGUpP3ZvaWQgMDowfSxrPShfPXt9LE9iamVjdCh3LmEpKF8sMzA3NCwoZnVuY3Rpb24oZSl7cmV0dXJuIGIoZSk/dm9pZCAwOjM2MDY0fSkpLE9iamVjdCh3LmEpKF8sMzU3MjMsKGZ1bmN0aW9uKGUpe3JldHVybiBiKGUpP3ZvaWQgMDo0MzUyfSkpLE9iamVjdCh3LmEpKF8sMzU5NzcsUyksT2JqZWN0KHcuYSkoXywzMjkzNyxTKSxPYmplY3Qody5hKShfLDM2Nzk1LChmdW5jdGlvbihlLHQpe3ZhciBuPWIoZSk/ZS5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiKTplLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iik7cmV0dXJuIG4mJm4uR1BVX0RJU0pPSU5UX0VYVD90KG4uR1BVX0RJU0pPSU5UX0VYVCk6MH0pKSxPYmplY3Qody5hKShfLDM3NDQ1LChmdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7cmV0dXJuIHQobiYmbi5VTk1BU0tFRF9WRU5ET1JfV0VCR0x8fDc5MzYpfSkpLE9iamVjdCh3LmEpKF8sMzc0NDYsKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtyZXR1cm4gdChuJiZuLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMfHw3OTM3KX0pKSxPYmplY3Qody5hKShfLDM0MDQ3LChmdW5jdGlvbihlLHQpe3ZhciBuPWUubHVtYS5leHRlbnNpb25zLkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYztyZXR1cm4gbj90KG4uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKToxfSkpLE9iamVjdCh3LmEpKF8sMzI4ODMsUyksT2JqZWN0KHcuYSkoXywzNTA3MSxTKSxPYmplY3Qody5hKShfLDM3NDQ3LFMpLE9iamVjdCh3LmEpKF8sMzYwNjMsKGZ1bmN0aW9uKGUsdCl7aWYoIWIoZSkpe3ZhciBuPWUuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtyZXR1cm4gbj90KG4uTUFYX0NPTE9SX0FUVEFDSE1FTlRTX1dFQkdMKTowfX0pKSxPYmplY3Qody5hKShfLDM1Mzc5LFMpLE9iamVjdCh3LmEpKF8sMzUzNzQsUyksT2JqZWN0KHcuYSkoXywzNTM3NyxTKSxPYmplY3Qody5hKShfLDM0ODUyLChmdW5jdGlvbihlKXtpZighYihlKSl7dmFyIHQ9ZS5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpO3JldHVybiB0P3QuTUFYX0RSQVdfQlVGRkVSU19XRUJHTDowfX0pKSxPYmplY3Qody5hKShfLDM2MjAzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4Iik/MjE0NzQ4MzY0Nzo2NTUzNX0pKSxPYmplY3Qody5hKShfLDMzMDAxLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4Iik/MTY3NzcyMTY6NjU1MzV9KSksT2JqZWN0KHcuYSkoXywzM2UzLChmdW5jdGlvbihlKXtyZXR1cm4gMTY3NzcyMTZ9KSksT2JqZWN0KHcuYSkoXywzNzE1NyxTKSxPYmplY3Qody5hKShfLDM1MzczLFMpLE9iamVjdCh3LmEpKF8sMzU2NTcsUyksT2JqZWN0KHcuYSkoXywzNjE4MyxTKSxPYmplY3Qody5hKShfLDM3MTM3LFMpLE9iamVjdCh3LmEpKF8sMzQwNDUsUyksT2JqZWN0KHcuYSkoXywzNTk3OCxTKSxPYmplY3Qody5hKShfLDM1OTc5LFMpLE9iamVjdCh3LmEpKF8sMzU5NjgsUyksT2JqZWN0KHcuYSkoXywzNTM3NixTKSxPYmplY3Qody5hKShfLDM1Mzc1LFMpLE9iamVjdCh3LmEpKF8sMzU2NTksUyksT2JqZWN0KHcuYSkoXywzNzE1NCxTKSxPYmplY3Qody5hKShfLDM1MzcxLFMpLE9iamVjdCh3LmEpKF8sMzU2NTgsUyksT2JqZWN0KHcuYSkoXywzNTA3NixTKSxPYmplY3Qody5hKShfLDM1MDc3LFMpLE9iamVjdCh3LmEpKF8sMzUzODAsUyksXyk7dmFyIFA9KE89e30sT2JqZWN0KHcuYSkoTywiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiLHttZXRhOntzdWZmaXg6Ik9FUyJ9LGNyZWF0ZVZlcnRleEFycmF5OmZ1bmN0aW9uKCl7YyghMSwiVmVydGV4QXJyYXkgcmVxdWlyZXMgV2ViR0wyIG9yIE9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IGV4dGVuc2lvbiIpfSxkZWxldGVWZXJ0ZXhBcnJheTpmdW5jdGlvbigpe30sYmluZFZlcnRleEFycmF5OmZ1bmN0aW9uKCl7fSxpc1ZlcnRleEFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuITF9fSksT2JqZWN0KHcuYSkoTywiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIse21ldGE6e3N1ZmZpeDoiQU5HTEUifSx2ZXJ0ZXhBdHRyaWJEaXZpc29yOmZ1bmN0aW9uKGUsdCl7YygwPT09dCwiV2ViR0wgaW5zdGFuY2VkIHJlbmRlcmluZyBub3Qgc3VwcG9ydGVkIil9LGRyYXdFbGVtZW50c0luc3RhbmNlZDpmdW5jdGlvbigpe30sZHJhd0FycmF5c0luc3RhbmNlZDpmdW5jdGlvbigpe319KSxPYmplY3Qody5hKShPLCJXRUJHTF9kcmF3X2J1ZmZlcnMiLHttZXRhOntzdWZmaXg6IldFQkdMIn0sZHJhd0J1ZmZlcnM6ZnVuY3Rpb24oKXtjKCExKX19KSxPYmplY3Qody5hKShPLCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiLHttZXRhOntzdWZmaXg6IkVYVCJ9LGNyZWF0ZVF1ZXJ5OmZ1bmN0aW9uKCl7YyghMSl9LGRlbGV0ZVF1ZXJ5OmZ1bmN0aW9uKCl7YyghMSl9LGJlZ2luUXVlcnk6ZnVuY3Rpb24oKXtjKCExKX0sZW5kUXVlcnk6ZnVuY3Rpb24oKXt9LGdldFF1ZXJ5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0UXVlcnlPYmplY3QoZSx0KX0sZ2V0UXVlcnlQYXJhbWV0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nZXRRdWVyeU9iamVjdChlLHQpfSxnZXRRdWVyeU9iamVjdDpmdW5jdGlvbigpe319KSxPKSxqPXtyZWFkQnVmZmVyOmZ1bmN0aW9uKGUsdCxuKXtiKGUpJiZ0KG4pfSxnZXRWZXJ0ZXhBdHRyaWI6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksYT1mdW5jdGlvbihlLHQpe3JldHVybnt3ZWJnbDI6YihlKSxleHQ6ZS5nZXRFeHRlbnNpb24odCl9fShlLCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksbz1hLndlYmdsMixzPWEuZXh0O3N3aXRjaChyKXtjYXNlIDM1MDY5Omk9ISFvJiZ2b2lkIDA7YnJlYWs7Y2FzZSAzNTA3MDppPW98fHM/dm9pZCAwOjB9cmV0dXJuIHZvaWQgMCE9PWk/aTp0KG4scil9LGdldFByb2dyYW1QYXJhbWV0ZXI6ZnVuY3Rpb24oZSx0LG4scil7aWYoIWIoZSkpc3dpdGNoKHIpe2Nhc2UgMzU5Njc6cmV0dXJuIDM1OTgxO2Nhc2UgMzU5NzE6Y2FzZSAzNTM4MjpyZXR1cm4gMH1yZXR1cm4gdChuLHIpfSxnZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcjpmdW5jdGlvbihlLHQsbixyLGkpe2lmKCFiKGUpKXN3aXRjaChpKXtjYXNlIDMyOTM3OnJldHVybiBuZXcgSW50MzJBcnJheShbMF0pfXJldHVybiBlLmdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyKG4scixpKX0sZ2V0VGV4UGFyYW1ldGVyOmZ1bmN0aW9uKGUsdCxuLHIpe3N3aXRjaChyKXtjYXNlIDM0MDQ2OnZhciBpPWUubHVtYS5leHRlbnNpb25zLkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYztyPWkmJmkuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFR8fDM0MDQ2fXJldHVybiB0KG4scil9LGdldFBhcmFtZXRlcjpmdW5jdGlvbihlLHQsbil7dmFyIHI9a1tuXSxpPSJmdW5jdGlvbiI9PXR5cGVvZiByP3IoZSx0LG4pOnI7cmV0dXJuIHZvaWQgMCE9PWk/aTp0KG4pfSxoaW50OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0KG4scil9fTtmdW5jdGlvbiBUKGUsdCl7dmFyIG49dC5leHRlbnNpb24scj10LnRhcmdldCxpPXQudGFyZ2V0MixhPVBbbl07YyhhKTtmb3IodmFyIG89YS5tZXRhLHM9KHZvaWQgMD09PW8/e306bykuc3VmZml4LHU9dm9pZCAwPT09cz8iIjpzLGw9ZS5nZXRFeHRlbnNpb24obiksaD1mdW5jdGlvbigpe3ZhciB0PWRbZl0sbj0iIi5jb25jYXQodCkuY29uY2F0KHUpLG89bnVsbDsibWV0YSI9PT10fHwiZnVuY3Rpb24iPT10eXBlb2YgZVt0XXx8KGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBsW25dP289ZnVuY3Rpb24oKXtyZXR1cm4gbFtuXS5hcHBseShsLGFyZ3VtZW50cyl9OiJmdW5jdGlvbiI9PXR5cGVvZiBhW3RdJiYobz1hW3RdLmJpbmQocikpKSxvJiYoclt0XT1vLGlbdF09byl9LGY9MCxkPU9iamVjdC5rZXlzKGEpO2Y8ZC5sZW5ndGg7ZisrKWgoKX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdykucG9seWZpbGxDb250ZXh0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmx1bWE9ZS5sdW1hfHx7fSxlLmx1bWEucG9seWZpbGxlZHx8KCFmdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZS5jcmVhdGVWZXJ0ZXhBcnJheSl7dmFyIHQ9ZS5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zO2UuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucz1mdW5jdGlvbigpe3ZhciBlPXQuY2FsbCh0aGlzKXx8W107cmV0dXJuIGUuaW5kZXhPZigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTwwJiZlLnB1c2goIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiksZX07dmFyIG49ZS5nZXRFeHRlbnNpb247ZS5nZXRFeHRlbnNpb249ZnVuY3Rpb24odCl7dmFyIHI9bi5jYWxsKHRoaXMsdCk7cmV0dXJuIHJ8fCgiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiIT09dD9udWxsOihlLl9fT0VTVmVydGV4QXJyYXlPYmplY3R8fCh0aGlzLl9fT0VTVmVydGV4QXJyYXlPYmplY3Q9bmV3IHModGhpcykpLHRoaXMuX19PRVNWZXJ0ZXhBcnJheU9iamVjdCkpfX19KGUpLGZ1bmN0aW9uKGUpe2UubHVtYS5leHRlbnNpb25zPXt9O3ZhciB0PWUuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpfHxbXSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTtlLmx1bWFbc109ZS5nZXRFeHRlbnNpb24ocyl9fWNhdGNoKGUpe3I9ITAsaT1lfWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19KGUpLGZ1bmN0aW9uKGUsdCl7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModClbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTsib3ZlcnJpZGVzIiE9PXMmJlQoZSx7ZXh0ZW5zaW9uOnMsdGFyZ2V0OmUubHVtYSx0YXJnZXQyOmV9KX19Y2F0Y2goZSl7cj0hMCxpPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fX0oZSxQKSxmdW5jdGlvbihlLHQpe3ZhciBuPXQudGFyZ2V0LHI9dC50YXJnZXQyO09iamVjdC5rZXlzKGopLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBqW3RdKXt2YXIgaT1lW3RdP2VbdF0uYmluZChlKTpmdW5jdGlvbigpe30sYT1qW3RdLmJpbmQobnVsbCxlLGkpO25bdF09YSxyW3RdPWF9fSkpfShlLHt0YXJnZXQ6ZS5sdW1hLHRhcmdldDI6ZX0pLGUubHVtYS5wb2x5ZmlsbGVkPSEwKSxlfTt2YXIgRSxBLE0sQz1uKDIxKSxMPW4oMjcpLEk9KEU9e30sT2JqZWN0KHcuYSkoRSwzMDQyLCExKSxPYmplY3Qody5hKShFLDMyNzczLG5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDBdKSksT2JqZWN0KHcuYSkoRSwzMjc3NywzMjc3NCksT2JqZWN0KHcuYSkoRSwzNDg3NywzMjc3NCksT2JqZWN0KHcuYSkoRSwzMjk2OSwxKSxPYmplY3Qody5hKShFLDMyOTY4LDApLE9iamVjdCh3LmEpKEUsMzI5NzEsMSksT2JqZWN0KHcuYSkoRSwzMjk3MCwwKSxPYmplY3Qody5hKShFLDMxMDYsbmV3IEZsb2F0MzJBcnJheShbMCwwLDAsMF0pKSxPYmplY3Qody5hKShFLDMxMDcsWyEwLCEwLCEwLCEwXSksT2JqZWN0KHcuYSkoRSwyODg0LCExKSxPYmplY3Qody5hKShFLDI4ODUsMTAyOSksT2JqZWN0KHcuYSkoRSwyOTI5LCExKSxPYmplY3Qody5hKShFLDI5MzEsMSksT2JqZWN0KHcuYSkoRSwyOTMyLDUxMyksT2JqZWN0KHcuYSkoRSwyOTI4LG5ldyBGbG9hdDMyQXJyYXkoWzAsMV0pKSxPYmplY3Qody5hKShFLDI5MzAsITApLE9iamVjdCh3LmEpKEUsMzAyNCwhMCksT2JqZWN0KHcuYSkoRSwzNjAwNixudWxsKSxPYmplY3Qody5hKShFLDI4ODYsMjMwNSksT2JqZWN0KHcuYSkoRSwzMzE3MCw0MzUyKSxPYmplY3Qody5hKShFLDI4NDksMSksT2JqZWN0KHcuYSkoRSwzMjgyMywhMSksT2JqZWN0KHcuYSkoRSwzMjgyNCwwKSxPYmplY3Qody5hKShFLDEwNzUyLDApLE9iamVjdCh3LmEpKEUsMzI5MzgsMSksT2JqZWN0KHcuYSkoRSwzMjkzOSwhMSksT2JqZWN0KHcuYSkoRSwzMDg5LCExKSxPYmplY3Qody5hKShFLDMwODgsbmV3IEludDMyQXJyYXkoWzAsMCwxMDI0LDEwMjRdKSksT2JqZWN0KHcuYSkoRSwyOTYwLCExKSxPYmplY3Qody5hKShFLDI5NjEsMCksT2JqZWN0KHcuYSkoRSwyOTY4LDQyOTQ5NjcyOTUpLE9iamVjdCh3LmEpKEUsMzYwMDUsNDI5NDk2NzI5NSksT2JqZWN0KHcuYSkoRSwyOTYyLDUxOSksT2JqZWN0KHcuYSkoRSwyOTY3LDApLE9iamVjdCh3LmEpKEUsMjk2Myw0Mjk0OTY3Mjk1KSxPYmplY3Qody5hKShFLDM0ODE2LDUxOSksT2JqZWN0KHcuYSkoRSwzNjAwMywwKSxPYmplY3Qody5hKShFLDM2MDA0LDQyOTQ5NjcyOTUpLE9iamVjdCh3LmEpKEUsMjk2NCw3NjgwKSxPYmplY3Qody5hKShFLDI5NjUsNzY4MCksT2JqZWN0KHcuYSkoRSwyOTY2LDc2ODApLE9iamVjdCh3LmEpKEUsMzQ4MTcsNzY4MCksT2JqZWN0KHcuYSkoRSwzNDgxOCw3NjgwKSxPYmplY3Qody5hKShFLDM0ODE5LDc2ODApLE9iamVjdCh3LmEpKEUsMjk3OCxbMCwwLDEwMjQsMTAyNF0pLE9iamVjdCh3LmEpKEUsMzMzMyw0KSxPYmplY3Qody5hKShFLDMzMTcsNCksT2JqZWN0KHcuYSkoRSwzNzQ0MCwhMSksT2JqZWN0KHcuYSkoRSwzNzQ0MSwhMSksT2JqZWN0KHcuYSkoRSwzNzQ0MywzNzQ0NCksT2JqZWN0KHcuYSkoRSwzNTcyMyw0MzUyKSxPYmplY3Qody5hKShFLDM2MDEwLG51bGwpLE9iamVjdCh3LmEpKEUsMzU5NzcsITEpLE9iamVjdCh3LmEpKEUsMzMzMCwwKSxPYmplY3Qody5hKShFLDMzMzIsMCksT2JqZWN0KHcuYSkoRSwzMzMxLDApLE9iamVjdCh3LmEpKEUsMzMxNCwwKSxPYmplY3Qody5hKShFLDMyODc4LDApLE9iamVjdCh3LmEpKEUsMzMxNiwwKSxPYmplY3Qody5hKShFLDMzMTUsMCksT2JqZWN0KHcuYSkoRSwzMjg3NywwKSxFKSxSPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD9lLmVuYWJsZShuKTplLmRpc2FibGUobil9LEQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmhpbnQobix0KX0sRj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUucGl4ZWxTdG9yZWkobix0KX07ZnVuY3Rpb24gTihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpfXZhciB6PShBPXt9LE9iamVjdCh3LmEpKEEsMzA0MixSKSxPYmplY3Qody5hKShBLDMyNzczLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmJsZW5kQ29sb3IuYXBwbHkoZSxPYmplY3QoTC5hKSh0KSl9KSksT2JqZWN0KHcuYSkoQSwzMjc3NywiYmxlbmRFcXVhdGlvbiIpLE9iamVjdCh3LmEpKEEsMzQ4NzcsImJsZW5kRXF1YXRpb24iKSxPYmplY3Qody5hKShBLDMyOTY5LCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTY4LCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTcxLCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMyOTcwLCJibGVuZEZ1bmMiKSxPYmplY3Qody5hKShBLDMxMDYsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2xlYXJDb2xvci5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxPYmplY3Qody5hKShBLDMxMDcsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29sb3JNYXNrLmFwcGx5KGUsT2JqZWN0KEwuYSkodCkpfSkpLE9iamVjdCh3LmEpKEEsMjg4NCxSKSxPYmplY3Qody5hKShBLDI4ODUsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY3VsbEZhY2UodCl9KSksT2JqZWN0KHcuYSkoQSwyOTI5LFIpLE9iamVjdCh3LmEpKEEsMjkzMSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jbGVhckRlcHRoKHQpfSkpLE9iamVjdCh3LmEpKEEsMjkzMiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kZXB0aEZ1bmModCl9KSksT2JqZWN0KHcuYSkoQSwyOTI4LChmdW5jdGlvbihlLHQpe3JldHVybiBlLmRlcHRoUmFuZ2UuYXBwbHkoZSxPYmplY3QoTC5hKSh0KSl9KSksT2JqZWN0KHcuYSkoQSwyOTMwLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmRlcHRoTWFzayh0KX0pKSxPYmplY3Qody5hKShBLDMwMjQsUiksT2JqZWN0KHcuYSkoQSwzNTcyMyxEKSxPYmplY3Qody5hKShBLDM2MDA2LChmdW5jdGlvbihlLHQpe3ZhciBuPWIoZSk/MzYwMDk6MzYxNjA7cmV0dXJuIGUuYmluZEZyYW1lYnVmZmVyKG4sdCl9KSksT2JqZWN0KHcuYSkoQSwyODg2LChmdW5jdGlvbihlLHQpe3JldHVybiBlLmZyb250RmFjZSh0KX0pKSxPYmplY3Qody5hKShBLDMzMTcwLEQpLE9iamVjdCh3LmEpKEEsMjg0OSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saW5lV2lkdGgodCl9KSksT2JqZWN0KHcuYSkoQSwzMjgyMyxSKSxPYmplY3Qody5hKShBLDMyODI0LCJwb2x5Z29uT2Zmc2V0IiksT2JqZWN0KHcuYSkoQSwxMDc1MiwicG9seWdvbk9mZnNldCIpLE9iamVjdCh3LmEpKEEsMzU5NzcsUiksT2JqZWN0KHcuYSkoQSwzMjkzOCwic2FtcGxlQ292ZXJhZ2UiKSxPYmplY3Qody5hKShBLDMyOTM5LCJzYW1wbGVDb3ZlcmFnZSIpLE9iamVjdCh3LmEpKEEsMzA4OSxSKSxPYmplY3Qody5hKShBLDMwODgsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2Npc3Nvci5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxPYmplY3Qody5hKShBLDI5NjAsUiksT2JqZWN0KHcuYSkoQSwyOTYxLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNsZWFyU3RlbmNpbCh0KX0pKSxPYmplY3Qody5hKShBLDI5NjgsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RlbmNpbE1hc2tTZXBhcmF0ZSgxMDI4LHQpfSkpLE9iamVjdCh3LmEpKEEsMzYwMDUsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RlbmNpbE1hc2tTZXBhcmF0ZSgxMDI5LHQpfSkpLE9iamVjdCh3LmEpKEEsMjk2Miwic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMjk2Nywic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMjk2Mywic3RlbmNpbEZ1bmNGcm9udCIpLE9iamVjdCh3LmEpKEEsMzQ4MTYsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMzYwMDMsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMzYwMDQsInN0ZW5jaWxGdW5jQmFjayIpLE9iamVjdCh3LmEpKEEsMjk2NCwic3RlbmNpbE9wRnJvbnQiKSxPYmplY3Qody5hKShBLDI5NjUsInN0ZW5jaWxPcEZyb250IiksT2JqZWN0KHcuYSkoQSwyOTY2LCJzdGVuY2lsT3BGcm9udCIpLE9iamVjdCh3LmEpKEEsMzQ4MTcsInN0ZW5jaWxPcEJhY2siKSxPYmplY3Qody5hKShBLDM0ODE4LCJzdGVuY2lsT3BCYWNrIiksT2JqZWN0KHcuYSkoQSwzNDgxOSwic3RlbmNpbE9wQmFjayIpLE9iamVjdCh3LmEpKEEsMjk3OCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS52aWV3cG9ydC5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxPYmplY3Qody5hKShBLDMzMzMsRiksT2JqZWN0KHcuYSkoQSwzMzE3LEYpLE9iamVjdCh3LmEpKEEsMzc0NDAsRiksT2JqZWN0KHcuYSkoQSwzNzQ0MSxGKSxPYmplY3Qody5hKShBLDM3NDQzLEYpLE9iamVjdCh3LmEpKEEsMzMzMCxGKSxPYmplY3Qody5hKShBLDMzMzIsRiksT2JqZWN0KHcuYSkoQSwzMzMxLEYpLE9iamVjdCh3LmEpKEEsMzYwMTAsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYmluZEZyYW1lYnVmZmVyKDM2MDA4LHQpfSkpLE9iamVjdCh3LmEpKEEsMzMxNCxGKSxPYmplY3Qody5hKShBLDMyODc4LEYpLE9iamVjdCh3LmEpKEEsMzMxNixGKSxPYmplY3Qody5hKShBLDMzMTUsRiksT2JqZWN0KHcuYSkoQSwzMjg3NyxGKSxPYmplY3Qody5hKShBLCJmcmFtZWJ1ZmZlciIsKGZ1bmN0aW9uKGUsdCl7dmFyIG49dCYmImhhbmRsZSJpbiB0P3QuaGFuZGxlOnQ7cmV0dXJuIGUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG4pfSkpLE9iamVjdCh3LmEpKEEsImJsZW5kIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9lLmVuYWJsZSgzMDQyKTplLmRpc2FibGUoMzA0Mil9KSksT2JqZWN0KHcuYSkoQSwiYmxlbmRDb2xvciIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYmxlbmRDb2xvci5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxPYmplY3Qody5hKShBLCJibGVuZEVxdWF0aW9uIiwoZnVuY3Rpb24oZSx0KXt0PU4odCk/dDpbdCx0XSxlLmJsZW5kRXF1YXRpb25TZXBhcmF0ZS5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxPYmplY3Qody5hKShBLCJibGVuZEZ1bmMiLChmdW5jdGlvbihlLHQpe3Q9Tih0KSYmMj09PXQubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKSh0KSxPYmplY3QoTC5hKSh0KSk6dCxlLmJsZW5kRnVuY1NlcGFyYXRlLmFwcGx5KGUsT2JqZWN0KEwuYSkodCkpfSkpLE9iamVjdCh3LmEpKEEsImNsZWFyQ29sb3IiLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNsZWFyQ29sb3IuYXBwbHkoZSxPYmplY3QoTC5hKSh0KSl9KSksT2JqZWN0KHcuYSkoQSwiY2xlYXJEZXB0aCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2xlYXJEZXB0aCh0KX0pKSxPYmplY3Qody5hKShBLCJjbGVhclN0ZW5jaWwiLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNsZWFyU3RlbmNpbCh0KX0pKSxPYmplY3Qody5hKShBLCJjb2xvck1hc2siLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbG9yTWFzay5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxPYmplY3Qody5hKShBLCJjdWxsIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9lLmVuYWJsZSgyODg0KTplLmRpc2FibGUoMjg4NCl9KSksT2JqZWN0KHcuYSkoQSwiY3VsbEZhY2UiLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmN1bGxGYWNlKHQpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoVGVzdCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/ZS5lbmFibGUoMjkyOSk6ZS5kaXNhYmxlKDI5MjkpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoRnVuYyIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGVwdGhGdW5jKHQpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoTWFzayIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGVwdGhNYXNrKHQpfSkpLE9iamVjdCh3LmEpKEEsImRlcHRoUmFuZ2UiLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmRlcHRoUmFuZ2UuYXBwbHkoZSxPYmplY3QoTC5hKSh0KSl9KSksT2JqZWN0KHcuYSkoQSwiZGl0aGVyIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9lLmVuYWJsZSgzMDI0KTplLmRpc2FibGUoMzAyNCl9KSksT2JqZWN0KHcuYSkoQSwiZGVyaXZhdGl2ZUhpbnQiLChmdW5jdGlvbihlLHQpe2UuaGludCgzNTcyMyx0KX0pKSxPYmplY3Qody5hKShBLCJmcm9udEZhY2UiLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmZyb250RmFjZSh0KX0pKSxPYmplY3Qody5hKShBLCJtaXBtYXBIaW50IiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oaW50KDMzMTcwLHQpfSkpLE9iamVjdCh3LmEpKEEsImxpbmVXaWR0aCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGluZVdpZHRoKHQpfSkpLE9iamVjdCh3LmEpKEEsInBvbHlnb25PZmZzZXRGaWxsIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9lLmVuYWJsZSgzMjgyMyk6ZS5kaXNhYmxlKDMyODIzKX0pKSxPYmplY3Qody5hKShBLCJwb2x5Z29uT2Zmc2V0IiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wb2x5Z29uT2Zmc2V0LmFwcGx5KGUsT2JqZWN0KEwuYSkodCkpfSkpLE9iamVjdCh3LmEpKEEsInNhbXBsZUNvdmVyYWdlIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zYW1wbGVDb3ZlcmFnZS5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxPYmplY3Qody5hKShBLCJzY2lzc29yVGVzdCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/ZS5lbmFibGUoMzA4OSk6ZS5kaXNhYmxlKDMwODkpfSkpLE9iamVjdCh3LmEpKEEsInNjaXNzb3IiLChmdW5jdGlvbihlLHQpe3JldHVybiBlLnNjaXNzb3IuYXBwbHkoZSxPYmplY3QoTC5hKSh0KSl9KSksT2JqZWN0KHcuYSkoQSwic3RlbmNpbFRlc3QiLChmdW5jdGlvbihlLHQpe3JldHVybiB0P2UuZW5hYmxlKDI5NjApOmUuZGlzYWJsZSgyOTYwKX0pKSxPYmplY3Qody5hKShBLCJzdGVuY2lsTWFzayIsKGZ1bmN0aW9uKGUsdCl7dmFyIG49dD1OKHQpP3Q6W3QsdF0scj1PYmplY3QoQy5hKShuLDIpLGk9clswXSxhPXJbMV07ZS5zdGVuY2lsTWFza1NlcGFyYXRlKDEwMjgsaSksZS5zdGVuY2lsTWFza1NlcGFyYXRlKDEwMjksYSl9KSksT2JqZWN0KHcuYSkoQSwic3RlbmNpbEZ1bmMiLChmdW5jdGlvbihlLHQpe3ZhciBuPXQ9Tih0KSYmMz09PXQubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKSh0KSxPYmplY3QoTC5hKSh0KSk6dCxyPU9iamVjdChDLmEpKG4sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV07ZS5zdGVuY2lsRnVuY1NlcGFyYXRlKDEwMjgsaSxhLG8pLGUuc3RlbmNpbEZ1bmNTZXBhcmF0ZSgxMDI5LHMsdSxjKX0pKSxPYmplY3Qody5hKShBLCJzdGVuY2lsT3AiLChmdW5jdGlvbihlLHQpe3ZhciBuPXQ9Tih0KSYmMz09PXQubGVuZ3RoP1tdLmNvbmNhdChPYmplY3QoTC5hKSh0KSxPYmplY3QoTC5hKSh0KSk6dCxyPU9iamVjdChDLmEpKG4sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV07ZS5zdGVuY2lsT3BTZXBhcmF0ZSgxMDI4LGksYSxvKSxlLnN0ZW5jaWxPcFNlcGFyYXRlKDEwMjkscyx1LGMpfSkpLE9iamVjdCh3LmEpKEEsInZpZXdwb3J0IiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS52aWV3cG9ydC5hcHBseShlLE9iamVjdChMLmEpKHQpKX0pKSxBKTtmdW5jdGlvbiBCKGUsdCxuKXtyZXR1cm4gdm9pZCAwIT09dFtlXT90W2VdOm5bZV19dmFyIFU9e2JsZW5kRXF1YXRpb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShCKDMyNzc3LHQsbiksQigzNDg3Nyx0LG4pKX0sYmxlbmRGdW5jOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5ibGVuZEZ1bmNTZXBhcmF0ZShCKDMyOTY5LHQsbiksQigzMjk2OCx0LG4pLEIoMzI5NzEsdCxuKSxCKDMyOTcwLHQsbikpfSxwb2x5Z29uT2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5wb2x5Z29uT2Zmc2V0KEIoMzI4MjQsdCxuKSxCKDEwNzUyLHQsbikpfSxzYW1wbGVDb3ZlcmFnZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuc2FtcGxlQ292ZXJhZ2UoQigzMjkzOCx0LG4pLEIoMzI5MzksdCxuKSl9LHN0ZW5jaWxGdW5jRnJvbnQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnN0ZW5jaWxGdW5jU2VwYXJhdGUoMTAyOCxCKDI5NjIsdCxuKSxCKDI5NjcsdCxuKSxCKDI5NjMsdCxuKSl9LHN0ZW5jaWxGdW5jQmFjazpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuc3RlbmNpbEZ1bmNTZXBhcmF0ZSgxMDI5LEIoMzQ4MTYsdCxuKSxCKDM2MDAzLHQsbiksQigzNjAwNCx0LG4pKX0sc3RlbmNpbE9wRnJvbnQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnN0ZW5jaWxPcFNlcGFyYXRlKDEwMjgsQigyOTY0LHQsbiksQigyOTY1LHQsbiksQigyOTY2LHQsbikpfSxzdGVuY2lsT3BCYWNrOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5zdGVuY2lsT3BTZXBhcmF0ZSgxMDI5LEIoMzQ4MTcsdCxuKSxCKDM0ODE4LHQsbiksQigzNDgxOSx0LG4pKX19LFY9e2VuYWJsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlKE9iamVjdCh3LmEpKHt9LHQsITApKX0sZGlzYWJsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlKE9iamVjdCh3LmEpKHt9LHQsITEpKX0scGl4ZWxTdG9yZWk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlKE9iamVjdCh3LmEpKHt9LHQsbikpfSxoaW50OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZShPYmplY3Qody5hKSh7fSx0LG4pKX0sYmluZEZyYW1lYnVmZmVyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtzd2l0Y2godCl7Y2FzZSAzNjE2MDpyZXR1cm4gZSgocj17fSxPYmplY3Qody5hKShyLDM2MDA2LG4pLE9iamVjdCh3LmEpKHIsMzYwMTAsbikscikpO2Nhc2UgMzYwMDk6cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMzYwMDYsbikpO2Nhc2UgMzYwMDg6cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMzYwMTAsbikpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxibGVuZENvbG9yOmZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMzI3NzMsbmV3IEZsb2F0MzJBcnJheShbdCxuLHIsaV0pKSl9LGJsZW5kRXF1YXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gZSgobj17fSxPYmplY3Qody5hKShuLDMyNzc3LHQpLE9iamVjdCh3LmEpKG4sMzQ4NzcsdCksbikpfSxibGVuZEVxdWF0aW9uU2VwYXJhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiBlKChyPXt9LE9iamVjdCh3LmEpKHIsMzI3NzcsdCksT2JqZWN0KHcuYSkociwzNDg3NyxuKSxyKSl9LGJsZW5kRnVuYzpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIGUoKHI9e30sT2JqZWN0KHcuYSkociwzMjk2OSx0KSxPYmplY3Qody5hKShyLDMyOTY4LG4pLE9iamVjdCh3LmEpKHIsMzI5NzEsdCksT2JqZWN0KHcuYSkociwzMjk3MCxuKSxyKSl9LGJsZW5kRnVuY1NlcGFyYXRlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIGE7cmV0dXJuIGUoKGE9e30sT2JqZWN0KHcuYSkoYSwzMjk2OSx0KSxPYmplY3Qody5hKShhLDMyOTY4LG4pLE9iamVjdCh3LmEpKGEsMzI5NzEsciksT2JqZWN0KHcuYSkoYSwzMjk3MCxpKSxhKSl9LGNsZWFyQ29sb3I6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gZShPYmplY3Qody5hKSh7fSwzMTA2LG5ldyBGbG9hdDMyQXJyYXkoW3QsbixyLGldKSkpfSxjbGVhckRlcHRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMjkzMSx0KSl9LGNsZWFyU3RlbmNpbDpmdW5jdGlvbihlLHQpe3JldHVybiBlKE9iamVjdCh3LmEpKHt9LDI5NjEsdCkpfSxjb2xvck1hc2s6ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gZShPYmplY3Qody5hKSh7fSwzMTA3LFt0LG4scixpXSkpfSxjdWxsRmFjZTpmdW5jdGlvbihlLHQpe3JldHVybiBlKE9iamVjdCh3LmEpKHt9LDI4ODUsdCkpfSxkZXB0aEZ1bmM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZShPYmplY3Qody5hKSh7fSwyOTMyLHQpKX0sZGVwdGhSYW5nZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMjkyOCxuZXcgRmxvYXQzMkFycmF5KFt0LG5dKSkpfSxkZXB0aE1hc2s6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZShPYmplY3Qody5hKSh7fSwyOTMwLHQpKX0sZnJvbnRGYWNlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMjg4Nix0KSl9LGxpbmVXaWR0aDpmdW5jdGlvbihlLHQpe3JldHVybiBlKE9iamVjdCh3LmEpKHt9LDI4NDksdCkpfSxwb2x5Z29uT2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4gZSgocj17fSxPYmplY3Qody5hKShyLDMyODI0LHQpLE9iamVjdCh3LmEpKHIsMTA3NTIsbikscikpfSxzYW1wbGVDb3ZlcmFnZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIGUoKHI9e30sT2JqZWN0KHcuYSkociwzMjkzOCx0KSxPYmplY3Qody5hKShyLDMyOTM5LG4pLHIpKX0sc2Npc3NvcjpmdW5jdGlvbihlLHQsbixyLGkpe3JldHVybiBlKE9iamVjdCh3LmEpKHt9LDMwODgsbmV3IEludDMyQXJyYXkoW3QsbixyLGldKSkpfSxzdGVuY2lsTWFzazpmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBlKChuPXt9LE9iamVjdCh3LmEpKG4sMjk2OCx0KSxPYmplY3Qody5hKShuLDM2MDA1LHQpLG4pKX0sc3RlbmNpbE1hc2tTZXBhcmF0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMTAyOD09PXQ/Mjk2ODozNjAwNSxuKSl9LHN0ZW5jaWxGdW5jOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpO3JldHVybiBlKChpPXt9LE9iamVjdCh3LmEpKGksMjk2Mix0KSxPYmplY3Qody5hKShpLDI5NjcsbiksT2JqZWN0KHcuYSkoaSwyOTYzLHIpLE9iamVjdCh3LmEpKGksMzQ4MTYsdCksT2JqZWN0KHcuYSkoaSwzNjAwMyxuKSxPYmplY3Qody5hKShpLDM2MDA0LHIpLGkpKX0sc3RlbmNpbEZ1bmNTZXBhcmF0ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBhO3JldHVybiBlKChhPXt9LE9iamVjdCh3LmEpKGEsMTAyOD09PXQ/Mjk2MjozNDgxNixuKSxPYmplY3Qody5hKShhLDEwMjg9PT10PzI5Njc6MzYwMDMsciksT2JqZWN0KHcuYSkoYSwxMDI4PT09dD8yOTYzOjM2MDA0LGkpLGEpKX0sc3RlbmNpbE9wOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpO3JldHVybiBlKChpPXt9LE9iamVjdCh3LmEpKGksMjk2NCx0KSxPYmplY3Qody5hKShpLDI5NjUsbiksT2JqZWN0KHcuYSkoaSwyOTY2LHIpLE9iamVjdCh3LmEpKGksMzQ4MTcsdCksT2JqZWN0KHcuYSkoaSwzNDgxOCxuKSxPYmplY3Qody5hKShpLDM0ODE5LHIpLGkpKX0sc3RlbmNpbE9wU2VwYXJhdGU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgYTtyZXR1cm4gZSgoYT17fSxPYmplY3Qody5hKShhLDEwMjg9PT10PzI5NjQ6MzQ4MTcsbiksT2JqZWN0KHcuYSkoYSwxMDI4PT09dD8yOTY1OjM0ODE4LHIpLE9iamVjdCh3LmEpKGEsMTAyOD09PXQ/Mjk2NjozNDgxOSxpKSxhKSl9LHZpZXdwb3J0OmZ1bmN0aW9uKGUsdCxuLHIsaSl7cmV0dXJuIGUoT2JqZWN0KHcuYSkoe30sMjk3OCxbdCxuLHIsaV0pKX19LEc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pc0VuYWJsZWQodCl9LFc9KE09e30sT2JqZWN0KHcuYSkoTSwzMDQyLEcpLE9iamVjdCh3LmEpKE0sMjg4NCxHKSxPYmplY3Qody5hKShNLDI5MjksRyksT2JqZWN0KHcuYSkoTSwzMDI0LEcpLE9iamVjdCh3LmEpKE0sMzI4MjMsRyksT2JqZWN0KHcuYSkoTSwzMjkyNixHKSxPYmplY3Qody5hKShNLDMyOTI4LEcpLE9iamVjdCh3LmEpKE0sMzA4OSxHKSxPYmplY3Qody5hKShNLDI5NjAsRyksT2JqZWN0KHcuYSkoTSwzNTk3NyxHKSxNKSxIPW4oNSkscT1uKDYpO2Z1bmN0aW9uIFgoZSx0KXt2YXIgbj1lW3RdLmJpbmQoZSk7ZVt0XT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gdCBpbiBlLnN0YXRlLmNhY2hlfHwoZS5zdGF0ZS5jYWNoZVt0XT1uLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKSxlLnN0YXRlLmVuYWJsZT9lLnN0YXRlLmNhY2hlW3RdOm4uYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlW3RdLCJuYW1lIix7dmFsdWU6IiIuY29uY2F0KHQsIi1mcm9tLWNhY2hlIiksY29uZmlndXJhYmxlOiExfSl9ZnVuY3Rpb24gWihlLHQsbil7dmFyIHI9ZVt0XS5iaW5kKGUpO2VbdF09ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxhPTA7YTx0O2ErKylpW2FdPWFyZ3VtZW50c1thXTt2YXIgbz1uLmFwcGx5KHZvaWQgMCxbZS5zdGF0ZS5fdXBkYXRlQ2FjaGVdLmNvbmNhdChpKSkscz1vLnZhbHVlQ2hhbmdlZCx1PW8ub2xkVmFsdWU7cmV0dXJuIHMmJnIuYXBwbHkodm9pZCAwLGkpLHV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlW3RdLCJuYW1lIix7dmFsdWU6IiIuY29uY2F0KHQsIi10by1jYWNoZSIpLGNvbmZpZ3VyYWJsZTohMX0pfWZ1bmN0aW9uIFkoZSl7dmFyIHQ9ZS51c2VQcm9ncmFtLmJpbmQoZSk7ZS51c2VQcm9ncmFtPWZ1bmN0aW9uKG4pe2Uuc3RhdGUucHJvZ3JhbSE9PW4mJih0KG4pLGUuc3RhdGUucHJvZ3JhbT1uKX19dmFyIEs9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW4uY29weVN0YXRlLGk9dm9pZCAwIT09ciYmcixhPW4ubG9nLG89dm9pZCAwPT09YT9mdW5jdGlvbigpe306YTtPYmplY3QoSC5hKSh0aGlzLGUpLHRoaXMuZ2w9dCx0aGlzLnByb2dyYW09bnVsbCx0aGlzLnN0YXRlU3RhY2s9W10sdGhpcy5lbmFibGU9ITAsdGhpcy5jYWNoZT1pP2VlKHQpOk9iamVjdC5hc3NpZ24oe30sSSksdGhpcy5sb2c9byx0aGlzLl91cGRhdGVDYWNoZT10aGlzLl91cGRhdGVDYWNoZS5iaW5kKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3QocS5hKShlLFt7a2V5OiJwdXNoIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07dGhpcy5zdGF0ZVN0YWNrLnB1c2goe30pfX0se2tleToicG9wIix2YWx1ZTpmdW5jdGlvbigpe2ModGhpcy5zdGF0ZVN0YWNrLmxlbmd0aD4wKTt2YXIgZT10aGlzLnN0YXRlU3RhY2tbdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aC0xXTskKHRoaXMuZ2wsZSx0aGlzLmNhY2hlKSx0aGlzLnN0YXRlU3RhY2sucG9wKCl9fSx7a2V5OiJfdXBkYXRlQ2FjaGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG49ITEscj10aGlzLnN0YXRlU3RhY2subGVuZ3RoPjAmJnRoaXMuc3RhdGVTdGFja1t0aGlzLnN0YXRlU3RhY2subGVuZ3RoLTFdO2Zvcih2YXIgaSBpbiBlKXtjKHZvaWQgMCE9PWkpO3ZhciBhPWVbaV0sbz10aGlzLmNhY2hlW2ldO2goYSxvKXx8KG49ITAsdD1vLCFyfHxpIGluIHJ8fChyW2ldPW8pLHRoaXMuY2FjaGVbaV09YSl9cmV0dXJue3ZhbHVlQ2hhbmdlZDpuLG9sZFZhbHVlOnR9fX1dKSxlfSgpO2Z1bmN0aW9uIFEoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5lbmFibGUscj12b2lkIDA9PT1ufHxuLGk9dC5jb3B5U3RhdGU7aWYoYyh2b2lkIDAhPT1pKSwhZS5zdGF0ZSl7dmFyIGE9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdztmb3IodmFyIG8gaW4gYS5wb2x5ZmlsbENvbnRleHQmJmEucG9seWZpbGxDb250ZXh0KGUpLGUuc3RhdGU9bmV3IEsoZSx7Y29weVN0YXRlOmksZW5hYmxlOnJ9KSxZKGUpLFYpe3ZhciBzPVZbb107WihlLG8scyl9WChlLCJnZXRQYXJhbWV0ZXIiKSxYKGUsImlzRW5hYmxlZCIpfXJldHVybiBlLnN0YXRlLmVuYWJsZT1yLGV9ZnVuY3Rpb24gSihlKXtjKGUuc3RhdGUpLGUuc3RhdGUucG9wKCl9ZnVuY3Rpb24gJChlLHQpe2lmKGMobShlKSwic2V0UGFyYW1ldGVycyByZXF1aXJlcyBhIFdlYkdMIGNvbnRleHQiKSwhbCh0KSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpe3ZhciBpPU51bWJlcihyKSxhPXpbcl07YSYmKCJzdHJpbmciPT10eXBlb2YgYT9uW2FdPSEwOmEoZSx0W3JdLGkpKX12YXIgbz1lLnN0YXRlJiZlLnN0YXRlLmNhY2hlO2lmKG8pZm9yKHZhciBzIGluIG4peygwLFVbc10pKGUsdCxvKX19fWZ1bmN0aW9uIGVlKGUsdCl7aWYoIm51bWJlciI9PXR5cGVvZih0PXR8fEkpKXt2YXIgbj10LHI9V1tuXTtyZXR1cm4gcj9yKGUsbik6ZS5nZXRQYXJhbWV0ZXIobil9dmFyIGk9QXJyYXkuaXNBcnJheSh0KT90Ok9iamVjdC5rZXlzKHQpLGE9e30sbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD1pW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWUsZj1XW2hdO2FbaF09Zj9mKGUsTnVtYmVyKGgpKTplLmdldFBhcmFtZXRlcihOdW1iZXIoaCkpfX1jYXRjaChlKXtzPSEwLHU9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19cmV0dXJuIGF9ZnVuY3Rpb24gdGUoZSl7JChlLEkpfWZ1bmN0aW9uIG5lKGUsdCxuKXtpZihsKHQpKXJldHVybiBuKGUpO3ZhciByLGk9dC5ub2NhdGNoLGE9dm9pZCAwPT09aXx8aTtpZihmdW5jdGlvbihlKXtlLnN0YXRlfHxRKGUse2NvcHlTdGF0ZTohMX0pLGUuc3RhdGUucHVzaCgpfShlKSwkKGUsdCksYSlyPW4oZSksSihlKTtlbHNlIHRyeXtyPW4oZSl9ZmluYWxseXtKKGUpfXJldHVybiByfXZhciByZT1PYmplY3Qoci5pc0Jyb3dzZXIpKCksaWU9cmUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQsYWU9e3dlYmdsMjohMCx3ZWJnbDE6ITAsdGhyb3dPbkVycm9yOiExLG1hbmFnZVN0YXRlOiEwLGNhbnZhczpudWxsLGRlYnVnOiExLHdpZHRoOjgwMCxoZWlnaHQ6NjAwfTtmdW5jdGlvbiBvZSgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjKHJlLCJjcmVhdGVHTENvbnRleHQgb24gYXZhaWxhYmxlIGluIHRoZSBicm93c2VyLlxuQ3JlYXRlIHlvdXIgb3duIGhlYWRsZXNzIGNvbnRleHQgb3IgdXNlICdjcmVhdGVIZWFkbGVzc0NvbnRleHQnIGZyb20gQGx1bWEuZ2wvdGVzdC11dGlscyIpO3ZhciB0LG49ZT1PYmplY3QuYXNzaWduKHt9LGFlLGUpLHI9bi53aWR0aCxpPW4uaGVpZ2h0O2Z1bmN0aW9uIGEodCl7aWYoZS50aHJvd09uRXJyb3IpdGhyb3cgbmV3IEVycm9yKHQpO3JldHVybiBudWxsfXZhciBvPWUscz1vLmNhbnZhcyx1PWxlKHtjYW52YXM6cyx3aWR0aDpyLGhlaWdodDppLG9uRXJyb3I6YX0pO3JldHVybih0PWNlKHUsZSkpPyhoZSh0PXNlKHQsZSkpLHQpOm51bGx9ZnVuY3Rpb24gc2UoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKCFlfHxlLl9pbnN0cnVtZW50ZWQpcmV0dXJuIGU7ZS5fdmVyc2lvbj1lLl92ZXJzaW9ufHxmZShlKSxlLmx1bWE9ZS5sdW1hfHx7fSxlLmx1bWEuY2FudmFzU2l6ZUluZm89ZS5sdW1hLmNhbnZhc1NpemVJbmZvfHx7fTt2YXIgbj10PU9iamVjdC5hc3NpZ24oe30sYWUsdCksaT1uLm1hbmFnZVN0YXRlLGE9bi5kZWJ1ZztyZXR1cm4gaSYmUShlLHtjb3B5U3RhdGU6ITEsbG9nOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHgubG9nLmFwcGx5KHgsWzFdLmNvbmNhdCh0KSkoKX19KSxyZSYmYSYmKHIuZ2xvYmFsLm1ha2VEZWJ1Z0NvbnRleHQ/KGU9ci5nbG9iYWwubWFrZURlYnVnQ29udGV4dChlLHQpLHgubGV2ZWw9TWF0aC5tYXgoeC5sZXZlbCwxKSk6eC53YXJuKCdXZWJHTCBkZWJ1ZyBtb2RlIG5vdCBhY3RpdmF0ZWQuIGltcG9ydCAiQGx1bWEuZ2wvZGVidWciIHRvIGVuYWJsZS4nKSgpKSxlLl9pbnN0cnVtZW50ZWQ9ITAsZX1mdW5jdGlvbiB1ZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoZS5jYW52YXMpe3ZhciBuPXYodC51c2VEZXZpY2VQaXhlbHMpO2RlKGUsbix0KX1lbHNle3ZhciByPWUuZ2V0RXh0ZW5zaW9uKCJTVEFDS0dMX3Jlc2l6ZV9kcmF3aW5nYnVmZmVyIik7ciYmIndpZHRoImluIHQmJiJoZWlnaHQiaW4gdCYmci5yZXNpemUodC53aWR0aCx0LmhlaWdodCl9fWZ1bmN0aW9uIGNlKGUsdCl7dmFyIG49dC5vbkVycm9yLHI9dm9pZCAwPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gbnVsbH06bixpPWZ1bmN0aW9uKGUpe3JldHVybiByKCJXZWJHTCBjb250ZXh0OiAiLmNvbmNhdChlLnN0YXR1c01lc3NhZ2V8fCJlcnJvciIpKX07ZS5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRjcmVhdGlvbmVycm9yIixpLCExKTt2YXIgYT10LndlYmdsMSxvPXZvaWQgMD09PWF8fGEscz10LndlYmdsMix1PXZvaWQgMD09PXN8fHMsYz1udWxsO3JldHVybiB1JiYoYz0oYz1jfHxlLmdldENvbnRleHQoIndlYmdsMiIsdCkpfHxlLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbDIiLHQpKSxvJiYoYz0oYz1jfHxlLmdldENvbnRleHQoIndlYmdsIix0KSl8fGUuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIix0KSksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRjcmVhdGlvbmVycm9yIixpLCExKSxjfHxyKCJGYWlsZWQgdG8gY3JlYXRlICIuY29uY2F0KHUmJiFvPyJXZWJHTDIiOiJXZWJHTCIsIiBjb250ZXh0IikpfWZ1bmN0aW9uIGxlKGUpe3ZhciB0LG49ZS5jYW52YXMscj1lLndpZHRoLGk9dm9pZCAwPT09cj84MDA6cixhPWUuaGVpZ2h0LG89dm9pZCAwPT09YT82MDA6YSxzPWUub25FcnJvcix1PXZvaWQgMD09PXM/ZnVuY3Rpb24oKXt9OnM7InN0cmluZyI9PXR5cGVvZiBuPyhpZSYmImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fHUoImNyZWF0ZUdMQ29udGV4dCBjYWxsZWQgb24gY2FudmFzICciLmNvbmNhdChuLCInIGJlZm9yZSBwYWdlIHdhcyBsb2FkZWQiKSksdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSk6bj90PW46KCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKS5pZD0ibHVtYWdsLWNhbnZhcyIsdC5zdHlsZS53aWR0aD1OdW1iZXIuaXNGaW5pdGUoaSk/IiIuY29uY2F0KGksInB4Iik6IjEwMCUiLHQuc3R5bGUuaGVpZ2h0PU51bWJlci5pc0Zpbml0ZShvKT8iIi5jb25jYXQobywicHgiKToiMTAwJSIsZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUodCxkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpKTtyZXR1cm4gdH1mdW5jdGlvbiBoZShlKXt2YXIgdD1iKGUpPyJXZWJHTDIiOiJXZWJHTDEiLG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRQYXJhbWV0ZXIoNzkzNiksbj1lLmdldFBhcmFtZXRlcig3OTM3KSxyPWUuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7cmV0dXJue3ZlbmRvcjpyJiZlLmdldFBhcmFtZXRlcihyLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTHx8NzkzNil8fHQscmVuZGVyZXI6ciYmZS5nZXRQYXJhbWV0ZXIoci5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTHx8NzkzNyl8fG4sdmVuZG9yTWFza2VkOnQscmVuZGVyZXJNYXNrZWQ6bix2ZXJzaW9uOmUuZ2V0UGFyYW1ldGVyKDc5MzgpLHNoYWRpbmdMYW5ndWFnZVZlcnNpb246ZS5nZXRQYXJhbWV0ZXIoMzU3MjQpfX0oZSkscj1uPyIoIi5jb25jYXQobi52ZW5kb3IsIiwiKS5jb25jYXQobi5yZW5kZXJlciwiKSIpOiIiLGk9ZS5kZWJ1Zz8iIGRlYnVnIjoiIjt4LmluZm8oMSwiIi5jb25jYXQodCkuY29uY2F0KGksIiBjb250ZXh0ICIpLmNvbmNhdChyKSkoKX1mdW5jdGlvbiBmZShlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQmJmUgaW5zdGFuY2VvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0PzI6MX1mdW5jdGlvbiBkZShlLHQsbil7dmFyIHI9IndpZHRoImluIG4/bi53aWR0aDplLmNhbnZhcy5jbGllbnRXaWR0aCxpPSJoZWlnaHQiaW4gbj9uLmhlaWdodDplLmNhbnZhcy5jbGllbnRIZWlnaHQ7ciYmaXx8KHgubG9nKDEsIkNhbnZhcyBjbGllbnRXaWR0aC9jbGllbnRIZWlnaHQgaXMgMCIpKCksdD0xLHI9ZS5jYW52YXMud2lkdGh8fDEsaT1lLmNhbnZhcy5oZWlnaHR8fDEpLGUubHVtYT1lLmx1bWF8fHt9LGUubHVtYS5jYW52YXNTaXplSW5mbz1lLmx1bWEuY2FudmFzU2l6ZUluZm98fHt9O3ZhciBhPWUubHVtYS5jYW52YXNTaXplSW5mbztpZihhLmNsaWVudFdpZHRoIT09cnx8YS5jbGllbnRIZWlnaHQhPT1pfHxhLmRldmljZVBpeGVsUmF0aW8hPT10KXt2YXIgbz10LHM9TWF0aC5mbG9vcihyKm8pLHU9TWF0aC5mbG9vcihpKm8pO2UuY2FudmFzLndpZHRoPXMsZS5jYW52YXMuaGVpZ2h0PXUsZS5kcmF3aW5nQnVmZmVyV2lkdGg9PT1zJiZlLmRyYXdpbmdCdWZmZXJIZWlnaHQ9PT11fHwoeC53YXJuKCJEZXZpY2UgcGl4ZWwgcmF0aW8gY2xhbXBlZCIpKCksbz1NYXRoLm1pbihlLmRyYXdpbmdCdWZmZXJXaWR0aC9yLGUuZHJhd2luZ0J1ZmZlckhlaWdodC9pKSxlLmNhbnZhcy53aWR0aD1NYXRoLmZsb29yKHIqbyksZS5jYW52YXMuaGVpZ2h0PU1hdGguZmxvb3IoaSpvKSksT2JqZWN0LmFzc2lnbihlLmx1bWEuY2FudmFzU2l6ZUluZm8se2NsaWVudFdpZHRoOnIsY2xpZW50SGVpZ2h0OmksZGV2aWNlUGl4ZWxSYXRpbzp0fSl9fW4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZWV9KSksbi5kKHQsImsiLChmdW5jdGlvbigpe3JldHVybiAkfSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGV9KSksbi5kKHQsImwiLChmdW5jdGlvbigpe3JldHVybiBuZX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9lfSkpLG4uZCh0LCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gdWV9KSksbi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiBzZX0pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksbi5kKHQsImciLChmdW5jdGlvbigpe3JldHVybiBifSkpfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMzkpO2Z1bmN0aW9uIGkodCxuLGEpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/ZS5leHBvcnRzPWk9UmVmbGVjdC5nZXQ6ZS5leHBvcnRzPWk9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXIoZSx0KTtpZihpKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCk7cmV0dXJuIGEuZ2V0P2EuZ2V0LmNhbGwobik6YS52YWx1ZX19LGkodCxuLGF8fHQpfWUuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LG4scixpLGEsbyl7dHJ5e3ZhciBzPWVbYV0obyksdT1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QodSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ocixpKX1mdW5jdGlvbiBpKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBvPWUuYXBwbHkodCxuKTtmdW5jdGlvbiBzKGUpe3IobyxpLGEscyx1LCJuZXh0IixlKX1mdW5jdGlvbiB1KGUpe3IobyxpLGEscyx1LCJ0aHJvdyIsZSl9cyh2b2lkIDApfSkpfX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9MWUtNixpPSJ1bmRlZmluZWQiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxhPU1hdGgucmFuZG9tO01hdGguUEk7TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PWFyZ3VtZW50cy5sZW5ndGg7dC0tOyllKz1hcmd1bWVudHNbdF0qYXJndW1lbnRzW3RdO3JldHVybiBNYXRoLnNxcnQoZSl9KX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMjYpLGk9bigzOCk7ZnVuY3Rpb24gYShlLHQpe3JldHVybiF0fHwib2JqZWN0IiE9PU9iamVjdChyLmEpKHQpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9PYmplY3QoaS5hKShlKTp0fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigxMTApO2Z1bmN0aW9uIGkoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmT2JqZWN0KHIuYSkoZSx0KX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIzNiksaT1uKDIzNyksYT1uKDIzOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIoZSl8fGkoZSx0KXx8YSgpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnIodCk7dmFyIHI9bigyMiksaT1uKDEyNyksYT1uKDEzNSksbz1uKDk5KSxzPW4oMiksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxMjgpLGY9WzI1NSwyNTUsMjU1XSxkPVswLDAsMV0sdj1bMCwwLDFdLHA9MCxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt1KCkodGhpcyxlKTt2YXIgbj10LmNvbG9yLHI9dm9pZCAwPT09bj9mOm4saT10LmludGVuc2l0eSxhPXZvaWQgMD09PWk/MTppLG89dC5wb3NpdGlvbixzPXZvaWQgMD09PW8/djpvO3RoaXMuaWQ9dC5pZHx8InBvaW50LSIuY29uY2F0KHArKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PWEsdGhpcy50eXBlPSJwb2ludCIsdGhpcy5wb3NpdGlvbj1zLHRoaXMuYXR0ZW51YXRpb249eSh0KSx0aGlzLnByb2plY3RlZExpZ2h0PU9iamVjdC5hc3NpZ24oe30sdGhpcyl9cmV0dXJuIGwoKShlLFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXllcixuPXRoaXMucHJvamVjdGVkTGlnaHQsaT10LmNvbnRleHQudmlld3BvcnQsYT10LnByb3BzLG89YS5jb29yZGluYXRlU3lzdGVtLHM9YS5jb29yZGluYXRlT3JpZ2luLHU9T2JqZWN0KGguYikodGhpcy5wb3NpdGlvbix7dmlld3BvcnQ6aSxjb29yZGluYXRlU3lzdGVtOm8sY29vcmRpbmF0ZU9yaWdpbjpzLGZyb21Db29yZGluYXRlU3lzdGVtOmkuaXNHZW9zcGF0aWFsP3IuYS5MTkdMQVQ6ci5hLkNBUlRFU0lBTixmcm9tQ29vcmRpbmF0ZU9yaWdpbjpbMCwwLDBdfSk7cmV0dXJuIG4uY29sb3I9dGhpcy5jb2xvcixuLmludGVuc2l0eT10aGlzLmludGVuc2l0eSxuLnBvc2l0aW9uPXUsbn19XSksZX0oKTtmdW5jdGlvbiB5KGUpe3JldHVybiJhdHRlbnVhdGlvbiJpbiBlP2UuYXR0ZW51YXRpb246ImludGVuc2l0eSJpbiBlP1swLDAsZS5pbnRlbnNpdHldOmR9dmFyIG09big5KSxiPW4ubihtKSxfPW4oNCksTz1uLm4oXykseD1uKDEwKSx3PW4ubih4KSxTPW4oMTEzKSxrPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdSgpKHRoaXMsdCksYigpKHRoaXMsTygpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHcoKSh0LGUpLGwoKSh0LFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXllcixuPXRoaXMucHJvamVjdGVkTGlnaHQscj10LmNvbnRleHQudmlld3BvcnQsaT10LnByb3BzLGE9aS5jb29yZGluYXRlU3lzdGVtLG89aS5jb29yZGluYXRlT3JpZ2luLHM9aS5tb2RlbE1hdHJpeCx1PU9iamVjdChTLmIpKHt2aWV3cG9ydDpyLG1vZGVsTWF0cml4OnMsY29vcmRpbmF0ZVN5c3RlbTphLGNvb3JkaW5hdGVPcmlnaW46b30pLnByb2plY3RfdUNhbWVyYVBvc2l0aW9uO3JldHVybiBuLmNvbG9yPXRoaXMuY29sb3Isbi5pbnRlbnNpdHk9dGhpcy5pbnRlbnNpdHksbi5wb3NpdGlvbj11LG59fV0pLHR9KGcpLFA9bigyMTApLGo9bi5uKFApLFQ9TWF0aC5QSS8xODAsRT0yMy40Mzk3KlQ7ZnVuY3Rpb24gQShlLHQsbil7dmFyIHIsaSxhLG8scyx1LGM9VCotbixsPVQqdCxoPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS84NjRlNS0uNSsyNDQwNTg4fShlKS0yNDUxNTQ1fShlKSxmPShyPVQqKDM1Ny41MjkxKy45ODU2MDAyOCpoKSxpPVQqKDEuOTE0OCpNYXRoLnNpbihyKSsuMDIqTWF0aC5zaW4oMipyKSszZS00Kk1hdGguc2luKDMqcikpLGE9citpKzEwMi45MzcyKlQrTWF0aC5QSSx7ZGVjbGluYXRpb246KG89YSxzPTAsdT1vLE1hdGguYXNpbihNYXRoLnNpbihzKSpNYXRoLmNvcyhFKStNYXRoLmNvcyhzKSpNYXRoLnNpbihFKSpNYXRoLnNpbih1KSkpLHJpZ2h0QXNjZW5zaW9uOk0oYSwwKX0pLGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVCooMjgwLjE0NyszNjAuOTg1NjIzNSplKS10fShoLGMpLWYucmlnaHRBc2NlbnNpb247cmV0dXJue2F6aW11dGg6QyhkLGwsZi5kZWNsaW5hdGlvbiksYWx0aXR1ZGU6TChkLGwsZi5kZWNsaW5hdGlvbil9fWZ1bmN0aW9uIE0oZSx0KXt2YXIgbj1lO3JldHVybiBNYXRoLmF0YW4yKE1hdGguc2luKG4pKk1hdGguY29zKEUpLU1hdGgudGFuKHQpKk1hdGguc2luKEUpLE1hdGguY29zKG4pKX1mdW5jdGlvbiBDKGUsdCxuKXt2YXIgcj1lLGk9dCxhPW47cmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zaW4ociksTWF0aC5jb3MocikqTWF0aC5zaW4oaSktTWF0aC50YW4oYSkqTWF0aC5jb3MoaSkpfWZ1bmN0aW9uIEwoZSx0LG4pe3ZhciByPWUsaT10LGE9bjtyZXR1cm4gTWF0aC5hc2luKE1hdGguc2luKGkpKk1hdGguc2luKGEpK01hdGguY29zKGkpKk1hdGguY29zKGEpKk1hdGguY29zKHIpKX12YXIgST1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHI9ZS50aW1lc3RhbXAsaT1qKCkoZSxbInRpbWVzdGFtcCJdKTtyZXR1cm4gdSgpKHRoaXMsdCksKG49YigpKHRoaXMsTygpKHQpLmNhbGwodGhpcyxpKSkpLnRpbWVzdGFtcD1yLG59cmV0dXJuIHcoKSh0LGUpLGwoKSh0LFt7a2V5OiJnZXRQcm9qZWN0ZWRMaWdodCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXllci5jb250ZXh0LnZpZXdwb3J0LG49dC5sYXRpdHVkZSxyPXQubG9uZ2l0dWRlO3JldHVybiB0aGlzLmRpcmVjdGlvbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9QShlLHQsbiksaT1yLmF6aW11dGgsYT1yLmFsdGl0dWRlLG89aStNYXRoLlBJO3JldHVyblstTWF0aC5zaW4obyksLU1hdGguY29zKG8pLC1NYXRoLnNpbihhKV19KHRoaXMudGltZXN0YW1wLG4sciksdGhpc319XSksdH0oby5hKSxSPW4oOTIpLEQ9big1KSxGPW4oMTYpLE49bigxNSksej1uKDE3KSxCPW4oMTYxKSxVPW4oNjApLFY9Wy0xLC0xLDEsLTEsLTEsMSwxLDFdLEc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4pe3ZhciByO09iamVjdChELmEpKHRoaXMsdCk7dmFyIGk9Vi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZT8wOmV9KSk7cmV0dXJuKHI9T2JqZWN0KEYuYSkodGhpcyxPYmplY3QoTi5hKSh0KS5jYWxsKHRoaXMsZSxPYmplY3QuYXNzaWduKHt9LG4se3ZzOiJhdHRyaWJ1dGUgdmVjMiBhQ2xpcFNwYWNlUG9zaXRpb247XG5hdHRyaWJ1dGUgdmVjMiBhVGV4Q29vcmQ7XG5hdHRyaWJ1dGUgdmVjMiBhQ29vcmRpbmF0ZTtcblxudmFyeWluZyB2ZWMyIHBvc2l0aW9uO1xudmFyeWluZyB2ZWMyIGNvb3JkaW5hdGU7XG52YXJ5aW5nIHZlYzIgdXY7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdsX1Bvc2l0aW9uID0gdmVjNChhQ2xpcFNwYWNlUG9zaXRpb24sIDAuLCAxLik7XG4gIHBvc2l0aW9uID0gYUNsaXBTcGFjZVBvc2l0aW9uO1xuICBjb29yZGluYXRlID0gYUNvb3JkaW5hdGU7XG4gIHV2ID0gYVRleENvb3JkO1xufVxuIixnZW9tZXRyeTpuZXcgVS5hKHtkcmF3TW9kZTo1LHZlcnRleENvdW50OjQsYXR0cmlidXRlczp7YUNsaXBTcGFjZVBvc2l0aW9uOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShWKX0sYVRleENvb3JkOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShpKX0sYUNvb3JkaW5hdGU6e3NpemU6Mix2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KGkpfX19KX0pKSkpLnNldFZlcnRleENvdW50KDQpLHJ9cmV0dXJuIE9iamVjdCh6LmEpKHQsZSksdH0oQi5hKSxXPW4oMTEpLEg9bigxNjMpLHE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt1KCkodGhpcyx0KSxuPWIoKSh0aGlzLE8oKSh0KS5jYWxsKHRoaXMsZSxyKSk7dmFyIGk9ci5tb2R1bGUsYT1yLmZzLG89ci5pZDtyZXR1cm4gbi5tb2RlbD1uZXcgRyhlLHtpZDpvLGZzOmEsbW9kdWxlczpbaV19KSxufXJldHVybiB3KCkodCxlKSxsKCkodCxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5nbDtPYmplY3QoVy5sKShuLHtmcmFtZWJ1ZmZlcjplLm91dHB1dEJ1ZmZlcixjbGVhckNvbG9yOlswLDAsMCwwXX0sKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3JlbmRlclBhc3MobixlKX0pKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1vZGVsLmRlbGV0ZSgpLHRoaXMubW9kZWw9bnVsbH19LHtrZXk6Il9yZW5kZXJQYXNzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQuaW5wdXRCdWZmZXI7dC5vdXRwdXRCdWZmZXI7T2JqZWN0KEguYSkoZSx7Y29sb3I6ITB9KSx0aGlzLm1vZGVsLmRyYXcoe21vZHVsZVNldHRpbmdzOnRoaXMucHJvcHMubW9kdWxlU2V0dGluZ3MsdW5pZm9ybXM6e3RleHR1cmU6bix0ZXhTaXplOltuLndpZHRoLG4uaGVpZ2h0XX0scGFyYW1ldGVyczp7ZGVwdGhXcml0ZTohMSxkZXB0aFRlc3Q6ITF9fSl9fV0pLHR9KG4oMTU1KS5hKSxYPW4oMTc2KSxaPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIHUoKSh0aGlzLHQpLChuPWIoKSh0aGlzLE8oKSh0KS5jYWxsKHRoaXMscikpKS5pZD0iIi5jb25jYXQoZS5uYW1lLCItcGFzcyIpLE9iamVjdChYLmIpKGUpLG4ubW9kdWxlPWUsbn1yZXR1cm4gdygpKHQsZSksbCgpKHQsW3trZXk6InBvc3RSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5wYXNzZXN8fCh0aGlzLnBhc3Nlcz1mdW5jdGlvbihlLHQsbixyKXtpZih0LmZpbHRlcnx8dC5zYW1wbGVyKXt2YXIgaT1RKHQpO3JldHVybltuZXcgcShlLHtpZDpuLG1vZHVsZTp0LGZzOmksbW9kdWxlU2V0dGluZ3M6cn0pXX1yZXR1cm4odC5wYXNzZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKGksYSl7dmFyIG89USh0LGkpLHM9IiIuY29uY2F0KG4sIi0iKS5jb25jYXQoYSk7cmV0dXJuIG5ldyBxKGUse2lkOnMsbW9kdWxlOnQsZnM6byxtb2R1bGVTZXR0aW5nczpyfSl9KSl9KGUsdGhpcy5tb2R1bGUsdGhpcy5pZCx0aGlzLnByb3BzKSk7Zm9yKHZhciBuPXQudGFyZ2V0LHI9dC5pbnB1dEJ1ZmZlcixpPXQuc3dhcEJ1ZmZlcixhPTA7YTx0aGlzLnBhc3Nlcy5sZW5ndGg7YSsrKXtuJiZhPT09dGhpcy5wYXNzZXMubGVuZ3RoLTEmJihpPW4pLHRoaXMucGFzc2VzW2FdLnJlbmRlcih7aW5wdXRCdWZmZXI6cixvdXRwdXRCdWZmZXI6aX0pO3ZhciBvPWk7aT1yLHI9b31yZXR1cm4gcn19LHtrZXk6ImNsZWFudXAiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5wYXNzZXMpe3ZhciBlPSEwLHQ9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMucGFzc2VzW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KHI9aS5uZXh0KCkpLmRvbmUpO2U9ITApe3IudmFsdWUuZGVsZXRlKCl9fWNhdGNoKGUpe3Q9ITAsbj1lfWZpbmFsbHl7dHJ5e2V8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYodCl0aHJvdyBufX10aGlzLnBhc3Nlcz1udWxsfX19XSksdH0oUi5hKTt2YXIgWT1mdW5jdGlvbihlKXtyZXR1cm4idW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcbnVuaWZvcm0gdmVjMiB0ZXhTaXplO1xuXG52YXJ5aW5nIHZlYzIgcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgY29vcmRpbmF0ZTtcbnZhcnlpbmcgdmVjMiB1djtcblxudm9pZCBtYWluKCkge1xuICB2ZWMyIHRleENvb3JkID0gY29vcmRpbmF0ZTtcblxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgdGV4Q29vcmQpO1xuICBnbF9GcmFnQ29sb3IgPSAiLmNvbmNhdChlLCIoZ2xfRnJhZ0NvbG9yLCB0ZXhTaXplLCB0ZXhDb29yZCk7XG59XG4iKX0sSz1mdW5jdGlvbihlKXtyZXR1cm4idW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcbnVuaWZvcm0gdmVjMiB0ZXhTaXplO1xuXG52YXJ5aW5nIHZlYzIgcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgY29vcmRpbmF0ZTtcbnZhcnlpbmcgdmVjMiB1djtcblxudm9pZCBtYWluKCkge1xuICB2ZWMyIHRleENvb3JkID0gY29vcmRpbmF0ZTtcblxuICBnbF9GcmFnQ29sb3IgPSAiLmNvbmNhdChlLCIodGV4dHVyZSwgdGV4U2l6ZSwgdGV4Q29vcmQpO1xufVxuIil9O2Z1bmN0aW9uIFEoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmU7aWYodC5maWx0ZXIpe3ZhciBuPSJzdHJpbmciPT10eXBlb2YgdC5maWx0ZXI/dC5maWx0ZXI6IiIuY29uY2F0KGUubmFtZSwiX2ZpbHRlckNvbG9yIik7cmV0dXJuIFkobil9aWYodC5zYW1wbGVyKXt2YXIgcj0ic3RyaW5nIj09dHlwZW9mIHQuc2FtcGxlcj90LnNhbXBsZXI6IiIuY29uY2F0KGUubmFtZSwiX3NhbXBsZUNvbG9yIik7cmV0dXJuIEsocil9cmV0dXJuIG51bGx9dmFyIEo9big5MSksJD1uKDE5OCksZWU9bigxMzkpLHRlPW4oMTQ0KSxuZT1uKDEwOCkscmU9bigxNzEpLGllPW4oMTUwKSxhZT1uKDUwKSxvZT1uKDEzNyksc2U9bigyMDYpLHVlPW4oMTAxKSxjZT1uKDE4OSksbGU9bigyNzIpLGhlPW4oMTEyKSxmZT1uKDcwKSxkZT1uKDEzNiksdmU9bigzMykscGU9bigxKSxnZT1uKDY4KSx5ZT1uKDExNCksbWU9big0NyksYmU9e3Bvc2l0aW9uOlswLDAsMF0scGl0Y2g6MCxiZWFyaW5nOjAsbWF4UGl0Y2g6OTAsbWluUGl0Y2g6LTkwfSxfZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHI9ZS53aWR0aCxpPWUuaGVpZ2h0LGE9ZS5wb3NpdGlvbixvPXZvaWQgMD09PWE/YmUucG9zaXRpb246YSxzPWUuYmVhcmluZyxjPXZvaWQgMD09PXM/YmUuYmVhcmluZzpzLGw9ZS5waXRjaCxoPXZvaWQgMD09PWw/YmUucGl0Y2g6bCxmPWUubG9uZ2l0dWRlLGQ9ZS5sYXRpdHVkZSx2PWUubWF4UGl0Y2gscD12b2lkIDA9PT12P2JlLm1heFBpdGNoOnYsZz1lLm1pblBpdGNoLHk9dm9pZCAwPT09Zz9iZS5taW5QaXRjaDpnLG09ZS5zdGFydEJlYXJpbmcsXz1lLnN0YXJ0UGl0Y2gseD1lLnN0YXJ0Wm9vbVBvc2l0aW9uLHc9ZS5zdGFydFpvb207cmV0dXJuIHUoKSh0aGlzLHQpLChuPWIoKSh0aGlzLE8oKSh0KS5jYWxsKHRoaXMse3dpZHRoOnIsaGVpZ2h0OmkscG9zaXRpb246byxiZWFyaW5nOmMscGl0Y2g6aCxsb25naXR1ZGU6ZixsYXRpdHVkZTpkLG1heFBpdGNoOnAsbWluUGl0Y2g6eX0pKSkuX2ludGVyYWN0aXZlU3RhdGU9e3N0YXJ0QmVhcmluZzptLHN0YXJ0UGl0Y2g6XyxzdGFydFpvb21Qb3NpdGlvbjp4LHN0YXJ0Wm9vbTp3fSxufXJldHVybiB3KCkodCxlKSxsKCkodCxbe2tleToiZ2V0SW50ZXJhY3RpdmVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJhY3RpdmVTdGF0ZX19LHtrZXk6ImdldERpcmVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9bmV3IHBlLmcoe2JlYXJpbmc6dGhpcy5fdmlld3BvcnRQcm9wcy5iZWFyaW5nLHBpdGNoOmU/OTA6OTArdGhpcy5fdmlld3BvcnRQcm9wcy5waXRjaH0pLG49dC50b1ZlY3RvcjMoKS5ub3JtYWxpemUoKTtyZXR1cm4gbn19LHtrZXk6InBhblN0YXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0se2tleToicGFuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0se2tleToicGFuRW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0se2tleToicm90YXRlU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe2UucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0QmVhcmluZzp0aGlzLl92aWV3cG9ydFByb3BzLmJlYXJpbmcsc3RhcnRQaXRjaDp0aGlzLl92aWV3cG9ydFByb3BzLnBpdGNofSl9fSx7a2V5OiJyb3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGVsdGFTY2FsZVgsbj1lLmRlbHRhU2NhbGVZLHI9dGhpcy5faW50ZXJhY3RpdmVTdGF0ZSxpPXIuc3RhcnRCZWFyaW5nLGE9ci5zdGFydFBpdGNoO3JldHVybiBOdW1iZXIuaXNGaW5pdGUoaSkmJk51bWJlci5pc0Zpbml0ZShhKT90aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6aS0xODAqdCxwaXRjaDphLTkwKm59KTp0aGlzfX0se2tleToicm90YXRlRW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0QmVhcmluZzpudWxsLHN0YXJ0UGl0Y2g6bnVsbH0pfX0se2tleToiem9vbVN0YXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbVBvc2l0aW9uOnRoaXMuX3ZpZXdwb3J0UHJvcHMucG9zaXRpb24sc3RhcnRab29tOnRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbX0pfX0se2tleToiem9vbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zY2FsZSxuPXRoaXMuX2ludGVyYWN0aXZlU3RhdGUuc3RhcnRab29tUG9zaXRpb247bnx8KG49dGhpcy5fdmlld3BvcnRQcm9wcy5wb3NpdGlvbik7dmFyIHI9dGhpcy5nZXREaXJlY3Rpb24oKTtyZXR1cm4gdGhpcy5fbW92ZShyLE1hdGgubG9nMih0KSxuKX19LHtrZXk6Inpvb21FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRab29tUG9zaXRpb246bnVsbCxzdGFydFpvb206bnVsbH0pfX0se2tleToibW92ZUxlZnQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREaXJlY3Rpb24oITApO3JldHVybiB0aGlzLl9tb3ZlKGUucm90YXRlWih7cmFkaWFuczpNYXRoLlBJLzJ9KSl9fSx7a2V5OiJtb3ZlUmlnaHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREaXJlY3Rpb24oITApO3JldHVybiB0aGlzLl9tb3ZlKGUucm90YXRlWih7cmFkaWFuczotTWF0aC5QSS8yfSkpfX0se2tleToibW92ZVVwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RGlyZWN0aW9uKCEwKTtyZXR1cm4gdGhpcy5fbW92ZShlKX19LHtrZXk6Im1vdmVEb3duIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RGlyZWN0aW9uKCEwKTtyZXR1cm4gdGhpcy5fbW92ZShlLm5lZ2F0ZSgpKX19LHtrZXk6InJvdGF0ZUxlZnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7YmVhcmluZzp0aGlzLl92aWV3cG9ydFByb3BzLmJlYXJpbmctMTV9KX19LHtrZXk6InJvdGF0ZVJpZ2h0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6dGhpcy5fdmlld3BvcnRQcm9wcy5iZWFyaW5nKzE1fSl9fSx7a2V5OiJyb3RhdGVVcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtwaXRjaDp0aGlzLl92aWV3cG9ydFByb3BzLnBpdGNoKzEwfSl9fSx7a2V5OiJyb3RhdGVEb3duIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3BpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2gtMTB9KX19LHtrZXk6Inpvb21JbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56b29tKHtzY2FsZToyfSl9fSx7a2V5OiJ6b29tT3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvb20oe3NjYWxlOi41fSl9fSx7a2V5OiJzaG9ydGVzdFBhdGhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdldFZpZXdwb3J0UHJvcHMoKSxuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcykscj1uLmJlYXJpbmcsaT1uLmxvbmdpdHVkZTtyZXR1cm4gTWF0aC5hYnMoci10LmJlYXJpbmcpPjE4MCYmKG4uYmVhcmluZz1yPDA/ciszNjA6ci0zNjApLE1hdGguYWJzKGktdC5sb25naXR1ZGUpPjE4MCYmKG4ubG9uZ2l0dWRlPWk8MD9pKzM2MDppLTM2MCksbn19LHtrZXk6Il9tb3ZlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0aGlzLl92aWV3cG9ydFByb3BzLnBvc2l0aW9uLHI9ZS5zY2FsZSgyMCp0KTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtwb3NpdGlvbjpuZXcgcGUuZShuKS5hZGQocil9KX19LHtrZXk6Il9nZXRVcGRhdGVkU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChPYmplY3QuYXNzaWduKHt9LHRoaXMuX3ZpZXdwb3J0UHJvcHMsdGhpcy5faW50ZXJhY3RpdmVTdGF0ZSxlKSl9fSx7a2V5OiJfYXBwbHlDb25zdHJhaW50cyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5waXRjaCxuPWUubWF4UGl0Y2gscj1lLm1pblBpdGNoLGk9ZS5sb25naXR1ZGUsYT1lLmJlYXJpbmc7cmV0dXJuIGUucGl0Y2g9T2JqZWN0KHBlLmkpKHQscixuKSwoaTwtMTgwfHxpPjE4MCkmJihlLmxvbmdpdHVkZT1PYmplY3QobWUuZSkoaSsxODAsMzYwKS0xODApLChhPC0xODB8fGE+MTgwKSYmKGUuYmVhcmluZz1PYmplY3QobWUuZSkoYSsxODAsMzYwKS0xODApLGV9fV0pLHR9KHllLmEpLE9lPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIHUoKSh0aGlzLHQpLGIoKSh0aGlzLE8oKSh0KS5jYWxsKHRoaXMsX2UsZSkpfXJldHVybiB3KCkodCxlKSx0fShnZS5hKTt2YXIgeGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB1KCkodGhpcyx0KSxiKCkodGhpcyxPKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gdygpKHQsZSksbCgpKHQsW3trZXk6Il9nZXRWaWV3cG9ydCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52aWV3U3RhdGUsbj10Lm1vZGVsTWF0cml4LHI9dm9pZCAwPT09bj9udWxsOm4saT10LmJlYXJpbmcsYT12b2lkIDA9PT1pPzA6aSxvPXQucGl0Y2gscz12b2lkIDA9PT1vPzA6byx1PXQudXAsYz12b2lkIDA9PT11P1swLDAsMV06dSxsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYmVhcmluZyxuPWUucGl0Y2g7cmV0dXJuIG5ldyBwZS5nKHtiZWFyaW5nOnQscGl0Y2g6bn0pLnRvVmVjdG9yMygpLm5vcm1hbGl6ZSgpfSh7YmVhcmluZzphLHBpdGNoOjkwK3N9KSxoPXI/ci50cmFuc2Zvcm1EaXJlY3Rpb24obCk6bCxmPU9iamVjdCh2ZS5nKShlKSxkPU1hdGgucG93KDIsZiksdj0obmV3IHBlLmIpLmxvb2tBdCh7ZXllOlswLDAsMF0sY2VudGVyOmgsdXA6Y30pLnNjYWxlKGQpO3JldHVybiBuZXcgYWUuYShPYmplY3QuYXNzaWduKHt9LGUse3pvb206Zix2aWV3TWF0cml4OnZ9KSl9fSx7a2V5OiJjb250cm9sbGVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0Q29udHJvbGxlclByb3BzKHt0eXBlOk9lfSl9fV0pLHR9KGZlLmEpO3hlLmRpc3BsYXlOYW1lPSJGaXJzdFBlcnNvblZpZXciO3ZhciB3ZT1uKDY2KSxTZT1uKDY3KSxrZT17b3JiaXRBeGlzOiJaIixyb3RhdGlvblg6MCxyb3RhdGlvbk9yYml0OjAsem9vbTowLHRhcmdldDpbMCwwLDBdLG1pblJvdGF0aW9uWDotOTAsbWF4Um90YXRpb25YOjkwLG1pblpvb206LTEvMCxtYXhab29tOjEvMH0sUGU9e3RyYW5zaXRpb25EdXJhdGlvbjozMDAsdHJhbnNpdGlvbkVhc2luZzpmdW5jdGlvbihlKXtyZXR1cm4gZX0sdHJhbnNpdGlvbkludGVycG9sYXRvcjpuZXcgd2UuYShbInRhcmdldCIsInpvb20iLCJyb3RhdGlvblgiLCJyb3RhdGlvbk9yYml0Il0pLHRyYW5zaXRpb25JbnRlcnJ1cHRpb246U2UuYS5CUkVBS30samU9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucG93KDIsZSl9LFRlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG4scj1lLlZpZXdwb3J0VHlwZSxpPWUud2lkdGgsYT1lLmhlaWdodCxvPWUub3JiaXRBeGlzLHM9dm9pZCAwPT09bz9rZS5vcmJpdEF4aXM6byxjPWUucm90YXRpb25YLGw9dm9pZCAwPT09Yz9rZS5yb3RhdGlvblg6YyxoPWUucm90YXRpb25PcmJpdCxmPXZvaWQgMD09PWg/a2Uucm90YXRpb25PcmJpdDpoLGQ9ZS50YXJnZXQsdj12b2lkIDA9PT1kP2tlLnRhcmdldDpkLHA9ZS56b29tLGc9dm9pZCAwPT09cD9rZS56b29tOnAseT1lLm1pblJvdGF0aW9uWCxtPXZvaWQgMD09PXk/a2UubWluUm90YXRpb25YOnksXz1lLm1heFJvdGF0aW9uWCx4PXZvaWQgMD09PV8/a2UubWF4Um90YXRpb25YOl8sdz1lLm1pblpvb20sUz12b2lkIDA9PT13P2tlLm1pblpvb206dyxrPWUubWF4Wm9vbSxQPXZvaWQgMD09PWs/a2UubWF4Wm9vbTprLGo9ZS5zdGFydFBhblBvc2l0aW9uLFQ9ZS5zdGFydFRhcmdldCxFPWUuc3RhcnRSb3RhdGlvblgsQT1lLnN0YXJ0Um90YXRpb25PcmJpdCxNPWUuc3RhcnRab29tUG9zaXRpb24sQz1lLnN0YXJ0Wm9vbTtyZXR1cm4gdSgpKHRoaXMsdCksKG49YigpKHRoaXMsTygpKHQpLmNhbGwodGhpcyx7d2lkdGg6aSxoZWlnaHQ6YSxvcmJpdEF4aXM6cyxyb3RhdGlvblg6bCxyb3RhdGlvbk9yYml0OmYsdGFyZ2V0OnYsem9vbTpnLG1pblJvdGF0aW9uWDptLG1heFJvdGF0aW9uWDp4LG1pblpvb206UyxtYXhab29tOlB9KSkpLl9pbnRlcmFjdGl2ZVN0YXRlPXtzdGFydFBhblBvc2l0aW9uOmosc3RhcnRUYXJnZXQ6VCxzdGFydFJvdGF0aW9uWDpFLHN0YXJ0Um90YXRpb25PcmJpdDpBLHN0YXJ0Wm9vbVBvc2l0aW9uOk0sc3RhcnRab29tOkN9LG4uVmlld3BvcnRUeXBlPXIsbn1yZXR1cm4gdygpKHQsZSksbCgpKHQsW3trZXk6ImdldFZpZXdwb3J0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHN9fSx7a2V5OiJnZXRJbnRlcmFjdGl2ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlfX0se2tleToicGFuU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucG9zLG49dGhpcy5fdmlld3BvcnRQcm9wcy50YXJnZXQ7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRQYW5Qb3NpdGlvbjp0LHN0YXJ0VGFyZ2V0Om59KX19LHtrZXk6InBhbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wb3Msbj0oZS5zdGFydFBvcyx0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlKSxyPW4uc3RhcnRQYW5Qb3NpdGlvbixpPW4uc3RhcnRUYXJnZXQsYT1uZXcgcGUuZCh0KS5zdWJ0cmFjdChyKTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt0YXJnZXQ6dGhpcy5fY2FsY3VsYXRlTmV3VGFyZ2V0KHtzdGFydFRhcmdldDppLHBpeGVsT2Zmc2V0OmF9KX0pfX0se2tleToicGFuRW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0UGFuUG9zaXRpb246bnVsbCxzdGFydFRhcmdldDpudWxsfSl9fSx7a2V5OiJyb3RhdGVTdGFydCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5wb3M7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRSb3RhdGlvblg6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvblgsc3RhcnRSb3RhdGlvbk9yYml0OnRoaXMuX3ZpZXdwb3J0UHJvcHMucm90YXRpb25PcmJpdH0pfX0se2tleToicm90YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRlbHRhU2NhbGVYLG49ZS5kZWx0YVNjYWxlWSxyPXRoaXMuX2ludGVyYWN0aXZlU3RhdGUsaT1yLnN0YXJ0Um90YXRpb25YLGE9ci5zdGFydFJvdGF0aW9uT3JiaXQ7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShpKSYmTnVtYmVyLmlzRmluaXRlKGEpPygoaTwtOTB8fGk+OTApJiYodCo9LTEpLHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cm90YXRpb25YOmkrMTgwKm4scm90YXRpb25PcmJpdDphKzE4MCp0LGlzUm90YXRpbmc6ITB9KSk6dGhpc319LHtrZXk6InJvdGF0ZUVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFJvdGF0aW9uWDpudWxsLHN0YXJ0Um90YXRpb25PcmJpdDpudWxsfSl9fSx7a2V5OiJzaG9ydGVzdFBhdGhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdldFZpZXdwb3J0UHJvcHMoKSxuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcykscj1uLnJvdGF0aW9uT3JiaXQ7cmV0dXJuIE1hdGguYWJzKHItdC5yb3RhdGlvbk9yYml0KT4xODAmJihuLnJvdGF0aW9uT3JiaXQ9cjwwP3IrMzYwOnItMzYwKSxufX0se2tleToiem9vbVN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnBvcztyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFpvb21Qb3NpdGlvbjp0LHN0YXJ0VGFyZ2V0OnRoaXMuX3ZpZXdwb3J0UHJvcHMudGFyZ2V0LHN0YXJ0Wm9vbTp0aGlzLl92aWV3cG9ydFByb3BzLnpvb219KX19LHtrZXk6Inpvb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucG9zLG49ZS5zdGFydFBvcyxyPWUuc2NhbGUsaT10aGlzLl92aWV3cG9ydFByb3BzLGE9aS56b29tLG89aS53aWR0aCxzPWkuaGVpZ2h0LHU9aS50YXJnZXQsYz10aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLGw9Yy5zdGFydFpvb20saD1jLnN0YXJ0Wm9vbVBvc2l0aW9uLGY9Yy5zdGFydFRhcmdldDtOdW1iZXIuaXNGaW5pdGUobCl8fChsPWEsZj11LGg9bnx8dCk7dmFyIGQ9dGhpcy5fY2FsY3VsYXRlTmV3Wm9vbSh7c2NhbGU6cixzdGFydFpvb206bH0pLHY9amUobCkscD1qZShkKSxnPShvLzItaFswXSkqKHAvdi0xKSx5PShzLzItaFsxXSkqKHAvdi0xKTtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt6b29tOmQsdGFyZ2V0OnRoaXMuX2NhbGN1bGF0ZU5ld1RhcmdldCh7c3RhcnRUYXJnZXQ6Zix6b29tOmQscGl4ZWxPZmZzZXQ6W2cseV19KX0pfX0se2tleToiem9vbUVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFpvb21Qb3NpdGlvbjpudWxsLHN0YXJ0VGFyZ2V0Om51bGwsc3RhcnRab29tOm51bGx9KX19LHtrZXk6Inpvb21JbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt6b29tOnRoaXMuX2NhbGN1bGF0ZU5ld1pvb20oe3NjYWxlOjJ9KX0pfX0se2tleToiem9vbU91dCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHt6b29tOnRoaXMuX2NhbGN1bGF0ZU5ld1pvb20oe3NjYWxlOi41fSl9KX19LHtrZXk6Im1vdmVMZWZ0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVstNTAsMF07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7dGFyZ2V0OnRoaXMuX2NhbGN1bGF0ZU5ld1RhcmdldCh7cGl4ZWxPZmZzZXQ6ZX0pfSl9fSx7a2V5OiJtb3ZlUmlnaHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9WzUwLDBdO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3RhcmdldDp0aGlzLl9jYWxjdWxhdGVOZXdUYXJnZXQoe3BpeGVsT2Zmc2V0OmV9KX0pfX0se2tleToibW92ZVVwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPVswLC01MF07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7dGFyZ2V0OnRoaXMuX2NhbGN1bGF0ZU5ld1RhcmdldCh7cGl4ZWxPZmZzZXQ6ZX0pfSl9fSx7a2V5OiJtb3ZlRG93biIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1bMCw1MF07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7dGFyZ2V0OnRoaXMuX2NhbGN1bGF0ZU5ld1RhcmdldCh7cGl4ZWxPZmZzZXQ6ZX0pfSl9fSx7a2V5OiJyb3RhdGVMZWZ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3JvdGF0aW9uT3JiaXQ6dGhpcy5fdmlld3BvcnRQcm9wcy5yb3RhdGlvbk9yYml0LTE1fSl9fSx7a2V5OiJyb3RhdGVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtyb3RhdGlvbk9yYml0OnRoaXMuX3ZpZXdwb3J0UHJvcHMucm90YXRpb25PcmJpdCsxNX0pfX0se2tleToicm90YXRlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cm90YXRpb25YOnRoaXMuX3ZpZXdwb3J0UHJvcHMucm90YXRpb25YLTEwfSl9fSx7a2V5OiJyb3RhdGVEb3duIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3JvdGF0aW9uWDp0aGlzLl92aWV3cG9ydFByb3BzLnJvdGF0aW9uWCsxMH0pfX0se2tleToiX2NhbGN1bGF0ZU5ld1pvb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2NhbGUsbj1lLnN0YXJ0Wm9vbSxyPXRoaXMuX3ZpZXdwb3J0UHJvcHMsaT1yLm1heFpvb20sYT1yLm1pblpvb207TnVtYmVyLmlzRmluaXRlKG4pfHwobj10aGlzLl92aWV3cG9ydFByb3BzLnpvb20pO3ZhciBvPW4rTWF0aC5sb2cyKHQpO3JldHVybiBPYmplY3QocGUuaSkobyxhLGkpfX0se2tleToiX2NhbGN1bGF0ZU5ld1RhcmdldCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydFRhcmdldCxuPWUuem9vbSxyPWUucGl4ZWxPZmZzZXQsaT1PYmplY3QuYXNzaWduKHt9LHRoaXMuX3ZpZXdwb3J0UHJvcHMpO051bWJlci5pc0Zpbml0ZShuKSYmKGkuem9vbT1uKSx0JiYoaS50YXJnZXQ9dCk7dmFyIGE9bmV3IHRoaXMuVmlld3BvcnRUeXBlKGkpLG89YS5wcm9qZWN0KGkudGFyZ2V0KTtyZXR1cm4gYS51bnByb2plY3QoW29bMF0tclswXSxvWzFdLXJbMV0sb1syXV0pfX0se2tleToiX2dldFVwZGF0ZWRTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KE9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcyx0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLGUpKX19LHtrZXk6Il9hcHBseUNvbnN0cmFpbnRzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLm1heFpvb20sbj1lLm1pblpvb20scj1lLnpvb20saT1lLm1heFJvdGF0aW9uWCxhPWUubWluUm90YXRpb25YLG89ZS5yb3RhdGlvbk9yYml0O3JldHVybiBlLnpvb209T2JqZWN0KHBlLmkpKHIsbix0KSxlLnJvdGF0aW9uWD1PYmplY3QocGUuaSkoZS5yb3RhdGlvblgsYSxpKSwobzwtMTgwfHxvPjE4MCkmJihlLnJvdGF0aW9uT3JiaXQ9T2JqZWN0KG1lLmUpKG8rMTgwLDM2MCktMTgwKSxlfX1dKSx0fSh5ZS5hKSxFZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiB1KCkodGhpcyx0KSxiKCkodGhpcyxPKCkodCkuY2FsbCh0aGlzLFRlLGUpKX1yZXR1cm4gdygpKHQsZSksbCgpKHQsW3trZXk6Il9nZXRUcmFuc2l0aW9uUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIFBlfX1dKSx0fShnZS5hKSxBZT1NYXRoLlBJLzE4MDtmdW5jdGlvbiBNZShlKXt2YXIgdD1lLmhlaWdodCxuPWUuZm92eSxyPWUub3JiaXRBeGlzLGk9ZS5yb3RhdGlvblgsYT1lLnJvdGF0aW9uT3JiaXQsbz1lLnpvb20scz0uNS9NYXRoLnRhbihuKkFlLzIpLHU9IloiPT09cj9bMCwwLDFdOlswLDEsMF0sYz0iWiI9PT1yP1swLC1zLDBdOlswLDAsc10sbD0obmV3IHBlLmIpLmxvb2tBdCh7ZXllOmMsdXA6dX0pO2wucm90YXRlWChpKkFlKSwiWiI9PT1yP2wucm90YXRlWihhKkFlKTpsLnJvdGF0ZVkoYSpBZSk7dmFyIGg9TWF0aC5wb3coMixvKS8odHx8MSk7cmV0dXJuIGwuc2NhbGUoaCksbH12YXIgQ2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt1KCkodGhpcyx0KTt2YXIgbj1lLmlkLHI9ZS54LGk9ZS55LGE9ZS53aWR0aCxvPWUuaGVpZ2h0LHM9ZS5mb3Z5LGM9dm9pZCAwPT09cz81MDpzLGw9ZS5uZWFyLGg9ZS5mYXIsZj1lLm9yYml0QXhpcyxkPXZvaWQgMD09PWY/IloiOmYsdj1lLnRhcmdldCxwPXZvaWQgMD09PXY/WzAsMCwwXTp2LGc9ZS5yb3RhdGlvblgseT12b2lkIDA9PT1nPzA6ZyxtPWUucm90YXRpb25PcmJpdCxfPXZvaWQgMD09PW0/MDptLHg9ZS56b29tLHc9dm9pZCAwPT09eD8wOng7cmV0dXJuIGIoKSh0aGlzLE8oKSh0KS5jYWxsKHRoaXMse2lkOm4sdmlld01hdHJpeDpNZSh7aGVpZ2h0Om8sZm92eTpjLG9yYml0QXhpczpkLHJvdGF0aW9uWDp5LHJvdGF0aW9uT3JiaXQ6Xyx6b29tOnd9KSxmb3Z5OmMsbmVhcjpsLGZhcjpoLHg6cix5OmkscG9zaXRpb246cCx3aWR0aDphLGhlaWdodDpvLHpvb206d30pKX1yZXR1cm4gdygpKHQsZSksdH0oYWUuYSksTGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gdSgpKHRoaXMsdCksYigpKHRoaXMsTygpKHQpLmNhbGwodGhpcyxPYmplY3QuYXNzaWduKHt9LGUse3R5cGU6Q2V9KSkpfXJldHVybiB3KCkodCxlKSxsKCkodCxbe2tleToiY29udHJvbGxlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldENvbnRyb2xsZXJQcm9wcyh7dHlwZTpFZSxWaWV3cG9ydFR5cGU6Q2V9KX19XSksdH0oZmUuYSk7TGUuZGlzcGxheU5hbWU9Ik9yYml0VmlldyI7dmFyIEllPXt0cmFuc2l0aW9uRHVyYXRpb246MzAwLHRyYW5zaXRpb25FYXNpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHRyYW5zaXRpb25JbnRlcnBvbGF0b3I6bmV3IHdlLmEoWyJ0YXJnZXQiLCJ6b29tIl0pLHRyYW5zaXRpb25JbnRlcnJ1cHRpb246U2UuYS5CUkVBS30sUmU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbjtyZXR1cm4gdSgpKHRoaXMsdCksKG49YigpKHRoaXMsTygpKHQpLmNhbGwodGhpcyxUZSxlKSkpLmludmVydFBhbj0hMCxufXJldHVybiB3KCkodCxlKSxsKCkodCxbe2tleToiX29uUGFuUm90YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hMX19LHtrZXk6Il9nZXRUcmFuc2l0aW9uUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEllfX1dKSx0fShnZS5hKSxEZT0obmV3IHBlLmIpLmxvb2tBdCh7ZXllOlswLDAsMV19KTtmdW5jdGlvbiBGZShlKXt2YXIgdD1lLndpZHRoLG49ZS5oZWlnaHQscj1lLm5lYXIsaT1lLmZhcjtyZXR1cm4gdD10fHwxLG49bnx8MSwobmV3IHBlLmIpLm9ydGhvKHtsZWZ0Oi10LzIscmlnaHQ6dC8yLGJvdHRvbTpuLzIsdG9wOi1uLzIsbmVhcjpyLGZhcjppfSl9dmFyIE5lPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG49ZS5pZCxyPWUueCxpPWUueSxhPWUud2lkdGgsbz1lLmhlaWdodCxzPWUubmVhcixjPXZvaWQgMD09PXM/LjE6cyxsPWUuZmFyLGg9dm9pZCAwPT09bD8xZTM6bCxmPWUuem9vbSxkPXZvaWQgMD09PWY/MDpmLHY9ZS50YXJnZXQscD12b2lkIDA9PT12P1swLDAsMF06djt1KCkodGhpcyx0KTt2YXIgZz1NYXRoLnBvdygyLGQpO3JldHVybiBiKCkodm9pZCAwLG5ldyBhZS5hKHtpZDpuLHg6cix5Omksd2lkdGg6YSxoZWlnaHQ6byxwb3NpdGlvbjpwLHZpZXdNYXRyaXg6RGUuY2xvbmUoKS5zY2FsZShnKSxwcm9qZWN0aW9uTWF0cml4OkZlKHt3aWR0aDphLGhlaWdodDpvLG5lYXI6YyxmYXI6aH0pLHpvb206ZH0pKX1yZXR1cm4gdygpKHQsZSksdH0oYWUuYSksemU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gdSgpKHRoaXMsdCksYigpKHRoaXMsTygpKHQpLmNhbGwodGhpcyxPYmplY3QuYXNzaWduKHt9LGUse3R5cGU6TmV9KSkpfXJldHVybiB3KCkodCxlKSxsKCkodCxbe2tleToiY29udHJvbGxlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldENvbnRyb2xsZXJQcm9wcyh7dHlwZTpSZSxWaWV3cG9ydFR5cGU6TmV9KX19XSksdH0oZmUuYSk7emUuZGlzcGxheU5hbWU9Ik9ydGhvZ3JhcGhpY1ZpZXciO3ZhciBCZT1uKDEzOCksVWU9bigxOTApLFZlPW4oMTU2KSxHZT1bImJlYXJpbmciLCJwaXRjaCJdLFdlPXtzcGVlZDoxLjIsY3VydmU6MS40MTR9LEhlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gdSgpKHRoaXMsdCksKGU9YigpKHRoaXMsTygpKHQpLmNhbGwodGhpcyx7Y29tcGFyZTpbImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiem9vbSIsImJlYXJpbmciLCJwaXRjaCJdLGV4dHJhY3Q6WyJ3aWR0aCIsImhlaWdodCIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiem9vbSIsImJlYXJpbmciLCJwaXRjaCJdLHJlcXVpcmVkOlsid2lkdGgiLCJoZWlnaHQiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInpvb20iXX0pKSkucHJvcHM9T2JqZWN0LmFzc2lnbih7fSxXZSxuKSxlfXJldHVybiB3KCkodCxlKSxsKCkodCxbe2tleToiaW50ZXJwb2xhdGVQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9iamVjdCh2ZS5kKShlLHQsbix0aGlzLnByb3BzKSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PUdlW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7cltjXT1PYmplY3QocGUubSkoZVtjXXx8MCx0W2NdfHwwLG4pfX1jYXRjaChlKXthPSEwLG89ZX1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319cmV0dXJuIHJ9fSx7a2V5OiJnZXREdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnRyYW5zaXRpb25EdXJhdGlvbjtyZXR1cm4iYXV0byI9PT1uJiYobj1PYmplY3QodmUuZikoZSx0LHRoaXMucHJvcHMpKSxufX1dKSx0fShWZS5hKSxxZT1uKDIzKSxYZT1uKDU0KSxaZT1uKDE5MSksWWU9big2NCksS2U9bigxNDMpLFFlPW4oOTgpLEplPW4oMTQyKSwkZT1uKDEyNik7bi5kKHQsIkNPT1JESU5BVEVfU1lTVEVNIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5hfSkpLG4uZCh0LCJMaWdodGluZ0VmZmVjdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKSxuLmQodCwiQW1iaWVudExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5hfSkpLG4uZCh0LCJEaXJlY3Rpb25hbExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gby5hfSkpLG4uZCh0LCJQb2ludExpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQodCwiX0NhbWVyYUxpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQodCwiX1N1bkxpZ2h0IiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQodCwiUG9zdFByb2Nlc3NFZmZlY3QiLChmdW5jdGlvbigpe3JldHVybiBafSkpLG4uZCh0LCJfTGF5ZXJzUGFzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouYX0pKSxuLmQodCwiRGVjayIsKGZ1bmN0aW9uKCl7cmV0dXJuICQuYX0pKSxuLmQodCwiTGF5ZXJNYW5hZ2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZWUuYX0pKSxuLmQodCwiQXR0cmlidXRlTWFuYWdlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRlLmF9KSksbi5kKHQsIkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmUuYX0pKSxuLmQodCwiQ29tcG9zaXRlTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiByZS5hfSkpLG4uZCh0LCJEZWNrUmVuZGVyZXIiLChmdW5jdGlvbigpe3JldHVybiBpZS5hfSkpLG4uZCh0LCJWaWV3cG9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGFlLmF9KSksbi5kKHQsIldlYk1lcmNhdG9yVmlld3BvcnQiLChmdW5jdGlvbigpe3JldHVybiBvZS5hfSkpLG4uZCh0LCJwaWNraW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2UuYX0pKSxuLmQodCwicHJvamVjdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVlLmF9KSksbi5kKHQsInByb2plY3QzMiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNlLmF9KSksbi5kKHQsImdvdXJhdWRMaWdodGluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlLmF9KSksbi5kKHQsInBob25nTGlnaHRpbmciLChmdW5jdGlvbigpe3JldHVybiBsZS5ifSkpLG4uZCh0LCJzaGFkb3ciLChmdW5jdGlvbigpe3JldHVybiBoZS5hfSkpLG4uZCh0LCJWaWV3IiwoZnVuY3Rpb24oKXtyZXR1cm4gZmUuYX0pKSxuLmQodCwiTWFwVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRlLmF9KSksbi5kKHQsIkZpcnN0UGVyc29uVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHhlfSkpLG4uZCh0LCJPcmJpdFZpZXciLChmdW5jdGlvbigpe3JldHVybiBMZX0pKSxuLmQodCwiT3J0aG9ncmFwaGljVmlldyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHplfSkpLG4uZCh0LCJDb250cm9sbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ2UuYX0pKSxuLmQodCwiTWFwQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJlLmF9KSksbi5kKHQsIkZpcnN0UGVyc29uQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9lfSkpLG4uZCh0LCJPcmJpdENvbnRyb2xsZXIiLChmdW5jdGlvbigpe3JldHVybiBFZX0pKSxuLmQodCwiT3J0aG9ncmFwaGljQ29udHJvbGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJlfSkpLG4uZCh0LCJFZmZlY3QiLChmdW5jdGlvbigpe3JldHVybiBSLmF9KSksbi5kKHQsIkxheWVyRXh0ZW5zaW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gVWUuYX0pKSxuLmQodCwiVFJBTlNJVElPTl9FVkVOVFMiLChmdW5jdGlvbigpe3JldHVybiBTZS5hfSkpLG4uZCh0LCJMaW5lYXJJbnRlcnBvbGF0b3IiLChmdW5jdGlvbigpe3JldHVybiB3ZS5hfSkpLG4uZCh0LCJGbHlUb0ludGVycG9sYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEhlfSkpLG4uZCh0LCJsb2ciLChmdW5jdGlvbigpe3JldHVybiBxZS5hfSkpLG4uZCh0LCJjcmVhdGVJdGVyYWJsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFhlLmF9KSksbi5kKHQsImZwNjRMb3dQYXJ0IiwoZnVuY3Rpb24oKXtyZXR1cm4gbWUuY30pKSxuLmQodCwiVGVzc2VsYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFplLmF9KSksbi5kKHQsIl9maWxsQXJyYXkiLChmdW5jdGlvbigpe3JldHVybiBZZS5hfSkpLG4uZCh0LCJfZmxhdHRlbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIFllLmJ9KSksbi5kKHQsIl9jb3VudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEtlLmF9KSksbi5kKHQsIl9tZW1vaXplIiwoZnVuY3Rpb24oKXtyZXR1cm4gUWUuYX0pKSxuLmQodCwiX21lcmdlU2hhZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEplLmF9KSksbi5kKHQsIl9jb21wYXJlUHJvcHMiLChmdW5jdGlvbigpe3JldHVybiAkZS5hfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHQsImgiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKHQsImciLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTtuKDI2KSxuKDExMSksbigyNyksbig3Mik7dmFyIHI9MS9NYXRoLlBJKjE4MCxpPTEvMTgwKk1hdGguUEksYT17fTtmdW5jdGlvbiBvKGUpe3JldHVybiBNYXRoLnJvdW5kKGUvYS5FUFNJTE9OKSphLkVQU0lMT059ZnVuY3Rpb24gcyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnByZWNpc2lvbixyPXZvaWQgMD09PW4/YS5wcmVjaXNpb258fDQ6bjtyZXR1cm4gZT1vKGUpLCIiLmNvbmNhdChwYXJzZUZsb2F0KGUudG9QcmVjaXNpb24ocikpKX1mdW5jdGlvbiB1KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSkmJnZvaWQgMCE9PWUubGVuZ3RofWZ1bmN0aW9uIGMoZSx0LG4pe2lmKHUoZSkpe249bnx8KChpPWUpLmNsb25lP2kuY2xvbmUoKTpuZXcgQXJyYXkoaS5sZW5ndGgpKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoJiZyPGUubGVuZ3RoOysrciluW3JdPXQoZVtyXSxyLG4pO3JldHVybiBufXZhciBpO3JldHVybiB0KGUpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGYoZSl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZChlKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGMoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUqaX0pLHQpfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gYyhlLChmdW5jdGlvbihlKXtyZXR1cm4gZSpyfSksdCl9ZnVuY3Rpb24gdihlLHQsbil7cmV0dXJuIGMoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KHQsTWF0aC5taW4obixlKSl9KSl9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIHUoZSk/ZS5tYXAoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHAoZSx0W3JdLG4pfSkpOm4qdCsoMS1uKSplfWZ1bmN0aW9uIGcoZSx0LG4pe3ZhciByPWEuRVBTSUxPTjtuJiYoYS5FUFNJTE9OPW4pO3RyeXtpZihlPT09dClyZXR1cm4hMDtpZih1KGUpJiZ1KHQpKXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKWlmKCFnKGVbaV0sdFtpXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIGUmJmUuZXF1YWxzP2UuZXF1YWxzKHQpOnQmJnQuZXF1YWxzP3QuZXF1YWxzKGUpOiEoIU51bWJlci5pc0Zpbml0ZShlKXx8IU51bWJlci5pc0Zpbml0ZSh0KSkmJk1hdGguYWJzKGUtdCk8PWEuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGUpLE1hdGguYWJzKHQpKX1maW5hbGx5e2EuRVBTSUxPTj1yfX1hLkVQU0lMT049MWUtMTIsYS5kZWJ1Zz0hMSxhLnByZWNpc2lvbj00LGEucHJpbnRUeXBlcz0hMSxhLnByaW50RGVncmVlcz0hMSxhLnByaW50Um93TWFqb3I9ITB9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpfHwiW29iamVjdCBBcmd1bWVudHNdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7dmFyIG49W10scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKG8udmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX0oKX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigyMyksaT17REVGQVVMVDotMSxMTkdMQVQ6MSxNRVRFUl9PRkZTRVRTOjIsTE5HTEFUX09GRlNFVFM6MyxDQVJURVNJQU46MH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIklERU5USVRZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuYS5kZXByZWNhdGVkKCJDT09SRElOQVRFX1NZU1RFTS5JREVOVElUWSIsIkNPT1JESU5BVEVfU1lTVEVNLkNBUlRFU0lBTiIpKCl8fDB9fSk7dmFyIGE9e1dFQl9NRVJDQVRPUjoxLFdFQl9NRVJDQVRPUl9BVVRPX09GRlNFVDo0LElERU5USVRZOjB9LG89e2NsaWNrOntoYW5kbGVyOiJvbkNsaWNrIn0scGFuc3RhcnQ6e2hhbmRsZXI6Im9uRHJhZ1N0YXJ0In0scGFubW92ZTp7aGFuZGxlcjoib25EcmFnIn0scGFuZW5kOntoYW5kbGVyOiJvbkRyYWdFbmQifX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNTcpO3QuYT1uZXcgci5hKHtpZDoiZGVjayJ9KX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwicSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsInAiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJvIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiayIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKHQsImwiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZCh0LCJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwibiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKHQsImoiLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSxuLmQodCwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBffSkpO3ZhciByPW4oMTQpO2Z1bmN0aW9uIGkoZSx0KXtpZihlPT09dCl7dmFyIG49dFsxXSxyPXRbMl0saT10WzNdLGE9dFs2XSxvPXRbN10scz10WzExXTtlWzFdPXRbNF0sZVsyXT10WzhdLGVbM109dFsxMl0sZVs0XT1uLGVbNl09dFs5XSxlWzddPXRbMTNdLGVbOF09cixlWzldPWEsZVsxMV09dFsxNF0sZVsxMl09aSxlWzEzXT1vLGVbMTRdPXN9ZWxzZSBlWzBdPXRbMF0sZVsxXT10WzRdLGVbMl09dFs4XSxlWzNdPXRbMTJdLGVbNF09dFsxXSxlWzVdPXRbNV0sZVs2XT10WzldLGVbN109dFsxM10sZVs4XT10WzJdLGVbOV09dFs2XSxlWzEwXT10WzEwXSxlWzExXT10WzE0XSxlWzEyXT10WzNdLGVbMTNdPXRbN10sZVsxNF09dFsxMV0sZVsxNV09dFsxNV07cmV0dXJuIGV9ZnVuY3Rpb24gYShlLHQpe3ZhciBuPXRbMF0scj10WzFdLGk9dFsyXSxhPXRbM10sbz10WzRdLHM9dFs1XSx1PXRbNl0sYz10WzddLGw9dFs4XSxoPXRbOV0sZj10WzEwXSxkPXRbMTFdLHY9dFsxMl0scD10WzEzXSxnPXRbMTRdLHk9dFsxNV0sbT1uKnMtcipvLGI9bip1LWkqbyxfPW4qYy1hKm8sTz1yKnUtaSpzLHg9cipjLWEqcyx3PWkqYy1hKnUsUz1sKnAtaCp2LGs9bCpnLWYqdixQPWwqeS1kKnYsaj1oKmctZipwLFQ9aCp5LWQqcCxFPWYqeS1kKmcsQT1tKkUtYipUK18qaitPKlAteCprK3cqUztyZXR1cm4gQT8oQT0xL0EsZVswXT0ocypFLXUqVCtjKmopKkEsZVsxXT0oaSpULXIqRS1hKmopKkEsZVsyXT0ocCp3LWcqeCt5Kk8pKkEsZVszXT0oZip4LWgqdy1kKk8pKkEsZVs0XT0odSpQLW8qRS1jKmspKkEsZVs1XT0obipFLWkqUCthKmspKkEsZVs2XT0oZypfLXYqdy15KmIpKkEsZVs3XT0obCp3LWYqXytkKmIpKkEsZVs4XT0obypULXMqUCtjKlMpKkEsZVs5XT0ocipQLW4qVC1hKlMpKkEsZVsxMF09KHYqeC1wKl8reSptKSpBLGVbMTFdPShoKl8tbCp4LWQqbSkqQSxlWzEyXT0ocyprLW8qai11KlMpKkEsZVsxM109KG4qai1yKmsraSpTKSpBLGVbMTRdPShwKmItdipPLWcqbSkqQSxlWzE1XT0obCpPLWgqYitmKm0pKkEsZSk6bnVsbH1mdW5jdGlvbiBvKGUpe3ZhciB0PWVbMF0sbj1lWzFdLHI9ZVsyXSxpPWVbM10sYT1lWzRdLG89ZVs1XSxzPWVbNl0sdT1lWzddLGM9ZVs4XSxsPWVbOV0saD1lWzEwXSxmPWVbMTFdLGQ9ZVsxMl0sdj1lWzEzXSxwPWVbMTRdLGc9ZVsxNV07cmV0dXJuKHQqby1uKmEpKihoKmctZipwKS0odCpzLXIqYSkqKGwqZy1mKnYpKyh0KnUtaSphKSoobCpwLWgqdikrKG4qcy1yKm8pKihjKmctZipkKS0obip1LWkqbykqKGMqcC1oKmQpKyhyKnUtaSpzKSooYyp2LWwqZCl9ZnVuY3Rpb24gcyhlLHQsbil7dmFyIHI9dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPXRbNF0sdT10WzVdLGM9dFs2XSxsPXRbN10saD10WzhdLGY9dFs5XSxkPXRbMTBdLHY9dFsxMV0scD10WzEyXSxnPXRbMTNdLHk9dFsxNF0sbT10WzE1XSxiPW5bMF0sXz1uWzFdLE89blsyXSx4PW5bM107cmV0dXJuIGVbMF09YipyK18qcytPKmgreCpwLGVbMV09YippK18qdStPKmYreCpnLGVbMl09YiphK18qYytPKmQreCp5LGVbM109YipvK18qbCtPKnYreCptLGI9bls0XSxfPW5bNV0sTz1uWzZdLHg9bls3XSxlWzRdPWIqcitfKnMrTypoK3gqcCxlWzVdPWIqaStfKnUrTypmK3gqZyxlWzZdPWIqYStfKmMrTypkK3gqeSxlWzddPWIqbytfKmwrTyp2K3gqbSxiPW5bOF0sXz1uWzldLE89blsxMF0seD1uWzExXSxlWzhdPWIqcitfKnMrTypoK3gqcCxlWzldPWIqaStfKnUrTypmK3gqZyxlWzEwXT1iKmErXypjK08qZCt4KnksZVsxMV09YipvK18qbCtPKnYreCptLGI9blsxMl0sXz1uWzEzXSxPPW5bMTRdLHg9blsxNV0sZVsxMl09YipyK18qcytPKmgreCpwLGVbMTNdPWIqaStfKnUrTypmK3gqZyxlWzE0XT1iKmErXypjK08qZCt4KnksZVsxNV09YipvK18qbCtPKnYreCptLGV9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHIsaSxhLG8scyx1LGMsbCxoLGYsZCx2LHA9blswXSxnPW5bMV0seT1uWzJdO3JldHVybiB0PT09ZT8oZVsxMl09dFswXSpwK3RbNF0qZyt0WzhdKnkrdFsxMl0sZVsxM109dFsxXSpwK3RbNV0qZyt0WzldKnkrdFsxM10sZVsxNF09dFsyXSpwK3RbNl0qZyt0WzEwXSp5K3RbMTRdLGVbMTVdPXRbM10qcCt0WzddKmcrdFsxMV0qeSt0WzE1XSk6KHI9dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPXRbNF0sdT10WzVdLGM9dFs2XSxsPXRbN10saD10WzhdLGY9dFs5XSxkPXRbMTBdLHY9dFsxMV0sZVswXT1yLGVbMV09aSxlWzJdPWEsZVszXT1vLGVbNF09cyxlWzVdPXUsZVs2XT1jLGVbN109bCxlWzhdPWgsZVs5XT1mLGVbMTBdPWQsZVsxMV09dixlWzEyXT1yKnArcypnK2gqeSt0WzEyXSxlWzEzXT1pKnArdSpnK2YqeSt0WzEzXSxlWzE0XT1hKnArYypnK2QqeSt0WzE0XSxlWzE1XT1vKnArbCpnK3YqeSt0WzE1XSksZX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgcj1uWzBdLGk9blsxXSxhPW5bMl07cmV0dXJuIGVbMF09dFswXSpyLGVbMV09dFsxXSpyLGVbMl09dFsyXSpyLGVbM109dFszXSpyLGVbNF09dFs0XSppLGVbNV09dFs1XSppLGVbNl09dFs2XSppLGVbN109dFs3XSppLGVbOF09dFs4XSphLGVbOV09dFs5XSphLGVbMTBdPXRbMTBdKmEsZVsxMV09dFsxMV0qYSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSxlfWZ1bmN0aW9uIGwoZSx0LG4saSl7dmFyIGEsbyxzLHUsYyxsLGgsZixkLHYscCxnLHksbSxiLF8sTyx4LHcsUyxrLFAsaixULEU9aVswXSxBPWlbMV0sTT1pWzJdLEM9TWF0aC5oeXBvdChFLEEsTSk7cmV0dXJuIEM8ci5iP251bGw6KEUqPUM9MS9DLEEqPUMsTSo9QyxhPU1hdGguc2luKG4pLHM9MS0obz1NYXRoLmNvcyhuKSksdT10WzBdLGM9dFsxXSxsPXRbMl0saD10WzNdLGY9dFs0XSxkPXRbNV0sdj10WzZdLHA9dFs3XSxnPXRbOF0seT10WzldLG09dFsxMF0sYj10WzExXSxfPUUqRSpzK28sTz1BKkUqcytNKmEseD1NKkUqcy1BKmEsdz1FKkEqcy1NKmEsUz1BKkEqcytvLGs9TSpBKnMrRSphLFA9RSpNKnMrQSphLGo9QSpNKnMtRSphLFQ9TSpNKnMrbyxlWzBdPXUqXytmKk8rZyp4LGVbMV09YypfK2QqTyt5KngsZVsyXT1sKl8rdipPK20qeCxlWzNdPWgqXytwKk8rYip4LGVbNF09dSp3K2YqUytnKmssZVs1XT1jKncrZCpTK3kqayxlWzZdPWwqdyt2KlMrbSprLGVbN109aCp3K3AqUytiKmssZVs4XT11KlArZipqK2cqVCxlWzldPWMqUCtkKmoreSpULGVbMTBdPWwqUCt2KmorbSpULGVbMTFdPWgqUCtwKmorYipULHQhPT1lJiYoZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGUpfWZ1bmN0aW9uIGgoZSx0LG4pe3ZhciByPU1hdGguc2luKG4pLGk9TWF0aC5jb3MobiksYT10WzRdLG89dFs1XSxzPXRbNl0sdT10WzddLGM9dFs4XSxsPXRbOV0saD10WzEwXSxmPXRbMTFdO3JldHVybiB0IT09ZSYmKGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVs0XT1hKmkrYypyLGVbNV09byppK2wqcixlWzZdPXMqaStoKnIsZVs3XT11KmkrZipyLGVbOF09YyppLWEqcixlWzldPWwqaS1vKnIsZVsxMF09aCppLXMqcixlWzExXT1mKmktdSpyLGV9ZnVuY3Rpb24gZihlLHQsbil7dmFyIHI9TWF0aC5zaW4obiksaT1NYXRoLmNvcyhuKSxhPXRbMF0sbz10WzFdLHM9dFsyXSx1PXRbM10sYz10WzhdLGw9dFs5XSxoPXRbMTBdLGY9dFsxMV07cmV0dXJuIHQhPT1lJiYoZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlWzBdPWEqaS1jKnIsZVsxXT1vKmktbCpyLGVbMl09cyppLWgqcixlWzNdPXUqaS1mKnIsZVs4XT1hKnIrYyppLGVbOV09bypyK2wqaSxlWzEwXT1zKnIraCppLGVbMTFdPXUqcitmKmksZX1mdW5jdGlvbiBkKGUsdCxuKXt2YXIgcj1NYXRoLnNpbihuKSxpPU1hdGguY29zKG4pLGE9dFswXSxvPXRbMV0scz10WzJdLHU9dFszXSxjPXRbNF0sbD10WzVdLGg9dFs2XSxmPXRbN107cmV0dXJuIHQhPT1lJiYoZVs4XT10WzhdLGVbOV09dFs5XSxlWzEwXT10WzEwXSxlWzExXT10WzExXSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVswXT1hKmkrYypyLGVbMV09byppK2wqcixlWzJdPXMqaStoKnIsZVszXT11KmkrZipyLGVbNF09YyppLWEqcixlWzVdPWwqaS1vKnIsZVs2XT1oKmktcypyLGVbN109ZippLXUqcixlfWZ1bmN0aW9uIHYoZSx0KXt2YXIgbj10WzBdLHI9dFsxXSxpPXRbMl0sYT10WzRdLG89dFs1XSxzPXRbNl0sdT10WzhdLGM9dFs5XSxsPXRbMTBdO3JldHVybiBlWzBdPU1hdGguaHlwb3QobixyLGkpLGVbMV09TWF0aC5oeXBvdChhLG8scyksZVsyXT1NYXRoLmh5cG90KHUsYyxsKSxlfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj10WzBdLHI9dFsxXSxpPXRbMl0sYT10WzNdLG89bituLHM9cityLHU9aStpLGM9bipvLGw9cipvLGg9cipzLGY9aSpvLGQ9aSpzLHY9aSp1LHA9YSpvLGc9YSpzLHk9YSp1O3JldHVybiBlWzBdPTEtaC12LGVbMV09bCt5LGVbMl09Zi1nLGVbM109MCxlWzRdPWwteSxlWzVdPTEtYy12LGVbNl09ZCtwLGVbN109MCxlWzhdPWYrZyxlWzldPWQtcCxlWzEwXT0xLWMtaCxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX1mdW5jdGlvbiBnKGUsdCxuLHIsaSxhLG8pe3ZhciBzPTEvKG4tdCksdT0xLyhpLXIpLGM9MS8oYS1vKTtyZXR1cm4gZVswXT0yKmEqcyxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0yKmEqdSxlWzZdPTAsZVs3XT0wLGVbOF09KG4rdCkqcyxlWzldPShpK3IpKnUsZVsxMF09KG8rYSkqYyxlWzExXT0tMSxlWzEyXT0wLGVbMTNdPTAsZVsxNF09byphKjIqYyxlWzE1XT0wLGV9ZnVuY3Rpb24geShlLHQsbixyLGkpe3ZhciBhLG89MS9NYXRoLnRhbih0LzIpO3JldHVybiBlWzBdPW8vbixlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT1vLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzExXT0tMSxlWzEyXT0wLGVbMTNdPTAsZVsxNV09MCxudWxsIT1pJiZpIT09MS8wPyhhPTEvKHItaSksZVsxMF09KGkrcikqYSxlWzE0XT0yKmkqciphKTooZVsxMF09LTEsZVsxNF09LTIqciksZX1mdW5jdGlvbiBtKGUsdCxuLHIsaSxhLG8pe3ZhciBzPTEvKHQtbiksdT0xLyhyLWkpLGM9MS8oYS1vKTtyZXR1cm4gZVswXT0tMipzLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPS0yKnUsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPTIqYyxlWzExXT0wLGVbMTJdPSh0K24pKnMsZVsxM109KGkrcikqdSxlWzE0XT0obythKSpjLGVbMTVdPTEsZX1mdW5jdGlvbiBiKGUsdCxuLGkpe3ZhciBhLG8scyx1LGMsbCxoLGYsZCx2LHA9dFswXSxnPXRbMV0seT10WzJdLG09aVswXSxiPWlbMV0sXz1pWzJdLE89blswXSx4PW5bMV0sdz1uWzJdO3JldHVybiBNYXRoLmFicyhwLU8pPHIuYiYmTWF0aC5hYnMoZy14KTxyLmImJk1hdGguYWJzKHktdyk8ci5iP2Z1bmN0aW9uKGUpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09MSxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MSxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX0oZSk6KGg9cC1PLGY9Zy14LGQ9eS13LGE9YiooZCo9dj0xL01hdGguaHlwb3QoaCxmLGQpKS1fKihmKj12KSxvPV8qKGgqPXYpLW0qZCxzPW0qZi1iKmgsKHY9TWF0aC5oeXBvdChhLG8scykpPyhhKj12PTEvdixvKj12LHMqPXYpOihhPTAsbz0wLHM9MCksdT1mKnMtZCpvLGM9ZCphLWgqcyxsPWgqby1mKmEsKHY9TWF0aC5oeXBvdCh1LGMsbCkpPyh1Kj12PTEvdixjKj12LGwqPXYpOih1PTAsYz0wLGw9MCksZVswXT1hLGVbMV09dSxlWzJdPWgsZVszXT0wLGVbNF09byxlWzVdPWMsZVs2XT1mLGVbN109MCxlWzhdPXMsZVs5XT1sLGVbMTBdPWQsZVsxMV09MCxlWzEyXT0tKGEqcCtvKmcrcyp5KSxlWzEzXT0tKHUqcCtjKmcrbCp5KSxlWzE0XT0tKGgqcCtmKmcrZCp5KSxlWzE1XT0xLGUpfWZ1bmN0aW9uIF8oZSx0KXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sYz1lWzZdLGw9ZVs3XSxoPWVbOF0sZj1lWzldLGQ9ZVsxMF0sdj1lWzExXSxwPWVbMTJdLGc9ZVsxM10seT1lWzE0XSxtPWVbMTVdLGI9dFswXSxfPXRbMV0sTz10WzJdLHg9dFszXSx3PXRbNF0sUz10WzVdLGs9dFs2XSxQPXRbN10saj10WzhdLFQ9dFs5XSxFPXRbMTBdLEE9dFsxMV0sTT10WzEyXSxDPXRbMTNdLEw9dFsxNF0sST10WzE1XTtyZXR1cm4gTWF0aC5hYnMobi1iKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMoYikpJiZNYXRoLmFicyhpLV8pPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhfKSkmJk1hdGguYWJzKGEtTyk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKGEpLE1hdGguYWJzKE8pKSYmTWF0aC5hYnMoby14KTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMoeCkpJiZNYXRoLmFicyhzLXcpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyh3KSkmJk1hdGguYWJzKHUtUyk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKHUpLE1hdGguYWJzKFMpKSYmTWF0aC5hYnMoYy1rKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoYyksTWF0aC5hYnMoaykpJiZNYXRoLmFicyhsLVApPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhQKSkmJk1hdGguYWJzKGgtaik8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKGgpLE1hdGguYWJzKGopKSYmTWF0aC5hYnMoZi1UKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoZiksTWF0aC5hYnMoVCkpJiZNYXRoLmFicyhkLUUpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhkKSxNYXRoLmFicyhFKSkmJk1hdGguYWJzKHYtQSk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKHYpLE1hdGguYWJzKEEpKSYmTWF0aC5hYnMocC1NKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMocCksTWF0aC5hYnMoTSkpJiZNYXRoLmFicyhnLUMpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhnKSxNYXRoLmFicyhDKSkmJk1hdGguYWJzKHktTCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKHkpLE1hdGguYWJzKEwpKSYmTWF0aC5hYnMobS1JKTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMobSksTWF0aC5hYnMoSSkpfX0sLGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4ocj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspblt0XT1lW3RdO3JldHVybiBufX0oZSl8fGZ1bmN0aW9uKGUpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDIwKTtmdW5jdGlvbiBpKGUpe2lmKCFOdW1iZXIuaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG51bWJlciAiLmNvbmNhdChlKSk7cmV0dXJuIGV9ZnVuY3Rpb24gYShlLHQsbil7aWYoci5iLmRlYnVnJiYhZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24paWYoIU51bWJlci5pc0Zpbml0ZShlW25dKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSx0KSl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2w6ICIuY29uY2F0KCIifG4sIiBzb21lIGZpZWxkcyBzZXQgdG8gaW52YWxpZCBudW1iZXJzJyIpKTtyZXR1cm4gZX12YXIgbz17fTtmdW5jdGlvbiBzKGUsdCl7b1tlXXx8KG9bZV09ITAsY29uc29sZS53YXJuKCIiLmNvbmNhdChlLCIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB2ZXJzaW9uICIpLmNvbmNhdCh0LCIsIHNlZSB1cGdyYWRlIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9uIikpKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0fHwibHVtYS5nbDogYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0fHwiZGVjay5nbDogYXNzZXJ0aW9uIGZhaWxlZC4iKX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9e307ZnVuY3Rpb24gaShlKXt2YXIgdD1lJiZlLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIHQ+PTA/ZS5zdWJzdHIoMCx0KToiIn1uLnIociksbi5kKHIsImRpcm5hbWUiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImciLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKHQsIm8iLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZCh0LCJuIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwicCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsImoiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxuLmQodCwibCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZCh0LCJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSk7dmFyIHI9bigxNCk7ZnVuY3Rpb24gaSgpe3ZhciBlPW5ldyByLmEoMyk7cmV0dXJuIHIuYSE9RmxvYXQzMkFycmF5JiYoZVswXT0wLGVbMV09MCxlWzJdPTApLGV9ZnVuY3Rpb24gYShlKXt2YXIgdD1lWzBdLG49ZVsxXSxyPWVbMl07cmV0dXJuIE1hdGguaHlwb3QodCxuLHIpfWZ1bmN0aW9uIG8oZSx0LG4pe3ZhciBpPW5ldyByLmEoMyk7cmV0dXJuIGlbMF09ZSxpWzFdPXQsaVsyXT1uLGl9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlfWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj10WzBdLHI9dFsxXSxpPXRbMl0sYT1uKm4rcipyK2kqaTtyZXR1cm4gYT4wJiYoYT0xL01hdGguc3FydChhKSksZVswXT10WzBdKmEsZVsxXT10WzFdKmEsZVsyXT10WzJdKmEsZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGVbMF0qdFswXStlWzFdKnRbMV0rZVsyXSp0WzJdfWZ1bmN0aW9uIGwoZSx0LG4pe3ZhciByPXRbMF0saT10WzFdLGE9dFsyXSxvPW5bMF0scz1uWzFdLHU9blsyXTtyZXR1cm4gZVswXT1pKnUtYSpzLGVbMV09YSpvLXIqdSxlWzJdPXIqcy1pKm8sZX1mdW5jdGlvbiBoKGUsdCxuKXt2YXIgcj10WzBdLGk9dFsxXSxhPXRbMl0sbz1uWzNdKnIrbls3XSppK25bMTFdKmErblsxNV07cmV0dXJuIG89b3x8MSxlWzBdPShuWzBdKnIrbls0XSppK25bOF0qYStuWzEyXSkvbyxlWzFdPShuWzFdKnIrbls1XSppK25bOV0qYStuWzEzXSkvbyxlWzJdPShuWzJdKnIrbls2XSppK25bMTBdKmErblsxNF0pL28sZX1mdW5jdGlvbiBmKGUsdCxuKXt2YXIgcj10WzBdLGk9dFsxXSxhPXRbMl07cmV0dXJuIGVbMF09cipuWzBdK2kqblszXSthKm5bNl0sZVsxXT1yKm5bMV0raSpuWzRdK2Eqbls3XSxlWzJdPXIqblsyXStpKm5bNV0rYSpuWzhdLGV9ZnVuY3Rpb24gZChlLHQsbil7dmFyIHI9blswXSxpPW5bMV0sYT1uWzJdLG89blszXSxzPXRbMF0sdT10WzFdLGM9dFsyXSxsPWkqYy1hKnUsaD1hKnMtcipjLGY9cip1LWkqcyxkPWkqZi1hKmgsdj1hKmwtcipmLHA9cipoLWkqbCxnPTIqbztyZXR1cm4gbCo9ZyxoKj1nLGYqPWcsZCo9Mix2Kj0yLHAqPTIsZVswXT1zK2wrZCxlWzFdPXUraCt2LGVbMl09YytmK3AsZX1mdW5jdGlvbiB2KGUsdCxuLHIpe3ZhciBpPVtdLGE9W107cmV0dXJuIGlbMF09dFswXS1uWzBdLGlbMV09dFsxXS1uWzFdLGlbMl09dFsyXS1uWzJdLGFbMF09aVswXSxhWzFdPWlbMV0qTWF0aC5jb3MociktaVsyXSpNYXRoLnNpbihyKSxhWzJdPWlbMV0qTWF0aC5zaW4ocikraVsyXSpNYXRoLmNvcyhyKSxlWzBdPWFbMF0rblswXSxlWzFdPWFbMV0rblsxXSxlWzJdPWFbMl0rblsyXSxlfWZ1bmN0aW9uIHAoZSx0LG4scil7dmFyIGk9W10sYT1bXTtyZXR1cm4gaVswXT10WzBdLW5bMF0saVsxXT10WzFdLW5bMV0saVsyXT10WzJdLW5bMl0sYVswXT1pWzJdKk1hdGguc2luKHIpK2lbMF0qTWF0aC5jb3MociksYVsxXT1pWzFdLGFbMl09aVsyXSpNYXRoLmNvcyhyKS1pWzBdKk1hdGguc2luKHIpLGVbMF09YVswXStuWzBdLGVbMV09YVsxXStuWzFdLGVbMl09YVsyXStuWzJdLGV9ZnVuY3Rpb24gZyhlLHQsbixyKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPXRbMF0tblswXSxpWzFdPXRbMV0tblsxXSxpWzJdPXRbMl0tblsyXSxhWzBdPWlbMF0qTWF0aC5jb3MociktaVsxXSpNYXRoLnNpbihyKSxhWzFdPWlbMF0qTWF0aC5zaW4ocikraVsxXSpNYXRoLmNvcyhyKSxhWzJdPWlbMl0sZVswXT1hWzBdK25bMF0sZVsxXT1hWzFdK25bMV0sZVsyXT1hWzJdK25bMl0sZX1mdW5jdGlvbiB5KGUsdCl7dmFyIG49byhlWzBdLGVbMV0sZVsyXSkscj1vKHRbMF0sdFsxXSx0WzJdKTt1KG4sbiksdShyLHIpO3ZhciBpPWMobixyKTtyZXR1cm4gaT4xPzA6aTwtMT9NYXRoLlBJOk1hdGguYWNvcyhpKX12YXIgbSxiPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdLW5bMF0sZVsxXT10WzFdLW5bMV0sZVsyXT10WzJdLW5bMl0sZX0sXz1hO209aSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNSksaT1uKDYpLGE9bigxNiksbz1uKDE1KSxzPW4oMzgpLHU9bigxNyksYz1uKDIxKSxsPW4oMzkpO2Z1bmN0aW9uIGgoZSx0KXt2YXIgbj1sLm4oW10sdCxlKTtyZXR1cm4gbC5rKG4sbiwxL25bM10pLG59ZnVuY3Rpb24gZihlLHQpe3ZhciBuPWUldDtyZXR1cm4gbjwwP3QrbjpufWZ1bmN0aW9uIGQoZSx0LG4pe3JldHVybiBuKnQrKDEtbikqZX12YXIgdj1uKDI0KSxwPW4oNDEpLGc9bigzMik7ZnVuY3Rpb24geShlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0fHwiQG1hdGguZ2wvd2ViLW1lcmNhdG9yOiBhc3NlcnRpb24gZmFpbGVkLiIpfXZhciBtPU1hdGguUEksYj1tLzQsXz1tLzE4MCxPPTE4MC9tO2Z1bmN0aW9uIHgoZSl7cmV0dXJuIE1hdGgucG93KDIsZSl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gTWF0aC5sb2cyKGUpfWZ1bmN0aW9uIFMoZSl7dmFyIHQ9T2JqZWN0KGMuYSkoZSwyKSxuPXRbMF0scj10WzFdO3koTnVtYmVyLmlzRmluaXRlKG4pKSx5KE51bWJlci5pc0Zpbml0ZShyKSYmcj49LTkwJiZyPD05MCwiaW52YWxpZCBsYXRpdHVkZSIpO3ZhciBpPXIqXztyZXR1cm5bNTEyKihuKl8rbSkvKDIqbSksNTEyKihtK01hdGgubG9nKE1hdGgudGFuKGIrLjUqaSkpKS8oMiptKV19ZnVuY3Rpb24gayhlKXt2YXIgdD1PYmplY3QoYy5hKShlLDIpLG49dFswXSxyPXRbMV0saT1uLzUxMiooMiptKS1tLGE9MiooTWF0aC5hdGFuKE1hdGguZXhwKHIvNTEyKigyKm0pLW0pKS1iKTtyZXR1cm5baSpPLGEqT119ZnVuY3Rpb24gUChlKXt2YXIgdD1lLmxhdGl0dWRlO3JldHVybiB5KE51bWJlci5pc0Zpbml0ZSh0KSksdyg0MDAzZTQqTWF0aC5jb3ModCpfKSktOX1mdW5jdGlvbiBqKGUpe3ZhciB0PWUubGF0aXR1ZGUsbj1lLmxvbmdpdHVkZSxyPWUuaGlnaFByZWNpc2lvbixpPXZvaWQgMCE9PXImJnI7eShOdW1iZXIuaXNGaW5pdGUodCkmJk51bWJlci5pc0Zpbml0ZShuKSk7dmFyIGE9e30sbz1NYXRoLmNvcyh0Kl8pLHM9NTEyLzM2MC9vLHU9NTEyLzQwMDNlNC9vO2lmKGEudW5pdHNQZXJNZXRlcj1bdSx1LHVdLGEubWV0ZXJzUGVyVW5pdD1bMS91LDEvdSwxL3VdLGEudW5pdHNQZXJEZWdyZWU9WzUxMi8zNjAscyx1XSxhLmRlZ3JlZXNQZXJVbml0PVsuNzAzMTI1LDEvcywxL3VdLGkpe3ZhciBjPV8qTWF0aC50YW4odCpfKS9vLGw9NTEyLzM2MCpjLzIsaD01MTIvNDAwM2U0KmMsZj1oL3MqdTthLnVuaXRzUGVyRGVncmVlMj1bMCxsLGhdLGEudW5pdHNQZXJNZXRlcjI9W2YsMCxmXX1yZXR1cm4gYX1mdW5jdGlvbiBUKGUsdCl7dmFyIG49T2JqZWN0KGMuYSkoZSwzKSxyPW5bMF0saT1uWzFdLGE9blsyXSxvPU9iamVjdChjLmEpKHQsMykscz1vWzBdLHU9b1sxXSxsPW9bMl0saD1qKHtsb25naXR1ZGU6cixsYXRpdHVkZTppLGhpZ2hQcmVjaXNpb246ITB9KSxmPWgudW5pdHNQZXJNZXRlcixkPWgudW5pdHNQZXJNZXRlcjIsdj1TKGUpO3ZbMF0rPXMqKGZbMF0rZFswXSp1KSx2WzFdKz11KihmWzFdK2RbMV0qdSk7dmFyIHA9ayh2KSxnPShhfHwwKSsobHx8MCk7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShhKXx8TnVtYmVyLmlzRmluaXRlKGwpP1twWzBdLHBbMV0sZ106cH1mdW5jdGlvbiBFKGUpe3ZhciB0PWUuaGVpZ2h0LG49ZS5waXRjaCxyPWUuYmVhcmluZyxpPWUuYWx0aXR1ZGUsYT1lLnNjYWxlLG89ZS5jZW50ZXIscz12b2lkIDA9PT1vP251bGw6byx1PVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXTtyZXR1cm4gdi5wKHUsdSxbMCwwLC1pXSksdi5sKHUsdSwtbipfKSx2Lm4odSx1LHIqXyksYS89dCx2Lm8odSx1LFthLGEsYV0pLHMmJnYucCh1LHUsZy5oKFtdLHMpKSx1fWZ1bmN0aW9uIEEoZSl7dmFyIHQ9ZS53aWR0aCxuPWUuaGVpZ2h0LHI9ZS5hbHRpdHVkZSxpPXZvaWQgMD09PXI/MS41OnIsYT1lLnBpdGNoLG89dm9pZCAwPT09YT8wOmEscz1lLm5lYXJaTXVsdGlwbGllcix1PXZvaWQgMD09PXM/MTpzLGM9ZS5mYXJaTXVsdGlwbGllcixsPXZvaWQgMD09PWM/MTpjLGg9bypfLGY9TWF0aC5hdGFuKC41L2kpLGQ9TWF0aC5zaW4oZikqaS9NYXRoLnNpbihNYXRoLlBJLzItaC1mKTtyZXR1cm57Zm92OjIqZixhc3BlY3Q6dC9uLGZvY2FsRGlzdGFuY2U6aSxuZWFyOnUsZmFyOihNYXRoLmNvcyhNYXRoLlBJLzItaCkqZCtpKSpsfX1mdW5jdGlvbiBNKGUpe3ZhciB0PWUud2lkdGgsbj1lLmhlaWdodCxyPWUucGl0Y2gsaT1BKHt3aWR0aDp0LGhlaWdodDpuLGFsdGl0dWRlOmUuYWx0aXR1ZGUscGl0Y2g6cixuZWFyWk11bHRpcGxpZXI6ZS5uZWFyWk11bHRpcGxpZXIsZmFyWk11bHRpcGxpZXI6ZS5mYXJaTXVsdGlwbGllcn0pLGE9aS5mb3Ysbz1pLmFzcGVjdCxzPWkubmVhcix1PWkuZmFyO3JldHVybiB2LmooW10sYSxvLHMsdSl9ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPU9iamVjdChjLmEpKGUsMykscj1uWzBdLGk9blsxXSxhPW5bMl0sbz12b2lkIDA9PT1hPzA6YTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUocikmJk51bWJlci5pc0Zpbml0ZShpKSYmTnVtYmVyLmlzRmluaXRlKG8pKSxoKHQsW3IsaSxvLDFdKX1mdW5jdGlvbiBMKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscj1PYmplY3QoYy5hKShlLDMpLGk9clswXSxhPXJbMV0sbz1yWzJdO2lmKHkoTnVtYmVyLmlzRmluaXRlKGkpJiZOdW1iZXIuaXNGaW5pdGUoYSksImludmFsaWQgcGl4ZWwgY29vcmRpbmF0ZSIpLE51bWJlci5pc0Zpbml0ZShvKSl7dmFyIHM9aCh0LFtpLGEsbywxXSk7cmV0dXJuIHN9dmFyIHU9aCh0LFtpLGEsMCwxXSksbD1oKHQsW2ksYSwxLDFdKSxmPXVbMl0sZD1sWzJdLHY9Zj09PWQ/MDooKG58fDApLWYpLyhkLWYpO3JldHVybiBwLmMoW10sdSxsLHYpfXZhciBJPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXTtmdW5jdGlvbiBSKGUpe3ZhciB0PWUud2lkdGgsbj1lLmhlaWdodCxyPWUuYm91bmRzLGk9ZS5taW5FeHRlbnQsYT12b2lkIDA9PT1pPzA6aSxvPWUubWF4Wm9vbSxzPXZvaWQgMD09PW8/MjQ6byx1PWUucGFkZGluZyxsPXZvaWQgMD09PXU/MDp1LGg9ZS5vZmZzZXQsZj12b2lkIDA9PT1oP1swLDBdOmgsZD1PYmplY3QoYy5hKShyLDIpLHY9T2JqZWN0KGMuYSkoZFswXSwyKSxwPXZbMF0sZz12WzFdLG09T2JqZWN0KGMuYSkoZFsxXSwyKSxiPW1bMF0sXz1tWzFdO2lmKE51bWJlci5pc0Zpbml0ZShsKSl7bD17dG9wOmwsYm90dG9tOmwsbGVmdDpsLHJpZ2h0Omx9fWVsc2UgeShOdW1iZXIuaXNGaW5pdGUobC50b3ApJiZOdW1iZXIuaXNGaW5pdGUobC5ib3R0b20pJiZOdW1iZXIuaXNGaW5pdGUobC5sZWZ0KSYmTnVtYmVyLmlzRmluaXRlKGwucmlnaHQpKTt2YXIgTz1uZXcgRCh7d2lkdGg6dCxoZWlnaHQ6bixsb25naXR1ZGU6MCxsYXRpdHVkZTowLHpvb206MH0pLHg9Ty5wcm9qZWN0KFtwLF9dKSx3PU8ucHJvamVjdChbYixnXSksUz1bTWF0aC5tYXgoTWF0aC5hYnMod1swXS14WzBdKSxhKSxNYXRoLm1heChNYXRoLmFicyh3WzFdLXhbMV0pLGEpXSxrPVt0LWwubGVmdC1sLnJpZ2h0LTIqTWF0aC5hYnMoZlswXSksbi1sLnRvcC1sLmJvdHRvbS0yKk1hdGguYWJzKGZbMV0pXTt5KGtbMF0+MCYma1sxXT4wKTt2YXIgUD1rWzBdL1NbMF0saj1rWzFdL1NbMV0sVD0obC5yaWdodC1sLmxlZnQpLzIvUCxFPShsLmJvdHRvbS1sLnRvcCkvMi9qLEE9Wyh3WzBdK3hbMF0pLzIrVCwod1sxXSt4WzFdKS8yK0VdLE09Ty51bnByb2plY3QoQSksQz1NYXRoLm1pbihzLE8uem9vbStNYXRoLmxvZzIoTWF0aC5hYnMoTWF0aC5taW4oUCxqKSkpKTtyZXR1cm4geShOdW1iZXIuaXNGaW5pdGUoQykpLHtsb25naXR1ZGU6TVswXSxsYXRpdHVkZTpNWzFdLHpvb206Q319dmFyIEQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGk9bi53aWR0aCx1PW4uaGVpZ2h0LGM9bi5sYXRpdHVkZSxsPXZvaWQgMD09PWM/MDpjLGg9bi5sb25naXR1ZGUsZj12b2lkIDA9PT1oPzA6aCxkPW4uem9vbSx2PXZvaWQgMD09PWQ/MDpkLHA9bi5waXRjaCxnPXZvaWQgMD09PXA/MDpwLHk9bi5iZWFyaW5nLG09dm9pZCAwPT09eT8wOnksYj1uLmFsdGl0dWRlLF89dm9pZCAwPT09Yj8xLjU6YixPPW4ubmVhclpNdWx0aXBsaWVyLHc9dm9pZCAwPT09Tz8uMDI6TyxrPW4uZmFyWk11bHRpcGxpZXIsUD12b2lkIDA9PT1rPzEuMDE6aztPYmplY3Qoci5hKSh0aGlzLHQpLGk9aXx8MSx1PXV8fDE7dmFyIFQ9eCh2KTtfPU1hdGgubWF4KC43NSxfKTt2YXIgQT1TKFtmLGxdKTtBWzJdPTA7dmFyIEM9TSh7d2lkdGg6aSxoZWlnaHQ6dSxwaXRjaDpnLGJlYXJpbmc6bSxhbHRpdHVkZTpfLG5lYXJaTXVsdGlwbGllcjp3LGZhclpNdWx0aXBsaWVyOlB9KSxMPUUoe2hlaWdodDp1LHNjYWxlOlQsY2VudGVyOkEscGl0Y2g6ZyxiZWFyaW5nOm0sYWx0aXR1ZGU6X30pO3JldHVybihlPU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkodCkuY2FsbCh0aGlzLHt3aWR0aDppLGhlaWdodDp1LHNjYWxlOlQsdmlld01hdHJpeDpMLHByb2plY3Rpb25NYXRyaXg6Q30pKSkubGF0aXR1ZGU9bCxlLmxvbmdpdHVkZT1mLGUuem9vbT12LGUucGl0Y2g9ZyxlLmJlYXJpbmc9bSxlLmFsdGl0dWRlPV8sZS5jZW50ZXI9QSxlLnVuaXRzUGVyTWV0ZXI9aihPYmplY3Qocy5hKShlKSkudW5pdHNQZXJNZXRlclsyXSxPYmplY3QuZnJlZXplKE9iamVjdChzLmEpKGUpKSxlfXJldHVybiBPYmplY3QodS5hKSh0LGUpLE9iamVjdChpLmEpKHQsW3trZXk6InByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gUyhlKX19LHtrZXk6InVucHJvamVjdEZsYXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBrKGUpfX0se2tleToiZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sbmdMYXQsbj1MKGUucG9zLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXgpLHI9Uyh0KSxpPXAuYShbXSxyLHAuZChbXSxuKSk7cmV0dXJuIGsocC5hKFtdLHRoaXMuY2VudGVyLGkpLHRoaXMuc2NhbGUpfX0se2tleToiZ2V0TG9jYXRpb25BdFBvaW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmxuZ0xhdCxuPWUucG9zO3JldHVybiB0aGlzLmdldE1hcENlbnRlckJ5TG5nTGF0UG9zaXRpb24oe2xuZ0xhdDp0LHBvczpufSl9fSx7a2V5OiJmaXRCb3VuZHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXRoaXMud2lkdGgsaT10aGlzLmhlaWdodCxhPVIoT2JqZWN0LmFzc2lnbih7d2lkdGg6cixoZWlnaHQ6aSxib3VuZHM6ZX0sbikpLG89YS5sb25naXR1ZGUscz1hLmxhdGl0dWRlLHU9YS56b29tO3JldHVybiBuZXcgdCh7d2lkdGg6cixoZWlnaHQ6aSxsb25naXR1ZGU6byxsYXRpdHVkZTpzLHpvb206dX0pfX1dKSx0fShmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj10LndpZHRoLGk9dC5oZWlnaHQsYT10LnNjYWxlLG89dC52aWV3TWF0cml4LHM9dm9pZCAwPT09bz9JOm8sdT10LnByb2plY3Rpb25NYXRyaXgsYz12b2lkIDA9PT11P0k6dTtPYmplY3Qoci5hKSh0aGlzLGUpLHRoaXMud2lkdGg9bnx8MSx0aGlzLmhlaWdodD1pfHwxLHRoaXMuc2NhbGU9YSx0aGlzLnVuaXRzUGVyTWV0ZXI9MSx0aGlzLnZpZXdNYXRyaXg9cyx0aGlzLnByb2plY3Rpb25NYXRyaXg9Yzt2YXIgbD1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV07di5oKGwsbCx0aGlzLnByb2plY3Rpb25NYXRyaXgpLHYuaChsLGwsdGhpcy52aWV3TWF0cml4KSx0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4PWw7dmFyIGg9WzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdO3YubyhoLGgsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksdi5wKGgsaCxbMSwtMSwwXSksdi5oKGgsaCx0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4KTt2YXIgZj12LmYoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdLGgpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiUGl4ZWwgcHJvamVjdCBtYXRyaXggbm90IGludmVydGlibGUiKTt0aGlzLnBpeGVsUHJvamVjdGlvbk1hdHJpeD1oLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXg9Zix0aGlzLmVxdWFscz10aGlzLmVxdWFscy5iaW5kKHRoaXMpLHRoaXMucHJvamVjdD10aGlzLnByb2plY3QuYmluZCh0aGlzKSx0aGlzLnVucHJvamVjdD10aGlzLnVucHJvamVjdC5iaW5kKHRoaXMpLHRoaXMucHJvamVjdFBvc2l0aW9uPXRoaXMucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy51bnByb2plY3RQb3NpdGlvbj10aGlzLnVucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy5wcm9qZWN0RmxhdD10aGlzLnByb2plY3RGbGF0LmJpbmQodGhpcyksdGhpcy51bnByb2plY3RGbGF0PXRoaXMudW5wcm9qZWN0RmxhdC5iaW5kKHRoaXMpfXJldHVybiBPYmplY3QoaS5hKShlLFt7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZSYmKHQud2lkdGg9PT10aGlzLndpZHRoJiZ0LmhlaWdodD09PXRoaXMuaGVpZ2h0JiZ2LmIodC5wcm9qZWN0aW9uTWF0cml4LHRoaXMucHJvamVjdGlvbk1hdHJpeCkmJnYuYih0LnZpZXdNYXRyaXgsdGhpcy52aWV3TWF0cml4KSl9fSx7a2V5OiJwcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGk9dGhpcy5wcm9qZWN0UG9zaXRpb24oZSksYT1DKGksdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXgpLG89T2JqZWN0KGMuYSkoYSwyKSxzPW9bMF0sdT1vWzFdLGw9cj91OnRoaXMuaGVpZ2h0LXU7cmV0dXJuIDI9PT1lLmxlbmd0aD9bcyxsXTpbcyxsLGFbMl1dfX0se2tleToidW5wcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGk9dC50YXJnZXRaLGE9T2JqZWN0KGMuYSkoZSwzKSxvPWFbMF0scz1hWzFdLHU9YVsyXSxsPXI/czp0aGlzLmhlaWdodC1zLGg9aSYmaSp0aGlzLnVuaXRzUGVyTWV0ZXIsZj1MKFtvLGwsdV0sdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeCxoKSxkPXRoaXMudW5wcm9qZWN0UG9zaXRpb24oZiksdj1PYmplY3QoYy5hKShkLDMpLHA9dlswXSxnPXZbMV0seT12WzJdO3JldHVybiBOdW1iZXIuaXNGaW5pdGUodSk/W3AsZyx5XTpOdW1iZXIuaXNGaW5pdGUoaSk/W3AsZyxpXTpbcCxnXX19LHtrZXk6InByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wcm9qZWN0RmxhdChlKSxuPU9iamVjdChjLmEpKHQsMik7cmV0dXJuW25bMF0sblsxXSwoZVsyXXx8MCkqdGhpcy51bml0c1Blck1ldGVyXX19LHtrZXk6InVucHJvamVjdFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnVucHJvamVjdEZsYXQoZSksbj1PYmplY3QoYy5hKSh0LDIpO3JldHVybltuWzBdLG5bMV0sKGVbMl18fDApL3RoaXMudW5pdHNQZXJNZXRlcl19fSx7a2V5OiJwcm9qZWN0RmxhdCIsdmFsdWU6ZnVuY3Rpb24oZSl7YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2NhbGU7cmV0dXJuIGV9fSx7a2V5OiJ1bnByb2plY3RGbGF0Iix2YWx1ZTpmdW5jdGlvbihlKXthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zY2FsZTtyZXR1cm4gZX19XSksZX0oKSk7ZnVuY3Rpb24gRihlKXt2YXIgdD1lLndpZHRoLG49ZS5oZWlnaHQscj1lLmxvbmdpdHVkZSxpPWUubGF0aXR1ZGUsYT1lLnpvb20sbz1lLnBpdGNoLHM9dm9pZCAwPT09bz8wOm8sdT1lLmJlYXJpbmcsYz12b2lkIDA9PT11PzA6dTsocjwtMTgwfHxyPjE4MCkmJihyPWYocisxODAsMzYwKS0xODApLChjPC0xODB8fGM+MTgwKSYmKGM9ZihjKzE4MCwzNjApLTE4MCk7dmFyIGw9bmV3IEQoe3dpZHRoOnQsaGVpZ2h0Om4sbG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSx6b29tOmF9KSxoPWwucHJvamVjdChbciw4NS4wNTExM10pWzFdLGQ9bC5wcm9qZWN0KFtyLC04NS4wNTExM10pWzFdLHY9MDtyZXR1cm4gZC1oPG4mJihhKz1NYXRoLmxvZzIobi8oZC1oKSksaD0obD1uZXcgRCh7d2lkdGg6dCxoZWlnaHQ6bixsb25naXR1ZGU6cixsYXRpdHVkZTppLHpvb206YX0pKS5wcm9qZWN0KFtyLDg1LjA1MTEzXSlbMV0sZD1sLnByb2plY3QoW3IsLTg1LjA1MTEzXSlbMV0pLGg+MD92PWg6ZDxuJiYodj1kLW4pLHYmJihpPWwudW5wcm9qZWN0KFt0LzIsbi8yK3ZdKVsxXSkse3dpZHRoOnQsaGVpZ2h0Om4sbG9uZ2l0dWRlOnIsbGF0aXR1ZGU6aSx6b29tOmEscGl0Y2g6cyxiZWFyaW5nOmN9fXZhciBOPVsibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIl0sej17Y3VydmU6MS40MTQsc3BlZWQ6MS4yfTtmdW5jdGlvbiBCKGUsdCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30saT17fSxhPVYoZSx0LHIpLG89YS5zdGFydFpvb20scz1hLnN0YXJ0Q2VudGVyWFksdT1hLnVEZWx0YSxjPWEudzAsbD1hLnUxLGg9YS5TLGY9YS5yaG8sdj1hLnJobzIsZz1hLnIwO2lmKGw8LjAxKXt2YXIgeT0hMCxtPSExLGI9dm9pZCAwO3RyeXtmb3IodmFyIF8sTz1OW1N5bWJvbC5pdGVyYXRvcl0oKTshKHk9KF89Ty5uZXh0KCkpLmRvbmUpO3k9ITApe3ZhciB4PV8udmFsdWUsUz1lW3hdLFA9dFt4XTtpW3hdPWQoUyxQLG4pfX1jYXRjaChlKXttPSEwLGI9ZX1maW5hbGx5e3RyeXt5fHxudWxsPT1PLnJldHVybnx8Ty5yZXR1cm4oKX1maW5hbGx5e2lmKG0pdGhyb3cgYn19cmV0dXJuIGl9dmFyIGo9bipoLFQ9TWF0aC5jb3NoKGcpL01hdGguY29zaChnK2YqaiksRT1jKigoTWF0aC5jb3NoKGcpKk1hdGgudGFuaChnK2YqaiktTWF0aC5zaW5oKGcpKS92KS9sLEE9MS9ULE09byt3KEEpLEM9cC5lKFtdLHUsRSk7cC5hKEMsQyxzKTt2YXIgTD1rKEMpO3JldHVybiBpLmxvbmdpdHVkZT1MWzBdLGkubGF0aXR1ZGU9TFsxXSxpLnpvb209TSxpfWZ1bmN0aW9uIFUoZSx0KXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPXI9T2JqZWN0LmFzc2lnbih7fSx6LHIpLGE9aS5zY3JlZW5TcGVlZCxvPWkuc3BlZWQscz1pLm1heER1cmF0aW9uLHU9VihlLHQsciksYz11LlMsbD11LnJobyxoPTFlMypjO3JldHVybiBuPU51bWJlci5pc0Zpbml0ZShhKT9oLyhhL2wpOmgvbyxOdW1iZXIuaXNGaW5pdGUocykmJm4+cz8wOm59ZnVuY3Rpb24gVihlLHQsbil7dmFyIHI9KG49T2JqZWN0LmFzc2lnbih7fSx6LG4pKS5jdXJ2ZSxpPWUuem9vbSxhPVtlLmxvbmdpdHVkZSxlLmxhdGl0dWRlXSxvPXgoaSkscz10Lnpvb20sdT1bdC5sb25naXR1ZGUsdC5sYXRpdHVkZV0sYz14KHMtaSksbD1TKGEpLGg9Uyh1KSxmPXAuZihbXSxoLGwpLGQ9TWF0aC5tYXgoZS53aWR0aCxlLmhlaWdodCksdj1kL2MsZz1wLmIoZikqbyx5PU1hdGgubWF4KGcsLjAxKSxtPXIqcixiPSh2KnYtZCpkK20qbSp5KnkpLygyKmQqbSp5KSxfPSh2KnYtZCpkLW0qbSp5KnkpLygyKnYqbSp5KSxPPU1hdGgubG9nKE1hdGguc3FydChiKmIrMSktYiksdz1NYXRoLmxvZyhNYXRoLnNxcnQoXypfKzEpLV8pO3JldHVybntzdGFydFpvb206aSxzdGFydENlbnRlclhZOmwsdURlbHRhOmYsdzA6ZCx1MTpnLFM6KHctTykvcixyaG86cixyaG8yOm0scjA6TyxyMTp3fX1uLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZCh0LCJrIiwoZnVuY3Rpb24oKXtyZXR1cm4gRn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZCh0LCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSxuLmQodCwibSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSksbi5kKHQsIm4iLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJsIiwoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKSxuLmQodCwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksbi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQodCwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsImgiLChmdW5jdGlvbigpe3JldHVybiBBfSkpfSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMjI3KX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsImgiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDI2KSxpPWZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGV9LGE9ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9LG89ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYib2JqZWN0Ij09PU9iamVjdChyLmEpKGUpfSxzPWZ1bmN0aW9uKGUpe3JldHVybiBvKGUpJiZhKGUudGhlbil9LHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW1N5bWJvbC5pdGVyYXRvcl19LGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXX0sbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmYShlLm5leHQpfSxoPWZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgUmVzcG9uc2UmJmUgaW5zdGFuY2VvZiBSZXNwb25zZXx8ZSYmZS5hcnJheUJ1ZmZlciYmZS50ZXh0JiZlLmpzb259LGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgRmlsZSYmZSBpbnN0YW5jZW9mIEZpbGV9KGUpfHxmdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEJsb2ImJmUgaW5zdGFuY2VvZiBCbG9ifShlKX0sZD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIm9iamVjdCI9PT1PYmplY3Qoci5hKShlKSYmZS5pc0J1ZmZlcn0sdj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBSZWFkYWJsZVN0cmVhbSYmZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtfHxvKGUpJiZhKGUudGVlKSYmYShlLmNhbmNlbCkmJmEoZS5nZXRSZWFkZXIpfShlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSkmJmEoZS5yZWFkKSYmYShlLnBpcGUpJiZpKGUucmVhZGFibGUpfShlKX0scD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSkmJmEoZS5hYm9ydCkmJmEoZS5nZXRXcml0ZXIpfShlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSkmJmEoZS5lbmQpJiZhKGUud3JpdGUpJiZpKGUud3JpdGFibGUpfShlKX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9bigyNDEpKCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9lLmV4cG9ydHM9bj1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmUuZXhwb3J0cz1uPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sbih0KX1lLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LCJnIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKHQsImwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQodCwiayIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsImgiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZCh0LCJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQodCwiaiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQodCwibiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksbi5kKHQsIm8iLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZCh0LCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIHI9bigxNCk7ZnVuY3Rpb24gaShlKXt2YXIgdD1uZXcgci5hKDQpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH1mdW5jdGlvbiBhKGUsdCxuLGkpe3ZhciBhPW5ldyByLmEoNCk7cmV0dXJuIGFbMF09ZSxhWzFdPXQsYVsyXT1uLGFbM109aSxhfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGV9ZnVuY3Rpb24gcyhlLHQsbixyLGkpe3JldHVybiBlWzBdPXQsZVsxXT1uLGVbMl09cixlWzNdPWksZX1mdW5jdGlvbiB1KGUsdCxuKXtyZXR1cm4gZVswXT10WzBdK25bMF0sZVsxXT10WzFdK25bMV0sZVsyXT10WzJdK25bMl0sZVszXT10WzNdK25bM10sZX1mdW5jdGlvbiBjKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdKm4sZVsxXT10WzFdKm4sZVsyXT10WzJdKm4sZVszXT10WzNdKm4sZX1mdW5jdGlvbiBsKGUpe3ZhciB0PWVbMF0sbj1lWzFdLHI9ZVsyXSxpPWVbM107cmV0dXJuIE1hdGguaHlwb3QodCxuLHIsaSl9ZnVuY3Rpb24gaChlKXt2YXIgdD1lWzBdLG49ZVsxXSxyPWVbMl0saT1lWzNdO3JldHVybiB0KnQrbipuK3IqcitpKml9ZnVuY3Rpb24gZihlLHQpe3ZhciBuPXRbMF0scj10WzFdLGk9dFsyXSxhPXRbM10sbz1uKm4rcipyK2kqaSthKmE7cmV0dXJuIG8+MCYmKG89MS9NYXRoLnNxcnQobykpLGVbMF09bipvLGVbMV09cipvLGVbMl09aSpvLGVbM109YSpvLGV9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBlWzBdKnRbMF0rZVsxXSp0WzFdK2VbMl0qdFsyXStlWzNdKnRbM119ZnVuY3Rpb24gdihlLHQsbixyKXt2YXIgaT10WzBdLGE9dFsxXSxvPXRbMl0scz10WzNdO3JldHVybiBlWzBdPWkrciooblswXS1pKSxlWzFdPWErciooblsxXS1hKSxlWzJdPW8rciooblsyXS1vKSxlWzNdPXMrciooblszXS1zKSxlfWZ1bmN0aW9uIHAoZSx0LG4pe3ZhciByPXRbMF0saT10WzFdLGE9dFsyXSxvPXRbM107cmV0dXJuIGVbMF09blswXSpyK25bNF0qaStuWzhdKmErblsxMl0qbyxlWzFdPW5bMV0qcituWzVdKmkrbls5XSphK25bMTNdKm8sZVsyXT1uWzJdKnIrbls2XSppK25bMTBdKmErblsxNF0qbyxlWzNdPW5bM10qcituWzddKmkrblsxMV0qYStuWzE1XSpvLGV9ZnVuY3Rpb24gZyhlLHQsbil7dmFyIHI9dFswXSxpPXRbMV0sYT10WzJdLG89blswXSxzPW5bMV0sdT1uWzJdLGM9blszXSxsPWMqcitzKmEtdSppLGg9YyppK3Uqci1vKmEsZj1jKmErbyppLXMqcixkPS1vKnItcyppLXUqYTtyZXR1cm4gZVswXT1sKmMrZCotbytoKi11LWYqLXMsZVsxXT1oKmMrZCotcytmKi1vLWwqLXUsZVsyXT1mKmMrZCotdStsKi1zLWgqLW8sZVszXT10WzNdLGV9ZnVuY3Rpb24geShlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXX1mdW5jdGlvbiBtKGUsdCl7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPXRbMF0sdT10WzFdLGM9dFsyXSxsPXRbM107cmV0dXJuIE1hdGguYWJzKG4tcyk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMoaS11KTw9ci5iKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnModSkpJiZNYXRoLmFicyhhLWMpPD1yLmIqTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhjKSkmJk1hdGguYWJzKG8tbCk8PXIuYipNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKGwpKX12YXIgYixfO2I9bmV3IHIuYSg0KSxyLmEhPUZsb2F0MzJBcnJheSYmKGJbMF09MCxiWzFdPTAsYlsyXT0wLGJbM109MCksXz1ifSwsZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJnIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZCh0LCJqIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigxNCk7ZnVuY3Rpb24gaShlLHQsbil7cmV0dXJuIGVbMF09dFswXStuWzBdLGVbMV09dFsxXStuWzFdLGV9ZnVuY3Rpb24gYShlLHQsbil7cmV0dXJuIGVbMF09dFswXSpuLGVbMV09dFsxXSpuLGV9ZnVuY3Rpb24gbyhlKXt2YXIgdD1lWzBdLG49ZVsxXTtyZXR1cm4gTWF0aC5oeXBvdCh0LG4pfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGV9ZnVuY3Rpb24gdShlLHQsbixyKXt2YXIgaT10WzBdLGE9dFsxXTtyZXR1cm4gZVswXT1pK3IqKG5bMF0taSksZVsxXT1hK3IqKG5bMV0tYSksZX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgcj10WzBdLGk9dFsxXTtyZXR1cm4gZVswXT1uWzBdKnIrblsyXSppLGVbMV09blsxXSpyK25bM10qaSxlfWZ1bmN0aW9uIGwoZSx0LG4pe3ZhciByPXRbMF0saT10WzFdO3JldHVybiBlWzBdPW5bMF0qcituWzJdKmkrbls0XSxlWzFdPW5bMV0qcituWzNdKmkrbls1XSxlfWZ1bmN0aW9uIGgoZSx0LG4pe3ZhciByPXRbMF0saT10WzFdO3JldHVybiBlWzBdPW5bMF0qcituWzNdKmkrbls2XSxlWzFdPW5bMV0qcituWzRdKmkrbls3XSxlfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByPXRbMF0saT10WzFdO3JldHVybiBlWzBdPW5bMF0qcituWzRdKmkrblsxMl0sZVsxXT1uWzFdKnIrbls1XSppK25bMTNdLGV9dmFyIGQsdixwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdLW5bMF0sZVsxXT10WzFdLW5bMV0sZX07ZD1uZXcgci5hKDIpLHIuYSE9RmxvYXQzMkFycmF5JiYoZFswXT0wLGRbMV09MCksdj1kfSwsZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigwKTtmdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9PYmplY3QoYXJndW1lbnRzW3RdKTp7fSxpPU9iamVjdC5rZXlzKG4pOyJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYoaT1pLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG4pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixlKS5lbnVtZXJhYmxlfSkpKSksaS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3Qoci5hKShlLHQsblt0XSl9KSl9cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigyMyksaT17fTtmdW5jdGlvbiBhKGUpe2k9ZX1mdW5jdGlvbiBvKGUpe3ZhciB0O3IuYS5sZXZlbD4wJiZpW2VdJiYodD1pW2VdKS5jYWxsLmFwcGx5KHQsYXJndW1lbnRzKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj17Tk9fU1RBVEU6IkF3YWl0aW5nIHN0YXRlIixNQVRDSEVEOiJNYXRjaGVkLiBTdGF0ZSB0cmFuc2ZlcnJlZCBmcm9tIHByZXZpb3VzIGxheWVyIixJTklUSUFMSVpFRDoiSW5pdGlhbGl6ZWQiLEFXQUlUSU5HX0dDOiJEaXNjYXJkZWQuIEF3YWl0aW5nIGdhcmJhZ2UgY29sbGVjdGlvbiIsQVdBSVRJTkdfRklOQUxJWkFUSU9OOiJObyBsb25nZXIgbWF0Y2hlZC4gQXdhaXRpbmcgZ2FyYmFnZSBjb2xsZWN0aW9uIixGSU5BTElaRUQ6IkZpbmFsaXplZCEgQXdhaXRpbmcgZ2FyYmFnZSBjb2xsZWN0aW9uIn0saT17Q09NUE9ORU5UOlN5bWJvbC5mb3IoImNvbXBvbmVudCIpLEFTWU5DX0RFRkFVTFRTOlN5bWJvbC5mb3IoImFzeW5jUHJvcERlZmF1bHRzIiksQVNZTkNfT1JJR0lOQUw6U3ltYm9sLmZvcigiYXN5bmNQcm9wT3JpZ2luYWwiKSxBU1lOQ19SRVNPTFZFRDpTeW1ib2wuZm9yKCJhc3luY1Byb3BSZXNvbHZlZCIpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIHI9big1KSxpPW4oNiksYT1uKDE2KSxvPW4oMTUpLHM9bigzOCksdT1uKDE3KSxjPW4oNDgpLGw9big2MSksaD1uKDY1KSxmPW4oODkpLGQ9bigxMSksdj1uKDE3OCkscD1uKDI5KSxnPXtvZmZzZXQ6ImFjY2Vzc29yLm9mZnNldCIsc3RyaWRlOiJhY2Nlc3Nvci5zdHJpZGUiLHR5cGU6ImFjY2Vzc29yLnR5cGUiLHNpemU6ImFjY2Vzc29yLnNpemUiLGRpdmlzb3I6ImFjY2Vzc29yLmRpdmlzb3IiLG5vcm1hbGl6ZWQ6ImFjY2Vzc29yLm5vcm1hbGl6ZWQiLGludGVnZXI6ImFjY2Vzc29yLmludGVnZXIiLGluc3RhbmNlZDoiYWNjZXNzb3IuZGl2aXNvciIsaXNJbnN0YW5jZWQ6ImFjY2Vzc29yLmRpdmlzb3IifSx5PXtyZW1vdmVkUHJvcHM6e30scmVwbGFjZWRQcm9wczp7Ynl0ZXM6ImJ5dGVMZW5ndGgifSxkZXByZWNhdGVkUHJvcHM6Z30sbT17cmVtb3ZlZFByb3BzOmd9LGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyx0KSwobj1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKHQpLmNhbGwodGhpcyxlLGkpKSkuc3R1YlJlbW92ZWRNZXRob2RzKCJCdWZmZXIiLCJ2Ni4wIixbImxheW91dCIsInNldExheW91dCIsImdldEluZGV4ZWRQYXJhbWV0ZXIiXSksbi50YXJnZXQ9aS50YXJnZXR8fChuLmdsLndlYmdsMj8zNjY2MjozNDk2Miksbi5pbml0aWFsaXplKGkpLE9iamVjdC5zZWFsKE9iamVjdChzLmEpKG4pKSxufXJldHVybiBPYmplY3QodS5hKSh0LGUpLE9iamVjdChpLmEpKHQsW3trZXk6ImdldEVsZW1lbnRDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5hY2Nlc3NvcjtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmJ5dGVMZW5ndGgvbC5hLmdldEJ5dGVzUGVyRWxlbWVudChlKSl9fSx7a2V5OiJnZXRWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5hY2Nlc3NvcjtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmJ5dGVMZW5ndGgvbC5hLmdldEJ5dGVzUGVyVmVydGV4KGUpKX19LHtrZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcoZSkmJihlPXtkYXRhOmV9KSxOdW1iZXIuaXNGaW5pdGUoZSkmJihlPXtieXRlTGVuZ3RoOmV9KSxlPU9iamVjdCh2LmEpKCJCdWZmZXIiLGUseSksdGhpcy51c2FnZT1lLnVzYWdlfHwzNTA0NCx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXMuc2V0QWNjZXNzb3IoT2JqZWN0LmFzc2lnbih7fSxlLGUuYWNjZXNzb3IpKSxlLmRhdGE/dGhpcy5fc2V0RGF0YShlLmRhdGEsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKTp0aGlzLl9zZXRCeXRlTGVuZ3RoKGUuYnl0ZUxlbmd0aHx8MCksdGhpc319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4iYWNjZXNzb3IiaW4oZT1PYmplY3Qodi5hKSgiQnVmZmVyIixlLG0pKSYmdGhpcy5zZXRBY2Nlc3NvcihlLmFjY2Vzc29yKSx0aGlzfX0se2tleToic2V0QWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBkZWxldGUoZT1PYmplY3QuYXNzaWduKHt9LGUpKS5idWZmZXIsdGhpcy5hY2Nlc3Nvcj1uZXcgbC5hKGUpLHRoaXN9fSx7a2V5OiJyZWFsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT50aGlzLmJ5dGVMZW5ndGg/KHRoaXMuX3NldEJ5dGVMZW5ndGgoZSksITApOih0aGlzLmJ5dGVzVXNlZD1lLCExKX19LHtrZXk6InNldERhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluaXRpYWxpemUoZSl9fSx7a2V5OiJzdWJEYXRhIix2YWx1ZTpmdW5jdGlvbihlKXtBcnJheUJ1ZmZlci5pc1ZpZXcoZSkmJihlPXtkYXRhOmV9KTt2YXIgdD1lLG49dC5kYXRhLHI9dC5vZmZzZXQsaT12b2lkIDA9PT1yPzA6cixhPXQuc3JjT2Zmc2V0LG89dm9pZCAwPT09YT8wOmEscz1lLmJ5dGVMZW5ndGh8fGUubGVuZ3RoO09iamVjdChwLmEpKG4pO3ZhciB1PXRoaXMuZ2wud2ViZ2wyPzM2NjYzOnRoaXMudGFyZ2V0O3JldHVybiB0aGlzLmdsLmJpbmRCdWZmZXIodSx0aGlzLmhhbmRsZSksMCE9PW98fHZvaWQgMCE9PXM/KE9iamVjdChoLmEpKHRoaXMuZ2wpLHRoaXMuZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLnRhcmdldCxpLG4sbyxzKSk6dGhpcy5nbC5idWZmZXJTdWJEYXRhKHUsaSxuKSx0aGlzLmdsLmJpbmRCdWZmZXIodSxudWxsKSx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXMuX2luZmVyVHlwZShuKSx0aGlzfX0se2tleToiY29weURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlQnVmZmVyLG49ZS5yZWFkT2Zmc2V0LHI9dm9pZCAwPT09bj8wOm4saT1lLndyaXRlT2Zmc2V0LGE9dm9pZCAwPT09aT8wOmksbz1lLnNpemUscz10aGlzLmdsO3JldHVybiBPYmplY3QoaC5hKShzKSxzLmJpbmRCdWZmZXIoMzY2NjIsdC5oYW5kbGUpLHMuYmluZEJ1ZmZlcigzNjY2Myx0aGlzLmhhbmRsZSkscy5jb3B5QnVmZmVyU3ViRGF0YSgzNjY2MiwzNjY2MyxyLGEsbykscy5iaW5kQnVmZmVyKDM2NjYyLG51bGwpLHMuYmluZEJ1ZmZlcigzNjY2MyxudWxsKSx0aGlzLmRlYnVnRGF0YT1udWxsLHRoaXN9fSx7a2V5OiJnZXREYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZHN0RGF0YSxuPXZvaWQgMD09PXQ/bnVsbDp0LHI9ZS5zcmNCeXRlT2Zmc2V0LGk9dm9pZCAwPT09cj8wOnIsYT1lLmRzdE9mZnNldCxvPXZvaWQgMD09PWE/MDphLHM9ZS5sZW5ndGgsdT12b2lkIDA9PT1zPzA6cztPYmplY3QoaC5hKSh0aGlzLmdsKTt2YXIgYyxsLGQ9T2JqZWN0KGYuYykodGhpcy5hY2Nlc3Nvci50eXBlfHw1MTI2LHtjbGFtcGVkOiExfSksdj10aGlzLl9nZXRBdmFpbGFibGVFbGVtZW50Q291bnQoaSksZz1vO24/Yz0obD1uLmxlbmd0aCktZzpsPWcrKGM9TWF0aC5taW4odix1fHx2KSk7dmFyIHk9TWF0aC5taW4odixjKTtyZXR1cm4gdT11fHx5LE9iamVjdChwLmEpKHU8PXkpLG49bnx8bmV3IGQobCksdGhpcy5nbC5iaW5kQnVmZmVyKDM2NjYyLHRoaXMuaGFuZGxlKSx0aGlzLmdsLmdldEJ1ZmZlclN1YkRhdGEoMzY2NjIsaSxuLG8sdSksdGhpcy5nbC5iaW5kQnVmZmVyKDM2NjYyLG51bGwpLG59fSx7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUudGFyZ2V0LG49dm9pZCAwPT09dD90aGlzLnRhcmdldDp0LHI9ZS5pbmRleCxpPXZvaWQgMD09PXI/dGhpcy5hY2Nlc3NvciYmdGhpcy5hY2Nlc3Nvci5pbmRleDpyLGE9ZS5vZmZzZXQsbz12b2lkIDA9PT1hPzA6YSxzPWUuc2l6ZTtyZXR1cm4gMzUzNDU9PT1ufHwzNTk4Mj09PW4/dm9pZCAwIT09cz90aGlzLmdsLmJpbmRCdWZmZXJSYW5nZShuLGksdGhpcy5oYW5kbGUsbyxzKTooT2JqZWN0KHAuYSkoMD09PW8pLHRoaXMuZ2wuYmluZEJ1ZmZlckJhc2UobixpLHRoaXMuaGFuZGxlKSk6dGhpcy5nbC5iaW5kQnVmZmVyKG4sdGhpcy5oYW5kbGUpLHRoaXN9fSx7a2V5OiJ1bmJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS50YXJnZXQsbj12b2lkIDA9PT10P3RoaXMudGFyZ2V0OnQscj1lLmluZGV4LGk9dm9pZCAwPT09cj90aGlzLmFjY2Vzc29yJiZ0aGlzLmFjY2Vzc29yLmluZGV4OnIsYT0zNTM0NT09PW58fDM1OTgyPT09bjtyZXR1cm4gYT90aGlzLmdsLmJpbmRCdWZmZXJCYXNlKG4saSxudWxsKTp0aGlzLmdsLmJpbmRCdWZmZXIobixudWxsKSx0aGlzfX0se2tleToiZ2V0RGVidWdEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlYnVnRGF0YT97ZGF0YTp0aGlzLmRlYnVnRGF0YSxjaGFuZ2VkOiExfToodGhpcy5kZWJ1Z0RhdGE9dGhpcy5nZXREYXRhKHtsZW5ndGg6TWF0aC5taW4oMTAsdGhpcy5ieXRlTGVuZ3RoKX0pLHtkYXRhOnRoaXMuZGVidWdEYXRhLGNoYW5nZWQ6ITB9KX19LHtrZXk6ImludmFsaWRhdGVEZWJ1Z0RhdGEiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kZWJ1Z0RhdGE9bnVsbH19LHtrZXk6Il9zZXREYXRhIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTplLmJ5dGVMZW5ndGgrdDtPYmplY3QocC5hKShBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKTt2YXIgcj10aGlzLl9nZXRUYXJnZXQoKTt0aGlzLmdsLmJpbmRCdWZmZXIocix0aGlzLmhhbmRsZSksdGhpcy5nbC5idWZmZXJEYXRhKHIsbix0aGlzLnVzYWdlKSx0aGlzLmdsLmJ1ZmZlclN1YkRhdGEocix0LGUpLHRoaXMuZ2wuYmluZEJ1ZmZlcihyLG51bGwpLHRoaXMuZGVidWdEYXRhPWUuc2xpY2UoMCwxMCksdGhpcy5ieXRlc1VzZWQ9bix0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShuKTt2YXIgaT1PYmplY3QoZi5iKShlKTtyZXR1cm4gT2JqZWN0KHAuYSkoaSksdGhpcy5zZXRBY2Nlc3NvcihuZXcgbC5hKHRoaXMuYWNjZXNzb3Ise3R5cGU6aX0pKSx0aGlzfX0se2tleToiX3NldEJ5dGVMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnVzYWdlO09iamVjdChwLmEpKGU+PTApLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKTt2YXIgbj1lOzA9PT1lJiYobj1uZXcgRmxvYXQzMkFycmF5KDApKTt2YXIgcj10aGlzLl9nZXRUYXJnZXQoKTtyZXR1cm4gdGhpcy5nbC5iaW5kQnVmZmVyKHIsdGhpcy5oYW5kbGUpLHRoaXMuZ2wuYnVmZmVyRGF0YShyLG4sdCksdGhpcy5nbC5iaW5kQnVmZmVyKHIsbnVsbCksdGhpcy51c2FnZT10LHRoaXMuZGVidWdEYXRhPW51bGwsdGhpcy5ieXRlc1VzZWQ9ZSx0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShlKSx0aGlzfX0se2tleToiX2dldFRhcmdldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC53ZWJnbDI/MzY2NjM6dGhpcy50YXJnZXR9fSx7a2V5OiJfZ2V0QXZhaWxhYmxlRWxlbWVudENvdW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lL09iamVjdChmLmMpKHRoaXMuYWNjZXNzb3IudHlwZXx8NTEyNix7Y2xhbXBlZDohMX0pLkJZVEVTX1BFUl9FTEVNRU5UO3JldHVybiB0aGlzLmdldEVsZW1lbnRDb3VudCgpLXR9fSx7a2V5OiJfaW5mZXJUeXBlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmFjY2Vzc29yLnR5cGV8fHRoaXMuc2V0QWNjZXNzb3IobmV3IGwuYSh0aGlzLmFjY2Vzc29yLHt0eXBlOk9iamVjdChmLmIpKGUpfSkpfX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5oYW5kbGUpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKX19LHtrZXk6Il9nZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLnRhcmdldCx0aGlzLmhhbmRsZSk7dmFyIHQ9dGhpcy5nbC5nZXRCdWZmZXJQYXJhbWV0ZXIodGhpcy50YXJnZXQsZSk7cmV0dXJuIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLnRhcmdldCxudWxsKSx0fX0se2tleToic2V0Qnl0ZUxlbmd0aCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGQuaC5kZXByZWNhdGVkKCJzZXRCeXRlTGVuZ3RoIiwicmVhbGxvY2F0ZSIpKCksdGhpcy5yZWFsbG9jYXRlKGUpfX0se2tleToidXBkYXRlQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBkLmguZGVwcmVjYXRlZCgidXBkYXRlQWNjZXNzb3IoLi4uKSIsInNldEFjY2Vzc29yKG5ldyBBY2Nlc3NvcihidWZmZXIuYWNjZXNzb3IsIC4uLikiKSgpLHRoaXMuYWNjZXNzb3I9bmV3IGwuYSh0aGlzLmFjY2Vzc29yLGUpLHRoaXN9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oLmRlcHJlY2F0ZWQoIkJ1ZmZlci50eXBlIiwiQnVmZmVyLmFjY2Vzc29yLnR5cGUiKSgpLHRoaXMuYWNjZXNzb3IudHlwZX19LHtrZXk6ImJ5dGVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5oLmRlcHJlY2F0ZWQoIkJ1ZmZlci5ieXRlcyIsIkJ1ZmZlci5ieXRlTGVuZ3RoIikoKSx0aGlzLmJ5dGVMZW5ndGh9fV0pLHR9KGMuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIHI9big4NCksaT1uKDEpO2Z1bmN0aW9uIGEoKXtyZXR1cm5bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV19ZnVuY3Rpb24gbyhlLHQpe3ZhciBuPWUldDtyZXR1cm4gbjwwP3QrbjpufWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS52aWV3TWF0cml4LG49ZS52aWV3TWF0cml4SW52ZXJzZTtyZXR1cm57ZXllOltuWzEyXSxuWzEzXSxuWzE0XV0sZGlyZWN0aW9uOlstdFsyXSwtdFs2XSwtdFsxMF1dLHVwOlt0WzFdLHRbNV0sdFs5XV0scmlnaHQ6W3RbMF0sdFs0XSx0WzhdXX19dmFyIHUsYz1uZXcgaS5lLGw9bmV3IGkuZSxoPW5ldyBpLmUsZj1uZXcgaS5lLGQ9bmV3IGkuZSx2PW5ldyBpLmUscD1uZXcgaS5lO2Z1bmN0aW9uIGcoZSl7dmFyIHQ9ZS5hc3BlY3Qsbj1lLm5lYXIscj1lLmZhcixhPWUuZm92eVJhZGlhbnMsbz1lLnBvc2l0aW9uLHM9ZS5kaXJlY3Rpb24sdT1lLnVwLGc9ZS5yaWdodDtsLmNvcHkocyk7dmFyIHk9MS9sLmxlbigpO2wubm9ybWFsaXplKCksYy5jb3B5KG8pLGguY29weSh1KTt2YXIgbT0xL2gubGVuKCk7aC5ub3JtYWxpemUoKSxmLmNvcHkoZykubm9ybWFsaXplKCk7dmFyIGI9MipNYXRoLnRhbihhLzIpKm4qbSxfPWIqdDtkLmNvcHkobCkuc2NhbGUobip5KS5hZGQoYyksdi5jb3B5KGwpLnNjYWxlKHIqeSkuYWRkKGMpO3ZhciBPPWwuY2xvbmUoKS5uZWdhdGUoKSx4PU8uZG90KGQpLHc9e25lYXI6e2Rpc3RhbmNlOngsbm9ybWFsOk99LGZhcjp7ZGlzdGFuY2U6bC5kb3Qodiksbm9ybWFsOmwuY2xvbmUoKX19O3JldHVybiBwLmNvcHkoZikuc2NhbGUoLjUqXykuYWRkKGQpLnN1YnRyYWN0KGMpLm5vcm1hbGl6ZSgpLE89bmV3IGkuZShwKS5jcm9zcyhoKSx4PWMuZG90KE8pLHcucmlnaHQ9e25vcm1hbDpPLGRpc3RhbmNlOnh9LHAuY29weShmKS5zY2FsZSguNSotXykuYWRkKGQpLnN1YnRyYWN0KGMpLm5vcm1hbGl6ZSgpLE89bmV3IGkuZShoKS5jcm9zcyhwKSx4PWMuZG90KE8pLHcubGVmdD17bm9ybWFsOk8sZGlzdGFuY2U6eH0scC5jb3B5KGgpLnNjYWxlKC41KmIpLmFkZChkKS5zdWJ0cmFjdChjKS5ub3JtYWxpemUoKSxPPW5ldyBpLmUoZikuY3Jvc3MocCkseD1jLmRvdChPKSx3LnRvcD17bm9ybWFsOk8sZGlzdGFuY2U6eH0scC5jb3B5KGgpLnNjYWxlKC41Ki1iKS5hZGQoZCkuc3VidHJhY3QoYykubm9ybWFsaXplKCksTz1uZXcgaS5lKHApLmNyb3NzKGYpLHg9Yy5kb3QoTyksdy5ib3R0b209e25vcm1hbDpPLGRpc3RhbmNlOnh9LHd9ZnVuY3Rpb24geShlKXtyZXR1cm4gZS1NYXRoLmZyb3VuZChlKX1mdW5jdGlvbiBtKGUsdCl7dmFyIG49dC5zaXplLGk9dm9pZCAwPT09bj8xOm4sYT10LnN0YXJ0SW5kZXgsbz12b2lkIDA9PT1hPzA6YSxzPXQuZW5kSW5kZXg7TnVtYmVyLmlzRmluaXRlKHMpfHwocz1lLmxlbmd0aCk7dmFyIGM9KHMtbykvaTt1PXIuYS5hbGxvY2F0ZSh1LGMse3R5cGU6RmxvYXQzMkFycmF5LHNpemU6MippfSk7Zm9yKHZhciBsPW8saD0wO2w8czspe2Zvcih2YXIgZj0wO2Y8aTtmKyspe3ZhciBkPWVbbCsrXTt1W2grZl09ZCx1W2grZitpXT15KGQpfWgrPTIqaX1yZXR1cm4gdS5zdWJhcnJheSgwLGMqaSoyKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBkfSkpO3ZhciByPW4oNSksaT1uKDYpLGE9bigxMSksbz1uKDEzMCkscz1uKDY1KSx1PW4oOTUpLGM9bigxMDUpLGw9bigyOSksaD1uKDI1MyksZj0iUmVzb3VyY2Ugc3ViY2xhc3MgbXVzdCBkZWZpbmUgdmlydHVhbCBtZXRob2RzIixkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHIuYSkodGhpcyxlKSxPYmplY3Qocy5iKSh0KTt2YXIgaT1uLmlkLGE9bi51c2VyRGF0YSxvPXZvaWQgMD09PWE/e306YTt0aGlzLmdsPXQsdGhpcy5pZD1pfHxPYmplY3QoYy5jKSh0aGlzLmNvbnN0cnVjdG9yLm5hbWUpLHRoaXMudXNlckRhdGE9byx0aGlzLl9ib3VuZD0hMSx0aGlzLl9oYW5kbGU9bi5oYW5kbGUsdm9pZCAwPT09dGhpcy5faGFuZGxlJiYodGhpcy5faGFuZGxlPXRoaXMuX2NyZWF0ZUhhbmRsZSgpKSx0aGlzLmJ5dGVMZW5ndGg9MCx0aGlzLl9hZGRTdGF0cygpfXJldHVybiBPYmplY3QoaS5hKShlLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iIi5jb25jYXQodGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCIoIikuY29uY2F0KHRoaXMuaWQsIikiKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmRlbGV0ZUNoaWxkcmVuLG49dm9pZCAwIT09dCYmdCxyPXRoaXMuX2hhbmRsZSYmdGhpcy5fZGVsZXRlSGFuZGxlKHRoaXMuX2hhbmRsZSk7cmV0dXJuIHRoaXMuX2hhbmRsZSYmdGhpcy5fcmVtb3ZlU3RhdHMoKSx0aGlzLl9oYW5kbGU9bnVsbCxyJiZuJiZyLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmRlbGV0ZSgpfSkpLHRoaXN9fSx7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuaGFuZGxlO3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiB0Pyh0aGlzLl9iaW5kSGFuZGxlKHQpLHRoaXMpOih0aGlzLl9ib3VuZD9lPXQoKToodGhpcy5fYmluZEhhbmRsZSh0aGlzLmhhbmRsZSksdGhpcy5fYm91bmQ9ITAsZT10KCksdGhpcy5fYm91bmQ9ITEsdGhpcy5fYmluZEhhbmRsZShudWxsKSksZSl9fSx7a2V5OiJ1bmJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5iaW5kKG51bGwpfX0se2tleToiZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307ZT1PYmplY3QodS5iKSh0aGlzLmdsLGUpLE9iamVjdChsLmEpKGUpO3ZhciBuPXRoaXMuY29uc3RydWN0b3IuUEFSQU1FVEVSU3x8e30scj1uW2VdO2lmKHIpe3ZhciBpPU9iamVjdChhLmcpKHRoaXMuZ2wpLG89KCEoIndlYmdsMiJpbiByKXx8aSkmJighKCJleHRlbnNpb24iaW4gcil8fHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKHIuZXh0ZW5zaW9uKSk7aWYoIW8pe3ZhciBzPXIud2ViZ2wxLGM9IndlYmdsMiJpbiByP3Iud2ViZ2wyOnIud2ViZ2wxLGg9aT9jOnM7cmV0dXJuIGh9fXJldHVybiB0aGlzLl9nZXRQYXJhbWV0ZXIoZSx0KX19LHtrZXk6ImdldFBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9e30sbj10LnBhcmFtZXRlcnMscj10LmtleXMsaT10aGlzLmNvbnN0cnVjdG9yLlBBUkFNRVRFUlN8fHt9LG89T2JqZWN0KGEuZykodGhpcy5nbCkscz17fSxjPW58fE9iamVjdC5rZXlzKGkpLGw9ITAsaD0hMSxmPXZvaWQgMDt0cnl7Zm9yKHZhciBkLHY9Y1tTeW1ib2wuaXRlcmF0b3JdKCk7IShsPShkPXYubmV4dCgpKS5kb25lKTtsPSEwKXt2YXIgcD1kLnZhbHVlLGc9aVtwXSx5PWcmJighKCJ3ZWJnbDIiaW4gZyl8fG8pJiYoISgiZXh0ZW5zaW9uImluIGcpfHx0aGlzLmdsLmdldEV4dGVuc2lvbihnLmV4dGVuc2lvbikpO2lmKHkpe3ZhciBtPXI/T2JqZWN0KHUuYSkodGhpcy5nbCxwKTpwO3NbbV09dGhpcy5nZXRQYXJhbWV0ZXIocCxlKSxyJiYiR0xlbnVtIj09PWcudHlwZSYmKHNbbV09T2JqZWN0KHUuYSkodGhpcy5nbCxzW21dKSl9fX1jYXRjaChlKXtoPSEwLGY9ZX1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19cmV0dXJuIHN9fSx7a2V5OiJzZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZT1PYmplY3QodS5iKSh0aGlzLmdsLGUpLE9iamVjdChsLmEpKGUpO3ZhciBuPSh0aGlzLmNvbnN0cnVjdG9yLlBBUkFNRVRFUlN8fHt9KVtlXTtpZihuKXt2YXIgcj1PYmplY3QoYS5nKSh0aGlzLmdsKTtpZighKCghKCJ3ZWJnbDIiaW4gbil8fHIpJiYoISgiZXh0ZW5zaW9uImluIG4pfHx0aGlzLmdsLmdldEV4dGVuc2lvbihuLmV4dGVuc2lvbikpKSl0aHJvdyBuZXcgRXJyb3IoIlBhcmFtZXRlciBub3QgYXZhaWxhYmxlIG9uIHRoaXMgcGxhdGZvcm0iKTsiR0xlbnVtIj09PW4udHlwZSYmKHQ9T2JqZWN0KHUuYikodCkpfXJldHVybiB0aGlzLl9zZXRQYXJhbWV0ZXIoZSx0KSx0aGlzfX0se2tleToic2V0UGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpdGhpcy5zZXRQYXJhbWV0ZXIodCxlW3RdKTtyZXR1cm4gdGhpc319LHtrZXk6InN0dWJSZW1vdmVkTWV0aG9kcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBPYmplY3QoaC5hKSh0aGlzLGUsdCxuKX19LHtrZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKGYpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoZil9fSx7a2V5OiJfYmluZEhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoZil9fSx7a2V5OiJfZ2V0T3B0c0Zyb21IYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKGYpfX0se2tleToiX2dldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoZil9fSx7a2V5OiJfc2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3Rocm93IG5ldyBFcnJvcihmKX19LHtrZXk6Il9jb250ZXh0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmx1bWE9dGhpcy5nbC5sdW1hfHx7fSx0aGlzLmdsLmx1bWF9fSx7a2V5OiJfYWRkU3RhdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHQ9by5hLmdldCgiUmVzb3VyY2UgQ291bnRzIik7dC5nZXQoIlJlc291cmNlcyBDcmVhdGVkIikuaW5jcmVtZW50Q291bnQoKSx0LmdldCgiIi5jb25jYXQoZSwicyBDcmVhdGVkIikpLmluY3JlbWVudENvdW50KCksdC5nZXQoIiIuY29uY2F0KGUsInMgQWN0aXZlIikpLmluY3JlbWVudENvdW50KCl9fSx7a2V5OiJfcmVtb3ZlU3RhdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lO28uYS5nZXQoIlJlc291cmNlIENvdW50cyIpLmdldCgiIi5jb25jYXQoZSwicyBBY3RpdmUiKSkuZGVjcmVtZW50Q291bnQoKX19LHtrZXk6Il90cmFja0FsbG9jYXRlZE1lbW9yeSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuY29uc3RydWN0b3IubmFtZSxuPW8uYS5nZXQoIk1lbW9yeSBVc2FnZSIpO24uZ2V0KCJHUFUgTWVtb3J5IikuYWRkQ291bnQoZSksbi5nZXQoIiIuY29uY2F0KHQsIiBNZW1vcnkiKSkuYWRkQ291bnQoZSksdGhpcy5ieXRlTGVuZ3RoPWV9fSx7a2V5OiJfdHJhY2tEZWFsbG9jYXRlZE1lbW9yeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHQ9by5hLmdldCgiTWVtb3J5IFVzYWdlIik7dC5nZXQoIkdQVSBNZW1vcnkiKS5zdWJ0cmFjdENvdW50KHRoaXMuYnl0ZUxlbmd0aCksdC5nZXQoIiIuY29uY2F0KGUsIiBNZW1vcnkiKSkuc3VidHJhY3RDb3VudCh0aGlzLmJ5dGVMZW5ndGgpLHRoaXMuYnl0ZUxlbmd0aD0wfX0se2tleToiaGFuZGxlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFuZGxlfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDE1OCk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gbmV3IHIuYShlKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oMTgpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMyksdT1uLm4ocyksYz1uKDIzKSxsPW4oNDcpLGg9bigxKSxmPW4oMjQpLGQ9bigzMyksdj1uKDIyKSxwPU1hdGguUEkvMTgwLGc9T2JqZWN0KGwuYSkoKSx5PVswLDAsMF0sbT17dW5pdHNQZXJNZXRlcjpbMSwxLDFdLG1ldGVyc1BlclVuaXQ6WzEsMSwxXX0sYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bygpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/bnVsbDpuLGk9dC54LGE9dm9pZCAwPT09aT8wOmkscz10LnksdT12b2lkIDA9PT1zPzA6cyxjPXQud2lkdGgsbD12b2lkIDA9PT1jPzE6YyxoPXQuaGVpZ2h0LGY9dm9pZCAwPT09aD8xOmg7dGhpcy5pZD1yfHx0aGlzLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lfHwidmlld3BvcnQiLHRoaXMueD1hLHRoaXMueT11LHRoaXMud2lkdGg9bHx8MSx0aGlzLmhlaWdodD1mfHwxLHRoaXMuX2ZydXN0dW1QbGFuZXM9e30sdGhpcy5faW5pdFZpZXdNYXRyaXgodCksdGhpcy5faW5pdFByb2plY3Rpb25NYXRyaXgodCksdGhpcy5faW5pdFBpeGVsTWF0cmljZXMoKSx0aGlzLmVxdWFscz10aGlzLmVxdWFscy5iaW5kKHRoaXMpLHRoaXMucHJvamVjdD10aGlzLnByb2plY3QuYmluZCh0aGlzKSx0aGlzLnVucHJvamVjdD10aGlzLnVucHJvamVjdC5iaW5kKHRoaXMpLHRoaXMucHJvamVjdFBvc2l0aW9uPXRoaXMucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy51bnByb2plY3RQb3NpdGlvbj10aGlzLnVucHJvamVjdFBvc2l0aW9uLmJpbmQodGhpcyksdGhpcy5wcm9qZWN0RmxhdD10aGlzLnByb2plY3RGbGF0LmJpbmQodGhpcyksdGhpcy51bnByb2plY3RGbGF0PXRoaXMudW5wcm9qZWN0RmxhdC5iaW5kKHRoaXMpfXJldHVybiB1KCkoZSxbe2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUmJih0LndpZHRoPT09dGhpcy53aWR0aCYmdC5oZWlnaHQ9PT10aGlzLmhlaWdodCYmdC5zY2FsZT09PXRoaXMuc2NhbGUmJk9iamVjdChoLmspKHQucHJvamVjdGlvbk1hdHJpeCx0aGlzLnByb2plY3Rpb25NYXRyaXgpJiZPYmplY3QoaC5rKSh0LnZpZXdNYXRyaXgsdGhpcy52aWV3TWF0cml4KSl9fSx7a2V5OiJwcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnRvcExlZnQscj12b2lkIDA9PT1ufHxuLGE9dGhpcy5wcm9qZWN0UG9zaXRpb24oZSksbz1PYmplY3QoZC5uKShhLHRoaXMucGl4ZWxQcm9qZWN0aW9uTWF0cml4KSxzPWkoKShvLDIpLHU9c1swXSxjPXNbMV0sbD1yP2M6dGhpcy5oZWlnaHQtYztyZXR1cm4gMj09PWUubGVuZ3RoP1t1LGxdOlt1LGwsb1syXV19fSx7a2V5OiJ1bnByb2plY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQudG9wTGVmdCxyPXZvaWQgMD09PW58fG4sYT10LnRhcmdldFosbz1pKCkoZSwzKSxzPW9bMF0sdT1vWzFdLGM9b1syXSxsPXI/dTp0aGlzLmhlaWdodC11LGg9YSYmYSp0aGlzLmRpc3RhbmNlU2NhbGVzLnVuaXRzUGVyTWV0ZXJbMl0sZj1PYmplY3QoZC5sKShbcyxsLGNdLHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXgsaCksdj10aGlzLnVucHJvamVjdFBvc2l0aW9uKGYpLHA9aSgpKHYsMyksZz1wWzBdLHk9cFsxXSxtPXBbMl07cmV0dXJuIE51bWJlci5pc0Zpbml0ZShjKT9bZyx5LG1dOk51bWJlci5pc0Zpbml0ZShhKT9bZyx5LGFdOltnLHldfX0se2tleToicHJvamVjdFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnByb2plY3RGbGF0KGUpLG49aSgpKHQsMik7cmV0dXJuW25bMF0sblsxXSwoZVsyXXx8MCkqdGhpcy5kaXN0YW5jZVNjYWxlcy51bml0c1Blck1ldGVyWzJdXX19LHtrZXk6InVucHJvamVjdFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnVucHJvamVjdEZsYXQoZSksbj1pKCkodCwyKTtyZXR1cm5bblswXSxuWzFdLChlWzJdfHwwKSp0aGlzLmRpc3RhbmNlU2NhbGVzLm1ldGVyc1BlclVuaXRbMl1dfX0se2tleToicHJvamVjdEZsYXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzR2Vvc3BhdGlhbD9PYmplY3QoZC5qKShlKTplfX0se2tleToidW5wcm9qZWN0RmxhdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNHZW9zcGF0aWFsP09iamVjdChkLm0pKGUpOmV9fSx7a2V5OiJnZXREaXN0YW5jZVNjYWxlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtyZXR1cm4gZT9PYmplY3QoZC5lKSh7bG9uZ2l0dWRlOmVbMF0sbGF0aXR1ZGU6ZVsxXSxoaWdoUHJlY2lzaW9uOiEwfSk6dGhpcy5kaXN0YW5jZVNjYWxlc319LHtrZXk6ImNvbnRhaW5zUGl4ZWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUueCxuPWUueSxyPWUud2lkdGgsaT12b2lkIDA9PT1yPzE6cixhPWUuaGVpZ2h0LG89dm9pZCAwPT09YT8xOmE7cmV0dXJuIHQ8dGhpcy54K3RoaXMud2lkdGgmJnRoaXMueDx0K2kmJm48dGhpcy55K3RoaXMuaGVpZ2h0JiZ0aGlzLnk8bitvfX0se2tleToiZ2V0RnJ1c3R1bVBsYW5lcyIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9mcnVzdHVtUGxhbmVzLm5lYXIpcmV0dXJuIHRoaXMuX2ZydXN0dW1QbGFuZXM7dmFyIGU9dGhpcy5wcm9qZWN0aW9uUHJvcHMsdD1lLm5lYXIsbj1lLmZhcixyPWUuZm92eVJhZGlhbnMsaT1lLmFzcGVjdDtyZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLl9mcnVzdHVtUGxhbmVzLE9iamVjdChsLmQpKHthc3BlY3Q6aSxuZWFyOnQsZmFyOm4sZm92eVJhZGlhbnM6cixwb3NpdGlvbjp0aGlzLmNhbWVyYVBvc2l0aW9uLGRpcmVjdGlvbjp0aGlzLmNhbWVyYURpcmVjdGlvbix1cDp0aGlzLmNhbWVyYVVwLHJpZ2h0OnRoaXMuY2FtZXJhUmlnaHR9KSksdGhpcy5fZnJ1c3R1bVBsYW5lc319LHtrZXk6ImdldENhbWVyYVBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbWVyYVBvc2l0aW9ufX0se2tleToiZ2V0Q2FtZXJhRGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbWVyYURpcmVjdGlvbn19LHtrZXk6ImdldENhbWVyYVVwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbWVyYVVwfX0se2tleToiX2NyZWF0ZVByb2plY3Rpb25NYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUub3J0aG9ncmFwaGljLG49ZS5mb3Z5UmFkaWFucyxyPWUuYXNwZWN0LGk9ZS5mb2NhbERpc3RhbmNlLGE9ZS5uZWFyLG89ZS5mYXI7cmV0dXJuIHQ/KG5ldyBoLmIpLm9ydGhvZ3JhcGhpYyh7Zm92eTpuLGFzcGVjdDpyLGZvY2FsRGlzdGFuY2U6aSxuZWFyOmEsZmFyOm99KToobmV3IGguYikucGVyc3BlY3RpdmUoe2Zvdnk6bixhc3BlY3Q6cixuZWFyOmEsZmFyOm99KX19LHtrZXk6Il9pbml0Vmlld01hdHJpeCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52aWV3TWF0cml4LG49dm9pZCAwPT09dD9nOnQscj1lLmxvbmdpdHVkZSxpPXZvaWQgMD09PXI/bnVsbDpyLGE9ZS5sYXRpdHVkZSxvPXZvaWQgMD09PWE/bnVsbDphLHM9ZS56b29tLHU9dm9pZCAwPT09cz9udWxsOnMsYz1lLnBvc2l0aW9uLGw9dm9pZCAwPT09Yz9udWxsOmMsZj1lLm1vZGVsTWF0cml4LHY9dm9pZCAwPT09Zj9udWxsOmYscD1lLmZvY2FsRGlzdGFuY2UsYj12b2lkIDA9PT1wPzE6cCxfPWUuZGlzdGFuY2VTY2FsZXMsTz12b2lkIDA9PT1fP251bGw6Xzt0aGlzLmlzR2Vvc3BhdGlhbD1OdW1iZXIuaXNGaW5pdGUobykmJk51bWJlci5pc0Zpbml0ZShpKSx0aGlzLnpvb209dSxOdW1iZXIuaXNGaW5pdGUodGhpcy56b29tKXx8KHRoaXMuem9vbT10aGlzLmlzR2Vvc3BhdGlhbD9PYmplY3QoZC5nKSh7bGF0aXR1ZGU6b30pK01hdGgubG9nMihiKTowKTt2YXIgeD1NYXRoLnBvdygyLHRoaXMuem9vbSk7dGhpcy5zY2FsZT14LHRoaXMuZGlzdGFuY2VTY2FsZXM9dGhpcy5pc0dlb3NwYXRpYWw/T2JqZWN0KGQuZSkoe2xhdGl0dWRlOm8sbG9uZ2l0dWRlOml9KTpPfHxtLHRoaXMuZm9jYWxEaXN0YW5jZT1iLHRoaXMuZGlzdGFuY2VTY2FsZXMubWV0ZXJzUGVyVW5pdD1uZXcgaC5lKHRoaXMuZGlzdGFuY2VTY2FsZXMubWV0ZXJzUGVyVW5pdCksdGhpcy5kaXN0YW5jZVNjYWxlcy51bml0c1Blck1ldGVyPW5ldyBoLmUodGhpcy5kaXN0YW5jZVNjYWxlcy51bml0c1Blck1ldGVyKSx0aGlzLnBvc2l0aW9uPXksdGhpcy5tZXRlck9mZnNldD15LGwmJih0aGlzLnBvc2l0aW9uPWwsdGhpcy5tb2RlbE1hdHJpeD12LHRoaXMubWV0ZXJPZmZzZXQ9dj92LnRyYW5zZm9ybVZlY3RvcihsKTpsKSx0aGlzLmlzR2Vvc3BhdGlhbD8odGhpcy5sb25naXR1ZGU9aSx0aGlzLmxhdGl0dWRlPW8sdGhpcy5jZW50ZXI9dGhpcy5fZ2V0Q2VudGVySW5Xb3JsZCh7bG9uZ2l0dWRlOmksbGF0aXR1ZGU6b30pKTp0aGlzLmNlbnRlcj1sP3RoaXMucHJvamVjdFBvc2l0aW9uKGwpOlswLDAsMF0sdGhpcy52aWV3TWF0cml4VW5jZW50ZXJlZD1uLHRoaXMudmlld01hdHJpeD0obmV3IGguYikubXVsdGlwbHlSaWdodCh0aGlzLnZpZXdNYXRyaXhVbmNlbnRlcmVkKS50cmFuc2xhdGUobmV3IGguZSh0aGlzLmNlbnRlcnx8eSkubmVnYXRlKCkpfX0se2tleToiX2dldENlbnRlckluV29ybGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubG9uZ2l0dWRlLG49ZS5sYXRpdHVkZSxyPXRoaXMubWV0ZXJPZmZzZXQsaT10aGlzLmRpc3RhbmNlU2NhbGVzLGE9dGhpcy5wcm9qZWN0RmxhdChbdCxuXSksbz1uZXcgaC5lKGFbMF0sYVsxXSwwKTtpZihyKXt2YXIgcz1uZXcgaC5lKHIpLnNjYWxlKGkudW5pdHNQZXJNZXRlcik7by5hZGQocyl9cmV0dXJuIG99fSx7a2V5OiJfaW5pdFByb2plY3Rpb25NYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvamVjdGlvbk1hdHJpeCxuPXZvaWQgMD09PXQ/bnVsbDp0LHI9ZS5vcnRob2dyYXBoaWMsaT12b2lkIDAhPT1yJiZyLGE9ZS5mb3Z5UmFkaWFucyxvPWUuZm92eSxzPXZvaWQgMD09PW8/NzU6byx1PWUubmVhcixjPXZvaWQgMD09PXU/LjE6dSxsPWUuZmFyLGg9dm9pZCAwPT09bD8xZTM6bCxmPWUuZm9jYWxEaXN0YW5jZSxkPXZvaWQgMD09PWY/MTpmO3RoaXMucHJvamVjdGlvblByb3BzPXtvcnRob2dyYXBoaWM6aSxmb3Z5UmFkaWFuczphfHxzKnAsYXNwZWN0OnRoaXMud2lkdGgvdGhpcy5oZWlnaHQsZm9jYWxEaXN0YW5jZTpkLG5lYXI6YyxmYXI6aH0sdGhpcy5wcm9qZWN0aW9uTWF0cml4PW58fHRoaXMuX2NyZWF0ZVByb2plY3Rpb25NYXRyaXgodGhpcy5wcm9qZWN0aW9uUHJvcHMpfX0se2tleToiX2luaXRQaXhlbE1hdHJpY2VzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPU9iamVjdChsLmEpKCk7Zi5oKGUsZSx0aGlzLnByb2plY3Rpb25NYXRyaXgpLGYuaChlLGUsdGhpcy52aWV3TWF0cml4KSx0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4PWUsdGhpcy52aWV3TWF0cml4SW52ZXJzZT1mLmYoW10sdGhpcy52aWV3TWF0cml4KXx8dGhpcy52aWV3TWF0cml4O3ZhciB0PU9iamVjdChsLmIpKHt2aWV3TWF0cml4OnRoaXMudmlld01hdHJpeCx2aWV3TWF0cml4SW52ZXJzZTp0aGlzLnZpZXdNYXRyaXhJbnZlcnNlfSksbj10LmV5ZSxyPXQuZGlyZWN0aW9uLGk9dC51cCxhPXQucmlnaHQ7dGhpcy5jYW1lcmFQb3NpdGlvbj1uLHRoaXMuY2FtZXJhRGlyZWN0aW9uPXIsdGhpcy5jYW1lcmFVcD1pLHRoaXMuY2FtZXJhUmlnaHQ9YTt2YXIgbz1PYmplY3QobC5hKSgpLHM9T2JqZWN0KGwuYSkoKTtmLm8obyxvLFt0aGlzLndpZHRoLzIsLXRoaXMuaGVpZ2h0LzIsMV0pLGYucChvLG8sWzEsLTEsMF0pLGYuaChzLG8sdGhpcy52aWV3UHJvamVjdGlvbk1hdHJpeCksdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXg9cyx0aGlzLnZpZXdwb3J0TWF0cml4PW8sdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeD1mLmYoT2JqZWN0KGwuYSkoKSx0aGlzLnBpeGVsUHJvamVjdGlvbk1hdHJpeCksdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeHx8Yy5hLndhcm4oIlBpeGVsIHByb2plY3QgbWF0cml4IG5vdCBpbnZlcnRpYmxlIikoKX19LHtrZXk6Im1ldGVyc1BlclBpeGVsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXN0YW5jZVNjYWxlcy5tZXRlcnNQZXJVbml0WzJdL3RoaXMuc2NhbGV9fSx7a2V5OiJwcm9qZWN0aW9uTW9kZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNHZW9zcGF0aWFsP3RoaXMuem9vbTwxMj92LmMuV0VCX01FUkNBVE9SOnYuYy5XRUJfTUVSQ0FUT1JfQVVUT19PRkZTRVQ6di5jLklERU5USVRZfX1dKSxlfSgpO2IuZGlzcGxheU5hbWU9IlZpZXdwb3J0In0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PWUuc291cmNlLG49ZS50YXJnZXQscj1lLnN0YXJ0LGk9dm9pZCAwPT09cj8wOnIsYT1lLmVuZCxvPWUuZ2V0RGF0YTthPWF8fG4ubGVuZ3RoO3ZhciBzPXQubGVuZ3RoLHU9YS1pO2lmKHM+dSluLnNldCh0LnN1YmFycmF5KDAsdSksaSk7ZWxzZSBpZihuLnNldCh0LGkpLG8pZm9yKHZhciBjPXM7Yzx1Oylmb3IodmFyIGw9byhjLHQpLGg9MDtoPGwubGVuZ3RoO2grKyluW2krY109bFtoXSxjKyt9bi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIGk9e2ludGVycG9sYXRpb246e2R1cmF0aW9uOjAsZWFzaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlfX0sc3ByaW5nOntzdGlmZm5lc3M6LjA1LGRhbXBpbmc6LjV9fTtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGU/KE51bWJlci5pc0Zpbml0ZShlKSYmKGU9e2R1cmF0aW9uOmV9KSxlLnR5cGU9ZS50eXBlfHwiaW50ZXJwb2xhdGlvbiIsT2JqZWN0LmFzc2lnbih7fSxpW2UudHlwZV0sdCxlKSk6bnVsbH1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIHQuZ2V0QnVmZmVyKCk/W3QuZ2V0QnVmZmVyKCkse2Rpdmlzb3I6MCxzaXplOnQuc2l6ZSxub3JtYWxpemVkOnQuc2V0dGluZ3Mubm9ybWFsaXplZH1dOnQudmFsdWV9ZnVuY3Rpb24gcyhlKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiJmbG9hdCI7Y2FzZSAyOnJldHVybiJ2ZWMyIjtjYXNlIDM6cmV0dXJuInZlYzMiO2Nhc2UgNDpyZXR1cm4idmVjNCI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ05vIGRlZmluZWQgYXR0cmlidXRlIHR5cGUgZm9yIHNpemUgIicuY29uY2F0KGUsJyInKSl9fWZ1bmN0aW9uIHUoZSl7ZS5wdXNoKGUuc2hpZnQoKSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPWUuZG91YmxlUHJlY2lzaW9uLHI9ZS5zZXR0aW5ncyxpPWUudmFsdWUsYT1lLnNpemUsbz1uPzI6MTtyZXR1cm4oci5ub0FsbG9jP2kubGVuZ3RoOnQqYSkqb31mdW5jdGlvbiBsKGUpe3ZhciB0PWUuYnVmZmVyLG49ZS5udW1JbnN0YW5jZXMsaT1lLmF0dHJpYnV0ZSxhPWUuZnJvbUxlbmd0aCxvPWUuZnJvbVN0YXJ0SW5kaWNlcyxzPWUuZ2V0RGF0YSx1PXZvaWQgMD09PXM/ZnVuY3Rpb24oZSl7cmV0dXJuIGV9OnMsbD1pLmRvdWJsZVByZWNpc2lvbj8yOjEsaD1pLnNpemUqbCxmPWkuYnl0ZU9mZnNldCxkPWkuc3RhcnRJbmRpY2VzLHY9byYmZCxwPWMoaSxuKSxnPWkuc3RhdGUuY29uc3RhbnQ7aWYodnx8IShhPj1wKSl7dmFyIHk9Zz9pLnZhbHVlOmkuZ2V0QnVmZmVyKCkuZ2V0RGF0YSh7c3JjQnl0ZU9mZnNldDpmfSk7aWYoaS5zZXR0aW5ncy5ub3JtYWxpemVkJiYhZyl7dmFyIG09dTt1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuX25vcm1hbGl6ZUNvbnN0YW50KG0oZSx0KSl9fXZhciBiPWc/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdSh5LHQpfTpmdW5jdGlvbihlLHQpe3JldHVybiB1KHkuc3ViYXJyYXkoZSxlK2gpLHQpfSxfPXQuZ2V0RGF0YSh7bGVuZ3RoOmF9KSxPPW5ldyBGbG9hdDMyQXJyYXkocCk7IWZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlLG49ZS50YXJnZXQsaT1lLnNpemUsYT1lLmdldERhdGEsbz1lLnNvdXJjZVN0YXJ0SW5kaWNlcyxzPWUudGFyZ2V0U3RhcnRJbmRpY2VzO2lmKCFBcnJheS5pc0FycmF5KHMpKXJldHVybiByKHtzb3VyY2U6dCx0YXJnZXQ6bixnZXREYXRhOmF9KSxuO2Zvcih2YXIgdT0wLGM9MCxsPWEmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEoZStjLHQpfSxoPU1hdGgubWluKG8ubGVuZ3RoLHMubGVuZ3RoKSxmPTE7ZjxoO2YrKyl7dmFyIGQ9b1tmXSppLHY9c1tmXSppO3Ioe3NvdXJjZTp0LnN1YmFycmF5KHUsZCksdGFyZ2V0Om4sc3RhcnQ6YyxlbmQ6dixnZXREYXRhOmx9KSx1PWQsYz12fWM8bi5sZW5ndGgmJnIoe3NvdXJjZTpbXSx0YXJnZXQ6bixzdGFydDpjLGdldERhdGE6bH0pfSh7c291cmNlOl8sdGFyZ2V0Ok8sc291cmNlU3RhcnRJbmRpY2VzOm8sdGFyZ2V0U3RhcnRJbmRpY2VzOmQsc2l6ZTpoLGdldERhdGE6Yn0pLHQuYnl0ZUxlbmd0aDxPLmJ5dGVMZW5ndGgrZiYmdC5yZWFsbG9jYXRlKE8uYnl0ZUxlbmd0aCtmKSx0LnN1YkRhdGEoe2RhdGE6TyxvZmZzZXQ6Zn0pfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxKSxpPW4oNSksYT1uKDYpLG89bigxNikscz1uKDE1KSx1PW4oMTcpLGM9bigxNTMpLGw9bigyMCksaD1uKDI4KSxmPW4oNDEpLGQ9big3OCksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiBPYmplY3QoaS5hKSh0aGlzLHQpLGU9T2JqZWN0KG8uYSkodGhpcyxPYmplY3Qocy5hKSh0KS5jYWxsKHRoaXMsMikpLE9iamVjdChsLmYpKG4pJiYxPT09YXJndW1lbnRzLmxlbmd0aD9lLmNvcHkobik6KGwuYi5kZWJ1ZyYmKE9iamVjdChoLmEpKG4pLE9iamVjdChoLmEpKHIpKSxlWzBdPW4sZVsxXT1yKSxlfXJldHVybiBPYmplY3QodS5hKSh0LGUpLE9iamVjdChhLmEpKHQsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzWzBdPWUsdGhpc1sxXT10LHRoaXMuY2hlY2soKX19LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzWzBdPWVbMF0sdGhpc1sxXT1lWzFdLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21PYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBsLmIuZGVidWcmJihPYmplY3QoaC5hKShlLngpLE9iamVjdChoLmEpKGUueSkpLHRoaXNbMF09ZS54LHRoaXNbMV09ZS55LHRoaXMuY2hlY2soKX19LHtrZXk6InRvT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS54PXRoaXNbMF0sZS55PXRoaXNbMV0sZX19LHtrZXk6Imhvcml6b250YWxBbmdsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX19LHtrZXk6InZlcnRpY2FsQW5nbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy54LHRoaXMueSl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybUFzUG9pbnQoZSl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZi5qKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1ZlY3RvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChkLmEpKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeU1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLmkodGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybUJ5TWF0cml4MngzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZi5oKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeU1hdHJpeDIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLmcodGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMn19XSksdH0oYy5hKSxwPW4oMTM0KSxnPW4oMTg0KSx5PW4oMTg1KSxtPW4oMjA1KSxiPXtFUFNJTE9OMTouMSxFUFNJTE9OMjouMDEsRVBTSUxPTjM6LjAwMSxFUFNJTE9ONDoxZS00LEVQU0lMT041OjFlLTUsRVBTSUxPTjY6MWUtNixFUFNJTE9ONzoxZS03LEVQU0lMT044OjFlLTgsRVBTSUxPTjk6MWUtOSxFUFNJTE9OMTA6MWUtMTAsRVBTSUxPTjExOjFlLTExLEVQU0lMT04xMjoxZS0xMixFUFNJTE9OMTM6MWUtMTMsRVBTSUxPTjE0OjFlLTE0LEVQU0lMT04xNToxZS0xNSxFUFNJTE9OMTY6MWUtMTYsRVBTSUxPTjE3OjFlLTE3LEVQU0lMT04xODoxZS0xOCxFUFNJTE9OMTk6MWUtMTksRVBTSUxPTjIwOjFlLTIwLFBJX09WRVJfVFdPOk1hdGguUEkvMixQSV9PVkVSX0ZPVVI6TWF0aC5QSS80LFBJX09WRVJfU0lYOk1hdGguUEkvNixUV09fUEk6MipNYXRoLlBJfSxfPW4oMjEpLE89bigzMikseD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj10LnBoaSxyPXQudGhldGEsYT10LnJhZGl1cyxvPXQuYmVhcmluZyxzPXQucGl0Y2gsdT0odC5hbHRpdHVkZSx0LnJhZGl1c1NjYWxlKSxjPXZvaWQgMD09PXU/NjM3MWUzOnU7T2JqZWN0KGkuYSkodGhpcyxlKSwwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5waGk9MCx0aGlzLnRoZXRhPTAsdGhpcy5yYWRpdXM9MSk6TnVtYmVyLmlzRmluaXRlKG4pfHxOdW1iZXIuaXNGaW5pdGUocik/KHRoaXMucGhpPW58fDAsdGhpcy50aGV0YT1yfHwwKTooTnVtYmVyLmlzRmluaXRlKG8pfHxOdW1iZXIuaXNGaW5pdGUocykpJiYodGhpcy5iZWFyaW5nPW98fDAsdGhpcy5waXRjaD1zfHwwKSx0aGlzLnJhZGl1cz1hfHwxLHRoaXMucmFkaXVzU2NhbGU9Y3x8MSx0aGlzLmNoZWNrKCl9cmV0dXJuIE9iamVjdChhLmEpKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm1hdFN0cmluZyhsLmIpfX0se2tleToiZm9ybWF0U3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByaW50VHlwZXMsbj0oZS5wcmludERlZ3JlZXMsbC5lKTtyZXR1cm4iIi5jb25jYXQodD8iU3BoZXJpY2FsIjoiIiwiW3JobzoiKS5jb25jYXQobih0aGlzLnJhZGl1cyksIix0aGV0YToiKS5jb25jYXQobih0aGlzLnRoZXRhKSwiLHBoaToiKS5jb25jYXQobih0aGlzLnBoaSksIl0iKX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChsLmQpKHRoaXMucmFkaXVzLGUucmFkaXVzKSYmT2JqZWN0KGwuZCkodGhpcy50aGV0YSxlLnRoZXRhKSYmT2JqZWN0KGwuZCkodGhpcy5waGksZS5waGkpfX0se2tleToiZXhhY3RFcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJhZGl1cz09PWUucmFkaXVzJiZ0aGlzLnRoZXRhPT09ZS50aGV0YSYmdGhpcy5waGk9PT1lLnBoaX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLnJhZGl1cz1lLHRoaXMucGhpPXQsdGhpcy50aGV0YT1uLHRoaXMuY2hlY2soKX19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX19LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJhZGl1cz1lLnJhZGl1cyx0aGlzLnBoaT1lLnBoaSx0aGlzLnRoZXRhPWUudGhldGEsdGhpcy5jaGVjaygpfX0se2tleToiZnJvbUxuZ0xhdFoiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChfLmEpKGUsMyksbj10WzBdLHI9dFsxXSxpPXRbMl07dGhpcy5yYWRpdXM9MStpL3RoaXMucmFkaXVzU2NhbGUsdGhpcy5waGk9T2JqZWN0KGwuaCkociksdGhpcy50aGV0YT1PYmplY3QobC5oKShuKX19LHtrZXk6ImZyb21WZWN0b3IzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yYWRpdXM9Ty5nKGUpLHRoaXMucmFkaXVzPjAmJih0aGlzLnRoZXRhPU1hdGguYXRhbjIoZVswXSxlWzFdKSx0aGlzLnBoaT1NYXRoLmFjb3MoT2JqZWN0KGwuYSkoZVsyXS90aGlzLnJhZGl1cywtMSwxKSkpLHRoaXMuY2hlY2soKX19LHtrZXk6InRvVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHAuYSgwLDAsdGhpcy5yYWRpdXMpLnJvdGF0ZVgoe3JhZGlhbnM6dGhpcy50aGV0YX0pLnJvdGF0ZVooe3JhZGlhbnM6dGhpcy5waGl9KX19LHtrZXk6Im1ha2VTYWZlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGhpPU1hdGgubWF4KDFlLTYsTWF0aC5taW4oTWF0aC5QSS0xZS02LHRoaXMucGhpKSl9fSx7a2V5OiJjaGVjayIsdmFsdWU6ZnVuY3Rpb24oKXtpZighKE51bWJlci5pc0Zpbml0ZSh0aGlzLnBoaSkmJk51bWJlci5pc0Zpbml0ZSh0aGlzLnRoZXRhKSYmdGhpcy5yYWRpdXM+MCkpdGhyb3cgbmV3IEVycm9yKCJTcGhlcmljYWxDb29yZGluYXRlczogc29tZSBmaWVsZHMgc2V0IHRvIGludmFsaWQgbnVtYmVycyIpO3JldHVybiB0aGlzfX0se2tleToiYmVhcmluZyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE4MC1PYmplY3QobC5jKSh0aGlzLnBoaSl9LHNldDpmdW5jdGlvbihlKXt0aGlzLnBoaT1NYXRoLlBJLU9iamVjdChsLmgpKGUpfX0se2tleToicGl0Y2giLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QobC5jKSh0aGlzLnRoZXRhKX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMudGhldGE9T2JqZWN0KGwuaCkoZSl9fSx7a2V5OiJsb25naXR1ZGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QobC5jKSh0aGlzLnBoaSl9fSx7a2V5OiJsYXRpdHVkZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChsLmMpKHRoaXMudGhldGEpfX0se2tleToibG5nIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGwuYykodGhpcy5waGkpfX0se2tleToibGF0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGwuYykodGhpcy50aGV0YSl9fSx7a2V5OiJ6IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5yYWRpdXMtMSkqdGhpcy5yYWRpdXNTY2FsZX19XSksZX0oKSx3PW4oNzIpO24uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHAuYX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGcuYX0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHkuYX0pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG0uYX0pKSxuLmQodCwiaiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuYn0pKSxuLmQodCwibCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuZn0pKSxuLmQodCwiayIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuZH0pKSxuLmQodCwibyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuan0pKSxuLmQodCwibiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuaX0pKSxuLmQodCwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuYX0pKSxuLmQodCwibSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuZ30pKSxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKHQsImciLChmdW5jdGlvbigpe3JldHVybiB4fSkpLG4uZCh0LCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gdy5hfSkpO3ZhciBTPXtzZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZix3aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdyxnbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbH07KFMuZ2xvYmFsfHxTLnNlbGZ8fFMud2luZG93KS5tYXRoZ2w9e2NvbmZpZzpyLmp9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigwKSxpPW4oODUpO2Z1bmN0aW9uIGEoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChyLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTphKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSl7aWYoIWUpcmV0dXJuITE7QXJyYXkuaXNBcnJheShlKSYmKGU9ZVswXSk7dmFyIHQ9ZS5wYXJzZVRleHRTeW5jfHxlLnBhcnNlU3luY3x8ZS5wYXJzZXx8ZS5wYXJzZVN0cmVhbXx8ZS5wYXJzZUluQmF0Y2hlcyxuPWUub3B0aW9ucyYmZS5vcHRpb25zW2UuaWRdO3JldHVybiB0PXR8fG4mJm4ud29ya2VyVXJsfWZ1bmN0aW9uIHUoZSl7dmFyIHQ7cmV0dXJuIE9iamVjdChpLmEpKGUsIm51bGwgbG9hZGVyIiksT2JqZWN0KGkuYSkocyhlKSwiaW52YWxpZCBsb2FkZXIiKSxBcnJheS5pc0FycmF5KGUpJiYodD1lWzFdLGU9byh7fSxlPWVbMF0se29wdGlvbnM6byh7fSxlLm9wdGlvbnMse30sdCl9KSksZS5leHRlbnNpb24mJihlLmV4dGVuc2lvbnM9ZS5leHRlbnNpb25zfHxlLmV4dGVuc2lvbixkZWxldGUgZS5leHRlbnNpb24pLEFycmF5LmlzQXJyYXkoZS5leHRlbnNpb25zKXx8KGUuZXh0ZW5zaW9ucz1bZS5leHRlbnNpb25zXSksT2JqZWN0KGkuYSkoZS5leHRlbnNpb25zJiZlLmV4dGVuc2lvbnMubGVuZ3RoPjAmJmUuZXh0ZW5zaW9uc1swXSksZS5wYXJzZVRleHRTeW5jJiYoZS50ZXh0PSEwKSxlLnRleHR8fChlLmJpbmFyeT0hMCksZX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9W10saT1bXTtmdW5jdGlvbiBhKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEvMCxhPXIsbz17aW5kZXg6LTEsZGF0YTplLHRhcmdldDpbXX07cmV0dXJuIGU/ImZ1bmN0aW9uIj09dHlwZW9mIGVbU3ltYm9sLml0ZXJhdG9yXT9hPWU6ZS5sZW5ndGg+MCYmKGkubGVuZ3RoPWUubGVuZ3RoLGE9aSk6YT1yLCh0PjB8fE51bWJlci5pc0Zpbml0ZShuKSkmJihhPShBcnJheS5pc0FycmF5KGEpP2E6QXJyYXkuZnJvbShhKSkuc2xpY2UodCxuKSxvLmluZGV4PXQtMSkse2l0ZXJhYmxlOmEsb2JqZWN0SW5mbzpvfX1mdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49dC5zaXplLHI9dC5zdHJpZGUsaT10Lm9mZnNldCxhPXQuc3RhcnRJbmRpY2VzLG89dC5uZXN0ZWQscz1lLkJZVEVTX1BFUl9FTEVNRU5ULHU9cj9yL3M6bixjPWk/aS9zOjAsbD1NYXRoLmZsb29yKChlLmxlbmd0aC1jKS91KTtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaT1yLmluZGV4LHM9ci50YXJnZXQ7aWYoIWEpe2Zvcih2YXIgaD1pKnUrYyxmPTA7ZjxuO2YrKylzW2ZdPWVbaCtmXTtyZXR1cm4gc312YXIgZCx2PWFbaV0scD1hW2krMV18fGw7aWYobyl7ZD1uZXcgQXJyYXkocC12KTtmb3IodmFyIGc9djtnPHA7ZysrKXt2YXIgeT1nKnUrYztzPW5ldyBBcnJheShuKTtmb3IodmFyIG09MDttPG47bSsrKXNbbV09ZVt5K21dO2RbZy12XT1zfX1lbHNlIGlmKHU9PT1uKWQ9ZS5zdWJhcnJheSh2Km4rYyxwKm4rYyk7ZWxzZXtkPW5ldyBlLmNvbnN0cnVjdG9yKChwLXYpKm4pO2Zvcih2YXIgYj0wLF89djtfPHA7XysrKWZvcih2YXIgTz1fKnUrYyx4PTA7eDxuO3grKylkW2IrK109ZVtPK3hdfXJldHVybiBkfX19LCxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgcj1uKDUpLGk9bigxNiksYT1uKDE1KSxvPW4oNikscz1uKDE3KSx1PW4oNDgpLGM9big0NiksbD1uKDg2KSxoPW4oMTEpLGY9bigzNCksZD1uKDY1KSx2PW4oMTA1KSxwPW4oMjkpLGc9Wzk3MjksOTcyOF0seT1mLmdsb2JhbC5XZWJHTEJ1ZmZlcnx8ZnVuY3Rpb24oKXt9LG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4pe3ZhciBvO09iamVjdChyLmEpKHRoaXMsdCk7dmFyIHM9bi5pZCx1PXZvaWQgMD09PXM/T2JqZWN0KHYuYykoInRleHR1cmUiKTpzLGM9bi5oYW5kbGUsbD1uLnRhcmdldDtyZXR1cm4obz1PYmplY3QoaS5hKSh0aGlzLE9iamVjdChhLmEpKHQpLmNhbGwodGhpcyxlLHtpZDp1LGhhbmRsZTpjfSkpKS50YXJnZXQ9bCxvLnRleHR1cmVVbml0PXZvaWQgMCxvLmxvYWRlZD0hMSxvLndpZHRoPXZvaWQgMCxvLmhlaWdodD12b2lkIDAsby5kZXB0aD12b2lkIDAsby5mb3JtYXQ9dm9pZCAwLG8udHlwZT12b2lkIDAsby5kYXRhRm9ybWF0PXZvaWQgMCxvLmJvcmRlcj12b2lkIDAsby50ZXh0dXJlVW5pdD12b2lkIDAsby5taXBtYXBzPXZvaWQgMCxvfXJldHVybiBPYmplY3Qocy5hKSh0LGUpLE9iamVjdChvLmEpKHQsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQuZm9ybWF0LHI9dC5saW5lYXJGaWx0ZXJpbmcsaT0hMDtyZXR1cm4gbiYmKGk9KGk9aSYmT2JqZWN0KGwuZCkoZSxuKSkmJighcnx8T2JqZWN0KGwuZSkoZSxuKSkpLGl9fV0pLE9iamVjdChvLmEpKHQsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJUZXh0dXJlKCIuY29uY2F0KHRoaXMuaWQsIiwiKS5jb25jYXQodGhpcy53aWR0aCwieCIpLmNvbmNhdCh0aGlzLmhlaWdodCwiKSIpfX0se2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49dC5kYXRhO2lmKG4gaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiBuLnRoZW4oKGZ1bmN0aW9uKG4pe3JldHVybiBlLmluaXRpYWxpemUoT2JqZWN0LmFzc2lnbih7fSx0LHtwaXhlbHM6bixkYXRhOm59KSl9KSksdGhpczt2YXIgcj10LnBpeGVscyxpPXZvaWQgMD09PXI/bnVsbDpyLGE9dC5mb3JtYXQsbz12b2lkIDA9PT1hPzY0MDg6YSxzPXQuYm9yZGVyLHU9dm9pZCAwPT09cz8wOnMsYz10LnJlY3JlYXRlLGw9dm9pZCAwIT09YyYmYyxmPXQucGFyYW1ldGVycyxkPXZvaWQgMD09PWY/e306Zix2PXQucGl4ZWxTdG9yZSxwPXZvaWQgMD09PXY/e306dixnPXQudGV4dHVyZVVuaXQseT12b2lkIDA9PT1nP3ZvaWQgMDpnLG09dC5taXBtYXBzLGI9dm9pZCAwPT09bXx8bTtufHwobj1pKTt2YXIgXz10LndpZHRoLE89dC5oZWlnaHQseD10LmRhdGFGb3JtYXQsdz10LnR5cGUsUz10LmRlcHRoLGs9dm9pZCAwPT09Uz8wOlMsUD10aGlzLl9kZWR1Y2VQYXJhbWV0ZXJzKHtmb3JtYXQ6byx0eXBlOncsZGF0YUZvcm1hdDp4LGNvbXByZXNzZWQ6ITEsZGF0YTpuLHdpZHRoOl8saGVpZ2h0Ok99KTtyZXR1cm4gXz1QLndpZHRoLE89UC5oZWlnaHQseD1QLmRhdGFGb3JtYXQsdz1QLnR5cGUsdGhpcy53aWR0aD1fLHRoaXMuaGVpZ2h0PU8sdGhpcy5kZXB0aD1rLHRoaXMuZm9ybWF0PW8sdGhpcy50eXBlPXcsdGhpcy5kYXRhRm9ybWF0PXgsdGhpcy5ib3JkZXI9dSx0aGlzLnRleHR1cmVVbml0PXksTnVtYmVyLmlzRmluaXRlKHRoaXMudGV4dHVyZVVuaXQpJiYodGhpcy5nbC5hY3RpdmVUZXh0dXJlKDMzOTg0K3RoaXMudGV4dHVyZVVuaXQpLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpKSxiJiZ0aGlzLl9pc05QT1QoKSYmKGguaC53YXJuKCJ0ZXh0dXJlOiAiLmNvbmNhdCh0aGlzLCIgaXMgTm9uLVBvd2VyLU9mLVR3bywgZGlzYWJsaW5nIG1pcG1hcGluZyIpKSgpLGI9ITEsdGhpcy5fdXBkYXRlRm9yTlBPVChkKSksdGhpcy5taXBtYXBzPWIsdGhpcy5zZXRJbWFnZURhdGEoe2RhdGE6bix3aWR0aDpfLGhlaWdodDpPLGRlcHRoOmssZm9ybWF0Om8sdHlwZTp3LGRhdGFGb3JtYXQ6eCxib3JkZXI6dSxtaXBtYXBzOmIscGFyYW1ldGVyczpwfSksYiYmdGhpcy5nZW5lcmF0ZU1pcG1hcCgpLHRoaXMuc2V0UGFyYW1ldGVycyhkKSxsJiYodGhpcy5kYXRhPW4pLHRoaXN9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaGVpZ2h0LG49ZS53aWR0aCxyPWUubWlwbWFwcyxpPXZvaWQgMCE9PXImJnI7cmV0dXJuIG4hPT10aGlzLndpZHRofHx0IT09dGhpcy5oZWlnaHQ/dGhpcy5pbml0aWFsaXplKHt3aWR0aDpuLGhlaWdodDp0LGZvcm1hdDp0aGlzLmZvcm1hdCx0eXBlOnRoaXMudHlwZSxkYXRhRm9ybWF0OnRoaXMuZGF0YUZvcm1hdCxib3JkZXI6dGhpcy5ib3JkZXIsbWlwbWFwczppfSk6dGhpc319LHtrZXk6ImdlbmVyYXRlTWlwbWFwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuX2lzTlBPVCgpPyhoLmgud2FybigidGV4dHVyZTogIi5jb25jYXQodGhpcywiIGlzIE5vbi1Qb3dlci1PZi1Ud28sIGRpc2FibGluZyBtaXBtYXBpbmciKSkoKSx0aGlzKToodGhpcy5taXBtYXBzPSEwLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLE9iamVjdChoLmwpKHRoaXMuZ2wsdCwoZnVuY3Rpb24oKXtlLmdsLmdlbmVyYXRlTWlwbWFwKGUudGFyZ2V0KX0pKSx0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LG51bGwpLHRoaXMpfX0se2tleToic2V0SW1hZ2VEYXRhIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl90cmFja0RlYWxsb2NhdGVkTWVtb3J5KCJUZXh0dXJlIik7dmFyIHQ9ZS50YXJnZXQsbj12b2lkIDA9PT10P3RoaXMudGFyZ2V0OnQscj1lLnBpeGVscyxpPXZvaWQgMD09PXI/bnVsbDpyLGE9ZS5sZXZlbCxvPXZvaWQgMD09PWE/MDphLHM9ZS5mb3JtYXQsdT12b2lkIDA9PT1zP3RoaXMuZm9ybWF0OnMsYz1lLmJvcmRlcixmPXZvaWQgMD09PWM/dGhpcy5ib3JkZXI6Yyx2PWUub2Zmc2V0LGc9dm9pZCAwPT09dj8wOnYseT1lLnBhcmFtZXRlcnMsbT12b2lkIDA9PT15P3t9OnksYj1lLmRhdGEsXz12b2lkIDA9PT1iP251bGw6YixPPWUudHlwZSx4PXZvaWQgMD09PU8/dGhpcy50eXBlOk8sdz1lLndpZHRoLFM9dm9pZCAwPT09dz90aGlzLndpZHRoOncsaz1lLmhlaWdodCxQPXZvaWQgMD09PWs/dGhpcy5oZWlnaHQ6ayxqPWUuZGF0YUZvcm1hdCxUPXZvaWQgMD09PWo/dGhpcy5kYXRhRm9ybWF0OmosRT1lLmNvbXByZXNzZWQsQT12b2lkIDAhPT1FJiZFO198fChfPWkpO3ZhciBNPXRoaXMuX2RlZHVjZVBhcmFtZXRlcnMoe2Zvcm1hdDp1LHR5cGU6eCxkYXRhRm9ybWF0OlQsY29tcHJlc3NlZDpBLGRhdGE6Xyx3aWR0aDpTLGhlaWdodDpQfSk7eD1NLnR5cGUsVD1NLmRhdGFGb3JtYXQsQT1NLmNvbXByZXNzZWQsUz1NLndpZHRoLFA9TS5oZWlnaHQ7dmFyIEM9dGhpcy5nbDtDLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKTt2YXIgTCxJPXRoaXMuX2dldERhdGFUeXBlKHtkYXRhOl8sY29tcHJlc3NlZDpBfSk7aWYoXz1JLmRhdGEsTD1JLmRhdGFUeXBlLE9iamVjdChoLmwpKHRoaXMuZ2wsbSwoZnVuY3Rpb24oKXtzd2l0Y2goTCl7Y2FzZSJudWxsIjpDLnRleEltYWdlMkQobixvLHUsUyxQLGYsVCx4LF8pO2JyZWFrO2Nhc2UidHlwZWQtYXJyYXkiOkMudGV4SW1hZ2UyRChuLG8sdSxTLFAsZixULHgsXyxnKTticmVhaztjYXNlImJ1ZmZlciI6T2JqZWN0KGQuYSkoQyksQy5iaW5kQnVmZmVyKDM1MDUyLF8uaGFuZGxlfHxfKSxDLnRleEltYWdlMkQobixvLHUsUyxQLGYsVCx4LGcpLEMuYmluZEJ1ZmZlcigzNTA1MixudWxsKTticmVhaztjYXNlImJyb3dzZXItb2JqZWN0IjpPYmplY3QoaC5nKShDKT9DLnRleEltYWdlMkQobixvLHUsUyxQLGYsVCx4LF8pOkMudGV4SW1hZ2UyRChuLG8sdSxULHgsXyk7YnJlYWs7Y2FzZSJjb21wcmVzc2VkIjpDLmNvbXByZXNzZWRUZXhJbWFnZTJEKG4sbyx1LFMsUCxmLF8pO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KHAuYSkoITEsIlVua25vd24gaW1hZ2UgZGF0YSB0eXBlIil9fSkpLF8mJl8uYnl0ZUxlbmd0aCl0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeShfLmJ5dGVMZW5ndGgsIlRleHR1cmUiKTtlbHNle3ZhciBSPWwuYVt0aGlzLmRhdGFGb3JtYXRdfHw0LEQ9bC5jW3RoaXMudHlwZV18fDE7dGhpcy5fdHJhY2tBbGxvY2F0ZWRNZW1vcnkodGhpcy53aWR0aCp0aGlzLmhlaWdodCpSKkQsIlRleHR1cmUiKX1yZXR1cm4gdGhpcy5sb2FkZWQ9ITAsdGhpc319LHtrZXk6InNldFN1YkltYWdlRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUudGFyZ2V0LHI9dm9pZCAwPT09bj90aGlzLnRhcmdldDpuLGk9ZS5waXhlbHMsYT12b2lkIDA9PT1pP251bGw6aSxvPWUuZGF0YSxzPXZvaWQgMD09PW8/bnVsbDpvLHU9ZS54LGw9dm9pZCAwPT09dT8wOnUsZj1lLnksdj12b2lkIDA9PT1mPzA6ZixnPWUud2lkdGgsbT12b2lkIDA9PT1nP3RoaXMud2lkdGg6ZyxiPWUuaGVpZ2h0LF89dm9pZCAwPT09Yj90aGlzLmhlaWdodDpiLE89ZS5sZXZlbCx4PXZvaWQgMD09PU8/MDpPLHc9ZS5mb3JtYXQsUz12b2lkIDA9PT13P3RoaXMuZm9ybWF0Oncsaz1lLnR5cGUsUD12b2lkIDA9PT1rP3RoaXMudHlwZTprLGo9ZS5kYXRhRm9ybWF0LFQ9dm9pZCAwPT09aj90aGlzLmRhdGFGb3JtYXQ6aixFPWUuY29tcHJlc3NlZCxBPXZvaWQgMCE9PUUmJkUsTT1lLm9mZnNldCxDPXZvaWQgMD09PU0/MDpNLEw9ZS5ib3JkZXIsST0odm9pZCAwPT09TCYmdGhpcy5ib3JkZXIsZS5wYXJhbWV0ZXJzKSxSPXZvaWQgMD09PUk/e306SSxEPXRoaXMuX2RlZHVjZVBhcmFtZXRlcnMoe2Zvcm1hdDpTLHR5cGU6UCxkYXRhRm9ybWF0OlQsY29tcHJlc3NlZDpBLGRhdGE6cyx3aWR0aDptLGhlaWdodDpffSk7aWYoUD1ELnR5cGUsVD1ELmRhdGFGb3JtYXQsQT1ELmNvbXByZXNzZWQsbT1ELndpZHRoLF89RC5oZWlnaHQsT2JqZWN0KHAuYSkoMD09PXRoaXMuZGVwdGgsInRleFN1YkltYWdlIG5vdCBzdXBwb3J0ZWQgZm9yIDNEIHRleHR1cmVzIiksc3x8KHM9YSkscyYmcy5kYXRhKXt2YXIgRj1zO3M9Ri5kYXRhLG09Ri5zaGFwZVswXSxfPUYuc2hhcGVbMV19cyBpbnN0YW5jZW9mIGMuYSYmKHM9cy5oYW5kbGUpLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLE9iamVjdChoLmwpKHRoaXMuZ2wsUiwoZnVuY3Rpb24oKXtBP3QuZ2wuY29tcHJlc3NlZFRleFN1YkltYWdlMkQocix4LGwsdixtLF8sUyxzKTpudWxsPT09cz90LmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLG51bGwpOkFycmF5QnVmZmVyLmlzVmlldyhzKT90LmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLHMsQyk6cyBpbnN0YW5jZW9mIHk/KE9iamVjdChkLmEpKHQuZ2wpLHQuZ2wuYmluZEJ1ZmZlcigzNTA1MixzKSx0LmdsLnRleFN1YkltYWdlMkQocix4LGwsdixtLF8sVCxQLEMpLHQuZ2wuYmluZEJ1ZmZlcigzNTA1MixudWxsKSk6T2JqZWN0KGguZykodC5nbCk/dC5nbC50ZXhTdWJJbWFnZTJEKHIseCxsLHYsbSxfLFQsUCxzKTp0LmdsLnRleFN1YkltYWdlMkQocix4LGwsdixULFAscyl9KSksdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCxudWxsKX19LHtrZXk6ImNvcHlGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBoLmguZXJyb3IoIlRleHR1cmUuY29weUZyYW1lYnVmZmVyKHsuLi59KSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgY29weVRvVGV4dHVyZShzb3VyY2UsIHRhcmdldCwgb3B0c30pIikoKSxudWxsfX0se2tleToiZ2V0QWN0aXZlVW5pdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5nZXRQYXJhbWV0ZXIoMzQwMTYpLTMzOTg0fX0se2tleToiYmluZCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy50ZXh0dXJlVW5pdCx0PXRoaXMuZ2w7cmV0dXJuIHZvaWQgMCE9PWUmJih0aGlzLnRleHR1cmVVbml0PWUsdC5hY3RpdmVUZXh0dXJlKDMzOTg0K2UpKSx0LmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMuaGFuZGxlKSxlfX0se2tleToidW5iaW5kIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnRleHR1cmVVbml0LHQ9dGhpcy5nbDtyZXR1cm4gdm9pZCAwIT09ZSYmKHRoaXMudGV4dHVyZVVuaXQ9ZSx0LmFjdGl2ZVRleHR1cmUoMzM5ODQrZSkpLHQuYmluZFRleHR1cmUodGhpcy50YXJnZXQsbnVsbCksZX19LHtrZXk6Il9nZXREYXRhVHlwZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhLG49ZS5jb21wcmVzc2VkO3JldHVybiB2b2lkIDAhPT1uJiZuP3tkYXRhOnQsZGF0YVR5cGU6ImNvbXByZXNzZWQifTpudWxsPT09dD97ZGF0YTp0LGRhdGFUeXBlOiJudWxsIn06QXJyYXlCdWZmZXIuaXNWaWV3KHQpP3tkYXRhOnQsZGF0YVR5cGU6InR5cGVkLWFycmF5In06dCBpbnN0YW5jZW9mIGMuYT97ZGF0YTp0LmhhbmRsZSxkYXRhVHlwZToiYnVmZmVyIn06dCBpbnN0YW5jZW9mIHk/e2RhdGE6dCxkYXRhVHlwZToiYnVmZmVyIn06e2RhdGE6dCxkYXRhVHlwZToiYnJvd3Nlci1vYmplY3QifX19LHtrZXk6Il9kZWR1Y2VQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmZvcm1hdCxuPWUuZGF0YSxyPWUud2lkdGgsaT1lLmhlaWdodCxhPWUuZGF0YUZvcm1hdCxvPWUudHlwZSxzPWUuY29tcHJlc3NlZCx1PWwuYlt0XTthPWF8fHUmJnUuZGF0YUZvcm1hdCxvPW98fHUmJnUudHlwZXNbMF0scz1zfHx1JiZ1LmNvbXByZXNzZWQ7dmFyIGM9dGhpcy5fZGVkdWNlSW1hZ2VTaXplKG4scixpKTtyZXR1cm57ZGF0YUZvcm1hdDphLHR5cGU6byxjb21wcmVzc2VkOnMsd2lkdGg6cj1jLndpZHRoLGhlaWdodDppPWMuaGVpZ2h0LGZvcm1hdDp0LGRhdGE6bn19fSx7a2V5OiJfZGVkdWNlSW1hZ2VTaXplIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBJbWFnZURhdGEmJmUgaW5zdGFuY2VvZiBJbWFnZURhdGE/e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQmJmUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P3t3aWR0aDplLm5hdHVyYWxXaWR0aCxoZWlnaHQ6ZS5uYXR1cmFsSGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50JiZlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0fToidW5kZWZpbmVkIiE9dHlwZW9mIEhUTUxWaWRlb0VsZW1lbnQmJmUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3t3aWR0aDplLnZpZGVvV2lkdGgsaGVpZ2h0OmUudmlkZW9IZWlnaHR9OmU/e3dpZHRoOnQsaGVpZ2h0Om59Ont3aWR0aDp0Pj0wP3Q6MSxoZWlnaHQ6bj49MD9uOjF9LE9iamVjdChwLmEpKHIsIkNvdWxkIG5vdCBkZWR1Y2VkIHRleHR1cmUgc2l6ZSIpLE9iamVjdChwLmEpKHZvaWQgMD09PXR8fHIud2lkdGg9PT10LCJEZWR1Y2VkIHRleHR1cmUgd2lkdGggZG9lcyBub3QgbWF0Y2ggc3VwcGxpZWQgd2lkdGgiKSxPYmplY3QocC5hKSh2b2lkIDA9PT1ufHxyLmhlaWdodD09PW4sIkRlZHVjZWQgdGV4dHVyZSBoZWlnaHQgZG9lcyBub3QgbWF0Y2ggc3VwcGxpZWQgaGVpZ2h0Iikscn19LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVRleHR1cmUodGhpcy5oYW5kbGUpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoIlRleHR1cmUiKX19LHtrZXk6Il9nZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDQwOTY6cmV0dXJuIHRoaXMud2lkdGg7Y2FzZSA0MDk3OnJldHVybiB0aGlzLmhlaWdodDtkZWZhdWx0OnRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpO3ZhciB0PXRoaXMuZ2wuZ2V0VGV4UGFyYW1ldGVyKHRoaXMudGFyZ2V0LGUpO3JldHVybiB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LG51bGwpLHR9fX0se2tleToiX3NldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCx0aGlzLmhhbmRsZSksdD10aGlzLl9nZXROUE9UUGFyYW0oZSx0KSxlKXtjYXNlIDMzMDgyOmNhc2UgMzMwODM6dGhpcy5nbC50ZXhQYXJhbWV0ZXJmKHRoaXMuaGFuZGxlLGUsdCk7YnJlYWs7Y2FzZSA0MDk2OmNhc2UgNDA5NzpPYmplY3QocC5hKSghMSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy50YXJnZXQsZSx0KX1yZXR1cm4gdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLnRhcmdldCxudWxsKSx0aGlzfX0se2tleToiX2lzTlBPVCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KGguZykodGhpcy5nbCkmJighKCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHQpJiYoIU9iamVjdCh2LmIpKHRoaXMud2lkdGgpfHwhT2JqZWN0KHYuYikodGhpcy5oZWlnaHQpKSl9fSx7a2V5OiJfdXBkYXRlRm9yTlBPVCIsdmFsdWU6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZVt0aGlzLmdsLlRFWFRVUkVfTUlOX0ZJTFRFUl0mJihlW3RoaXMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSXT10aGlzLmdsLkxJTkVBUiksdm9pZCAwPT09ZVt0aGlzLmdsLlRFWFRVUkVfV1JBUF9TXSYmKGVbdGhpcy5nbC5URVhUVVJFX1dSQVBfU109dGhpcy5nbC5DTEFNUF9UT19FREdFKSx2b2lkIDA9PT1lW3RoaXMuZ2wuVEVYVFVSRV9XUkFQX1RdJiYoZVt0aGlzLmdsLlRFWFRVUkVfV1JBUF9UXT10aGlzLmdsLkNMQU1QX1RPX0VER0UpfX0se2tleToiX2dldE5QT1RQYXJhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9pc05QT1QoKSlzd2l0Y2goZSl7Y2FzZSAxMDI0MTotMT09PWcuaW5kZXhPZih0KSYmKHQ9OTcyOSk7YnJlYWs7Y2FzZSAxMDI0MjpjYXNlIDEwMjQzOjMzMDcxIT09dCYmKHQ9MzMwNzEpfXJldHVybiB0fX1dKSx0fSh1LmEpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCwiaSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsImgiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZCh0LCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMTQpO2Z1bmN0aW9uIGkoKXt2YXIgZT1uZXcgci5hKDkpO3JldHVybiByLmEhPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNV09MCxlWzZdPTAsZVs3XT0wKSxlWzBdPTEsZVs0XT0xLGVbOF09MSxlfWZ1bmN0aW9uIGEoZSx0KXtpZihlPT09dCl7dmFyIG49dFsxXSxyPXRbMl0saT10WzVdO2VbMV09dFszXSxlWzJdPXRbNl0sZVszXT1uLGVbNV09dFs3XSxlWzZdPXIsZVs3XT1pfWVsc2UgZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF07cmV0dXJuIGV9ZnVuY3Rpb24gbyhlLHQpe3ZhciBuPXRbMF0scj10WzFdLGk9dFsyXSxhPXRbM10sbz10WzRdLHM9dFs1XSx1PXRbNl0sYz10WzddLGw9dFs4XSxoPWwqby1zKmMsZj0tbCphK3MqdSxkPWMqYS1vKnUsdj1uKmgrcipmK2kqZDtyZXR1cm4gdj8odj0xL3YsZVswXT1oKnYsZVsxXT0oLWwqcitpKmMpKnYsZVsyXT0ocypyLWkqbykqdixlWzNdPWYqdixlWzRdPShsKm4taSp1KSp2LGVbNV09KC1zKm4raSphKSp2LGVbNl09ZCp2LGVbN109KC1jKm4rcip1KSp2LGVbOF09KG8qbi1yKmEpKnYsZSk6bnVsbH1mdW5jdGlvbiBzKGUpe3ZhciB0PWVbMF0sbj1lWzFdLHI9ZVsyXSxpPWVbM10sYT1lWzRdLG89ZVs1XSxzPWVbNl0sdT1lWzddLGM9ZVs4XTtyZXR1cm4gdCooYyphLW8qdSkrbiooLWMqaStvKnMpK3IqKHUqaS1hKnMpfWZ1bmN0aW9uIHUoZSx0LG4pe3ZhciByPXRbMF0saT10WzFdLGE9dFsyXSxvPXRbM10scz10WzRdLHU9dFs1XSxjPXRbNl0sbD10WzddLGg9dFs4XSxmPW5bMF0sZD1uWzFdLHY9blsyXSxwPW5bM10sZz1uWzRdLHk9bls1XSxtPW5bNl0sYj1uWzddLF89bls4XTtyZXR1cm4gZVswXT1mKnIrZCpvK3YqYyxlWzFdPWYqaStkKnMrdipsLGVbMl09ZiphK2QqdSt2KmgsZVszXT1wKnIrZypvK3kqYyxlWzRdPXAqaStnKnMreSpsLGVbNV09cCphK2cqdSt5KmgsZVs2XT1tKnIrYipvK18qYyxlWzddPW0qaStiKnMrXypsLGVbOF09bSphK2IqdStfKmgsZX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgcj10WzBdLGk9dFsxXSxhPXRbMl0sbz10WzNdLHM9dFs0XSx1PXRbNV0sYz10WzZdLGw9dFs3XSxoPXRbOF0sZj1uWzBdLGQ9blsxXTtyZXR1cm4gZVswXT1yLGVbMV09aSxlWzJdPWEsZVszXT1vLGVbNF09cyxlWzVdPXUsZVs2XT1mKnIrZCpvK2MsZVs3XT1mKmkrZCpzK2wsZVs4XT1mKmErZCp1K2gsZX1mdW5jdGlvbiBsKGUsdCxuKXt2YXIgcj10WzBdLGk9dFsxXSxhPXRbMl0sbz10WzNdLHM9dFs0XSx1PXRbNV0sYz10WzZdLGw9dFs3XSxoPXRbOF0sZj1NYXRoLnNpbihuKSxkPU1hdGguY29zKG4pO3JldHVybiBlWzBdPWQqcitmKm8sZVsxXT1kKmkrZipzLGVbMl09ZCphK2YqdSxlWzNdPWQqby1mKnIsZVs0XT1kKnMtZippLGVbNV09ZCp1LWYqYSxlWzZdPWMsZVs3XT1sLGVbOF09aCxlfWZ1bmN0aW9uIGgoZSx0LG4pe3ZhciByPW5bMF0saT1uWzFdO3JldHVybiBlWzBdPXIqdFswXSxlWzFdPXIqdFsxXSxlWzJdPXIqdFsyXSxlWzNdPWkqdFszXSxlWzRdPWkqdFs0XSxlWzVdPWkqdFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlfWZ1bmN0aW9uIGYoZSx0KXt2YXIgbj10WzBdLHI9dFsxXSxpPXRbMl0sYT10WzNdLG89bituLHM9cityLHU9aStpLGM9bipvLGw9cipvLGg9cipzLGY9aSpvLGQ9aSpzLHY9aSp1LHA9YSpvLGc9YSpzLHk9YSp1O3JldHVybiBlWzBdPTEtaC12LGVbM109bC15LGVbNl09ZitnLGVbMV09bCt5LGVbNF09MS1jLXYsZVs3XT1kLXAsZVsyXT1mLWcsZVs1XT1kK3AsZVs4XT0xLWMtaCxlfX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMjYpLGk9e3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLGRvY3VtZW50OiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LHByb2Nlc3M6Im9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChyLmEpKHByb2Nlc3MpKSYmcHJvY2Vzc30sYT1pLndpbmRvd3x8aS5zZWxmfHxpLmdsb2JhbCxvPWkucHJvY2Vzc3x8e307Y29uc29sZX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9big0MyksaT1uKDUpLGE9big2KSxvPW4oMTA1KSxzPW4oMjkpLHU9e1BPSU5UUzowLExJTkVTOjEsTElORV9MT09QOjIsTElORV9TVFJJUDozLFRSSUFOR0xFUzo0LFRSSUFOR0xFX1NUUklQOjUsVFJJQU5HTEVfRkFOOjZ9LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChpLmEpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KG8uYykoImdlb21ldHJ5Iik6bixhPXQuZHJhd01vZGUscz12b2lkIDA9PT1hP3UuVFJJQU5HTEVTOmEsYz10LmF0dHJpYnV0ZXMsbD12b2lkIDA9PT1jP3t9OmMsaD10LmluZGljZXMsZj12b2lkIDA9PT1oP251bGw6aCxkPXQudmVydGV4Q291bnQsdj12b2lkIDA9PT1kP251bGw6ZDt0aGlzLmlkPXIsdGhpcy5kcmF3TW9kZT0wfHMsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMudXNlckRhdGE9e30sdGhpcy5fc2V0QXR0cmlidXRlcyhsLGYpLHRoaXMudmVydGV4Q291bnQ9dnx8dGhpcy5fY2FsY3VsYXRlVmVydGV4Q291bnQodGhpcy5hdHRyaWJ1dGVzLHRoaXMuaW5kaWNlcyl9cmV0dXJuIE9iamVjdChhLmEpKGUsbnVsbCxbe2tleToiRFJBV19NT0RFIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19XSksT2JqZWN0KGEuYSkoZSxbe2tleToiZ2V0VmVydGV4Q291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGV4Q291bnR9fSx7a2V5OiJnZXRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGljZXM/T2JqZWN0KHIuYSkoe2luZGljZXM6dGhpcy5pbmRpY2VzfSx0aGlzLmF0dHJpYnV0ZXMpOnRoaXMuYXR0cmlidXRlc319LHtrZXk6Il9wcmludCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIkdlb21ldHJ5ICIuY29uY2F0KHRoaXMuaWQsIiBhdHRyaWJ1dGUgIikuY29uY2F0KGUpfX0se2tleToiX3NldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQmJih0aGlzLmluZGljZXM9QXJyYXlCdWZmZXIuaXNWaWV3KHQpP3t2YWx1ZTp0LHNpemU6MX06dCksZSl7dmFyIHI9ZVtuXTtyPUFycmF5QnVmZmVyLmlzVmlldyhyKT97dmFsdWU6cn06cixPYmplY3Qocy5hKShBcnJheUJ1ZmZlci5pc1ZpZXcoci52YWx1ZSksIiIuY29uY2F0KHRoaXMuX3ByaW50KG4pLCI6IG11c3QgYmUgdHlwZWQgYXJyYXkgb3Igb2JqZWN0IHdpdGggdmFsdWUgYXMgdHlwZWQgYXJyYXkiKSksIlBPU0lUSU9OIiE9PW4mJiJwb3NpdGlvbnMiIT09bnx8ci5zaXplfHwoci5zaXplPTMpLCJpbmRpY2VzIj09PW4/KE9iamVjdChzLmEpKCF0aGlzLmluZGljZXMpLHRoaXMuaW5kaWNlcz1yKTp0aGlzLmF0dHJpYnV0ZXNbbl09cn1yZXR1cm4gdGhpcy5pbmRpY2VzJiZ2b2lkIDAhPT10aGlzLmluZGljZXMuaXNJbmRleGVkJiYodGhpcy5pbmRpY2VzPU9iamVjdC5hc3NpZ24oe30sdGhpcy5pbmRpY2VzKSxkZWxldGUgdGhpcy5pbmRpY2VzLmlzSW5kZXhlZCksdGhpc319LHtrZXk6Il9jYWxjdWxhdGVWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiB0LnZhbHVlLmxlbmd0aDt2YXIgbj0xLzA7Zm9yKHZhciByIGluIGUpe3ZhciBpPWVbcl0sYT1pLnZhbHVlLG89aS5zaXplOyFpLmNvbnN0YW50JiZhJiZvPj0xJiYobj1NYXRoLm1pbihuLGEubGVuZ3RoL28pKX1yZXR1cm4gT2JqZWN0KHMuYSkoTnVtYmVyLmlzRmluaXRlKG4pKSxufX0se2tleToibW9kZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd01vZGV9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oMTExKSxpPW4oNSksYT1uKDYpLG89big4OSkscz1uKDI5KSx1PW4oMTc4KSxjPXtvZmZzZXQ6MCxzdHJpZGU6MCx0eXBlOjUxMjYsc2l6ZToxLGRpdmlzb3I6MCxub3JtYWxpemVkOiExLGludGVnZXI6ITF9LGw9e2RlcHJlY2F0ZWRQcm9wczp7aW5zdGFuY2VkOiJkaXZpc29yIixpc0luc3RhbmNlZDoiZGl2aXNvciJ9fSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXM7T2JqZWN0KGkuYSkodGhpcyxlKTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKylyW2FdPWFyZ3VtZW50c1thXTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9hc3NpZ24oZSl9KSksT2JqZWN0LmZyZWV6ZSh0aGlzKX1yZXR1cm4gT2JqZWN0KGEuYSkoZSxudWxsLFt7a2V5OiJnZXRCeXRlc1BlckVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5jKShlLnR5cGV8fDUxMjYpLkJZVEVTX1BFUl9FTEVNRU5UfX0se2tleToiZ2V0Qnl0ZXNQZXJWZXJ0ZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qocy5hKShlLnNpemUpLE9iamVjdChvLmMpKGUudHlwZXx8NTEyNikuQllURVNfUEVSX0VMRU1FTlQqZS5zaXplfX0se2tleToicmVzb2x2ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyluW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gT2JqZWN0KHIuYSkoZSxbY10uY29uY2F0KG4pKX19XSksT2JqZWN0KGEuYSkoZSxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMpfX0se2tleToiX2Fzc2lnbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHZvaWQgMCE9PShlPU9iamVjdCh1LmEpKCJBY2Nlc3NvciIsZSxsKSkudHlwZSYmKHRoaXMudHlwZT1lLnR5cGUsNTEyNCE9PWUudHlwZSYmNTEyNSE9PWUudHlwZXx8KHRoaXMuaW50ZWdlcj0hMCkpLHZvaWQgMCE9PWUuc2l6ZSYmKHRoaXMuc2l6ZT1lLnNpemUpLHZvaWQgMCE9PWUub2Zmc2V0JiYodGhpcy5vZmZzZXQ9ZS5vZmZzZXQpLHZvaWQgMCE9PWUuc3RyaWRlJiYodGhpcy5zdHJpZGU9ZS5zdHJpZGUpLHZvaWQgMCE9PWUubm9ybWFsaXplZCYmKHRoaXMubm9ybWFsaXplZD1lLm5vcm1hbGl6ZWQpLHZvaWQgMCE9PWUuaW50ZWdlciYmKHRoaXMuaW50ZWdlcj1lLmludGVnZXIpLHZvaWQgMCE9PWUuZGl2aXNvciYmKHRoaXMuZGl2aXNvcj1lLmRpdmlzb3IpLHZvaWQgMCE9PWUuYnVmZmVyJiYodGhpcy5idWZmZXI9ZS5idWZmZXIpLHZvaWQgMCE9PWUuaW5kZXgmJigiYm9vbGVhbiI9PXR5cGVvZiBpbmRleD90aGlzLmluZGV4PWUuaW5kZXg/MTowOnRoaXMuaW5kZXg9ZS5pbmRleCksdm9pZCAwIT09ZS5pbnN0YW5jZWQmJih0aGlzLmRpdmlzb3I9ZS5pbnN0YW5jZWQ/MTowKSx2b2lkIDAhPT1lLmlzSW5zdGFuY2VkJiYodGhpcy5kaXZpc29yPWUuaXNJbnN0YW5jZWQ/MTowKSx0aGlzfX0se2tleToiQllURVNfUEVSX0VMRU1FTlQiLGdldDpmdW5jdGlvbigpe3JldHVybiBlLmdldEJ5dGVzUGVyRWxlbWVudCh0aGlzKX19LHtrZXk6IkJZVEVTX1BFUl9WRVJURVgiLGdldDpmdW5jdGlvbigpe3JldHVybiBlLmdldEJ5dGVzUGVyVmVydGV4KHRoaXMpfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24ucih0KTt2YXIgcixpPW4oMjAwKSxhPW4oMiksbz1uLm4oYSkscz1uKDMpLHU9bi5uKHMpLGM9big5KSxsPW4ubihjKSxoPW4oNCksZj1uLm4oaCksZD1uKDEyKSx2PW4ubihkKSxwPW4oMTApLGc9bi5uKHApLHk9big3KSxtPW4ubih5KSxiPW4oMTg5KSxfPW4oMjA2KSxPPW4oMTA4KSx4PW4oMTYxKSx3PW4oNjApLFM9bigxMTYpLGs9KHI9e30sbSgpKHIsMTAyNDEsOTk4NyksbSgpKHIsMTAyNDAsOTcyOSksbSgpKHIsMTAyNDIsMzMwNzEpLG0oKShyLDEwMjQzLDMzMDcxKSxyKSxQPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbygpKHRoaXMsdCksbCgpKHRoaXMsZigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGcoKSh0LGUpLHUoKSh0LFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2KCkoZigpKHQucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGJpdG1hcC1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMyIHRleENvb3JkcztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG52YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gcG9zaXRpb25zO1xuICBnZW9tZXRyeS51diA9IHRleENvb3JkcztcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25zLCBwb3NpdGlvbnM2NExvdywgdmVjMygwLjApLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICB2VGV4Q29vcmQgPSB0ZXhDb29yZHM7XG5cbiAgdmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihjb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGJpdG1hcC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxuI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZW5kaWZcblxudW5pZm9ybSBzYW1wbGVyMkQgYml0bWFwVGV4dHVyZTtcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcblxudW5pZm9ybSBmbG9hdCBkZXNhdHVyYXRlO1xudW5pZm9ybSB2ZWM0IHRyYW5zcGFyZW50Q29sb3I7XG51bmlmb3JtIHZlYzMgdGludENvbG9yO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG4vLyBhcHBseSBkZXNhdHVyYXRpb25cbnZlYzMgY29sb3JfZGVzYXR1cmF0ZSh2ZWMzIGNvbG9yKSB7XG4gIGZsb2F0IGx1bWluYW5jZSA9IChjb2xvci5yICsgY29sb3IuZyArIGNvbG9yLmIpICogMC4zMzMzMzMzMzM7XG4gIHJldHVybiBtaXgoY29sb3IsIHZlYzMobHVtaW5hbmNlKSwgZGVzYXR1cmF0ZSk7XG59XG5cbi8vIGFwcGx5IHRpbnRcbnZlYzMgY29sb3JfdGludCh2ZWMzIGNvbG9yKSB7XG4gIHJldHVybiBjb2xvciAqIHRpbnRDb2xvcjtcbn1cblxuLy8gYmxlbmQgd2l0aCBiYWNrZ3JvdW5kIGNvbG9yXG52ZWM0IGFwcGx5X29wYWNpdHkodmVjMyBjb2xvciwgZmxvYXQgYWxwaGEpIHtcbiAgcmV0dXJuIG1peCh0cmFuc3BhcmVudENvbG9yLCB2ZWM0KGNvbG9yLCAxLjApLCBhbHBoYSk7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIHZlYzQgYml0bWFwQ29sb3IgPSB0ZXh0dXJlMkQoYml0bWFwVGV4dHVyZSwgdlRleENvb3JkKTtcblxuICBnbF9GcmFnQ29sb3IgPSBhcHBseV9vcGFjaXR5KGNvbG9yX3RpbnQoY29sb3JfZGVzYXR1cmF0ZShiaXRtYXBDb2xvci5yZ2IpKSwgYml0bWFwQ29sb3IuYSAqIG9wYWNpdHkpO1xuXG4gIGdlb21ldHJ5LnV2ID0gdlRleENvb3JkO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltiLmEsXy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCh7cG9zaXRpb25zOntzaXplOjMsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZVBvc2l0aW9ucyxub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe251bUluc3RhbmNlczoxLHBvc2l0aW9uczpuZXcgRmxvYXQ2NEFycmF5KDEyKX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcHMsbj1lLm9sZFByb3BzO2lmKGUuY2hhbmdlRmxhZ3MuZXh0ZW5zaW9uc0NoYW5nZWQpe3ZhciByPXRoaXMuY29udGV4dC5nbDt0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHIpfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuaW52YWxpZGF0ZUFsbCgpfXQuaW1hZ2UhPT1uLmltYWdlJiZ0aGlzLmxvYWRUZXh0dXJlKHQuaW1hZ2UpO3ZhciBpPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO3QuYm91bmRzIT09bi5ib3VuZHMmJmkuaW52YWxpZGF0ZSgicG9zaXRpb25zIil9fSx7a2V5OiJmaW5hbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3YoKShmKCkodC5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuc3RhdGUuYml0bWFwVGV4dHVyZSYmdGhpcy5zdGF0ZS5iaXRtYXBUZXh0dXJlLmRlbGV0ZSgpfX0se2tleToiY2FsY3VsYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnBvc2l0aW9ucyxuPXRoaXMucHJvcHMuYm91bmRzO2lmKE51bWJlci5pc0Zpbml0ZShuWzBdKSl0WzBdPW5bMF0sdFsxXT1uWzFdLHRbMl09MCx0WzNdPW5bMF0sdFs0XT1uWzNdLHRbNV09MCx0WzZdPW5bMl0sdFs3XT1uWzNdLHRbOF09MCx0WzldPW5bMl0sdFsxMF09blsxXSx0WzExXT0wO2Vsc2UgZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspdFszKnIrMF09bltyXVswXSx0WzMqcisxXT1uW3JdWzFdLHRbMypyKzJdPW5bcl1bMl18fDA7ZS52YWx1ZT10fX0se2tleToiX2dldE1vZGVsIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT9uZXcgeC5hKGUsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgdy5hKHtkcmF3TW9kZTo2LHZlcnRleENvdW50OjQsYXR0cmlidXRlczp7dGV4Q29vcmRzOm5ldyBGbG9hdDMyQXJyYXkoWzAsMSwwLDAsMSwwLDEsMV0pfX0pLGlzSW5zdGFuY2VkOiExfSkpOm51bGx9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnVuaWZvcm1zLG49dGhpcy5zdGF0ZSxyPW4uYml0bWFwVGV4dHVyZSxpPW4ubW9kZWwsYT10aGlzLnByb3BzLG89YS5pbWFnZSxzPWEuZGVzYXR1cmF0ZSx1PWEudHJhbnNwYXJlbnRDb2xvcixjPWEudGludENvbG9yO3ImJm8gaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50JiZvLnJlYWR5U3RhdGU+SFRNTFZpZGVvRWxlbWVudC5IQVZFX01FVEFEQVRBJiYoci53aWR0aCE9PW8udmlkZW9XaWR0aHx8ci5oZWlnaHQhPT1vLnZpZGVvSGVpZ2h0PyhyLnJlc2l6ZSh7d2lkdGg6by52aWRlb1dpZHRoLGhlaWdodDpvLnZpZGVvSGVpZ2h0LG1pcG1hcHM6ITB9KSxyLnNldFN1YkltYWdlRGF0YSh7ZGF0YTpvLHBhcmFtdGVyczprfSkpOnIuc2V0U3ViSW1hZ2VEYXRhKHtkYXRhOm99KSxyLmdlbmVyYXRlTWlwbWFwKCkpO3ImJmkmJmkuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0LHtiaXRtYXBUZXh0dXJlOnIsZGVzYXR1cmF0ZTpzLHRyYW5zcGFyZW50Q29sb3I6dS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLzI1NX0pKSx0aW50Q29sb3I6Yy5zbGljZSgwLDMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUvMjU1fSkpfSkpLmRyYXcoKX19LHtrZXk6ImxvYWRUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5iaXRtYXBUZXh0dXJlJiZ0aGlzLnN0YXRlLmJpdG1hcFRleHR1cmUuZGVsZXRlKCksZSBpbnN0YW5jZW9mIFMuYT90aGlzLnNldFN0YXRlKHtiaXRtYXBUZXh0dXJlOmV9KTplIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD90aGlzLnNldFN0YXRlKHtiaXRtYXBUZXh0dXJlOm5ldyBTLmEodCx7d2lkdGg6MSxoZWlnaHQ6MSxwYXJhbWV0ZXJzOmssbWlwbWFwczohMX0pfSk6ZSYmdGhpcy5zZXRTdGF0ZSh7Yml0bWFwVGV4dHVyZTpuZXcgUy5hKHQse2RhdGE6ZSxwYXJhbWV0ZXJzOmt9KX0pfX1dKSx0fShPLmEpO1AubGF5ZXJOYW1lPSJCaXRtYXBMYXllciIsUC5kZWZhdWx0UHJvcHM9e2ltYWdlOnt0eXBlOiJvYmplY3QiLHZhbHVlOm51bGwsYXN5bmM6ITB9LGJvdW5kczp7dHlwZToiYXJyYXkiLHZhbHVlOlsxLDAsMCwxXSxjb21wYXJlOiEwfSxkZXNhdHVyYXRlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjB9LHRyYW5zcGFyZW50Q29sb3I6e3R5cGU6ImNvbG9yIix2YWx1ZTpbMCwwLDAsMF19LHRpbnRDb2xvcjp7dHlwZToiY29sb3IiLHZhbHVlOlsyNTUsMjU1LDI1NV19fTt2YXIgaixUPW4oMjA3KSxFPW4oMTc3KSxBPW4oMjY4KSxNPW4oMTg2KSxDPW4oNTQpLEw9bigyMyksST1mdW5jdGlvbigpe30sUj0oaj17fSxtKCkoaiwxMDI0MSw5OTg3KSxtKCkoaiwxMDI0MCw5NzI5KSxtKCkoaiwxMDI0MiwzMzA3MSksbSgpKGosMTAyNDMsMzMwNzEpLGopO2Z1bmN0aW9uIEQoZSl7cmV0dXJuIGUmJihlLmlkfHxlLnVybCl9ZnVuY3Rpb24gRihlLHQsbil7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl0sYT1pLmljb24sbz1pLnhPZmZzZXQ7ZVtEKGEpXT1PYmplY3QuYXNzaWduKHt9LGEse3g6byx5Om59KX19dmFyIE49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7dmFyIHI9bi5vblVwZGF0ZSxpPXZvaWQgMD09PXI/STpyO28oKSh0aGlzLGUpLHRoaXMuZ2w9dCx0aGlzLm9uVXBkYXRlPWksdGhpcy5fZ2V0SWNvbj1udWxsLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLl9leHRlcm5hbFRleHR1cmU9bnVsbCx0aGlzLl9tYXBwaW5nPXt9LHRoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuX2F1dG9QYWNraW5nPSExLHRoaXMuX3hPZmZzZXQ9MCx0aGlzLl95T2Zmc2V0PTAsdGhpcy5fcm93SGVpZ2h0PTAsdGhpcy5fYnVmZmVyPTQsdGhpcy5fY2FudmFzV2lkdGg9MTAyNCx0aGlzLl9jYW52YXNIZWlnaHQ9MCx0aGlzLl9jYW52YXM9bnVsbH1yZXR1cm4gdSgpKGUsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuZGVsZXRlKCl9fSx7a2V5OiJnZXRUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlfHx0aGlzLl9leHRlcm5hbFRleHR1cmV9fSx7a2V5OiJnZXRJY29uTWFwcGluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYXV0b1BhY2tpbmc/RChlKTplO3JldHVybiB0aGlzLl9tYXBwaW5nW3RdfHx7fX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmF1dG9QYWNraW5nLG49ZS5pY29uQXRsYXMscj1lLmljb25NYXBwaW5nLGk9ZS5kYXRhLGE9ZS5nZXRJY29uO3ZvaWQgMCE9PXQmJih0aGlzLl9hdXRvUGFja2luZz10KSxhJiYodGhpcy5fZ2V0SWNvbj1hKSxyJiYodGhpcy5fbWFwcGluZz1yKSxuJiZ0aGlzLl91cGRhdGVJY29uQXRsYXMobiksdGhpcy5fYXV0b1BhY2tpbmcmJihpfHxhKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmKHRoaXMuX2NhbnZhcz10aGlzLl9jYW52YXN8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHRoaXMuX3VwZGF0ZUF1dG9QYWNraW5nKGkpKX19LHtrZXk6Il91cGRhdGVJY29uQXRsYXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmRlbGV0ZSgpLHRoaXMuX3RleHR1cmU9bnVsbCksZSBpbnN0YW5jZW9mIFMuYT8oZS5zZXRQYXJhbWV0ZXJzKFIpLHRoaXMuX2V4dGVybmFsVGV4dHVyZT1lLHRoaXMub25VcGRhdGUoKSk6ZSYmKHRoaXMuX3RleHR1cmU9bmV3IFMuYSh0aGlzLmdsLHtkYXRhOmUscGFyYW1ldGVyczpSfSksdGhpcy5vblVwZGF0ZSgpKX19LHtrZXk6Il91cGRhdGVBdXRvUGFja2luZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksYSxvLHM9T2JqZWN0LnZhbHVlcyhmdW5jdGlvbihlLHQsbil7aWYoIWV8fCF0KXJldHVybiBudWxsO249bnx8e307dmFyIHI9e30saT1PYmplY3QoQy5hKShlKSxhPWkuaXRlcmFibGUsbz1pLm9iamVjdEluZm8scz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD1hW1N5bWJvbC5pdGVyYXRvcl0oKTshKHM9KGw9aC5uZXh0KCkpLmRvbmUpO3M9ITApe3ZhciBmPWwudmFsdWU7by5pbmRleCsrO3ZhciBkPXQoZixvKSx2PUQoZCk7aWYoIWQpdGhyb3cgbmV3IEVycm9yKCJJY29uIGlzIG1pc3NpbmcuIik7aWYoIWQudXJsKXRocm93IG5ldyBFcnJvcigiSWNvbiB1cmwgaXMgbWlzc2luZy4iKTtyW3ZdfHxuW3ZdJiZkLnVybD09PW5bdl0udXJsfHwoclt2XT1kKX19Y2F0Y2goZSl7dT0hMCxjPWV9ZmluYWxseXt0cnl7c3x8bnVsbD09aC5yZXR1cm58fGgucmV0dXJuKCl9ZmluYWxseXtpZih1KXRocm93IGN9fXJldHVybiByfShlLHRoaXMuX2dldEljb24sdGhpcy5fbWFwcGluZyl8fHt9KTtpZihzLmxlbmd0aD4wKXt2YXIgdT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmljb25zLHI9ZS5idWZmZXIsaT1lLm1hcHBpbmcsYT12b2lkIDA9PT1pP3t9Omksbz1lLnhPZmZzZXQscz12b2lkIDA9PT1vPzA6byx1PWUueU9mZnNldCxjPXZvaWQgMD09PXU/MDp1LGw9ZS5yb3dIZWlnaHQsaD12b2lkIDA9PT1sPzA6bCxmPWUuY2FudmFzV2lkdGgsZD1bXSx2PTA7djxuLmxlbmd0aDt2Kyspe3ZhciBwPW5bdl07aWYoIWFbRChwKV0pe3ZhciBnPXAuaGVpZ2h0LHk9cC53aWR0aDtzK3krcj5mJiYoRihhLGQsYykscz0wLGM9aCtjK3IsaD0wLGQ9W10pLGQucHVzaCh7aWNvbjpwLHhPZmZzZXQ6c30pLHM9cyt5K3IsaD1NYXRoLm1heChoLGcpfX1yZXR1cm4gZC5sZW5ndGg+MCYmRihhLGQsYykse21hcHBpbmc6YSxyb3dIZWlnaHQ6aCx4T2Zmc2V0OnMseU9mZnNldDpjLGNhbnZhc1dpZHRoOmYsY2FudmFzSGVpZ2h0Oih0PWgrYytyLE1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nMih0KSkpKX19KHtpY29uczpzLGJ1ZmZlcjp0aGlzLl9idWZmZXIsY2FudmFzV2lkdGg6dGhpcy5fY2FudmFzV2lkdGgsbWFwcGluZzp0aGlzLl9tYXBwaW5nLHJvd0hlaWdodDp0aGlzLl9yb3dIZWlnaHQseE9mZnNldDp0aGlzLl94T2Zmc2V0LHlPZmZzZXQ6dGhpcy5feU9mZnNldH0pLGM9dS5tYXBwaW5nLGw9dS54T2Zmc2V0LGg9dS55T2Zmc2V0LGY9dS5yb3dIZWlnaHQsZD11LmNhbnZhc0hlaWdodDt0aGlzLl9yb3dIZWlnaHQ9Zix0aGlzLl9tYXBwaW5nPWMsdGhpcy5feE9mZnNldD1sLHRoaXMuX3lPZmZzZXQ9aCx0aGlzLl9jYW52YXNIZWlnaHQ9ZCx0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZT1uZXcgUy5hKHRoaXMuZ2wse3dpZHRoOnRoaXMuX2NhbnZhc1dpZHRoLGhlaWdodDp0aGlzLl9jYW52YXNIZWlnaHQscGFyYW1ldGVyczpSfSkpLHRoaXMuX3RleHR1cmUuaGVpZ2h0IT09dGhpcy5fY2FudmFzSGVpZ2h0JiYodGhpcy5fdGV4dHVyZT0odGhpcy5nbCx0PXRoaXMuX3RleHR1cmUsbj10aGlzLl9jYW52YXNXaWR0aCxyPXRoaXMuX2NhbnZhc0hlaWdodCxpPXQud2lkdGgsYT10LmhlaWdodCxvPU9iamVjdChULmEpKHQse3dpZHRoOm4saGVpZ2h0OnJ9KSxPYmplY3QoRS5iKSh0LG8se3RhcmdldFk6MCx3aWR0aDppLGhlaWdodDphfSksdC5kZWxldGUoKSxvKSksdGhpcy5vblVwZGF0ZSgpLHRoaXMuX2xvYWRJY29ucyhzKX19fSx7a2V5OiJfbG9hZEljb25zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5fY2FudmFzLmdldENvbnRleHQoIjJkIikscj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1mdW5jdGlvbigpe3ZhciBlPW8udmFsdWU7dC5fcGVuZGluZ0NvdW50KyssT2JqZWN0KE0uYSkoZS51cmwsQS5hKS50aGVuKChmdW5jdGlvbihyKXt2YXIgaT1EKGUpLGE9dC5fbWFwcGluZ1tpXSxvPWEueCxzPWEueSx1PWEud2lkdGgsYz1hLmhlaWdodCxsPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXQubmF0dXJhbFdpZHRoLGE9dC5uYXR1cmFsSGVpZ2h0O3JldHVybiBuPT09aSYmcj09PWE/dDooZS5jYW52YXMuaGVpZ2h0PXIsZS5jYW52YXMud2lkdGg9bixlLmNsZWFyUmVjdCgwLDAsZS5jYW52YXMud2lkdGgsZS5jYW52YXMuaGVpZ2h0KSxlLmRyYXdJbWFnZSh0LDAsMCxpLGEsMCwwLG4sciksZS5jYW52YXMpfShuLHIsdSxjKTt0Ll90ZXh0dXJlLnNldFN1YkltYWdlRGF0YSh7ZGF0YTpsLHg6byx5OnMsd2lkdGg6dSxoZWlnaHQ6Y30pLHQuX3RleHR1cmUuZ2VuZXJhdGVNaXBtYXAoKSx0Lm9uVXBkYXRlKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe0wuYS5lcnJvcihlKSgpfSkpLmZpbmFsbHkoKGZ1bmN0aW9uKCl7dC5fcGVuZGluZ0NvdW50LS19KSl9LHU9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXUubmV4dCgpKS5kb25lKTtyPSEwKXMoKX1jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19fX0se2tleToiaXNMb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcGVuZGluZ0NvdW50fX1dKSxlfSgpLHo9WzAsMCwwLDI1NV0sQj17aWNvbkF0bGFzOnt0eXBlOiJvYmplY3QiLHZhbHVlOm51bGwsYXN5bmM6ITB9LGljb25NYXBwaW5nOnt0eXBlOiJvYmplY3QiLHZhbHVlOnt9LGFzeW5jOiEwfSxzaXplU2NhbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MSxtaW46MH0sYmlsbGJvYXJkOiEwLHNpemVVbml0czoicGl4ZWxzIixzaXplTWluUGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjB9LHNpemVNYXhQaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9LGFscGhhQ3V0b2ZmOnt0eXBlOiJudW1iZXIiLHZhbHVlOi4wNSxtaW46MCxtYXg6MX0sZ2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wb3NpdGlvbn19LGdldEljb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pY29ufX0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTp6fSxnZXRTaXplOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0QW5nbGU6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTowfSxnZXRQaXhlbE9mZnNldDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDBdfX0sVT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG8oKSh0aGlzLHQpLGwoKSh0aGlzLGYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBnKCkodCxlKSx1KCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdigpKGYoKSh0LnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgaWNvbi1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9ucztcblxuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlU2l6ZXM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VBbmdsZXM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlSWNvbkZyYW1lcztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZUNvbG9yTW9kZXM7XG5hdHRyaWJ1dGUgdmVjMiBpbnN0YW5jZU9mZnNldHM7XG5hdHRyaWJ1dGUgdmVjMiBpbnN0YW5jZVBpeGVsT2Zmc2V0O1xuXG51bmlmb3JtIGZsb2F0IHNpemVTY2FsZTtcbnVuaWZvcm0gdmVjMiBpY29uc1RleHR1cmVEaW07XG51bmlmb3JtIGZsb2F0IHNpemVNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHNpemVNYXhQaXhlbHM7XG51bmlmb3JtIGJvb2wgYmlsbGJvYXJkO1xuXG52YXJ5aW5nIGZsb2F0IHZDb2xvck1vZGU7XG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmRzO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52ZWMyIHJvdGF0ZV9ieV9hbmdsZSh2ZWMyIHZlcnRleCwgZmxvYXQgYW5nbGUpIHtcbiAgZmxvYXQgYW5nbGVfcmFkaWFuID0gYW5nbGUgKiBQSSAvIDE4MC4wO1xuICBmbG9hdCBjb3NfYW5nbGUgPSBjb3MoYW5nbGVfcmFkaWFuKTtcbiAgZmxvYXQgc2luX2FuZ2xlID0gc2luKGFuZ2xlX3JhZGlhbik7XG4gIG1hdDIgcm90YXRpb25NYXRyaXggPSBtYXQyKGNvc19hbmdsZSwgLXNpbl9hbmdsZSwgc2luX2FuZ2xlLCBjb3NfYW5nbGUpO1xuICByZXR1cm4gcm90YXRpb25NYXRyaXggKiB2ZXJ0ZXg7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVBvc2l0aW9ucztcbiAgZ2VvbWV0cnkudXYgPSBwb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgdXYgPSBwb3NpdGlvbnM7XG5cbiAgdmVjMiBpY29uU2l6ZSA9IGluc3RhbmNlSWNvbkZyYW1lcy56dztcbiAgZmxvYXQgc2l6ZVBpeGVscyA9IGNsYW1wKFxuICAgIHByb2plY3Rfc2l6ZV90b19waXhlbChpbnN0YW5jZVNpemVzICogc2l6ZVNjYWxlKSwgXG4gICAgc2l6ZU1pblBpeGVscywgc2l6ZU1heFBpeGVsc1xuICApO1xuICBmbG9hdCBpbnN0YW5jZVNjYWxlID0gaWNvblNpemUueSA9PSAwLjAgPyAwLjAgOiBzaXplUGl4ZWxzIC8gaWNvblNpemUueTtcbiAgdmVjMiBwaXhlbE9mZnNldCA9IHBvc2l0aW9ucyAvIDIuMCAqIGljb25TaXplICsgaW5zdGFuY2VPZmZzZXRzO1xuICBwaXhlbE9mZnNldCA9IHJvdGF0ZV9ieV9hbmdsZShwaXhlbE9mZnNldCwgaW5zdGFuY2VBbmdsZXMpICogaW5zdGFuY2VTY2FsZTtcbiAgcGl4ZWxPZmZzZXQgKz0gaW5zdGFuY2VQaXhlbE9mZnNldDtcbiAgcGl4ZWxPZmZzZXQueSAqPSAtMS4wO1xuXG4gIGlmIChiaWxsYm9hcmQpICB7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShpbnN0YW5jZVBvc2l0aW9ucywgaW5zdGFuY2VQb3NpdGlvbnM2NExvdywgdmVjMygwLjApLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gICAgdmVjMyBvZmZzZXQgPSB2ZWMzKHBpeGVsT2Zmc2V0LCAwLjApO1xuICAgIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXQsIGdlb21ldHJ5KTtcbiAgICBnbF9Qb3NpdGlvbi54eSArPSBwcm9qZWN0X3BpeGVsX3NpemVfdG9fY2xpcHNwYWNlKG9mZnNldC54eSk7XG5cbiAgfSBlbHNlIHtcbiAgICB2ZWMzIG9mZnNldF9jb21tb24gPSB2ZWMzKHByb2plY3RfcGl4ZWxfc2l6ZShwaXhlbE9mZnNldCksIDAuMCk7XG4gICAgREVDS0dMX0ZJTFRFUl9TSVpFKG9mZnNldF9jb21tb24sIGdlb21ldHJ5KTtcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlUG9zaXRpb25zLCBpbnN0YW5jZVBvc2l0aW9uczY0TG93LCBvZmZzZXRfY29tbW9uLCBnZW9tZXRyeS5wb3NpdGlvbik7IFxuICB9XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICB2VGV4dHVyZUNvb3JkcyA9IG1peChcbiAgICBpbnN0YW5jZUljb25GcmFtZXMueHksXG4gICAgaW5zdGFuY2VJY29uRnJhbWVzLnh5ICsgaWNvblNpemUsXG4gICAgKHBvc2l0aW9ucy54eSArIDEuMCkgLyAyLjBcbiAgKSAvIGljb25zVGV4dHVyZURpbTtcblxuICB2Q29sb3IgPSBpbnN0YW5jZUNvbG9ycztcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUih2Q29sb3IsIGdlb21ldHJ5KTtcblxuICB2Q29sb3JNb2RlID0gaW5zdGFuY2VDb2xvck1vZGVzO1xufVxuIixmczoiI2RlZmluZSBTSEFERVJfTkFNRSBpY29uLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gc2FtcGxlcjJEIGljb25zVGV4dHVyZTtcbnVuaWZvcm0gZmxvYXQgYWxwaGFDdXRvZmY7XG5cbnZhcnlpbmcgZmxvYXQgdkNvbG9yTW9kZTtcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZHM7XG52YXJ5aW5nIHZlYzIgdXY7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG5cbiAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRChpY29uc1RleHR1cmUsIHZUZXh0dXJlQ29vcmRzKTtcbiAgdmVjMyBjb2xvciA9IG1peCh0ZXhDb2xvci5yZ2IsIHZDb2xvci5yZ2IsIHZDb2xvck1vZGUpO1xuICBmbG9hdCBhID0gdGV4Q29sb3IuYSAqIG9wYWNpdHkgKiB2Q29sb3IuYTtcblxuICBpZiAoYSA8IGFscGhhQ3V0b2ZmKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIGEpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltiLmEsXy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zdGF0ZT17aWNvbk1hbmFnZXI6bmV3IE4odGhpcy5jb250ZXh0LmdsLHtvblVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiBlLl9vblVwZGF0ZSgpfX0pfSx0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGRJbnN0YW5jZWQoe2luc3RhbmNlUG9zaXRpb25zOntzaXplOjMsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFBvc2l0aW9uIn0saW5zdGFuY2VTaXplczp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFNpemUiLGRlZmF1bHRWYWx1ZToxfSxpbnN0YW5jZU9mZnNldHM6e3NpemU6MixhY2Nlc3NvcjoiZ2V0SWNvbiIsdHJhbnNmb3JtOnRoaXMuZ2V0SW5zdGFuY2VPZmZzZXR9LGluc3RhbmNlSWNvbkZyYW1lczp7c2l6ZTo0LGFjY2Vzc29yOiJnZXRJY29uIix0cmFuc2Zvcm06dGhpcy5nZXRJbnN0YW5jZUljb25GcmFtZX0saW5zdGFuY2VDb2xvck1vZGVzOntzaXplOjEsdHlwZTo1MTIxLGFjY2Vzc29yOiJnZXRJY29uIix0cmFuc2Zvcm06dGhpcy5nZXRJbnN0YW5jZUNvbG9yTW9kZX0saW5zdGFuY2VDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0Q29sb3IiLGRlZmF1bHRWYWx1ZTp6fSxpbnN0YW5jZUFuZ2xlczp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldEFuZ2xlIn0saW5zdGFuY2VQaXhlbE9mZnNldDp7c2l6ZToyLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFBpeGVsT2Zmc2V0In19KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lLm9sZFByb3BzLHI9ZS5wcm9wcyxpPWUuY2hhbmdlRmxhZ3M7digpKGYoKSh0LnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse3Byb3BzOnIsb2xkUHJvcHM6bixjaGFuZ2VGbGFnczppfSk7dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCksbz10aGlzLnN0YXRlLmljb25NYW5hZ2VyLHM9ci5pY29uQXRsYXMsdT1yLmljb25NYXBwaW5nLGM9ci5kYXRhLGw9ci5nZXRJY29uLGg9ITE7aWYoc3x8dGhpcy5pbnRlcm5hbFN0YXRlLmlzQXN5bmNQcm9wTG9hZGluZygiaWNvbkF0bGFzIik/KG4uaWNvbkF0bGFzIT09ci5pY29uQXRsYXMmJm8uc2V0UHJvcHMoe2ljb25BdGxhczpzLGF1dG9QYWNraW5nOiExfSksbi5pY29uTWFwcGluZyE9PXIuaWNvbk1hcHBpbmcmJihvLnNldFByb3BzKHtpY29uTWFwcGluZzp1fSksaD0hMCkpOm8uc2V0UHJvcHMoe2F1dG9QYWNraW5nOiEwfSksKGkuZGF0YUNoYW5nZWR8fGkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYoaS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxpLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRJY29uKSkmJihvLnNldFByb3BzKHtkYXRhOmMsZ2V0SWNvbjpsfSksaD0hMCksaCYmKGEuaW52YWxpZGF0ZSgiaW5zdGFuY2VPZmZzZXRzIiksYS5pbnZhbGlkYXRlKCJpbnN0YW5jZUljb25GcmFtZXMiKSxhLmludmFsaWRhdGUoImluc3RhbmNlQ29sb3JNb2RlcyIpKSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgZD10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChkKX0pLGEuaW52YWxpZGF0ZUFsbCgpfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7digpKGYoKSh0LnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5zdGF0ZS5pY29uTWFuYWdlci5maW5hbGl6ZSgpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLnNpemVTY2FsZSxpPW4uc2l6ZU1pblBpeGVscyxhPW4uc2l6ZU1heFBpeGVscyxvPW4uc2l6ZVVuaXRzLHM9bi5iaWxsYm9hcmQsdT1uLmFscGhhQ3V0b2ZmLGM9dGhpcy5zdGF0ZS5pY29uTWFuYWdlcixsPXRoaXMuY29udGV4dC52aWV3cG9ydCxoPWMuZ2V0VGV4dHVyZSgpO2gmJmgubG9hZGVkJiZ0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sdCx7aWNvbnNUZXh0dXJlOmgsaWNvbnNUZXh0dXJlRGltOltoLndpZHRoLGguaGVpZ2h0XSxzaXplU2NhbGU6ciooInBpeGVscyI9PT1vP2wubWV0ZXJzUGVyUGl4ZWw6MSksc2l6ZU1pblBpeGVsczppLHNpemVNYXhQaXhlbHM6YSxiaWxsYm9hcmQ6cyxhbHBoYUN1dG9mZjp1fSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB4LmEoZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyB3LmEoe2RyYXdNb2RlOjYsYXR0cmlidXRlczp7cG9zaXRpb25zOntzaXplOjIsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShbLTEsLTEsLTEsMSwxLDEsMSwtMV0pfX19KSxpc0luc3RhbmNlZDohMH0pKX19LHtrZXk6Il9vblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldE5lZWRzUmVkcmF3KCl9fSx7a2V5OiJnZXRJbnN0YW5jZU9mZnNldCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZS5pY29uTWFuYWdlci5nZXRJY29uTWFwcGluZyhlKTtyZXR1cm5bdC53aWR0aC8yLXQuYW5jaG9yWHx8MCx0LmhlaWdodC8yLXQuYW5jaG9yWXx8MF19fSx7a2V5OiJnZXRJbnN0YW5jZUNvbG9yTW9kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdGUuaWNvbk1hbmFnZXIuZ2V0SWNvbk1hcHBpbmcoZSkubWFzaz8xOjB9fSx7a2V5OiJnZXRJbnN0YW5jZUljb25GcmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZS5pY29uTWFuYWdlci5nZXRJY29uTWFwcGluZyhlKTtyZXR1cm5bdC54fHwwLHQueXx8MCx0LndpZHRofHwwLHQuaGVpZ2h0fHwwXX19LHtrZXk6ImlzTG9hZGVkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdigpKGYoKSh0LnByb3RvdHlwZSksImlzTG9hZGVkIix0aGlzKSYmdGhpcy5zdGF0ZS5pY29uTWFuYWdlci5pc0xvYWRlZH19XSksdH0oTy5hKTtVLmxheWVyTmFtZT0iSWNvbkxheWVyIixVLmRlZmF1bHRQcm9wcz1CO3ZhciBWPW4oMjAxKSxHPW4oMjAyKSxXPW4oMTQ2KSxIPW4oMTQ1KSxxPW4oMTkyKSxYPW4oMTAwKSxaPW4oMTkzKSxZPW4oMjA0KSxLPW4oMTgpLFE9bi5uKEspLEo9bigxNzEpLCQ9W10sZWU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBvKCkodGhpcyx0KSxsKCkodGhpcyxmKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZygpKHQsZSksdSgpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdigpKGYoKSh0LnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcykse2luamVjdDp7InZzOiNkZWNsIjoiXG4gIHVuaWZvcm0gZmxvYXQgZ2FtbWE7XG4gIHZhcnlpbmcgZmxvYXQgdkdhbW1hO1xuIiwidnM6I21haW4tZW5kIjoiXG4gIHZHYW1tYSA9IGdhbW1hIC8gKHNpemVTY2FsZSAqIGljb25TaXplLnkpO1xuIn0sZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbXVsdGktaWNvbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG51bmlmb3JtIHNhbXBsZXIyRCBpY29uc1RleHR1cmU7XG51bmlmb3JtIGZsb2F0IGJ1ZmZlcjtcbnVuaWZvcm0gYm9vbCBzZGY7XG51bmlmb3JtIGZsb2F0IGFscGhhQ3V0b2ZmO1xudW5pZm9ybSBib29sIHNob3VsZERyYXdCYWNrZ3JvdW5kO1xudW5pZm9ybSB2ZWMzIGJhY2tncm91bmRDb2xvcjtcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkcztcbnZhcnlpbmcgZmxvYXQgdkdhbW1hO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIGlmICghcGlja2luZ191QWN0aXZlKSB7XG4gICAgZmxvYXQgYWxwaGEgPSB0ZXh0dXJlMkQoaWNvbnNUZXh0dXJlLCB2VGV4dHVyZUNvb3JkcykuYTtcbiAgICBpZiAoc2RmKSB7XG4gICAgICBhbHBoYSA9IHNtb290aHN0ZXAoYnVmZmVyIC0gdkdhbW1hLCBidWZmZXIgKyB2R2FtbWEsIGFscGhhKTtcbiAgICB9XG4gICAgZmxvYXQgYSA9IGFscGhhICogdkNvbG9yLmE7XG4gICAgXG4gICAgaWYgKGEgPCBhbHBoYUN1dG9mZikge1xuICAgICAgaWYgKHNob3VsZERyYXdCYWNrZ3JvdW5kKSB7XG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoYmFja2dyb3VuZENvbG9yLCB2Q29sb3IuYSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc2NhcmQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZERyYXdCYWNrZ3JvdW5kKSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1peChiYWNrZ3JvdW5kQ29sb3IsIHZDb2xvci5yZ2IsIGFscGhhKSwgdkNvbG9yLmEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZDb2xvci5yZ2IsIGEpO1xuICAgIH1cbiAgfVxuXG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4ifSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt2KCkoZigpKHQucHJvdG90eXBlKSwiaW5pdGlhbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VPZmZzZXRzOntzaXplOjIsYWNjZXNzb3I6ImdldEljb25PZmZzZXRzIn0saW5zdGFuY2VQaWNraW5nQ29sb3JzOnt0eXBlOjUxMjEsc2l6ZTozLGFjY2Vzc29yOmZ1bmN0aW9uKHQsbil7dmFyIHI9bi5pbmRleCxpPW4udGFyZ2V0O3JldHVybiBlLmVuY29kZVBpY2tpbmdDb2xvcihyLGkpfX19KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2KCkoZigpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyxlKTt2YXIgbj1lLm9sZFByb3BzLHI9ZS5wcm9wcztpZihyLmJhY2tncm91bmRDb2xvciE9PW4uYmFja2dyb3VuZENvbG9yKXt2YXIgaT1BcnJheS5pc0FycmF5KHIuYmFja2dyb3VuZENvbG9yKT9yLmJhY2tncm91bmRDb2xvci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLzI1NX0pKS5zbGljZSgwLDMpOm51bGw7dGhpcy5zZXRTdGF0ZSh7YmFja2dyb3VuZENvbG9yOml9KX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lLnVuaWZvcm1zLHI9dGhpcy5wcm9wcy5zZGYsaT10aGlzLnN0YXRlLmJhY2tncm91bmRDb2xvcixhPUFycmF5LmlzQXJyYXkoaSk7digpKGYoKSh0LnByb3RvdHlwZSksImRyYXciLHRoaXMpLmNhbGwodGhpcyx7dW5pZm9ybXM6T2JqZWN0LmFzc2lnbih7fSxuLHtidWZmZXI6Ljc1LGdhbW1hOi4yLHNkZjpCb29sZWFuKHIpLGJhY2tncm91bmRDb2xvcjppfHxbMCwwLDBdLHNob3VsZERyYXdCYWNrZ3JvdW5kOmF9KX0pfX0se2tleToiZ2V0SW5zdGFuY2VPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGU/QXJyYXkuZnJvbShlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB2KCkoZigpKHQucHJvdG90eXBlKSwiZ2V0SW5zdGFuY2VPZmZzZXQiLG4pLmNhbGwobixlKX0pKTokfX0se2tleToiZ2V0SW5zdGFuY2VDb2xvck1vZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAxfX0se2tleToiZ2V0SW5zdGFuY2VJY29uRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGU/QXJyYXkuZnJvbShlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB2KCkoZigpKHQucHJvdG90eXBlKSwiZ2V0SW5zdGFuY2VJY29uRnJhbWUiLG4pLmNhbGwobixlKX0pKTokfX1dKSx0fShVKTtlZS5sYXllck5hbWU9Ik11bHRpSWNvbkxheWVyIixlZS5kZWZhdWx0UHJvcHM9e2JhY2tncm91bmRDb2xvcjp7dHlwZToiY29sb3IiLHZhbHVlOm51bGwsb3B0aW9uYWw6ITB9LGdldEljb25PZmZzZXRzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2Zmc2V0c319fTt2YXIgdGU9bigyMTQpLG5lPW4ubih0ZSk7ZnVuY3Rpb24gcmUoZSx0KXtmb3IodmFyIG49MCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl0sYT1udWxsLG89dCYmdFtpXTtvJiYoYT1vLndpZHRoKSxuKz1hfXJldHVybiBufWZ1bmN0aW9uIGllKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLGE9MCxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBzPXJlKGVbb10sbik7YStzPnQmJihpPG8mJnIucHVzaChlLnN1YnN0cmluZyhpLG8pKSxpPW8sYT0wKSxhKz1zfXJldHVybiBpPGUubGVuZ3RoJiZyLnB1c2goZS5zdWJzdHJpbmcoaSkpLHtyb3dzOnIsbGFzdFJvd1N0YXJ0Q2hhckluZGV4OmksbGFzdFJvd09mZnNldExlZnQ6YX19ZnVuY3Rpb24gYWUoZSx0LG4scil7cmV0dXJuImJyZWFrLWFsbCI9PT10P2llKGUsbixyKTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxhPTAsbz0wLHM9bnVsbCx1PTA7dTxlLmxlbmd0aDt1KyspaWYoIiAiPT09ZVt1XT8ocz1lW3VdLGE9dSsxKTp1KzE8ZS5sZW5ndGgmJiIgIj09PWVbdSsxXXx8dSsxPT09ZS5sZW5ndGg/KHM9ZS5zdWJzdHJpbmcoYSx1KzEpLGE9dSsxKTpzPW51bGwscyl7dmFyIGM9cmUocyxuKTtpZihvK2M+dCl7dmFyIGw9YS1zLmxlbmd0aDtpZihpPGwmJihyLnB1c2goZS5zdWJzdHJpbmcoaSxsKSksaT1sLG89MCksYz50KXt2YXIgaD1pZShzLHQsbik7aC5yb3dzLmxlbmd0aD4xJiYocj1yLmNvbmNhdChoLnJvd3Muc2xpY2UoMCxoLnJvd3MubGVuZ3RoLTEpKSksaSs9aC5sYXN0Um93U3RhcnRDaGFySW5kZXgsYz1oLmxhc3RSb3dPZmZzZXRMZWZ0fX1vKz1jfXJldHVybiBpPGUubGVuZ3RoJiZyLnB1c2goZS5zdWJzdHJpbmcoaSkpLHtyb3dzOnIsbGFzdFJvd1N0YXJ0Q2hhckluZGV4OmksbGFzdFJvd09mZnNldExlZnQ6b319KGUsbixyKX1mdW5jdGlvbiBvZShlLHQpe2Zvcih2YXIgbj0wLHI9MCxpPW5ldyBBcnJheShlLmxlbmd0aCksYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgbz1lW2FdLHM9dFtvXTtzPyhyfHwocj1zLmhlaWdodCksaVthXT1uK3Mud2lkdGgvMixuKz1zLndpZHRoKTooTC5hLndhcm4oIk1pc3NpbmcgY2hhcmFjdGVyOiAiLmNvbmNhdChvKSkoKSxpW2FdPW4sbis9MzIpfXJldHVybntsZWZ0T2Zmc2V0czppLHJvd1dpZHRoOm4scm93SGVpZ2h0OnJ9fXZhciBzZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06NTtvKCkodGhpcyxlKSx0aGlzLmxpbWl0PXQsdGhpcy5jbGVhcigpfXJldHVybiB1KCkoZSxbe2tleToiY2xlYXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fb3JkZXI9W119fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2NhY2hlW2VdO3JldHVybiB0JiYodGhpcy5fZGVsZXRlT3JkZXIoZSksdGhpcy5fYXBwZW5kT3JkZXIoZSkpLHR9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVbZV0/KHRoaXMuZGVsZXRlKGUpLHRoaXMuX2NhY2hlW2VdPXQsdGhpcy5fYXBwZW5kT3JkZXIoZSkpOihPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSkubGVuZ3RoPT09dGhpcy5saW1pdCYmdGhpcy5kZWxldGUodGhpcy5fb3JkZXJbMF0pLHRoaXMuX2NhY2hlW2VdPXQsdGhpcy5fYXBwZW5kT3JkZXIoZSkpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jYWNoZVtlXSYmKHRoaXMuX2RlbGV0ZUNhY2hlKGUpLHRoaXMuX2RlbGV0ZU9yZGVyKGUpKX19LHtrZXk6Il9kZWxldGVDYWNoZSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX2NhY2hlW2VdfX0se2tleToiX2RlbGV0ZU9yZGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9vcmRlci5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pKTt0Pj0wJiZ0aGlzLl9vcmRlci5zcGxpY2UodCwxKX19LHtrZXk6Il9hcHBlbmRPcmRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb3JkZXIucHVzaChlKX19XSksZX0oKTt2YXIgdWU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0zMjt0PDEyODt0KyspZS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodCkpO3JldHVybiBlfSgpLGNlPW5ldyBzZSgzKSxsZT1bImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwiY2hhcmFjdGVyU2V0IiwiZm9udFNpemUiLCJzZGYiLCJidWZmZXIiLCJjdXRvZmYiLCJyYWRpdXMiXTtmdW5jdGlvbiBoZShlLHQpe3ZhciBuPWNlLmdldChlKTtpZighbilyZXR1cm4gdDt2YXIgcj1bXSxpPW4ubWFwcGluZyxhPU9iamVjdC5rZXlzKGkpO2E9bmV3IFNldChhKTt2YXIgbz10O3JldHVybiBvIGluc3RhbmNlb2YgQXJyYXkmJihvPW5ldyBTZXQobykpLG8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5oYXMoZSl8fHIucHVzaChlKX0pKSxyfWZ1bmN0aW9uIGZlKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC5kYXRhWzQqbiszXT1lW25dfWZ1bmN0aW9uIGRlKGUsdCxuLHIpe2UuZm9udD0iIi5jb25jYXQociwiICIpLmNvbmNhdChuLCJweCAiKS5jb25jYXQodCksZS5maWxsU3R5bGU9IiMwMDAiLGUudGV4dEJhc2VsaW5lPSJiYXNlbGluZSIsZS50ZXh0QWxpZ249ImxlZnQifXZhciB2ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7bygpKHRoaXMsZSksdGhpcy5nbD10LHRoaXMucHJvcHM9e2ZvbnRGYW1pbHk6Ik1vbmFjbywgbW9ub3NwYWNlIixmb250V2VpZ2h0OiJub3JtYWwiLGNoYXJhY3RlclNldDp1ZSxmb250U2l6ZTo2NCxidWZmZXI6MixzZGY6ITEsY3V0b2ZmOi4yNSxyYWRpdXM6M30sdGhpcy5fa2V5PW51bGwsdGhpcy5fdGV4dHVyZT1uZXcgUy5hKHRoaXMuZ2wpfXJldHVybiB1KCkoZSxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZS5kZWxldGUoKX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bGUuZm9yRWFjaCgoZnVuY3Rpb24obil7biBpbiB0JiYoZS5wcm9wc1tuXT10W25dKX0pKTt2YXIgbj10aGlzLl9rZXk7dGhpcy5fa2V5PXRoaXMuX2dldEtleSgpO3ZhciByPWhlKHRoaXMuX2tleSx0aGlzLnByb3BzLmNoYXJhY3RlclNldCksaT1jZS5nZXQodGhpcy5fa2V5KTtpZihpJiYwPT09ci5sZW5ndGgpdGhpcy5fa2V5IT09biYmdGhpcy5fdXBkYXRlVGV4dHVyZShpKTtlbHNle3ZhciBhPXRoaXMuX2dlbmVyYXRlRm9udEF0bGFzKHRoaXMuX2tleSxyLGkpO3RoaXMuX3VwZGF0ZVRleHR1cmUoYSksY2Uuc2V0KHRoaXMuX2tleSxhKX19fSx7a2V5OiJfdXBkYXRlVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmRhdGEscj1lLndpZHRoLGk9ZS5oZWlnaHQ7dGhpcy5fdGV4dHVyZS53aWR0aD09PXImJnRoaXMuX3RleHR1cmUuaGVpZ2h0PT09aXx8dGhpcy5fdGV4dHVyZS5yZXNpemUoe3dpZHRoOnIsaGVpZ2h0Oml9KSx0aGlzLl90ZXh0dXJlLnNldEltYWdlRGF0YSh7ZGF0YTpuLHdpZHRoOnIsaGVpZ2h0OmkscGFyYW1ldGVyczoodD17fSxtKCkodCwxMDI0MiwzMzA3MSksbSgpKHQsMTAyNDMsMzMwNzEpLHQpfSksdGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcG1hcCgpfX0se2tleToiX2dlbmVyYXRlRm9udEF0bGFzIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5wcm9wcyxpPXIuZm9udEZhbWlseSxhPXIuZm9udFdlaWdodCxvPXIuZm9udFNpemUscz1yLmJ1ZmZlcix1PXIuc2RmLGM9ci5yYWRpdXMsbD1yLmN1dG9mZixoPW4mJm4uZGF0YTtofHwoKGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLndpZHRoPTEwMjQpO3ZhciBmPWguZ2V0Q29udGV4dCgiMmQiKTtkZShmLGksbyxhKTt2YXIgZD1mdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJhY3RlclNldCxuPWUuZ2V0Rm9udFdpZHRoLHI9ZS5mb250SGVpZ2h0LGk9ZS5idWZmZXIsYT1lLm1heENhbnZhc1dpZHRoLG89ZS5tYXBwaW5nLHM9dm9pZCAwPT09bz97fTpvLHU9ZS54T2Zmc2V0LGM9dm9pZCAwPT09dT8wOnUsbD1lLnlPZmZzZXQsaD12b2lkIDA9PT1sPzA6bCxmPTAsZD1jLHY9MCxwPSEwLGc9ITEseT12b2lkIDA7dHJ5e2Zvcih2YXIgbSxiPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0obT1iLm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89bS52YWx1ZTtpZighc1tfXSl7dmFyIE89bihfLHYrKyk7ZCtPKzIqaT5hJiYoZD0wLGYrKyksc1tfXT17eDpkK2kseTpoK2YqKHIrMippKStpLHdpZHRoOk8saGVpZ2h0OnJ9LGQrPU8rMippfX19Y2F0Y2goZSl7Zz0hMCx5PWV9ZmluYWxseXt0cnl7cHx8bnVsbD09Yi5yZXR1cm58fGIucmV0dXJuKCl9ZmluYWxseXtpZihnKXRocm93IHl9fXZhciB4LHc9cisyKmk7cmV0dXJue21hcHBpbmc6cyx4T2Zmc2V0OmQseU9mZnNldDpoK2YqdyxjYW52YXNIZWlnaHQ6KHg9aCsoZisxKSp3LE1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nMih4KSkpKX19KE9iamVjdC5hc3NpZ24oe2dldEZvbnRXaWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gZi5tZWFzdXJlVGV4dChlKS53aWR0aH0sZm9udEhlaWdodDoxLjIqbyxidWZmZXI6cyxjaGFyYWN0ZXJTZXQ6dCxtYXhDYW52YXNXaWR0aDoxMDI0fSxuJiZ7bWFwcGluZzpuLm1hcHBpbmcseE9mZnNldDpuLnhPZmZzZXQseU9mZnNldDpuLnlPZmZzZXR9KSksdj1kLm1hcHBpbmcscD1kLmNhbnZhc0hlaWdodCxnPWQueE9mZnNldCx5PWQueU9mZnNldDtpZihoLmhlaWdodCE9PXApe3ZhciBtPWYuZ2V0SW1hZ2VEYXRhKDAsMCxoLndpZHRoLGguaGVpZ2h0KTtoLmhlaWdodD1wLGYucHV0SW1hZ2VEYXRhKG0sMCwwKX1pZihkZShmLGksbyxhKSx1KXt2YXIgYj1uZXcgbmUuYShvLHMsYyxsLGksYSksXz1mLmdldEltYWdlRGF0YSgwLDAsYi5zaXplLGIuc2l6ZSksTz0hMCx4PSExLHc9dm9pZCAwO3RyeXtmb3IodmFyIFMsaz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKE89KFM9ay5uZXh0KCkpLmRvbmUpO089ITApe3ZhciBQPVMudmFsdWU7ZmUoYi5kcmF3KFApLF8pLGYucHV0SW1hZ2VEYXRhKF8sdltQXS54LXMsdltQXS55LXMpfX1jYXRjaChlKXt4PSEwLHc9ZX1maW5hbGx5e3RyeXtPfHxudWxsPT1rLnJldHVybnx8ay5yZXR1cm4oKX1maW5hbGx5e2lmKHgpdGhyb3cgd319fWVsc2V7dmFyIGo9ITAsVD0hMSxFPXZvaWQgMDt0cnl7Zm9yKHZhciBBLE09dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShqPShBPU0ubmV4dCgpKS5kb25lKTtqPSEwKXt2YXIgQz1BLnZhbHVlO2YuZmlsbFRleHQoQyx2W0NdLngsdltDXS55Ky45Km8pfX1jYXRjaChlKXtUPSEwLEU9ZX1maW5hbGx5e3RyeXtqfHxudWxsPT1NLnJldHVybnx8TS5yZXR1cm4oKX1maW5hbGx5e2lmKFQpdGhyb3cgRX19fXJldHVybnt4T2Zmc2V0OmcseU9mZnNldDp5LG1hcHBpbmc6dixkYXRhOmgsd2lkdGg6aC53aWR0aCxoZWlnaHQ6aC5oZWlnaHR9fX0se2tleToiX2dldEtleSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5nbCxuPWUuZm9udEZhbWlseSxyPWUuZm9udFdlaWdodCxpPWUuZm9udFNpemUsYT1lLmJ1ZmZlcixvPWUuc2RmLHM9ZS5yYWRpdXMsdT1lLmN1dG9mZjtyZXR1cm4gbz8iIi5jb25jYXQodCwiICIpLmNvbmNhdChuLCIgIikuY29uY2F0KHIsIiAiKS5jb25jYXQoaSwiICIpLmNvbmNhdChhLCIgIikuY29uY2F0KHMsIiAiKS5jb25jYXQodSk6IiIuY29uY2F0KHQsIiAiKS5jb25jYXQobiwiICIpLmNvbmNhdChyLCIgIikuY29uY2F0KGksIiAiKS5jb25jYXQoYSl9fSx7a2V5OiJ0ZXh0dXJlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX19LHtrZXk6Im1hcHBpbmciLGdldDpmdW5jdGlvbigpe3ZhciBlPWNlLmdldCh0aGlzLl9rZXkpO3JldHVybiBlJiZlLm1hcHBpbmd9fSx7a2V5OiJzY2FsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDEuMn19XSksZX0oKTtmdW5jdGlvbiBwZShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIGdlPXtmb250U2l6ZTo2NCxidWZmZXI6MixzZGY6ITEscmFkaXVzOjMsY3V0b2ZmOi4yNX0seWU9e3N0YXJ0OjEsbWlkZGxlOjAsZW5kOi0xfSxtZT17dG9wOjEsY2VudGVyOjAsYm90dG9tOi0xfSxiZT1bImZvbnRTaXplIiwiYnVmZmVyIiwic2RmIiwicmFkaXVzIiwiY3V0b2ZmIl0sX2U9e2JpbGxib2FyZDohMCxzaXplU2NhbGU6MSxzaXplVW5pdHM6InBpeGVscyIsc2l6ZU1pblBpeGVsczowLHNpemVNYXhQaXhlbHM6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsYmFja2dyb3VuZENvbG9yOnt0eXBlOiJjb2xvciIsdmFsdWU6bnVsbCxvcHRpb25hbDohMH0sY2hhcmFjdGVyU2V0OnVlLGZvbnRGYW1pbHk6Ik1vbmFjbywgbW9ub3NwYWNlIixmb250V2VpZ2h0OiJub3JtYWwiLGxpbmVIZWlnaHQ6MSxmb250U2V0dGluZ3M6e30sd29yZEJyZWFrOiJ3b3JkLWJyZWFrIixtYXhXaWR0aDp7dHlwZToibnVtYmVyIix2YWx1ZTotMX0sZ2V0VGV4dDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRleHR9fSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvc2l0aW9ufX0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0U2l6ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjMyfSxnZXRBbmdsZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjB9LGdldFRleHRBbmNob3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToibWlkZGxlIn0sZ2V0QWxpZ25tZW50QmFzZWxpbmU6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToiY2VudGVyIn0sZ2V0UGl4ZWxPZmZzZXQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwXX19LE9lPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbygpKHRoaXMsdCksbCgpKHRoaXMsZigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGcoKSh0LGUpLHUoKSh0LFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17c3R5bGVWZXJzaW9uOjAsZm9udEF0bGFzTWFuYWdlcjpuZXcgdmUodGhpcy5jb250ZXh0LmdsKX19fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPWUub2xkUHJvcHMscj1lLmNoYW5nZUZsYWdzLGk9dGhpcy5fZm9udENoYW5nZWQobix0KTtpJiZ0aGlzLl91cGRhdGVGb250QXRsYXMobix0KTt2YXIgYT1pfHx0LmxpbmVIZWlnaHQhPT1uLmxpbmVIZWlnaHR8fHQud29yZEJyZWFrIT09bi53b3JkQnJlYWt8fHQubWF4V2lkdGghPT1uLm1heFdpZHRoOyhyLmRhdGFDaGFuZ2VkfHxyLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKHIudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8ci51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0VGV4dCkpJiZ0aGlzLl91cGRhdGVUZXh0KCksYSYmdGhpcy5zZXRTdGF0ZSh7c3R5bGVWZXJzaW9uOnRoaXMuc3RhdGUuc3R5bGVWZXJzaW9uKzF9KX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7digpKGYoKSh0LnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5zdGF0ZS5mb250QXRsYXNNYW5hZ2VyLmZpbmFsaXplKCl9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmZvO3JldHVybiBPYmplY3QuYXNzaWduKHQse29iamVjdDp0LmluZGV4Pj0wP3RoaXMucHJvcHMuZGF0YVt0LmluZGV4XTpudWxsfSl9fSx7a2V5OiJfdXBkYXRlRm9udEF0bGFzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQuY2hhcmFjdGVyU2V0LHI9dC5mb250U2V0dGluZ3MsaT10LmZvbnRGYW1pbHksYT10LmZvbnRXZWlnaHQ7dGhpcy5zdGF0ZS5mb250QXRsYXNNYW5hZ2VyLnNldFByb3BzKE9iamVjdC5hc3NpZ24oe30sZ2Uscix7Y2hhcmFjdGVyU2V0Om4sZm9udEZhbWlseTppLGZvbnRXZWlnaHQ6YX0pKSx0aGlzLnNldE5lZWRzUmVkcmF3KCEwKX19LHtrZXk6Il9mb250Q2hhbmdlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlLmZvbnRGYW1pbHkhPT10LmZvbnRGYW1pbHl8fGUuY2hhcmFjdGVyU2V0IT09dC5jaGFyYWN0ZXJTZXR8fGUuZm9udFdlaWdodCE9PXQuZm9udFdlaWdodClyZXR1cm4hMDtpZihlLmZvbnRTZXR0aW5ncz09PXQuZm9udFNldHRpbmdzKXJldHVybiExO3ZhciBuPWUuZm9udFNldHRpbmdzfHx7fSxyPXQuZm9udFNldHRpbmdzfHx7fTtyZXR1cm4gYmUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV0hPT1yW2VdfSkpfX0se2tleToiX3VwZGF0ZVRleHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLnByb3BzLmRhdGEsbj10LmF0dHJpYnV0ZXMmJnQuYXR0cmlidXRlcy5nZXRUZXh0LHI9dGhpcy5wcm9wcy5nZXRUZXh0LGk9dC5zdGFydEluZGljZXM7aWYobiYmaSl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZSxuPWUubGVuZ3RoLHI9ZS5zdHJpZGUsaT1lLm9mZnNldCxhPWUuc3RhcnRJbmRpY2VzLG89dC5CWVRFU19QRVJfRUxFTUVOVCxzPXI/ci9vOjEsdT1pP2kvbzowLGM9YVtuXXx8TWF0aC5mbG9vcigodC5sZW5ndGgtdS1vKS9zKSsxLGw9bmV3IEFycmF5KG4pLGg9dDtpZihzPjF8fHU+MCl7aD1uZXcgdC5jb25zdHJ1Y3RvcihjKTtmb3IodmFyIGY9MDtmPGM7ZisrKWhbZl09dFtmKnMrdV19Zm9yKHZhciBkPTA7ZDxuO2QrKyl7dmFyIHY9YVtkXSxwPWFbZCsxXXx8YztsW2RdPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxoLnN1YmFycmF5KHYscCkpfXJldHVybnt0ZXh0czpsLGNoYXJhY3RlckNvdW50OmN9fShmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wZShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe20oKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cGUoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LEFycmF5QnVmZmVyLmlzVmlldyhuKT97dmFsdWU6bn06bix7bGVuZ3RoOnQubGVuZ3RoLHN0YXJ0SW5kaWNlczppfSkpLG89YS50ZXh0cztlPWEuY2hhcmFjdGVyQ291bnQscj1mdW5jdGlvbihlLHQpe3ZhciBuPXQuaW5kZXg7cmV0dXJuIG9bbl19fWVsc2V7dmFyIHM9T2JqZWN0KEMuYSkodCksdT1zLml0ZXJhYmxlLGM9cy5vYmplY3RJbmZvO2k9WzBdLGU9MDt2YXIgbD0hMCxoPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIGQsdj11W1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWU7Yy5pbmRleCsrLGUrPShyKHAsYyl8fCIiKS5sZW5ndGgsaS5wdXNoKGUpfX1jYXRjaChlKXtoPSEwLGY9ZX1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19fXRoaXMuc2V0U3RhdGUoe2dldFRleHQ6cixzdGFydEluZGljZXM6aSxudW1JbnN0YW5jZXM6ZX0pfX0se2tleToiZ2V0SWNvbk9mZnNldHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zdGF0ZS5mb250QXRsYXNNYW5hZ2VyLm1hcHBpbmcscj10aGlzLnN0YXRlLmdldFRleHQsaT10aGlzLnByb3BzLGE9aS53b3JkQnJlYWssbz1pLm1heFdpZHRoLHM9aS5saW5lSGVpZ2h0LHU9aS5nZXRUZXh0QW5jaG9yLGM9aS5nZXRBbGlnbm1lbnRCYXNlbGluZSxsPXIoZSx0KXx8IiIsaD1mdW5jdGlvbihlLHQsbixyLGkpe2Zvcih2YXIgYT1uZXcgQXJyYXkoZS5sZW5ndGgpLG89KCJicmVhay13b3JkIj09PW58fCJicmVhay1hbGwiPT09bikmJmlzRmluaXRlKHIpJiZyPjAscz1bMCwwXSx1PTAsYz0wLGw9MDtsPD1lLmxlbmd0aDtsKyspe3ZhciBoPWVbbF0sZj12b2lkIDA7aWYoIlxuIiE9PWgmJnZvaWQgMCE9PWh8fChmPWUuc2xpY2UoYyxsKSksZil7dmFyIGQ9bz9hZShmLG4scixpKS5yb3dzOltmXSx2PSEwLHA9ITEsZz12b2lkIDA7dHJ5e2Zvcih2YXIgeSxtPWRbU3ltYm9sLml0ZXJhdG9yXSgpOyEodj0oeT1tLm5leHQoKSkuZG9uZSk7dj0hMCl7dmFyIGI9b2UoeS52YWx1ZSxpKSxfPWIucm93V2lkdGgsTz1iLnJvd0hlaWdodCx4PWIubGVmdE9mZnNldHMsdz0hMCxTPSExLGs9dm9pZCAwO3RyeXtmb3IodmFyIFAsaj14W1N5bWJvbC5pdGVyYXRvcl0oKTshKHc9KFA9ai5uZXh0KCkpLmRvbmUpO3c9ITApe3ZhciBUPVAudmFsdWU7YVtjKytdPXt4OlQseTp1K08vMixyb3dXaWR0aDpffX19Y2F0Y2goZSl7Uz0hMCxrPWV9ZmluYWxseXt0cnl7d3x8bnVsbD09ai5yZXR1cm58fGoucmV0dXJuKCl9ZmluYWxseXtpZihTKXRocm93IGt9fXUrPU8qdCxzWzBdPW8/cjpNYXRoLm1heChzWzBdLF8pfX1jYXRjaChlKXtwPSEwLGc9ZX1maW5hbGx5e3RyeXt2fHxudWxsPT1tLnJldHVybnx8bS5yZXR1cm4oKX1maW5hbGx5e2lmKHApdGhyb3cgZ319fSJcbiI9PT1oJiYoYVtjKytdPXt4OjAseTowLHJvd1dpZHRoOjB9KX1yZXR1cm4gc1sxXT11LHtjaGFyYWN0ZXJzOmEsc2l6ZTpzfX0obCxzLGEsbyxuKSxmPWguY2hhcmFjdGVycyxkPVEoKShoLnNpemUsMiksdj1kWzBdLHA9ZFsxXSxnPXllWyJmdW5jdGlvbiI9PXR5cGVvZiB1P3UoZSx0KTp1XSx5PW1lWyJmdW5jdGlvbiI9PXR5cGVvZiBjP2MoZSx0KTpjXSxtPW5ldyBBcnJheSgyKmwubGVuZ3RoKSxiPTAsXz0hMCxPPSExLHg9dm9pZCAwO3RyeXtmb3IodmFyIHcsUz1mW1N5bWJvbC5pdGVyYXRvcl0oKTshKF89KHc9Uy5uZXh0KCkpLmRvbmUpO189ITApe3ZhciBrPXcudmFsdWUsUD1rLnJvd1dpZHRoLGo9ay54LFQ9ay55LEU9KDEtZykqKHYtUCkvMjttW2IrK109KGctMSkqdi8yK0UraixtW2IrK109KHktMSkqcC8yK1R9fWNhdGNoKGUpe089ITAseD1lfWZpbmFsbHl7dHJ5e198fG51bGw9PVMucmV0dXJufHxTLnJldHVybigpfWZpbmFsbHl7aWYoTyl0aHJvdyB4fX1yZXR1cm4gbX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLHQ9ZS5zdGFydEluZGljZXMsbj1lLm51bUluc3RhbmNlcyxyPWUuZ2V0VGV4dCxpPWUuZm9udEF0bGFzTWFuYWdlcixhPWkuc2NhbGUsbz1pLnRleHR1cmUscz1pLm1hcHBpbmcsdT1lLnN0eWxlVmVyc2lvbixjPXRoaXMucHJvcHMsbD1jLmRhdGEsaD1jLl9kYXRhRGlmZixmPWMuYmFja2dyb3VuZENvbG9yLGQ9Yy5nZXRQb3NpdGlvbix2PWMuZ2V0Q29sb3IscD1jLmdldFNpemUsZz1jLmdldEFuZ2xlLHk9Yy5nZXRQaXhlbE9mZnNldCxtPWMuYmlsbGJvYXJkLGI9Yy5zZGYsXz1jLnNpemVTY2FsZSxPPWMuc2l6ZVVuaXRzLHg9Yy5zaXplTWluUGl4ZWxzLHc9Yy5zaXplTWF4UGl4ZWxzLFM9Yy50cmFuc2l0aW9ucyxrPWMudXBkYXRlVHJpZ2dlcnMsUD10aGlzLmdldEljb25PZmZzZXRzLmJpbmQodGhpcyk7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoImNoYXJhY3RlcnMiLGVlKSkoe3NkZjpiLGljb25BdGxhczpvLGljb25NYXBwaW5nOnMsYmFja2dyb3VuZENvbG9yOmYsZ2V0UG9zaXRpb246ZCxnZXRDb2xvcjp2LGdldFNpemU6cCxnZXRBbmdsZTpnLGdldFBpeGVsT2Zmc2V0OnksYmlsbGJvYXJkOm0sc2l6ZVNjYWxlOl8qYSxzaXplVW5pdHM6TyxzaXplTWluUGl4ZWxzOngqYSxzaXplTWF4UGl4ZWxzOncqYSx0cmFuc2l0aW9uczpTJiZ7Z2V0UG9zaXRpb246Uy5nZXRQb3NpdGlvbixnZXRBbmdsZTpTLmdldEFuZ2xlLGdldENvbG9yOlMuZ2V0Q29sb3IsZ2V0U2l6ZTpTLmdldFNpemUsZ2V0UGl4ZWxPZmZzZXQ6ay5nZXRQaXhlbE9mZnNldH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImNoYXJhY3RlcnMiLHVwZGF0ZVRyaWdnZXJzOntnZXRQb3NpdGlvbjprLmdldFBvc2l0aW9uLGdldEFuZ2xlOmsuZ2V0QW5nbGUsZ2V0Q29sb3I6ay5nZXRDb2xvcixnZXRTaXplOmsuZ2V0U2l6ZSxnZXRQaXhlbE9mZnNldDprLmdldFBpeGVsT2Zmc2V0LGdldEljb25PZmZzZXRzOntnZXRUZXh0OmsuZ2V0VGV4dCxnZXRUZXh0QW5jaG9yOmsuZ2V0VGV4dEFuY2hvcixnZXRBbGlnbm1lbnRCYXNlbGluZTprLmdldEFsaWdubWVudEJhc2VsaW5lLHN0eWxlVmVyc2lvbjp1fX19KSx7ZGF0YTpsLF9kYXRhRGlmZjpoLHN0YXJ0SW5kaWNlczp0LG51bUluc3RhbmNlczpuLGdldEljb25PZmZzZXRzOlAsZ2V0SWNvbjpyfSl9fV0pLHR9KEouYSk7T2UubGF5ZXJOYW1lPSJUZXh0TGF5ZXIiLE9lLmRlZmF1bHRQcm9wcz1fZTt2YXIgeGU9bigxMDkpO24uZCh0LCJBcmNMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKSxuLmQodCwiQml0bWFwTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBQfSkpLG4uZCh0LCJJY29uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZCh0LCJMaW5lTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBWLmF9KSksbi5kKHQsIlBvaW50Q2xvdWRMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEcuYX0pKSxuLmQodCwiU2NhdHRlcnBsb3RMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFcuYX0pKSxuLmQodCwiQ29sdW1uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBILmF9KSksbi5kKHQsIkdyaWRDZWxsTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBxLmF9KSksbi5kKHQsIlBhdGhMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFguYX0pKSxuLmQodCwiUG9seWdvbkxheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gWi5hfSkpLG4uZCh0LCJHZW9Kc29uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBZLmF9KSksbi5kKHQsIlRleHRMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9lfSkpLG4uZCh0LCJTb2xpZFBvbHlnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHhlLmF9KSksbi5kKHQsIl9NdWx0aUljb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGVlfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgcj1uKDI2KSxpPXtzZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZix3aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdyxnbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCxkb2N1bWVudDoidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudH0sYT1pLnNlbGZ8fGkud2luZG93fHxpLmdsb2JhbCxvPWkud2luZG93fHxpLnNlbGZ8fGkuZ2xvYmFsLHM9aS5nbG9iYWx8fGkuc2VsZnx8aS53aW5kb3csdT1pLmRvY3VtZW50fHx7fSxjPSJvYmplY3QiIT09KCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzcz8idW5kZWZpbmVkIjpPYmplY3Qoci5hKShwcm9jZXNzKSl8fCJbb2JqZWN0IHByb2Nlc3NdIiE9PVN0cmluZyhwcm9jZXNzKXx8cHJvY2Vzcy5icm93c2VyLGw9ImZ1bmN0aW9uIj09dHlwZW9mIGltcG9ydFNjcmlwdHMsaD0idW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MudmVyc2lvbiYmcHJvY2Vzcy52ZXJzaW9uLm1hdGNoKC92KFswLTldKikvKSxmPWgmJnBhcnNlRmxvYXQoaFsxXSl8fDB9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZnVuY3Rpb24oKXtyZXR1cm4hMH07cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/aShlLHQsW10pOnQoZSk/W2VdOltdfWZ1bmN0aW9uIGkoZSx0LG4pe2Zvcih2YXIgcj0tMTsrK3I8ZS5sZW5ndGg7KXt2YXIgYT1lW3JdO0FycmF5LmlzQXJyYXkoYSk/aShhLHQsbik6dChhKSYmbi5wdXNoKGEpfXJldHVybiBufWZ1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PWUudGFyZ2V0LG49ZS5zb3VyY2Uscj1lLnN0YXJ0LGk9dm9pZCAwPT09cj8wOnIsYT1lLmNvdW50LG89dm9pZCAwPT09YT8xOmEscz1uLmxlbmd0aCx1PW8qcyxjPTAsbD1pO2M8cztjKyspdFtsKytdPW5bY107Zm9yKDtjPHU7KWM8dS1jPyh0LmNvcHlXaXRoaW4oaStjLGksaStjKSxjKj0yKToodC5jb3B5V2l0aGluKGkrYyxpLGkrdS1jKSxjPXUpO3JldHVybiB0fW4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDI5KSxpPW4oMTEpO2Z1bmN0aW9uIGEoZSl7T2JqZWN0KHIuYSkoT2JqZWN0KGkuZikoZSksIkludmFsaWQgV2ViR0xSZW5kZXJpbmdDb250ZXh0Iil9ZnVuY3Rpb24gbyhlKXtPYmplY3Qoci5hKShPYmplY3QoaS5nKShlKSwiUmVxdWlyZXMgV2ViR0wyIil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDE1Niksdj1uKDEpLHA9WyJsb25naXR1ZGUiLCJsYXRpdHVkZSIsInpvb20iLCJiZWFyaW5nIiwicGl0Y2giXSxnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cDtyZXR1cm4gaSgpKHRoaXMsdCksdSgpKHRoaXMsbCgpKHQpLmNhbGwodGhpcyxlKSl9cmV0dXJuIGYoKSh0LGUpLG8oKSh0LFt7a2V5OiJpbnRlcnBvbGF0ZVByb3BzIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9e307Zm9yKHZhciBpIGluIHQpcltpXT1PYmplY3Qodi5tKShlW2ldLHRbaV0sbik7cmV0dXJuIHJ9fV0pLHR9KGQuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oNjYpLHU9big3NCksYz1mdW5jdGlvbigpe30sbD17QlJFQUs6MSxTTkFQX1RPX0VORDoyLElHTk9SRTozfSxoPXt0cmFuc2l0aW9uRHVyYXRpb246MCx0cmFuc2l0aW9uRWFzaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlfSx0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOm5ldyBzLmEsdHJhbnNpdGlvbkludGVycnVwdGlvbjpsLkJSRUFLLG9uVHJhbnNpdGlvblN0YXJ0OmMsb25UcmFuc2l0aW9uSW50ZXJydXB0OmMsb25UcmFuc2l0aW9uRW5kOmN9LGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpKCkodGhpcyxlKSx0aGlzLkNvbnRyb2xsZXJTdGF0ZT10LHRoaXMucHJvcHM9T2JqZWN0LmFzc2lnbih7fSxoLG4pLHRoaXMucHJvcHNJblRyYW5zaXRpb249bnVsbCx0aGlzLnRyYW5zaXRpb249bmV3IHUuYShuLnRpbWVsaW5lKSx0aGlzLm9uVmlld1N0YXRlQ2hhbmdlPW4ub25WaWV3U3RhdGVDaGFuZ2UsdGhpcy5fb25UcmFuc2l0aW9uVXBkYXRlPXRoaXMuX29uVHJhbnNpdGlvblVwZGF0ZS5iaW5kKHRoaXMpfXJldHVybiBvKCkoZSxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50cmFuc2l0aW9uLmNhbmNlbCgpfX0se2tleToiZ2V0Vmlld3BvcnRJblRyYW5zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHNJblRyYW5zaXRpb259fSx7a2V5OiJwcm9jZXNzVmlld1N0YXRlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hMSxuPXRoaXMucHJvcHM7aWYoZT1PYmplY3QuYXNzaWduKHt9LGgsZSksdGhpcy5wcm9wcz1lLHRoaXMuX3Nob3VsZElnbm9yZVZpZXdwb3J0Q2hhbmdlKG4sZSkpcmV0dXJuIHQ7aWYodGhpcy5faXNUcmFuc2l0aW9uRW5hYmxlZChlKSl7dmFyIHI9dGhpcy50cmFuc2l0aW9uLnNldHRpbmdzLGk9ci5pbnRlcnJ1cHRpb24sYT1yLmVuZFByb3BzLG89T2JqZWN0LmFzc2lnbih7fSxuLGk9PT1sLlNOQVBfVE9fRU5EP2E6dGhpcy5wcm9wc0luVHJhbnNpdGlvbnx8bik7dGhpcy5fdHJpZ2dlclRyYW5zaXRpb24obyxlKSx0PSEwfWVsc2UgdGhpcy50cmFuc2l0aW9uLmNhbmNlbCgpO3JldHVybiB0fX0se2tleToidXBkYXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb24udXBkYXRlKCl9fSx7a2V5OiJfaXNUcmFuc2l0aW9uRW5hYmxlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50cmFuc2l0aW9uRHVyYXRpb24sbj1lLnRyYW5zaXRpb25JbnRlcnBvbGF0b3I7cmV0dXJuKHQ+MHx8ImF1dG8iPT09dCkmJkJvb2xlYW4obil9fSx7a2V5OiJfaXNVcGRhdGVEdWVUb0N1cnJlbnRUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzJiZ0aGlzLnRyYW5zaXRpb24uc2V0dGluZ3MuaW50ZXJwb2xhdG9yLmFyZVByb3BzRXF1YWwoZSx0aGlzLnByb3BzSW5UcmFuc2l0aW9uKX19LHtrZXk6Il9zaG91bGRJZ25vcmVWaWV3cG9ydENoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy50cmFuc2l0aW9uLmluUHJvZ3Jlc3M/dGhpcy50cmFuc2l0aW9uLnNldHRpbmdzLmludGVycnVwdGlvbj09PWwuSUdOT1JFfHx0aGlzLl9pc1VwZGF0ZUR1ZVRvQ3VycmVudFRyYW5zaXRpb24odCk6IXRoaXMuX2lzVHJhbnNpdGlvbkVuYWJsZWQodCl8fHQudHJhbnNpdGlvbkludGVycG9sYXRvci5hcmVQcm9wc0VxdWFsKGUsdCl9fSx7a2V5OiJfdHJpZ2dlclRyYW5zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHRoaXMuQ29udHJvbGxlclN0YXRlKGUpLHI9bmV3IHRoaXMuQ29udHJvbGxlclN0YXRlKHQpLnNob3J0ZXN0UGF0aEZyb20obiksaT10LnRyYW5zaXRpb25JbnRlcnBvbGF0b3IsYT1pLmdldER1cmF0aW9uP2kuZ2V0RHVyYXRpb24oZSx0KTp0LnRyYW5zaXRpb25EdXJhdGlvbixvPXQudHJhbnNpdGlvbkludGVycG9sYXRvci5pbml0aWFsaXplUHJvcHMoZSxyKTt0aGlzLnByb3BzSW5UcmFuc2l0aW9uPXt9LHRoaXMuZHVyYXRpb249YSx0aGlzLnRyYW5zaXRpb24uc3RhcnQoe2R1cmF0aW9uOmEsZWFzaW5nOnQudHJhbnNpdGlvbkVhc2luZyxpbnRlcnBvbGF0b3I6dC50cmFuc2l0aW9uSW50ZXJwb2xhdG9yLGludGVycnVwdGlvbjp0LnRyYW5zaXRpb25JbnRlcnJ1cHRpb24sc3RhcnRQcm9wczpvLnN0YXJ0LGVuZFByb3BzOm8uZW5kLG9uU3RhcnQ6dC5vblRyYW5zaXRpb25TdGFydCxvblVwZGF0ZTp0aGlzLl9vblRyYW5zaXRpb25VcGRhdGUsb25JbnRlcnJ1cHQ6dGhpcy5fb25UcmFuc2l0aW9uRW5kKHQub25UcmFuc2l0aW9uSW50ZXJydXB0KSxvbkVuZDp0aGlzLl9vblRyYW5zaXRpb25FbmQodC5vblRyYW5zaXRpb25FbmQpfSksdGhpcy51cGRhdGVUcmFuc2l0aW9uKCl9fSx7a2V5OiJfb25UcmFuc2l0aW9uRW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihuKXt0LnByb3BzSW5UcmFuc2l0aW9uPW51bGwsZShuKX19fSx7a2V5OiJfb25UcmFuc2l0aW9uVXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRpbWUsbj1lLnNldHRpbmdzLHI9bi5pbnRlcnBvbGF0b3IsaT1uLnN0YXJ0UHJvcHMsYT1uLmVuZFByb3BzLG89bi5kdXJhdGlvbixzPSgwLG4uZWFzaW5nKSh0L28pLHU9ci5pbnRlcnBvbGF0ZVByb3BzKGksYSxzKTt0aGlzLnByb3BzSW5UcmFuc2l0aW9uPW5ldyB0aGlzLkNvbnRyb2xsZXJTdGF0ZShPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvcHMsdSkpLmdldFZpZXdwb3J0UHJvcHMoKSx0aGlzLm9uVmlld1N0YXRlQ2hhbmdlJiZ0aGlzLm9uVmlld1N0YXRlQ2hhbmdlKHt2aWV3U3RhdGU6dGhpcy5wcm9wc0luVHJhbnNpdGlvbixpbnRlcmFjdGlvblN0YXRlOntpblRyYW5zaXRpb246ITB9LG9sZFZpZXdTdGF0ZTp0aGlzLnByb3BzfSl9fV0pLGV9KCk7Zi5kZWZhdWx0UHJvcHM9aH0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1uKDY3KSx1PW4oMjMpLGM9bigzMCksbD17dHJhbnNpdGlvbkR1cmF0aW9uOjB9LGg9WyJ3aGVlbCJdLGY9WyJwYW5zdGFydCIsInBhbm1vdmUiLCJwYW5lbmQiXSxkPVsicGluY2hzdGFydCIsInBpbmNobW92ZSIsInBpbmNoZW5kIl0sdj1bImRvdWJsZXRhcCJdLHA9WyJrZXlkb3duIl0sZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2koKSh0aGlzLGUpLE9iamVjdChjLmEpKHQpLHRoaXMuQ29udHJvbGxlclN0YXRlPXQsdGhpcy5jb250cm9sbGVyU3RhdGU9bnVsbCx0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzPW51bGwsdGhpcy5ldmVudE1hbmFnZXI9bnVsbCx0aGlzLnRyYW5zaXRpb25NYW5hZ2VyPW5ldyBzLmIodCxuKSx0aGlzLl9ldmVudHM9bnVsbCx0aGlzLl9zdGF0ZT17aXNEcmFnZ2luZzohMX0sdGhpcy5fY3VzdG9tRXZlbnRzPVtdLHRoaXMub25WaWV3U3RhdGVDaGFuZ2U9bnVsbCx0aGlzLm9uU3RhdGVDaGFuZ2U9bnVsbCx0aGlzLmludmVydFBhbj0hMSx0aGlzLmhhbmRsZUV2ZW50PXRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzKSx0aGlzLnNldFByb3BzKG4pfXJldHVybiBvKCkoZSxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuX2V2ZW50cyl0aGlzLl9ldmVudHNbZV0mJnRoaXMuZXZlbnRNYW5hZ2VyLm9mZihlLHRoaXMuaGFuZGxlRXZlbnQpO3RoaXMudHJhbnNpdGlvbk1hbmFnZXIuZmluYWxpemUoKX19LHtrZXk6ImhhbmRsZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLkNvbnRyb2xsZXJTdGF0ZTtzd2l0Y2godGhpcy5jb250cm9sbGVyU3RhdGU9bmV3IHQoT2JqZWN0LmFzc2lnbih7fSx0aGlzLmNvbnRyb2xsZXJTdGF0ZVByb3BzLHRoaXMuX3N0YXRlKSksZS50eXBlKXtjYXNlInBhbnN0YXJ0IjpyZXR1cm4gdGhpcy5fb25QYW5TdGFydChlKTtjYXNlInBhbm1vdmUiOnJldHVybiB0aGlzLl9vblBhbihlKTtjYXNlInBhbmVuZCI6cmV0dXJuIHRoaXMuX29uUGFuRW5kKGUpO2Nhc2UicGluY2hzdGFydCI6cmV0dXJuIHRoaXMuX29uUGluY2hTdGFydChlKTtjYXNlInBpbmNobW92ZSI6cmV0dXJuIHRoaXMuX29uUGluY2goZSk7Y2FzZSJwaW5jaGVuZCI6cmV0dXJuIHRoaXMuX29uUGluY2hFbmQoZSk7Y2FzZSJkb3VibGV0YXAiOnJldHVybiB0aGlzLl9vbkRvdWJsZVRhcChlKTtjYXNlIndoZWVsIjpyZXR1cm4gdGhpcy5fb25XaGVlbChlKTtjYXNlImtleWRvd24iOnJldHVybiB0aGlzLl9vbktleURvd24oZSk7ZGVmYXVsdDpyZXR1cm4hMX19fSx7a2V5OiJnZXRDZW50ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29udHJvbGxlclN0YXRlUHJvcHMsbj10Lngscj10LnksaT1lLm9mZnNldENlbnRlcjtyZXR1cm5baS54LW4saS55LXJdfX0se2tleToiaXNQb2ludEluQm91bmRzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29udHJvbGxlclN0YXRlUHJvcHMscj1uLndpZHRoLGk9bi5oZWlnaHQ7aWYodCYmdC5oYW5kbGVkKXJldHVybiExO3ZhciBhPWVbMF0+PTAmJmVbMF08PXImJmVbMV0+PTAmJmVbMV08PWk7cmV0dXJuIGEmJnQmJnQuc3RvcFByb3BhZ2F0aW9uKCksYX19LHtrZXk6ImlzRnVuY3Rpb25LZXlQcmVzc2VkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNyY0V2ZW50O3JldHVybiBCb29sZWFuKHQubWV0YUtleXx8dC5hbHRLZXl8fHQuY3RybEtleXx8dC5zaGlmdEtleSl9fSx7a2V5OiJpc0RyYWdnaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZS5pc0RyYWdnaW5nfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpeyJvblZpZXdwb3J0Q2hhbmdlImluIGUmJnUuYS5yZW1vdmVkKCJvblZpZXdwb3J0Q2hhbmdlIikoKSwib25WaWV3U3RhdGVDaGFuZ2UiaW4gZSYmKHRoaXMub25WaWV3U3RhdGVDaGFuZ2U9ZS5vblZpZXdTdGF0ZUNoYW5nZSksIm9uU3RhdGVDaGFuZ2UiaW4gZSYmKHRoaXMub25TdGF0ZUNoYW5nZT1lLm9uU3RhdGVDaGFuZ2UpLHRoaXMuY29udHJvbGxlclN0YXRlUHJvcHM9ZSwiZXZlbnRNYW5hZ2VyImluIGUmJnRoaXMuZXZlbnRNYW5hZ2VyIT09ZS5ldmVudE1hbmFnZXImJih0aGlzLmV2ZW50TWFuYWdlcj1lLmV2ZW50TWFuYWdlcix0aGlzLl9ldmVudHM9e30sdGhpcy50b2dnbGVFdmVudHModGhpcy5fY3VzdG9tRXZlbnRzLCEwKSksdGhpcy50cmFuc2l0aW9uTWFuYWdlci5wcm9jZXNzVmlld1N0YXRlQ2hhbmdlKHRoaXMuY29udHJvbGxlclN0YXRlUHJvcHMpO3ZhciB0PWUuc2Nyb2xsWm9vbSxuPXZvaWQgMD09PXR8fHQscj1lLmRyYWdQYW4saT12b2lkIDA9PT1yfHxyLGE9ZS5kcmFnUm90YXRlLG89dm9pZCAwPT09YXx8YSxzPWUuZG91YmxlQ2xpY2tab29tLGM9dm9pZCAwPT09c3x8cyxsPWUudG91Y2hab29tLGc9dm9pZCAwPT09bHx8bCx5PWUudG91Y2hSb3RhdGUsbT12b2lkIDAhPT15JiZ5LGI9ZS5rZXlib2FyZCxfPXZvaWQgMD09PWJ8fGIsTz1Cb29sZWFuKHRoaXMub25WaWV3U3RhdGVDaGFuZ2UpO3RoaXMudG9nZ2xlRXZlbnRzKGgsTyYmbiksdGhpcy50b2dnbGVFdmVudHMoZixPJiYoaXx8bykpLHRoaXMudG9nZ2xlRXZlbnRzKGQsTyYmKGd8fG0pKSx0aGlzLnRvZ2dsZUV2ZW50cyh2LE8mJmMpLHRoaXMudG9nZ2xlRXZlbnRzKHAsTyYmXyksdGhpcy5zY3JvbGxab29tPW4sdGhpcy5kcmFnUGFuPWksdGhpcy5kcmFnUm90YXRlPW8sdGhpcy5kb3VibGVDbGlja1pvb209Yyx0aGlzLnRvdWNoWm9vbT1nLHRoaXMudG91Y2hSb3RhdGU9bSx0aGlzLmtleWJvYXJkPV99fSx7a2V5OiJ1cGRhdGVUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbk1hbmFnZXIudXBkYXRlVHJhbnNpdGlvbigpfX0se2tleToidG9nZ2xlRXZlbnRzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy5ldmVudE1hbmFnZXImJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5fZXZlbnRzW2VdIT09dCYmKG4uX2V2ZW50c1tlXT10LHQ/bi5ldmVudE1hbmFnZXIub24oZSxuLmhhbmRsZUV2ZW50KTpuLmV2ZW50TWFuYWdlci5vZmYoZSxuLmhhbmRsZUV2ZW50KSl9KSl9fSx7a2V5OiJ1cGRhdGVWaWV3cG9ydCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9T2JqZWN0LmFzc2lnbih7fSxlLmdldFZpZXdwb3J0UHJvcHMoKSx0KSxpPXRoaXMuY29udHJvbGxlclN0YXRlIT09ZTtpZihpKXt2YXIgYT10aGlzLmNvbnRyb2xsZXJTdGF0ZT90aGlzLmNvbnRyb2xsZXJTdGF0ZS5nZXRWaWV3cG9ydFByb3BzKCk6bnVsbDt0aGlzLm9uVmlld1N0YXRlQ2hhbmdlJiZ0aGlzLm9uVmlld1N0YXRlQ2hhbmdlKHt2aWV3U3RhdGU6cixpbnRlcmFjdGlvblN0YXRlOm4sb2xkVmlld1N0YXRlOmF9KX1PYmplY3QuYXNzaWduKHRoaXMuX3N0YXRlLGUuZ2V0SW50ZXJhY3RpdmVTdGF0ZSgpLG4pLHRoaXMub25TdGF0ZUNoYW5nZSYmdGhpcy5vblN0YXRlQ2hhbmdlKHRoaXMuX3N0YXRlKX19LHtrZXk6Il9vblBhblN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldENlbnRlcihlKTtpZighdGhpcy5pc1BvaW50SW5Cb3VuZHModCxlKSlyZXR1cm4hMTt2YXIgbj10aGlzLmNvbnRyb2xsZXJTdGF0ZS5wYW5TdGFydCh7cG9zOnR9KS5yb3RhdGVTdGFydCh7cG9zOnR9KTtyZXR1cm4gdGhpcy51cGRhdGVWaWV3cG9ydChuLGwse2lzRHJhZ2dpbmc6ITB9KSwhMH19LHtrZXk6Il9vblBhbiIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNEcmFnZ2luZygpKXJldHVybiExO3ZhciB0PXRoaXMuaXNGdW5jdGlvbktleVByZXNzZWQoZSl8fGUucmlnaHRCdXR0b247cmV0dXJuKHQ9dGhpcy5pbnZlcnRQYW4/IXQ6dCk/dGhpcy5fb25QYW5Nb3ZlKGUpOnRoaXMuX29uUGFuUm90YXRlKGUpfX0se2tleToiX29uUGFuRW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbnRyb2xsZXJTdGF0ZS5wYW5FbmQoKS5yb3RhdGVFbmQoKTtyZXR1cm4gdGhpcy51cGRhdGVWaWV3cG9ydCh0LG51bGwse2lzRHJhZ2dpbmc6ITEsaXNQYW5uaW5nOiExLGlzUm90YXRpbmc6ITF9KSwhMH19LHtrZXk6Il9vblBhbk1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmRyYWdQYW4pcmV0dXJuITE7dmFyIHQ9dGhpcy5nZXRDZW50ZXIoZSksbj10aGlzLmNvbnRyb2xsZXJTdGF0ZS5wYW4oe3Bvczp0fSk7cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQobixsLHtpc0RyYWdnaW5nOiEwLGlzUGFubmluZzohMH0pLCEwfX0se2tleToiX29uUGFuUm90YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5kcmFnUm90YXRlKXJldHVybiExO3ZhciB0PWUuZGVsdGFYLG49ZS5kZWx0YVkscj10aGlzLmNvbnRyb2xsZXJTdGF0ZS5nZXRWaWV3cG9ydFByb3BzKCksaT10L3Iud2lkdGgsYT1uL3IuaGVpZ2h0LG89dGhpcy5jb250cm9sbGVyU3RhdGUucm90YXRlKHtkZWx0YVNjYWxlWDppLGRlbHRhU2NhbGVZOmF9KTtyZXR1cm4gdGhpcy51cGRhdGVWaWV3cG9ydChvLGwse2lzRHJhZ2dpbmc6ITAsaXNSb3RhdGluZzohMH0pLCEwfX0se2tleToiX29uV2hlZWwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnNjcm9sbFpvb20pcmV0dXJuITE7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXRoaXMuZ2V0Q2VudGVyKGUpO2lmKCF0aGlzLmlzUG9pbnRJbkJvdW5kcyh0LGUpKXJldHVybiExO3ZhciBuPWUuZGVsdGEscj0yLygxK01hdGguZXhwKC1NYXRoLmFicyguMDEqbikpKTtuPDAmJjAhPT1yJiYocj0xL3IpO3ZhciBpPXRoaXMuY29udHJvbGxlclN0YXRlLnpvb20oe3Bvczp0LHNjYWxlOnJ9KTtyZXR1cm4gdGhpcy51cGRhdGVWaWV3cG9ydChpLGwse2lzWm9vbWluZzohMCxpc1Bhbm5pbmc6ITB9KSwhMH19LHtrZXk6Il9vblBpbmNoU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q2VudGVyKGUpO2lmKCF0aGlzLmlzUG9pbnRJbkJvdW5kcyh0LGUpKXJldHVybiExO3ZhciBuPXRoaXMuY29udHJvbGxlclN0YXRlLnpvb21TdGFydCh7cG9zOnR9KS5yb3RhdGVTdGFydCh7cG9zOnR9KTtyZXR1cm4gdGhpcy5fc3RhdGUuc3RhcnRQaW5jaFJvdGF0aW9uPWUucm90YXRpb24sdGhpcy51cGRhdGVWaWV3cG9ydChuLGwse2lzRHJhZ2dpbmc6ITB9KSwhMH19LHtrZXk6Il9vblBpbmNoIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy50b3VjaFpvb20mJiF0aGlzLnRvdWNoUm90YXRlKXJldHVybiExO2lmKCF0aGlzLmlzRHJhZ2dpbmcoKSlyZXR1cm4hMTt2YXIgdD10aGlzLmNvbnRyb2xsZXJTdGF0ZTtpZih0aGlzLnRvdWNoWm9vbSl7dmFyIG49ZS5zY2FsZSxyPXRoaXMuZ2V0Q2VudGVyKGUpO3Q9dC56b29tKHtwb3M6cixzY2FsZTpufSl9aWYodGhpcy50b3VjaFJvdGF0ZSl7dmFyIGk9ZS5yb3RhdGlvbixhPXRoaXMuX3N0YXRlLnN0YXJ0UGluY2hSb3RhdGlvbjt0PXQucm90YXRlKHtkZWx0YVNjYWxlWDotKGktYSkvMTgwfSl9cmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQodCxsLHtpc0RyYWdnaW5nOiEwLGlzUGFubmluZzp0aGlzLnRvdWNoWm9vbSxpc1pvb21pbmc6dGhpcy50b3VjaFpvb20saXNSb3RhdGluZzp0aGlzLnRvdWNoUm90YXRlfSksITB9fSx7a2V5OiJfb25QaW5jaEVuZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb250cm9sbGVyU3RhdGUuem9vbUVuZCgpLnJvdGF0ZUVuZCgpO3JldHVybiB0aGlzLl9zdGF0ZS5zdGFydFBpbmNoUm90YXRpb249MCx0aGlzLnVwZGF0ZVZpZXdwb3J0KHQsbnVsbCx7aXNEcmFnZ2luZzohMSxpc1Bhbm5pbmc6ITEsaXNab29taW5nOiExLGlzUm90YXRpbmc6ITF9KSwhMH19LHtrZXk6Il9vbkRvdWJsZVRhcCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZG91YmxlQ2xpY2tab29tKXJldHVybiExO3ZhciB0PXRoaXMuZ2V0Q2VudGVyKGUpO2lmKCF0aGlzLmlzUG9pbnRJbkJvdW5kcyh0LGUpKXJldHVybiExO3ZhciBuPXRoaXMuaXNGdW5jdGlvbktleVByZXNzZWQoZSkscj10aGlzLmNvbnRyb2xsZXJTdGF0ZS56b29tKHtwb3M6dCxzY2FsZTpuPy41OjJ9KTtyZXR1cm4gdGhpcy51cGRhdGVWaWV3cG9ydChyLHRoaXMuX2dldFRyYW5zaXRpb25Qcm9wcygpLHtpc1pvb21pbmc6ITAsaXNQYW5uaW5nOiEwfSksITB9fSx7a2V5OiJfb25LZXlEb3duIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5rZXlib2FyZClyZXR1cm4hMTt2YXIgdCxuPXRoaXMuaXNGdW5jdGlvbktleVByZXNzZWQoZSkscj10aGlzLmNvbnRyb2xsZXJTdGF0ZSxpPXt9O3N3aXRjaChlLnNyY0V2ZW50LmtleUNvZGUpe2Nhc2UgMTg5OnQ9bj9yLnpvb21PdXQoKS56b29tT3V0KCk6ci56b29tT3V0KCksaS5pc1pvb21pbmc9ITA7YnJlYWs7Y2FzZSAxODc6dD1uP3Iuem9vbUluKCkuem9vbUluKCk6ci56b29tSW4oKSxpLmlzWm9vbWluZz0hMDticmVhaztjYXNlIDM3Om4/KHQ9ci5yb3RhdGVMZWZ0KCksaS5pc1JvdGF0aW5nPSEwKToodD1yLm1vdmVMZWZ0KCksaS5pc1Bhbm5pbmc9ITApO2JyZWFrO2Nhc2UgMzk6bj8odD1yLnJvdGF0ZVJpZ2h0KCksaS5pc1JvdGF0aW5nPSEwKToodD1yLm1vdmVSaWdodCgpLGkuaXNQYW5uaW5nPSEwKTticmVhaztjYXNlIDM4Om4/KHQ9ci5yb3RhdGVVcCgpLGkuaXNSb3RhdGluZz0hMCk6KHQ9ci5tb3ZlVXAoKSxpLmlzUGFubmluZz0hMCk7YnJlYWs7Y2FzZSA0MDpuPyh0PXIucm90YXRlRG93bigpLGkuaXNSb3RhdGluZz0hMCk6KHQ9ci5tb3ZlRG93bigpLGkuaXNQYW5uaW5nPSEwKTticmVhaztkZWZhdWx0OnJldHVybiExfXJldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KHQsdGhpcy5fZ2V0VHJhbnNpdGlvblByb3BzKCksaSksITB9fSx7a2V5OiJfZ2V0VHJhbnNpdGlvblByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBsfX0se2tleToiZXZlbnRzIixzZXQ6ZnVuY3Rpb24oZSl7dGhpcy50b2dnbGVFdmVudHModGhpcy5fY3VzdG9tRXZlbnRzLCExKSx0aGlzLnRvZ2dsZUV2ZW50cyhlLCEwKSx0aGlzLl9jdXN0b21FdmVudHM9ZSx0aGlzLnNldFByb3BzKHRoaXMuY29udHJvbGxlclN0YXRlUHJvcHMpfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgcj1uKDI2KSxpPW4oMjcpLGE9bigxMDcpLG89big1Mykscz1uKDM1KSx1PS9cLihbXi5dKykkLyxjPS9eZGF0YTooLio/KSg7fCwpLztmdW5jdGlvbiBsKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiIixuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsLHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LHM9ci5ub3Rocm93LHU9dm9pZCAwIT09cyYmcztpZih0PXR8fCIiLGUmJiFBcnJheS5pc0FycmF5KGUpKXt2YXIgYz1lO3JldHVybiBPYmplY3Qoby5iKShjKSxjfWgoZT1bXS5jb25jYXQoT2JqZWN0KGkuYSkoZXx8W10pLE9iamVjdChpLmEpKE9iamVjdChhLmIpKCkpKSk7dmFyIGw9ZihlLHQ9dC5yZXBsYWNlKC9cPy4qLywiIikpO2lmKCEobD0obD1sfHx2KGUsbikpfHxwKGUsbikpKXtpZih1KXJldHVybiBudWxsO3ZhciBkPSJObyB2YWxpZCBsb2FkZXIgZm91bmQiO3Rocm93IG4mJihkKz0nIGZvciBkYXRhIHN0YXJ0aW5nIHdpdGggIicuY29uY2F0KG0obiksJyInKSksdCYmKGQrPSIgZm9yICIuY29uY2F0KHQpKSxuZXcgRXJyb3IoZCl9cmV0dXJuIGx9ZnVuY3Rpb24gaChlKXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBzPWkudmFsdWU7T2JqZWN0KG8uYikocyl9fWNhdGNoKGUpe249ITAscj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19ZnVuY3Rpb24gZihlLHQpe3ZhciBuPXQubWF0Y2goYykscj1uJiZuWzFdO2lmKHIpcmV0dXJuIGQoZSxyKTt2YXIgaT0obj10Lm1hdGNoKHUpKSYmblsxXTtyZXR1cm4gaSYmZnVuY3Rpb24oZSx0KXt0PXQudG9Mb3dlckNhc2UoKTt2YXIgbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWUsdT0hMCxjPSExLGw9dm9pZCAwO3RyeXtmb3IodmFyIGgsZj1zLmV4dGVuc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0oaD1mLm5leHQoKSkuZG9uZSk7dT0hMCl7aWYoaC52YWx1ZS50b0xvd2VyQ2FzZSgpPT09dClyZXR1cm4gc319Y2F0Y2goZSl7Yz0hMCxsPWV9ZmluYWxseXt0cnl7dXx8bnVsbD09Zi5yZXR1cm58fGYucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGx9fX19Y2F0Y2goZSl7cj0hMCxpPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiBudWxsfShlLGkpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWU7aWYocy5taW1lVHlwZXMmJnMubWltZVR5cGVzLmluY2x1ZGVzKHQpKXJldHVybiBzfX1jYXRjaChlKXtyPSEwLGk9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gdihlLHQpe3JldHVybiB0JiZPYmplY3Qocy5jKSh0KSYmdC5oZWFkZXJzP2QoZSx0LmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKSk6bnVsbH1mdW5jdGlvbiBwKGUsdCl7aWYoIXQpcmV0dXJuIG51bGw7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYoZyh0LHMpKXJldHVybiBzfWVsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXtpZih5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCxzKSlyZXR1cm4gc31lbHNlIGlmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7aWYoeSh0LDAscykpcmV0dXJuIHN9fX1jYXRjaChlKXtyPSEwLGk9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gZyhlLHQpe3JldHVybiB0LnRlc3RUZXh0JiZ0LnRlc3RUZXh0KGUpfWZ1bmN0aW9uIHkoZSx0LG4pe3N3aXRjaChBcnJheS5pc0FycmF5KG4udGVzdCk/ImFycmF5IjpPYmplY3Qoci5hKShuLnRlc3QpKXtjYXNlImZ1bmN0aW9uIjpyZXR1cm4gbi50ZXN0KGUsbik7Y2FzZSJzdHJpbmciOmNhc2UiYXJyYXkiOnJldHVybihBcnJheS5pc0FycmF5KG4udGVzdCk/bi50ZXN0OltuLnRlc3RdKS5zb21lKChmdW5jdGlvbihuKXtyZXR1cm4gbj09PWIoZSx0LG4ubGVuZ3RoKX0pKTtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBtKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1O2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZS5zbGljZSgwLHQpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhlKSlyZXR1cm4gYihlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsdCk7aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgbj0wO3JldHVybiBiKGUsbix0KX1yZXR1cm4iIn1mdW5jdGlvbiBiKGUsdCxuKXtpZihlLmJ5dGVMZW5ndGg8PXQrbilyZXR1cm4iIjtmb3IodmFyIHI9bmV3IERhdGFWaWV3KGUpLGk9IiIsYT0wO2E8bjthKyspaSs9U3RyaW5nLmZyb21DaGFyQ29kZShyLmdldFVpbnQ4KHQrYSkpO3JldHVybiBpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDM3KSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDMpLHU9bi5uKHMpLGM9big1MCksbD0vKFswLTldK1wuP1swLTldKikoJXxweCkvO2Z1bmN0aW9uIGgoZSl7c3dpdGNoKGkoKShlKSl7Y2FzZSJudW1iZXIiOnJldHVybntwb3NpdGlvbjplLHJlbGF0aXZlOiExfTtjYXNlInN0cmluZyI6dmFyIHQ9ZS5tYXRjaChsKTtpZih0JiZ0Lmxlbmd0aD49Myl7dmFyIG49IiUiPT09dFsyXSxyPXBhcnNlRmxvYXQodFsxXSk7cmV0dXJue3Bvc2l0aW9uOm4/ci8xMDA6cixyZWxhdGl2ZTpufX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IHBhcnNlIHBvc2l0aW9uIHN0cmluZyAiLmNvbmNhdChlKSl9fWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZS5yZWxhdGl2ZT9NYXRoLnJvdW5kKGUucG9zaXRpb24qdCk6ZS5wb3NpdGlvbn12YXIgZD1uKDczKSx2PW4oMzApO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bygpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/bnVsbDpuLGk9dC54LGE9dm9pZCAwPT09aT8wOmkscz10LnksdT12b2lkIDA9PT1zPzA6cyxsPXQud2lkdGgsaD12b2lkIDA9PT1sPyIxMDAlIjpsLGY9dC5oZWlnaHQsZD12b2lkIDA9PT1mPyIxMDAlIjpmLHA9dC5wcm9qZWN0aW9uTWF0cml4LGc9dm9pZCAwPT09cD9udWxsOnAseT10LmZvdnksbT12b2lkIDA9PT15PzUwOnksYj10Lm5lYXIsXz12b2lkIDA9PT1iPy4xOmIsTz10LmZhcix4PXZvaWQgMD09PU8/MWUzOk8sdz10Lm1vZGVsTWF0cml4LFM9dm9pZCAwPT09dz9udWxsOncsaz10LnZpZXdwb3J0SW5zdGFuY2UsUD12b2lkIDA9PT1rP251bGw6ayxqPXQudHlwZSxUPXZvaWQgMD09PWo/Yy5hOmo7T2JqZWN0KHYuYSkoIVB8fFAgaW5zdGFuY2VvZiBjLmEpLHRoaXMudmlld3BvcnRJbnN0YW5jZT1QLHRoaXMuaWQ9cnx8dGhpcy5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZXx8InZpZXciLHRoaXMudHlwZT1ULHRoaXMucHJvcHM9T2JqZWN0LmFzc2lnbih7fSx0LHtpZDp0aGlzLmlkLHByb2plY3Rpb25NYXRyaXg6Zyxmb3Z5Om0sbmVhcjpfLGZhcjp4LG1vZGVsTWF0cml4OlN9KSx0aGlzLl9wYXJzZURpbWVuc2lvbnMoe3g6YSx5OnUsd2lkdGg6aCxoZWlnaHQ6ZH0pLHRoaXMuZXF1YWxzPXRoaXMuZXF1YWxzLmJpbmQodGhpcyksT2JqZWN0LnNlYWwodGhpcyl9cmV0dXJuIHUoKShlLFt7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzPT09ZXx8KHRoaXMudmlld3BvcnRJbnN0YW5jZT9lLnZpZXdwb3J0SW5zdGFuY2UmJnRoaXMudmlld3BvcnRJbnN0YW5jZS5lcXVhbHMoZS52aWV3cG9ydEluc3RhbmNlKTpPYmplY3QoZC5hKSh0aGlzLnByb3BzLGUucHJvcHMpKX19LHtrZXk6Im1ha2VWaWV3cG9ydCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aWR0aCxuPWUuaGVpZ2h0LHI9ZS52aWV3U3RhdGU7aWYodGhpcy52aWV3cG9ydEluc3RhbmNlKXJldHVybiB0aGlzLnZpZXdwb3J0SW5zdGFuY2U7cj10aGlzLmZpbHRlclZpZXdTdGF0ZShyKTt2YXIgaT10aGlzLmdldERpbWVuc2lvbnMoe3dpZHRoOnQsaGVpZ2h0Om59KSxhPU9iamVjdC5hc3NpZ24oe3ZpZXdTdGF0ZTpyfSxyLHRoaXMucHJvcHMsaSk7cmV0dXJuIHRoaXMuX2dldFZpZXdwb3J0KGEpfX0se2tleToiZ2V0Vmlld1N0YXRlSWQiLHZhbHVlOmZ1bmN0aW9uKCl7c3dpdGNoKGkoKSh0aGlzLnByb3BzLnZpZXdTdGF0ZSkpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gdGhpcy5wcm9wcy52aWV3U3RhdGU7Y2FzZSJvYmplY3QiOnJldHVybiB0aGlzLnByb3BzLnZpZXdTdGF0ZSYmdGhpcy5wcm9wcy52aWV3U3RhdGUuaWQ7ZGVmYXVsdDpyZXR1cm4gdGhpcy5pZH19fSx7a2V5OiJmaWx0ZXJWaWV3U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJvcHMudmlld1N0YXRlJiYib2JqZWN0Ij09PWkoKSh0aGlzLnByb3BzLnZpZXdTdGF0ZSkpe2lmKCF0aGlzLnByb3BzLnZpZXdTdGF0ZS5pZClyZXR1cm4gdGhpcy5wcm9wcy52aWV3U3RhdGU7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxlKTtmb3IodmFyIG4gaW4gdGhpcy5wcm9wcy52aWV3U3RhdGUpImlkIiE9PW4mJih0W25dPXRoaXMucHJvcHMudmlld1N0YXRlW25dKTtyZXR1cm4gdH1yZXR1cm4gZX19LHtrZXk6ImdldERpbWVuc2lvbnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUud2lkdGgsbj1lLmhlaWdodDtyZXR1cm57eDpmKHRoaXMuX3gsdCkseTpmKHRoaXMuX3ksbiksd2lkdGg6Zih0aGlzLl93aWR0aCx0KSxoZWlnaHQ6Zih0aGlzLl9oZWlnaHQsbil9fX0se2tleToiX2dldENvbnRyb2xsZXJQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wcm9wcy5jb250cm9sbGVyO3JldHVybiB0PyEwPT09dD9lOigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHQ9e3R5cGU6dH0pLE9iamVjdC5hc3NpZ24oe30sZSx0KSk6bnVsbH19LHtrZXk6Il9nZXRWaWV3cG9ydCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldygwLHRoaXMudHlwZSkoZSl9fSx7a2V5OiJfcGFyc2VEaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLngsbj1lLnkscj1lLndpZHRoLGk9ZS5oZWlnaHQ7dGhpcy5feD1oKHQpLHRoaXMuX3k9aChuKSx0aGlzLl93aWR0aD1oKHIpLHRoaXMuX2hlaWdodD1oKGkpfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKTt2YXIgcj1uKDApLGk9bigyMSksYT1uKDUpLG89bigxNikscz1uKDM4KSx1PW4oMTUpLGM9big3NyksbD1uKDYpLGg9bigxNyksZj1uKDExKSxkPW4oNDgpLHY9bigxMTYpLHA9bigxMDQpLGc9bigxNjMpLHk9bigxNzcpLG09bigyNTQpLGI9big2NSksXz1uKDk1KSxPPW4oMjkpLHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KGEuYSkodGhpcyx0KSwobj1PYmplY3Qoby5hKSh0aGlzLE9iamVjdCh1LmEpKHQpLmNhbGwodGhpcyxlLHIpKSkud2lkdGg9bnVsbCxuLmhlaWdodD1udWxsLG4uYXR0YWNobWVudHM9e30sbi5yZWFkQnVmZmVyPTM2MDY0LG4uZHJhd0J1ZmZlcnM9WzM2MDY0XSxuLm93blJlc291cmNlcz1bXSxuLmluaXRpYWxpemUociksT2JqZWN0LnNlYWwoT2JqZWN0KHMuYSkobikpLG59cmV0dXJuIE9iamVjdChoLmEpKHQsZSksT2JqZWN0KGwuYSkodCxbe2tleToiTUFYX0NPTE9SX0FUVEFDSE1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5nZXRQYXJhbWV0ZXIodGhpcy5nbC5NQVhfQ09MT1JfQVRUQUNITUVOVFMpfX0se2tleToiTUFYX0RSQVdfQlVGRkVSUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZ2wuTUFYX0RSQVdfQlVGRkVSUyl9fV0sW3trZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LmNvbG9yQnVmZmVyRmxvYXQscj10LmNvbG9yQnVmZmVySGFsZkZsb2F0LGk9ITA7cmV0dXJuIG4mJihpPUJvb2xlYW4oZS5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKXx8ZS5nZXRFeHRlbnNpb24oIldFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdCIpfHxlLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXQiKSkpLHImJihpPWkmJkJvb2xlYW4oZS5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKXx8ZS5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCIpKSksaX19LHtrZXk6ImdldERlZmF1bHRGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubHVtYT1lLmx1bWF8fHt9LGUubHVtYS5kZWZhdWx0RnJhbWVidWZmZXI9ZS5sdW1hLmRlZmF1bHRGcmFtZWJ1ZmZlcnx8bmV3IHQoZSx7aWQ6ImRlZmF1bHQtZnJhbWVidWZmZXIiLGhhbmRsZTpudWxsLGF0dGFjaG1lbnRzOnt9fSksZS5sdW1hLmRlZmF1bHRGcmFtZWJ1ZmZlcn19XSksT2JqZWN0KGwuYSkodCxbe2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aWR0aCxuPXZvaWQgMD09PXQ/MTp0LHI9ZS5oZWlnaHQsaT12b2lkIDA9PT1yPzE6cixhPWUuYXR0YWNobWVudHMsbz12b2lkIDA9PT1hP251bGw6YSxzPWUuY29sb3IsdT12b2lkIDA9PT1zfHxzLGM9ZS5kZXB0aCxsPXZvaWQgMD09PWN8fGMsaD1lLnN0ZW5jaWwsZj12b2lkIDAhPT1oJiZoLGQ9ZS5jaGVjayx2PXZvaWQgMD09PWR8fGQscD1lLnJlYWRCdWZmZXIsZz1lLmRyYXdCdWZmZXJzO2lmKE9iamVjdChPLmEpKG4+PTAmJmk+PTAsIldpZHRoIGFuZCBoZWlnaHQgbmVlZCB0byBiZSBpbnRlZ2VycyIpLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1pLG8pZm9yKHZhciB5IGluIG8pe3ZhciBtPW9beV07KEFycmF5LmlzQXJyYXkobSk/bVswXTptKS5yZXNpemUoe3dpZHRoOm4saGVpZ2h0Oml9KX1lbHNlIG89dGhpcy5fY3JlYXRlRGVmYXVsdEF0dGFjaG1lbnRzKHUsbCxmLG4saSk7dGhpcy51cGRhdGUoe2NsZWFyQXR0YWNobWVudHM6ITAsYXR0YWNobWVudHM6byxyZWFkQnVmZmVyOnAsZHJhd0J1ZmZlcnM6Z30pLG8mJnYmJnRoaXMuY2hlY2tTdGF0dXMoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLm93blJlc291cmNlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShpPWEubmV4dCgpKS5kb25lKTtlPSEwKXtpLnZhbHVlLmRlbGV0ZSgpfX1jYXRjaChlKXtuPSEwLHI9ZX1maW5hbGx5e3RyeXtlfHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19T2JqZWN0KGMuYSkoT2JqZWN0KHUuYSkodC5wcm90b3R5cGUpLCJkZWxldGUiLHRoaXMpLmNhbGwodGhpcyl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0YWNobWVudHMsbj12b2lkIDA9PT10P3t9OnQscj1lLnJlYWRCdWZmZXIsaT1lLmRyYXdCdWZmZXJzLGE9ZS5jbGVhckF0dGFjaG1lbnRzLG89dm9pZCAwIT09YSYmYSxzPWUucmVzaXplQXR0YWNobWVudHMsdT12b2lkIDA9PT1zfHxzO3RoaXMuYXR0YWNoKG4se2NsZWFyQXR0YWNobWVudHM6byxyZXNpemVBdHRhY2htZW50czp1fSk7dmFyIGM9dGhpcy5nbCxsPWMuYmluZEZyYW1lYnVmZmVyKDM2MTYwLHRoaXMuaGFuZGxlKTtyZXR1cm4gciYmdGhpcy5fc2V0UmVhZEJ1ZmZlcihyKSxpJiZ0aGlzLl9zZXREcmF3QnVmZmVycyhpKSxjLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxsfHxudWxsKSx0aGlzfX0se2tleToicmVzaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUud2lkdGgsbj1lLmhlaWdodDtpZihudWxsPT09dGhpcy5oYW5kbGUpcmV0dXJuIE9iamVjdChPLmEpKHZvaWQgMD09PXQmJnZvaWQgMD09PW4pLHRoaXMud2lkdGg9dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5nbC5kcmF3aW5nQnVmZmVySGVpZ2h0LHRoaXM7Zm9yKHZhciByIGluIHZvaWQgMD09PXQmJih0PXRoaXMuZ2wuZHJhd2luZ0J1ZmZlcldpZHRoKSx2b2lkIDA9PT1uJiYobj10aGlzLmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQpLHQhPT10aGlzLndpZHRoJiZuIT09dGhpcy5oZWlnaHQmJmYuaC5sb2coMiwiUmVzaXppbmcgZnJhbWVidWZmZXIgIi5jb25jYXQodGhpcy5pZCwiIHRvICIpLmNvbmNhdCh0LCJ4IikuY29uY2F0KG4pKSgpLHRoaXMuYXR0YWNobWVudHMpdGhpcy5hdHRhY2htZW50c1tyXS5yZXNpemUoe3dpZHRoOnQsaGVpZ2h0Om59KTtyZXR1cm4gdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PW4sdGhpc319LHtrZXk6ImF0dGFjaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW4uY2xlYXJBdHRhY2htZW50cyxhPXZvaWQgMCE9PXImJnIsbz1uLnJlc2l6ZUF0dGFjaG1lbnRzLHM9dm9pZCAwPT09b3x8byx1PXt9O2EmJk9iamVjdC5rZXlzKHRoaXMuYXR0YWNobWVudHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3VbZV09bnVsbH0pKSxPYmplY3QuYXNzaWduKHUsZSk7dmFyIGM9dGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdGhpcy5oYW5kbGUpO2Zvcih2YXIgbCBpbiB1KXtPYmplY3QoTy5hKSh2b2lkIDAhPT1sLCJNaXNzcGVsbGVkIGZyYW1lYnVmZmVyIGJpbmRpbmcgcG9pbnQ/Iik7dmFyIGg9TnVtYmVyKGwpLGY9dVtoXSxkPWY7aWYoZClpZihkIGluc3RhbmNlb2YgcC5hKXRoaXMuX2F0dGFjaFJlbmRlcmJ1ZmZlcih7YXR0YWNobWVudDpoLHJlbmRlcmJ1ZmZlcjpkfSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGYpKXt2YXIgdj1PYmplY3QoaS5hKShmLDMpLGc9dlswXSx5PXZbMV0sbT12b2lkIDA9PT15PzA6eSxiPXZbMl0sXz12b2lkIDA9PT1iPzA6YjtkPWcsdGhpcy5fYXR0YWNoVGV4dHVyZSh7YXR0YWNobWVudDpoLHRleHR1cmU6ZyxsYXllcjptLGxldmVsOl99KX1lbHNlIHRoaXMuX2F0dGFjaFRleHR1cmUoe2F0dGFjaG1lbnQ6aCx0ZXh0dXJlOmQsbGF5ZXI6MCxsZXZlbDowfSk7ZWxzZSB0aGlzLl91bmF0dGFjaChoKTtzJiZkJiZkLnJlc2l6ZSh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9KX10aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxjfHxudWxsKSxPYmplY3QuYXNzaWduKHRoaXMuYXR0YWNobWVudHMsZSksT2JqZWN0LmtleXModGhpcy5hdHRhY2htZW50cykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hdC5hdHRhY2htZW50c1tlXX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtkZWxldGUgdC5hdHRhY2htZW50c1tlXX0pKX19LHtrZXk6ImNoZWNrU3RhdHVzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2w7dmFyIGU9dGhpcy5nZXRTdGF0dXMoKTtpZigzNjA1MyE9PWUpdGhyb3cgbmV3IEVycm9yKHcoZSkpO3JldHVybiB0aGlzfX0se2tleToiZ2V0U3RhdHVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wsdD1lLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0aGlzLmhhbmRsZSksbj1lLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoMzYxNjApO3JldHVybiBlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0fHxudWxsKSxufX0se2tleToiY2xlYXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5jb2xvcixuPWUuZGVwdGgscj1lLnN0ZW5jaWwsaT1lLmRyYXdCdWZmZXJzLGE9dm9pZCAwPT09aT9bXTppLG89dGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdGhpcy5oYW5kbGUpO3JldHVybih0fHxufHxyKSYmT2JqZWN0KGcuYSkodGhpcy5nbCx7Y29sb3I6dCxkZXB0aDpuLHN0ZW5jaWw6cn0pLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtPYmplY3QoZy5iKSh7ZHJhd0J1ZmZlcjp0LHZhbHVlOmV9KX0pKSx0aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxvfHxudWxsKSx0aGlzfX0se2tleToicmVhZFBpeGVscyIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmLmguZXJyb3IoIkZyYW1lYnVmZmVyLnJlYWRQaXhlbHMoKSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgcmVhZFBpeGVsc1RvQXJyYXkoZnJhbWVidWZmZXIpIikoKSxudWxsfX0se2tleToicmVhZFBpeGVsc1RvQnVmZmVyIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIGYuaC5lcnJvcigiRnJhbWVidWZmZXIucmVhZFBpeGVsc1RvQnVmZmVyKClpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgcmVhZFBpeGVsc1RvQnVmZmVyKGZyYW1lYnVmZmVyKSIpKCksbnVsbH19LHtrZXk6ImNvcHlUb0RhdGFVcmwiLHZhbHVlOmZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZi5oLmVycm9yKCJGcmFtZWJ1ZmZlci5jb3B5VG9EYXRhVXJsKCkgaXMgbm8gbG9nbmVyIHN1cHBvcnRlZCwgdXNlIGNvcHlUb0RhdGFVcmwoZnJhbWVidWZmZXIpIikoKSxudWxsfX0se2tleToiY29weVRvSW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZi5oLmVycm9yKCJGcmFtZWJ1ZmZlci5jb3B5VG9JbWFnZSgpIGlzIG5vIGxvZ25lciBzdXBwb3J0ZWQsIHVzZSBjb3B5VG9JbWFnZShmcmFtZWJ1ZmZlcikiKSgpLG51bGx9fSx7a2V5OiJjb3B5VG9UZXh0dXJlIix2YWx1ZTpmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIGYuaC5lcnJvcigiRnJhbWVidWZmZXIuY29weVRvVGV4dHVyZSh7Li4ufSkgaXMgbm8gbG9nbmVyIHN1cHBvcnRlZCwgdXNlIGNvcHlUb1RleHR1cmUoc291cmNlLCB0YXJnZXQsIG9wdHN9KSIpKCksbnVsbH19LHtrZXk6ImJsaXQiLHZhbHVlOmZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZi5oLmVycm9yKCJGcmFtZWJ1ZmZlci5ibGl0KHsuLi59KSBpcyBubyBsb2duZXIgc3VwcG9ydGVkLCB1c2UgYmxpdChzb3VyY2UsIHRhcmdldCwgb3B0cykiKSgpLG51bGx9fSx7a2V5OiJpbnZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmF0dGFjaG1lbnRzLG49dm9pZCAwPT09dD9bXTp0LHI9ZS54LGk9dm9pZCAwPT09cj8wOnIsYT1lLnksbz12b2lkIDA9PT1hPzA6YSxzPWUud2lkdGgsdT1lLmhlaWdodCxjPXRoaXMuZ2w7T2JqZWN0KGIuYSkoYyk7dmFyIGw9Yy5iaW5kRnJhbWVidWZmZXIoMzYwMDgsdGhpcy5oYW5kbGUpO3JldHVybiAwPT09aSYmMD09PW8mJnZvaWQgMD09PXMmJnZvaWQgMD09PXU/Yy5pbnZhbGlkYXRlRnJhbWVidWZmZXIoMzYwMDgsbik6Yy5pbnZhbGlkYXRlRnJhbWVidWZmZXIoMzYwMDgsbixpLG8scyx1KSxjLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCxsKSx0aGlzfX0se2tleToiZ2V0QXR0YWNobWVudFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2dldEF0dGFjaG1lbnRQYXJhbWV0ZXJGYWxsYmFjayh0KTtyZXR1cm4gbnVsbD09PXImJih0aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCx0aGlzLmhhbmRsZSkscj10aGlzLmdsLmdldEZyYW1lYnVmZmVyQXR0YWNobWVudFBhcmFtZXRlcigzNjE2MCxlLHQpLHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpKSxuJiZyPjFlMyYmKHI9T2JqZWN0KF8uYSkodGhpcy5nbCxyKSkscn19LHtrZXk6ImdldEF0dGFjaG1lbnRQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozNjA2NCx0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuY29uc3RydWN0b3IuQVRUQUNITUVOVF9QQVJBTUVURVJTfHxbXSxyPXt9LGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9bltTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlLGw9dD9PYmplY3QoXy5hKSh0aGlzLmdsLGMpOmM7cltsXT10aGlzLmdldEF0dGFjaG1lbnRQYXJhbWV0ZXIoZSxjLHQpfX1jYXRjaChlKXthPSEwLG89ZX1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319cmV0dXJuIHJ9fSx7a2V5OiJnZXRQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdLHQ9T2JqZWN0LmtleXModGhpcy5hdHRhY2htZW50cyksbj17fSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgYT1pW3JdLG89TnVtYmVyKGEpLHM9ZT9PYmplY3QoXy5hKSh0aGlzLmdsLG8pOm87bltzXT10aGlzLmdldEF0dGFjaG1lbnRQYXJhbWV0ZXJzKG8sZSl9cmV0dXJuIG59fSx7a2V5OiJzaG93Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cub3BlbihPYmplY3QoeS5hKSh0aGlzKSwibHVtYS1kZWJ1Zy10ZXh0dXJlIiksdGhpc319LHtrZXk6ImxvZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiIjtpZihlPmYuaC5sZXZlbHx8InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHRoaXM7dD10fHwiRnJhbWVidWZmZXIgIi5jb25jYXQodGhpcy5pZCk7dmFyIG49T2JqZWN0KHkuYSkodGhpcyx7bWF4SGVpZ2h0OjEwMH0pO3JldHVybiBmLmguaW1hZ2Uoe2xvZ0xldmVsOmUsbWVzc2FnZTp0LGltYWdlOm59LHQpKCksdGhpc319LHtrZXk6ImJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS50YXJnZXQsbj12b2lkIDA9PT10PzM2MTYwOnQ7cmV0dXJuIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKG4sdGhpcy5oYW5kbGUpLHRoaXN9fSx7a2V5OiJ1bmJpbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS50YXJnZXQsbj12b2lkIDA9PT10PzM2MTYwOnQ7cmV0dXJuIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKG4sbnVsbCksdGhpc319LHtrZXk6Il9jcmVhdGVEZWZhdWx0QXR0YWNobWVudHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksYSl7dmFyIG8scz1udWxsO2UmJigocz1zfHx7fSlbMzYwNjRdPW5ldyB2LmEodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi1jb2xvcjAiKSxwaXhlbHM6bnVsbCxmb3JtYXQ6NjQwOCx0eXBlOjUxMjEsd2lkdGg6aSxoZWlnaHQ6YSxtaXBtYXBzOiExLHBhcmFtZXRlcnM6KG89e30sT2JqZWN0KHIuYSkobywxMDI0MSw5NzI5KSxPYmplY3Qoci5hKShvLDEwMjQwLDk3MjkpLE9iamVjdChyLmEpKG8sMTAyNDIsMzMwNzEpLE9iamVjdChyLmEpKG8sMTAyNDMsMzMwNzEpLG8pfSksdGhpcy5vd25SZXNvdXJjZXMucHVzaChzWzM2MDY0XSkpO3JldHVybiB0JiZuPygocz1zfHx7fSlbMzMzMDZdPW5ldyBwLmEodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi1kZXB0aC1zdGVuY2lsIiksZm9ybWF0OjM1MDU2LHdpZHRoOmksaGVpZ2h0OjExMX0pLHRoaXMub3duUmVzb3VyY2VzLnB1c2goc1szMzMwNl0pKTp0Pygocz1zfHx7fSlbMzYwOTZdPW5ldyBwLmEodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi1kZXB0aCIpLGZvcm1hdDozMzE4OSx3aWR0aDppLGhlaWdodDphfSksdGhpcy5vd25SZXNvdXJjZXMucHVzaChzWzM2MDk2XSkpOm4mJk9iamVjdChPLmEpKCExKSxzfX0se2tleToiX3VuYXR0YWNoIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmF0dGFjaG1lbnRzW2VdO3QmJih0IGluc3RhbmNlb2YgcC5hP3RoaXMuZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsZSwzNjE2MSxudWxsKTp0aGlzLmdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLGUsMzU1MyxudWxsLDApLGRlbGV0ZSB0aGlzLmF0dGFjaG1lbnRzW2VdKX19LHtrZXk6Il9hdHRhY2hSZW5kZXJidWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0YWNobWVudCxuPXZvaWQgMD09PXQ/MzYwNjQ6dCxyPWUucmVuZGVyYnVmZmVyO3RoaXMuZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsbiwzNjE2MSxyLmhhbmRsZSksdGhpcy5hdHRhY2htZW50c1tuXT1yfX0se2tleToiX2F0dGFjaFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0YWNobWVudCxuPXZvaWQgMD09PXQ/MzYwNjQ6dCxyPWUudGV4dHVyZSxpPWUubGF5ZXIsYT1lLmxldmVsLG89dGhpcy5nbDtzd2l0Y2goby5iaW5kVGV4dHVyZShyLnRhcmdldCxyLmhhbmRsZSksci50YXJnZXQpe2Nhc2UgMzU4NjY6Y2FzZSAzMjg3OTpvLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKDM2MTYwLG4sci50YXJnZXQsYSxpKTticmVhaztjYXNlIDM0MDY3OnZhciBzPWZ1bmN0aW9uKGUpe3JldHVybiBlPDM0MDY5P2UrMzQwNjk6ZX0oaSk7by5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCxuLHMsci5oYW5kbGUsYSk7YnJlYWs7Y2FzZSAzNTUzOm8uZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsbiwzNTUzLHIuaGFuZGxlLGEpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KE8uYSkoITEsIklsbGVnYWwgdGV4dHVyZSB0eXBlIil9by5iaW5kVGV4dHVyZShyLnRhcmdldCxudWxsKSx0aGlzLmF0dGFjaG1lbnRzW25dPXJ9fSx7a2V5OiJfc2V0UmVhZEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nbDtPYmplY3QoZi5nKSh0KT90LnJlYWRCdWZmZXIoZSk6T2JqZWN0KE8uYSkoMzYwNjQ9PT1lfHwxMDI5PT09ZSwiTXVsdGlwbGUgcmVuZGVyIHRhcmdldHMgbm90IHN1cHBvcnRlZCIpLHRoaXMucmVhZEJ1ZmZlcj1lfX0se2tleToiX3NldERyYXdCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdsO2lmKE9iamVjdChmLmcpKHQpKXQuZHJhd0J1ZmZlcnMoZSk7ZWxzZXt2YXIgbj10LmdldEV4dGVuc2lvbigiV0VCR0wuZHJhd19idWZmZXJzIik7bj9uLmRyYXdCdWZmZXJzV0VCR0woZSk6T2JqZWN0KE8uYSkoMT09PWUubGVuZ3RoJiYoMzYwNjQ9PT1lWzBdfHwxMDI5PT09ZVswXSksIk11bHRpcGxlIHJlbmRlciB0YXJnZXRzIG5vdCBzdXBwb3J0ZWQiKX10aGlzLmRyYXdCdWZmZXJzPWV9fSx7a2V5OiJfZ2V0QXR0YWNobWVudFBhcmFtZXRlckZhbGxiYWNrIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QobS5hKSh0aGlzLmdsKTtzd2l0Y2goZSl7Y2FzZSAzNjA1MjpyZXR1cm4gdC5XRUJHTDI/bnVsbDowO2Nhc2UgMzMyOTg6Y2FzZSAzMzI5OTpjYXNlIDMzMzAwOmNhc2UgMzMzMDE6Y2FzZSAzMzMwMjpjYXNlIDMzMzAzOnJldHVybiB0LldFQkdMMj9udWxsOjg7Y2FzZSAzMzI5NzpyZXR1cm4gdC5XRUJHTDI/bnVsbDo1MTI1O2Nhc2UgMzMyOTY6cmV0dXJuIHQuV0VCR0wyfHx0LkVYVF9zUkdCP251bGw6OTcyOTtkZWZhdWx0OnJldHVybiBudWxsfX19LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlRnJhbWVidWZmZXIoKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmhhbmRsZSl9fSx7a2V5OiJfYmluZEhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGUpfX0se2tleToiY29sb3IiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaG1lbnRzWzM2MDY0XXx8bnVsbH19LHtrZXk6InRleHR1cmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaG1lbnRzWzM2MDY0XXx8bnVsbH19LHtrZXk6ImRlcHRoIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2htZW50c1szNjA5Nl18fHRoaXMuYXR0YWNobWVudHNbMzMzMDZdfHxudWxsfX0se2tleToic3RlbmNpbCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNobWVudHNbMzYxMjhdfHx0aGlzLmF0dGFjaG1lbnRzWzMzMzA2XXx8bnVsbH19XSksdH0oZC5hKTtmdW5jdGlvbiB3KGUpe3JldHVybih4LlNUQVRVU3x8e30pW2VdfHwiRnJhbWVidWZmZXIgZXJyb3IgIi5jb25jYXQoZSl9eC5BVFRBQ0hNRU5UX1BBUkFNRVRFUlM9WzM2MDQ5LDM2MDQ4LDMzMjk2LDMzMjk4LDMzMjk5LDMzMzAwLDMzMzAxLDMzMzAyLDMzMzAzXX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJtYXRoLmdsIGFzc2VydGlvbiAiLmNvbmNhdCh0KSl9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtpZihlPT09dClyZXR1cm4hMDtpZighZXx8IXQpcmV0dXJuITE7Zm9yKHZhciBuIGluIGUpe3ZhciBpPWVbbl0sYT10W25dO2lmKCEoaT09PWF8fEFycmF5LmlzQXJyYXkoaSkmJkFycmF5LmlzQXJyYXkoYSkmJnIoaSxhKSkpcmV0dXJuITF9cmV0dXJuITB9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKTtmdW5jdGlvbiBzKCl7fXZhciB1PXtvblN0YXJ0OnMsb25VcGRhdGU6cyxvbkludGVycnVwdDpzLG9uRW5kOnN9LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2koKSh0aGlzLGUpLHRoaXMuX2luUHJvZ3Jlc3M9ITEsdGhpcy5faGFuZGxlPW51bGwsdGhpcy50aW1lbGluZT10LHRoaXMuc2V0dGluZ3M9e319cmV0dXJuIG8oKShlLFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYW5jZWwoKSx0aGlzLnNldHRpbmdzPU9iamVjdC5hc3NpZ24oe30sdSxlKSx0aGlzLl9pblByb2dyZXNzPSEwO3ZhciB0PXRoaXMudGltZWxpbmUsbj10aGlzLnNldHRpbmdzO3RoaXMuX2hhbmRsZT10LmFkZENoYW5uZWwoe2RlbGF5OnQuZ2V0VGltZSgpLGR1cmF0aW9uOm4uZHVyYXRpb259KSxuLm9uU3RhcnQodGhpcyl9fSx7a2V5OiJlbmQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW5Qcm9ncmVzcyYmKHRoaXMudGltZWxpbmUucmVtb3ZlQ2hhbm5lbCh0aGlzLl9oYW5kbGUpLHRoaXMuX2hhbmRsZT1udWxsLHRoaXMuX2luUHJvZ3Jlc3M9ITEsdGhpcy5zZXR0aW5ncy5vbkVuZCh0aGlzKSl9fSx7a2V5OiJjYW5jZWwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW5Qcm9ncmVzcyYmKHRoaXMuc2V0dGluZ3Mub25JbnRlcnJ1cHQodGhpcyksdGhpcy50aW1lbGluZS5yZW1vdmVDaGFubmVsKHRoaXMuX2hhbmRsZSksdGhpcy5faGFuZGxlPW51bGwsdGhpcy5faW5Qcm9ncmVzcz0hMSl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9pblByb2dyZXNzJiYodGhpcy50aW1lPXRoaXMudGltZWxpbmUuZ2V0VGltZSh0aGlzLl9oYW5kbGUpLHRoaXMuX29uVXBkYXRlKCksdGhpcy5zZXR0aW5ncy5vblVwZGF0ZSh0aGlzKSx0aGlzLnRpbWVsaW5lLmlzRmluaXNoZWQodGhpcy5faGFuZGxlKSYmdGhpcy5lbmQoKSwhMCl9fSx7a2V5OiJfb25VcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiaW5Qcm9ncmVzcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luUHJvZ3Jlc3N9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigwKSxpPW4oMjYpLGE9big1KSxvPW4oNikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtPYmplY3QoYS5hKSh0aGlzLGUpfXJldHVybiBPYmplY3Qoby5hKShlLFt7a2V5OiJsb2ciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe319fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt9fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7fX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt9fX1dKSxlfSgpLHU9e0NETjoiaHR0cHM6Ly91bnBrZy5jb20vQGxvYWRlcnMuZ2wiLHdvcmtlcjohMCxsb2c6bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe09iamVjdChhLmEpKHRoaXMsZSksdGhpcy5jb25zb2xlPWNvbnNvbGV9cmV0dXJuIE9iamVjdChvLmEpKGUsW3trZXk6ImxvZyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybihlPXRoaXMuY29uc29sZS5sb2cpLmJpbmQuYXBwbHkoZSxbdGhpcy5jb25zb2xlXS5jb25jYXQobikpfX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybihlPXRoaXMuY29uc29sZS5pbmZvKS5iaW5kLmFwcGx5KGUsW3RoaXMuY29uc29sZV0uY29uY2F0KG4pKX19LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyluW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4oZT10aGlzLmNvbnNvbGUud2FybikuYmluZC5hcHBseShlLFt0aGlzLmNvbnNvbGVdLmNvbmNhdChuKSl9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybihlPXRoaXMuY29uc29sZS5lcnJvcikuYmluZC5hcHBseShlLFt0aGlzLmNvbnNvbGVdLmNvbmNhdChuKSl9fV0pLGV9KCkpLGRhdGFUeXBlOiJhcnJheWJ1ZmZlciJ9O2Z1bmN0aW9uIGMoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChyLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpjKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfW4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJvYmplY3QiPT09T2JqZWN0KGkuYSkoZSkmJmUuY29uc3RydWN0b3I9PT17fS5jb25zdHJ1Y3Rvcn0sZj1sKHt9LHUpO2Z1bmN0aW9uIGQoZSl7Zj12KGYsZSl9ZnVuY3Rpb24gdihlLHQsbil7dmFyIHI9bCh7fSxlJiYoZS5ERUZBVUxUX0xPQURFUl9PUFRJT05TfHxlLmRlZmF1bHRPcHRpb25zfHxlLm9wdGlvbnN8fHt9KSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7IXR8fCJiYXNlVXJpImluIGV8fChlLmJhc2VVcmk9dCl9KHIsbiksbnVsbD09PXIubG9nJiYoci5sb2c9bmV3IHMpLHAocixmKSxwKHIsdCkscn1mdW5jdGlvbiBwKGUsdCl7Zm9yKHZhciBuIGluIHQpaWYobiBpbiB0KXt2YXIgcj10W25dO2gocikmJmgoZVtuXSk/ZVtuXT1sKHt9LGVbbl0se30sdFtuXSk6ZVtuXT10W25dfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big4KSxpPW4ubihyKSxhPW4oMTMpLG89bigzNSkscz1uKDkzKSx1PW4oOTcpLGM9bigxNTcpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYodC5vayl7ZS5uZXh0PTEyO2JyZWFrfXJldHVybiBuPSJmZXRjaCBmYWlsZWQgIi5jb25jYXQodC5zdGF0dXMsIiAiKSxlLnByZXY9MixlLm5leHQ9NSx0LnRleHQoKTtjYXNlIDU6cj1lLnNlbnQsbis9cixlLm5leHQ9MTE7YnJlYWs7Y2FzZSA5OmUucHJldj05LGUudDA9ZS5jYXRjaCgyKTtjYXNlIDExOnRocm93IG5ldyBFcnJvcihuKTtjYXNlIDEyOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSxudWxsLFtbMiw5XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfW4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIGY9IkNhbm5vdCBjb252ZXJ0IHN1cHBsaWVkIGRhdGEgdHlwZSI7ZnVuY3Rpb24gZChlLHQpe3JldHVybiBPYmplY3Qoby5jKShlKT90PXR8fGUudXJsOk9iamVjdChvLmQpKHQpJiYodD10Lm5hbWUpLCJzdHJpbmciPT10eXBlb2YgdD90LnJlcGxhY2UoL1w/LiovLCIiKTp0fWZ1bmN0aW9uIHYoZSx0KXtpZih0LnRleHQmJiJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZTtpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhciBuPWU7cmV0dXJuIHQudGV4dCYmIXQuYmluYXJ5P25ldyBUZXh0RGVjb2RlcigidXRmOCIpLmRlY29kZShuKTpufWlmKEFycmF5QnVmZmVyLmlzVmlldyhlKXx8T2JqZWN0KG8uYikoZSkpe2lmKHQudGV4dCYmIXQuYmluYXJ5KXJldHVybiBuZXcgVGV4dERlY29kZXIoInV0ZjgiKS5kZWNvZGUoZSk7dmFyIHI9ZS5idWZmZXIsaT1lLmJ5dGVMZW5ndGh8fGUubGVuZ3RoO3JldHVybiAwPT09ZS5ieXRlT2Zmc2V0JiZpPT09ci5ieXRlTGVuZ3RofHwocj1yLnNsaWNlKGUuYnl0ZU9mZnNldCxlLmJ5dGVPZmZzZXQraSkpLHJ9dGhyb3cgbmV3IEVycm9yKGYpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZygpe3JldHVybihnPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKHQsbil7dmFyIHIsYTtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0O2Nhc2UgMjppZih0PWUuc2VudCxyPXQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpLCJzdHJpbmciIT10eXBlb2YgdCYmIXIpe2UubmV4dD02O2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIix2KHQsbikpO2Nhc2UgNjppZighT2JqZWN0KG8uZCkodCkpe2UubmV4dD0xMDticmVha31yZXR1cm4gZS5uZXh0PTksT2JqZWN0KGMuYSkodCk7Y2FzZSA5OnQ9ZS5zZW50O2Nhc2UgMTA6aWYoIU9iamVjdChvLmMpKHQpKXtlLm5leHQ9MjQ7YnJlYWt9cmV0dXJuIGE9dCxlLm5leHQ9MTQsbChhKTtjYXNlIDE0OmlmKCFuLmJpbmFyeSl7ZS5uZXh0PTIwO2JyZWFrfXJldHVybiBlLm5leHQ9MTcsYS5hcnJheUJ1ZmZlcigpO2Nhc2UgMTc6ZS50MD1lLnNlbnQsZS5uZXh0PTIzO2JyZWFrO2Nhc2UgMjA6cmV0dXJuIGUubmV4dD0yMixhLnRleHQoKTtjYXNlIDIyOmUudDA9ZS5zZW50O2Nhc2UgMjM6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUudDApO2Nhc2UgMjQ6aWYoT2JqZWN0KG8uaCkodCkmJih0PU9iamVjdChzLmEpKHQpKSwhT2JqZWN0KG8uZSkodCkmJiFPYmplY3Qoby5hKSh0KSl7ZS5uZXh0PTI3O2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIixPYmplY3QodS5hKSh0KSk7Y2FzZSAyNzp0aHJvdyBuZXcgRXJyb3IoZik7Y2FzZSAyODpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIE9iamVjdChvLmYpKGUpP2U6T2JqZWN0KG8uYykoZSkmJmUuYm9keT8oZnVuY3Rpb24oZSl7aWYoIWUub2spdGhyb3cgbmV3IEVycm9yKCJmZXRjaCBmYWlsZWQgIi5jb25jYXQoZS5zdGF0dXMpKX0oZSksT2JqZWN0KHMuYSkoZS5ib2R5KSk6T2JqZWN0KG8uaCkoZSk/T2JqZWN0KHMuYSkoZSk6T2JqZWN0KG8uYSkoZSk/ZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTptKGUpfWZ1bmN0aW9uIG0oZSl7aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpcmV0dXJuIGkuYS5tYXJrKChmdW5jdGlvbiB0KCl7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsZS5idWZmZXJ8fGU7Y2FzZSAyOmNhc2UiZW5kIjpyZXR1cm4gdC5zdG9wKCl9fSksdCl9KSkoKTtpZihPYmplY3Qoby5mKShlKSlyZXR1cm4gZTtpZihPYmplY3Qoby5lKShlKSlyZXR1cm4gZVtTeW1ib2wuaXRlcmF0b3JdKCk7dGhyb3cgbmV3IEVycm9yKGYpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KTtmdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4oaT0idW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1mdW5jdGlvbihlLHQpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiZudWxsIT09KGU9T2JqZWN0KHIuYSkoZSkpOyk7cmV0dXJuIGV9KGUsdCk7aWYoaSl7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpO3JldHVybiBhLmdldD9hLmdldC5jYWxsKG4pOmEudmFsdWV9fSkoZSx0LG58fGUpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxuKXt2YXIgcj10WzBdLGk9dFsxXSxhPW5bM10qcituWzddKml8fDE7cmV0dXJuIGVbMF09KG5bMF0qcituWzRdKmkpL2EsZVsxXT0oblsxXSpyK25bNV0qaSkvYSxlfWZ1bmN0aW9uIGkoZSx0LG4pe3ZhciByPXRbMF0saT10WzFdLGE9dFsyXSxvPW5bM10qcituWzddKmkrblsxMV0qYXx8MTtyZXR1cm4gZVswXT0oblswXSpyK25bNF0qaStuWzhdKmEpL28sZVsxXT0oblsxXSpyK25bNV0qaStuWzldKmEpL28sZVsyXT0oblsyXSpyK25bNl0qaStuWzEwXSphKS9vLGV9ZnVuY3Rpb24gYShlLHQsbil7dmFyIHI9dFswXSxpPXRbMV07cmV0dXJuIGVbMF09blswXSpyK25bMl0qaSxlWzFdPW5bMV0qcituWzNdKmksZVsyXT10WzJdLGV9ZnVuY3Rpb24gbyhlLHQsbil7dmFyIHI9dFswXSxpPXRbMV0sYT10WzJdO3JldHVybiBlWzBdPW5bMF0qcituWzNdKmkrbls2XSphLGVbMV09blsxXSpyK25bNF0qaStuWzddKmEsZVsyXT1uWzJdKnIrbls1XSppK25bOF0qYSxlWzNdPXRbM10sZX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDI3KSxpPW4oMCksYT1uKDgyKTtmdW5jdGlvbiBvKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBzKGUsdCxuKXtyZXR1cm4gbnx8KGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/byhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChpLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpvKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfSh7ZmV0Y2g6ZS5mZXRjaHx8YS5hfSxlKSxBcnJheS5pc0FycmF5KGUubG9hZGVycyl8fChlLmxvYWRlcnM9bnVsbCksZSl9ZnVuY3Rpb24gdShlLHQpe2lmKCF0JiYhQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTt2YXIgbjtpZihlJiYobj1BcnJheS5pc0FycmF5KGUpP2U6W2VdKSx0JiZ0LmxvYWRlcnMpe3ZhciBpPUFycmF5LmlzQXJyYXkodC5sb2FkZXJzKT90LmxvYWRlcnM6W3QubG9hZGVyc107bj1uP1tdLmNvbmNhdChPYmplY3Qoci5hKShuKSxPYmplY3Qoci5hKShpKSk6aX1yZXR1cm4gbiYmbi5sZW5ndGg/bjpudWxsfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPSJ2cyIsaT0iZnMifSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24ucih0KTt2YXIgcj1uKDgyKSxpPW4oMTA2KSxhPW4oNjMpLG89bigxNzUpLHM9big4NSksdT17ZGF0YVR5cGU6ImFycmF5YnVmZmVyIixub3Rocm93OiEwfTtmdW5jdGlvbiBjKGUsdCl7cmV0dXJuIHQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuKGU9T2JqZWN0LmFzc2lnbih7fSx1LGUpKS5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGV8fGUuZGF0YVR5cGUsZX0odCksZS5zdGFydHNXaXRoKCJkYXRhOiIpLHQubm90aHJvd3x8T2JqZWN0KHMuYSkoITEpLG51bGx9ZnVuY3Rpb24gbChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGU9T2JqZWN0KGkuYikoZSksIWEuYyYmby5yZWFkRmlsZVN5bmM/by5yZWFkRmlsZVN5bmMoZSx0KTpjKGUsdCl9dmFyIGg9bigxMzIpO2Z1bmN0aW9uIGYoZSx0LG4pe3JldHVybiBlPU9iamVjdChpLmIpKGUpLCFhLmMmJmgud3JpdGVGaWxlP2gud3JpdGVGaWxlKGUsdCxuKTpPYmplY3Qocy5hKSghMSl9ZnVuY3Rpb24gZChlLHQsbil7cmV0dXJuIGU9T2JqZWN0KGkuYikoZSksIWEuYyYmaC53cml0ZUZpbGVTeW5jP2gud3JpdGVGaWxlU3luYyhlLHQsbik6T2JqZWN0KHMuYSkoITEpfXZhciB2PW4oNzUpO2Z1bmN0aW9uIHAoZSl7T2JqZWN0KHYuYikoZSl9dmFyIGc9bigxMDcpLHk9bigxNDcpLG09big2OSksYj1uKDUzKSxfPW4oNzYpLE89big3OSk7ZnVuY3Rpb24geChlLHQsbixyKXtBcnJheS5pc0FycmF5KHQpfHxPYmplY3QoYi5hKSh0KXx8KHI9bixuPXQsdD1udWxsKTt2YXIgaT0iIjsic3RyaW5nIj09dHlwZW9mIHImJihpPXIscj1udWxsKSxuPW58fHt9O3ZhciBhPU9iamVjdChPLmIpKHQsciksbz1PYmplY3QobS5hKShhLGksZSk7cmV0dXJuIG8/ZnVuY3Rpb24oZSx0LG4scil7aWYodD1PYmplY3QoXy5iKSh0LGUpLGUucGFyc2VUZXh0U3luYyYmInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBlLnBhcnNlVGV4dFN5bmModCxuLHIsZSk7aWYoZS5wYXJzZVN5bmMpcmV0dXJuIGUucGFyc2VTeW5jKHQsbixyLGUpO3Rocm93IG5ldyBFcnJvcigiIi5jb25jYXQoZS5uYW1lLCIgbG9hZGVyOiAncGFyc2VTeW5jJyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgbG9hZGVyLCB1c2UgJ3BhcnNlJyBpbnN0ZWFkLiAiKS5jb25jYXQoci51cmx8fCIiKSl9KG8sZSxuPU9iamVjdCh2LmEpKG8sbixpKSxyPU9iamVjdChPLmEpKHt1cmw6aSxwYXJzZVN5bmM6eCxsb2FkZXJzOnR9LG4pKTpudWxsfXZhciB3PW4oOCksUz1uLm4odyksaz1uKDEzKSxQPW4oNDkpLGo9big5NCksVD1uKDEwMyk7ZnVuY3Rpb24gRShlLHQpe3JldHVybiBBLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBBKCl7cmV0dXJuKEE9T2JqZWN0KGsuYSkoUy5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuKXt2YXIgcixpLGE7cmV0dXJuIFMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTMsdC5uZXh0KCk7Y2FzZSAzOmlmKHI9ZS5zZW50LGk9ci5kb25lLGE9ci52YWx1ZSwhaSl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIHQucmV0dXJuKCksZS5hYnJ1cHQoInJldHVybiIpO2Nhc2UgOTppZighbihhKSl7ZS5uZXh0PTEyO2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIik7Y2FzZSAxMjplLm5leHQ9MDticmVhaztjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTShlLHQpe3JldHVybiBDLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBDKCl7cmV0dXJuKEM9T2JqZWN0KGouYSkoUy5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuKXt2YXIgcixpLGEsbyxzLHUsYyxsO3JldHVybiBTLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cj1uZXcgVGV4dERlY29kZXIobiksaT0hMCxhPSExLGUucHJldj0zLHM9T2JqZWN0KFQuYSkodCk7Y2FzZSA1OnJldHVybiBlLm5leHQ9NyxPYmplY3QoUC5hKShzLm5leHQoKSk7Y2FzZSA3OnJldHVybiB1PWUuc2VudCxpPXUuZG9uZSxlLm5leHQ9MTEsT2JqZWN0KFAuYSkodS52YWx1ZSk7Y2FzZSAxMTppZihjPWUuc2VudCxpKXtlLm5leHQ9MTk7YnJlYWt9cmV0dXJuIGw9YyxlLm5leHQ9MTYsInN0cmluZyI9PXR5cGVvZiBsP2w6ci5kZWNvZGUobCx7c3RyZWFtOiEwfSk7Y2FzZSAxNjppPSEwLGUubmV4dD01O2JyZWFrO2Nhc2UgMTk6ZS5uZXh0PTI1O2JyZWFrO2Nhc2UgMjE6ZS5wcmV2PTIxLGUudDA9ZS5jYXRjaCgzKSxhPSEwLG89ZS50MDtjYXNlIDI1OmlmKGUucHJldj0yNSxlLnByZXY9MjYsaXx8bnVsbD09cy5yZXR1cm4pe2UubmV4dD0zMDticmVha31yZXR1cm4gZS5uZXh0PTMwLE9iamVjdChQLmEpKHMucmV0dXJuKCkpO2Nhc2UgMzA6aWYoZS5wcmV2PTMwLCFhKXtlLm5leHQ9MzM7YnJlYWt9dGhyb3cgbztjYXNlIDMzOnJldHVybiBlLmZpbmlzaCgzMCk7Y2FzZSAzNDpyZXR1cm4gZS5maW5pc2goMjUpO2Nhc2UgMzU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1szLDIxLDI1LDM1XSxbMjYsLDMwLDM0XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEwoZSl7cmV0dXJuIEkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEkoKXtyZXR1cm4oST1PYmplY3Qoai5hKShTLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHMsdSxjLGw7cmV0dXJuIFMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpuPSIiLHI9ITAsaT0hMSxlLnByZXY9MyxvPU9iamVjdChULmEpKHQpO2Nhc2UgNTpyZXR1cm4gZS5uZXh0PTcsT2JqZWN0KFAuYSkoby5uZXh0KCkpO2Nhc2UgNzpyZXR1cm4gcz1lLnNlbnQscj1zLmRvbmUsZS5uZXh0PTExLE9iamVjdChQLmEpKHMudmFsdWUpO2Nhc2UgMTE6aWYodT1lLnNlbnQscil7ZS5uZXh0PTI2O2JyZWFrfW4rPXUsYz12b2lkIDA7Y2FzZSAxNjppZighKChjPW4uaW5kZXhPZigiXG4iKSk+PTApKXtlLm5leHQ9MjM7YnJlYWt9cmV0dXJuIGw9bi5zbGljZSgwLGMrMSksbj1uLnNsaWNlKGMrMSksZS5uZXh0PTIxLGw7Y2FzZSAyMTplLm5leHQ9MTY7YnJlYWs7Y2FzZSAyMzpyPSEwLGUubmV4dD01O2JyZWFrO2Nhc2UgMjY6ZS5uZXh0PTMyO2JyZWFrO2Nhc2UgMjg6ZS5wcmV2PTI4LGUudDA9ZS5jYXRjaCgzKSxpPSEwLGE9ZS50MDtjYXNlIDMyOmlmKGUucHJldj0zMixlLnByZXY9MzMscnx8bnVsbD09by5yZXR1cm4pe2UubmV4dD0zNzticmVha31yZXR1cm4gZS5uZXh0PTM3LE9iamVjdChQLmEpKG8ucmV0dXJuKCkpO2Nhc2UgMzc6aWYoZS5wcmV2PTM3LCFpKXtlLm5leHQ9NDA7YnJlYWt9dGhyb3cgYTtjYXNlIDQwOnJldHVybiBlLmZpbmlzaCgzNyk7Y2FzZSA0MTpyZXR1cm4gZS5maW5pc2goMzIpO2Nhc2UgNDI6aWYoIShuLmxlbmd0aD4wKSl7ZS5uZXh0PTQ1O2JyZWFrfXJldHVybiBlLm5leHQ9NDUsbjtjYXNlIDQ1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSxudWxsLFtbMywyOCwzMiw0Ml0sWzMzLCwzNyw0MV1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBSKGUpe3JldHVybiBELmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBEKCl7cmV0dXJuKEQ9T2JqZWN0KGouYSkoUy5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLGEsbyxzLHUsYztyZXR1cm4gUy5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOm49MSxyPSEwLGk9ITEsZS5wcmV2PTMsbz1PYmplY3QoVC5hKSh0KTtjYXNlIDU6cmV0dXJuIGUubmV4dD03LE9iamVjdChQLmEpKG8ubmV4dCgpKTtjYXNlIDc6cmV0dXJuIHM9ZS5zZW50LHI9cy5kb25lLGUubmV4dD0xMSxPYmplY3QoUC5hKShzLnZhbHVlKTtjYXNlIDExOmlmKHU9ZS5zZW50LHIpe2UubmV4dD0yMDticmVha31yZXR1cm4gYz11LGUubmV4dD0xNix7Y291bnRlcjpuLGxpbmU6Y307Y2FzZSAxNjpuKys7Y2FzZSAxNzpyPSEwLGUubmV4dD01O2JyZWFrO2Nhc2UgMjA6ZS5uZXh0PTI2O2JyZWFrO2Nhc2UgMjI6ZS5wcmV2PTIyLGUudDA9ZS5jYXRjaCgzKSxpPSEwLGE9ZS50MDtjYXNlIDI2OmlmKGUucHJldj0yNixlLnByZXY9Mjcscnx8bnVsbD09by5yZXR1cm4pe2UubmV4dD0zMTticmVha31yZXR1cm4gZS5uZXh0PTMxLE9iamVjdChQLmEpKG8ucmV0dXJuKCkpO2Nhc2UgMzE6aWYoZS5wcmV2PTMxLCFpKXtlLm5leHQ9MzQ7YnJlYWt9dGhyb3cgYTtjYXNlIDM0OnJldHVybiBlLmZpbmlzaCgzMSk7Y2FzZSAzNTpyZXR1cm4gZS5maW5pc2goMjYpO2Nhc2UgMzY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1szLDIyLDI2LDM2XSxbMjcsLDMxLDM1XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEYoZSx0LG4scil7cmV0dXJuIE4uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIE4oKXtyZXR1cm4oTj1PYmplY3Qoay5hKShTLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixpKXt2YXIgYSxvO3JldHVybiBTLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIEFycmF5LmlzQXJyYXkobil8fE9iamVjdChiLmEpKG4pfHwoaT1yLHI9bixuPW51bGwpLGE9T2JqZWN0KG0uYSkobixpLG51bGwpLHI9T2JqZWN0KHYuYSkoYSxyLGkpLG89T2JqZWN0KE8uYSkoe3VybDppLGxvYWRlcnM6bn0sciksZS5hYnJ1cHQoInJldHVybiIseihhLHQscixvKSk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geihlLHQsbixyKXtpZihlLnBhcnNlSW5CYXRjaGVzKXt2YXIgaT1PYmplY3QoXy5jKSh0KTtyZXR1cm4gZS50ZXh0JiYoaT1NKGkpKSxlLnBhcnNlSW5CYXRjaGVzKGksbixyLGUpfXRocm93IG5ldyBFcnJvcigicGFyc2VXaXRoTG9hZGVySW5CYXRjaGVzU3luYyBub3QgYXZhaWxhYmxlIil9ZnVuY3Rpb24gQihlLHQsbixyKXtyZXR1cm4gVS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gVSgpe3JldHVybihVPU9iamVjdChrLmEpKFMuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyLGkpe3ZhciBhLG87cmV0dXJuIFMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gQXJyYXkuaXNBcnJheShuKXx8T2JqZWN0KGIuYSkobil8fChpPXIscj1uLG49bnVsbCksYT1PYmplY3QobS5hKShuLGksbnVsbCkscj1PYmplY3Qodi5hKShhLHIpLG89T2JqZWN0KE8uYSkoe3VybDppLGxvYWRlcnM6bn0sciksZS5hYnJ1cHQoInJldHVybiIsVihhLHQscixvKSk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gVihlLHQsbixyKXtpZihlLnBhcnNlSW5CYXRjaGVzU3luYyl7dmFyIGk9T2JqZWN0KF8uZCkodCk7cmV0dXJuIGUucGFyc2VJbkJhdGNoZXNTeW5jKGksbixyLGUpfXRocm93IG5ldyBFcnJvcigicGFyc2VXaXRoTG9hZGVySW5CYXRjaGVzU3luYyBub3QgYXZhaWxhYmxlIil9dmFyIEc9bigxODYpO2Z1bmN0aW9uIFcoZSx0LG4pe3JldHVybiBILmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBIKCl7cmV0dXJuKEg9T2JqZWN0KGsuYSkoUy5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLGkpe3ZhciBhO3JldHVybiBTLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLE9iamVjdChyLmEpKHQsaSk7Y2FzZSAyOnJldHVybiBhPWUuc2VudCxlLmFicnVwdCgicmV0dXJuIixGKGEsbixpLHQpKTtjYXNlIDQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBxKGUsdCxuLHIpe3JldHVybiBYLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBYKCl7cmV0dXJuKFg9T2JqZWN0KGsuYSkoUy5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLHIsaSl7cmV0dXJuIFMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighbi5lbmNvZGUpe2UubmV4dD00O2JyZWFrfXJldHVybiBlLm5leHQ9MyxuLmVuY29kZSh0LHIpO2Nhc2UgMzpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDQ6aWYoIW4uZW5jb2RlU3luYyl7ZS5uZXh0PTY7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLG4uZW5jb2RlU3luYyh0LHIpKTtjYXNlIDY6dGhyb3cgbmV3IEVycm9yKCJXcml0ZXIgY291bGQgbm90IGVuY29kZSBkYXRhIik7Y2FzZSA3OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWihlLHQsbixyKXtpZih0LmVuY29kZVN5bmMpcmV0dXJuIHQuZW5jb2RlU3luYyhlLG4pO3Rocm93IG5ldyBFcnJvcigiV3JpdGVyIGNvdWxkIG5vdCBzeW5jaHJvbm91c2x5IGVuY29kZSBkYXRhIil9ZnVuY3Rpb24gWShlLHQsbixyKXtpZih0LmVuY29kZUluQmF0Y2hlcylyZXR1cm4gdC5lbmNvZGVJbkJhdGNoZXMoZSxuKTt0aHJvdyBuZXcgRXJyb3IoIldyaXRlciBjb3VsZCBub3QgZW5jb2RlIGRhdGEgaW4gYmF0Y2hlcyIpfWZ1bmN0aW9uIEsoZSx0LG4scil7cmV0dXJuIGYodCxxKGUsbixyLHQpKX1mdW5jdGlvbiBRKGUsdCxuLHIpe3JldHVybiBkKHQsWihlLG4scikpfXZhciBKPW4oMzUpLCQ9bigxNDEpLGVlPW4oOTMpLHRlPW4oOTcpLG5lPW4oMTQ4KSxyZT1uKDEyNSksaWU9bigxNDApO2Z1bmN0aW9uIGFlKGUsdCl7cmV0dXJuIG9lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBvZSgpe3JldHVybihvZT1PYmplY3Qoay5hKShTLmEubWFyaygoZnVuY3Rpb24gZSh0LG4pe3ZhciByLGksYSxvLHMsdT1hcmd1bWVudHM7cmV0dXJuIFMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gcj11Lmxlbmd0aD4yJiZ2b2lkIDAhPT11WzJdP3VbMl06ZnVuY3Rpb24oKXt9LGk9dS5sZW5ndGg+MyYmdm9pZCAwIT09dVszXT91WzNdOmZ1bmN0aW9uKCl7fSxlLm5leHQ9NCx0O2Nhc2UgNDppZigodD1lLnNlbnQpLm9rKXtlLm5leHQ9NzticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdCk7Y2FzZSA3OmlmKHQuYm9keSl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgOTppZihhPXQuaGVhZGVycy5nZXQoImNvbnRlbnQtbGVuZ3RoIiksbz1hJiZwYXJzZUludChhLDEwKSxhPjApe2UubmV4dD0xMzticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdCk7Y2FzZSAxMzppZigidW5kZWZpbmVkIiE9dHlwZW9mIFJlYWRhYmxlU3RyZWFtKXtlLm5leHQ9MTU7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgMTU6cmV0dXJuIHM9bmV3IFJlYWRhYmxlU3RyZWFtKHtzdGFydDpmdW5jdGlvbihlKXtzZShlLHQuYm9keS5nZXRSZWFkZXIoKSwwLG8sbixyLGkpfX0pLGUuYWJydXB0KCJyZXR1cm4iLG5ldyBSZXNwb25zZShzKSk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHNlKGUsdCxuLHIsaSxhLG8pe3JldHVybiB1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdWUoKXtyZXR1cm4odWU9T2JqZWN0KGsuYSkoUy5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLHIsaSxhLG8scyl7dmFyIHUsYyxsLGg7cmV0dXJuIFMuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5wcmV2PTAsZS5uZXh0PTMsbi5yZWFkKCk7Y2FzZSAzOmlmKHU9ZS5zZW50LGM9dS5kb25lLGw9dS52YWx1ZSwhYyl7ZS5uZXh0PTEwO2JyZWFrfXJldHVybiBvKCksdC5jbG9zZSgpLGUuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDEwOnJldHVybiByKz1sLmJ5dGVMZW5ndGgsaD1NYXRoLnJvdW5kKHIvaSoxMDApLGEoaCx7bG9hZGVkQnl0ZXM6cix0b3RhbEJ5dGVzOml9KSx0LmVucXVldWUobCksZS5uZXh0PTE2LHNlKHQsbixyLGksYSxvLHMpO2Nhc2UgMTY6ZS5uZXh0PTIyO2JyZWFrO2Nhc2UgMTg6ZS5wcmV2PTE4LGUudDA9ZS5jYXRjaCgwKSx0LmVycm9yKGUudDApLHMoZS50MCk7Y2FzZSAyMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsbnVsbCxbWzAsMThdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9bi5kKHQsImZldGNoRmlsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHIuYX0pKSxuLmQodCwicmVhZEZpbGVTeW5jIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCwid3JpdGVGaWxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwid3JpdGVGaWxlU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsInNldExvYWRlck9wdGlvbnMiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZCh0LCJyZWdpc3RlckxvYWRlcnMiLChmdW5jdGlvbigpe3JldHVybiBnLmN9KSksbi5kKHQsInBhcnNlIiwoZnVuY3Rpb24oKXtyZXR1cm4geS5hfSkpLG4uZCh0LCJwYXJzZVN5bmMiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLG4uZCh0LCJwYXJzZUluQmF0Y2hlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZ9KSksbi5kKHQsInBhcnNlSW5CYXRjaGVzU3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKHQsImxvYWQiLChmdW5jdGlvbigpe3JldHVybiBHLmF9KSksbi5kKHQsImxvYWRJbkJhdGNoZXMiLChmdW5jdGlvbigpe3JldHVybiBXfSkpLG4uZCh0LCJlbmNvZGUiLChmdW5jdGlvbigpe3JldHVybiBxfSkpLG4uZCh0LCJlbmNvZGVTeW5jIiwoZnVuY3Rpb24oKXtyZXR1cm4gWn0pKSxuLmQodCwiZW5jb2RlSW5CYXRjaGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gWX0pKSxuLmQodCwic2F2ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEt9KSksbi5kKHQsInNhdmVTeW5jIiwoZnVuY3Rpb24oKXtyZXR1cm4gUX0pKSxuLmQodCwiaXNQcm9taXNlIiwoZnVuY3Rpb24oKXtyZXR1cm4gSi5nfSkpLG4uZCh0LCJpc0l0ZXJhYmxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gSi5lfSkpLG4uZCh0LCJpc0FzeW5jSXRlcmFibGUiLChmdW5jdGlvbigpe3JldHVybiBKLmF9KSksbi5kKHQsImlzSXRlcmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBKLmZ9KSksbi5kKHQsImlzRmV0Y2hSZXNwb25zZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouY30pKSxuLmQodCwiaXNSZWFkYWJsZVN0cmVhbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouaH0pKSxuLmQodCwiaXNXcml0YWJsZVN0cmVhbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEouaX0pKSxuLmQodCwidG9BcnJheUJ1ZmZlciIsKGZ1bmN0aW9uKCl7cmV0dXJuICQuYX0pKSxuLmQodCwibWFrZVN0cmVhbUl0ZXJhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gZWUuYX0pKSxuLmQodCwiZm9yRWFjaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsImxpbmVBc3luY0l0ZXJhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKSxuLmQodCwidGV4dERlY29kZXJBc3luY0l0ZXJhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gTX0pKSxuLmQodCwibnVtYmVyZWRMaW5lQXN5bmNJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKHQsIm1ha2VDaHVua0l0ZXJhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gdGUuYn0pKSxuLmQodCwiY29uY2F0ZW5hdGVDaHVua3NBc3luYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRlLmF9KSksbi5kKHQsImlzQnJvd3NlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuY30pKSxuLmQodCwiaXNXb3JrZXIiLChmdW5jdGlvbigpe3JldHVybiBhLmR9KSksbi5kKHQsInNlbGYiLChmdW5jdGlvbigpe3JldHVybiBhLmZ9KSksbi5kKHQsIndpbmRvdyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuZ30pKSxuLmQodCwiZ2xvYmFsIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5ifSkpLG4uZCh0LCJkb2N1bWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYX0pKSxuLmQodCwiYXNzZXJ0IiwoZnVuY3Rpb24oKXtyZXR1cm4gcy5hfSkpLG4uZCh0LCJzZXRQYXRoUHJlZml4IiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5jfSkpLG4uZCh0LCJnZXRQYXRoUHJlZml4IiwoZnVuY3Rpb24oKXtyZXR1cm4gaS5hfSkpLG4uZCh0LCJyZXNvbHZlUGF0aCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYn0pKSxuLmQodCwiX3NlbGVjdExvYWRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIG0uYX0pKSxuLmQodCwiX1dvcmtlclRocmVhZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5lLmF9KSksbi5kKHQsIl9Xb3JrZXJGYXJtIiwoZnVuY3Rpb24oKXtyZXR1cm4gcmUuYX0pKSxuLmQodCwiX1dvcmtlclBvb2wiLChmdW5jdGlvbigpe3JldHVybiBpZS5hfSkpLG4uZCh0LCJfZmV0Y2hQcm9ncmVzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGFlfSkpLG4uZCh0LCJfdW5yZWdpc3RlckxvYWRlcnMiLChmdW5jdGlvbigpe3JldHVybiBnLmF9KSksbi5kKHQsImNvbnRhdGVuYXRlQXN5bmNJdGVyYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRlLmF9KSksbi5kKHQsImdldFN0cmVhbUl0ZXJhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gZWUuYX0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDgpLGk9bi5uKHIpLGE9bigxMyksbz1uKDEwNikscz1uKDM1KSx1PW4oMTU3KTtmdW5jdGlvbiBjKGUpe3JldHVybiBsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBsKCl7cmV0dXJuKGw9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihuPSJGYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2UgIi5jb25jYXQodC51cmwsIiAoIikuY29uY2F0KHQuc3RhdHVzLCIpOiAiKSxlLnByZXY9MSwhdC5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIikuaW5jbHVkZXMoImFwcGxpY2F0aW9uL2pzb24iKSl7ZS5uZXh0PTEwO2JyZWFrfXJldHVybiBlLnQwPW4sZS5uZXh0PTcsdC50ZXh0KCk7Y2FzZSA3Om49ZS50MCs9ZS5zZW50LGUubmV4dD0xMTticmVhaztjYXNlIDEwOm4rPXQuc3RhdHVzVGV4dDtjYXNlIDExOmUubmV4dD0xNjticmVhaztjYXNlIDEzOnJldHVybiBlLnByZXY9MTMsZS50MT1lLmNhdGNoKDEpLGUuYWJydXB0KCJyZXR1cm4iLG4pO2Nhc2UgMTY6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLG4pO2Nhc2UgMTc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1sxLDEzXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZigpe3JldHVybihmPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKHQsbil7dmFyIHI7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighT2JqZWN0KHMuZCkodCkpe2UubmV4dD0yO2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIixPYmplY3QodS5hKSh0LG4pKTtjYXNlIDI6cmV0dXJuIHQ9T2JqZWN0KG8uYikodCksZS5uZXh0PTUsZmV0Y2godCxuKTtjYXNlIDU6aWYoKHI9ZS5zZW50KS5va3x8IW4udGhyb3dzKXtlLm5leHQ9MTI7YnJlYWt9cmV0dXJuIGUudDA9RXJyb3IsZS5uZXh0PTEwLGMocik7Y2FzZSAxMDp0aHJvdyBlLnQxPWUuc2VudCxuZXcgZS50MChlLnQxKTtjYXNlIDEyOnJldHVybiBlLmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDEzOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciByLGk9bigyMSksYT1uKDApLG89bigyOSkscz0ocj17fSxPYmplY3QoYS5hKShyLDUxMjYsWzUxMjYsMSwiZmxvYXQiXSksT2JqZWN0KGEuYSkociwzNTY2NCxbNTEyNiwyLCJ2ZWMyIl0pLE9iamVjdChhLmEpKHIsMzU2NjUsWzUxMjYsMywidmVjMyJdKSxPYmplY3QoYS5hKShyLDM1NjY2LFs1MTI2LDQsInZlYzQiXSksT2JqZWN0KGEuYSkociw1MTI0LFs1MTI0LDEsImludCJdKSxPYmplY3QoYS5hKShyLDM1NjY3LFs1MTI0LDIsIml2ZWMyIl0pLE9iamVjdChhLmEpKHIsMzU2NjgsWzUxMjQsMywiaXZlYzMiXSksT2JqZWN0KGEuYSkociwzNTY2OSxbNTEyNCw0LCJpdmVjNCJdKSxPYmplY3QoYS5hKShyLDUxMjUsWzUxMjUsMSwidWludCJdKSxPYmplY3QoYS5hKShyLDM2Mjk0LFs1MTI1LDIsInV2ZWMyIl0pLE9iamVjdChhLmEpKHIsMzYyOTUsWzUxMjUsMywidXZlYzMiXSksT2JqZWN0KGEuYSkociwzNjI5NixbNTEyNSw0LCJ1dmVjNCJdKSxPYmplY3QoYS5hKShyLDM1NjcwLFs1MTI2LDEsImJvb2wiXSksT2JqZWN0KGEuYSkociwzNTY3MSxbNTEyNiwyLCJidmVjMiJdKSxPYmplY3QoYS5hKShyLDM1NjcyLFs1MTI2LDMsImJ2ZWMzIl0pLE9iamVjdChhLmEpKHIsMzU2NzMsWzUxMjYsNCwiYnZlYzQiXSksT2JqZWN0KGEuYSkociwzNTY3NCxbNTEyNiw4LCJtYXQyIl0pLE9iamVjdChhLmEpKHIsMzU2ODUsWzUxMjYsOCwibWF0MngzIl0pLE9iamVjdChhLmEpKHIsMzU2ODYsWzUxMjYsOCwibWF0Mng0Il0pLE9iamVjdChhLmEpKHIsMzU2NzUsWzUxMjYsMTIsIm1hdDMiXSksT2JqZWN0KGEuYSkociwzNTY4NyxbNTEyNiwxMiwibWF0M3gyIl0pLE9iamVjdChhLmEpKHIsMzU2ODgsWzUxMjYsMTIsIm1hdDN4NCJdKSxPYmplY3QoYS5hKShyLDM1Njc2LFs1MTI2LDE2LCJtYXQ0Il0pLE9iamVjdChhLmEpKHIsMzU2ODksWzUxMjYsMTYsIm1hdDR4MiJdKSxPYmplY3QoYS5hKShyLDM1NjkwLFs1MTI2LDE2LCJtYXQ0eDMiXSkscik7ZnVuY3Rpb24gdShlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiAwO2Nhc2UgMTpjYXNlIDM6Y2FzZSAyOnJldHVybiAxO2Nhc2UgNDpjYXNlIDU6Y2FzZSA2OnJldHVybiA0O2RlZmF1bHQ6cmV0dXJuIE9iamVjdChvLmEpKCExKSwwfX1mdW5jdGlvbiBjKGUpe3ZhciB0PXNbZV07aWYoIXQpcmV0dXJuIG51bGw7dmFyIG49T2JqZWN0KGkuYSkodCwyKTtyZXR1cm57dHlwZTpuWzBdLGNvbXBvbmVudHM6blsxXX19ZnVuY3Rpb24gbChlLHQpe3N3aXRjaChlKXtjYXNlIDUxMjA6Y2FzZSA1MTIxOmNhc2UgNTEyMjpjYXNlIDUxMjM6ZT01MTI2fWZvcih2YXIgbiBpbiBzKXt2YXIgcj1PYmplY3QoaS5hKShzW25dLDMpLGE9clswXSxvPXJbMV0sdT1yWzJdO2lmKGE9PT1lJiZvPT09dClyZXR1cm57Z2xUeXBlOm4sbmFtZTp1fX1yZXR1cm4gbnVsbH19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj10Lm92ZXJBbGxvYyxyPXZvaWQgMD09PW4/MjpuLGE9dC5wb29sU2l6ZSxvPXZvaWQgMD09PWE/MTAwOmE7aSgpKHRoaXMsZSksdGhpcy5vdmVyQWxsb2M9cix0aGlzLnBvb2xTaXplPW8sdGhpcy5fcG9vbD1bXX1yZXR1cm4gbygpKGUsW3trZXk6ImFsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bi5zaXplLGk9dm9pZCAwPT09cj8xOnIsYT1uLnR5cGUsbz1uLnBhZGRpbmcscz12b2lkIDA9PT1vPzA6byx1PW4uY29weSxjPXZvaWQgMCE9PXUmJnUsbD1hfHxlJiZlLmNvbnN0cnVjdG9yfHxGbG9hdDMyQXJyYXksaD10KmkrcztpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpe2lmKGg8PWUubGVuZ3RoKXJldHVybiBlO2lmKGgqZS5CWVRFU19QRVJfRUxFTUVOVDw9ZS5idWZmZXIuYnl0ZUxlbmd0aClyZXR1cm4gbmV3IGwoZS5idWZmZXIsMCxoKX12YXIgZj10aGlzLl9hbGxvY2F0ZShsLGgpO3JldHVybiBlJiZjP2Yuc2V0KGUpOmYuZmlsbCgwLDAsNCksdGhpcy5fcmVsZWFzZShlKSxmfX0se2tleToicmVsZWFzZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fcmVsZWFzZShlKX19LHtrZXk6Il9hbGxvY2F0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0PU1hdGgubWF4KE1hdGguY2VpbCh0KnRoaXMub3ZlckFsbG9jKSwxKTt2YXIgbj10aGlzLl9wb29sLHI9ZS5CWVRFU19QRVJfRUxFTUVOVCp0LGk9bi5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJ5dGVMZW5ndGg+PXJ9KSk7cmV0dXJuIGk+PTA/bmV3IGUobi5zcGxpY2UoaSwxKVswXSwwLHQpOm5ldyBlKHQpfX0se2tleToiX3JlbGVhc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKEFycmF5QnVmZmVyLmlzVmlldyhlKSl7dmFyIHQ9dGhpcy5fcG9vbCxuPWUuYnVmZmVyLHI9bi5ieXRlTGVuZ3RoLGk9dC5maW5kSW5kZXgoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJ5dGVMZW5ndGg+PXJ9KSk7aTwwP3QucHVzaChuKTooaT4wfHx0Lmxlbmd0aDx0aGlzLnBvb2xTaXplKSYmdC5zcGxpY2UoaSwwLG4pLHQubGVuZ3RoPnRoaXMucG9vbFNpemUmJnQuc2hpZnQoKX19fV0pLGV9KCk7dC5hPW5ldyBzfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodHx8ImxvYWRlciBhc3NlcnRpb24gZmFpbGVkLiIpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHQsImUiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByLGksYSxvPW4oMCkscz1uKDExKSx1PShyPXt9LE9iamVjdChvLmEpKHIsNjQwNyx7ZGF0YUZvcm1hdDo2NDA3LHR5cGVzOls1MTIxLDMzNjM1XX0pLE9iamVjdChvLmEpKHIsNjQwOCx7ZGF0YUZvcm1hdDo2NDA4LHR5cGVzOls1MTIxLDMyODE5LDMyODIwXX0pLE9iamVjdChvLmEpKHIsNjQwNix7ZGF0YUZvcm1hdDo2NDA2LHR5cGVzOls1MTIxXX0pLE9iamVjdChvLmEpKHIsNjQwOSx7ZGF0YUZvcm1hdDo2NDA5LHR5cGVzOls1MTIxXX0pLE9iamVjdChvLmEpKHIsNjQxMCx7ZGF0YUZvcm1hdDo2NDEwLHR5cGVzOls1MTIxXX0pLE9iamVjdChvLmEpKHIsMzMzMjYse2RhdGFGb3JtYXQ6NjQwMyx0eXBlczpbNTEyNl0sZ2wyOiEwfSksT2JqZWN0KG8uYSkociwzMzMyOCx7ZGF0YUZvcm1hdDozMzMxOSx0eXBlczpbNTEyNl0sZ2wyOiEwfSksT2JqZWN0KG8uYSkociwzNDgzNyx7ZGF0YUZvcm1hdDo2NDA3LHR5cGVzOls1MTI2XSxnbDI6ITB9KSxPYmplY3Qoby5hKShyLDM0ODM2LHtkYXRhRm9ybWF0OjY0MDgsdHlwZXM6WzUxMjZdLGdsMjohMH0pLHIpLGM9KGk9e30sT2JqZWN0KG8uYSkoaSw2NDAzLDEpLE9iamVjdChvLmEpKGksMzYyNDQsMSksT2JqZWN0KG8uYSkoaSwzMzMxOSwyKSxPYmplY3Qoby5hKShpLDMzMzIwLDIpLE9iamVjdChvLmEpKGksNjQwNywzKSxPYmplY3Qoby5hKShpLDM2MjQ4LDMpLE9iamVjdChvLmEpKGksNjQwOCw0KSxPYmplY3Qoby5hKShpLDM2MjQ5LDQpLE9iamVjdChvLmEpKGksNjQwMiwxKSxPYmplY3Qoby5hKShpLDM0MDQxLDEpLE9iamVjdChvLmEpKGksNjQwNiwxKSxPYmplY3Qoby5hKShpLDY0MDksMSksT2JqZWN0KG8uYSkoaSw2NDEwLDIpLGkpLGw9KGE9e30sT2JqZWN0KG8uYSkoYSw1MTI2LDQpLE9iamVjdChvLmEpKGEsNTEyNSw0KSxPYmplY3Qoby5hKShhLDUxMjQsNCksT2JqZWN0KG8uYSkoYSw1MTIzLDIpLE9iamVjdChvLmEpKGEsNTEyMiwyKSxPYmplY3Qoby5hKShhLDUxMzEsMiksT2JqZWN0KG8uYSkoYSw1MTIwLDEpLE9iamVjdChvLmEpKGEsNTEyMSwxKSxhKTtmdW5jdGlvbiBoKGUsdCl7dmFyIG49dVt0XTtpZighbilyZXR1cm4hMTtpZih2b2lkIDA9PT1uLmdsMSYmdm9pZCAwPT09bi5nbDIpcmV0dXJuITA7dmFyIHI9T2JqZWN0KHMuZykoZSkmJm4uZ2wyfHxuLmdsMTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHI/ZS5nZXRFeHRlbnNpb24ocik6cn1mdW5jdGlvbiBmKGUsdCl7dmFyIG49dVt0XTtzd2l0Y2gobiYmbi50eXBlc1swXSl7Y2FzZSA1MTI2OnJldHVybiBlLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIik7Y2FzZSA1MTMxOnJldHVybiBlLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKTtkZWZhdWx0OnJldHVybiEwfX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIzMyksaT1uKDIzNCksYT1uKDIzNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGUpfHxpKGUpfHxhKCl9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bmV3IE1hcChbWyJpbWFnZS9wbmciLHt0ZXN0OmksZ2V0U2l6ZTpmdW5jdGlvbihlKXtyZXR1cm57d2lkdGg6ZS5nZXRVaW50MzIoMTYsITEpLGhlaWdodDplLmdldFVpbnQzMigyMCwhMSl9fX1dLFsiaW1hZ2UvanBlZyIse3Rlc3Q6cyxnZXRTaXplOmZ1bmN0aW9uKGUpe2lmKGUuYnl0ZUxlbmd0aDwyfHw2NTQ5NiE9PWUuZ2V0VWludDE2KDAsITEpKXJldHVybiBudWxsO3ZhciB0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBTZXQoWzY1NDk5LDY1NDc2LDY1NDg0LDY1NTAxLDY1NTM0XSksdD02NTUwNDt0PDY1NTIwOysrdCllLmFkZCh0KTt2YXIgbj1uZXcgU2V0KFs2NTQ3Miw2NTQ3Myw2NTQ3NCw2NTQ3NSw2NTQ3Nyw2NTQ3OCw2NTQ3OSw2NTQ4MSw2NTQ4Miw2NTQ4Myw2NTQ4NSw2NTQ4Niw2NTQ4Nyw2NTUwMl0pO3JldHVybnt0YWJsZU1hcmtlcnM6ZSxzb2ZNYXJrZXJzOm59fSgpLG49dC50YWJsZU1hcmtlcnMscj10LnNvZk1hcmtlcnMsaT0yO2Zvcig7aTxlLmJ5dGVMZW5ndGg7KXt2YXIgYT1lLmdldFVpbnQxNihpLCExKTtpZihyLmhhcyhhKSlyZXR1cm57aGVpZ2h0OmUuZ2V0VWludDE2KGkrNSwhMSksd2lkdGg6ZS5nZXRVaW50MTYoaSs3LCExKX07aWYoIW4uaGFzKGEpKXJldHVybiBudWxsO2krPTIsaSs9ZS5nZXRVaW50MTYoaSwhMSl9cmV0dXJuIG51bGx9fV0sWyJpbWFnZS9naWYiLHt0ZXN0OmEsZ2V0U2l6ZTpmdW5jdGlvbihlKXtyZXR1cm57d2lkdGg6ZS5nZXRVaW50MTYoNiwhMCksaGVpZ2h0OmUuZ2V0VWludDE2KDgsITApfX19XSxbImltYWdlL2JtcCIse3Rlc3Q6byxnZXRTaXplOmZ1bmN0aW9uKGUpe3JldHVybnt3aWR0aDplLmdldFVpbnQzMigxOCwhMCksaGVpZ2h0OmUuZ2V0VWludDMyKDIyLCEwKX19fV1dKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlLmJ5dGVMZW5ndGg+PTI0JiYyMzAzNzQxNTExPT09ZS5nZXRVaW50MzIoMCwhMSl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZS5ieXRlTGVuZ3RoPj0xMCYmMTE5NTk4NDQ0MD09PWUuZ2V0VWludDMyKDAsITEpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUuYnl0ZUxlbmd0aD49MTQmJjE2OTczPT09ZS5nZXRVaW50MTYoMCwhMSkmJmUuZ2V0VWludDMyKDIsITApPT09ZS5ieXRlTGVuZ3RofWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGUuYnl0ZUxlbmd0aD49MyYmNjU0OTY9PT1lLmdldFVpbnQxNigwLCExKSYmMjU1PT09ZS5nZXRVaW50OCgyLCExKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO2Z1bmN0aW9uIHIoZSl7c3dpdGNoKEFycmF5QnVmZmVyLmlzVmlldyhlKT9lLmNvbnN0cnVjdG9yOmUpe2Nhc2UgRmxvYXQzMkFycmF5OnJldHVybiA1MTI2O2Nhc2UgVWludDE2QXJyYXk6cmV0dXJuIDUxMjM7Y2FzZSBVaW50MzJBcnJheTpyZXR1cm4gNTEyNTtjYXNlIFVpbnQ4QXJyYXk6Y2FzZSBVaW50OENsYW1wZWRBcnJheTpyZXR1cm4gNTEyMTtjYXNlIEludDhBcnJheTpyZXR1cm4gNTEyMDtjYXNlIEludDE2QXJyYXk6cmV0dXJuIDUxMjI7Y2FzZSBJbnQzMkFycmF5OnJldHVybiA1MTI0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZGVkdWNlIEdMIGNvbnN0YW50IGZyb20gdHlwZWQgYXJyYXkiKX19ZnVuY3Rpb24gaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LmNsYW1wZWQscj12b2lkIDA9PT1ufHxuO3N3aXRjaChlKXtjYXNlIDUxMjY6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlIDUxMjM6Y2FzZSAzMzYzNTpjYXNlIDMyODE5OmNhc2UgMzI4MjA6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgNTEyNTpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSA1MTIxOnJldHVybiByP1VpbnQ4Q2xhbXBlZEFycmF5OlVpbnQ4QXJyYXk7Y2FzZSA1MTIwOnJldHVybiBJbnQ4QXJyYXk7Y2FzZSA1MTIyOnJldHVybiBJbnQxNkFycmF5O2Nhc2UgNTEyNDpyZXR1cm4gSW50MzJBcnJheTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGRlZHVjZSB0eXBlZCBhcnJheSB0eXBlIGZyb20gR0wgY29uc3RhbnQiKX19ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmRhdGEsbj1lLndpZHRoLHI9ZS5oZWlnaHQsaT1lLmJ5dGVzUGVyUGl4ZWwsYT12b2lkIDA9PT1pPzQ6aSxvPWUudGVtcCxzPW4qYTtvPW98fG5ldyBVaW50OEFycmF5KHMpO2Zvcih2YXIgdT0wO3U8ci8yOysrdSl7dmFyIGM9dSpzLGw9KHItdS0xKSpzO28uc2V0KHQuc3ViYXJyYXkoYyxjK3MpKSx0LmNvcHlXaXRoaW4oYyxsLGwrcyksdC5zZXQobyxsKX19ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQ9ZS5kYXRhLG49ZS53aWR0aCxyPWUuaGVpZ2h0LGk9TWF0aC5yb3VuZChuLzIpLGE9TWF0aC5yb3VuZChyLzIpLG89bmV3IFVpbnQ4QXJyYXkoaSphKjQpLHM9MDtzPGE7cysrKWZvcih2YXIgdT0wO3U8aTt1KyspZm9yKHZhciBjPTA7Yzw0O2MrKylvWzQqKHMqaSt1KStjXT10WzQqKDIqcypuKzIqdSkrY107cmV0dXJue2RhdGE6byx3aWR0aDppLGhlaWdodDphfX19LCxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDE1NSksdj1uKDExKSxwPW4oMTYzKSxnPW4oMjMpLHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKCkodGhpcyx0KSx1KCkodGhpcyxsKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKHQsZSksbygpKHQsW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nbDtyZXR1cm4gT2JqZWN0KHYuaykodCx7ZnJhbWVidWZmZXI6ZS50YXJnZXR9KSx0aGlzLl9kcmF3TGF5ZXJzKGUpfX0se2tleToiX2RyYXdMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudmlld3BvcnRzLG49ZS52aWV3cyxyPWUub25WaWV3cG9ydEFjdGl2ZSxpPWUuY2xlYXJDYW52YXMsYT12b2lkIDA9PT1pfHxpLG89dGhpcy5nbDthJiZmdW5jdGlvbihlKXt2YXIgdD1lLmRyYXdpbmdCdWZmZXJXaWR0aCxuPWUuZHJhd2luZ0J1ZmZlckhlaWdodDtPYmplY3Qodi5rKShlLHt2aWV3cG9ydDpbMCwwLHQsbl19KSxlLmNsZWFyKDE2NjQwKX0obyk7dmFyIHM9W10sdT0hMCxjPSExLGw9dm9pZCAwO3RyeXtmb3IodmFyIGgsZj10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHU9KGg9Zi5uZXh0KCkpLmRvbmUpO3U9ITApe3ZhciBkPWgudmFsdWUscD1kLnZpZXdwb3J0fHxkLGc9biYmbltwLmlkXTtyKHApLGUudmlldz1nO3ZhciB5PXAuc3ViVmlld3BvcnRzfHxbcF0sbT0hMCxiPSExLF89dm9pZCAwO3RyeXtmb3IodmFyIE8seD15W1N5bWJvbC5pdGVyYXRvcl0oKTshKG09KE89eC5uZXh0KCkpLmRvbmUpO209ITApe3ZhciB3PU8udmFsdWU7ZS52aWV3cG9ydD13O3ZhciBTPXRoaXMuX2RyYXdMYXllcnNJblZpZXdwb3J0KG8sZSk7cy5wdXNoKFMpfX1jYXRjaChlKXtiPSEwLF89ZX1maW5hbGx5e3RyeXttfHxudWxsPT14LnJldHVybnx8eC5yZXR1cm4oKX1maW5hbGx5e2lmKGIpdGhyb3cgX319fX1jYXRjaChlKXtjPSEwLGw9ZX1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19cmV0dXJuIHN9fSx7a2V5OiJfZHJhd0xheWVyc0luVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5sYXllcnMscj10LmxheWVyRmlsdGVyLGk9dC5vbkVycm9yLGE9dC52aWV3cG9ydCxvPXQudmlldyxzPXQucGFzcyx1PXZvaWQgMD09PXM/InVua25vd24iOnMsYz10LmVmZmVjdHMsbD10Lm1vZHVsZVBhcmFtZXRlcnMsaD1mdW5jdGlvbihlLHQpe3ZhciBuPXQudmlld3BvcnQscj1lLmNhbnZhcz9lLmNhbnZhcy5jbGllbnRIZWlnaHR8fGUuY2FudmFzLmhlaWdodDoxMDAsaT1uLGE9T2JqZWN0KHYuYykoZSk7cmV0dXJuW2kueCphLChyLWkueS1pLmhlaWdodCkqYSxpLndpZHRoKmEsaS5oZWlnaHQqYV19KGUse3ZpZXdwb3J0OmF9KTtpZihvJiZvLnByb3BzLmNsZWFyKXt2YXIgZj0hMD09PW8ucHJvcHMuY2xlYXI/e2NvbG9yOiEwLGRlcHRoOiEwfTpvLnByb3BzLmNsZWFyO09iamVjdCh2LmwpKGUse3NjaXNzb3JUZXN0OiEwLHNjaXNzb3I6aH0sKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChwLmEpKGUsZil9KSl9dmFyIGQ9e3RvdGFsQ291bnQ6bi5sZW5ndGgsdmlzaWJsZUNvdW50OjAsY29tcG9zaXRlQ291bnQ6MCxwaWNrYWJsZUNvdW50OjB9O09iamVjdCh2LmspKGUse3ZpZXdwb3J0Omh9KTtmb3IodmFyIHk9ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e307cmV0dXJuIGZ1bmN0aW9uKGksYSl7dmFyIG8scz1pLnByb3BzLl9vZmZzZXQsdT1pLmlkLGM9aS5wYXJlbnQmJmkucGFyZW50LmlkO2lmKGMgaW4gcil7dmFyIGw9cltjXT1yW2NdfHxlKG5bY10sbik7bz1sKGksYSksclt1XT1sfWVsc2UgTnVtYmVyLmlzRmluaXRlKHMpPyhvPXMrKG5bY118fDApLHJbdV09bnVsbCk6bz10O3JldHVybiBhJiZvPj10JiYodD1vKzEpLG5bdV09byxvfX0oKSxtPTA7bTxuLmxlbmd0aDttKyspe3ZhciBiPW5bbV0sXz10aGlzLl9zaG91bGREcmF3TGF5ZXIoYixhLHUsciksTz15KGIsXyk7aWYoXyYmYi5wcm9wcy5waWNrYWJsZSYmZC5waWNrYWJsZUNvdW50KyssYi5pc0NvbXBvc2l0ZSYmZC5jb21wb3NpdGVDb3VudCsrLF8pe2QudmlzaWJsZUNvdW50Kys7dmFyIHg9dGhpcy5fZ2V0TW9kdWxlUGFyYW1ldGVycyhiLGMsdSxsKSx3PXRoaXMuZ2V0TGF5ZXJQYXJhbWV0ZXJzKGIsbSk7eC52aWV3cG9ydD1hO3RyeXtiLmRyYXdMYXllcih7bW9kdWxlUGFyYW1ldGVyczp4LHVuaWZvcm1zOntsYXllckluZGV4Ok99LHBhcmFtZXRlcnM6d30pfWNhdGNoKGUpe2k/aShlLGIpOmcuYS5lcnJvcigiZXJyb3IgZHVyaW5nIGRyYXdpbmcgb2YgIi5jb25jYXQoYiksZSkoKX19fXJldHVybiBkfX0se2tleToic2hvdWxkRHJhd0xheWVyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hMH19LHtrZXk6ImdldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGx9fSx7a2V5OiJnZXRMYXllclBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucHJvcHMucGFyYW1ldGVyc319LHtrZXk6Il9zaG91bGREcmF3TGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXRoaXMuc2hvdWxkRHJhd0xheWVyKGUpJiYhZS5pc0NvbXBvc2l0ZSYmZS5wcm9wcy52aXNpYmxlO3JldHVybiBpJiZyJiYoaT1yKHtsYXllcjplLHZpZXdwb3J0OnQsaXNQaWNraW5nOm4uc3RhcnRzV2l0aCgicGlja2luZyIpLHJlbmRlclBhc3M6bn0pKSxpfX0se2tleToiX2dldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShlLnByb3BzKSx7dmlld3BvcnQ6ZS5jb250ZXh0LnZpZXdwb3J0LG1vdXNlUG9zaXRpb246ZS5jb250ZXh0Lm1vdXNlUG9zaXRpb24scGlja2luZ0FjdGl2ZTowLGRldmljZVBpeGVsUmF0aW86T2JqZWN0KHYuYykodGhpcy5nbCl9KTtpZih0KXt2YXIgYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7T2JqZWN0LmFzc2lnbihpLGwuZ2V0TW9kdWxlUGFyYW1ldGVycyhlKSl9fWNhdGNoKGUpe289ITAscz1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBzfX19cmV0dXJuIE9iamVjdC5hc3NpZ24oaSx0aGlzLmdldE1vZHVsZVBhcmFtZXRlcnMoZSx0KSxyKX19XSksdH0oZC5hKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsZSk7dmFyIG49dC5pZCxyPXZvaWQgMD09PW4/ImVmZmVjdCI6bjt0aGlzLmlkPXIsdGhpcy5wcm9wcz17fSxPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsdCl9cmV0dXJuIG8oKShlLFt7a2V5OiJwcmVSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiZ2V0TW9kdWxlUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe319XSksZX0oKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9bigxMyksaT1uKDgpLGE9bi5uKGkpLG89big0OSkscz1uKDk0KSx1PW4oNjMpO2Z1bmN0aW9uIGMoZSl7aWYodS5jfHx1LmU+PTEwKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pcmV0dXJuIGU7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0SXRlcmF0b3IpcmV0dXJuIGUuZ2V0SXRlcmF0b3IoKX1yZXR1cm4gdS5jP2Z1bmN0aW9uKGUpe3JldHVybiBsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0oZSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGguYXBwbHkodGhpcyxhcmd1bWVudHMpfShlKX1mdW5jdGlvbiBsKCl7cmV0dXJuKGw9T2JqZWN0KHMuYSkoYS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLHM7cmV0dXJuIGEuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpuPXQuZ2V0UmVhZGVyKCksZS5wcmV2PTE7Y2FzZSAyOnJldHVybiBlLm5leHQ9NSxPYmplY3Qoby5hKShuLnJlYWQoKSk7Y2FzZSA1OmlmKHI9ZS5zZW50LGk9ci5kb25lLHM9ci52YWx1ZSwhaSl7ZS5uZXh0PTEwO2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIik7Y2FzZSAxMDpyZXR1cm4gZS5uZXh0PTEyLHM7Y2FzZSAxMjplLm5leHQ9MjticmVhaztjYXNlIDE0OmUubmV4dD0xOTticmVhaztjYXNlIDE2OmUucHJldj0xNixlLnQwPWUuY2F0Y2goMSksbi5yZWxlYXNlTG9jaygpO2Nhc2UgMTk6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1sxLDE2XV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3Qocy5hKShhLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gYS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9MixPYmplY3Qoby5hKSh0KTtjYXNlIDI6dD1lLnNlbnQ7Y2FzZSAzOmlmKG51bGw9PT0obj10LnJlYWQoKSkpe2UubmV4dD05O2JyZWFrfXJldHVybiBlLm5leHQ9OCxuO2Nhc2UgODpyZXR1cm4gZS5hYnJ1cHQoImNvbnRpbnVlIiwzKTtjYXNlIDk6aWYoIXQuX3JlYWRhYmxlU3RhdGUuZW5kZWQpe2UubmV4dD0xMTticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMTE6cmV0dXJuIGUubmV4dD0xMyxPYmplY3Qoby5hKShmKHQpKTtjYXNlIDEzOmUubmV4dD0zO2JyZWFrO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUpe3JldHVybiBkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0KHIuYSkoYS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIGEuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3Qub25jZSgicmVhZGFibGUiLGUpfSkpKTtjYXNlIDE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNTgpO2Z1bmN0aW9uIGkoZSl7dmFyIHQsbjtmdW5jdGlvbiBpKHQsbil7dHJ5e3ZhciBvPWVbdF0obikscz1vLnZhbHVlLHU9cyBpbnN0YW5jZW9mIHIuYTtQcm9taXNlLnJlc29sdmUodT9zLndyYXBwZWQ6cykudGhlbigoZnVuY3Rpb24oZSl7dT9pKCJyZXR1cm4iPT09dD8icmV0dXJuIjoibmV4dCIsZSk6YShvLmRvbmU/InJldHVybiI6Im5vcm1hbCIsZSl9KSwoZnVuY3Rpb24oZSl7aSgidGhyb3ciLGUpfSkpfWNhdGNoKGUpe2EoInRocm93IixlKX19ZnVuY3Rpb24gYShlLHIpe3N3aXRjaChlKXtjYXNlInJldHVybiI6dC5yZXNvbHZlKHt2YWx1ZTpyLGRvbmU6ITB9KTticmVhaztjYXNlInRocm93Ijp0LnJlamVjdChyKTticmVhaztkZWZhdWx0OnQucmVzb2x2ZSh7dmFsdWU6cixkb25lOiExfSl9KHQ9dC5uZXh0KT9pKHQua2V5LHQuYXJnKTpuPW51bGx9dGhpcy5faW52b2tlPWZ1bmN0aW9uKGUscil7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihhLG8pe3ZhciBzPXtrZXk6ZSxhcmc6cixyZXNvbHZlOmEscmVqZWN0Om8sbmV4dDpudWxsfTtuP249bi5uZXh0PXM6KHQ9bj1zLGkoZSxyKSl9KSl9LCJmdW5jdGlvbiIhPXR5cGVvZiBlLnJldHVybiYmKHRoaXMucmV0dXJuPXZvaWQgMCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuYXN5bmNJdGVyYXRvciYmKGkucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKCJuZXh0IixlKX0saS5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSgidGhyb3ciLGUpfSxpLnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSgicmV0dXJuIixlKX0sbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigyOSk7ZnVuY3Rpb24gaShlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj1OdW1iZXIodCk7aWYoIWlzTmFOKG4pKXJldHVybiBuO3ZhciBpPWVbdD10LnJlcGxhY2UoL14uKlwuLywiIildO3JldHVybiBPYmplY3Qoci5hKSh2b2lkIDAhPT1pLCJBY2Nlc3NpbmcgdW5kZWZpbmVkIGNvbnN0YW50IEdMLiIuY29uY2F0KHQpKSxpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG4gaW4gdD1OdW1iZXIodCksZSlpZihlW25dPT09dClyZXR1cm4iR0wuIi5jb25jYXQobik7cmV0dXJuIFN0cmluZyh0KX19LCxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOCksaT1uLm4ociksYT1uKDEzKSxvPW4oMTAzKTtmdW5jdGlvbiBzKGUsdCl7dmFyIG49ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOmUscj10IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkodCk6dCxpPW5ldyBVaW50OEFycmF5KG4uYnl0ZUxlbmd0aCtyLmJ5dGVMZW5ndGgpO3JldHVybiBpLnNldChuLDApLGkuc2V0KHIsbi5ieXRlTGVuZ3RoKSxpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIHU9aS5hLm1hcmsoZCksYz1pLmEubWFyayh2KSxsPWkuYS5tYXJrKHApO2Z1bmN0aW9uIGgoZSl7cmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGEsdSxjLGwsaCxmLGQ7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpuPW5ldyBBcnJheUJ1ZmZlcigwKSxyPSIiLGE9ITAsdT0hMSxlLnByZXY9NCxsPU9iamVjdChvLmEpKHQpO2Nhc2UgNjpyZXR1cm4gZS5uZXh0PTgsbC5uZXh0KCk7Y2FzZSA4OnJldHVybiBoPWUuc2VudCxhPWguZG9uZSxlLm5leHQ9MTIsaC52YWx1ZTtjYXNlIDEyOmlmKGY9ZS5zZW50LGEpe2UubmV4dD0xOTticmVha30ic3RyaW5nIj09dHlwZW9mKGQ9Zik/cis9ZDpuPXMobixkKTtjYXNlIDE2OmE9ITAsZS5uZXh0PTY7YnJlYWs7Y2FzZSAxOTplLm5leHQ9MjU7YnJlYWs7Y2FzZSAyMTplLnByZXY9MjEsZS50MD1lLmNhdGNoKDQpLHU9ITAsYz1lLnQwO2Nhc2UgMjU6aWYoZS5wcmV2PTI1LGUucHJldj0yNixhfHxudWxsPT1sLnJldHVybil7ZS5uZXh0PTMwO2JyZWFrfXJldHVybiBlLm5leHQ9MzAsbC5yZXR1cm4oKTtjYXNlIDMwOmlmKGUucHJldj0zMCwhdSl7ZS5uZXh0PTMzO2JyZWFrfXRocm93IGM7Y2FzZSAzMzpyZXR1cm4gZS5maW5pc2goMzApO2Nhc2UgMzQ6cmV0dXJuIGUuZmluaXNoKDI1KTtjYXNlIDM1OnJldHVybiBlLmFicnVwdCgicmV0dXJuIixyfHxuKTtjYXNlIDM2OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSxudWxsLFtbNCwyMSwyNSwzNV0sWzI2LCwzMCwzNF1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkKGUpe3ZhciB0LG49YXJndW1lbnRzO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6aWYodD1uLmxlbmd0aD4xJiZ2b2lkIDAhPT1uWzFdP25bMV06e30sInN0cmluZyIhPXR5cGVvZiBlKXtyLm5leHQ9NDticmVha31yZXR1cm4gci5kZWxlZ2F0ZVlpZWxkKHAoZSx0KSwidDAiLDMpO2Nhc2UgMzpyZXR1cm4gci5hYnJ1cHQoInJldHVybiIpO2Nhc2UgNDppZighKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpe3IubmV4dD03O2JyZWFrfXJldHVybiByLmRlbGVnYXRlWWllbGQodihlLHQpLCJ0MSIsNik7Y2FzZSA2OnJldHVybiByLmFicnVwdCgicmV0dXJuIik7Y2FzZSA3OnRocm93IG5ldyBFcnJvcigiYXNzZXJ0Iik7Y2FzZSA4OmNhc2UiZW5kIjpyZXR1cm4gci5zdG9wKCl9fSksdSl9ZnVuY3Rpb24gdihlKXt2YXIgdCxuLHIsYSxvLHMsdSxsPWFyZ3VtZW50cztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKGkpe2Zvcig7Oylzd2l0Y2goaS5wcmV2PWkubmV4dCl7Y2FzZSAwOnQ9bC5sZW5ndGg+MSYmdm9pZCAwIT09bFsxXT9sWzFdOnt9LG49dC5jaHVua1NpemUscj12b2lkIDA9PT1uPzI2MjE0NDpuLGE9MDtjYXNlIDM6aWYoIShhPGUuYnl0ZUxlbmd0aCkpe2kubmV4dD0xNDticmVha31yZXR1cm4gbz1NYXRoLm1pbihlLmJ5dGVMZW5ndGgtYSxyKSxzPW5ldyBBcnJheUJ1ZmZlcihvKSx1PW5ldyBVaW50OEFycmF5KGUsYSxvKSxuZXcgVWludDhBcnJheShzKS5zZXQodSksYSs9byxpLm5leHQ9MTIscztjYXNlIDEyOmkubmV4dD0zO2JyZWFrO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiBpLnN0b3AoKX19KSxjKX1mdW5jdGlvbiBwKGUpe3ZhciB0LG4scixhLG8scyx1PWFyZ3VtZW50cztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKGkpe2Zvcig7Oylzd2l0Y2goaS5wcmV2PWkubmV4dCl7Y2FzZSAwOnQ9dS5sZW5ndGg+MSYmdm9pZCAwIT09dVsxXT91WzFdOnt9LG49dC5jaHVua1NpemUscj12b2lkIDA9PT1uPzI2MjE0NDpuLGE9MDtjYXNlIDM6aWYoIShhPGUubGVuZ3RoKSl7aS5uZXh0PTExO2JyZWFrfXJldHVybiBvPU1hdGgubWluKGUubGVuZ3RoLWEscikscz1lLnNsaWNlKGEsYStvKSxhKz1vLGkubmV4dD05LHM7Y2FzZSA5OmkubmV4dD0zO2JyZWFrO2Nhc2UgMTE6Y2FzZSJlbmQiOnJldHVybiBpLnN0b3AoKX19KSxsKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciBuPWUubGVuZ3RoO2lmKCF0fHx0Lmxlbmd0aCE9PW4pcmV0dXJuITE7Zm9yKHZhciByPTA7cjxuO3IrKylpZihlW3JdIT09dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBpKGUpe3ZhciB0LG49e307cmV0dXJuIGZ1bmN0aW9uKGkpe2Zvcih2YXIgYSBpbiBpKWlmKCFyKGlbYV0sblthXSkpe3Q9ZShpKSxuPWk7YnJlYWt9cmV0dXJuIHR9fW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSk7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1uKDEpLHU9WzI1NSwyNTUsMjU1XSxjPVswLDAsLTFdLGw9MCxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpKCkodGhpcyxlKTt2YXIgbj10LmNvbG9yLHI9dm9pZCAwPT09bj91Om4sYT10LmludGVuc2l0eSxvPXZvaWQgMD09PWE/MTphLGg9dC5kaXJlY3Rpb24sZj12b2lkIDA9PT1oP2M6aCxkPXQuX3NoYWRvdyx2PXZvaWQgMCE9PWQmJmQ7dGhpcy5pZD10LmlkfHwiZGlyZWN0aW9uYWwtIi5jb25jYXQobCsrKSx0aGlzLmNvbG9yPXIsdGhpcy5pbnRlbnNpdHk9byx0aGlzLnR5cGU9ImRpcmVjdGlvbmFsIix0aGlzLmRpcmVjdGlvbj1uZXcgcy5lKGYpLm5vcm1hbGl6ZSgpLnRvQXJyYXkoKSx0aGlzLnNoYWRvdz12fXJldHVybiBvKCkoZSxbe2tleToiZ2V0UHJvamVjdGVkTGlnaHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9big0KSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDE4OSksZz1uKDIwNikseT1uKDIzKSxtPW4oMTA4KSxiPW4oMTYxKSxfPW4oNjApLE89big3KSx4PW4ubihPKSx3PW4oMTkxKTtmdW5jdGlvbiBTKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgaz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBpKCkodGhpcyx0KSx1KCkodGhpcyxsKCkodCkuY2FsbCh0aGlzLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1MoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt4KCkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LGUse2F0dHJpYnV0ZXM6e3Bvc2l0aW9uczp7c2l6ZTozLHBhZGRpbmc6MTgsdHlwZTplLmZwNjQ/RmxvYXQ2NEFycmF5OkZsb2F0MzJBcnJheX0sc2VnbWVudFR5cGVzOntzaXplOjEsdHlwZTpVaW50OENsYW1wZWRBcnJheX19fSkpKX1yZXR1cm4gdigpKHQsZSksbygpKHQsW3trZXk6ImdldEdlb21ldHJ5RnJvbUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplP2YoKShsKCkodC5wcm90b3R5cGUpLCJnZXRHZW9tZXRyeUZyb21CdWZmZXIiLHRoaXMpLmNhbGwodGhpcyxlKTpmdW5jdGlvbigpe3JldHVybiBudWxsfX19LHtrZXk6ImdldCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXX19LHtrZXk6ImdldEdlb21ldHJ5U2l6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMubm9ybWFsaXplKXt2YXIgdD1lLmxlbmd0aC90aGlzLnBvc2l0aW9uU2l6ZTtyZXR1cm4gdGhpcy5vcHRzLmxvb3A/dCsyOnR9dmFyIG49dGhpcy5nZXRQYXRoTGVuZ3RoKGUpO3JldHVybiBuPDI/MDp0aGlzLmlzQ2xvc2VkKGUpP248Mz8wOm4rMjpufX0se2tleToidXBkYXRlR2VvbWV0cnlBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbihlLHQpezAhPT10Lmdlb21ldHJ5U2l6ZSYmKHRoaXMuX3VwZGF0ZVNlZ21lbnRUeXBlcyhlLHQpLHRoaXMuX3VwZGF0ZVBvc2l0aW9ucyhlLHQpKX19LHtrZXk6Il91cGRhdGVTZWdtZW50VHlwZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLnNlZ21lbnRUeXBlcyxyPXRoaXMuaXNDbG9zZWQoZSksaT10LnZlcnRleFN0YXJ0LGE9dC5nZW9tZXRyeVNpemU7bi5maWxsKDAsaSxpK2EpLHI/KG5baV09NCxuW2krYS0yXT00KToobltpXSs9MSxuW2krYS0yXSs9MiksbltpK2EtMV09NH19LHtrZXk6Il91cGRhdGVQb3NpdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9ucztpZihuKWZvcih2YXIgcj10LnZlcnRleFN0YXJ0LGk9dC5nZW9tZXRyeVNpemUsYT1yLG89MDtvPGk7YSsrLG8rKyl7dmFyIHM9dGhpcy5nZXRQb2ludE9uUGF0aChlLG8pO25bMyphXT1zWzBdLG5bMyphKzFdPXNbMV0sblszKmErMl09c1syXXx8MH19fSx7a2V5OiJnZXRQYXRoTGVuZ3RoIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGVbMF0pP2UubGVuZ3RoL3RoaXMucG9zaXRpb25TaXplOmUubGVuZ3RofX0se2tleToiZ2V0UG9pbnRPblBhdGgiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoTnVtYmVyLmlzRmluaXRlKGVbMF0pKXt2YXIgbj10aGlzLnBvc2l0aW9uU2l6ZTtyZXR1cm4gdCpuPj1lLmxlbmd0aCYmKHQrPTEtZS5sZW5ndGgvbiksW2VbdCpuXSxlW3QqbisxXSwzPT09bj9lW3QqbisyXTowXX1yZXR1cm4gdD49ZS5sZW5ndGgmJih0Kz0xLWUubGVuZ3RoKSxlW3RdfX0se2tleToiaXNDbG9zZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLm5vcm1hbGl6ZSlyZXR1cm4gdGhpcy5vcHRzLmxvb3A7dmFyIHQ9dGhpcy5nZXRQYXRoTGVuZ3RoKGUpLG49dGhpcy5nZXRQb2ludE9uUGF0aChlLDApLHI9dGhpcy5nZXRQb2ludE9uUGF0aChlLHQtMSk7cmV0dXJuIG5bMF09PT1yWzBdJiZuWzFdPT09clsxXSYmblsyXT09PXJbMl19fV0pLHR9KHcuYSk7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBFfSkpO3ZhciBQPVswLDAsMCwyNTVdLGo9e3dpZHRoVW5pdHM6Im1ldGVycyIsd2lkdGhTY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSx3aWR0aE1pblBpeGVsczp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTowfSx3aWR0aE1heFBpeGVsczp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0scm91bmRlZDohMSxtaXRlckxpbWl0Ont0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjR9LGJpbGxib2FyZDohMSxfcGF0aFR5cGU6bnVsbCxnZXRQYXRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF0aH19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6UH0sZ2V0V2lkdGg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfX0sVD17ZW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5sZW5ndGg/dC5zdWJhcnJheSh0Lmxlbmd0aC1lLmxlbmd0aCk6ZX19LEU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKCkodGhpcyx0KSx1KCkodGhpcyxsKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gdigpKHQsZSksbygpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGYoKShsKCkodC5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHBhdGgtbGF5ZXItdmVydGV4LXNoYWRlclxuXG5hdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbnM7XG5cbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVR5cGVzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTdGFydFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlRW5kUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VMZWZ0UG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VSaWdodFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlTGVmdFBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTdGFydFBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VFbmRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUmlnaHRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVN0cm9rZVdpZHRocztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG51bmlmb3JtIGZsb2F0IHdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1heFBpeGVscztcbnVuaWZvcm0gZmxvYXQgam9pbnRUeXBlO1xudW5pZm9ybSBmbG9hdCBtaXRlckxpbWl0O1xudW5pZm9ybSBib29sIGJpbGxib2FyZDtcblxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHZDb3JuZXJPZmZzZXQ7XG52YXJ5aW5nIGZsb2F0IHZNaXRlckxlbmd0aDtcbnZhcnlpbmcgdmVjMiB2UGF0aFBvc2l0aW9uO1xudmFyeWluZyBmbG9hdCB2UGF0aExlbmd0aDtcblxuY29uc3QgZmxvYXQgRVBTSUxPTiA9IDAuMDAxO1xuY29uc3QgdmVjMyBaRVJPX09GRlNFVCA9IHZlYzMoMC4wKTtcblxuZmxvYXQgZmxpcElmVHJ1ZShib29sIGZsYWcpIHtcbiAgcmV0dXJuIC0oZmxvYXQoZmxhZykgKiAyLiAtIDEuKTtcbn1cbnZlYzMgbGluZUpvaW4oXG4gIHZlYzMgcHJldlBvaW50LCB2ZWMzIGN1cnJQb2ludCwgdmVjMyBuZXh0UG9pbnQsXG4gIHZlYzIgd2lkdGhcbikge1xuICBib29sIGlzRW5kID0gcG9zaXRpb25zLnggPiAwLjA7XG4gIGZsb2F0IHNpZGVPZlBhdGggPSBwb3NpdGlvbnMueTtcbiAgZmxvYXQgaXNKb2ludCA9IGZsb2F0KHNpZGVPZlBhdGggPT0gMC4wKTtcblxuICB2ZWMyIGRlbHRhQSA9IChjdXJyUG9pbnQueHkgLSBwcmV2UG9pbnQueHkpIC8gd2lkdGg7XG4gIHZlYzIgZGVsdGFCID0gKG5leHRQb2ludC54eSAtIGN1cnJQb2ludC54eSkgLyB3aWR0aDtcblxuICBmbG9hdCBsZW5BID0gbGVuZ3RoKGRlbHRhQSk7XG4gIGZsb2F0IGxlbkIgPSBsZW5ndGgoZGVsdGFCKTtcblxuICB2ZWMyIGRpckEgPSBsZW5BID4gMC4gPyBub3JtYWxpemUoZGVsdGFBKSA6IHZlYzIoMC4wLCAwLjApO1xuICB2ZWMyIGRpckIgPSBsZW5CID4gMC4gPyBub3JtYWxpemUoZGVsdGFCKSA6IHZlYzIoMC4wLCAwLjApO1xuXG4gIHZlYzIgcGVycEEgPSB2ZWMyKC1kaXJBLnksIGRpckEueCk7XG4gIHZlYzIgcGVycEIgPSB2ZWMyKC1kaXJCLnksIGRpckIueCk7XG4gIHZlYzIgdGFuZ2VudCA9IGRpckEgKyBkaXJCO1xuICB0YW5nZW50ID0gbGVuZ3RoKHRhbmdlbnQpID4gMC4gPyBub3JtYWxpemUodGFuZ2VudCkgOiBwZXJwQTtcbiAgdmVjMiBtaXRlclZlYyA9IHZlYzIoLXRhbmdlbnQueSwgdGFuZ2VudC54KTtcbiAgdmVjMiBkaXIgPSBpc0VuZCA/IGRpckEgOiBkaXJCO1xuICB2ZWMyIHBlcnAgPSBpc0VuZCA/IHBlcnBBIDogcGVycEI7XG4gIGZsb2F0IEwgPSBpc0VuZCA/IGxlbkEgOiBsZW5CO1xuICBmbG9hdCBzaW5IYWxmQSA9IGFicyhkb3QobWl0ZXJWZWMsIHBlcnApKTtcbiAgZmxvYXQgY29zSGFsZkEgPSBhYnMoZG90KGRpckEsIG1pdGVyVmVjKSk7XG4gIGZsb2F0IHR1cm5EaXJlY3Rpb24gPSBmbGlwSWZUcnVlKGRpckEueCAqIGRpckIueSA+PSBkaXJBLnkgKiBkaXJCLngpO1xuICBmbG9hdCBjb3JuZXJQb3NpdGlvbiA9IHNpZGVPZlBhdGggKiB0dXJuRGlyZWN0aW9uO1xuXG4gIGZsb2F0IG1pdGVyU2l6ZSA9IDEuMCAvIG1heChzaW5IYWxmQSwgRVBTSUxPTik7XG4gIG1pdGVyU2l6ZSA9IG1peChcbiAgICBtaW4obWl0ZXJTaXplLCBtYXgobGVuQSwgbGVuQikgLyBtYXgoY29zSGFsZkEsIEVQU0lMT04pKSxcbiAgICBtaXRlclNpemUsXG4gICAgc3RlcCgwLjAsIGNvcm5lclBvc2l0aW9uKVxuICApO1xuXG4gIHZlYzIgb2Zmc2V0VmVjID0gbWl4KG1pdGVyVmVjICogbWl0ZXJTaXplLCBwZXJwLCBzdGVwKDAuNSwgY29ybmVyUG9zaXRpb24pKVxuICAgICogKHNpZGVPZlBhdGggKyBpc0pvaW50ICogdHVybkRpcmVjdGlvbik7XG4gIGJvb2wgaXNTdGFydENhcCA9IGxlbkEgPT0gMC4wIHx8ICghaXNFbmQgJiYgKGluc3RhbmNlVHlwZXMgPT0gMS4wIHx8IGluc3RhbmNlVHlwZXMgPT0gMy4wKSk7XG4gIGJvb2wgaXNFbmRDYXAgPSBsZW5CID09IDAuMCB8fCAoaXNFbmQgJiYgKGluc3RhbmNlVHlwZXMgPT0gMi4wIHx8IGluc3RhbmNlVHlwZXMgPT0gMy4wKSk7XG4gIGJvb2wgaXNDYXAgPSBpc1N0YXJ0Q2FwIHx8IGlzRW5kQ2FwO1xuICBpZiAoaXNDYXApIHtcbiAgICBvZmZzZXRWZWMgPSBtaXgocGVycCAqIHNpZGVPZlBhdGgsIGRpciAqIGpvaW50VHlwZSAqIDQuMCAqIGZsaXBJZlRydWUoaXNTdGFydENhcCksIGlzSm9pbnQpO1xuICB9XG4gIHZQYXRoTGVuZ3RoID0gTDtcbiAgdkNvcm5lck9mZnNldCA9IG9mZnNldFZlYztcbiAgdk1pdGVyTGVuZ3RoID0gZG90KHZDb3JuZXJPZmZzZXQsIG1pdGVyVmVjICogdHVybkRpcmVjdGlvbik7XG4gIHZNaXRlckxlbmd0aCA9IGlzQ2FwID8gaXNKb2ludCA6IHZNaXRlckxlbmd0aDtcblxuICB2ZWMyIG9mZnNldEZyb21TdGFydE9mUGF0aCA9IHZDb3JuZXJPZmZzZXQgKyBkZWx0YUEgKiBmbG9hdChpc0VuZCk7XG4gIHZQYXRoUG9zaXRpb24gPSB2ZWMyKFxuICAgIGRvdChvZmZzZXRGcm9tU3RhcnRPZlBhdGgsIHBlcnApLFxuICAgIGRvdChvZmZzZXRGcm9tU3RhcnRPZlBhdGgsIGRpcilcbiAgKTtcbiAgZ2VvbWV0cnkudXYgPSB2UGF0aFBvc2l0aW9uO1xuXG4gIGZsb2F0IGlzVmFsaWQgPSBzdGVwKGluc3RhbmNlVHlwZXMsIDMuNSk7XG4gIHZlYzMgb2Zmc2V0ID0gdmVjMyhvZmZzZXRWZWMgKiB3aWR0aCAqIGlzVmFsaWQsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXQsIGdlb21ldHJ5KTtcbiAgcmV0dXJuIGN1cnJQb2ludCArIG9mZnNldDtcbn1cbnZvaWQgY2xpcExpbmUoaW5vdXQgdmVjNCBwb3NpdGlvbiwgdmVjNCByZWZQb3NpdGlvbikge1xuICBpZiAocG9zaXRpb24udyA8IEVQU0lMT04pIHtcbiAgICBmbG9hdCByID0gKEVQU0lMT04gLSByZWZQb3NpdGlvbi53KSAvIChwb3NpdGlvbi53IC0gcmVmUG9zaXRpb24udyk7XG4gICAgcG9zaXRpb24gPSByZWZQb3NpdGlvbiArIChwb3NpdGlvbiAtIHJlZlBvc2l0aW9uKSAqIHI7XG4gIH1cbn1cblxudm9pZCBtYWluKCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VTdGFydFBvc2l0aW9ucztcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdCA9IGluc3RhbmNlRW5kUG9zaXRpb25zO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbiAgdmVjMiB3aWR0aFBpeGVscyA9IHZlYzIoY2xhbXAocHJvamVjdF9zaXplX3RvX3BpeGVsKGluc3RhbmNlU3Ryb2tlV2lkdGhzICogd2lkdGhTY2FsZSksXG4gICAgd2lkdGhNaW5QaXhlbHMsIHdpZHRoTWF4UGl4ZWxzKSAvIDIuMCk7XG5cbiAgdkNvbG9yID0gdmVjNChpbnN0YW5jZUNvbG9ycy5yZ2IsIGluc3RhbmNlQ29sb3JzLmEgKiBvcGFjaXR5KTtcblxuICBmbG9hdCBpc0VuZCA9IHBvc2l0aW9ucy54O1xuXG4gIHZlYzMgcHJldlBvc2l0aW9uID0gbWl4KGluc3RhbmNlTGVmdFBvc2l0aW9ucywgaW5zdGFuY2VTdGFydFBvc2l0aW9ucywgaXNFbmQpO1xuICB2ZWMzIHByZXZQb3NpdGlvbjY0TG93ID0gbWl4KGluc3RhbmNlTGVmdFBvc2l0aW9uczY0TG93LCBpbnN0YW5jZVN0YXJ0UG9zaXRpb25zNjRMb3csIGlzRW5kKTtcblxuICB2ZWMzIGN1cnJQb3NpdGlvbiA9IG1peChpbnN0YW5jZVN0YXJ0UG9zaXRpb25zLCBpbnN0YW5jZUVuZFBvc2l0aW9ucywgaXNFbmQpO1xuICB2ZWMzIGN1cnJQb3NpdGlvbjY0TG93ID0gbWl4KGluc3RhbmNlU3RhcnRQb3NpdGlvbnM2NExvdywgaW5zdGFuY2VFbmRQb3NpdGlvbnM2NExvdywgaXNFbmQpO1xuXG4gIHZlYzMgbmV4dFBvc2l0aW9uID0gbWl4KGluc3RhbmNlRW5kUG9zaXRpb25zLCBpbnN0YW5jZVJpZ2h0UG9zaXRpb25zLCBpc0VuZCk7XG4gIHZlYzMgbmV4dFBvc2l0aW9uNjRMb3cgPSBtaXgoaW5zdGFuY2VFbmRQb3NpdGlvbnM2NExvdywgaW5zdGFuY2VSaWdodFBvc2l0aW9uczY0TG93LCBpc0VuZCk7XG5cbiAgaWYgKGJpbGxib2FyZCkge1xuICAgIHZlYzQgcHJldlBvc2l0aW9uU2NyZWVuID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocHJldlBvc2l0aW9uLCBwcmV2UG9zaXRpb242NExvdywgWkVST19PRkZTRVQpO1xuICAgIHZlYzQgY3VyclBvc2l0aW9uU2NyZWVuID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoY3VyclBvc2l0aW9uLCBjdXJyUG9zaXRpb242NExvdywgWkVST19PRkZTRVQsIGdlb21ldHJ5LnBvc2l0aW9uKTtcbiAgICB2ZWM0IG5leHRQb3NpdGlvblNjcmVlbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKG5leHRQb3NpdGlvbiwgbmV4dFBvc2l0aW9uNjRMb3csIFpFUk9fT0ZGU0VUKTtcblxuICAgIGNsaXBMaW5lKHByZXZQb3NpdGlvblNjcmVlbiwgY3VyclBvc2l0aW9uU2NyZWVuKTtcbiAgICBjbGlwTGluZShuZXh0UG9zaXRpb25TY3JlZW4sIGN1cnJQb3NpdGlvblNjcmVlbik7XG4gICAgY2xpcExpbmUoY3VyclBvc2l0aW9uU2NyZWVuLCBtaXgobmV4dFBvc2l0aW9uU2NyZWVuLCBwcmV2UG9zaXRpb25TY3JlZW4sIGlzRW5kKSk7XG5cbiAgICB2ZWMyIHdpZHRoID0gcHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZSh3aWR0aFBpeGVscyk7XG5cbiAgICB2ZWMzIHBvcyA9IGxpbmVKb2luKFxuICAgICAgcHJldlBvc2l0aW9uU2NyZWVuLnh5eiAvIHByZXZQb3NpdGlvblNjcmVlbi53LFxuICAgICAgY3VyclBvc2l0aW9uU2NyZWVuLnh5eiAvIGN1cnJQb3NpdGlvblNjcmVlbi53LFxuICAgICAgbmV4dFBvc2l0aW9uU2NyZWVuLnh5eiAvIG5leHRQb3NpdGlvblNjcmVlbi53LFxuICAgICAgd2lkdGhcbiAgICApO1xuXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvcyAqIGN1cnJQb3NpdGlvblNjcmVlbi53LCBjdXJyUG9zaXRpb25TY3JlZW4udyk7XG4gIH0gZWxzZSB7XG4gICAgcHJldlBvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbihwcmV2UG9zaXRpb24sIHByZXZQb3NpdGlvbjY0TG93KTtcbiAgICBjdXJyUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKGN1cnJQb3NpdGlvbiwgY3VyclBvc2l0aW9uNjRMb3cpO1xuICAgIG5leHRQb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb24obmV4dFBvc2l0aW9uLCBuZXh0UG9zaXRpb242NExvdyk7XG5cbiAgICB2ZWMyIHdpZHRoID0gcHJvamVjdF9waXhlbF9zaXplKHdpZHRoUGl4ZWxzKTtcblxuICAgIHZlYzQgcG9zID0gdmVjNChcbiAgICAgIGxpbmVKb2luKHByZXZQb3NpdGlvbiwgY3VyclBvc2l0aW9uLCBuZXh0UG9zaXRpb24sIHdpZHRoKSxcbiAgICAgIDEuMCk7XG4gICAgZ2VvbWV0cnkucG9zaXRpb24gPSBwb3M7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zKTtcbiAgfVxuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHBhdGgtbGF5ZXItZnJhZ21lbnQtc2hhZGVyXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBmbG9hdCBqb2ludFR5cGU7XG51bmlmb3JtIGZsb2F0IG1pdGVyTGltaXQ7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIHZlYzIgdkNvcm5lck9mZnNldDtcbnZhcnlpbmcgZmxvYXQgdk1pdGVyTGVuZ3RoO1xudmFyeWluZyB2ZWMyIHZQYXRoUG9zaXRpb247XG52YXJ5aW5nIGZsb2F0IHZQYXRoTGVuZ3RoO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHZQYXRoUG9zaXRpb247XG5cbiAgaWYgKHZQYXRoUG9zaXRpb24ueSA8IDAuMCB8fCB2UGF0aFBvc2l0aW9uLnkgPiB2UGF0aExlbmd0aCkge1xuICAgIGlmIChqb2ludFR5cGUgPiAwLjAgJiYgbGVuZ3RoKHZDb3JuZXJPZmZzZXQpID4gMS4wKSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgICBpZiAoam9pbnRUeXBlID09IDAuMCAmJiB2TWl0ZXJMZW5ndGggPiBtaXRlckxpbWl0ICsgMS4wKSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgfVxuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG5cbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihnbF9GcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbcC5hLGcuYV19KX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7cG9zaXRpb25zOntzaXplOjMsdmVydGV4T2Zmc2V0OjEsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLHRyYW5zaXRpb246VCxhY2Nlc3NvcjoiZ2V0UGF0aCIsdXBkYXRlOnRoaXMuY2FsY3VsYXRlUG9zaXRpb25zLG5vQWxsb2M6ITAsc2hhZGVyQXR0cmlidXRlczp7aW5zdGFuY2VMZWZ0UG9zaXRpb25zOnt2ZXJ0ZXhPZmZzZXQ6MH0saW5zdGFuY2VTdGFydFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjF9LGluc3RhbmNlRW5kUG9zaXRpb25zOnt2ZXJ0ZXhPZmZzZXQ6Mn0saW5zdGFuY2VSaWdodFBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjN9fX0saW5zdGFuY2VUeXBlczp7c2l6ZToxLHR5cGU6NTEyMSx1cGRhdGU6dGhpcy5jYWxjdWxhdGVTZWdtZW50VHlwZXMsbm9BbGxvYzohMH0saW5zdGFuY2VTdHJva2VXaWR0aHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0V2lkdGgiLHRyYW5zaXRpb246VCxkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsYWNjZXNzb3I6ImdldENvbG9yIix0cmFuc2l0aW9uOlQsZGVmYXVsdFZhbHVlOlB9LGluc3RhbmNlUGlja2luZ0NvbG9yczp7c2l6ZTozLHR5cGU6NTEyMSxhY2Nlc3NvcjpmdW5jdGlvbih0LG4pe3ZhciByPW4uaW5kZXgsaT1uLnRhcmdldDtyZXR1cm4gZS5lbmNvZGVQaWNraW5nQ29sb3IocixpKX19fSksdGhpcy5zZXRTdGF0ZSh7cGF0aFRlc3NlbGF0b3I6bmV3IGsoe2ZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpfSl9KSx0aGlzLnByb3BzLmdldERhc2hBcnJheSYmIXRoaXMucHJvcHMuZXh0ZW5zaW9ucy5sZW5ndGgmJnkuYS5yZW1vdmVkKCJnZXREYXNoQXJyYXkiLCJQYXRoU3R5bGVFeHRlbnNpb24iKSgpfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUub2xkUHJvcHMscj1lLnByb3BzLGk9ZS5jaGFuZ2VGbGFncztmKCkobCgpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6cixvbGRQcm9wczpuLGNoYW5nZUZsYWdzOml9KTt2YXIgYT10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtpZihpLmRhdGFDaGFuZ2VkfHxpLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKGkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8aS51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0UGF0aCkpe3ZhciBvPXRoaXMuc3RhdGUucGF0aFRlc3NlbGF0b3Iscz1yLmRhdGEuYXR0cmlidXRlc3x8e307by51cGRhdGVHZW9tZXRyeSh7ZGF0YTpyLmRhdGEsZ2VvbWV0cnlCdWZmZXI6cy5nZXRQYXRoLGJ1ZmZlcnM6cyxub3JtYWxpemU6IXIuX3BhdGhUeXBlLGxvb3A6Imxvb3AiPT09ci5fcGF0aFR5cGUsZ2V0R2VvbWV0cnk6ci5nZXRQYXRoLHBvc2l0aW9uRm9ybWF0OnIucG9zaXRpb25Gb3JtYXQsZGF0YUNoYW5nZWQ6aS5kYXRhQ2hhbmdlZH0pLHRoaXMuc2V0U3RhdGUoe251bUluc3RhbmNlczpvLmluc3RhbmNlQ291bnQsc3RhcnRJbmRpY2VzOm8udmVydGV4U3RhcnRzfSksaS5kYXRhQ2hhbmdlZHx8YS5pbnZhbGlkYXRlQWxsKCl9aWYoaS5leHRlbnNpb25zQ2hhbmdlZCl7dmFyIHU9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RhdGUubW9kZWwmJnRoaXMuc3RhdGUubW9kZWwuZGVsZXRlKCksdGhpcy5zZXRTdGF0ZSh7bW9kZWw6dGhpcy5fZ2V0TW9kZWwodSl9KSxhLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIucm91bmRlZCxhPXIuYmlsbGJvYXJkLG89ci5taXRlckxpbWl0LHM9ci53aWR0aFVuaXRzLHU9ci53aWR0aFNjYWxlLGM9ci53aWR0aE1pblBpeGVscyxsPXIud2lkdGhNYXhQaXhlbHMsaD0icGl4ZWxzIj09PXM/bi5tZXRlcnNQZXJQaXhlbDoxO3RoaXMuc3RhdGUubW9kZWwuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0LHtqb2ludFR5cGU6TnVtYmVyKGkpLGJpbGxib2FyZDphLHdpZHRoU2NhbGU6dSpoLG1pdGVyTGltaXQ6byx3aWR0aE1pblBpeGVsczpjLHdpZHRoTWF4UGl4ZWxzOmx9KSkuZHJhdygpfX0se2tleToiX2dldE1vZGVsIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGIuYShlLE9iamVjdC5hc3NpZ24oe30sdGhpcy5nZXRTaGFkZXJzKCkse2lkOnRoaXMucHJvcHMuaWQsZ2VvbWV0cnk6bmV3IF8uYSh7ZHJhd01vZGU6NCxhdHRyaWJ1dGVzOntpbmRpY2VzOm5ldyBVaW50MTZBcnJheShbMCwyLDEsMSwyLDQsMSw0LDMsMyw0LDVdKSxwb3NpdGlvbnM6e3ZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLC0xLDAsMSwxLC0xLDEsMSwxLDBdKSxzaXplOjJ9fX0pLGlzSW5zdGFuY2VkOiEwfSkpfX0se2tleToiY2FsY3VsYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnBhdGhUZXNzZWxhdG9yO2Uuc3RhcnRJbmRpY2VzPXQudmVydGV4U3RhcnRzLGUudmFsdWU9dC5nZXQoInBvc2l0aW9ucyIpfX0se2tleToiY2FsY3VsYXRlU2VnbWVudFR5cGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnBhdGhUZXNzZWxhdG9yO2Uuc3RhcnRJbmRpY2VzPXQudmVydGV4U3RhcnRzLGUudmFsdWU9dC5nZXQoInNlZ21lbnRUeXBlcyIpfX1dKSx0fShtLmEpO0UubGF5ZXJOYW1lPSJQYXRoTGF5ZXIiLEUuZGVmYXVsdFByb3BzPWp9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9e25hbWU6ImZwMzIiLHZzOiIjaWZkZWYgTFVNQV9GUDMyX1RBTl9QUkVDSVNJT05fV09SS0FST1VORFxuY29uc3QgZmxvYXQgVFdPX1BJID0gNi4yODMxODU0ODIwMjUxNDY1O1xuY29uc3QgZmxvYXQgUElfMiA9IDEuNTcwNzk2MzcwNTA2Mjg2NjtcbmNvbnN0IGZsb2F0IFBJXzE2ID0gMC4xOTYzNDk1NDYzMTMyODU4O1xuXG5jb25zdCBmbG9hdCBTSU5fVEFCTEVfMCA9IDAuMTk1MDkwMzIzNjg2NTk5NzM7XG5jb25zdCBmbG9hdCBTSU5fVEFCTEVfMSA9IDAuMzgyNjgzNDI2MTQxNzM4OTtcbmNvbnN0IGZsb2F0IFNJTl9UQUJMRV8yID0gMC41NTU1NzAyNDQ3ODkxMjM1O1xuY29uc3QgZmxvYXQgU0lOX1RBQkxFXzMgPSAwLjcwNzEwNjc2OTA4NDkzMDQ7XG5cbmNvbnN0IGZsb2F0IENPU19UQUJMRV8wID0gMC45ODA3ODUyNTA2NjM3NTczO1xuY29uc3QgZmxvYXQgQ09TX1RBQkxFXzEgPSAwLjkyMzg3OTUwNDIwMzc5NjQ7XG5jb25zdCBmbG9hdCBDT1NfVEFCTEVfMiA9IDAuODMxNDY5NTk1NDMyMjgxNTtcbmNvbnN0IGZsb2F0IENPU19UQUJMRV8zID0gMC43MDcxMDY3NjkwODQ5MzA0O1xuXG5jb25zdCBmbG9hdCBJTlZFUlNFX0ZBQ1RPUklBTF8zID0gMS42NjY2NjY3MTYzMzcyMDRlLTAxO1xuY29uc3QgZmxvYXQgSU5WRVJTRV9GQUNUT1JJQUxfNSA9IDguMzMzMzMzNzY3OTUwNTM1ZS0wMztcbmNvbnN0IGZsb2F0IElOVkVSU0VfRkFDVE9SSUFMXzcgPSAxLjk4NDEyNzAxMTM4Mjk1MjNlLTA0O1xuY29uc3QgZmxvYXQgSU5WRVJTRV9GQUNUT1JJQUxfOSA9IDIuNzU1NzMxODg0NDYyODc1MzNlLTA2O1xuXG5mbG9hdCBzaW5fdGF5bG9yX2ZwMzIoZmxvYXQgYSkge1xuICBmbG9hdCByLCBzLCB0LCB4O1xuXG4gIGlmIChhID09IDAuMCkge1xuICAgIHJldHVybiAwLjA7XG4gIH1cblxuICB4ID0gLWEgKiBhO1xuICBzID0gYTtcbiAgciA9IGE7XG5cbiAgciA9IHIgKiB4O1xuICB0ID0gciAqIElOVkVSU0VfRkFDVE9SSUFMXzM7XG4gIHMgPSBzICsgdDtcblxuICByID0gciAqIHg7XG4gIHQgPSByICogSU5WRVJTRV9GQUNUT1JJQUxfNTtcbiAgcyA9IHMgKyB0O1xuXG4gIHIgPSByICogeDtcbiAgdCA9IHIgKiBJTlZFUlNFX0ZBQ1RPUklBTF83O1xuICBzID0gcyArIHQ7XG5cbiAgciA9IHIgKiB4O1xuICB0ID0gciAqIElOVkVSU0VfRkFDVE9SSUFMXzk7XG4gIHMgPSBzICsgdDtcblxuICByZXR1cm4gcztcbn1cblxudm9pZCBzaW5jb3NfdGF5bG9yX2ZwMzIoZmxvYXQgYSwgb3V0IGZsb2F0IHNpbl90LCBvdXQgZmxvYXQgY29zX3QpIHtcbiAgaWYgKGEgPT0gMC4wKSB7XG4gICAgc2luX3QgPSAwLjA7XG4gICAgY29zX3QgPSAxLjA7XG4gIH1cbiAgc2luX3QgPSBzaW5fdGF5bG9yX2ZwMzIoYSk7XG4gIGNvc190ID0gc3FydCgxLjAgLSBzaW5fdCAqIHNpbl90KTtcbn1cblxuZmxvYXQgdGFuX3RheWxvcl9mcDMyKGZsb2F0IGEpIHtcbiAgICBmbG9hdCBzaW5fYTtcbiAgICBmbG9hdCBjb3NfYTtcblxuICAgIGlmIChhID09IDAuMCkge1xuICAgICAgICByZXR1cm4gMC4wO1xuICAgIH1cbiAgICBmbG9hdCB6ID0gZmxvb3IoYSAvIFRXT19QSSk7XG4gICAgZmxvYXQgciA9IGEgLSBUV09fUEkgKiB6O1xuXG4gICAgZmxvYXQgdDtcbiAgICBmbG9hdCBxID0gZmxvb3IociAvIFBJXzIgKyAwLjUpO1xuICAgIGludCBqID0gaW50KHEpO1xuXG4gICAgaWYgKGogPCAtMiB8fCBqID4gMikge1xuICAgICAgICByZXR1cm4gMC4wIC8gMC4wO1xuICAgIH1cblxuICAgIHQgPSByIC0gUElfMiAqIHE7XG5cbiAgICBxID0gZmxvb3IodCAvIFBJXzE2ICsgMC41KTtcbiAgICBpbnQgayA9IGludChxKTtcbiAgICBpbnQgYWJzX2sgPSBpbnQoYWJzKGZsb2F0KGspKSk7XG5cbiAgICBpZiAoYWJzX2sgPiA0KSB7XG4gICAgICAgIHJldHVybiAwLjAgLyAwLjA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdCA9IHQgLSBQSV8xNiAqIHE7XG4gICAgfVxuXG4gICAgZmxvYXQgdSA9IDAuMDtcbiAgICBmbG9hdCB2ID0gMC4wO1xuXG4gICAgZmxvYXQgc2luX3QsIGNvc190O1xuICAgIGZsb2F0IHMsIGM7XG4gICAgc2luY29zX3RheWxvcl9mcDMyKHQsIHNpbl90LCBjb3NfdCk7XG5cbiAgICBpZiAoayA9PSAwKSB7XG4gICAgICAgIHMgPSBzaW5fdDtcbiAgICAgICAgYyA9IGNvc190O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMS4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8wO1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8wO1xuICAgICAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSAyLjApIDwgMC41KSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzE7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzE7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDMuMCkgPCAwLjUpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMjtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfMjtcbiAgICAgICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gNC4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8zO1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcyA9IHUgKiBzaW5fdCArIHYgKiBjb3NfdDtcbiAgICAgICAgICAgIGMgPSB1ICogY29zX3QgLSB2ICogc2luX3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gdSAqIHNpbl90IC0gdiAqIGNvc190O1xuICAgICAgICAgICAgYyA9IHUgKiBjb3NfdCArIHYgKiBzaW5fdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChqID09IDApIHtcbiAgICAgICAgc2luX2EgPSBzO1xuICAgICAgICBjb3NfYSA9IGM7XG4gICAgfSBlbHNlIGlmIChqID09IDEpIHtcbiAgICAgICAgc2luX2EgPSBjO1xuICAgICAgICBjb3NfYSA9IC1zO1xuICAgIH0gZWxzZSBpZiAoaiA9PSAtMSkge1xuICAgICAgICBzaW5fYSA9IC1jO1xuICAgICAgICBjb3NfYSA9IHM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2luX2EgPSAtcztcbiAgICAgICAgY29zX2EgPSAtYztcbiAgICB9XG4gICAgcmV0dXJuIHNpbl9hIC8gY29zX2E7XG59XG4jZW5kaWZcblxuZmxvYXQgdGFuX2ZwMzIoZmxvYXQgYSkge1xuI2lmZGVmIExVTUFfRlAzMl9UQU5fUFJFQ0lTSU9OX1dPUktBUk9VTkRcbiAgcmV0dXJuIHRhbl90YXlsb3JfZnAzMihhKTtcbiNlbHNlXG4gIHJldHVybiB0YW4oYSk7XG4jZW5kaWZcbn1cbiIsZnM6bnVsbH0saT1uKDIyKSxhPU9iamVjdC5rZXlzKGkuYSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iY29uc3QgaW50IENPT1JESU5BVEVfU1lTVEVNXyIuY29uY2F0KGUsIiA9ICIpLmNvbmNhdChpLmFbZV0sIjsiKX0pKS5qb2luKCIiKSxvPU9iamVjdC5rZXlzKGkuYykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iY29uc3QgaW50IFBST0pFQ1RJT05fTU9ERV8iLmNvbmNhdChlLCIgPSAiKS5jb25jYXQoaS5jW2VdLCI7Iil9KSkuam9pbigiIikscz0iIi5jb25jYXQoYSwiXG4iKS5jb25jYXQobywiXG5cbnVuaWZvcm0gaW50IHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW07XG51bmlmb3JtIGludCBwcm9qZWN0X3VQcm9qZWN0aW9uTW9kZTtcbnVuaWZvcm0gZmxvYXQgcHJvamVjdF91U2NhbGU7XG51bmlmb3JtIGJvb2wgcHJvamVjdF91V3JhcExvbmdpdHVkZTtcbnVuaWZvcm0gZmxvYXQgcHJvamVjdF91QW50aW1lcmlkaWFuO1xudW5pZm9ybSB2ZWMzIHByb2plY3RfdUNvbW1vblVuaXRzUGVyTWV0ZXI7XG51bmlmb3JtIHZlYzMgcHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQ7XG51bmlmb3JtIHZlYzMgcHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQyO1xudW5pZm9ybSB2ZWM0IHByb2plY3RfdUNlbnRlcjtcbnVuaWZvcm0gbWF0NCBwcm9qZWN0X3VNb2RlbE1hdHJpeDtcbnVuaWZvcm0gbWF0NCBwcm9qZWN0X3VWaWV3UHJvamVjdGlvbk1hdHJpeDtcbnVuaWZvcm0gdmVjMiBwcm9qZWN0X3VWaWV3cG9ydFNpemU7XG51bmlmb3JtIGZsb2F0IHByb2plY3RfdURldmljZVBpeGVsUmF0aW87XG51bmlmb3JtIGZsb2F0IHByb2plY3RfdUZvY2FsRGlzdGFuY2U7XG51bmlmb3JtIHZlYzMgcHJvamVjdF91Q2FtZXJhUG9zaXRpb247XG51bmlmb3JtIHZlYzMgcHJvamVjdF91Q29vcmRpbmF0ZU9yaWdpbjtcblxuY29uc3QgZmxvYXQgVElMRV9TSVpFID0gNTEyLjA7XG5jb25zdCBmbG9hdCBQSSA9IDMuMTQxNTkyNjUzNjtcbmNvbnN0IGZsb2F0IFdPUkxEX1NDQUxFID0gVElMRV9TSVpFIC8gKFBJICogMi4wKTtcbmNvbnN0IHZlYzMgWkVST182NF9MT1cgPSB2ZWMzKDAuMCk7XG5mbG9hdCBwcm9qZWN0X3NpemUoZmxvYXQgbWV0ZXJzKSB7XG4gIHJldHVybiBtZXRlcnMgKiBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyLno7XG59XG5cbnZlYzIgcHJvamVjdF9zaXplKHZlYzIgbWV0ZXJzKSB7XG4gIHJldHVybiBtZXRlcnMgKiBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyLnh5O1xufVxuXG52ZWMzIHByb2plY3Rfc2l6ZSh2ZWMzIG1ldGVycykge1xuICByZXR1cm4gbWV0ZXJzICogcHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlcjtcbn1cblxudmVjNCBwcm9qZWN0X3NpemUodmVjNCBtZXRlcnMpIHtcbiAgcmV0dXJuIHZlYzQobWV0ZXJzLnh5eiAqIHByb2plY3RfdUNvbW1vblVuaXRzUGVyTWV0ZXIsIG1ldGVycy53KTtcbn1cbnZlYzMgcHJvamVjdF9ub3JtYWwodmVjMyB2ZWN0b3IpIHtcbiAgdmVjNCBub3JtYWxfbW9kZWxzcGFjZSA9IHByb2plY3RfdU1vZGVsTWF0cml4ICogdmVjNCh2ZWN0b3IsIDAuMCk7XG4gIHJldHVybiBub3JtYWxpemUobm9ybWFsX21vZGVsc3BhY2UueHl6ICogcHJvamVjdF91Q29tbW9uVW5pdHNQZXJNZXRlcik7XG59XG5cbnZlYzQgcHJvamVjdF9vZmZzZXRfKHZlYzQgb2Zmc2V0KSB7XG4gIGZsb2F0IGR5ID0gb2Zmc2V0Lnk7XG4gIGlmIChwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtID09IENPT1JESU5BVEVfU1lTVEVNX0xOR0xBVCkge1xuICAgIGR5ID0gY2xhbXAoZHksIC0xLiwgMS4pO1xuICB9XG4gIHZlYzMgY29tbW9uVW5pdHNQZXJXb3JsZFVuaXQgPSBwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdCArIHByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0MiAqIGR5O1xuICByZXR1cm4gdmVjNChvZmZzZXQueHl6ICogY29tbW9uVW5pdHNQZXJXb3JsZFVuaXQsIG9mZnNldC53KTtcbn1cbnZlYzIgcHJvamVjdF9tZXJjYXRvcl8odmVjMiBsbmdsYXQpIHtcbiAgZmxvYXQgeCA9IGxuZ2xhdC54O1xuICBpZiAocHJvamVjdF91V3JhcExvbmdpdHVkZSkge1xuICAgIHggPSBtb2QoeCAtIHByb2plY3RfdUFudGltZXJpZGlhbiwgMzYwLjApICsgcHJvamVjdF91QW50aW1lcmlkaWFuO1xuICB9XG4gIHJldHVybiB2ZWMyKFxuICAgIHJhZGlhbnMoeCkgKyBQSSxcbiAgICBQSSArIGxvZyh0YW5fZnAzMihQSSAqIDAuMjUgKyByYWRpYW5zKGxuZ2xhdC55KSAqIDAuNSkpXG4gICk7XG59XG52ZWM0IHByb2plY3RfcG9zaXRpb24odmVjNCBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0TG93KSB7XG4gIHZlYzQgcG9zaXRpb25fd29ybGQgPSBwcm9qZWN0X3VNb2RlbE1hdHJpeCAqIHBvc2l0aW9uO1xuICBpZiAocHJvamVjdF91UHJvamVjdGlvbk1vZGUgPT0gUFJPSkVDVElPTl9NT0RFX1dFQl9NRVJDQVRPUikge1xuICAgIGlmIChwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtID09IENPT1JESU5BVEVfU1lTVEVNX0xOR0xBVCkge1xuICAgICAgcmV0dXJuIHZlYzQoXG4gICAgICAgIHByb2plY3RfbWVyY2F0b3JfKHBvc2l0aW9uX3dvcmxkLnh5KSAqIFdPUkxEX1NDQUxFLFxuICAgICAgICBwcm9qZWN0X3NpemUocG9zaXRpb25fd29ybGQueiksXG4gICAgICAgIHBvc2l0aW9uX3dvcmxkLndcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGlmIChwcm9qZWN0X3VQcm9qZWN0aW9uTW9kZSA9PSBQUk9KRUNUSU9OX01PREVfSURFTlRJVFkgfHxcbiAgICAocHJvamVjdF91UHJvamVjdGlvbk1vZGUgPT0gUFJPSkVDVElPTl9NT0RFX1dFQl9NRVJDQVRPUl9BVVRPX09GRlNFVCAmJlxuICAgIChwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtID09IENPT1JESU5BVEVfU1lTVEVNX0xOR0xBVCB8fFxuICAgICBwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtID09IENPT1JESU5BVEVfU1lTVEVNX0NBUlRFU0lBTikpKSB7XG4gICAgcG9zaXRpb25fd29ybGQueHl6IC09IHByb2plY3RfdUNvb3JkaW5hdGVPcmlnaW47XG4gICAgcG9zaXRpb25fd29ybGQgKz0gcHJvamVjdF91TW9kZWxNYXRyaXggKiB2ZWM0KHBvc2l0aW9uNjRMb3csIDAuMCk7XG4gIH1cblxuICByZXR1cm4gcHJvamVjdF9vZmZzZXRfKHBvc2l0aW9uX3dvcmxkKTtcbn1cblxudmVjNCBwcm9qZWN0X3Bvc2l0aW9uKHZlYzQgcG9zaXRpb24pIHtcbiAgcmV0dXJuIHByb2plY3RfcG9zaXRpb24ocG9zaXRpb24sIFpFUk9fNjRfTE9XKTtcbn1cblxudmVjMyBwcm9qZWN0X3Bvc2l0aW9uKHZlYzMgcG9zaXRpb24sIHZlYzMgcG9zaXRpb242NExvdykge1xuICB2ZWM0IHByb2plY3RlZF9wb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb24odmVjNChwb3NpdGlvbiwgMS4wKSwgcG9zaXRpb242NExvdyk7XG4gIHJldHVybiBwcm9qZWN0ZWRfcG9zaXRpb24ueHl6O1xufVxuXG52ZWMzIHByb2plY3RfcG9zaXRpb24odmVjMyBwb3NpdGlvbikge1xuICB2ZWM0IHByb2plY3RlZF9wb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb24odmVjNChwb3NpdGlvbiwgMS4wKSwgWkVST182NF9MT1cpO1xuICByZXR1cm4gcHJvamVjdGVkX3Bvc2l0aW9uLnh5ejtcbn1cblxudmVjMiBwcm9qZWN0X3Bvc2l0aW9uKHZlYzIgcG9zaXRpb24pIHtcbiAgdmVjNCBwcm9qZWN0ZWRfcG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKSwgWkVST182NF9MT1cpO1xuICByZXR1cm4gcHJvamVjdGVkX3Bvc2l0aW9uLnh5O1xufVxuXG52ZWM0IHByb2plY3RfY29tbW9uX3Bvc2l0aW9uX3RvX2NsaXBzcGFjZSh2ZWM0IHBvc2l0aW9uLCBtYXQ0IHZpZXdQcm9qZWN0aW9uTWF0cml4LCB2ZWM0IGNlbnRlcikge1xuICByZXR1cm4gdmlld1Byb2plY3Rpb25NYXRyaXggKiBwb3NpdGlvbiArIGNlbnRlcjtcbn1cbnZlYzQgcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHZlYzQgcG9zaXRpb24pIHtcbiAgcmV0dXJuIHByb2plY3RfY29tbW9uX3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShwb3NpdGlvbiwgcHJvamVjdF91Vmlld1Byb2plY3Rpb25NYXRyaXgsIHByb2plY3RfdUNlbnRlcik7XG59XG52ZWMyIHByb2plY3RfcGl4ZWxfc2l6ZV90b19jbGlwc3BhY2UodmVjMiBwaXhlbHMpIHtcbiAgdmVjMiBvZmZzZXQgPSBwaXhlbHMgLyBwcm9qZWN0X3VWaWV3cG9ydFNpemUgKiBwcm9qZWN0X3VEZXZpY2VQaXhlbFJhdGlvICogMi4wO1xuICByZXR1cm4gb2Zmc2V0ICogcHJvamVjdF91Rm9jYWxEaXN0YW5jZTtcbn1cblxuZmxvYXQgcHJvamVjdF9zaXplX3RvX3BpeGVsKGZsb2F0IG1ldGVycykge1xuICByZXR1cm4gcHJvamVjdF9zaXplKG1ldGVycykgKiBwcm9qZWN0X3VTY2FsZTtcbn1cbmZsb2F0IHByb2plY3RfcGl4ZWxfc2l6ZShmbG9hdCBwaXhlbHMpIHtcbiAgcmV0dXJuIHBpeGVscyAvIHByb2plY3RfdVNjYWxlO1xufVxudmVjMiBwcm9qZWN0X3BpeGVsX3NpemUodmVjMiBwaXhlbHMpIHtcbiAgcmV0dXJuIHBpeGVscyAvIHByb2plY3RfdVNjYWxlO1xufVxuIiksdT1uKDExMyksYz17fTt0LmE9e25hbWU6InByb2plY3QiLGRlcGVuZGVuY2llczpbcl0sdnM6cyxnZXRVbmlmb3JtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpjO3JldHVybiBlLnZpZXdwb3J0P09iamVjdCh1LmIpKGUpOnt9fX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQsbixyLGksYSxvKXt0cnl7dmFyIHM9ZVthXShvKSx1PXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dCh1KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihyLGkpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxhKXt2YXIgbz1lLmFwcGx5KHQscik7ZnVuY3Rpb24gcyhlKXtuKG8saSxhLHMsdSwibmV4dCIsZSl9ZnVuY3Rpb24gdShlKXtuKG8saSxhLHMsdSwidGhyb3ciLGUpfXModm9pZCAwKX0pKX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7dmFyIHQ7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wpe2lmKFN5bWJvbC5hc3luY0l0ZXJhdG9yJiZudWxsIT0odD1lW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkpcmV0dXJuIHQuY2FsbChlKTtpZihTeW1ib2wuaXRlcmF0b3ImJm51bGwhPSh0PWVbU3ltYm9sLml0ZXJhdG9yXSkpcmV0dXJuIHQuY2FsbChlKX10aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlIil9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLGk9big1KSxhPW4oMTYpLG89bigxNSkscz1uKDM4KSx1PW4oNiksYz1uKDE3KSxsPW4oNDgpLGg9bigwKSxmPSJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0IixkPShyPXt9LE9iamVjdChoLmEpKHIsMzMxODkse2JwcDoyfSksT2JqZWN0KGguYSkociwzMzE5MCx7Z2wyOiEwLGJwcDozfSksT2JqZWN0KGguYSkociwzNjAxMix7Z2wyOiEwLGJwcDo0fSksT2JqZWN0KGguYSkociwzNjE2OCx7YnBwOjF9KSxPYmplY3QoaC5hKShyLDM0MDQxLHticHA6NH0pLE9iamVjdChoLmEpKHIsMzUwNTYse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzYwMTMse2dsMjohMCxicHA6NX0pLE9iamVjdChoLmEpKHIsMzI4NTQse2JwcDoyfSksT2JqZWN0KGguYSkociwzNjE5NCx7YnBwOjJ9KSxPYmplY3QoaC5hKShyLDMyODU1LHticHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMjEse2dsMjohMCxicHA6MX0pLE9iamVjdChoLmEpKHIsMzMzMzAse2dsMjohMCxicHA6MX0pLE9iamVjdChoLmEpKHIsMzMzMjkse2dsMjohMCxicHA6MX0pLE9iamVjdChoLmEpKHIsMzMzMzIse2dsMjohMCxicHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMzEse2dsMjohMCxicHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMzQse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzMzMzMse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzMzMjMse2dsMjohMCxicHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMzYse2dsMjohMCxicHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMzUse2dsMjohMCxicHA6Mn0pLE9iamVjdChoLmEpKHIsMzMzMzgse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzMzMzcse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzMzNDAse2dsMjohMCxicHA6OH0pLE9iamVjdChoLmEpKHIsMzMzMzkse2dsMjohMCxicHA6OH0pLE9iamVjdChoLmEpKHIsMzI4NDkse2dsMjohMCxicHA6M30pLE9iamVjdChoLmEpKHIsMzI4NTYse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzI4NTcse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzYyMjAse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzYyMzgse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzY5NzUse2dsMjohMCxicHA6NH0pLE9iamVjdChoLmEpKHIsMzYyMTQse2dsMjohMCxicHA6OH0pLE9iamVjdChoLmEpKHIsMzYyMzIse2dsMjohMCxicHA6OH0pLE9iamVjdChoLmEpKHIsMzYyMjYse2dsMjohMCxicHA6MTZ9KSxPYmplY3QoaC5hKShyLDM2MjA4LHtnbDI6ITAsYnBwOjE2fSksT2JqZWN0KGguYSkociwzMzMyNSx7Z2wyOmYsYnBwOjJ9KSxPYmplY3QoaC5hKShyLDMzMzI3LHtnbDI6ZixicHA6NH0pLE9iamVjdChoLmEpKHIsMzQ4NDIse2dsMjpmLGJwcDo4fSksT2JqZWN0KGguYSkociwzMzMyNix7Z2wyOmYsYnBwOjR9KSxPYmplY3QoaC5hKShyLDMzMzI4LHtnbDI6ZixicHA6OH0pLE9iamVjdChoLmEpKHIsMzQ4MzYse2dsMjpmLGJwcDoxNn0pLE9iamVjdChoLmEpKHIsMzU4OTgse2dsMjpmLGJwcDo0fSksciksdj1uKDExKSxwPW4oMjkpO2Z1bmN0aW9uIGcoZSx0LG4pe3ZhciByPW5bdF07aWYoIXIpcmV0dXJuITE7dmFyIGk9T2JqZWN0KHYuZykoZSkmJnIuZ2wyfHxyLmdsMTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGk/ZS5nZXRFeHRlbnNpb24oaSk6aX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSk7dmFyIHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyx0KSwobj1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKHQpLmNhbGwodGhpcyxlLHIpKSkuaW5pdGlhbGl6ZShyKSxPYmplY3Quc2VhbChPYmplY3Qocy5hKShuKSksbn1yZXR1cm4gT2JqZWN0KGMuYSkodCxlKSxPYmplY3QodS5hKSh0LG51bGwsW3trZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LmZvcm1hdDtyZXR1cm4hbnx8ZyhlLG4sZCl9fSx7a2V5OiJnZXRTYW1wbGVzRm9yRm9ybWF0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQuZm9ybWF0O3JldHVybiBlLmdldEludGVybmFsZm9ybWF0UGFyYW1ldGVyKDM2MTYxLG4sMzI5MzcpfX1dKSxPYmplY3QodS5hKSh0LFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmZvcm1hdCxuPWUud2lkdGgscj12b2lkIDA9PT1uPzE6bixpPWUuaGVpZ2h0LGE9dm9pZCAwPT09aT8xOmksbz1lLnNhbXBsZXMscz12b2lkIDA9PT1vPzA6bztyZXR1cm4gT2JqZWN0KHAuYSkodCwiTmVlZHMgZm9ybWF0IiksdGhpcy5fdHJhY2tEZWFsbG9jYXRlZE1lbW9yeSgpLHRoaXMuZ2wuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSx0aGlzLmhhbmRsZSksMCE9PXMmJk9iamVjdCh2LmcpKHRoaXMuZ2wpP3RoaXMuZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKDM2MTYxLHMsdCxyLGEpOnRoaXMuZ2wucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSx0LHIsYSksdGhpcy5mb3JtYXQ9dCx0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9YSx0aGlzLnNhbXBsZXM9cyx0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeSh0aGlzLndpZHRoKnRoaXMuaGVpZ2h0Kih0aGlzLnNhbXBsZXN8fDEpKmRbdGhpcy5mb3JtYXRdLmJwcCksdGhpc319LHtrZXk6InJlc2l6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aWR0aCxuPWUuaGVpZ2h0O3JldHVybiB0IT09dGhpcy53aWR0aHx8biE9PXRoaXMuaGVpZ2h0P3RoaXMuaW5pdGlhbGl6ZSh7d2lkdGg6dCxoZWlnaHQ6bixmb3JtYXQ6dGhpcy5mb3JtYXQsc2FtcGxlczp0aGlzLnNhbXBsZXN9KTp0aGlzfX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVSZW5kZXJidWZmZXIoKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5oYW5kbGUpLHRoaXMuX3RyYWNrRGVhbGxvY2F0ZWRNZW1vcnkoKX19LHtrZXk6Il9iaW5kSGFuZGxlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdsLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsZSl9fSx7a2V5OiJfc3luY0hhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5mb3JtYXQ9dGhpcy5nZXRQYXJhbWV0ZXIoMzYxNjQpLHRoaXMud2lkdGg9dGhpcy5nZXRQYXJhbWV0ZXIoMzYxNjIpLHRoaXMuaGVpZ2h0PXRoaXMuZ2V0UGFyYW1ldGVyKDM2MTYzKSx0aGlzLnNhbXBsZXM9dGhpcy5nZXRQYXJhbWV0ZXIoMzYwMTEpfX0se2tleToiX2dldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2wuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSx0aGlzLmhhbmRsZSksdGhpcy5nbC5nZXRSZW5kZXJidWZmZXJQYXJhbWV0ZXIoMzYxNjEsZSl9fV0pLHR9KGwuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bigyOSksaT17fTtmdW5jdGlvbiBhKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiJpZCI7aVtlXT1pW2VdfHwxO3ZhciB0PWlbZV0rKztyZXR1cm4iIi5jb25jYXQoZSwiLSIpLmNvbmNhdCh0KX1mdW5jdGlvbiBvKGUpe3JldHVybiBPYmplY3Qoci5hKSgibnVtYmVyIj09dHlwZW9mIGUsIklucHV0IG11c3QgYmUgYSBudW1iZXIiKSxlJiYwPT0oZSZlLTEpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ITA7Zm9yKHZhciBuIGluIGUpe3Q9ITE7YnJlYWt9cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByPSIiLGk9e307ZnVuY3Rpb24gYShlKXtyPWV9ZnVuY3Rpb24gbygpe3JldHVybiByfWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0IGluIGkpaWYoZS5zdGFydHNXaXRoKHQpKXt2YXIgbj1pW3RdO3JldHVybiBlLnJlcGxhY2UodCxuKX1yZXR1cm4gZSs9cn19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9big1MyksaT1bXTtmdW5jdGlvbiBhKGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTt2YXIgdD0hMCxuPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1mdW5jdGlvbigpe3ZhciBlPW8udmFsdWUsdD1PYmplY3Qoci5iKShlKTtpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZX0pKXx8aS51bnNoaWZ0KHQpfSx1PWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0obz11Lm5leHQoKSkuZG9uZSk7dD0hMClzKCl9Y2F0Y2goZSl7bj0hMCxhPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IGF9fX1mdW5jdGlvbiBvKCl7cmV0dXJuIGl9ZnVuY3Rpb24gcygpe2k9W119fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTgpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMyksdT1uLm4ocyksYz1uKDkpLGw9bi5uKGMpLGg9big0KSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigyMiksZz1uKDE0NCkseT1uKDcpLG09bi5uKHkpLGI9big1MSksXz1uKDEpLE89big3NCkseD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG8oKSh0aGlzLHQpLGwoKSh0aGlzLGYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkodCxlKSx1KCkodCxbe2tleToiX29uVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMudGltZSx0PXRoaXMuc2V0dGluZ3Msbj10LmZyb21WYWx1ZSxyPXQudG9WYWx1ZSxpPXQuZHVyYXRpb24sYT0oMCx0LmVhc2luZykoZS9pKTt0aGlzLl92YWx1ZT1PYmplY3QoXy5tKShuLHIsYSl9fSx7a2V5OiJ2YWx1ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfX1dKSx0fShPLmEpO2Z1bmN0aW9uIHcoZSx0LG4scixpKXt2YXIgYT10LWU7cmV0dXJuKG4tdCkqaSstYSpyK2ErdH1mdW5jdGlvbiBTKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBuPTAscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLXRbcl07bis9aSppfXJldHVybiBNYXRoLnNxcnQobil9cmV0dXJuIE1hdGguYWJzKGUtdCl9dmFyIGs9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBvKCkodGhpcyx0KSxsKCkodGhpcyxmKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gdigpKHQsZSksdSgpKHQsW3trZXk6Il9vblVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNldHRpbmdzLHQ9ZS5mcm9tVmFsdWUsbj1lLnRvVmFsdWUscj1lLmRhbXBpbmcsaT1lLnN0aWZmbmVzcyxhPXRoaXMuX3ByZXZWYWx1ZSxvPXZvaWQgMD09PWE/dDphLHM9dGhpcy5fY3VyclZhbHVlLHU9dm9pZCAwPT09cz90OnMsYz1mdW5jdGlvbihlLHQsbixyLGkpe2lmKEFycmF5LmlzQXJyYXkobikpe2Zvcih2YXIgYT1bXSxvPTA7bzxuLmxlbmd0aDtvKyspYVtvXT13KGVbb10sdFtvXSxuW29dLHIsaSk7cmV0dXJuIGF9cmV0dXJuIHcoZSx0LG4scixpKX0obyx1LG4scixpKSxsPVMoYyxuKSxoPVMoYyx1KTtsPDFlLTUmJmg8MWUtNSYmKGM9bix0aGlzLmVuZCgpKSx0aGlzLl9wcmV2VmFsdWU9dSx0aGlzLl9jdXJyVmFsdWU9Y319LHtrZXk6InZhbHVlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VyclZhbHVlfX1dKSx0fShPLmEpLFA9bigyMyk7ZnVuY3Rpb24gaihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIFQ9e2ludGVycG9sYXRpb246eCxzcHJpbmc6a30sRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7bygpKHRoaXMsZSksdGhpcy50cmFuc2l0aW9ucz1uZXcgTWFwLHRoaXMudGltZWxpbmU9dH1yZXR1cm4gdSgpKGUsW3trZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcy50cmFuc2l0aW9ucztpLmhhcyhlKSYmKHQ9aS5nZXQoZSkudmFsdWUsdGhpcy5yZW1vdmUoZSkpO2lmKHI9T2JqZWN0KGIuZSkocikpe3ZhciBhPVRbci50eXBlXTtpZihhKXt2YXIgbz1uZXcgYSh0aGlzLnRpbWVsaW5lKTtvLnN0YXJ0KGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2ooT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXttKCkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmooT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LHIse2Zyb21WYWx1ZTp0LHRvVmFsdWU6bn0pKSxpLnNldChlLG8pfWVsc2UgUC5hLmVycm9yKCJ1bnN1cHBvcnRlZCB0cmFuc2l0aW9uIHR5cGUgJyIuY29uY2F0KHIudHlwZSwiJyIpKSgpfX19LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFuc2l0aW9uczt0LmhhcyhlKSYmKHQuZ2V0KGUpLmNhbmNlbCgpLHQuZGVsZXRlKGUpKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fSx0PSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRoaXMudHJhbnNpdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oYT1vLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIHM9aSgpKGEudmFsdWUsMiksdT1zWzBdLGM9c1sxXTtjLnVwZGF0ZSgpLGVbdV09Yy52YWx1ZSxjLmluUHJvZ3Jlc3N8fHRoaXMucmVtb3ZlKHUpfX1jYXRjaChlKXtuPSEwLHI9ZX1maW5hbGx5e3RyeXt0fHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19cmV0dXJuIGV9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hMCx0PSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnRyYW5zaXRpb25zLmtleXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShyPWkubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgYT1yLnZhbHVlO3RoaXMucmVtb3ZlKGEpfX1jYXRjaChlKXt0PSEwLG49ZX1maW5hbGx5e3RyeXtlfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgbn19fX0se2tleToiYWN0aXZlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2l0aW9ucy5zaXplPjB9fV0pLGV9KCksQT1uKDEyNiksTT1uKDE0MyksQz1uKDQ0KSxMPW4oMTEpLEk9bigzMCksUj1uKDE0MiksRD1uKDEyOCksRj1uKDg0KSxOPW4oNDUpLHo9big1NCksQj1uKDM3KSxVPW4ubihCKSxWPXtib29sZWFuOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiEwfSxlcXVhbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEJvb2xlYW4oZSk9PT1Cb29sZWFuKHQpfX0sbnVtYmVyOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBOdW1iZXIuaXNGaW5pdGUoZSkmJighKCJtYXgiaW4gdCl8fGU8PXQubWF4KSYmKCEoIm1pbiJpbiB0KXx8ZT49dC5taW4pfX0sY29sb3I6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQub3B0aW9uYWwmJiFlfHxxKGUpJiYoMz09PWUubGVuZ3RofHw0PT09ZS5sZW5ndGgpfSxlcXVhbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEcoZSx0KX19LGFjY2Vzc29yOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVgoZSk7cmV0dXJuImZ1bmN0aW9uIj09PW58fG49PT1YKHQudmFsdWUpfSxlcXVhbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR8fEcoZSx0KX19LGFycmF5Ont2YWxpZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm9wdGlvbmFsJiYhZXx8cShlKX0sZXF1YWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuLmNvbXBhcmU/RyhlLHQpOmU9PT10fX0sZnVuY3Rpb246e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQub3B0aW9uYWwmJiFlfHwiZnVuY3Rpb24iPT10eXBlb2YgZX0sZXF1YWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiFuLmNvbXBhcmV8fGU9PT10fX19O2Z1bmN0aW9uIEcoZSx0KXtpZihlPT09dClyZXR1cm4hMDtpZighcShlKXx8IXEodCkpcmV0dXJuITE7dmFyIG49ZS5sZW5ndGg7aWYobiE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgcj0wO3I8bjtyKyspaWYoZVtyXSE9PXRbcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gVyhlLHQpe3N3aXRjaChYKHQpKXtjYXNlIm9iamVjdCI6cmV0dXJuIEgoZSx0KTtjYXNlImFycmF5IjpyZXR1cm4gSChlLHt0eXBlOiJhcnJheSIsdmFsdWU6dCxjb21wYXJlOiExfSk7Y2FzZSJib29sZWFuIjpyZXR1cm4gSChlLHt0eXBlOiJib29sZWFuIix2YWx1ZTp0fSk7Y2FzZSJudW1iZXIiOnJldHVybiBIKGUse3R5cGU6Im51bWJlciIsdmFsdWU6dH0pO2Nhc2UiZnVuY3Rpb24iOnJldHVybiBIKGUse3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTp0LGNvbXBhcmU6ITB9KTtkZWZhdWx0OnJldHVybntuYW1lOmUsdHlwZToidW5rbm93biIsdmFsdWU6dH19fWZ1bmN0aW9uIEgoZSx0KXtyZXR1cm4idHlwZSJpbiB0P09iamVjdC5hc3NpZ24oe25hbWU6ZX0sVlt0LnR5cGVdLHQpOiJ2YWx1ZSJpbiB0P09iamVjdC5hc3NpZ24oe25hbWU6ZSx0eXBlOlgodC52YWx1ZSl9LHQpOntuYW1lOmUsdHlwZToib2JqZWN0Iix2YWx1ZTp0fX1mdW5jdGlvbiBxKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSl9ZnVuY3Rpb24gWChlKXtyZXR1cm4gcShlKT8iYXJyYXkiOm51bGw9PT1lPyJudWxsIjpVKCkoZSl9dmFyIFo9Ti5iLkNPTVBPTkVOVCxZPU4uYi5BU1lOQ19PUklHSU5BTCxLPU4uYi5BU1lOQ19SRVNPTFZFRCxRPU4uYi5BU1lOQ19ERUZBVUxUUztmdW5jdGlvbiBKKCl7dmFyIGU9dGhpcyx0PSQoZS5jb25zdHJ1Y3Rvciksbj1PYmplY3QuY3JlYXRlKHQpO25bWl09ZSxuW1ldPXt9LG5bS109e307Zm9yKHZhciByPTA7cjxhcmd1bWVudHMubGVuZ3RoOysrcil7dmFyIGk9YXJndW1lbnRzW3JdO2Zvcih2YXIgYSBpbiBpKW5bYV09aVthXX1yZXR1cm4gT2JqZWN0LmZyZWV6ZShuKSxufWZ1bmN0aW9uICQoZSl7dmFyIHQ9bmUoZSwiX21lcmdlZERlZmF1bHRQcm9wcyIpO3JldHVybiB0fHwoZnVuY3Rpb24oZSl7aWYoIWUucHJvdG90eXBlKXJldHVybjt2YXIgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSksbj0kKHQpLHI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LG49e30scj17fSxhPTAsbz1PYmplY3QuZW50cmllcyhlKTthPG8ubGVuZ3RoO2ErKyl7dmFyIHM9aSgpKG9bYV0sMiksdT1zWzBdLGM9c1sxXTtpZihjJiZjLmRlcHJlY2F0ZWRGb3Ipclt1XT1BcnJheS5pc0FycmF5KGMuZGVwcmVjYXRlZEZvcik/Yy5kZXByZWNhdGVkRm9yOltjLmRlcHJlY2F0ZWRGb3JdO2Vsc2V7dmFyIGw9Vyh1LGMpO3RbdV09bCxuW3VdPWwudmFsdWV9fXJldHVybntwcm9wVHlwZXM6dCxkZWZhdWx0UHJvcHM6bixkZXByZWNhdGVkUHJvcHM6cn19KG5lKGUsImRlZmF1bHRQcm9wcyIpfHx7fSksYT1mdW5jdGlvbihlLHQsbil7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtPYmplY3QuYXNzaWduKHIsdCxlKTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1uZShlLCJsYXllck5hbWUiKXx8bmUoZSwiY29tcG9uZW50TmFtZSIpO3R8fFAuYS5vbmNlKDAsIiIuY29uY2F0KGUubmFtZSwiLmNvbXBvbmVudE5hbWUgbm90IHNwZWNpZmllZCIpKSgpO3JldHVybiB0fHxlLm5hbWV9KG4pO3JldHVybiBkZWxldGUgZS5pZCxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyLHtpZDp7d3JpdGFibGU6ITAsdmFsdWU6aX19KSxyfShyLmRlZmF1bHRQcm9wcyxuLGUpLG89T2JqZWN0LmFzc2lnbih7fSx0Ll9wcm9wVHlwZXMsci5wcm9wVHlwZXMpOyFmdW5jdGlvbihlLHQpe3ZhciBuPXt9LHI9e307Zm9yKHZhciBpIGluIHQpe3ZhciBhPXRbaV0sbz1hLm5hbWUscz1hLnZhbHVlO2EuYXN5bmMmJihuW29dPXMscltvXT1lZShvKSl9ZVtRXT1uLGVbWV09e30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxyKX0oYSxvKTt2YXIgcz1PYmplY3QuYXNzaWduKHt9LHQuX2RlcHJlY2F0ZWRQcm9wcyxyLmRlcHJlY2F0ZWRQcm9wcyk7KGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24obil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHI9IiIuY29uY2F0KHRoaXMuaWQsIjogIikuY29uY2F0KG4pLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dFtuXVtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO3RlKHRoaXMsYyl8fCh0aGlzW2NdPWUpfX1jYXRjaChlKXthPSEwLG89ZX1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319UC5hLmRlcHJlY2F0ZWQocix0W25dLmpvaW4oIi8iKSkoKX19KX07Zm9yKHZhciByIGluIHQpbihyKX0pKGEscyksZS5fbWVyZ2VkRGVmYXVsdFByb3BzPWEsZS5fcHJvcFR5cGVzPW8sZS5fZGVwcmVjYXRlZFByb3BzPXN9KGUpLGUuX21lcmdlZERlZmF1bHRQcm9wcyl9ZnVuY3Rpb24gZWUoZSl7cmV0dXJue2VudW1lcmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFByb21pc2V8fE9iamVjdCh6LmMpKHQpP3RoaXNbWV1bZV09dDp0aGlzW0tdW2VdPXR9LGdldDpmdW5jdGlvbigpe2lmKHRoaXNbS10pe2lmKGUgaW4gdGhpc1tLXSl7dmFyIHQ9dGhpc1tLXVtlXTtyZXR1cm4iZGF0YSI9PT1lP3R8fHRoaXNbUV1bZV06dH1pZihlIGluIHRoaXNbWV0pe3ZhciBuPXRoaXNbWl0mJnRoaXNbWl0uaW50ZXJuYWxTdGF0ZTtpZihuJiZuLmhhc0FzeW5jUHJvcChlKSlyZXR1cm4gbi5nZXRBc3luY1Byb3AoZSl9fXJldHVybiB0aGlzW1FdW2VdfX19ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9ZnVuY3Rpb24gbmUoZSx0KXtyZXR1cm4gdGUoZSx0KSYmZVt0XX12YXIgcmU9big4KSxpZT1uLm4ocmUpLGFlPW4oMTAyKSxvZT1uLm4oYWUpLHNlPW4oMjExKSx1ZT1uLm4oc2UpLGNlPU4uYi5BU1lOQ19PUklHSU5BTCxsZT1OLmIuQVNZTkNfUkVTT0xWRUQsaGU9Ti5iLkFTWU5DX0RFRkFVTFRTLGZlPU9iamVjdC5mcmVlemUoe30pLGRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO28oKSh0aGlzLGUpLHRoaXMuY29tcG9uZW50PXQsdGhpcy5hc3luY1Byb3BzPXt9LHRoaXMub25Bc3luY1Byb3BVcGRhdGVkPWZ1bmN0aW9uKCl7fSx0aGlzLm9sZFByb3BzPWZlLHRoaXMub2xkQXN5bmNQcm9wcz1udWxsfXZhciB0O3JldHVybiB1KCkoZSxbe2tleToiZ2V0T2xkUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2xkQXN5bmNQcm9wc3x8dGhpcy5vbGRQcm9wc319LHtrZXk6InJlc2V0T2xkUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5vbGRBc3luY1Byb3BzPW51bGwsdGhpcy5vbGRQcm9wcz10aGlzLmNvbXBvbmVudC5wcm9wc319LHtrZXk6ImZyZWV6ZUFzeW5jT2xkUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMub2xkQXN5bmNQcm9wcylmb3IodmFyIGUgaW4gdGhpcy5vbGRQcm9wcz10aGlzLm9sZFByb3BzfHx0aGlzLmNvbXBvbmVudC5wcm9wcyx0aGlzLm9sZEFzeW5jUHJvcHM9T2JqZWN0LmNyZWF0ZSh0aGlzLm9sZFByb3BzKSx0aGlzLmFzeW5jUHJvcHMpT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub2xkQXN5bmNQcm9wcyxlLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnRoaXMub2xkUHJvcHNbZV19KX19LHtrZXk6Imhhc0FzeW5jUHJvcCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW4gdGhpcy5hc3luY1Byb3BzfX0se2tleToiZ2V0QXN5bmNQcm9wIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFzeW5jUHJvcHNbZV07cmV0dXJuIHQmJnQucmVzb2x2ZWRWYWx1ZX19LHtrZXk6ImlzQXN5bmNQcm9wTG9hZGluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5hc3luY1Byb3BzW2VdO3JldHVybiBCb29sZWFuKHQmJnQucGVuZGluZ0xvYWRDb3VudD4wJiZ0LnBlbmRpbmdMb2FkQ291bnQhPT10LnJlc29sdmVkTG9hZENvdW50KX1mb3IodmFyIG4gaW4gdGhpcy5hc3luY1Byb3BzKWlmKHRoaXMuaXNBc3luY1Byb3BMb2FkaW5nKG4pKXJldHVybiEwO3JldHVybiExfX0se2tleToic2V0QXN5bmNQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVtsZV18fHt9LG49ZVtjZV18fGUscj1lW2hlXXx8e307Zm9yKHZhciBpIGluIHQpe3ZhciBhPXRbaV07dGhpcy5fY3JlYXRlQXN5bmNQcm9wRGF0YShpLGEscltpXSksdGhpcy5fdXBkYXRlQXN5bmNQcm9wKGksYSl9Zm9yKHZhciBvIGluIG4pe3ZhciBzPW5bb107dGhpcy5fY3JlYXRlQXN5bmNQcm9wRGF0YShvLHMscltvXSksdGhpcy5fdXBkYXRlQXN5bmNQcm9wKG8scyl9fX0se2tleToiX3VwZGF0ZUFzeW5jUHJvcCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9kaWRBc3luY0lucHV0VmFsdWVDaGFuZ2UoZSx0KSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgbj10aGlzLmxheWVyJiZ0aGlzLmxheWVyLnByb3BzLmZldGNoO24mJih0PW4odCx7cHJvcE5hbWU6ZSxsYXllcjp0aGlzLmxheWVyfSkpfXQgaW5zdGFuY2VvZiBQcm9taXNlP3RoaXMuX3dhdGNoUHJvbWlzZShlLHQpOk9iamVjdCh6LmMpKHQpP3RoaXMuX3Jlc29sdmVBc3luY0l0ZXJhYmxlKGUsdCk6dGhpcy5fc2V0UHJvcFZhbHVlKGUsdCl9fX0se2tleToiX2RpZEFzeW5jSW5wdXRWYWx1ZUNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmFzeW5jUHJvcHNbZV07cmV0dXJuIHQhPT1uLmxhc3RWYWx1ZSYmKG4ubGFzdFZhbHVlPXQsITApfX0se2tleToiX3NldFByb3BWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmFzeW5jUHJvcHNbZV07bi52YWx1ZT10LG4ucmVzb2x2ZWRWYWx1ZT10LG4ucGVuZGluZ0xvYWRDb3VudCsrLG4ucmVzb2x2ZWRMb2FkQ291bnQ9bi5wZW5kaW5nTG9hZENvdW50fX0se2tleToiX3NldEFzeW5jUHJvcFZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5hc3luY1Byb3BzW2VdO3ImJm4+PXIucmVzb2x2ZWRMb2FkQ291bnQmJnZvaWQgMCE9PXQmJih0aGlzLmZyZWV6ZUFzeW5jT2xkUHJvcHMoKSxyLnJlc29sdmVkVmFsdWU9dCxyLnJlc29sdmVkTG9hZENvdW50PW4sdGhpcy5vbkFzeW5jUHJvcFVwZGF0ZWQoZSx0KSl9fSx7a2V5OiJfd2F0Y2hQcm9taXNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10aGlzLmFzeW5jUHJvcHNbZV07ci5wZW5kaW5nTG9hZENvdW50Kys7dmFyIGk9ci5wZW5kaW5nTG9hZENvdW50O3QudGhlbigoZnVuY3Rpb24odCl7dD1uLl9wb3N0UHJvY2Vzc1ZhbHVlKGUsdCksbi5fc2V0QXN5bmNQcm9wVmFsdWUoZSx0LGkpO3ZhciByPW4ubGF5ZXImJm4ubGF5ZXIucHJvcHMub25EYXRhTG9hZDsiZGF0YSI9PT1lJiZyJiZyKHQse3Byb3BOYW1lOmUsbGF5ZXI6bi5sYXllcn0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gUC5hLmVycm9yKGUpKCl9KSl9fSx7a2V5OiJfcmVzb2x2ZUFzeW5jSXRlcmFibGUiLHZhbHVlOih0PW9lKCkoaWUuYS5tYXJrKChmdW5jdGlvbiBlKHQsbil7dmFyIHIsaSxhLG8scyx1LGMsbCxoLGYsZCx2O3JldHVybiBpZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOiJkYXRhIiE9PXQmJnRoaXMuX3NldFByb3BWYWx1ZSh0LG4pLChyPXRoaXMuYXN5bmNQcm9wc1t0XSkucGVuZGluZ0xvYWRDb3VudCsrLGk9ci5wZW5kaW5nTG9hZENvdW50LGE9W10sbz0wLHM9ITAsdT0hMSxlLnByZXY9OCxsPXVlKCkobik7Y2FzZSAxMDpyZXR1cm4gZS5uZXh0PTEyLGwubmV4dCgpO2Nhc2UgMTI6cmV0dXJuIGg9ZS5zZW50LHM9aC5kb25lLGUubmV4dD0xNixoLnZhbHVlO2Nhc2UgMTY6aWYoZj1lLnNlbnQscyl7ZS5uZXh0PTI2O2JyZWFrfWQ9ZixhPXRoaXMuX3Bvc3RQcm9jZXNzVmFsdWUodCxkLGEpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2RpZmYiLHtlbnVtZXJhYmxlOiExLHZhbHVlOlt7c3RhcnRSb3c6byxlbmRSb3c6YS5sZW5ndGh9XX0pLG89YS5sZW5ndGgsdGhpcy5fc2V0QXN5bmNQcm9wVmFsdWUodCxhLGkpO2Nhc2UgMjM6cz0hMCxlLm5leHQ9MTA7YnJlYWs7Y2FzZSAyNjplLm5leHQ9MzI7YnJlYWs7Y2FzZSAyODplLnByZXY9MjgsZS50MD1lLmNhdGNoKDgpLHU9ITAsYz1lLnQwO2Nhc2UgMzI6aWYoZS5wcmV2PTMyLGUucHJldj0zMyxzfHxudWxsPT1sLnJldHVybil7ZS5uZXh0PTM3O2JyZWFrfXJldHVybiBlLm5leHQ9MzcsbC5yZXR1cm4oKTtjYXNlIDM3OmlmKGUucHJldj0zNywhdSl7ZS5uZXh0PTQwO2JyZWFrfXRocm93IGM7Y2FzZSA0MDpyZXR1cm4gZS5maW5pc2goMzcpO2Nhc2UgNDE6cmV0dXJuIGUuZmluaXNoKDMyKTtjYXNlIDQyOih2PXRoaXMubGF5ZXImJnRoaXMubGF5ZXIucHJvcHMub25EYXRhTG9hZCkmJnYoYSx7cHJvcE5hbWU6dCxsYXllcjp0aGlzLmxheWVyfSk7Y2FzZSA0NDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzgsMjgsMzIsNDJdLFszMywsMzcsNDFdXSl9KSkpLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9wb3N0UHJvY2Vzc1ZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9KHRoaXMuY29tcG9uZW50P3RoaXMuY29tcG9uZW50LnByb3BzOnt9KS5kYXRhVHJhbnNmb3JtO3JldHVybiJkYXRhIiE9PWU/dDpyP3IodCxuKTpuP24uY29uY2F0KHQpOnR9fSx7a2V5OiJfY3JlYXRlQXN5bmNQcm9wRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuYXN5bmNQcm9wc1tlXXx8KHRoaXMuYXN5bmNQcm9wc1tlXT17bGFzdFZhbHVlOm51bGwscmVzb2x2ZWRWYWx1ZTpuLHBlbmRpbmdMb2FkQ291bnQ6MCxyZXNvbHZlZExvYWRDb3VudDowfSl9fV0pLGV9KCksdmU9Ti5iLkFTWU5DX09SSUdJTkFMLHBlPU4uYi5BU1lOQ19SRVNPTFZFRCxnZT1OLmIuQVNZTkNfREVGQVVMVFMseWU9MCxtZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKCkodGhpcyxlKSx0aGlzLnByb3BzPUouYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuaWQ9dGhpcy5wcm9wcy5pZCx0aGlzLmNvdW50PXllKyssdGhpcy5saWZlY3ljbGU9Ti5hLk5PX1NUQVRFLHRoaXMucGFyZW50PW51bGwsdGhpcy5jb250ZXh0PW51bGwsdGhpcy5zdGF0ZT1udWxsLHRoaXMuaW50ZXJuYWxTdGF0ZT1udWxsLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiB1KCkoZSxbe2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHJvcHMsbj17fTtmb3IodmFyIHIgaW4gdFtnZV0pciBpbiB0W3BlXT9uW3JdPXRbcGVdW3JdOnIgaW4gdFt2ZV0mJihuW3JdPXRbdmVdW3JdKTtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoT2JqZWN0LmFzc2lnbih7fSx0LG4sZSkpfX0se2tleToiX2luaXRTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmludGVybmFsU3RhdGU9bmV3IGRlKHt9KX19LHtrZXk6InN0YXRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlLnN0YXRzfX1dKSxlfSgpO21lLmNvbXBvbmVudE5hbWU9IkNvbXBvbmVudCIsbWUuZGVmYXVsdFByb3BzPXt9O3ZhciBiZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHI9ZS5hdHRyaWJ1dGVNYW5hZ2VyLGk9ZS5sYXllcjtyZXR1cm4gbygpKHRoaXMsdCksKG49bCgpKHRoaXMsZigpKHQpLmNhbGwodGhpcyxpKSkpLmF0dHJpYnV0ZU1hbmFnZXI9cixuLm1vZGVsPW51bGwsbi5uZWVkc1JlZHJhdz0hMCxuLnN1YkxheWVycz1udWxsLG59cmV0dXJuIHYoKSh0LGUpLHUoKSh0LFt7a2V5OiJsYXllciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnQ9ZX19XSksdH0oZGUpLF9lPW4oMzMpLE9lPW4oMTg2KTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtlfSkpO3ZhciB4ZT1PYmplY3QuZnJlZXplKFtdKSx3ZT1uZXcgVWludDhDbGFtcGVkQXJyYXkoMCksU2U9e2RhdGE6e3R5cGU6ImRhdGEiLHZhbHVlOnhlLGFzeW5jOiEwfSxkYXRhQ29tcGFyYXRvcjpudWxsLF9kYXRhRGlmZjp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZGlmZn0sY29tcGFyZTohMSxvcHRpb25hbDohMH0sZGF0YVRyYW5zZm9ybTp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsY29tcGFyZTohMSxvcHRpb25hbDohMH0sb25EYXRhTG9hZDp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsY29tcGFyZTohMSxvcHRpb25hbDohMH0sZmV0Y2g6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQubGF5ZXI7cmV0dXJuIE9iamVjdChPZS5hKShlLG4uZ2V0TG9hZE9wdGlvbnMoKSl9LGNvbXBhcmU6ITF9LHVwZGF0ZVRyaWdnZXJzOnt9LHZpc2libGU6ITAscGlja2FibGU6ITEsb3BhY2l0eTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxvbkhvdmVyOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxvbkNsaWNrOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxvbkRyYWdTdGFydDp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsY29tcGFyZTohMSxvcHRpb25hbDohMH0sb25EcmFnOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6bnVsbCxjb21wYXJlOiExLG9wdGlvbmFsOiEwfSxvbkRyYWdFbmQ6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLGNvbXBhcmU6ITEsb3B0aW9uYWw6ITB9LGNvb3JkaW5hdGVTeXN0ZW06cC5hLkRFRkFVTFQsY29vcmRpbmF0ZU9yaWdpbjp7dHlwZToiYXJyYXkiLHZhbHVlOlswLDAsMF0sY29tcGFyZTohMH0sbW9kZWxNYXRyaXg6e3R5cGU6ImFycmF5Iix2YWx1ZTpudWxsLGNvbXBhcmU6ITAsb3B0aW9uYWw6ITB9LHdyYXBMb25naXR1ZGU6ITEscG9zaXRpb25Gb3JtYXQ6IlhZWiIsY29sb3JGb3JtYXQ6IlJHQkEiLHBhcmFtZXRlcnM6e30sdW5pZm9ybXM6e30sZXh0ZW5zaW9uczpbXSxnZXRQb2x5Z29uT2Zmc2V0Ont0eXBlOiJmdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuWzAsMTAwKi1lLmxheWVySW5kZXhdfSxjb21wYXJlOiExfSxoaWdobGlnaHRlZE9iamVjdEluZGV4Om51bGwsYXV0b0hpZ2hsaWdodDohMSxoaWdobGlnaHRDb2xvcjp7dHlwZToiY29sb3IiLHZhbHVlOlswLDAsMTI4LDEyOF19fSxrZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG8oKSh0aGlzLHQpLGwoKSh0aGlzLGYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkodCxlKSx1KCkodCxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3Rvci5sYXllck5hbWV8fHRoaXMuY29uc3RydWN0b3IubmFtZTtyZXR1cm4iIi5jb25jYXQoZSwiKHtpZDogJyIpLmNvbmNhdCh0aGlzLnByb3BzLmlkLCInfSkiKX19LHtrZXk6InNldFN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNldENoYW5nZUZsYWdzKHtzdGF0ZUNoYW5nZWQ6ITB9KSxPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUsZSksdGhpcy5zZXROZWVkc1JlZHJhdygpfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTt0aGlzLmludGVybmFsU3RhdGUmJih0aGlzLmludGVybmFsU3RhdGUubmVlZHNSZWRyYXc9ZSl9fSx7a2V5OiJzZXROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQubGF5ZXJNYW5hZ2VyLnNldE5lZWRzVXBkYXRlKFN0cmluZyh0aGlzKSksdGhpcy5pbnRlcm5hbFN0YXRlLm5lZWRzVXBkYXRlPSEwfX0se2tleToiZ2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntjbGVhclJlZHJhd0ZsYWdzOiExfTtyZXR1cm4gdGhpcy5fZ2V0TmVlZHNSZWRyYXcoZSl9fSx7a2V5OiJuZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlLm5lZWRzVXBkYXRlfHx0aGlzLmhhc1VuaWZvcm1UcmFuc2l0aW9uKCl8fHRoaXMuc2hvdWxkVXBkYXRlU3RhdGUodGhpcy5fZ2V0VXBkYXRlUGFyYW1zKCkpfX0se2tleToiaGFzVW5pZm9ybVRyYW5zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZS51bmlmb3JtVHJhbnNpdGlvbnMuYWN0aXZlfX0se2tleToiaXNQaWNrYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5waWNrYWJsZSYmdGhpcy5wcm9wcy52aXNpYmxlfX0se2tleToiZ2V0TW9kZWxzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlJiYodGhpcy5zdGF0ZS5tb2RlbHN8fCh0aGlzLnN0YXRlLm1vZGVsP1t0aGlzLnN0YXRlLm1vZGVsXTpbXSkpfX0se2tleToiZ2V0QXR0cmlidXRlTWFuYWdlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlJiZ0aGlzLmludGVybmFsU3RhdGUuYXR0cmlidXRlTWFuYWdlcn19LHtrZXk6ImdldEN1cnJlbnRMYXllciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlJiZ0aGlzLmludGVybmFsU3RhdGUubGF5ZXJ9fSx7a2V5OiJnZXRMb2FkT3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5sb2FkT3B0aW9uc319LHtrZXk6InByb2plY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29udGV4dC52aWV3cG9ydCxuPU9iamVjdChELmEpKGUse3ZpZXdwb3J0OnQsbW9kZWxNYXRyaXg6dGhpcy5wcm9wcy5tb2RlbE1hdHJpeCxjb29yZGluYXRlT3JpZ2luOnRoaXMucHJvcHMuY29vcmRpbmF0ZU9yaWdpbixjb29yZGluYXRlU3lzdGVtOnRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbX0pLHI9T2JqZWN0KF9lLm4pKG4sdC5waXhlbFByb2plY3Rpb25NYXRyaXgpLGE9aSgpKHIsMyksbz1hWzBdLHM9YVsxXSx1PWFbMl07cmV0dXJuIDI9PT1lLmxlbmd0aD9bbyxzXTpbbyxzLHVdfX0se2tleToidW5wcm9qZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb250ZXh0LnZpZXdwb3J0LnVucHJvamVjdChlKX19LHtrZXk6InByb2plY3RQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChELmIpKGUse3ZpZXdwb3J0OnRoaXMuY29udGV4dC52aWV3cG9ydCxtb2RlbE1hdHJpeDp0aGlzLnByb3BzLm1vZGVsTWF0cml4LGNvb3JkaW5hdGVPcmlnaW46dGhpcy5wcm9wcy5jb29yZGluYXRlT3JpZ2luLGNvb3JkaW5hdGVTeXN0ZW06dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtfSl9fSx7a2V5OiJ1c2U2NGJpdFBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmNvb3JkaW5hdGVTeXN0ZW07cmV0dXJuIGU9PT1wLmEuREVGQVVMVHx8ZT09PXAuYS5MTkdMQVR8fGU9PT1wLmEuQ0FSVEVTSUFOfX0se2tleToib25Ib3ZlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXRoaXMucHJvcHMub25Ib3ZlciYmdGhpcy5wcm9wcy5vbkhvdmVyKGUsdCl9fSx7a2V5OiJvbkNsaWNrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiEhdGhpcy5wcm9wcy5vbkNsaWNrJiZ0aGlzLnByb3BzLm9uQ2xpY2soZSx0KX19LHtrZXk6Im51bGxQaWNraW5nQ29sb3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuWzAsMCwwXX19LHtrZXk6ImVuY29kZVBpY2tpbmdDb2xvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdO3JldHVybiB0WzBdPWUrMSYyNTUsdFsxXT1lKzE+PjgmMjU1LHRbMl09ZSsxPj44Pj44JjI1NSx0fX0se2tleToiZGVjb2RlUGlja2luZ0NvbG9yIix2YWx1ZTpmdW5jdGlvbihlKXtPYmplY3QoSS5hKShlIGluc3RhbmNlb2YgVWludDhBcnJheSk7dmFyIHQ9aSgpKGUsMyk7cmV0dXJuIHRbMF0rMjU2KnRbMV0rNjU1MzYqdFsyXS0xfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTGF5ZXIgIi5jb25jYXQodGhpcywiIGhhcyBub3QgZGVmaW5lZCBpbml0aWFsaXplU3RhdGUiKSl9fSx7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLnByb3BzLmV4dGVuc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oaT1hLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIG89aS52YWx1ZTtlPU9iamVjdChSLmEpKGUsby5nZXRTaGFkZXJzLmNhbGwodGhpcyxvKSl9fWNhdGNoKGUpe249ITAscj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1yZXR1cm4gZX19LHtrZXk6InNob3VsZFVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtlLm9sZFByb3BzLGUucHJvcHMsZS5jb250ZXh0O3JldHVybiBlLmNoYW5nZUZsYWdzLnByb3BzT3JEYXRhQ2hhbmdlZH19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtlLm9sZFByb3BzLGUucHJvcHMsZS5jb250ZXh0O3ZhciB0PWUuY2hhbmdlRmxhZ3Msbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtpZih0LmRhdGFDaGFuZ2VkJiZuKXt2YXIgcj10LmRhdGFDaGFuZ2VkO2lmKEFycmF5LmlzQXJyYXkocikpe3ZhciBpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtuLmludmFsaWRhdGVBbGwoYyl9fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19ZWxzZSBuLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJmaW5hbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEwLHQ9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMuZ2V0TW9kZWxzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0ocj1pLm5leHQoKSkuZG9uZSk7ZT0hMCl7ci52YWx1ZS5kZWxldGUoKX19Y2F0Y2goZSl7dD0hMCxuPWV9ZmluYWxseXt0cnl7ZXx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZih0KXRocm93IG59fXZhciBhPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO2EmJmEuZmluYWxpemUoKSx0aGlzLmludGVybmFsU3RhdGUudW5pZm9ybVRyYW5zaXRpb25zLmNsZWFyKCl9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLmdldE1vZGVscygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe2kudmFsdWUuZHJhdyhlKX19Y2F0Y2goZSl7bj0hMCxyPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmluZm8sbj0oZS5tb2RlLHQuaW5kZXgpO3JldHVybiBuPj0wJiZBcnJheS5pc0FycmF5KHRoaXMucHJvcHMuZGF0YSkmJih0Lm9iamVjdD10aGlzLnByb3BzLmRhdGFbbl0pLHR9fSx7a2V5OiJpbnZhbGlkYXRlQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiYWxsIix0PShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpKTt0JiYoImFsbCI9PT1lP3QuaW52YWxpZGF0ZUFsbCgpOnQuaW52YWxpZGF0ZShlKSl9fSx7a2V5OiJ1cGRhdGVBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLmdldE1vZGVscygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBvPWkudmFsdWU7dGhpcy5fc2V0TW9kZWxBdHRyaWJ1dGVzKG8sZSl9fWNhdGNoKGUpe249ITAscj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19fSx7a2V5OiJfdXBkYXRlQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7aWYodCl7dmFyIG49dGhpcy5nZXROdW1JbnN0YW5jZXMoZSkscj10aGlzLmdldFN0YXJ0SW5kaWNlcyhlKTt0LnVwZGF0ZSh7ZGF0YTplLmRhdGEsbnVtSW5zdGFuY2VzOm4sc3RhcnRJbmRpY2VzOnIscHJvcHM6ZSx0cmFuc2l0aW9uczplLnRyYW5zaXRpb25zLGJ1ZmZlcnM6ZS5kYXRhLmF0dHJpYnV0ZXMsY29udGV4dDp0aGlzLGlnbm9yZVVua25vd25BdHRyaWJ1dGVzOiEwfSk7dmFyIGk9dC5nZXRDaGFuZ2VkQXR0cmlidXRlcyh7Y2xlYXJDaGFuZ2VkRmxhZ3M6ITB9KTt0aGlzLnVwZGF0ZUF0dHJpYnV0ZXMoaSl9fX0se2tleToiX3VwZGF0ZUF0dHJpYnV0ZVRyYW5zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7ZSYmZS51cGRhdGVUcmFuc2l0aW9uKCl9fSx7a2V5OiJfdXBkYXRlVW5pZm9ybVRyYW5zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbnRlcm5hbFN0YXRlLnVuaWZvcm1UcmFuc2l0aW9ucztpZihlLmFjdGl2ZSl7dmFyIHQ9ZS51cGRhdGUoKSxuPU9iamVjdC5jcmVhdGUodGhpcy5wcm9wcyk7Zm9yKHZhciByIGluIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KG4scix7dmFsdWU6dFtyXX0pO3JldHVybiBufXJldHVybiB0aGlzLnByb3BzfX0se2tleToiY2FsY3VsYXRlSW5zdGFuY2VQaWNraW5nQ29sb3JzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQubnVtSW5zdGFuY2VzLHI9d2UubGVuZ3RoLzM7aWYocjxuKXt2YXIgaT0od2U9Ri5hLmFsbG9jYXRlKHdlLG4se3NpemU6Myxjb3B5OiEwfSkpLmxlbmd0aC8zLGE9W107T2JqZWN0KEkuYSkoaTwxNjc3NzIxNSwiaW5kZXggb3V0IG9mIHBpY2tpbmcgY29sb3IgcmFuZ2UiKTtmb3IodmFyIG89cjtvPGk7bysrKXRoaXMuZW5jb2RlUGlja2luZ0NvbG9yKG8sYSksd2VbMypvKzBdPWFbMF0sd2VbMypvKzFdPWFbMV0sd2VbMypvKzJdPWFbMl19ZS52YWx1ZT13ZS5zdWJhcnJheSgwLDMqbil9fSx7a2V5OiJfc2V0TW9kZWxBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLHI9ZS51c2VyRGF0YS5leGNsdWRlQXR0cmlidXRlc3x8e30saT1uLmdldFNoYWRlckF0dHJpYnV0ZXModCxyKTtlLnNldEF0dHJpYnV0ZXMoaSl9fSx7a2V5OiJjbGVhclBpY2tpbmdDb2xvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYXR0cmlidXRlcyxuPXQucGlja2luZ0NvbG9ycyxyPXQuaW5zdGFuY2VQaWNraW5nQ29sb3JzLGk9bnx8cixhPXRoaXMuZGVjb2RlUGlja2luZ0NvbG9yKGUpLG89aS5nZXRWZXJ0ZXhPZmZzZXQoYSkscz1pLmdldFZlcnRleE9mZnNldChhKzEpO2kuYnVmZmVyLnN1YkRhdGEoe2RhdGE6bmV3IFVpbnQ4QXJyYXkocy1vKSxvZmZzZXQ6b30pfX0se2tleToicmVzdG9yZVBpY2tpbmdDb2xvcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYXR0cmlidXRlcyx0PWUucGlja2luZ0NvbG9ycyxuPWUuaW5zdGFuY2VQaWNraW5nQ29sb3JzOyh0fHxuKS51cGRhdGVTdWJCdWZmZXIoe3N0YXJ0T2Zmc2V0OjB9KX19LHtrZXk6ImdldE51bUluc3RhbmNlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PShlPWV8fHRoaXMucHJvcHMpLm51bUluc3RhbmNlcz9lLm51bUluc3RhbmNlczp0aGlzLnN0YXRlJiZ2b2lkIDAhPT10aGlzLnN0YXRlLm51bUluc3RhbmNlcz90aGlzLnN0YXRlLm51bUluc3RhbmNlczpPYmplY3QoTS5hKShlLmRhdGEpfX0se2tleToiZ2V0U3RhcnRJbmRpY2VzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09KGU9ZXx8dGhpcy5wcm9wcykuc3RhcnRJbmRpY2VzP2Uuc3RhcnRJbmRpY2VzOnRoaXMuc3RhdGUmJnRoaXMuc3RhdGUuc3RhcnRJbmRpY2VzP3RoaXMuc3RhdGUuc3RhcnRJbmRpY2VzOm51bGx9fSx7a2V5OiJfaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QoQy5hKSgibGF5ZXIuaW5pdGlhbGl6ZSIsdGhpcyksdGhpcy5faW5pdFN0YXRlKCksdGhpcy5pbml0aWFsaXplU3RhdGUodGhpcy5jb250ZXh0KTt2YXIgZT0hMCx0PSExLG49dm9pZCAwO3RyeXtmb3IodmFyIHIsaT10aGlzLnByb3BzLmV4dGVuc2lvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZT0ocj1pLm5leHQoKSkuZG9uZSk7ZT0hMCl7dmFyIGE9ci52YWx1ZTthLmluaXRpYWxpemVTdGF0ZS5jYWxsKHRoaXMsdGhpcy5jb250ZXh0LGEpfX1jYXRjaChlKXt0PSEwLG49ZX1maW5hbGx5e3RyeXtlfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgbn19dGhpcy5zZXRDaGFuZ2VGbGFncyh7ZGF0YUNoYW5nZWQ6ITAscHJvcHNDaGFuZ2VkOiEwLHZpZXdwb3J0Q2hhbmdlZDohMCxleHRlbnNpb25zQ2hhbmdlZDohMH0pLHRoaXMuX3VwZGF0ZVN0YXRlKCl9fSx7a2V5OiJfdXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubmVlZHNVcGRhdGUoKTtPYmplY3QoQy5hKSgibGF5ZXIudXBkYXRlIix0aGlzLGUpLGUmJnRoaXMuX3VwZGF0ZVN0YXRlKCl9fSx7a2V5OiJfdXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PXRoaXMuX3VwZGF0ZVVuaWZvcm1UcmFuc2l0aW9uKCk7dGhpcy5pbnRlcm5hbFN0YXRlLnByb3BzSW5UcmFuc2l0aW9uPXQsdGhpcy5wcm9wcz10O3ZhciBuPXRoaXMuX2dldFVwZGF0ZVBhcmFtcygpO2lmKHRoaXMuY29udGV4dC5nbCl0aGlzLnVwZGF0ZVN0YXRlKG4pO2Vsc2UgdHJ5e3RoaXMudXBkYXRlU3RhdGUobil9Y2F0Y2goZSl7fXZhciByPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPXRoaXMucHJvcHMuZXh0ZW5zaW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UudXBkYXRlU3RhdGUuY2FsbCh0aGlzLG4sdSl9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX10aGlzLl91cGRhdGVNb2R1bGVzKG4pLHRoaXMuaXNDb21wb3NpdGU/dGhpcy5fcmVuZGVyTGF5ZXJzKG4pOih0aGlzLnNldE5lZWRzUmVkcmF3KCksdGhpcy5fdXBkYXRlQXR0cmlidXRlcyh0aGlzLnByb3BzKSx0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLnNldEluc3RhbmNlQ291bnQodGhpcy5nZXROdW1JbnN0YW5jZXMoKSkpLHRoaXMucHJvcHM9ZSx0aGlzLmNsZWFyQ2hhbmdlRmxhZ3MoKSx0aGlzLmludGVybmFsU3RhdGUubmVlZHNVcGRhdGU9ITEsdGhpcy5pbnRlcm5hbFN0YXRlLnJlc2V0T2xkUHJvcHMoKX19LHtrZXk6Il9maW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QoQy5hKSgibGF5ZXIuZmluYWxpemUiLHRoaXMpLE9iamVjdChJLmEpKHRoaXMuaW50ZXJuYWxTdGF0ZSYmdGhpcy5zdGF0ZSksdGhpcy5maW5hbGl6ZVN0YXRlKHRoaXMuY29udGV4dCk7dmFyIGU9ITAsdD0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy5wcm9wcy5leHRlbnNpb25zW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KHI9aS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBhPXIudmFsdWU7YS5maW5hbGl6ZVN0YXRlLmNhbGwodGhpcyxhKX19Y2F0Y2goZSl7dD0hMCxuPWV9ZmluYWxseXt0cnl7ZXx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZih0KXRocm93IG59fX19LHtrZXk6ImRyYXdMYXllciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUubW9kdWxlUGFyYW1ldGVycyxyPXZvaWQgMD09PW4/bnVsbDpuLGk9ZS51bmlmb3JtcyxhPXZvaWQgMD09PWk/e306aSxvPWUucGFyYW1ldGVycyxzPXZvaWQgMD09PW8/e306bzt0aGlzLl91cGRhdGVBdHRyaWJ1dGVUcmFuc2l0aW9uKCk7dmFyIHU9dGhpcy5wcm9wczt0aGlzLnByb3BzPXRoaXMuaW50ZXJuYWxTdGF0ZS5wcm9wc0luVHJhbnNpdGlvbnx8dTt2YXIgYz10aGlzLnByb3BzLm9wYWNpdHk7YS5vcGFjaXR5PU1hdGgucG93KGMsMS8yLjIpLHImJnRoaXMuc2V0TW9kdWxlUGFyYW1ldGVycyhyKTt2YXIgbD10aGlzLnByb3BzLmdldFBvbHlnb25PZmZzZXQsaD1sJiZsKGEpfHxbMCwwXTtPYmplY3QoTC5rKSh0aGlzLmNvbnRleHQuZ2wse3BvbHlnb25PZmZzZXQ6aH0pLE9iamVjdChMLmwpKHRoaXMuY29udGV4dC5nbCxzLChmdW5jdGlvbigpe3ZhciBlPXttb2R1bGVQYXJhbWV0ZXJzOnIsdW5pZm9ybXM6YSxwYXJhbWV0ZXJzOnMsY29udGV4dDp0LmNvbnRleHR9LG49ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9dC5wcm9wcy5leHRlbnNpb25zW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHU9Yy5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBsPXUudmFsdWU7bC5kcmF3LmNhbGwodCxlLGwpfX1jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXtufHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319dC5kcmF3KGUpfSkpLHRoaXMucHJvcHM9dX19LHtrZXk6ImdldENoYW5nZUZsYWdzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVybmFsU3RhdGUuY2hhbmdlRmxhZ3N9fSx7a2V5OiJzZXRDaGFuZ2VGbGFncyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pbnRlcm5hbFN0YXRlLmNoYW5nZUZsYWdzO2Zvcih2YXIgbiBpbiB0KWVbbl0mJiF0W25dJiYodFtuXT1lW25dLE9iamVjdChDLmEpKCJsYXllci5jaGFuZ2VGbGFnIix0aGlzLG4sZSkpO3ZhciByPXQuZGF0YUNoYW5nZWR8fHQudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkfHx0LnByb3BzQ2hhbmdlZHx8dC5leHRlbnNpb25zQ2hhbmdlZDt0LnByb3BzT3JEYXRhQ2hhbmdlZD1yLHQuc29tZXRoaW5nQ2hhbmdlZD1yfHxlLnZpZXdwb3J0Q2hhbmdlZHx8ZS5zdGF0ZUNoYW5nZWR9fSx7a2V5OiJjbGVhckNoYW5nZUZsYWdzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW50ZXJuYWxTdGF0ZS5jaGFuZ2VGbGFncz17ZGF0YUNoYW5nZWQ6ITEscHJvcHNDaGFuZ2VkOiExLHVwZGF0ZVRyaWdnZXJzQ2hhbmdlZDohMSx2aWV3cG9ydENoYW5nZWQ6ITEsc3RhdGVDaGFuZ2VkOiExLGV4dGVuc2lvbnNDaGFuZ2VkOiExLHByb3BzT3JEYXRhQ2hhbmdlZDohMSxzb21ldGhpbmdDaGFuZ2VkOiExfX19LHtrZXk6ImRpZmZQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3QoQS5iKShlLHQpO2lmKG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkKWZvcih2YXIgciBpbiBuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCluLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZFtyXSYmdGhpcy5pbnZhbGlkYXRlQXR0cmlidXRlKHIpO2lmKG4udHJhbnNpdGlvbnNDaGFuZ2VkKWZvcih2YXIgaSBpbiBuLnRyYW5zaXRpb25zQ2hhbmdlZCl0aGlzLmludGVybmFsU3RhdGUudW5pZm9ybVRyYW5zaXRpb25zLmFkZChpLHRbaV0sZVtpXSxlLnRyYW5zaXRpb25zW2ldKTtyZXR1cm4gdGhpcy5zZXRDaGFuZ2VGbGFncyhuKX19LHtrZXk6InZhbGlkYXRlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7T2JqZWN0KEEuYykodGhpcy5wcm9wcyl9fSx7a2V5OiJzZXRNb2R1bGVQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLmdldE1vZGVscygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe2kudmFsdWUudXBkYXRlTW9kdWxlU2V0dGluZ3MoZSl9fWNhdGNoKGUpe249ITAscj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19fSx7a2V5OiJfdXBkYXRlTW9kdWxlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPWUub2xkUHJvcHMscj10LmF1dG9IaWdobGlnaHQsaT10LmhpZ2hsaWdodGVkT2JqZWN0SW5kZXgsYT10LmhpZ2hsaWdodENvbG9yO2lmKG4uYXV0b0hpZ2hsaWdodCE9PXJ8fG4uaGlnaGxpZ2h0ZWRPYmplY3RJbmRleCE9PWl8fG4uaGlnaGxpZ2h0Q29sb3IhPT1hKXt2YXIgbz17fTtyfHwoby5waWNraW5nU2VsZWN0ZWRDb2xvcj1udWxsKSxhWzNdPWFbM118fDI1NSxvLnBpY2tpbmdIaWdobGlnaHRDb2xvcj1hLE51bWJlci5pc0ludGVnZXIoaSkmJihvLnBpY2tpbmdTZWxlY3RlZENvbG9yPWk+PTA/dGhpcy5lbmNvZGVQaWNraW5nQ29sb3IoaSk6bnVsbCksdGhpcy5zZXRNb2R1bGVQYXJhbWV0ZXJzKG8pfX19LHtrZXk6Il9nZXRVcGRhdGVQYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3Byb3BzOnRoaXMucHJvcHMsb2xkUHJvcHM6dGhpcy5pbnRlcm5hbFN0YXRlLmdldE9sZFByb3BzKCksY29udGV4dDp0aGlzLmNvbnRleHQsY2hhbmdlRmxhZ3M6dGhpcy5pbnRlcm5hbFN0YXRlLmNoYW5nZUZsYWdzfX19LHtrZXk6Il9nZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaW50ZXJuYWxTdGF0ZSlyZXR1cm4hMTt2YXIgdD0hMTt0PXR8fHRoaXMuaW50ZXJuYWxTdGF0ZS5uZWVkc1JlZHJhdyYmdGhpcy5pZCx0aGlzLmludGVybmFsU3RhdGUubmVlZHNSZWRyYXc9dGhpcy5pbnRlcm5hbFN0YXRlLm5lZWRzUmVkcmF3JiYhZS5jbGVhclJlZHJhd0ZsYWdzO3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLHI9biYmbi5nZXROZWVkc1JlZHJhdyhlKTtyZXR1cm4gdD10fHxyfX0se2tleToiX2dldEF0dHJpYnV0ZU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnLmEodGhpcy5jb250ZXh0LmdsLHtpZDp0aGlzLnByb3BzLmlkLHN0YXRzOnRoaXMuY29udGV4dC5zdGF0cyx0aW1lbGluZTp0aGlzLmNvbnRleHQudGltZWxpbmV9KX19LHtrZXk6Il9pbml0U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7T2JqZWN0KEkuYSkoIXRoaXMuaW50ZXJuYWxTdGF0ZSYmIXRoaXMuc3RhdGUpLE9iamVjdChJLmEpKGlzRmluaXRlKHRoaXMucHJvcHMuY29vcmRpbmF0ZVN5c3RlbSksIiIuY29uY2F0KHRoaXMuaWQsIjogaW52YWxpZCBjb29yZGluYXRlU3lzdGVtIikpO3ZhciBlPXRoaXMuX2dldEF0dHJpYnV0ZU1hbmFnZXIoKTtlJiZlLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQaWNraW5nQ29sb3JzOnt0eXBlOjUxMjEsc2l6ZTozLG5vQWxsb2M6ITAsdXBkYXRlOnRoaXMuY2FsY3VsYXRlSW5zdGFuY2VQaWNraW5nQ29sb3JzfX0pLHRoaXMuaW50ZXJuYWxTdGF0ZT1uZXcgYmUoe2F0dHJpYnV0ZU1hbmFnZXI6ZSxsYXllcjp0aGlzfSksdGhpcy5jbGVhckNoYW5nZUZsYWdzKCksdGhpcy5zdGF0ZT17fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zdGF0ZSwiYXR0cmlidXRlTWFuYWdlciIse2dldDpmdW5jdGlvbigpe3JldHVybiBQLmEuZGVwcmVjYXRlZCgibGF5ZXIuc3RhdGUuYXR0cmlidXRlTWFuYWdlciIsImxheWVyLmdldEF0dHJpYnV0ZU1hbmFnZXIoKSIpLGV9fSksdGhpcy5pbnRlcm5hbFN0YXRlLmxheWVyPXRoaXMsdGhpcy5pbnRlcm5hbFN0YXRlLnVuaWZvcm1UcmFuc2l0aW9ucz1uZXcgRSh0aGlzLmNvbnRleHQudGltZWxpbmUpLHRoaXMuaW50ZXJuYWxTdGF0ZS5vbkFzeW5jUHJvcFVwZGF0ZWQ9dGhpcy5fb25Bc3luY1Byb3BVcGRhdGVkLmJpbmQodGhpcyksdGhpcy5pbnRlcm5hbFN0YXRlLnNldEFzeW5jUHJvcHModGhpcy5wcm9wcyl9fSx7a2V5OiJfdHJhbnNmZXJTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7T2JqZWN0KEMuYSkoImxheWVyLm1hdGNoZWQiLHRoaXMsdGhpcz09PWUpO3ZhciB0PWUuc3RhdGUsbj1lLmludGVybmFsU3RhdGU7T2JqZWN0KEkuYSkodCYmbiksdGhpcyE9PWUmJih0aGlzLmludGVybmFsU3RhdGU9bix0aGlzLmludGVybmFsU3RhdGUubGF5ZXI9dGhpcyx0aGlzLnN0YXRlPXQsdGhpcy5pbnRlcm5hbFN0YXRlLnNldEFzeW5jUHJvcHModGhpcy5wcm9wcyksdGhpcy5kaWZmUHJvcHModGhpcy5wcm9wcyx0aGlzLmludGVybmFsU3RhdGUuZ2V0T2xkUHJvcHMoKSkpfX0se2tleToiX29uQXN5bmNQcm9wVXBkYXRlZCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRpZmZQcm9wcyh0aGlzLnByb3BzLHRoaXMuaW50ZXJuYWxTdGF0ZS5nZXRPbGRQcm9wcygpKSx0aGlzLnNldE5lZWRzVXBkYXRlKCl9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZSYmIXRoaXMuaW50ZXJuYWxTdGF0ZS5pc0FzeW5jUHJvcExvYWRpbmcoKX19XSksdH0obWUpO2tlLmxheWVyTmFtZT0iTGF5ZXIiLGtlLmRlZmF1bHRQcm9wcz1TZX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oMTg5KSxnPW4oMjcyKSx5PW4oMjA2KSxtPW4oMjIpLGI9bigxMDgpLF89bigyNTQpLE89bigxNzMpLHg9bigxNjEpLHc9big2MCksUz1uKDcpLGs9bi5uKFMpLFA9bigxMTcpO2Z1bmN0aW9uIGooZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7aSgpKHRoaXMsdCk7dmFyIG49ZS5mcDY0LHI9ZS5JbmRleFR5cGUsYT12b2lkIDA9PT1yP1VpbnQzMkFycmF5OnI7cmV0dXJuIHUoKSh0aGlzLGwoKSh0KS5jYWxsKHRoaXMsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2soKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6aihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sZSx7YXR0cmlidXRlczp7cG9zaXRpb25zOntzaXplOjMsdHlwZTpuP0Zsb2F0NjRBcnJheTpGbG9hdDMyQXJyYXl9LHZlcnRleFZhbGlkOnt0eXBlOlVpbnQ4Q2xhbXBlZEFycmF5LHNpemU6MX0saW5kaWNlczp7dHlwZTphLHNpemU6MX19fSkpKX1yZXR1cm4gdigpKHQsZSksbygpKHQsW3trZXk6ImdldCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5hdHRyaWJ1dGVzO3JldHVybiJpbmRpY2VzIj09PWU/dC5pbmRpY2VzJiZ0LmluZGljZXMuc3ViYXJyYXkoMCx0aGlzLnZlcnRleENvdW50KTp0W2VdfX0se2tleToidXBkYXRlR2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKGUpe2YoKShsKCkodC5wcm90b3R5cGUpLCJ1cGRhdGVHZW9tZXRyeSIsdGhpcykuY2FsbCh0aGlzLGUpO3ZhciBuPXRoaXMuYnVmZmVycy5pbmRpY2VzO24mJih0aGlzLnZlcnRleENvdW50PShuLnZhbHVlfHxuKS5sZW5ndGgpfX0se2tleToiZ2V0R2VvbWV0cnlTaXplIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gUC5iKGUsdGhpcy5wb3NpdGlvblNpemUsdGhpcy5ub3JtYWxpemUpfX0se2tleToiZ2V0R2VvbWV0cnlGcm9tQnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemV8fCF0aGlzLmJ1ZmZlcnMuaW5kaWNlcz9mKCkobCgpKHQucHJvdG90eXBlKSwiZ2V0R2VvbWV0cnlGcm9tQnVmZmVyIix0aGlzKS5jYWxsKHRoaXMsZSk6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19fSx7a2V5OiJ1cGRhdGVHZW9tZXRyeUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ub3JtYWxpemUmJihlPVAuYyhlLHRoaXMucG9zaXRpb25TaXplLHQuZ2VvbWV0cnlTaXplKSksdGhpcy5fdXBkYXRlSW5kaWNlcyhlLHQpLHRoaXMuX3VwZGF0ZVBvc2l0aW9ucyhlLHQpLHRoaXMuX3VwZGF0ZVZlcnRleFZhbGlkKGUsdCl9fSx7a2V5OiJfdXBkYXRlSW5kaWNlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10Lmdlb21ldHJ5SW5kZXgscj10LnZlcnRleFN0YXJ0LGk9dC5pbmRleFN0YXJ0LGE9dGhpcy5hdHRyaWJ1dGVzLG89dGhpcy5pbmRleFN0YXJ0cyxzPXRoaXMudHlwZWRBcnJheU1hbmFnZXIsdT1hLmluZGljZXM7aWYodSl7dmFyIGM9aSxsPVAuYShlLHRoaXMucG9zaXRpb25TaXplLHRoaXMub3B0cy5wcmVwcm9qZWN0KTt1PXMuYWxsb2NhdGUodSxpK2wubGVuZ3RoLHtjb3B5OiEwfSk7Zm9yKHZhciBoPTA7aDxsLmxlbmd0aDtoKyspdVtjKytdPWxbaF0rcjtvW24rMV09aStsLmxlbmd0aCxhLmluZGljZXM9dX19fSx7a2V5OiJfdXBkYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQudmVydGV4U3RhcnQscj10Lmdlb21ldHJ5U2l6ZSxpPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbnMsYT10aGlzLnBvc2l0aW9uU2l6ZTtpZihpKWZvcih2YXIgbz1lLnBvc2l0aW9uc3x8ZSxzPW4sdT0wO3U8cjtzKyssdSsrKXt2YXIgYz1vW3UqYV0sbD1vW3UqYSsxXSxoPWE+Mj9vW3UqYSsyXTowO2lbMypzXT1jLGlbMypzKzFdPWwsaVszKnMrMl09aH19fSx7a2V5OiJfdXBkYXRlVmVydGV4VmFsaWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC52ZXJ0ZXhTdGFydCxyPXQuZ2VvbWV0cnlTaXplLGk9dGhpcy5hdHRyaWJ1dGVzLnZlcnRleFZhbGlkLGE9dGhpcy5wb3NpdGlvblNpemUsbz1lJiZlLmhvbGVJbmRpY2VzO2lmKGkuZmlsbCgxLG4sbityKSxvKWZvcih2YXIgcz0wO3M8by5sZW5ndGg7cysrKWlbbitvW3NdL2EtMV09MDtpW24rci0xXT0wfX1dKSx0fShuKDE5MSkuYSksRT0iXG5hdHRyaWJ1dGUgdmVjMiB2ZXJ0ZXhQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgZmxvYXQgdmVydGV4VmFsaWQ7XG5cbnVuaWZvcm0gYm9vbCBleHRydWRlZDtcbnVuaWZvcm0gYm9vbCBpc1dpcmVmcmFtZTtcbnVuaWZvcm0gZmxvYXQgZWxldmF0aW9uU2NhbGU7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IGlzVmFsaWQ7XG5cbnN0cnVjdCBQb2x5Z29uUHJvcHMge1xuICB2ZWM0IGZpbGxDb2xvcnM7XG4gIHZlYzQgbGluZUNvbG9ycztcbiAgdmVjMyBwb3NpdGlvbnM7XG4gIHZlYzMgbmV4dFBvc2l0aW9ucztcbiAgdmVjMyBwaWNraW5nQ29sb3JzO1xuICB2ZWMzIHBvc2l0aW9uczY0TG93O1xuICB2ZWMzIG5leHRQb3NpdGlvbnM2NExvdztcbiAgZmxvYXQgZWxldmF0aW9ucztcbn07XG5cbnZlYzMgcHJvamVjdF9vZmZzZXRfbm9ybWFsKHZlYzMgdmVjdG9yKSB7XG4gIGlmIChwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtID09IENPT1JESU5BVEVfU1lTVEVNX0xOR0xBVCB8fFxuICAgIHByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW0gPT0gQ09PUkRJTkFURV9TWVNURU1fTE5HTEFUX09GRlNFVFMpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplKHZlY3RvciAqIHByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0KTtcbiAgfVxuICByZXR1cm4gcHJvamVjdF9ub3JtYWwodmVjdG9yKTtcbn1cblxudm9pZCBjYWxjdWxhdGVQb3NpdGlvbihQb2x5Z29uUHJvcHMgcHJvcHMpIHtcbiAgdmVjMyBwb3M7XG4gIHZlYzMgcG9zNjRMb3c7XG4gIHZlYzMgbm9ybWFsO1xuICB2ZWM0IGNvbG9ycyA9IGlzV2lyZWZyYW1lID8gcHJvcHMubGluZUNvbG9ycyA6IHByb3BzLmZpbGxDb2xvcnM7XG5cbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbiA9IHByb3BzLnBvc2l0aW9ucztcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdCA9IHByb3BzLm5leHRQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IHByb3BzLnBpY2tpbmdDb2xvcnM7XG5cbiNpZmRlZiBJU19TSURFX1ZFUlRFWFxuICBwb3MgPSBtaXgocHJvcHMucG9zaXRpb25zLCBwcm9wcy5uZXh0UG9zaXRpb25zLCB2ZXJ0ZXhQb3NpdGlvbnMueCk7XG4gIHBvczY0TG93ID0gbWl4KHByb3BzLnBvc2l0aW9uczY0TG93LCBwcm9wcy5uZXh0UG9zaXRpb25zNjRMb3csIHZlcnRleFBvc2l0aW9ucy54KTtcbiAgaXNWYWxpZCA9IHZlcnRleFZhbGlkO1xuI2Vsc2VcbiAgcG9zID0gcHJvcHMucG9zaXRpb25zO1xuICBwb3M2NExvdyA9IHByb3BzLnBvc2l0aW9uczY0TG93O1xuICBpc1ZhbGlkID0gMS4wO1xuI2VuZGlmXG5cbiAgaWYgKGV4dHJ1ZGVkKSB7XG4gICAgcG9zLnogKz0gcHJvcHMuZWxldmF0aW9ucyAqIHZlcnRleFBvc2l0aW9ucy55ICogZWxldmF0aW9uU2NhbGU7XG4gICAgXG4jaWZkZWYgSVNfU0lERV9WRVJURVhcbiAgICBub3JtYWwgPSB2ZWMzKHByb3BzLnBvc2l0aW9ucy55IC0gcHJvcHMubmV4dFBvc2l0aW9ucy55LCBwcm9wcy5uZXh0UG9zaXRpb25zLnggLSBwcm9wcy5wb3NpdGlvbnMueCwgMC4wKTtcbiAgICBub3JtYWwgPSBwcm9qZWN0X29mZnNldF9ub3JtYWwobm9ybWFsKTtcbiNlbHNlXG4gICAgbm9ybWFsID0gdmVjMygwLjAsIDAuMCwgMS4wKTtcbiNlbmRpZlxuICAgIGdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbDtcbiAgfVxuXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zLCBwb3M2NExvdywgdmVjMygwLiksIGdlb21ldHJ5LnBvc2l0aW9uKTtcbiAgREVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihnbF9Qb3NpdGlvbiwgZ2VvbWV0cnkpO1xuXG4gIGlmIChleHRydWRlZCkge1xuICAgIHZlYzMgbGlnaHRDb2xvciA9IGxpZ2h0aW5nX2dldExpZ2h0Q29sb3IoY29sb3JzLnJnYiwgcHJvamVjdF91Q2FtZXJhUG9zaXRpb24sIGdlb21ldHJ5LnBvc2l0aW9uLnh5eiwgbm9ybWFsKTtcbiAgICB2Q29sb3IgPSB2ZWM0KGxpZ2h0Q29sb3IsIGNvbG9ycy5hICogb3BhY2l0eSk7XG4gIH0gZWxzZSB7XG4gICAgdkNvbG9yID0gdmVjNChjb2xvcnMucmdiLCBjb2xvcnMuYSAqIG9wYWNpdHkpO1xuICB9XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLEE9IiNkZWZpbmUgU0hBREVSX05BTUUgc29saWQtcG9seWdvbi1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIGZsb2F0IGVsZXZhdGlvbnM7XG5hdHRyaWJ1dGUgdmVjNCBmaWxsQ29sb3JzO1xuYXR0cmlidXRlIHZlYzQgbGluZUNvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIHBpY2tpbmdDb2xvcnM7XG5cbiIuY29uY2F0KEUsIlxuXG52b2lkIG1haW4odm9pZCkge1xuICBQb2x5Z29uUHJvcHMgcHJvcHM7XG5cbiAgcHJvcHMucG9zaXRpb25zID0gcG9zaXRpb25zO1xuICBwcm9wcy5wb3NpdGlvbnM2NExvdyA9IHBvc2l0aW9uczY0TG93O1xuICBwcm9wcy5lbGV2YXRpb25zID0gZWxldmF0aW9ucztcbiAgcHJvcHMuZmlsbENvbG9ycyA9IGZpbGxDb2xvcnM7XG4gIHByb3BzLmxpbmVDb2xvcnMgPSBsaW5lQ29sb3JzO1xuICBwcm9wcy5waWNraW5nQ29sb3JzID0gcGlja2luZ0NvbG9ycztcblxuICBjYWxjdWxhdGVQb3NpdGlvbihwcm9wcyk7XG59XG4iKSxNPSIjZGVmaW5lIFNIQURFUl9OQU1FIHNvbGlkLXBvbHlnb24tbGF5ZXItdmVydGV4LXNoYWRlci1zaWRlXG4jZGVmaW5lIElTX1NJREVfVkVSVEVYXG5cblxuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBuZXh0UG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIG5leHRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZUVsZXZhdGlvbnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUZpbGxDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUxpbmVDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbiIuY29uY2F0KEUsIlxuXG52b2lkIG1haW4odm9pZCkge1xuICBQb2x5Z29uUHJvcHMgcHJvcHM7XG5cbiAgcHJvcHMucG9zaXRpb25zID0gaW5zdGFuY2VQb3NpdGlvbnM7XG4gIHByb3BzLnBvc2l0aW9uczY0TG93ID0gaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbiAgcHJvcHMuZWxldmF0aW9ucyA9IGluc3RhbmNlRWxldmF0aW9ucztcbiAgcHJvcHMuZmlsbENvbG9ycyA9IGluc3RhbmNlRmlsbENvbG9ycztcbiAgcHJvcHMubGluZUNvbG9ycyA9IGluc3RhbmNlTGluZUNvbG9ycztcbiAgcHJvcHMucGlja2luZ0NvbG9ycyA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgcHJvcHMubmV4dFBvc2l0aW9ucyA9IG5leHRQb3NpdGlvbnM7XG4gIHByb3BzLm5leHRQb3NpdGlvbnM2NExvdyA9IG5leHRQb3NpdGlvbnM2NExvdztcblxuICBjYWxjdWxhdGVQb3NpdGlvbihwcm9wcyk7XG59XG4iKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSk7dmFyIEM9WzAsMCwwLDI1NV0sTD17ZmlsbGVkOiEwLGV4dHJ1ZGVkOiExLHdpcmVmcmFtZTohMSxfbm9ybWFsaXplOiEwLGVsZXZhdGlvblNjYWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjF9LGdldFBvbHlnb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wb2x5Z29ufX0sZ2V0RWxldmF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MWUzfSxnZXRGaWxsQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpDfSxnZXRMaW5lQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpDfSxtYXRlcmlhbDohMH0sST17ZW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5sZW5ndGg/dC5zdWJhcnJheSh0Lmxlbmd0aC1lLmxlbmd0aCk6ZX19LFI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKCkodGhpcyx0KSx1KCkodGhpcyxsKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gdigpKHQsZSksbygpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmKCkobCgpKHQucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czplLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNvbGlkLXBvbHlnb24tbGF5ZXItZnJhZ21lbnQtc2hhZGVyXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgZmxvYXQgaXNWYWxpZDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgaWYgKGlzVmFsaWQgPCAwLjUpIHtcbiAgICBkaXNjYXJkO1xuICB9XG5cbiAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xuXG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGRlZmluZXM6e30sbW9kdWxlczpbcC5hLGcuYSx5LmFdfSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuY29udGV4dCxuPXQuZ2wscj10LnZpZXdwb3J0LGk9dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtO3IuaXNHZW9zcGF0aWFsJiZpPT09bS5hLkRFRkFVTFQmJihpPW0uYS5MTkdMQVQpLHRoaXMuc2V0U3RhdGUoe251bUluc3RhbmNlczowLHBvbHlnb25UZXNzZWxhdG9yOm5ldyBUKHtwcmVwcm9qZWN0Omk9PT1tLmEuTE5HTEFULGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpLEluZGV4VHlwZTohbnx8T2JqZWN0KF8uYykobixPLmEuRUxFTUVOVF9JTkRFWF9VSU5UMzIpP1VpbnQzMkFycmF5OlVpbnQxNkFycmF5fSl9KTt2YXIgYT10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTthLnJlbW92ZShbImluc3RhbmNlUGlja2luZ0NvbG9ycyJdKSxhLmFkZCh7aW5kaWNlczp7c2l6ZToxLGlzSW5kZXhlZDohMCx1cGRhdGU6dGhpcy5jYWxjdWxhdGVJbmRpY2VzLG5vQWxsb2M6ITB9LHBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOkksYWNjZXNzb3I6ImdldFBvbHlnb24iLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZVBvc2l0aW9ucyxub0FsbG9jOiEwLHNoYWRlckF0dHJpYnV0ZXM6e3Bvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjAsZGl2aXNvcjowfSxpbnN0YW5jZVBvc2l0aW9uczp7dmVydGV4T2Zmc2V0OjAsZGl2aXNvcjoxfSxuZXh0UG9zaXRpb25zOnt2ZXJ0ZXhPZmZzZXQ6MSxkaXZpc29yOjF9fX0sdmVydGV4VmFsaWQ6e3NpemU6MSxkaXZpc29yOjEsdHlwZTo1MTIxLHVwZGF0ZTp0aGlzLmNhbGN1bGF0ZVZlcnRleFZhbGlkLG5vQWxsb2M6ITB9LGVsZXZhdGlvbnM6e3NpemU6MSx0cmFuc2l0aW9uOkksYWNjZXNzb3I6ImdldEVsZXZhdGlvbiIsc2hhZGVyQXR0cmlidXRlczp7ZWxldmF0aW9uczp7ZGl2aXNvcjowfSxpbnN0YW5jZUVsZXZhdGlvbnM6e2Rpdmlzb3I6MX19fSxmaWxsQ29sb3JzOnthbGlhczoiY29sb3JzIixzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246SSxhY2Nlc3NvcjoiZ2V0RmlsbENvbG9yIixkZWZhdWx0VmFsdWU6QyxzaGFkZXJBdHRyaWJ1dGVzOntmaWxsQ29sb3JzOntkaXZpc29yOjB9LGluc3RhbmNlRmlsbENvbG9yczp7ZGl2aXNvcjoxfX19LGxpbmVDb2xvcnM6e2FsaWFzOiJjb2xvcnMiLHNpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjpJLGFjY2Vzc29yOiJnZXRMaW5lQ29sb3IiLGRlZmF1bHRWYWx1ZTpDLHNoYWRlckF0dHJpYnV0ZXM6e2xpbmVDb2xvcnM6e2Rpdmlzb3I6MH0saW5zdGFuY2VMaW5lQ29sb3JzOntkaXZpc29yOjF9fX0scGlja2luZ0NvbG9yczp7c2l6ZTozLHR5cGU6NTEyMSxhY2Nlc3NvcjpmdW5jdGlvbih0LG4pe3ZhciByPW4uaW5kZXgsaT1uLnRhcmdldDtyZXR1cm4gZS5lbmNvZGVQaWNraW5nQ29sb3IocixpKX0sc2hhZGVyQXR0cmlidXRlczp7cGlja2luZ0NvbG9yczp7ZGl2aXNvcjowfSxpbnN0YW5jZVBpY2tpbmdDb2xvcnM6e2Rpdmlzb3I6MX19fX0pfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLmV4dHJ1ZGVkLGk9bi5maWxsZWQsYT1uLndpcmVmcmFtZSxvPW4uZWxldmF0aW9uU2NhbGUscz10aGlzLnN0YXRlLHU9cy50b3BNb2RlbCxjPXMuc2lkZU1vZGVsLGw9cy5wb2x5Z29uVGVzc2VsYXRvcixoPU9iamVjdC5hc3NpZ24oe30sdCx7ZXh0cnVkZWQ6Qm9vbGVhbihyKSxlbGV2YXRpb25TY2FsZTpvfSk7YyYmKGMuc2V0SW5zdGFuY2VDb3VudChsLmluc3RhbmNlQ291bnQtMSksYy5zZXRVbmlmb3JtcyhoKSxhJiYoYy5zZXREcmF3TW9kZSgzKSxjLnNldFVuaWZvcm1zKHtpc1dpcmVmcmFtZTohMH0pLmRyYXcoKSksaSYmKGMuc2V0RHJhd01vZGUoNiksYy5zZXRVbmlmb3Jtcyh7aXNXaXJlZnJhbWU6ITF9KS5kcmF3KCkpKSx1JiYodS5zZXRWZXJ0ZXhDb3VudChsLnZlcnRleENvdW50KSx1LnNldFVuaWZvcm1zKGgpLmRyYXcoKSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZigpKGwoKSh0LnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy51cGRhdGVHZW9tZXRyeShlKTt2YXIgbj1lLnByb3BzLHI9ZS5vbGRQcm9wcyxpPWUuY2hhbmdlRmxhZ3MsYT10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTsoaS5leHRlbnNpb25zQ2hhbmdlZHx8bi5maWxsZWQhPT1yLmZpbGxlZHx8bi5leHRydWRlZCE9PXIuZXh0cnVkZWQpJiYodGhpcy5zdGF0ZS5tb2RlbHMmJnRoaXMuc3RhdGUubW9kZWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlbGV0ZSgpfSkpLHRoaXMuc2V0U3RhdGUodGhpcy5fZ2V0TW9kZWxzKHRoaXMuY29udGV4dC5nbCkpLGEuaW52YWxpZGF0ZUFsbCgpKX19LHtrZXk6InVwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3BzLG49KGUub2xkUHJvcHMsZS5jaGFuZ2VGbGFncyk7aWYobi5kYXRhQ2hhbmdlZHx8bi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQmJihuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5hbGx8fG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmdldFBvbHlnb24pKXt2YXIgcj10aGlzLnN0YXRlLnBvbHlnb25UZXNzZWxhdG9yLGk9dC5kYXRhLmF0dHJpYnV0ZXN8fHt9O3IudXBkYXRlR2VvbWV0cnkoe2RhdGE6dC5kYXRhLG5vcm1hbGl6ZTp0Ll9ub3JtYWxpemUsZ2VvbWV0cnlCdWZmZXI6aS5nZXRQb2x5Z29uLGJ1ZmZlcnM6aSxnZXRHZW9tZXRyeTp0LmdldFBvbHlnb24scG9zaXRpb25Gb3JtYXQ6dC5wb3NpdGlvbkZvcm1hdCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSxkYXRhQ2hhbmdlZDpuLmRhdGFDaGFuZ2VkfSksdGhpcy5zZXRTdGF0ZSh7bnVtSW5zdGFuY2VzOnIuaW5zdGFuY2VDb3VudCxzdGFydEluZGljZXM6ci52ZXJ0ZXhTdGFydHN9KSxuLmRhdGFDaGFuZ2VkfHx0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5pbnZhbGlkYXRlQWxsKCl9fX0se2tleToiX2dldE1vZGVscyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMucHJvcHMsaT1yLmlkLGE9ci5maWxsZWQsbz1yLmV4dHJ1ZGVkO2lmKGEpe3ZhciBzPXRoaXMuZ2V0U2hhZGVycyhBKTtzLmRlZmluZXMuTk9OX0lOU1RBTkNFRF9NT0RFTD0xLHQ9bmV3IHguYShlLE9iamVjdC5hc3NpZ24oe30scyx7aWQ6IiIuY29uY2F0KGksIi10b3AiKSxkcmF3TW9kZTo0LGF0dHJpYnV0ZXM6e3ZlcnRleFBvc2l0aW9uczpuZXcgRmxvYXQzMkFycmF5KFswLDFdKX0sdW5pZm9ybXM6e2lzV2lyZWZyYW1lOiExLGlzU2lkZVZlcnRleDohMX0sdmVydGV4Q291bnQ6MCxpc0luZGV4ZWQ6ITB9KSl9cmV0dXJuIG8mJigobj1uZXcgeC5hKGUsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoTSkse2lkOiIiLmNvbmNhdChpLCItc2lkZSIpLGdlb21ldHJ5Om5ldyB3LmEoe2RyYXdNb2RlOjEsdmVydGV4Q291bnQ6NCxhdHRyaWJ1dGVzOnt2ZXJ0ZXhQb3NpdGlvbnM6e3NpemU6Mix2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KFsxLDEsMCwxLDAsMCwxLDBdKX19fSksaW5zdGFuY2VDb3VudDowLGlzSW5zdGFuY2VkOjF9KSkpLnVzZXJEYXRhLmV4Y2x1ZGVBdHRyaWJ1dGVzPXtpbmRpY2VzOiEwfSkse21vZGVsczpbbix0XS5maWx0ZXIoQm9vbGVhbiksdG9wTW9kZWw6dCxzaWRlTW9kZWw6bn19fSx7a2V5OiJjYWxjdWxhdGVJbmRpY2VzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnBvbHlnb25UZXNzZWxhdG9yO2Uuc3RhcnRJbmRpY2VzPXQuaW5kZXhTdGFydHMsZS52YWx1ZT10LmdldCgiaW5kaWNlcyIpfX0se2tleToiY2FsY3VsYXRlUG9zaXRpb25zIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnBvbHlnb25UZXNzZWxhdG9yO2Uuc3RhcnRJbmRpY2VzPXQudmVydGV4U3RhcnRzLGUudmFsdWU9dC5nZXQoInBvc2l0aW9ucyIpfX0se2tleToiY2FsY3VsYXRlVmVydGV4VmFsaWQiLHZhbHVlOmZ1bmN0aW9uKGUpe2UudmFsdWU9dGhpcy5zdGF0ZS5wb2x5Z29uVGVzc2VsYXRvci5nZXQoInZlcnRleFZhbGlkIil9fV0pLHR9KGIuYSk7Ui5sYXllck5hbWU9IlNvbGlkUG9seWdvbkxheWVyIixSLmRlZmF1bHRQcm9wcz1MfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4ocj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDExMCk7ZnVuY3Rpb24gaSgpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIGEoZSx0LG4pe3JldHVybihhPWkoKT9SZWZsZWN0LmNvbnN0cnVjdDpmdW5jdGlvbihlLHQsbil7dmFyIGk9W251bGxdO2kucHVzaC5hcHBseShpLHQpO3ZhciBhPW5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KGUsaSkpO3JldHVybiBuJiZPYmplY3Qoci5hKShhLG4ucHJvdG90eXBlKSxhfSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDg3KSxpPW4ubihyKSxhPW4oMTgpLG89bi5uKGEpLHM9bigyMiksdT1uKDEwMSksYz1uKDEpLGw9big5OCksaD1uKDMzKSxmPU9iamVjdChsLmEpKChmdW5jdGlvbihlKXt2YXIgdD1lLnZpZXdwb3J0LG49ZS5jZW50ZXI7cmV0dXJuIG5ldyBjLmIodC52aWV3UHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCkudHJhbnNmb3JtKG4pfSkpLGQ9T2JqZWN0KGwuYSkoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmlld3BvcnQsbj1lLnNoYWRvd01hdHJpY2VzLHI9W10sYT10LnBpeGVsVW5wcm9qZWN0aW9uTWF0cml4LHM9dC5pc0dlb3NwYXRpYWw/dm9pZCAwOjEsdT1bWzAsMCxzXSxbdC53aWR0aCwwLHNdLFswLHQuaGVpZ2h0LHNdLFt0LndpZHRoLHQuaGVpZ2h0LHNdLFswLDAsLTFdLFt0LndpZHRoLDAsLTFdLFswLHQuaGVpZ2h0LC0xXSxbdC53aWR0aCx0LmhlaWdodCwtMV1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49bygpKGUsMykscj1uWzBdLGk9blsxXSxhPW5bMl0scz1PYmplY3QoaC5sKShbcixpLGFdLHQpO2lmKE51bWJlci5pc0Zpbml0ZShhKSlyZXR1cm4gcztyZXR1cm5bc1swXSxzWzFdLDBdfShlLGEpfSkpLGw9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9ZnVuY3Rpb24oKXt2YXIgZT12LnZhbHVlLG49ZS5jbG9uZSgpLnRyYW5zbGF0ZShuZXcgYy5lKHQuY2VudGVyKS5uZWdhdGUoKSksYT11Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4udHJhbnNmb3JtKGUpfSkpLG89KG5ldyBjLmIpLm9ydGhvKHtsZWZ0Ok1hdGgubWluLmFwcGx5KE1hdGgsaSgpKGEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXX0pKSkpLHJpZ2h0Ok1hdGgubWF4LmFwcGx5KE1hdGgsaSgpKGEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXX0pKSkpLGJvdHRvbTpNYXRoLm1pbi5hcHBseShNYXRoLGkoKShhLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV19KSkpKSx0b3A6TWF0aC5tYXguYXBwbHkoTWF0aCxpKCkoYS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSkpKSksbmVhcjpNYXRoLm1pbi5hcHBseShNYXRoLGkoKShhLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuLWVbMl19KSkpKSxmYXI6TWF0aC5tYXguYXBwbHkoTWF0aCxpKCkoYS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybi1lWzJdfSkpKSl9KTtyLnB1c2goby5tdWx0aXBseVJpZ2h0KGUpKX0sZz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KHY9Zy5uZXh0KCkpLmRvbmUpO2w9ITApcCgpfWNhdGNoKGUpe2Y9ITAsZD1lfWZpbmFsbHl7dHJ5e2x8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZil0aHJvdyBkfX1yZXR1cm4gcn0pKSx2PVswLDAsMCwxXSxwPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwwXTtmdW5jdGlvbiBnKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXtzaGFkb3dfdURyYXdTaGFkb3dNYXA6Qm9vbGVhbihlLmRyYXdUb1NoYWRvd01hcCksc2hhZG93X3VVc2VTaGFkb3dNYXA6ISFlLnNoYWRvd01hcHMmJmUuc2hhZG93TWFwcy5sZW5ndGg+MCxzaGFkb3dfdUNvbG9yOmUuc2hhZG93Q29sb3J8fHYsc2hhZG93X3VMaWdodElkOmUuc2hhZG93TGlnaHRJZHx8MCxzaGFkb3dfdUxpZ2h0Q291bnQ6ZS5zaGFkb3dNYXRyaWNlcy5sZW5ndGh9LHI9Zih7dmlld3BvcnQ6ZS52aWV3cG9ydCxjZW50ZXI6dC5wcm9qZWN0X3VDZW50ZXJ9KSxpPVtdLGE9ZCh7c2hhZG93TWF0cmljZXM6ZS5zaGFkb3dNYXRyaWNlcyx2aWV3cG9ydDplLnZpZXdwb3J0fSkuc2xpY2UoKSxvPTA7bzxlLnNoYWRvd01hdHJpY2VzLmxlbmd0aDtvKyspe3ZhciB1PWFbb10sbD11LmNsb25lKCkudHJhbnNsYXRlKG5ldyBjLmUoZS52aWV3cG9ydC5jZW50ZXIpLm5lZ2F0ZSgpKTt0LnByb2plY3RfdUNvb3JkaW5hdGVTeXN0ZW09PT1zLmEuTE5HTEFUJiZ0LnByb2plY3RfdVByb2plY3Rpb25Nb2RlPT09cy5jLldFQl9NRVJDQVRPUj8oYVtvXT1sLGlbb109cik6KGFbb109dS5jbG9uZSgpLm11bHRpcGx5UmlnaHQocCksaVtvXT1sLnRyYW5zZm9ybShyKSl9Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspblsic2hhZG93X3VWaWV3UHJvamVjdGlvbk1hdHJpY2VzWyIuY29uY2F0KGgsIl0iKV09YVtoXSxuWyJzaGFkb3dfdVByb2plY3RDZW50ZXJzWyIuY29uY2F0KGgsIl0iKV09aVtoXSxlLnNoYWRvd01hcHMmJmUuc2hhZG93TWFwcy5sZW5ndGg+MD9uWyJzaGFkb3dfdVNoYWRvd01hcCIuY29uY2F0KGgpXT1lLnNoYWRvd01hcHNbaF06blsic2hhZG93X3VTaGFkb3dNYXAiLmNvbmNhdChoKV09ZS5kdW1teVNoYWRvd01hcDtyZXR1cm4gbn10LmE9e25hbWU6InNoYWRvdyIsZGVwZW5kZW5jaWVzOlt1LmFdLHZzOiJcbmNvbnN0IGludCBtYXhfbGlnaHRzID0gMjtcbnVuaWZvcm0gbWF0NCBzaGFkb3dfdVZpZXdQcm9qZWN0aW9uTWF0cmljZXNbbWF4X2xpZ2h0c107XG51bmlmb3JtIHZlYzQgc2hhZG93X3VQcm9qZWN0Q2VudGVyc1ttYXhfbGlnaHRzXTtcbnVuaWZvcm0gYm9vbCBzaGFkb3dfdURyYXdTaGFkb3dNYXA7XG51bmlmb3JtIGJvb2wgc2hhZG93X3VVc2VTaGFkb3dNYXA7XG51bmlmb3JtIGludCBzaGFkb3dfdUxpZ2h0SWQ7XG51bmlmb3JtIGZsb2F0IHNoYWRvd191TGlnaHRDb3VudDtcblxudmFyeWluZyB2ZWMzIHNoYWRvd192UG9zaXRpb25bbWF4X2xpZ2h0c107XG5cbnZlYzQgc2hhZG93X3NldFZlcnRleFBvc2l0aW9uKHZlYzQgcG9zaXRpb25fY29tbW9uc3BhY2UpIHtcbiAgaWYgKHNoYWRvd191RHJhd1NoYWRvd01hcCkge1xuICAgIHJldHVybiBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25fY29tbW9uc3BhY2UsIHNoYWRvd191Vmlld1Byb2plY3Rpb25NYXRyaWNlc1tzaGFkb3dfdUxpZ2h0SWRdLCBzaGFkb3dfdVByb2plY3RDZW50ZXJzW3NoYWRvd191TGlnaHRJZF0pO1xuICB9XG4gIGlmIChzaGFkb3dfdVVzZVNoYWRvd01hcCkge1xuICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbWF4X2xpZ2h0czsgaSsrKSB7XG4gICAgICBpZihpIDwgaW50KHNoYWRvd191TGlnaHRDb3VudCkpIHtcbiAgICAgICAgdmVjNCBzaGFkb3dNYXBfcG9zaXRpb24gPSBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25fY29tbW9uc3BhY2UsIHNoYWRvd191Vmlld1Byb2plY3Rpb25NYXRyaWNlc1tpXSwgc2hhZG93X3VQcm9qZWN0Q2VudGVyc1tpXSk7XG4gICAgICAgIHNoYWRvd192UG9zaXRpb25baV0gPSAoc2hhZG93TWFwX3Bvc2l0aW9uLnh5eiAvIHNoYWRvd01hcF9wb3NpdGlvbi53ICsgMS4wKSAvIDIuMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdsX1Bvc2l0aW9uO1xufVxuIixmczoiXG5jb25zdCBpbnQgbWF4X2xpZ2h0cyA9IDI7XG51bmlmb3JtIGJvb2wgc2hhZG93X3VEcmF3U2hhZG93TWFwO1xudW5pZm9ybSBib29sIHNoYWRvd191VXNlU2hhZG93TWFwO1xudW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3VTaGFkb3dNYXAwO1xudW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3VTaGFkb3dNYXAxO1xudW5pZm9ybSB2ZWM0IHNoYWRvd191Q29sb3I7XG51bmlmb3JtIGZsb2F0IHNoYWRvd191TGlnaHRDb3VudDtcblxudmFyeWluZyB2ZWMzIHNoYWRvd192UG9zaXRpb25bbWF4X2xpZ2h0c107XG5cbmNvbnN0IHZlYzQgYml0UGFja1NoaWZ0ID0gdmVjNCgxLjAsIDI1NS4wLCA2NTAyNS4wLCAxNjU4MTM3NS4wKTtcbmNvbnN0IHZlYzQgYml0VW5wYWNrU2hpZnQgPSAxLjAgLyBiaXRQYWNrU2hpZnQ7XG5jb25zdCB2ZWM0IGJpdE1hc2sgPSB2ZWM0KDEuMCAvIDI1NS4wLCAxLjAgLyAyNTUuMCwgMS4wIC8gMjU1LjAsICAwLjApO1xuXG5mbG9hdCBzaGFkb3dfZ2V0U2hhZG93V2VpZ2h0KHZlYzMgcG9zaXRpb24sIHNhbXBsZXIyRCBzaGFkb3dNYXApIHtcbiAgdmVjNCByZ2JhRGVwdGggPSB0ZXh0dXJlMkQoc2hhZG93TWFwLCBwb3NpdGlvbi54eSk7XG5cbiAgZmxvYXQgeiA9IGRvdChyZ2JhRGVwdGgsIGJpdFVucGFja1NoaWZ0KTtcbiAgcmV0dXJuIHNtb290aHN0ZXAoMC4wMDEsIDAuMDEsIHBvc2l0aW9uLnogLSB6KTtcbn1cblxudmVjNCBzaGFkb3dfZmlsdGVyU2hhZG93Q29sb3IodmVjNCBjb2xvcikge1xuICBpZiAoc2hhZG93X3VEcmF3U2hhZG93TWFwKSB7XG4gICAgdmVjNCByZ2JhRGVwdGggPSBmcmFjdChnbF9GcmFnQ29vcmQueiAqIGJpdFBhY2tTaGlmdCk7XG4gICAgcmdiYURlcHRoIC09IHJnYmFEZXB0aC5nYmFhICogYml0TWFzaztcbiAgICByZXR1cm4gcmdiYURlcHRoO1xuICB9XG4gIGlmIChzaGFkb3dfdVVzZVNoYWRvd01hcCkge1xuICAgIGZsb2F0IHNoYWRvd0FscGhhID0gMC4wO1xuICAgIHNoYWRvd0FscGhhICs9IHNoYWRvd19nZXRTaGFkb3dXZWlnaHQoc2hhZG93X3ZQb3NpdGlvblswXSwgc2hhZG93X3VTaGFkb3dNYXAwKTtcbiAgICBpZihzaGFkb3dfdUxpZ2h0Q291bnQgPiAxLjApIHtcbiAgICAgIHNoYWRvd0FscGhhICs9IHNoYWRvd19nZXRTaGFkb3dXZWlnaHQoc2hhZG93X3ZQb3NpdGlvblsxXSwgc2hhZG93X3VTaGFkb3dNYXAxKTtcbiAgICB9XG4gICAgc2hhZG93QWxwaGEgKj0gc2hhZG93X3VDb2xvci5hIC8gc2hhZG93X3VMaWdodENvdW50O1xuICAgIGZsb2F0IGJsZW5kZWRBbHBoYSA9IHNoYWRvd0FscGhhICsgY29sb3IuYSAqICgxLjAgLSBzaGFkb3dBbHBoYSk7XG5cbiAgICByZXR1cm4gdmVjNChcbiAgICAgIG1peChjb2xvci5yZ2IsIHNoYWRvd191Q29sb3IucmdiLCBzaGFkb3dBbHBoYSAvIGJsZW5kZWRBbHBoYSksXG4gICAgICBibGVuZGVkQWxwaGFcbiAgICApO1xuICB9XG4gIHJldHVybiBjb2xvcjtcbn1cbiIsaW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICAgIHBvc2l0aW9uID0gc2hhZG93X3NldFZlcnRleFBvc2l0aW9uKGdlb21ldHJ5LnBvc2l0aW9uKTtcbiAgICAiLCJmczpERUNLR0xfRklMVEVSX0NPTE9SIjoiXG4gICAgY29sb3IgPSBzaGFkb3dfZmlsdGVyU2hhZG93Q29sb3IoY29sb3IpO1xuICAgICJ9LGdldFVuaWZvcm1zOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKGUuZHJhd1RvU2hhZG93TWFwfHxlLnNoYWRvd01hcHMmJmUuc2hhZG93TWFwcy5sZW5ndGg+MCl7dmFyIG49e30scj1lLnNoYWRvd0VuYWJsZWQsaT12b2lkIDA9PT1yfHxyO3JldHVybiBpJiZlLnNoYWRvd01hdHJpY2VzJiZlLnNoYWRvd01hdHJpY2VzLmxlbmd0aD4wP09iamVjdC5hc3NpZ24obixnKGUsdCkpOk9iamVjdC5hc3NpZ24obix7c2hhZG93X3VEcmF3U2hhZG93TWFwOiExLHNoYWRvd191VXNlU2hhZG93TWFwOiExfSksbn1yZXR1cm57fX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigyNCksaT1uKDM5KSxhPW4oMjIpLG89big5OCkscz1uKDMwKSx1PVswLDAsMCwwXSxjPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwwXSxsPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSxoPVswLDAsMF0sZj1bMCwwLDBdLGQ9T2JqZWN0KG8uYSkoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmlld3BvcnQsbj1lLmRldmljZVBpeGVsUmF0aW8sbz1lLmNvb3JkaW5hdGVTeXN0ZW0scz1lLmNvb3JkaW5hdGVPcmlnaW4sbD1mdW5jdGlvbihlLHQsbil7dmFyIGE9ZS52aWV3TWF0cml4VW5jZW50ZXJlZCxvPWUucHJvamVjdGlvbk1hdHJpeCxzPWUudmlld01hdHJpeCxsPWUudmlld1Byb2plY3Rpb25NYXRyaXgsaD11LGY9ZS5jYW1lcmFQb3NpdGlvbixkPXYoZSx0LG4pLHA9ZC5nZW9zcGF0aWFsT3JpZ2luLGc9ZC5zaGFkZXJDb29yZGluYXRlT3JpZ2luO2lmKGQub2Zmc2V0TW9kZSl7dmFyIHk9ZS5wcm9qZWN0UG9zaXRpb24ocHx8Zyk7Zj1bZlswXS15WzBdLGZbMV0teVsxXSxmWzJdLXlbMl1dLHlbM109MSxoPWkubihbXSx5LGwpLHM9YXx8cyxsPXIuaChbXSxvLHMpLGw9ci5oKFtdLGwsYyl9cmV0dXJue3ZpZXdNYXRyaXg6cyx2aWV3UHJvamVjdGlvbk1hdHJpeDpsLHByb2plY3Rpb25DZW50ZXI6aCxjYW1lcmFQb3NDb21tb246ZixzaGFkZXJDb29yZGluYXRlT3JpZ2luOmcsZ2Vvc3BhdGlhbE9yaWdpbjpwfX0odCxvLHMpLGY9bC5wcm9qZWN0aW9uQ2VudGVyLGQ9bC52aWV3UHJvamVjdGlvbk1hdHJpeCxwPWwuY2FtZXJhUG9zQ29tbW9uLGc9bC5zaGFkZXJDb29yZGluYXRlT3JpZ2luLHk9bC5nZW9zcGF0aWFsT3JpZ2luLG09dC5nZXREaXN0YW5jZVNjYWxlcygpLGI9W3Qud2lkdGgqbix0LmhlaWdodCpuXSxfPXtwcm9qZWN0X3VDb29yZGluYXRlU3lzdGVtOm8scHJvamVjdF91UHJvamVjdGlvbk1vZGU6dC5wcm9qZWN0aW9uTW9kZSxwcm9qZWN0X3VDb29yZGluYXRlT3JpZ2luOmcscHJvamVjdF91Q2VudGVyOmYscHJvamVjdF91QW50aW1lcmlkaWFuOih0LmxvbmdpdHVkZXx8MCktMTgwLHByb2plY3RfdVZpZXdwb3J0U2l6ZTpiLHByb2plY3RfdURldmljZVBpeGVsUmF0aW86bixwcm9qZWN0X3VGb2NhbERpc3RhbmNlOnQuZm9jYWxEaXN0YW5jZXx8MSxwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyOm0udW5pdHNQZXJNZXRlcixwcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDptLnVuaXRzUGVyTWV0ZXIscHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQyOmgscHJvamVjdF91U2NhbGU6dC5zY2FsZSxwcm9qZWN0X3VWaWV3UHJvamVjdGlvbk1hdHJpeDpkLHByb2plY3RfdUNhbWVyYVBvc2l0aW9uOnB9O2lmKHkpe3ZhciBPPXQuZ2V0RGlzdGFuY2VTY2FsZXMoeSk7c3dpdGNoKG8pe2Nhc2UgYS5hLk1FVEVSX09GRlNFVFM6Xy5wcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdD1PLnVuaXRzUGVyTWV0ZXIsXy5wcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdDI9Ty51bml0c1Blck1ldGVyMjticmVhaztjYXNlIGEuYS5MTkdMQVQ6Y2FzZSBhLmEuTE5HTEFUX09GRlNFVFM6Xy5wcm9qZWN0X3VDb21tb25Vbml0c1BlcldvcmxkVW5pdD1PLnVuaXRzUGVyRGVncmVlLF8ucHJvamVjdF91Q29tbW9uVW5pdHNQZXJXb3JsZFVuaXQyPU8udW5pdHNQZXJEZWdyZWUyO2JyZWFrO2Nhc2UgYS5hLkNBUlRFU0lBTjpfLnByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0PVsxLDEsTy51bml0c1Blck1ldGVyWzJdXSxfLnByb2plY3RfdUNvbW1vblVuaXRzUGVyV29ybGRVbml0Mj1bMCwwLE8udW5pdHNQZXJNZXRlcjJbMl1dfX1yZXR1cm4gX30pKTtmdW5jdGlvbiB2KGUsdCl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06ZixpPXIsbz0hMDtzd2l0Y2gobj10PT09YS5hLkxOR0xBVF9PRkZTRVRTfHx0PT09YS5hLk1FVEVSX09GRlNFVFM/cjplLmlzR2Vvc3BhdGlhbD9bTWF0aC5mcm91bmQoZS5sb25naXR1ZGUpLE1hdGguZnJvdW5kKGUubGF0aXR1ZGUpLDBdOm51bGwsZS5wcm9qZWN0aW9uTW9kZSl7Y2FzZSBhLmMuV0VCX01FUkNBVE9SOnQhPT1hLmEuTE5HTEFUJiZ0IT09YS5hLkNBUlRFU0lBTnx8KG89ITEpO2JyZWFrO2Nhc2UgYS5jLldFQl9NRVJDQVRPUl9BVVRPX09GRlNFVDp0PT09YS5hLkxOR0xBVD9pPW46dD09PWEuYS5DQVJURVNJQU4mJihpPVtNYXRoLmZyb3VuZChlLmNlbnRlclswXSksTWF0aC5mcm91bmQoZS5jZW50ZXJbMV0pLDBdLG49ZS51bnByb2plY3RQb3NpdGlvbihpKSk7YnJlYWs7Y2FzZSBhLmMuSURFTlRJVFk6aT1lLnBvc2l0aW9uLm1hcChNYXRoLmZyb3VuZCk7YnJlYWs7ZGVmYXVsdDpvPSExfXJldHVybiBpWzJdPWlbMl18fDAse2dlb3NwYXRpYWxPcmlnaW46bixzaGFkZXJDb29yZGluYXRlT3JpZ2luOmksb2Zmc2V0TW9kZTpvfX1mdW5jdGlvbiBwKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS52aWV3cG9ydCxuPWUuZGV2aWNlUGl4ZWxSYXRpbyxyPXZvaWQgMD09PW4/MTpuLGk9ZS5tb2RlbE1hdHJpeCxvPXZvaWQgMD09PWk/bnVsbDppLHU9ZS5jb29yZGluYXRlU3lzdGVtLGM9dm9pZCAwPT09dT9hLmEuREVGQVVMVDp1LGg9ZS5jb29yZGluYXRlT3JpZ2luLGY9ZS53cmFwTG9uZ2l0dWRlLHY9dm9pZCAwIT09ZiYmZjtlLnByb2plY3Rpb25Nb2RlLGUucG9zaXRpb25PcmlnaW47T2JqZWN0KHMuYSkodCksYz09PWEuYS5ERUZBVUxUJiYoYz10LmlzR2Vvc3BhdGlhbD9hLmEuTE5HTEFUOmEuYS5DQVJURVNJQU4pO3ZhciBwPWQoe3ZpZXdwb3J0OnQsZGV2aWNlUGl4ZWxSYXRpbzpyLGNvb3JkaW5hdGVTeXN0ZW06Yyxjb29yZGluYXRlT3JpZ2luOmh9KTtyZXR1cm4gcC5wcm9qZWN0X3VXcmFwTG9uZ2l0dWRlPXYscC5wcm9qZWN0X3VNb2RlbE1hdHJpeD1vfHxsLHB9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oMzApLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2koKSh0aGlzLGUpLE9iamVjdChzLmEpKE51bWJlci5pc0Zpbml0ZSh0LndpZHRoKSwiYHdpZHRoYCBtdXN0IGJlIHN1cHBsaWVkIiksT2JqZWN0KHMuYSkoTnVtYmVyLmlzRmluaXRlKHQuaGVpZ2h0KSwiYGhlaWdodGAgbXVzdCBiZSBzdXBwbGllZCIpLHRoaXMuX3ZpZXdwb3J0UHJvcHM9dGhpcy5fYXBwbHlDb25zdHJhaW50cyh0KX1yZXR1cm4gbygpKGUsW3trZXk6ImdldFZpZXdwb3J0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHN9fSx7a2V5OiJzaG9ydGVzdFBhdGhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdmlld3BvcnRQcm9wc319LHtrZXk6Il9hcHBseUNvbnN0cmFpbnRzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZX19XSksZX0oKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9big2KSxhPW4oMTYpLG89bigxNSkscz1uKDE3KSx1PW4oMTEwKTt2YXIgYz1uKDExMSk7ZnVuY3Rpb24gbChlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgTWFwP25ldyBNYXA6dm9pZCAwO3JldHVybihsPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHwobj1lLC0xPT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChuKS5pbmRleE9mKCJbbmF0aXZlIGNvZGVdIikpKXJldHVybiBlO3ZhciBuO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7aWYodm9pZCAwIT09dCl7aWYodC5oYXMoZSkpcmV0dXJuIHQuZ2V0KGUpO3Quc2V0KGUscil9ZnVuY3Rpb24gcigpe3JldHVybiBPYmplY3QoYy5hKShlLGFyZ3VtZW50cyxPYmplY3Qoby5hKSh0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpyLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdCh1LmEpKHIsZSl9KShlKX12YXIgaD1uKDIwKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gT2JqZWN0KHMuYSkodCxlKSxPYmplY3QoaS5hKSh0LFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fSx7a2V5OiJmcm9tIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90aGlzLmNvcHkoZSk6dGhpcy5mcm9tT2JqZWN0KGUpfX0se2tleToiZnJvbUFycmF5Iix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdGhpc1tuXT1lW24rdF07cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6InRvIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXRoaXM/dGhpczpPYmplY3QoaC5mKShlKT90aGlzLnRvQXJyYXkoZSk6dGhpcy50b09iamVjdChlKX19LHtrZXk6InRvVGFyZ2V0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLnRvKGUpOnRoaXN9fSx7a2V5OiJ0b0FycmF5Iix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPTA7bjx0aGlzLkVMRU1FTlRTOysrbillW3Qrbl09dGhpc1tuXTtyZXR1cm4gZX19LHtrZXk6InRvRmxvYXQzMkFycmF5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMpfX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybWF0U3RyaW5nKGguYil9fSx7a2V5OiJmb3JtYXRTdHJpbmciLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixuPTA7bjx0aGlzLkVMRU1FTlRTOysrbil0Kz0obj4wPyIsICI6IiIpK09iamVjdChoLmUpKHRoaXNbbl0sZSk7cmV0dXJuIiIuY29uY2F0KGUucHJpbnRUeXBlcz90aGlzLmNvbnN0cnVjdG9yLm5hbWU6IiIsIlsiKS5jb25jYXQodCwiXSIpfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZXx8dGhpcy5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHQ9MDt0PHRoaXMuRUxFTUVOVFM7Kyt0KWlmKCFPYmplY3QoaC5kKSh0aGlzW3RdLGVbdF0pKXJldHVybiExO3JldHVybiEwfX0se2tleToiZXhhY3RFcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlfHx0aGlzLmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8dGhpcy5FTEVNRU5UUzsrK3QpaWYodGhpc1t0XSE9PWVbdF0pcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OiJuZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLkVMRU1FTlRTOysrZSl0aGlzW2VdPS10aGlzW2VdO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZXJwIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49dCx0PWUsZT10aGlzKTtmb3IodmFyIHI9MDtyPHRoaXMuRUxFTUVOVFM7KytyKXt2YXIgaT1lW3JdO3RoaXNbcl09aStuKih0W3JdLWkpfXJldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtaW4iLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5FTEVNRU5UUzsrK3QpdGhpc1t0XT1NYXRoLm1pbihlW3RdLHRoaXNbdF0pO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtYXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5FTEVNRU5UUzsrK3QpdGhpc1t0XT1NYXRoLm1heChlW3RdLHRoaXNbdF0pO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJjbGFtcCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXRoaXNbbl09TWF0aC5taW4oTWF0aC5tYXgodGhpc1tuXSxlW25dKSx0W25dKTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9dDtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dKz1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWJ0cmFjdCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MCxpPXQ7cjxpLmxlbmd0aDtyKyspZm9yKHZhciBhPWlbcl0sbz0wO288dGhpcy5FTEVNRU5UUzsrK28pdGhpc1tvXS09YVtvXTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToic2NhbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHRoaXMubXVsdGlwbHkoZSk7Zm9yKHZhciB0PTA7dDx0aGlzLkVMRU1FTlRTOysrdCl0aGlzW3RdKj1lO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN1YnRyYWN0KGUpfX0se2tleToic2V0U2NhbGFyIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuRUxFTUVOVFM7Kyt0KXRoaXNbdF09ZTtyZXR1cm4gdGhpcy5jaGVjaygpfX0se2tleToiYWRkU2NhbGFyIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuRUxFTUVOVFM7Kyt0KXRoaXNbdF0rPWU7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6InN1YlNjYWxhciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkU2NhbGFyKC1lKX19LHtrZXk6Im11bHRpcGx5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuRUxFTUVOVFM7Kyt0KXRoaXNbdF0qPWU7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6ImRpdmlkZVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2NhbGUoMS9lKX19LHtrZXk6ImNsYW1wU2NhbGFyIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dGhpcy5FTEVNRU5UUzsrK24pdGhpc1tuXT1NYXRoLm1pbihNYXRoLm1heCh0aGlzW25dLGUpLHQpO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUJ5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zY2FsZShlKX19LHtrZXk6ImNoZWNrIix2YWx1ZTpmdW5jdGlvbigpe2lmKGguYi5kZWJ1ZyYmIXRoaXMudmFsaWRhdGUodGhpcykpdGhyb3cgbmV3IEVycm9yKCJtYXRoLmdsOiAiLmNvbmNhdCh0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIiBzb21lIGZpZWxkcyBzZXQgdG8gaW52YWxpZCBudW1iZXJzJyIpKTtyZXR1cm4gdGhpc319LHtrZXk6InZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmxlbmd0aD09PXRoaXMuRUxFTUVOVFMsdD0wO3Q8dGhpcy5FTEVNRU5UUzsrK3QpZT1lJiZOdW1iZXIuaXNGaW5pdGUodGhpc1t0XSk7cmV0dXJuIGV9fSx7a2V5OiJlbGVtZW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fV0pLHR9KGwoQXJyYXkpKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9bigxNiksYT1uKDE1KSxvPW4oMzgpLHM9big2KSx1PW4oMTcpLGM9big1NiksbD1uKDY1KSxoPW4oMjkpLGY9IiI7ZnVuY3Rpb24gZChlLHQpe3JldHVybiBPYmplY3QoaC5hKSgic3RyaW5nIj09dHlwZW9mIGUpLGU9ZitlLG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3RyeXt2YXIgaT1uZXcgSW1hZ2U7aS5vbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbihpKX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHIobmV3IEVycm9yKCJDb3VsZCBub3QgbG9hZCBpbWFnZSAiLmNvbmNhdChlLCIuIikpKX0saS5jcm9zc09yaWdpbj10JiZ0LmNyb3NzT3JpZ2lufHwiYW5vbnltb3VzIixpLnNyYz1lfWNhdGNoKGUpe3IoZSl9fSkpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChsLmIpKGUpLChzIGluc3RhbmNlb2YgUHJvbWlzZXx8InN0cmluZyI9PXR5cGVvZiBzKSYmKHM9e2RhdGE6c30pLCJzdHJpbmciPT10eXBlb2Ygcy5kYXRhJiYocz1PYmplY3QuYXNzaWduKHt9LHMse2RhdGE6ZChzLmRhdGEpfSkpLChuPU9iamVjdChpLmEpKHRoaXMsT2JqZWN0KGEuYSkodCkuY2FsbCh0aGlzLGUsT2JqZWN0LmFzc2lnbih7fSxzLHt0YXJnZXQ6MzU1M30pKSkpLmluaXRpYWxpemUocyksT2JqZWN0LnNlYWwoT2JqZWN0KG8uYSkobikpLG59cmV0dXJuIE9iamVjdCh1LmEpKHQsZSksT2JqZWN0KHMuYSkodCxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYy5hLmlzU3VwcG9ydGVkKGUsdCl9fV0pLHR9KGMuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSk7dmFyIHI9bigyMTMpLGk9bi5uKHIpLGE9TWF0aC5QSS80LG89TWF0aC5QSS8zNjA7ZnVuY3Rpb24gcyhlKXtpZihlPWUmJmUucG9zaXRpb25zfHxlLCFBcnJheS5pc0FycmF5KGUpJiYhQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBwb2x5Z29uIil9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZS5sZW5ndGg+PTEmJmVbMF0ubGVuZ3RoPj0yJiZOdW1iZXIuaXNGaW5pdGUoZVswXVswXSl9ZnVuY3Rpb24gYyhlKXt2YXIgdD1lWzBdLG49ZVtlLmxlbmd0aC0xXTtyZXR1cm4gdFswXT09PW5bMF0mJnRbMV09PT1uWzFdJiZ0WzJdPT09blsyXX1mdW5jdGlvbiBsKGUsdCxuLHIpe2Zvcih2YXIgaT0wO2k8dDtpKyspaWYoZVtuK2ldIT09ZVtyLXQraV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaChlLHQsbixyKXtmb3IodmFyIGk9dCxhPW4ubGVuZ3RoLG89MDtvPGE7bysrKWZvcih2YXIgcz0wO3M8cjtzKyspZVtpKytdPW5bb11bc118fDA7aWYoIWMobikpZm9yKHZhciB1PTA7dTxyO3UrKyllW2krK109blswXVt1XXx8MDtyZXR1cm4gaX1mdW5jdGlvbiBmKGUsdCxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTowLGE9YXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDAsbz0oYT1hfHxuLmxlbmd0aCktaTtpZihvPD0wKXJldHVybiB0O2Zvcih2YXIgcz10LHU9MDt1PG87dSsrKWVbcysrXT1uW2krdV07aWYoIWwobixyLGksYSkpZm9yKHZhciBjPTA7YzxyO2MrKyllW3MrK109bltpK2NdO3JldHVybiBzfWZ1bmN0aW9uIGQoZSl7cmV0dXJuKGMoZSk/MDoxKStlLmxlbmd0aH1mdW5jdGlvbiB2KGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscj1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMDtyZXR1cm4gbj49KHI9cnx8ZS5sZW5ndGgpPzA6KGwoZSx0LG4scik/MDoxKSsoci1uKS90fWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdO2lmKCFuKXJldHVybihlPWUucG9zaXRpb25zfHxlKS5sZW5ndGgvdDtpZihzKGUpLGUucG9zaXRpb25zKXt2YXIgcj1lLGk9ci5wb3NpdGlvbnMsYT1yLmhvbGVJbmRpY2VzO2lmKGEpe2Zvcih2YXIgbz0wLGM9MDtjPD1hLmxlbmd0aDtjKyspbys9dihlLnBvc2l0aW9ucyx0LGFbYy0xXSxhW2NdKTtyZXR1cm4gb31lPWl9aWYoTnVtYmVyLmlzRmluaXRlKGVbMF0pKXJldHVybiB2KGUsdCk7aWYoIXUoZSkpe3ZhciBsPTAsaD0hMCxmPSExLHA9dm9pZCAwO3RyeXtmb3IodmFyIGcseT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGg9KGc9eS5uZXh0KCkpLmRvbmUpO2g9ITApe3ZhciBtPWcudmFsdWU7bCs9ZChtKX19Y2F0Y2goZSl7Zj0hMCxwPWV9ZmluYWxseXt0cnl7aHx8bnVsbD09eS5yZXR1cm58fHkucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IHB9fXJldHVybiBsfXJldHVybiBkKGUpfWZ1bmN0aW9uIGcoZSx0LG4pe3MoZSksbj1ufHxwKGUsdCk7dmFyIHI9bmV3IEZsb2F0NjRBcnJheShuKnQpLGk9W107aWYoZS5wb3NpdGlvbnMpe3ZhciBhPWUsbz1hLnBvc2l0aW9ucyxjPWEuaG9sZUluZGljZXM7aWYoYyl7Zm9yKHZhciBsPTAsZD0wO2Q8PWMubGVuZ3RoO2QrKylsPWYocixsLG8sdCxjW2QtMV0sY1tkXSksaS5wdXNoKGwpO3JldHVybiBpLnBvcCgpLHtwb3NpdGlvbnM6cixob2xlSW5kaWNlczppfX1lPW99aWYoTnVtYmVyLmlzRmluaXRlKGVbMF0pKXJldHVybiBmKHIsMCxlLHQpLHI7aWYoIXUoZSkpe3ZhciB2PTAsZz0hMCx5PSExLG09dm9pZCAwO3RyeXtmb3IodmFyIGIsXz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGc9KGI9Xy5uZXh0KCkpLmRvbmUpO2c9ITApe3Y9aChyLHYsYi52YWx1ZSx0KSxpLnB1c2godil9fWNhdGNoKGUpe3k9ITAsbT1lfWZpbmFsbHl7dHJ5e2d8fG51bGw9PV8ucmV0dXJufHxfLnJldHVybigpfWZpbmFsbHl7aWYoeSl0aHJvdyBtfX1yZXR1cm4gaS5wb3AoKSx7cG9zaXRpb25zOnIsaG9sZUluZGljZXM6aX19cmV0dXJuIGgociwwLGUsdCkscn1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj1udWxsO2UuaG9sZUluZGljZXMmJihyPWUuaG9sZUluZGljZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS90fSkpKTt2YXIgcz1lLnBvc2l0aW9uc3x8ZTtpZihuKXt2YXIgdT1zLmxlbmd0aDtzPXMuc2xpY2UoKTtmb3IodmFyIGM9MDtjPHU7Yys9dCl7dmFyIGw9c1tjKzFdO3NbYysxXT1NYXRoLmxvZyhNYXRoLnRhbihhK2wqbykpfX1yZXR1cm4gaSgpKHMscix0KX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLGE7Ci8qKgogKiBAbGljZW5zZSBsb25nLmpzIChjKSAyMDEzIERhbmllbCBXaXJ0eiA8ZGNvZGVAZGNvZGUuaW8+CiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAKICogc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9sb25nLmpzIGZvciBkZXRhaWxzCiAqL2k9W10sdm9pZCAwPT09KGE9ImZ1bmN0aW9uIj09dHlwZW9mKHI9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5sb3c9MHxlLHRoaXMuaGlnaD0wfHQsdGhpcy51bnNpZ25lZD0hIW59ZnVuY3Rpb24gdChlKXtyZXR1cm4hMD09PShlJiZlLl9faXNMb25nX18pfWUucHJvdG90eXBlLl9faXNMb25nX18sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfX2lzTG9uZ19fIix7dmFsdWU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITF9KSxlLmlzTG9uZz10O3ZhciBuPXt9LHI9e307ZnVuY3Rpb24gaShlLHQpe3ZhciBpLGEscztyZXR1cm4gdD8ocz0wPD0oZT4+Pj0wKSYmZTwyNTYpJiYoYT1yW2VdKT9hOihpPW8oZSwoMHxlKTwwPy0xOjAsITApLHMmJihyW2VdPWkpLGkpOihzPS0xMjg8PShlfD0wKSYmZTwxMjgpJiYoYT1uW2VdKT9hOihpPW8oZSxlPDA/LTE6MCwhMSkscyYmKG5bZV09aSksaSl9ZnVuY3Rpb24gYShlLHQpe2lmKGlzTmFOKGUpfHwhaXNGaW5pdGUoZSkpcmV0dXJuIHQ/cDp2O2lmKHQpe2lmKGU8MClyZXR1cm4gcDtpZihlPj1oKXJldHVybiBffWVsc2V7aWYoZTw9LWYpcmV0dXJuIE87aWYoZSsxPj1mKXJldHVybiBifXJldHVybiBlPDA/YSgtZSx0KS5uZWcoKTpvKGUlbHwwLGUvbHwwLHQpfWZ1bmN0aW9uIG8odCxuLHIpe3JldHVybiBuZXcgZSh0LG4scil9ZS5mcm9tSW50PWksZS5mcm9tTnVtYmVyPWEsZS5mcm9tQml0cz1vO3ZhciBzPU1hdGgucG93O2Z1bmN0aW9uIHUoZSx0LG4pe2lmKDA9PT1lLmxlbmd0aCl0aHJvdyBFcnJvcigiZW1wdHkgc3RyaW5nIik7aWYoIk5hTiI9PT1lfHwiSW5maW5pdHkiPT09ZXx8IitJbmZpbml0eSI9PT1lfHwiLUluZmluaXR5Ij09PWUpcmV0dXJuIHY7aWYoIm51bWJlciI9PXR5cGVvZiB0PyhuPXQsdD0hMSk6dD0hIXQsKG49bnx8MTApPDJ8fDM2PG4pdGhyb3cgUmFuZ2VFcnJvcigicmFkaXgiKTt2YXIgcjtpZigocj1lLmluZGV4T2YoIi0iKSk+MCl0aHJvdyBFcnJvcigiaW50ZXJpb3IgaHlwaGVuIik7aWYoMD09PXIpcmV0dXJuIHUoZS5zdWJzdHJpbmcoMSksdCxuKS5uZWcoKTtmb3IodmFyIGk9YShzKG4sOCkpLG89dixjPTA7YzxlLmxlbmd0aDtjKz04KXt2YXIgbD1NYXRoLm1pbig4LGUubGVuZ3RoLWMpLGg9cGFyc2VJbnQoZS5zdWJzdHJpbmcoYyxjK2wpLG4pO2lmKGw8OCl7dmFyIGY9YShzKG4sbCkpO289by5tdWwoZikuYWRkKGEoaCkpfWVsc2Ugbz0obz1vLm11bChpKSkuYWRkKGEoaCkpfXJldHVybiBvLnVuc2lnbmVkPXQsb31mdW5jdGlvbiBjKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZT90OiJudW1iZXIiPT10eXBlb2YgdD9hKHQpOiJzdHJpbmciPT10eXBlb2YgdD91KHQpOm8odC5sb3csdC5oaWdoLHQudW5zaWduZWQpfWUuZnJvbVN0cmluZz11LGUuZnJvbVZhbHVlPWM7dmFyIGw9NDI5NDk2NzI5NixoPWwqbCxmPWgvMixkPWkoMTw8MjQpLHY9aSgwKTtlLlpFUk89djt2YXIgcD1pKDAsITApO2UuVVpFUk89cDt2YXIgZz1pKDEpO2UuT05FPWc7dmFyIHk9aSgxLCEwKTtlLlVPTkU9eTt2YXIgbT1pKC0xKTtlLk5FR19PTkU9bTt2YXIgYj1vKC0xLDIxNDc0ODM2NDcsITEpO2UuTUFYX1ZBTFVFPWI7dmFyIF89bygtMSwtMSwhMCk7ZS5NQVhfVU5TSUdORURfVkFMVUU9Xzt2YXIgTz1vKDAsLTIxNDc0ODM2NDgsITEpO2UuTUlOX1ZBTFVFPU87dmFyIHg9ZS5wcm90b3R5cGU7cmV0dXJuIHgudG9JbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD90aGlzLmxvdz4+PjA6dGhpcy5sb3d9LHgudG9OdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD8odGhpcy5oaWdoPj4+MCkqbCsodGhpcy5sb3c+Pj4wKTp0aGlzLmhpZ2gqbCsodGhpcy5sb3c+Pj4wKX0seC50b1N0cmluZz1mdW5jdGlvbihlKXtpZigoZT1lfHwxMCk8Mnx8MzY8ZSl0aHJvdyBSYW5nZUVycm9yKCJyYWRpeCIpO2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIjAiO2lmKHRoaXMuaXNOZWdhdGl2ZSgpKXtpZih0aGlzLmVxKE8pKXt2YXIgdD1hKGUpLG49dGhpcy5kaXYodCkscj1uLm11bCh0KS5zdWIodGhpcyk7cmV0dXJuIG4udG9TdHJpbmcoZSkrci50b0ludCgpLnRvU3RyaW5nKGUpfXJldHVybiItIit0aGlzLm5lZygpLnRvU3RyaW5nKGUpfWZvcih2YXIgaT1hKHMoZSw2KSx0aGlzLnVuc2lnbmVkKSxvPXRoaXMsdT0iIjs7KXt2YXIgYz1vLmRpdihpKSxsPShvLnN1YihjLm11bChpKSkudG9JbnQoKT4+PjApLnRvU3RyaW5nKGUpO2lmKChvPWMpLmlzWmVybygpKXJldHVybiBsK3U7Zm9yKDtsLmxlbmd0aDw2OylsPSIwIitsO3U9IiIrbCt1fX0seC5nZXRIaWdoQml0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2h9LHguZ2V0SGlnaEJpdHNVbnNpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2g+Pj4wfSx4LmdldExvd0JpdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3d9LHguZ2V0TG93Qml0c1Vuc2lnbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93Pj4+MH0seC5nZXROdW1CaXRzQWJzPWZ1bmN0aW9uKCl7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMuZXEoTyk/NjQ6dGhpcy5uZWcoKS5nZXROdW1CaXRzQWJzKCk7Zm9yKHZhciBlPTAhPXRoaXMuaGlnaD90aGlzLmhpZ2g6dGhpcy5sb3csdD0zMTt0PjAmJjA9PShlJjE8PHQpO3QtLSk7cmV0dXJuIDAhPXRoaXMuaGlnaD90KzMzOnQrMX0seC5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuaGlnaCYmMD09PXRoaXMubG93fSx4LmlzTmVnYXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy51bnNpZ25lZCYmdGhpcy5oaWdoPDB9LHguaXNQb3NpdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkfHx0aGlzLmhpZ2g+PTB9LHguaXNPZGQ9ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5sb3cpfSx4LmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0oMSZ0aGlzLmxvdyl9LHguZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfHwoZT1jKGUpKSwodGhpcy51bnNpZ25lZD09PWUudW5zaWduZWR8fHRoaXMuaGlnaD4+PjMxIT0xfHxlLmhpZ2g+Pj4zMSE9MSkmJnRoaXMuaGlnaD09PWUuaGlnaCYmdGhpcy5sb3c9PT1lLmxvd30seC5lcT14LmVxdWFscyx4Lm5vdEVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5lcShlKX0seC5uZXE9eC5ub3RFcXVhbHMseC5sZXNzVGhhbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wKGUpPDB9LHgubHQ9eC5sZXNzVGhhbix4Lmxlc3NUaGFuT3JFcXVhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wKGUpPD0wfSx4Lmx0ZT14Lmxlc3NUaGFuT3JFcXVhbCx4LmdyZWF0ZXJUaGFuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXAoZSk+MH0seC5ndD14LmdyZWF0ZXJUaGFuLHguZ3JlYXRlclRoYW5PckVxdWFsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXAoZSk+PTB9LHguZ3RlPXguZ3JlYXRlclRoYW5PckVxdWFsLHguY29tcGFyZT1mdW5jdGlvbihlKXtpZih0KGUpfHwoZT1jKGUpKSx0aGlzLmVxKGUpKXJldHVybiAwO3ZhciBuPXRoaXMuaXNOZWdhdGl2ZSgpLHI9ZS5pc05lZ2F0aXZlKCk7cmV0dXJuIG4mJiFyPy0xOiFuJiZyPzE6dGhpcy51bnNpZ25lZD9lLmhpZ2g+Pj4wPnRoaXMuaGlnaD4+PjB8fGUuaGlnaD09PXRoaXMuaGlnaCYmZS5sb3c+Pj4wPnRoaXMubG93Pj4+MD8tMToxOnRoaXMuc3ViKGUpLmlzTmVnYXRpdmUoKT8tMToxfSx4LmNvbXA9eC5jb21wYXJlLHgubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMudW5zaWduZWQmJnRoaXMuZXEoTyk/Tzp0aGlzLm5vdCgpLmFkZChnKX0seC5uZWc9eC5uZWdhdGUseC5hZGQ9ZnVuY3Rpb24oZSl7dChlKXx8KGU9YyhlKSk7dmFyIG49dGhpcy5oaWdoPj4+MTYscj02NTUzNSZ0aGlzLmhpZ2gsaT10aGlzLmxvdz4+PjE2LGE9NjU1MzUmdGhpcy5sb3cscz1lLmhpZ2g+Pj4xNix1PTY1NTM1JmUuaGlnaCxsPWUubG93Pj4+MTYsaD0wLGY9MCxkPTAsdj0wO3JldHVybiBkKz0odis9YSsoNjU1MzUmZS5sb3cpKT4+PjE2LGYrPShkKz1pK2wpPj4+MTYsaCs9KGYrPXIrdSk+Pj4xNixoKz1uK3MsbygoZCY9NjU1MzUpPDwxNnwodiY9NjU1MzUpLChoJj02NTUzNSk8PDE2fChmJj02NTUzNSksdGhpcy51bnNpZ25lZCl9LHguc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl8fChlPWMoZSkpLHRoaXMuYWRkKGUubmVnKCkpfSx4LnN1Yj14LnN1YnRyYWN0LHgubXVsdGlwbHk9ZnVuY3Rpb24oZSl7aWYodGhpcy5pc1plcm8oKSlyZXR1cm4gdjtpZih0KGUpfHwoZT1jKGUpKSxlLmlzWmVybygpKXJldHVybiB2O2lmKHRoaXMuZXEoTykpcmV0dXJuIGUuaXNPZGQoKT9POnY7aWYoZS5lcShPKSlyZXR1cm4gdGhpcy5pc09kZCgpP086djtpZih0aGlzLmlzTmVnYXRpdmUoKSlyZXR1cm4gZS5pc05lZ2F0aXZlKCk/dGhpcy5uZWcoKS5tdWwoZS5uZWcoKSk6dGhpcy5uZWcoKS5tdWwoZSkubmVnKCk7aWYoZS5pc05lZ2F0aXZlKCkpcmV0dXJuIHRoaXMubXVsKGUubmVnKCkpLm5lZygpO2lmKHRoaXMubHQoZCkmJmUubHQoZCkpcmV0dXJuIGEodGhpcy50b051bWJlcigpKmUudG9OdW1iZXIoKSx0aGlzLnVuc2lnbmVkKTt2YXIgbj10aGlzLmhpZ2g+Pj4xNixyPTY1NTM1JnRoaXMuaGlnaCxpPXRoaXMubG93Pj4+MTYscz02NTUzNSZ0aGlzLmxvdyx1PWUuaGlnaD4+PjE2LGw9NjU1MzUmZS5oaWdoLGg9ZS5sb3c+Pj4xNixmPTY1NTM1JmUubG93LHA9MCxnPTAseT0wLG09MDtyZXR1cm4geSs9KG0rPXMqZik+Pj4xNixnKz0oeSs9aSpmKT4+PjE2LHkmPTY1NTM1LGcrPSh5Kz1zKmgpPj4+MTYscCs9KGcrPXIqZik+Pj4xNixnJj02NTUzNSxwKz0oZys9aSpoKT4+PjE2LGcmPTY1NTM1LHArPShnKz1zKmwpPj4+MTYscCs9bipmK3IqaCtpKmwrcyp1LG8oKHkmPTY1NTM1KTw8MTZ8KG0mPTY1NTM1KSwocCY9NjU1MzUpPDwxNnwoZyY9NjU1MzUpLHRoaXMudW5zaWduZWQpfSx4Lm11bD14Lm11bHRpcGx5LHguZGl2aWRlPWZ1bmN0aW9uKGUpe2lmKHQoZSl8fChlPWMoZSkpLGUuaXNaZXJvKCkpdGhyb3cgRXJyb3IoImRpdmlzaW9uIGJ5IHplcm8iKTtpZih0aGlzLmlzWmVybygpKXJldHVybiB0aGlzLnVuc2lnbmVkP3A6djt2YXIgbixyLGk7aWYodGhpcy51bnNpZ25lZCl7aWYoZS51bnNpZ25lZHx8KGU9ZS50b1Vuc2lnbmVkKCkpLGUuZ3QodGhpcykpcmV0dXJuIHA7aWYoZS5ndCh0aGlzLnNocnUoMSkpKXJldHVybiB5O2k9cH1lbHNle2lmKHRoaXMuZXEoTykpcmV0dXJuIGUuZXEoZyl8fGUuZXEobSk/TzplLmVxKE8pP2c6KG49dGhpcy5zaHIoMSkuZGl2KGUpLnNobCgxKSkuZXEodik/ZS5pc05lZ2F0aXZlKCk/ZzptOihyPXRoaXMuc3ViKGUubXVsKG4pKSxpPW4uYWRkKHIuZGl2KGUpKSk7aWYoZS5lcShPKSlyZXR1cm4gdGhpcy51bnNpZ25lZD9wOnY7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIGUuaXNOZWdhdGl2ZSgpP3RoaXMubmVnKCkuZGl2KGUubmVnKCkpOnRoaXMubmVnKCkuZGl2KGUpLm5lZygpO2lmKGUuaXNOZWdhdGl2ZSgpKXJldHVybiB0aGlzLmRpdihlLm5lZygpKS5uZWcoKTtpPXZ9Zm9yKHI9dGhpcztyLmd0ZShlKTspe249TWF0aC5tYXgoMSxNYXRoLmZsb29yKHIudG9OdW1iZXIoKS9lLnRvTnVtYmVyKCkpKTtmb3IodmFyIG89TWF0aC5jZWlsKE1hdGgubG9nKG4pL01hdGguTE4yKSx1PW88PTQ4PzE6cygyLG8tNDgpLGw9YShuKSxoPWwubXVsKGUpO2guaXNOZWdhdGl2ZSgpfHxoLmd0KHIpOyloPShsPWEobi09dSx0aGlzLnVuc2lnbmVkKSkubXVsKGUpO2wuaXNaZXJvKCkmJihsPWcpLGk9aS5hZGQobCkscj1yLnN1YihoKX1yZXR1cm4gaX0seC5kaXY9eC5kaXZpZGUseC5tb2R1bG89ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl8fChlPWMoZSkpLHRoaXMuc3ViKHRoaXMuZGl2KGUpLm11bChlKSl9LHgubW9kPXgubW9kdWxvLHgubm90PWZ1bmN0aW9uKCl7cmV0dXJuIG8ofnRoaXMubG93LH50aGlzLmhpZ2gsdGhpcy51bnNpZ25lZCl9LHguYW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfHwoZT1jKGUpKSxvKHRoaXMubG93JmUubG93LHRoaXMuaGlnaCZlLmhpZ2gsdGhpcy51bnNpZ25lZCl9LHgub3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl8fChlPWMoZSkpLG8odGhpcy5sb3d8ZS5sb3csdGhpcy5oaWdofGUuaGlnaCx0aGlzLnVuc2lnbmVkKX0seC54b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl8fChlPWMoZSkpLG8odGhpcy5sb3deZS5sb3csdGhpcy5oaWdoXmUuaGlnaCx0aGlzLnVuc2lnbmVkKX0seC5zaGlmdExlZnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSkmJihlPWUudG9JbnQoKSksMD09KGUmPTYzKT90aGlzOmU8MzI/byh0aGlzLmxvdzw8ZSx0aGlzLmhpZ2g8PGV8dGhpcy5sb3c+Pj4zMi1lLHRoaXMudW5zaWduZWQpOm8oMCx0aGlzLmxvdzw8ZS0zMix0aGlzLnVuc2lnbmVkKX0seC5zaGw9eC5zaGlmdExlZnQseC5zaGlmdFJpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiB0KGUpJiYoZT1lLnRvSW50KCkpLDA9PShlJj02Myk/dGhpczplPDMyP28odGhpcy5sb3c+Pj5lfHRoaXMuaGlnaDw8MzItZSx0aGlzLmhpZ2g+PmUsdGhpcy51bnNpZ25lZCk6byh0aGlzLmhpZ2g+PmUtMzIsdGhpcy5oaWdoPj0wPzA6LTEsdGhpcy51bnNpZ25lZCl9LHguc2hyPXguc2hpZnRSaWdodCx4LnNoaWZ0UmlnaHRVbnNpZ25lZD1mdW5jdGlvbihlKXtpZih0KGUpJiYoZT1lLnRvSW50KCkpLDA9PShlJj02MykpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5oaWdoO3JldHVybiBlPDMyP28odGhpcy5sb3c+Pj5lfG48PDMyLWUsbj4+PmUsdGhpcy51bnNpZ25lZCk6bygzMj09PWU/bjpuPj4+ZS0zMiwwLHRoaXMudW5zaWduZWQpfSx4LnNocnU9eC5zaGlmdFJpZ2h0VW5zaWduZWQseC50b1NpZ25lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuc2lnbmVkP28odGhpcy5sb3csdGhpcy5oaWdoLCExKTp0aGlzfSx4LnRvVW5zaWduZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bnNpZ25lZD90aGlzOm8odGhpcy5sb3csdGhpcy5oaWdoLCEwKX0seC50b0J5dGVzPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMudG9CeXRlc0xFKCk6dGhpcy50b0J5dGVzQkUoKX0seC50b0J5dGVzTEU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhpZ2gsdD10aGlzLmxvdztyZXR1cm5bMjU1JnQsdD4+PjgmMjU1LHQ+Pj4xNiYyNTUsdD4+PjI0JjI1NSwyNTUmZSxlPj4+OCYyNTUsZT4+PjE2JjI1NSxlPj4+MjQmMjU1XX0seC50b0J5dGVzQkU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhpZ2gsdD10aGlzLmxvdztyZXR1cm5bZT4+PjI0JjI1NSxlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZSx0Pj4+MjQmMjU1LHQ+Pj4xNiYyNTUsdD4+PjgmMjU1LDI1NSZ0XX0sZX0pP3IuYXBwbHkodCxpKTpyKXx8KGUuZXhwb3J0cz1hKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oNTQpLGk9bigyMiksYT1NYXRoLlBJLzE4MCxvPW5ldyBGbG9hdDMyQXJyYXkoMTYpLHM9bmV3IEZsb2F0MzJBcnJheSgxMik7ZnVuY3Rpb24gdShlLHQsbil7dmFyIHI9dFswXSphLGk9dFsxXSphLG89dFsyXSphLHM9TWF0aC5zaW4obyksdT1NYXRoLnNpbihyKSxjPU1hdGguc2luKGkpLGw9TWF0aC5jb3MobyksaD1NYXRoLmNvcyhyKSxmPU1hdGguY29zKGkpLGQ9blswXSx2PW5bMV0scD1uWzJdO2VbMF09ZCpmKmgsZVsxXT1kKmMqaCxlWzJdPWQqLXUsZVszXT12KigtYypsK2YqdSpzKSxlWzRdPXYqKGYqbCtjKnUqcyksZVs1XT12KmgqcyxlWzZdPXAqKGMqcytmKnUqbCksZVs3XT1wKigtZipzK2MqdSpsKSxlWzhdPXAqaCpsfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGVbMF09ZVswXSxlWzFdPWVbMV0sZVsyXT1lWzJdLGVbM109ZVs0XSxlWzRdPWVbNV0sZVs1XT1lWzZdLGVbNl09ZVs4XSxlWzddPWVbOV0sZVs4XT1lWzEwXSxlWzldPWVbMTJdLGVbMTBdPWVbMTNdLGVbMTFdPWVbMTRdLGUuc3ViYXJyYXkoMCwxMil9dmFyIGw9e3NpemU6MTIsYWNjZXNzb3I6WyJnZXRPcmllbnRhdGlvbiIsImdldFNjYWxlIiwiZ2V0VHJhbnNsYXRpb24iLCJnZXRUcmFuc2Zvcm1NYXRyaXgiXSxzaGFkZXJBdHRyaWJ1dGVzOntpbnN0YW5jZU1vZGVsTWF0cml4X19MT0NBVElPTl8wOntzaXplOjMsZWxlbWVudE9mZnNldDowfSxpbnN0YW5jZU1vZGVsTWF0cml4X19MT0NBVElPTl8xOntzaXplOjMsZWxlbWVudE9mZnNldDozfSxpbnN0YW5jZU1vZGVsTWF0cml4X19MT0NBVElPTl8yOntzaXplOjMsZWxlbWVudE9mZnNldDo2fSxpbnN0YW5jZVRyYW5zbGF0aW9uOntzaXplOjMsZWxlbWVudE9mZnNldDo5fX0sdXBkYXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5zdGFydFJvdyxpPXQuZW5kUm93LGE9dGhpcy5wcm9wcyxsPWEuZGF0YSxoPWEuZ2V0T3JpZW50YXRpb24sZj1hLmdldFNjYWxlLGQ9YS5nZXRUcmFuc2xhdGlvbix2PWEuZ2V0VHJhbnNmb3JtTWF0cml4LHA9QXJyYXkuaXNBcnJheSh2KSxnPXAmJjE2PT09di5sZW5ndGgseT1BcnJheS5pc0FycmF5KGYpLG09QXJyYXkuaXNBcnJheShoKSxiPUFycmF5LmlzQXJyYXkoZCksXz1nfHwhcCYmQm9vbGVhbih2KGxbMF0pKTtlLmNvbnN0YW50PV8/ZzptJiZ5JiZiO3ZhciBPPWUudmFsdWU7aWYoZS5jb25zdGFudCl7dmFyIHg7aWYoXylvLnNldCh2KSx4PWMobyk7ZWxzZSB1KHg9cyxoLGYpLHguc2V0KGQsOSk7ZS52YWx1ZT1uZXcgRmxvYXQzMkFycmF5KHgpfWVsc2V7dmFyIHc9biplLnNpemUsUz1PYmplY3Qoci5hKShsLG4saSksaz1TLml0ZXJhYmxlLFA9Uy5vYmplY3RJbmZvLGo9ITAsVD0hMSxFPXZvaWQgMDt0cnl7Zm9yKHZhciBBLE09a1tTeW1ib2wuaXRlcmF0b3JdKCk7IShqPShBPU0ubmV4dCgpKS5kb25lKTtqPSEwKXt2YXIgQz1BLnZhbHVlO1AuaW5kZXgrKzt2YXIgTD12b2lkIDA7aWYoXylvLnNldChnP3Y6dihDLFApKSxMPWMobyk7ZWxzZSB1KEw9cyxtP2g6aChDLFApLHk/ZjpmKEMsUCkpLEwuc2V0KGI/ZDpkKEMsUCksOSk7T1t3KytdPUxbMF0sT1t3KytdPUxbMV0sT1t3KytdPUxbMl0sT1t3KytdPUxbM10sT1t3KytdPUxbNF0sT1t3KytdPUxbNV0sT1t3KytdPUxbNl0sT1t3KytdPUxbN10sT1t3KytdPUxbOF0sT1t3KytdPUxbOV0sT1t3KytdPUxbMTBdLE9bdysrXT1MWzExXX19Y2F0Y2goZSl7VD0hMCxFPWV9ZmluYWxseXt0cnl7anx8bnVsbD09TS5yZXR1cm58fE0ucmV0dXJuKCl9ZmluYWxseXtpZihUKXRocm93IEV9fX19fTtmdW5jdGlvbiBoKGUsdCl7cmV0dXJuIHQ9PT1pLmEuQ0FSVEVTSUFOfHx0PT09aS5hLk1FVEVSX09GRlNFVFN8fHQ9PT1pLmEuREVGQVVMVCYmIWUuaXNHZW9zcGF0aWFsfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9big2KTtmdW5jdGlvbiBhKCl7dmFyIGU7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wZXJmb3JtYW5jZSllPXdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtlbHNlIGlmKCJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy5ocnRpbWUpe3ZhciB0PXByb2Nlc3MuaHJ0aW1lKCk7ZT0xZTMqdFswXSt0WzFdLzFlNn1lbHNlIGU9RGF0ZS5ub3coKTtyZXR1cm4gZX12YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXtPYmplY3Qoci5hKSh0aGlzLGUpLHRoaXMubmFtZT10LHRoaXMudHlwZT1uLHRoaXMuc2FtcGxlU2l6ZT0xLHRoaXMucmVzZXQoKX1yZXR1cm4gT2JqZWN0KGkuYSkoZSxbe2tleToic2V0U2FtcGxlU2l6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2FtcGxlU2l6ZT1lLHRoaXN9fSx7a2V5OiJpbmNyZW1lbnRDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDb3VudCgxKSx0aGlzfX0se2tleToiZGVjcmVtZW50Q291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3VidHJhY3RDb3VudCgxKSx0aGlzfX0se2tleToiYWRkQ291bnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jb3VudCs9ZSx0aGlzLl9zYW1wbGVzKyssdGhpcy5fY2hlY2tTYW1wbGluZygpLHRoaXN9fSx7a2V5OiJzdWJ0cmFjdENvdW50Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY291bnQtPWUsdGhpcy5fc2FtcGxlcysrLHRoaXMuX2NoZWNrU2FtcGxpbmcoKSx0aGlzfX0se2tleToiYWRkVGltZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RpbWUrPWUsdGhpcy5sYXN0VGltaW5nPWUsdGhpcy5fc2FtcGxlcysrLHRoaXMuX2NoZWNrU2FtcGxpbmcoKSx0aGlzfX0se2tleToidGltZVN0YXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydFRpbWU9YSgpLHRoaXMuX3RpbWVyUGVuZGluZz0hMCx0aGlzfX0se2tleToidGltZUVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZXJQZW5kaW5nPyh0aGlzLmFkZFRpbWUoYSgpLXRoaXMuX3N0YXJ0VGltZSksdGhpcy5fdGltZXJQZW5kaW5nPSExLHRoaXMuX2NoZWNrU2FtcGxpbmcoKSx0aGlzKTp0aGlzfX0se2tleToiZ2V0U2FtcGxlQXZlcmFnZUNvdW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZVNpemU+MD90aGlzLmxhc3RTYW1wbGVDb3VudC90aGlzLnNhbXBsZVNpemU6MH19LHtrZXk6ImdldFNhbXBsZUF2ZXJhZ2VUaW1lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZVNpemU+MD90aGlzLmxhc3RTYW1wbGVUaW1lL3RoaXMuc2FtcGxlU2l6ZTowfX0se2tleToiZ2V0U2FtcGxlSHoiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdFNhbXBsZVRpbWU+MD90aGlzLnNhbXBsZVNpemUvKHRoaXMubGFzdFNhbXBsZVRpbWUvMWUzKTowfX0se2tleToiZ2V0QXZlcmFnZUNvdW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNhbXBsZXM+MD90aGlzLmNvdW50L3RoaXMuc2FtcGxlczowfX0se2tleToiZ2V0QXZlcmFnZVRpbWUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2FtcGxlcz4wP3RoaXMudGltZS90aGlzLnNhbXBsZXM6MH19LHtrZXk6ImdldEh6Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWU+MD90aGlzLnNhbXBsZXMvKHRoaXMudGltZS8xZTMpOjB9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lPTAsdGhpcy5jb3VudD0wLHRoaXMuc2FtcGxlcz0wLHRoaXMubGFzdFRpbWluZz0wLHRoaXMubGFzdFNhbXBsZVRpbWU9MCx0aGlzLmxhc3RTYW1wbGVDb3VudD0wLHRoaXMuX2NvdW50PTAsdGhpcy5fdGltZT0wLHRoaXMuX3NhbXBsZXM9MCx0aGlzLl9zdGFydFRpbWU9MCx0aGlzLl90aW1lclBlbmRpbmc9ITEsdGhpc319LHtrZXk6Il9jaGVja1NhbXBsaW5nIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3NhbXBsZXM9PT10aGlzLnNhbXBsZVNpemUmJih0aGlzLmxhc3RTYW1wbGVUaW1lPXRoaXMuX3RpbWUsdGhpcy5sYXN0U2FtcGxlQ291bnQ9dGhpcy5fY291bnQsdGhpcy5jb3VudCs9dGhpcy5fY291bnQsdGhpcy50aW1lKz10aGlzLl90aW1lLHRoaXMuc2FtcGxlcys9dGhpcy5fc2FtcGxlcyx0aGlzLl90aW1lPTAsdGhpcy5fY291bnQ9MCx0aGlzLl9zYW1wbGVzPTApfX1dKSxlfSgpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXQuaWQsaT10LnN0YXRzO09iamVjdChyLmEpKHRoaXMsZSksdGhpcy5pZD1uLHRoaXMuc3RhdHM9e30sdGhpcy5faW5pdGlhbGl6ZVN0YXRzKGkpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3QoaS5hKShlLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiY291bnQiO3JldHVybiB0aGlzLl9nZXRPckNyZWF0ZSh7bmFtZTplLHR5cGU6dH0pfX0se2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuc3RhdHMpdGhpcy5zdGF0c1tlXS5yZXNldCgpO3JldHVybiB0aGlzfX0se2tleToiZm9yRWFjaCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuc3RhdHMpZSh0aGlzLnN0YXRzW3RdKX19LHtrZXk6ImdldFRhYmxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdC5uYW1lXT17dGltZTp0LnRpbWV8fDAsY291bnQ6dC5jb3VudHx8MCxhdmVyYWdlOnQuZ2V0QXZlcmFnZVRpbWUoKXx8MCxoejp0LmdldEh6KCl8fDB9fSkpLGV9fSx7a2V5OiJfaW5pdGlhbGl6ZVN0YXRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107dC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fZ2V0T3JDcmVhdGUodCl9KSl9fSx7a2V5OiJfZ2V0T3JDcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5uYW1lKXJldHVybiBudWxsO3ZhciB0PWUubmFtZSxuPWUudHlwZTtyZXR1cm4gdGhpcy5zdGF0c1t0XXx8KHRoaXMuc3RhdHNbdF09ZSBpbnN0YW5jZW9mIG8/ZTpuZXcgbyh0LG4pKSx0aGlzLnN0YXRzW3RdfX0se2tleToic2l6ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc3RhdHMpLmxlbmd0aH19XSksZX0oKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSl9LCxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUrMyYtNH1mdW5jdGlvbiBpKGUsdCxuKXt2YXIgcj1uP25ldyBVaW50OEFycmF5KGUpLnN1YmFycmF5KHQsdCtuKTpuZXcgVWludDhBcnJheShlKS5zdWJhcnJheSh0KTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocikuYnVmZmVyfWZ1bmN0aW9uIGEoZSx0LG4pe3ZhciBpO2lmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilpPW5ldyBVaW50OEFycmF5KGUpO2Vsc2V7dmFyIGE9ZS5ieXRlT2Zmc2V0LG89ZS5ieXRlTGVuZ3RoO2k9bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsYSxvKX1yZXR1cm4gdC5zZXQoaSxuKSxuK3IoaS5ieXRlTGVuZ3RoKX1uLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1O2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZS5zbGljZSgwLHQpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhlKSlyZXR1cm4gaShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsdCk7aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgbj0wO3JldHVybiBpKGUsbix0KX1yZXR1cm4iIn1mdW5jdGlvbiBpKGUsdCxuKXtpZihlLmJ5dGVMZW5ndGg8PXQrbilyZXR1cm4iIjtmb3IodmFyIHI9bmV3IERhdGFWaWV3KGUpLGk9IiIsYT0wO2E8bjthKyspaSs9U3RyaW5nLmZyb21DaGFyQ29kZShyLmdldFVpbnQ4KHQrYSkpO3JldHVybiBpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHI9big4KSxpPW4ubihyKSxhPW4oMTMpLG89big1KSxzPW4oNiksdT1uKDE0MCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dC5tYXhDb25jdXJyZW5jeSxyPXZvaWQgMD09PW4/NTpuLGk9dC5vbk1lc3NhZ2UsYT10Lm9uRGVidWcscz12b2lkIDA9PT1hP2Z1bmN0aW9uKCl7fTphO09iamVjdChvLmEpKHRoaXMsZSksdGhpcy5tYXhDb25jdXJyZW5jeT1yLHRoaXMub25NZXNzYWdlPWksdGhpcy5vbkRlYnVnPXMsdGhpcy53b3JrZXJQb29scz1uZXcgTWFwfXZhciB0O3JldHVybiBPYmplY3Qocy5hKShlLG51bGwsW3trZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgV29ya2VyfX1dKSxPYmplY3Qocy5hKShlLFt7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7Im1heENvbmN1cnJlbmN5ImluIGUmJih0aGlzLm1heENvbmN1cnJlbmN5PWUubWF4Q29uY3VycmVuY3kpLCJvbkRlYnVnImluIGUmJih0aGlzLm9uRGVidWc9ZS5vbkRlYnVnKX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy53b3JrZXJQb29scy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXN0cm95KCl9KSl9fSx7a2V5OiJwcm9jZXNzIix2YWx1ZToodD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scil7dmFyIGE7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gYT10aGlzLl9nZXRXb3JrZXJQb29sKHQsbiksZS5hYnJ1cHQoInJldHVybiIsYS5wcm9jZXNzKHIpKTtjYXNlIDI6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlLG4scil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9nZXRXb3JrZXJQb29sIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMud29ya2VyUG9vbHMuZ2V0KHQpO3JldHVybiBufHwobj1uZXcgdS5hKHtzb3VyY2U6ZSxuYW1lOnQsb25NZXNzYWdlOnRoaXMub25NZXNzYWdlLG1heENvbmN1cnJlbmN5OnRoaXMubWF4Q29uY3VycmVuY3ksb25EZWJ1Zzp0aGlzLm9uRGVidWd9KSx0aGlzLndvcmtlclBvb2xzLnNldCh0LG4pKSxufX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO3ZhciByPW4oMzcpLGk9bi5uKHIpLGE9big0NSkuYi5DT01QT05FTlQ7ZnVuY3Rpb24gbyhlKXt2YXIgdD1kKGUpO2Zvcih2YXIgbiBpbiB0KXt2YXIgcj10W25dLGk9ci52YWxpZGF0ZTtpZihpJiYhaShlW25dLHIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwcm9wICIuY29uY2F0KG4sIjogIikuY29uY2F0KGVbbl0pKX19ZnVuY3Rpb24gcyhlLHQpe3ZhciBuPWMoe25ld1Byb3BzOmUsb2xkUHJvcHM6dCxwcm9wVHlwZXM6ZChlKSxpZ25vcmVQcm9wczp7ZGF0YTpudWxsLHVwZGF0ZVRyaWdnZXJzOm51bGwsZXh0ZW5zaW9uczpudWxsLHRyYW5zaXRpb25zOm51bGx9fSkscj1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT10KXJldHVybiJvbGRQcm9wcyBpcyBudWxsLCBpbml0aWFsIGRpZmYiO3ZhciBuPW51bGwscj1lLmRhdGFDb21wYXJhdG9yLGk9ZS5fZGF0YURpZmY7cj9yKGUuZGF0YSx0LmRhdGEpfHwobj0iRGF0YSBjb21wYXJhdG9yIGRldGVjdGVkIGEgY2hhbmdlIik6ZS5kYXRhIT09dC5kYXRhJiYobj0iQSBuZXcgZGF0YSBjb250YWluZXIgd2FzIHN1cHBsaWVkIik7biYmaSYmKG49aShlLmRhdGEsdC5kYXRhKXx8bik7cmV0dXJuIG59KGUsdCksaT0hMTtyZXR1cm4gcnx8KGk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09dClyZXR1cm4ib2xkUHJvcHMgaXMgbnVsbCwgaW5pdGlhbCBkaWZmIjtpZigiYWxsImluIGUudXBkYXRlVHJpZ2dlcnMpe2lmKGYoZSx0LCJhbGwiKSlyZXR1cm57YWxsOiEwfX12YXIgbj17fSxyPSExO2Zvcih2YXIgaSBpbiBlLnVwZGF0ZVRyaWdnZXJzKXtpZigiYWxsIiE9PWkpZihlLHQsaSkmJihuW2ldPSEwLHI9bil9cmV0dXJuIHJ9KGUsdCkpLHtkYXRhQ2hhbmdlZDpyLHByb3BzQ2hhbmdlZDpuLHVwZGF0ZVRyaWdnZXJzQ2hhbmdlZDppLGV4dGVuc2lvbnNDaGFuZ2VkOmgoZSx0KSx0cmFuc2l0aW9uc0NoYW5nZWQ6dShlLHQpfX1mdW5jdGlvbiB1KGUsdCl7aWYoIWUudHJhbnNpdGlvbnMpcmV0dXJuIG51bGw7dmFyIG49e30scj1kKGUpO2Zvcih2YXIgaSBpbiBlLnRyYW5zaXRpb25zKXt2YXIgYT1yW2ldLG89YSYmYS50eXBlOygibnVtYmVyIj09PW98fCJjb2xvciI9PT1vfHwiYXJyYXkiPT09bykmJmwoZVtpXSx0W2ldLGEpJiYobltpXT0hMCl9cmV0dXJuIG59ZnVuY3Rpb24gYygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUubmV3UHJvcHMsbj1lLm9sZFByb3BzLHI9ZS5pZ25vcmVQcm9wcyxhPXZvaWQgMD09PXI/e306cixvPWUucHJvcFR5cGVzLHM9dm9pZCAwPT09bz97fTpvLHU9ZS50cmlnZ2VyTmFtZSxjPXZvaWQgMD09PXU/InByb3BzIjp1O2lmKG49PT10KXJldHVybiBudWxsO2lmKCJvYmplY3QiIT09aSgpKHQpfHxudWxsPT09dClyZXR1cm4iIi5jb25jYXQoYywiIGNoYW5nZWQgc2hhbGxvd2x5Iik7aWYoIm9iamVjdCIhPT1pKCkobil8fG51bGw9PT1uKXJldHVybiIiLmNvbmNhdChjLCIgY2hhbmdlZCBzaGFsbG93bHkiKTtmb3IodmFyIGg9MCxmPU9iamVjdC5rZXlzKHQpO2g8Zi5sZW5ndGg7aCsrKXt2YXIgZD1mW2hdO2lmKCEoZCBpbiBhKSl7aWYoIShkIGluIG4pKXJldHVybiIiLmNvbmNhdChjLCIuIikuY29uY2F0KGQsIiBhZGRlZCIpO3ZhciB2PWwodFtkXSxuW2RdLHNbZF0pO2lmKHYpcmV0dXJuIiIuY29uY2F0KGMsIi4iKS5jb25jYXQoZCwiICIpLmNvbmNhdCh2KX19Zm9yKHZhciBwPTAsZz1PYmplY3Qua2V5cyhuKTtwPGcubGVuZ3RoO3ArKyl7dmFyIHk9Z1twXTtpZighKHkgaW4gYSkpe2lmKCEoeSBpbiB0KSlyZXR1cm4iIi5jb25jYXQoYywiLiIpLmNvbmNhdCh5LCIgZHJvcHBlZCIpO2lmKCFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LHkpKXt2YXIgbT1sKHRbeV0sblt5XSxzW3ldKTtpZihtKXJldHVybiIiLmNvbmNhdChjLCIuIikuY29uY2F0KHksIiAiKS5jb25jYXQobSl9fX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGUsdCxuKXt2YXIgcj1uJiZuLmVxdWFsO3JldHVybiByJiYhcihlLHQsbik/ImNoYW5nZWQgZGVlcGx5IjpyfHwhKHI9ZSYmdCYmZS5lcXVhbHMpfHxyLmNhbGwoZSx0KT9yfHx0PT09ZT9udWxsOiJjaGFuZ2VkIHNoYWxsb3dseSI6ImNoYW5nZWQgZGVlcGx5In1mdW5jdGlvbiBoKGUsdCl7aWYobnVsbD09PXQpcmV0dXJuIm9sZFByb3BzIGlzIG51bGwsIGluaXRpYWwgZGlmZiI7dmFyIG49dC5leHRlbnNpb25zLHI9ZS5leHRlbnNpb25zO2lmKHI9PT1uKXJldHVybiExO2lmKHIubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITA7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspaWYoIXJbaV0uZXF1YWxzKG5baV0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByPWUudXBkYXRlVHJpZ2dlcnNbbl07cj1udWxsPT1yP3t9OnI7dmFyIGk9dC51cGRhdGVUcmlnZ2Vyc1tuXTtyZXR1cm4gYyh7b2xkUHJvcHM6aT1udWxsPT1pP3t9OmksbmV3UHJvcHM6cix0cmlnZ2VyTmFtZTpufSl9ZnVuY3Rpb24gZChlKXt2YXIgdD1lW2FdLG49dCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4gbj9uLl9wcm9wVHlwZXM6e319fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oNCksbD1uLm4oYyksaD1uKDEwKSxmPW4ubihoKSxkPW4oMjE3KSx2PW4oMTE2KSxwPW4oMTM1KSxnPW4oOTkpLHk9big5MiksbT1uKDEpLGI9big3KSxfPW4ubihiKSxPPW4oMTIpLHg9bi5uKE8pLHc9big5MSksUz1uKDEwNCksaz1uKDcxKSxQPW4oMTEpO2Z1bmN0aW9uIGooZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxuKXt2YXIgcixhLG87cmV0dXJuIGkoKSh0aGlzLHQpLChvPXUoKSh0aGlzLGwoKSh0KS5jYWxsKHRoaXMsZSxuKSkpLnNoYWRvd01hcD1uZXcgdi5hKGUse3dpZHRoOjEsaGVpZ2h0OjEscGFyYW1ldGVyczoocj17fSxfKCkociwxMDI0MSw5NzI5KSxfKCkociwxMDI0MCw5NzI5KSxfKCkociwxMDI0MiwzMzA3MSksXygpKHIsMTAyNDMsMzMwNzEpLHIpfSksby5kZXB0aEJ1ZmZlcj1uZXcgUy5hKGUse2Zvcm1hdDozMzE4OSx3aWR0aDoxLGhlaWdodDoxfSksby5mYm89bmV3IGsuYShlLHtpZDoic2hhZG93bWFwIix3aWR0aDoxLGhlaWdodDoxLGF0dGFjaG1lbnRzOihhPXt9LF8oKShhLDM2MDY0LG8uc2hhZG93TWFwKSxfKCkoYSwzNjA5NixvLmRlcHRoQnVmZmVyKSxhKX0pLG99cmV0dXJuIGYoKSh0LGUpLG8oKSh0LFt7a2V5OiJyZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMscj10aGlzLmZibztPYmplY3QoUC5sKSh0aGlzLmdsLHtkZXB0aFJhbmdlOlswLDFdLGRlcHRoVGVzdDohMCxibGVuZDohMSxjbGVhckNvbG9yOlsxLDEsMSwxXX0sKGZ1bmN0aW9uKCl7dmFyIGk9ZS52aWV3cG9ydHNbMF0sYT1PYmplY3QoUC5jKShuLmdsKSxvPWkud2lkdGgqYSxzPWkuaGVpZ2h0KmE7bz09PXIud2lkdGgmJnM9PT1yLmhlaWdodHx8ci5yZXNpemUoe3dpZHRoOm8saGVpZ2h0OnN9KSx4KCkobCgpKHQucHJvdG90eXBlKSwicmVuZGVyIixuKS5jYWxsKG4sZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe18oKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6aihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sZSx7dGFyZ2V0OnIscGFzczoic2hhZG93In0pKX0pKX19LHtrZXk6InNob3VsZERyYXdMYXllciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lLnByb3BzLnNoYWRvd0VuYWJsZWR9fSx7a2V5OiJnZXRNb2R1bGVQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybntkcmF3VG9TaGFkb3dNYXA6ITB9fX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZmJvJiYodGhpcy5mYm8uZGVsZXRlKCksdGhpcy5mYm89bnVsbCksdGhpcy5zaGFkb3dNYXAmJih0aGlzLnNoYWRvd01hcC5kZWxldGUoKSx0aGlzLnNoYWRvd01hcD1udWxsKSx0aGlzLmRlcHRoQnVmZmVyJiYodGhpcy5kZXB0aEJ1ZmZlci5kZWxldGUoKSx0aGlzLmRlcHRoQnVmZmVyPW51bGwpfX1dKSx0fSh3LmEpLEU9bigxMTIpO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKTt2YXIgQT17Y29sb3I6WzI1NSwyNTUsMjU1XSxpbnRlbnNpdHk6MX0sTT1be2NvbG9yOlsyNTUsMjU1LDI1NV0saW50ZW5zaXR5OjEsZGlyZWN0aW9uOlstMSwzLC0xXX0se2NvbG9yOlsyNTUsMjU1LDI1NV0saW50ZW5zaXR5Oi45LGRpcmVjdGlvbjpbMSwtOCwtMi41XX1dLEM9WzAsMCwwLDIwMC8yNTVdLEw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbjtmb3IodmFyIHIgaW4gaSgpKHRoaXMsdCksKG49dSgpKHRoaXMsbCgpKHQpLmNhbGwodGhpcyxlKSkpLmFtYmllbnRMaWdodD1udWxsLG4uZGlyZWN0aW9uYWxMaWdodHM9W10sbi5wb2ludExpZ2h0cz1bXSxuLnNoYWRvd0NvbG9yPUMsbi5zaGFkb3dQYXNzZXM9W10sbi5zaGFkb3dNYXBzPVtdLG4uZHVtbXlTaGFkb3dNYXA9bnVsbCxuLnNoYWRvdz0hMSxuLnByb2dyYW1NYW5hZ2VyPW51bGwsZSl7dmFyIGE9ZVtyXTtzd2l0Y2goYS50eXBlKXtjYXNlImFtYmllbnQiOm4uYW1iaWVudExpZ2h0PWE7YnJlYWs7Y2FzZSJkaXJlY3Rpb25hbCI6bi5kaXJlY3Rpb25hbExpZ2h0cy5wdXNoKGEpO2JyZWFrO2Nhc2UicG9pbnQiOm4ucG9pbnRMaWdodHMucHVzaChhKX19cmV0dXJuIG4uX2FwcGx5RGVmYXVsdExpZ2h0cygpLG4uc2hhZG93PW4uZGlyZWN0aW9uYWxMaWdodHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hhZG93fSkpLG59cmV0dXJuIGYoKSh0LGUpLG8oKSh0LFt7a2V5OiJwcmVSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5sYXllcnMscj10LmxheWVyRmlsdGVyLGk9dC52aWV3cG9ydHMsYT10Lm9uVmlld3BvcnRBY3RpdmUsbz10LnZpZXdzO2lmKHRoaXMuc2hhZG93KXt0aGlzLnNoYWRvd01hdHJpY2VzPXRoaXMuX2NyZWF0ZUxpZ2h0TWF0cml4KCksMD09PXRoaXMuc2hhZG93UGFzc2VzLmxlbmd0aCYmdGhpcy5fY3JlYXRlU2hhZG93UGFzc2VzKGUpLHRoaXMucHJvZ3JhbU1hbmFnZXJ8fCh0aGlzLnByb2dyYW1NYW5hZ2VyPWQuYS5nZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIoZSksRS5hJiZ0aGlzLnByb2dyYW1NYW5hZ2VyLmFkZERlZmF1bHRNb2R1bGUoRS5hKSksdGhpcy5kdW1teVNoYWRvd01hcHx8KHRoaXMuZHVtbXlTaGFkb3dNYXA9bmV3IHYuYShlLHt3aWR0aDoxLGhlaWdodDoxfSkpO2Zvcih2YXIgcz0wO3M8dGhpcy5zaGFkb3dQYXNzZXMubGVuZ3RoO3MrKyl7dGhpcy5zaGFkb3dQYXNzZXNbc10ucmVuZGVyKHtsYXllcnM6bixsYXllckZpbHRlcjpyLHZpZXdwb3J0czppLG9uVmlld3BvcnRBY3RpdmU6YSx2aWV3czpvLG1vZHVsZVBhcmFtZXRlcnM6e3NoYWRvd0xpZ2h0SWQ6cyxkdW1teVNoYWRvd01hcDp0aGlzLmR1bW15U2hhZG93TWFwLHNoYWRvd01hdHJpY2VzOnRoaXMuc2hhZG93TWF0cmljZXN9fSl9fX19LHtrZXk6ImdldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2hhZG93P3tzaGFkb3dNYXBzOnRoaXMuc2hhZG93TWFwcyxkdW1teVNoYWRvd01hcDp0aGlzLmR1bW15U2hhZG93TWFwLHNoYWRvd0NvbG9yOnRoaXMuc2hhZG93Q29sb3Isc2hhZG93TWF0cmljZXM6dGhpcy5zaGFkb3dNYXRyaWNlc306e307cmV0dXJuIHQubGlnaHRTb3VyY2VzPXthbWJpZW50TGlnaHQ6dGhpcy5hbWJpZW50TGlnaHQsZGlyZWN0aW9uYWxMaWdodHM6dGhpcy5kaXJlY3Rpb25hbExpZ2h0cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFByb2plY3RlZExpZ2h0KHtsYXllcjplfSl9KSkscG9pbnRMaWdodHM6dGhpcy5wb2ludExpZ2h0cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFByb2plY3RlZExpZ2h0KHtsYXllcjplfSl9KSl9LHR9fSx7a2V5OiJjbGVhbnVwIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEwLHQ9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMuc2hhZG93UGFzc2VzW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KHI9aS5uZXh0KCkpLmRvbmUpO2U9ITApe3IudmFsdWUuZGVsZXRlKCl9fWNhdGNoKGUpe3Q9ITAsbj1lfWZpbmFsbHl7dHJ5e2V8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYodCl0aHJvdyBufX10aGlzLnNoYWRvd1Bhc3Nlcy5sZW5ndGg9MCx0aGlzLnNoYWRvd01hcHMubGVuZ3RoPTAsdGhpcy5kdW1teVNoYWRvd01hcCYmKHRoaXMuZHVtbXlTaGFkb3dNYXAuZGVsZXRlKCksdGhpcy5kdW1teVNoYWRvd01hcD1udWxsKSx0aGlzLnNoYWRvdyYmdGhpcy5wcm9ncmFtTWFuYWdlciYmKHRoaXMucHJvZ3JhbU1hbmFnZXIucmVtb3ZlRGVmYXVsdE1vZHVsZShFLmEpLHRoaXMucHJvZ3JhbU1hbmFnZXI9bnVsbCl9fSx7a2V5OiJfY3JlYXRlTGlnaHRNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W10sdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLmRpcmVjdGlvbmFsTGlnaHRzW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBvPWkudmFsdWUscz0obmV3IG0uYikubG9va0F0KHtleWU6bmV3IG0uZShvLmRpcmVjdGlvbikubmVnYXRlKCl9KTtlLnB1c2gocyl9fWNhdGNoKGUpe249ITAscj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1yZXR1cm4gZX19LHtrZXk6Il9jcmVhdGVTaGFkb3dQYXNzZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5kaXJlY3Rpb25hbExpZ2h0cy5sZW5ndGg7dCsrKXt2YXIgbj1uZXcgVChlKTt0aGlzLnNoYWRvd1Bhc3Nlc1t0XT1uLHRoaXMuc2hhZG93TWFwc1t0XT1uLnNoYWRvd01hcH19fSx7a2V5OiJfYXBwbHlEZWZhdWx0TGlnaHRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuYW1iaWVudExpZ2h0LHQ9dGhpcy5wb2ludExpZ2h0cyxuPXRoaXMuZGlyZWN0aW9uYWxMaWdodHM7ZXx8MCE9PXQubGVuZ3RofHwwIT09bi5sZW5ndGh8fCh0aGlzLmFtYmllbnRMaWdodD1uZXcgcC5hKEEpLHRoaXMuZGlyZWN0aW9uYWxMaWdodHMucHVzaChuZXcgZy5hKE1bMF0pLG5ldyBnLmEoTVsxXSkpKX19XSksdH0oeS5hKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMTgpLGk9bi5uKHIpLGE9bigyMiksbz1uKDExMykscz1uKDM5KSx1PW4oMzIpLGM9bigzMyk7ZnVuY3Rpb24gbChlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0scj1pKCkoZSwzKSxhPXJbMF0sbz1yWzFdLHM9clsyXSx1PXZvaWQgMD09PXM/MDpzLGM9dC5wcm9qZWN0RmxhdChlKSxsPWkoKShjLDIpLGg9bFswXSxmPWxbMV0sZD10LmdldERpc3RhbmNlU2NhbGVzKG4mJlthLG9dKSx2PXUqZC51bml0c1Blck1ldGVyWzJdO3JldHVybltoLGYsdl19ZnVuY3Rpb24gaChlLHQpe3ZhciBuPXQudmlld3BvcnQscj10Lm1vZGVsTWF0cml4LG89dC5jb29yZGluYXRlU3lzdGVtLHU9dC5jb29yZGluYXRlT3JpZ2luLGg9dC5vZmZzZXRNb2RlLGY9aSgpKGUsMyksZD1mWzBdLHY9ZlsxXSxwPWZbMl07aWYocil7dmFyIGc9cy5uKFtdLFtkLHYscCwxXSxyKSx5PWkoKShnLDMpO2Q9eVswXSx2PXlbMV0scD15WzJdfXN3aXRjaChvKXtjYXNlIGEuYS5MTkdMQVQ6cmV0dXJuIGwoW2QsdixwXSxuLGgpO2Nhc2UgYS5hLkxOR0xBVF9PRkZTRVRTOnJldHVybiBsKFtkK3VbMF0sdit1WzFdLHArKHVbMl18fDApXSxuLGgpO2Nhc2UgYS5hLk1FVEVSX09GRlNFVFM6cmV0dXJuIGwoT2JqZWN0KGMuYSkodSxbZCx2LHBdKSxuLGgpO2Nhc2UgYS5hLkNBUlRFU0lBTjpkZWZhdWx0OnJldHVybiBuLmlzR2Vvc3BhdGlhbD9bZCx2LHBdOm4ucHJvamVjdFBvc2l0aW9uKFtkLHYscF0pfX1mdW5jdGlvbiBmKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxlKSxuPWUuY29vcmRpbmF0ZVN5c3RlbSxyPWUudmlld3BvcnQsaT1lLmNvb3JkaW5hdGVPcmlnaW4sbz1lLmZyb21Db29yZGluYXRlU3lzdGVtLHM9ZS5mcm9tQ29vcmRpbmF0ZU9yaWdpbjtyZXR1cm4gbj09PWEuYS5ERUZBVUxUJiYobj1yLmlzR2Vvc3BhdGlhbD9hLmEuTE5HTEFUOmEuYS5DQVJURVNJQU4pLHZvaWQgMD09PW8mJih0LmZyb21Db29yZGluYXRlU3lzdGVtPW4pLHZvaWQgMD09PXMmJih0LmZyb21Db29yZGluYXRlT3JpZ2luPWkpLHQuY29vcmRpbmF0ZVN5c3RlbT1uLHR9KHQpLHI9bi52aWV3cG9ydCxpPW4uY29vcmRpbmF0ZVN5c3RlbSxzPW4uY29vcmRpbmF0ZU9yaWdpbixjPW4ubW9kZWxNYXRyaXgsbD1uLmZyb21Db29yZGluYXRlU3lzdGVtLGY9bi5mcm9tQ29vcmRpbmF0ZU9yaWdpbixkPU9iamVjdChvLmEpKHIsaSxzKSx2PWQuZ2Vvc3BhdGlhbE9yaWdpbixwPWQuc2hhZGVyQ29vcmRpbmF0ZU9yaWdpbixnPWQub2Zmc2V0TW9kZSx5PWgoZSx7dmlld3BvcnQ6cixtb2RlbE1hdHJpeDpjLGNvb3JkaW5hdGVTeXN0ZW06bCxjb29yZGluYXRlT3JpZ2luOmYsb2Zmc2V0TW9kZTpnfSk7aWYoZyl7dmFyIG09ci5wcm9qZWN0UG9zaXRpb24odnx8cCk7dS5tKHkseSxtKX1yZXR1cm4geX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9IiNpZiAoZGVmaW5lZChTSEFERVJfVFlQRV9GUkFHTUVOVCkgJiYgZGVmaW5lZChMSUdIVElOR19GUkFHTUVOVCkpIHx8IChkZWZpbmVkKFNIQURFUl9UWVBFX1ZFUlRFWCkgJiYgZGVmaW5lZChMSUdIVElOR19WRVJURVgpKVxuXG5zdHJ1Y3QgQW1iaWVudExpZ2h0IHtcbiB2ZWMzIGNvbG9yO1xufTtcblxuc3RydWN0IFBvaW50TGlnaHQge1xuIHZlYzMgY29sb3I7XG4gdmVjMyBwb3NpdGlvbjtcbiB2ZWMzIGF0dGVudWF0aW9uO1xufTtcblxuc3RydWN0IERpcmVjdGlvbmFsTGlnaHQge1xuICB2ZWMzIGNvbG9yO1xuICB2ZWMzIGRpcmVjdGlvbjtcbn07XG5cbnVuaWZvcm0gQW1iaWVudExpZ2h0IGxpZ2h0aW5nX3VBbWJpZW50TGlnaHQ7XG51bmlmb3JtIFBvaW50TGlnaHQgbGlnaHRpbmdfdVBvaW50TGlnaHRbTUFYX0xJR0hUU107XG51bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbTUFYX0xJR0hUU107XG51bmlmb3JtIGludCBsaWdodGluZ191UG9pbnRMaWdodENvdW50O1xudW5pZm9ybSBpbnQgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudDtcblxudW5pZm9ybSBib29sIGxpZ2h0aW5nX3VFbmFibGVkO1xuXG5mbG9hdCBnZXRQb2ludExpZ2h0QXR0ZW51YXRpb24oUG9pbnRMaWdodCBwb2ludExpZ2h0LCBmbG9hdCBkaXN0YW5jZSkge1xuICByZXR1cm4gcG9pbnRMaWdodC5hdHRlbnVhdGlvbi54XG4gICAgICAgKyBwb2ludExpZ2h0LmF0dGVudWF0aW9uLnkgKiBkaXN0YW5jZVxuICAgICAgICsgcG9pbnRMaWdodC5hdHRlbnVhdGlvbi56ICogZGlzdGFuY2UgKiBkaXN0YW5jZTtcbn1cblxuI2VuZGlmXG4iLGk9KHQuYT17bmFtZToibGlnaHRzIix2czpyLGZzOnIsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTppO2lmKCJsaWdodFNvdXJjZXMiaW4gdCl7dmFyIG49dC5saWdodFNvdXJjZXN8fHt9LHI9bi5hbWJpZW50TGlnaHQsYT1uLnBvaW50TGlnaHRzLHM9bi5kaXJlY3Rpb25hbExpZ2h0cyx1PXJ8fGEmJmEubGVuZ3RoPjB8fHMmJnMubGVuZ3RoPjA7cmV0dXJuIHU/T2JqZWN0LmFzc2lnbih7fSxvKHthbWJpZW50TGlnaHQ6cixwb2ludExpZ2h0czphLGRpcmVjdGlvbmFsTGlnaHRzOnN9KSx7bGlnaHRpbmdfdUVuYWJsZWQ6ITB9KTp7bGlnaHRpbmdfdUVuYWJsZWQ6ITF9fWlmKCJsaWdodHMiaW4gdCl7dmFyIGM9e3BvaW50TGlnaHRzOltdLGRpcmVjdGlvbmFsTGlnaHRzOltdfSxsPSEwLGg9ITEsZj12b2lkIDA7dHJ5e2Zvcih2YXIgZCx2PSh0LmxpZ2h0c3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWU7c3dpdGNoKHAudHlwZSl7Y2FzZSJhbWJpZW50IjpjLmFtYmllbnRMaWdodD1wO2JyZWFrO2Nhc2UiZGlyZWN0aW9uYWwiOmMuZGlyZWN0aW9uYWxMaWdodHMucHVzaChwKTticmVhaztjYXNlInBvaW50IjpjLnBvaW50TGlnaHRzLnB1c2gocCl9fX1jYXRjaChlKXtoPSEwLGY9ZX1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19cmV0dXJuIGUoe2xpZ2h0U291cmNlczpjfSl9cmV0dXJue319LGRlZmluZXM6e01BWF9MSUdIVFM6M319LHt9KTtmdW5jdGlvbiBhKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5jb2xvcixuPXZvaWQgMD09PXQ/WzAsMCwwXTp0LHI9ZS5pbnRlbnNpdHksaT12b2lkIDA9PT1yPzE6cjtyZXR1cm4gbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlKmkvMjU1fSkpfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZS5hbWJpZW50TGlnaHQsbj1lLnBvaW50TGlnaHRzLHI9dm9pZCAwPT09bj9bXTpuLGk9ZS5kaXJlY3Rpb25hbExpZ2h0cyxvPXZvaWQgMD09PWk/W106aSxzPXt9O3JldHVybiBzWyJsaWdodGluZ191QW1iaWVudExpZ2h0LmNvbG9yIl09dD9hKHQpOlswLDAsMF0sci5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3NbImxpZ2h0aW5nX3VQb2ludExpZ2h0WyIuY29uY2F0KHQsIl0uY29sb3IiKV09YShlKSxzWyJsaWdodGluZ191UG9pbnRMaWdodFsiLmNvbmNhdCh0LCJdLnBvc2l0aW9uIildPWUucG9zaXRpb24sc1sibGlnaHRpbmdfdVBvaW50TGlnaHRbIi5jb25jYXQodCwiXS5hdHRlbnVhdGlvbiIpXT1lLmF0dGVudWF0aW9ufHxbMSwwLDBdfSkpLHMubGlnaHRpbmdfdVBvaW50TGlnaHRDb3VudD1yLmxlbmd0aCxvLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7c1sibGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbIi5jb25jYXQodCwiXS5jb2xvciIpXT1hKGUpLHNbImxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0WyIuY29uY2F0KHQsIl0uZGlyZWN0aW9uIildPWUuZGlyZWN0aW9ufSkpLHMubGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudD1vLmxlbmd0aCxzfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9big1KSxpPW4oNiksYT1uKDExKSxvPW4oMTIwKSxzPW4oMzQpLHU9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe09iamVjdChyLmEpKHRoaXMsZSksdGhpcy5zdGF0cz1uZXcgTWFwfXJldHVybiBPYmplY3QoaS5hKShlLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0YXRzLmhhcyhlKXx8dGhpcy5zdGF0cy5zZXQoZSxuZXcgby5hKHtpZDplfSkpLHRoaXMuc3RhdHMuZ2V0KGUpfX1dKSxlfSgpKTtpZihzLmdsb2JhbC5sdW1hJiYiOC4xLjAiIT09cy5nbG9iYWwubHVtYS5WRVJTSU9OKXRocm93IG5ldyBFcnJvcigibHVtYS5nbCAtIG11bHRpcGxlIFZFUlNJT05zIGRldGVjdGVkOiAiLmNvbmNhdChzLmdsb2JhbC5sdW1hLlZFUlNJT04sIiB2cyAiKS5jb25jYXQoIjguMS4wIikpO3MuZ2xvYmFsLmx1bWF8fChPYmplY3Qocy5pc0Jyb3dzZXIpKCkmJmEuaC5sb2coMSwibHVtYS5nbCAiLmNvbmNhdCgiOC4xLjAiLCIgLSAiKS5jb25jYXQoInNldCBsdW1hLmxvZy5sZXZlbD0xIChvciBoaWdoZXIpIHRvIHRyYWNlIHJlbmRlcmluZyIpKSgpLHMuZ2xvYmFsLmx1bWE9cy5nbG9iYWwubHVtYXx8e1ZFUlNJT046IjguMS4wIix2ZXJzaW9uOiI4LjEuMCIsbG9nOmEuaCxzdGF0czp1LGdsb2JhbHM6e21vZHVsZXM6e30sbm9kZUlPOnt9fX0pO3MuZ2xvYmFsLmx1bWF9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjsKLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjIKICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby8KICoKICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjsKICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovIWZ1bmN0aW9uKGksYSxvLHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgdSxjPVsiIiwid2Via2l0IiwiTW96IiwiTVMiLCJtcyIsIm8iXSxsPWEuY3JlYXRlRWxlbWVudCgiZGl2IiksaD1NYXRoLnJvdW5kLGY9TWF0aC5hYnMsZD1EYXRlLm5vdztmdW5jdGlvbiB2KGUsdCxuKXtyZXR1cm4gc2V0VGltZW91dChPKGUsbiksdCl9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuISFBcnJheS5pc0FycmF5KGUpJiYoZyhlLG5bdF0sbiksITApfWZ1bmN0aW9uIGcoZSx0LG4pe3ZhciByO2lmKGUpaWYoZS5mb3JFYWNoKWUuZm9yRWFjaCh0LG4pO2Vsc2UgaWYodm9pZCAwIT09ZS5sZW5ndGgpZm9yKHI9MDtyPGUubGVuZ3RoOyl0LmNhbGwobixlW3JdLHIsZSkscisrO2Vsc2UgZm9yKHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiZ0LmNhbGwobixlW3JdLHIsZSl9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9IkRFUFJFQ0FURUQgTUVUSE9EOiAiK3QrIlxuIituKyIgQVQgXG4iO3JldHVybiBmdW5jdGlvbigpe3ZhciB0PW5ldyBFcnJvcigiZ2V0LXN0YWNrLXRyYWNlIiksbj10JiZ0LnN0YWNrP3Quc3RhY2sucmVwbGFjZSgvXlteXChdKz9bXG4kXS9nbSwiIikucmVwbGFjZSgvXlxzK2F0XHMrL2dtLCIiKS5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XHMqXCgvZ20sInthbm9ueW1vdXN9KClAIik6IlVua25vd24gU3RhY2sgVHJhY2UiLGE9aS5jb25zb2xlJiYoaS5jb25zb2xlLndhcm58fGkuY29uc29sZS5sb2cpO3JldHVybiBhJiZhLmNhbGwoaS5jb25zb2xlLHIsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXU9ImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5hc3NpZ24/ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QiKTtmb3IodmFyIHQ9T2JqZWN0KGUpLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1hcmd1bWVudHNbbl07aWYobnVsbCE9cilmb3IodmFyIGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1yW2ldKX1yZXR1cm4gdH06T2JqZWN0LmFzc2lnbjt2YXIgbT15KChmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPU9iamVjdC5rZXlzKHQpLGk9MDtpPHIubGVuZ3RoOykoIW58fG4mJnZvaWQgMD09PWVbcltpXV0pJiYoZVtyW2ldXT10W3JbaV1dKSxpKys7cmV0dXJuIGV9KSwiZXh0ZW5kIiwiVXNlIGBhc3NpZ25gLiIpLGI9eSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbShlLHQsITApfSksIm1lcmdlIiwiVXNlIGBhc3NpZ25gLiIpO2Z1bmN0aW9uIF8oZSx0LG4pe3ZhciByLGk9dC5wcm90b3R5cGU7KHI9ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpKSkuY29uc3RydWN0b3I9ZSxyLl9zdXBlcj1pLG4mJnUocixuKX1mdW5jdGlvbiBPKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/ZS5hcHBseSh0JiZ0WzBdfHx2b2lkIDAsdCk6ZX1mdW5jdGlvbiB3KGUsdCl7cmV0dXJuIHZvaWQgMD09PWU/dDplfWZ1bmN0aW9uIFMoZSx0LG4pe2coVCh0KSwoZnVuY3Rpb24odCl7ZS5hZGRFdmVudExpc3RlbmVyKHQsbiwhMSl9KSl9ZnVuY3Rpb24gayhlLHQsbil7ZyhUKHQpLChmdW5jdGlvbih0KXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLCExKX0pKX1mdW5jdGlvbiBQKGUsdCl7Zm9yKDtlOyl7aWYoZT09dClyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX1yZXR1cm4hMX1mdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGUuaW5kZXhPZih0KT4tMX1mdW5jdGlvbiBUKGUpe3JldHVybiBlLnRyaW0oKS5zcGxpdCgvXHMrL2cpfWZ1bmN0aW9uIEUoZSx0LG4pe2lmKGUuaW5kZXhPZiYmIW4pcmV0dXJuIGUuaW5kZXhPZih0KTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoOyl7aWYobiYmZVtyXVtuXT09dHx8IW4mJmVbcl09PT10KXJldHVybiByO3IrK31yZXR1cm4tMX1mdW5jdGlvbiBBKGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDApfWZ1bmN0aW9uIE0oZSx0LG4pe2Zvcih2YXIgcj1bXSxpPVtdLGE9MDthPGUubGVuZ3RoOyl7dmFyIG89dD9lW2FdW3RdOmVbYV07RShpLG8pPDAmJnIucHVzaChlW2FdKSxpW2FdPW8sYSsrfXJldHVybiBuJiYocj10P3Iuc29ydCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVt0XT5uW3RdfSkpOnIuc29ydCgpKSxyfWZ1bmN0aW9uIEMoZSx0KXtmb3IodmFyIG4scixpPXRbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLGE9MDthPGMubGVuZ3RoOyl7aWYoKHI9KG49Y1thXSk/bitpOnQpaW4gZSlyZXR1cm4gcjthKyt9fXZhciBMPTE7ZnVuY3Rpb24gSShlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnR8fGU7cmV0dXJuIHQuZGVmYXVsdFZpZXd8fHQucGFyZW50V2luZG93fHxpfXZhciBSPSJvbnRvdWNoc3RhcnQiaW4gaSxEPXZvaWQgMCE9PUMoaSwiUG9pbnRlckV2ZW50IiksRj1SJiYvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxOPVsieCIsInkiXSx6PVsiY2xpZW50WCIsImNsaWVudFkiXTtmdW5jdGlvbiBCKGUsdCl7dmFyIG49dGhpczt0aGlzLm1hbmFnZXI9ZSx0aGlzLmNhbGxiYWNrPXQsdGhpcy5lbGVtZW50PWUuZWxlbWVudCx0aGlzLnRhcmdldD1lLm9wdGlvbnMuaW5wdXRUYXJnZXQsdGhpcy5kb21IYW5kbGVyPWZ1bmN0aW9uKHQpe3goZS5vcHRpb25zLmVuYWJsZSxbZV0pJiZuLmhhbmRsZXIodCl9LHRoaXMuaW5pdCgpfWZ1bmN0aW9uIFUoZSx0LG4pe3ZhciByPW4ucG9pbnRlcnMubGVuZ3RoLGk9bi5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoLGE9MSZ0JiZyLWk9PTAsbz0xMiZ0JiZyLWk9PTA7bi5pc0ZpcnN0PSEhYSxuLmlzRmluYWw9ISFvLGEmJihlLnNlc3Npb249e30pLG4uZXZlbnRUeXBlPXQsZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNlc3Npb24scj10LnBvaW50ZXJzLGk9ci5sZW5ndGg7bi5maXJzdElucHV0fHwobi5maXJzdElucHV0PVYodCkpO2k+MSYmIW4uZmlyc3RNdWx0aXBsZT9uLmZpcnN0TXVsdGlwbGU9Vih0KToxPT09aSYmKG4uZmlyc3RNdWx0aXBsZT0hMSk7dmFyIGE9bi5maXJzdElucHV0LG89bi5maXJzdE11bHRpcGxlLHM9bz9vLmNlbnRlcjphLmNlbnRlcix1PXQuY2VudGVyPUcocik7dC50aW1lU3RhbXA9ZCgpLHQuZGVsdGFUaW1lPXQudGltZVN0YW1wLWEudGltZVN0YW1wLHQuYW5nbGU9WChzLHUpLHQuZGlzdGFuY2U9cShzLHUpLGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5jZW50ZXIscj1lLm9mZnNldERlbHRhfHx7fSxpPWUucHJldkRlbHRhfHx7fSxhPWUucHJldklucHV0fHx7fTsxIT09dC5ldmVudFR5cGUmJjQhPT1hLmV2ZW50VHlwZXx8KGk9ZS5wcmV2RGVsdGE9e3g6YS5kZWx0YVh8fDAseTphLmRlbHRhWXx8MH0scj1lLm9mZnNldERlbHRhPXt4Om4ueCx5Om4ueX0pO3QuZGVsdGFYPWkueCsobi54LXIueCksdC5kZWx0YVk9aS55KyhuLnktci55KX0obix0KSx0Lm9mZnNldERpcmVjdGlvbj1IKHQuZGVsdGFYLHQuZGVsdGFZKTt2YXIgYz1XKHQuZGVsdGFUaW1lLHQuZGVsdGFYLHQuZGVsdGFZKTt0Lm92ZXJhbGxWZWxvY2l0eVg9Yy54LHQub3ZlcmFsbFZlbG9jaXR5WT1jLnksdC5vdmVyYWxsVmVsb2NpdHk9ZihjLngpPmYoYy55KT9jLng6Yy55LHQuc2NhbGU9bz8obD1vLnBvaW50ZXJzLGg9cixxKGhbMF0saFsxXSx6KS9xKGxbMF0sbFsxXSx6KSk6MSx0LnJvdGF0aW9uPW8/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWCh0WzFdLHRbMF0seikrWChlWzFdLGVbMF0seil9KG8ucG9pbnRlcnMscik6MCx0Lm1heFBvaW50ZXJzPW4ucHJldklucHV0P3QucG9pbnRlcnMubGVuZ3RoPm4ucHJldklucHV0Lm1heFBvaW50ZXJzP3QucG9pbnRlcnMubGVuZ3RoOm4ucHJldklucHV0Lm1heFBvaW50ZXJzOnQucG9pbnRlcnMubGVuZ3RoLGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLGEsbz1lLmxhc3RJbnRlcnZhbHx8dCxzPXQudGltZVN0YW1wLW8udGltZVN0YW1wO2lmKDghPXQuZXZlbnRUeXBlJiYocz4yNXx8dm9pZCAwPT09by52ZWxvY2l0eSkpe3ZhciB1PXQuZGVsdGFYLW8uZGVsdGFYLGM9dC5kZWx0YVktby5kZWx0YVksbD1XKHMsdSxjKTtyPWwueCxpPWwueSxuPWYobC54KT5mKGwueSk/bC54OmwueSxhPUgodSxjKSxlLmxhc3RJbnRlcnZhbD10fWVsc2Ugbj1vLnZlbG9jaXR5LHI9by52ZWxvY2l0eVgsaT1vLnZlbG9jaXR5WSxhPW8uZGlyZWN0aW9uO3QudmVsb2NpdHk9bix0LnZlbG9jaXR5WD1yLHQudmVsb2NpdHlZPWksdC5kaXJlY3Rpb249YX0obix0KTt2YXIgbCxoO3ZhciB2PWUuZWxlbWVudDtQKHQuc3JjRXZlbnQudGFyZ2V0LHYpJiYodj10LnNyY0V2ZW50LnRhcmdldCk7dC50YXJnZXQ9dn0oZSxuKSxlLmVtaXQoImhhbW1lci5pbnB1dCIsbiksZS5yZWNvZ25pemUobiksZS5zZXNzaW9uLnByZXZJbnB1dD1ufWZ1bmN0aW9uIFYoZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUucG9pbnRlcnMubGVuZ3RoOyl0W25dPXtjbGllbnRYOmgoZS5wb2ludGVyc1tuXS5jbGllbnRYKSxjbGllbnRZOmgoZS5wb2ludGVyc1tuXS5jbGllbnRZKX0sbisrO3JldHVybnt0aW1lU3RhbXA6ZCgpLHBvaW50ZXJzOnQsY2VudGVyOkcodCksZGVsdGFYOmUuZGVsdGFYLGRlbHRhWTplLmRlbHRhWX19ZnVuY3Rpb24gRyhlKXt2YXIgdD1lLmxlbmd0aDtpZigxPT09dClyZXR1cm57eDpoKGVbMF0uY2xpZW50WCkseTpoKGVbMF0uY2xpZW50WSl9O2Zvcih2YXIgbj0wLHI9MCxpPTA7aTx0OyluKz1lW2ldLmNsaWVudFgscis9ZVtpXS5jbGllbnRZLGkrKztyZXR1cm57eDpoKG4vdCkseTpoKHIvdCl9fWZ1bmN0aW9uIFcoZSx0LG4pe3JldHVybnt4OnQvZXx8MCx5Om4vZXx8MH19ZnVuY3Rpb24gSChlLHQpe3JldHVybiBlPT09dD8xOmYoZSk+PWYodCk/ZTwwPzI6NDp0PDA/ODoxNn1mdW5jdGlvbiBxKGUsdCxuKXtufHwobj1OKTt2YXIgcj10W25bMF1dLWVbblswXV0saT10W25bMV1dLWVbblsxXV07cmV0dXJuIE1hdGguc3FydChyKnIraSppKX1mdW5jdGlvbiBYKGUsdCxuKXtufHwobj1OKTt2YXIgcj10W25bMF1dLWVbblswXV0saT10W25bMV1dLWVbblsxXV07cmV0dXJuIDE4MCpNYXRoLmF0YW4yKGkscikvTWF0aC5QSX1CLnByb3RvdHlwZT17aGFuZGxlcjpmdW5jdGlvbigpe30saW5pdDpmdW5jdGlvbigpe3RoaXMuZXZFbCYmUyh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYmUyh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmUyhJKHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ldkVsJiZrKHRoaXMuZWxlbWVudCx0aGlzLmV2RWwsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2VGFyZ2V0JiZrKHRoaXMudGFyZ2V0LHRoaXMuZXZUYXJnZXQsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2V2luJiZrKEkodGhpcy5lbGVtZW50KSx0aGlzLmV2V2luLHRoaXMuZG9tSGFuZGxlcil9fTt2YXIgWj17bW91c2Vkb3duOjEsbW91c2Vtb3ZlOjIsbW91c2V1cDo0fTtmdW5jdGlvbiBZKCl7dGhpcy5ldkVsPSJtb3VzZWRvd24iLHRoaXMuZXZXaW49Im1vdXNlbW92ZSBtb3VzZXVwIix0aGlzLnByZXNzZWQ9ITEsQi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9XyhZLEIse2hhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9WltlLnR5cGVdOzEmdCYmMD09PWUuYnV0dG9uJiYodGhpcy5wcmVzc2VkPSEwKSwyJnQmJjEhPT1lLndoaWNoJiYodD00KSx0aGlzLnByZXNzZWQmJig0JnQmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLHQse3BvaW50ZXJzOltlXSxjaGFuZ2VkUG9pbnRlcnM6W2VdLHBvaW50ZXJUeXBlOiJtb3VzZSIsc3JjRXZlbnQ6ZX0pKX19KTt2YXIgSz17cG9pbnRlcmRvd246MSxwb2ludGVybW92ZToyLHBvaW50ZXJ1cDo0LHBvaW50ZXJjYW5jZWw6OCxwb2ludGVyb3V0Ojh9LFE9ezI6InRvdWNoIiwzOiJwZW4iLDQ6Im1vdXNlIiw1OiJraW5lY3QifSxKPSJwb2ludGVyZG93biIsJD0icG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwiO2Z1bmN0aW9uIGVlKCl7dGhpcy5ldkVsPUosdGhpcy5ldldpbj0kLEIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3RvcmU9dGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cz1bXX1pLk1TUG9pbnRlckV2ZW50JiYhaS5Qb2ludGVyRXZlbnQmJihKPSJNU1BvaW50ZXJEb3duIiwkPSJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCIpLF8oZWUsQix7aGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0b3JlLG49ITEscj1lLnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCJtcyIsIiIpLGk9S1tyXSxhPVFbZS5wb2ludGVyVHlwZV18fGUucG9pbnRlclR5cGUsbz0idG91Y2giPT1hLHM9RSh0LGUucG9pbnRlcklkLCJwb2ludGVySWQiKTsxJmkmJigwPT09ZS5idXR0b258fG8pP3M8MCYmKHQucHVzaChlKSxzPXQubGVuZ3RoLTEpOjEyJmkmJihuPSEwKSxzPDB8fCh0W3NdPWUsdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsaSx7cG9pbnRlcnM6dCxjaGFuZ2VkUG9pbnRlcnM6W2VdLHBvaW50ZXJUeXBlOmEsc3JjRXZlbnQ6ZX0pLG4mJnQuc3BsaWNlKHMsMSkpfX0pO3ZhciB0ZT17dG91Y2hzdGFydDoxLHRvdWNobW92ZToyLHRvdWNoZW5kOjQsdG91Y2hjYW5jZWw6OH07ZnVuY3Rpb24gbmUoKXt0aGlzLmV2VGFyZ2V0PSJ0b3VjaHN0YXJ0Iix0aGlzLmV2V2luPSJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsdGhpcy5zdGFydGVkPSExLEIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHJlKGUsdCl7dmFyIG49QShlLnRvdWNoZXMpLHI9QShlLmNoYW5nZWRUb3VjaGVzKTtyZXR1cm4gMTImdCYmKG49TShuLmNvbmNhdChyKSwiaWRlbnRpZmllciIsITApKSxbbixyXX1fKG5lLEIse2hhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGVbZS50eXBlXTtpZigxPT09dCYmKHRoaXMuc3RhcnRlZD0hMCksdGhpcy5zdGFydGVkKXt2YXIgbj1yZS5jYWxsKHRoaXMsZSx0KTsxMiZ0JiZuWzBdLmxlbmd0aC1uWzFdLmxlbmd0aD09MCYmKHRoaXMuc3RhcnRlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsdCx7cG9pbnRlcnM6blswXSxjaGFuZ2VkUG9pbnRlcnM6blsxXSxwb2ludGVyVHlwZToidG91Y2giLHNyY0V2ZW50OmV9KX19fSk7dmFyIGllPXt0b3VjaHN0YXJ0OjEsdG91Y2htb3ZlOjIsdG91Y2hlbmQ6NCx0b3VjaGNhbmNlbDo4fTtmdW5jdGlvbiBhZSgpe3RoaXMuZXZUYXJnZXQ9InRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsIix0aGlzLnRhcmdldElkcz17fSxCLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBvZShlLHQpe3ZhciBuPUEoZS50b3VjaGVzKSxyPXRoaXMudGFyZ2V0SWRzO2lmKDMmdCYmMT09PW4ubGVuZ3RoKXJldHVybiByW25bMF0uaWRlbnRpZmllcl09ITAsW24sbl07dmFyIGksYSxvPUEoZS5jaGFuZ2VkVG91Y2hlcykscz1bXSx1PXRoaXMudGFyZ2V0O2lmKGE9bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBQKGUudGFyZ2V0LHUpfSkpLDE9PT10KWZvcihpPTA7aTxhLmxlbmd0aDspclthW2ldLmlkZW50aWZpZXJdPSEwLGkrKztmb3IoaT0wO2k8by5sZW5ndGg7KXJbb1tpXS5pZGVudGlmaWVyXSYmcy5wdXNoKG9baV0pLDEyJnQmJmRlbGV0ZSByW29baV0uaWRlbnRpZmllcl0saSsrO3JldHVybiBzLmxlbmd0aD9bTShhLmNvbmNhdChzKSwiaWRlbnRpZmllciIsITApLHNdOnZvaWQgMH1fKGFlLEIse2hhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9aWVbZS50eXBlXSxuPW9lLmNhbGwodGhpcyxlLHQpO24mJnRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLHQse3BvaW50ZXJzOm5bMF0sY2hhbmdlZFBvaW50ZXJzOm5bMV0scG9pbnRlclR5cGU6InRvdWNoIixzcmNFdmVudDplfSl9fSk7ZnVuY3Rpb24gc2UoKXtCLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1PKHRoaXMuaGFuZGxlcix0aGlzKTt0aGlzLnRvdWNoPW5ldyBhZSh0aGlzLm1hbmFnZXIsZSksdGhpcy5tb3VzZT1uZXcgWSh0aGlzLm1hbmFnZXIsZSksdGhpcy5wcmltYXJ5VG91Y2g9bnVsbCx0aGlzLmxhc3RUb3VjaGVzPVtdfWZ1bmN0aW9uIHVlKGUsdCl7MSZlPyh0aGlzLnByaW1hcnlUb3VjaD10LmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyLGNlLmNhbGwodGhpcyx0KSk6MTImZSYmY2UuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIGNlKGUpe3ZhciB0PWUuY2hhbmdlZFBvaW50ZXJzWzBdO2lmKHQuaWRlbnRpZmllcj09PXRoaXMucHJpbWFyeVRvdWNoKXt2YXIgbj17eDp0LmNsaWVudFgseTp0LmNsaWVudFl9O3RoaXMubGFzdFRvdWNoZXMucHVzaChuKTt2YXIgcj10aGlzLmxhc3RUb3VjaGVzO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9ci5pbmRleE9mKG4pO2U+LTEmJnIuc3BsaWNlKGUsMSl9KSwyNTAwKX19ZnVuY3Rpb24gbGUoZSl7Zm9yKHZhciB0PWUuc3JjRXZlbnQuY2xpZW50WCxuPWUuc3JjRXZlbnQuY2xpZW50WSxyPTA7cjx0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMubGFzdFRvdWNoZXNbcl0sYT1NYXRoLmFicyh0LWkueCksbz1NYXRoLmFicyhuLWkueSk7aWYoYTw9MjUmJm88PTI1KXJldHVybiEwfXJldHVybiExfV8oc2UsQix7aGFuZGxlcjpmdW5jdGlvbihlLHQsbil7dmFyIHI9InRvdWNoIj09bi5wb2ludGVyVHlwZSxpPSJtb3VzZSI9PW4ucG9pbnRlclR5cGU7aWYoIShpJiZuLnNvdXJjZUNhcGFiaWxpdGllcyYmbi5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykpe2lmKHIpdWUuY2FsbCh0aGlzLHQsbik7ZWxzZSBpZihpJiZsZS5jYWxsKHRoaXMsbikpcmV0dXJuO3RoaXMuY2FsbGJhY2soZSx0LG4pfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudG91Y2guZGVzdHJveSgpLHRoaXMubW91c2UuZGVzdHJveSgpfX0pO3ZhciBoZT1DKGwuc3R5bGUsInRvdWNoQWN0aW9uIiksZmU9dm9pZCAwIT09aGUsZGU9ZnVuY3Rpb24oKXtpZighZmUpcmV0dXJuITE7dmFyIGU9e30sdD1pLkNTUyYmaS5DU1Muc3VwcG9ydHM7cmV0dXJuWyJhdXRvIiwibWFuaXB1bGF0aW9uIiwicGFuLXkiLCJwYW4teCIsInBhbi14IHBhbi15Iiwibm9uZSJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09IXR8fGkuQ1NTLnN1cHBvcnRzKCJ0b3VjaC1hY3Rpb24iLG4pfSkpLGV9KCk7ZnVuY3Rpb24gdmUoZSx0KXt0aGlzLm1hbmFnZXI9ZSx0aGlzLnNldCh0KX12ZS5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihlKXsiY29tcHV0ZSI9PWUmJihlPXRoaXMuY29tcHV0ZSgpKSxmZSYmdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUmJmRlW2VdJiYodGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbaGVdPWUpLHRoaXMuYWN0aW9ucz1lLnRvTG93ZXJDYXNlKCkudHJpbSgpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbil9LGNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZyh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsKGZ1bmN0aW9uKHQpe3godC5vcHRpb25zLmVuYWJsZSxbdF0pJiYoZT1lLmNvbmNhdCh0LmdldFRvdWNoQWN0aW9uKCkpKX0pKSxmdW5jdGlvbihlKXtpZihqKGUsIm5vbmUiKSlyZXR1cm4ibm9uZSI7dmFyIHQ9aihlLCJwYW4teCIpLG49aihlLCJwYW4teSIpO2lmKHQmJm4pcmV0dXJuIm5vbmUiO2lmKHR8fG4pcmV0dXJuIHQ/InBhbi14IjoicGFuLXkiO2lmKGooZSwibWFuaXB1bGF0aW9uIikpcmV0dXJuIm1hbmlwdWxhdGlvbiI7cmV0dXJuImF1dG8ifShlLmpvaW4oIiAiKSl9LHByZXZlbnREZWZhdWx0czpmdW5jdGlvbihlKXt2YXIgdD1lLnNyY0V2ZW50LG49ZS5vZmZzZXREaXJlY3Rpb247aWYodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKXQucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciByPXRoaXMuYWN0aW9ucyxpPWoociwibm9uZSIpJiYhZGUubm9uZSxhPWoociwicGFuLXkiKSYmIWRlWyJwYW4teSJdLG89aihyLCJwYW4teCIpJiYhZGVbInBhbi14Il07aWYoaSl7dmFyIHM9MT09PWUucG9pbnRlcnMubGVuZ3RoLHU9ZS5kaXN0YW5jZTwyLGM9ZS5kZWx0YVRpbWU8MjUwO2lmKHMmJnUmJmMpcmV0dXJufWlmKCFvfHwhYSlyZXR1cm4gaXx8YSYmNiZufHxvJiYyNCZuP3RoaXMucHJldmVudFNyYyh0KTp2b2lkIDB9fSxwcmV2ZW50U3JjOmZ1bmN0aW9uKGUpe3RoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZD0hMCxlLnByZXZlbnREZWZhdWx0KCl9fTtmdW5jdGlvbiBwZShlKXt0aGlzLm9wdGlvbnM9dSh7fSx0aGlzLmRlZmF1bHRzLGV8fHt9KSx0aGlzLmlkPUwrKyx0aGlzLm1hbmFnZXI9bnVsbCx0aGlzLm9wdGlvbnMuZW5hYmxlPXcodGhpcy5vcHRpb25zLmVuYWJsZSwhMCksdGhpcy5zdGF0ZT0xLHRoaXMuc2ltdWx0YW5lb3VzPXt9LHRoaXMucmVxdWlyZUZhaWw9W119ZnVuY3Rpb24gZ2UoZSl7cmV0dXJuIDE2JmU/ImNhbmNlbCI6OCZlPyJlbmQiOjQmZT8ibW92ZSI6MiZlPyJzdGFydCI6IiJ9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIDE2PT1lPyJkb3duIjo4PT1lPyJ1cCI6Mj09ZT8ibGVmdCI6ND09ZT8icmlnaHQiOiIifWZ1bmN0aW9uIG1lKGUsdCl7dmFyIG49dC5tYW5hZ2VyO3JldHVybiBuP24uZ2V0KGUpOmV9ZnVuY3Rpb24gYmUoKXtwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gX2UoKXtiZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wWD1udWxsLHRoaXMucFk9bnVsbH1mdW5jdGlvbiBPZSgpe2JlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB4ZSgpe3BlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl90aW1lcj1udWxsLHRoaXMuX2lucHV0PW51bGx9ZnVuY3Rpb24gd2UoKXtiZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gU2UoKXtiZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24ga2UoKXtwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wVGltZT0hMSx0aGlzLnBDZW50ZXI9ITEsdGhpcy5fdGltZXI9bnVsbCx0aGlzLl9pbnB1dD1udWxsLHRoaXMuY291bnQ9MH1mdW5jdGlvbiBQZShlLHQpe3JldHVybih0PXR8fHt9KS5yZWNvZ25pemVycz13KHQucmVjb2duaXplcnMsUGUuZGVmYXVsdHMucHJlc2V0KSxuZXcgamUoZSx0KX1wZS5wcm90b3R5cGU9e2RlZmF1bHRzOnt9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLm9wdGlvbnMsZSksdGhpcy5tYW5hZ2VyJiZ0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCksdGhpc30scmVjb2duaXplV2l0aDpmdW5jdGlvbihlKXtpZihwKGUsInJlY29nbml6ZVdpdGgiLHRoaXMpKXJldHVybiB0aGlzO3ZhciB0PXRoaXMuc2ltdWx0YW5lb3VzO3JldHVybiB0WyhlPW1lKGUsdGhpcykpLmlkXXx8KHRbZS5pZF09ZSxlLnJlY29nbml6ZVdpdGgodGhpcykpLHRoaXN9LGRyb3BSZWNvZ25pemVXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiBwKGUsImRyb3BSZWNvZ25pemVXaXRoIix0aGlzKT90aGlzOihlPW1lKGUsdGhpcyksZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW2UuaWRdLHRoaXMpfSxyZXF1aXJlRmFpbHVyZTpmdW5jdGlvbihlKXtpZihwKGUsInJlcXVpcmVGYWlsdXJlIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgdD10aGlzLnJlcXVpcmVGYWlsO3JldHVybi0xPT09RSh0LGU9bWUoZSx0aGlzKSkmJih0LnB1c2goZSksZS5yZXF1aXJlRmFpbHVyZSh0aGlzKSksdGhpc30sZHJvcFJlcXVpcmVGYWlsdXJlOmZ1bmN0aW9uKGUpe2lmKHAoZSwiZHJvcFJlcXVpcmVGYWlsdXJlIix0aGlzKSlyZXR1cm4gdGhpcztlPW1lKGUsdGhpcyk7dmFyIHQ9RSh0aGlzLnJlcXVpcmVGYWlsLGUpO3JldHVybiB0Pi0xJiZ0aGlzLnJlcXVpcmVGYWlsLnNwbGljZSh0LDEpLHRoaXN9LGhhc1JlcXVpcmVGYWlsdXJlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aD4wfSxjYW5SZWNvZ25pemVXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy5zaW11bHRhbmVvdXNbZS5pZF19LGVtaXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMuc3RhdGU7ZnVuY3Rpb24gcihuKXt0Lm1hbmFnZXIuZW1pdChuLGUpfW48OCYmcih0Lm9wdGlvbnMuZXZlbnQrZ2UobikpLHIodC5vcHRpb25zLmV2ZW50KSxlLmFkZGl0aW9uYWxFdmVudCYmcihlLmFkZGl0aW9uYWxFdmVudCksbj49OCYmcih0Lm9wdGlvbnMuZXZlbnQrZ2UobikpfSx0cnlFbWl0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuY2FuRW1pdCgpKXJldHVybiB0aGlzLmVtaXQoZSk7dGhpcy5zdGF0ZT0zMn0sY2FuRW1pdDpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5yZXF1aXJlRmFpbC5sZW5ndGg7KXtpZighKDMzJnRoaXMucmVxdWlyZUZhaWxbZV0uc3RhdGUpKXJldHVybiExO2UrK31yZXR1cm4hMH0scmVjb2duaXplOmZ1bmN0aW9uKGUpe3ZhciB0PXUoe30sZSk7aWYoIXgodGhpcy5vcHRpb25zLmVuYWJsZSxbdGhpcyx0XSkpcmV0dXJuIHRoaXMucmVzZXQoKSx2b2lkKHRoaXMuc3RhdGU9MzIpOzU2JnRoaXMuc3RhdGUmJih0aGlzLnN0YXRlPTEpLHRoaXMuc3RhdGU9dGhpcy5wcm9jZXNzKHQpLDMwJnRoaXMuc3RhdGUmJnRoaXMudHJ5RW1pdCh0KX0scHJvY2VzczpmdW5jdGlvbihlKXt9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7fSxyZXNldDpmdW5jdGlvbigpe319LF8oYmUscGUse2RlZmF1bHRzOntwb2ludGVyczoxfSxhdHRyVGVzdDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMucG9pbnRlcnM7cmV0dXJuIDA9PT10fHxlLnBvaW50ZXJzLmxlbmd0aD09PXR9LHByb2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZSxuPWUuZXZlbnRUeXBlLHI9NiZ0LGk9dGhpcy5hdHRyVGVzdChlKTtyZXR1cm4gciYmKDgmbnx8IWkpPzE2fHQ6cnx8aT80Jm4/OHx0OjImdD80fHQ6MjozMn19KSxfKF9lLGJlLHtkZWZhdWx0czp7ZXZlbnQ6InBhbiIsdGhyZXNob2xkOjEwLHBvaW50ZXJzOjEsZGlyZWN0aW9uOjMwfSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5kaXJlY3Rpb24sdD1bXTtyZXR1cm4gNiZlJiZ0LnB1c2goInBhbi15IiksMjQmZSYmdC5wdXNoKCJwYW4teCIpLHR9LGRpcmVjdGlvblRlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLG49ITAscj1lLmRpc3RhbmNlLGk9ZS5kaXJlY3Rpb24sYT1lLmRlbHRhWCxvPWUuZGVsdGFZO3JldHVybiBpJnQuZGlyZWN0aW9ufHwoNiZ0LmRpcmVjdGlvbj8oaT0wPT09YT8xOmE8MD8yOjQsbj1hIT10aGlzLnBYLHI9TWF0aC5hYnMoZS5kZWx0YVgpKTooaT0wPT09bz8xOm88MD84OjE2LG49byE9dGhpcy5wWSxyPU1hdGguYWJzKGUuZGVsdGFZKSkpLGUuZGlyZWN0aW9uPWksbiYmcj50LnRocmVzaG9sZCYmaSZ0LmRpcmVjdGlvbn0sYXR0clRlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGJlLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsZSkmJigyJnRoaXMuc3RhdGV8fCEoMiZ0aGlzLnN0YXRlKSYmdGhpcy5kaXJlY3Rpb25UZXN0KGUpKX0sZW1pdDpmdW5jdGlvbihlKXt0aGlzLnBYPWUuZGVsdGFYLHRoaXMucFk9ZS5kZWx0YVk7dmFyIHQ9eWUoZS5kaXJlY3Rpb24pO3QmJihlLmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQrdCksdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsZSl9fSksXyhPZSxiZSx7ZGVmYXVsdHM6e2V2ZW50OiJwaW5jaCIsdGhyZXNob2xkOjAscG9pbnRlcnM6Mn0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bIm5vbmUiXX0sYXR0clRlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyxlKSYmKE1hdGguYWJzKGUuc2NhbGUtMSk+dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8MiZ0aGlzLnN0YXRlKX0sZW1pdDpmdW5jdGlvbihlKXtpZigxIT09ZS5zY2FsZSl7dmFyIHQ9ZS5zY2FsZTwxPyJpbiI6Im91dCI7ZS5hZGRpdGlvbmFsRXZlbnQ9dGhpcy5vcHRpb25zLmV2ZW50K3R9dGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsZSl9fSksXyh4ZSxwZSx7ZGVmYXVsdHM6e2V2ZW50OiJwcmVzcyIscG9pbnRlcnM6MSx0aW1lOjI1MSx0aHJlc2hvbGQ6OX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bImF1dG8iXX0scHJvY2VzczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMsbj1lLnBvaW50ZXJzLmxlbmd0aD09PXQucG9pbnRlcnMscj1lLmRpc3RhbmNlPHQudGhyZXNob2xkLGk9ZS5kZWx0YVRpbWU+dC50aW1lO2lmKHRoaXMuX2lucHV0PWUsIXJ8fCFufHwxMiZlLmV2ZW50VHlwZSYmIWkpdGhpcy5yZXNldCgpO2Vsc2UgaWYoMSZlLmV2ZW50VHlwZSl0aGlzLnJlc2V0KCksdGhpcy5fdGltZXI9digoZnVuY3Rpb24oKXt0aGlzLnN0YXRlPTgsdGhpcy50cnlFbWl0KCl9KSx0LnRpbWUsdGhpcyk7ZWxzZSBpZig0JmUuZXZlbnRUeXBlKXJldHVybiA4O3JldHVybiAzMn0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKGUpezg9PT10aGlzLnN0YXRlJiYoZSYmNCZlLmV2ZW50VHlwZT90aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQrInVwIixlKToodGhpcy5faW5wdXQudGltZVN0YW1wPWQoKSx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsdGhpcy5faW5wdXQpKSl9fSksXyh3ZSxiZSx7ZGVmYXVsdHM6e2V2ZW50OiJyb3RhdGUiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuWyJub25lIl19LGF0dHJUZXN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsZSkmJihNYXRoLmFicyhlLnJvdGF0aW9uKT50aGlzLm9wdGlvbnMudGhyZXNob2xkfHwyJnRoaXMuc3RhdGUpfX0pLF8oU2UsYmUse2RlZmF1bHRzOntldmVudDoic3dpcGUiLHRocmVzaG9sZDoxMCx2ZWxvY2l0eTouMyxkaXJlY3Rpb246MzAscG9pbnRlcnM6MX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gX2UucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyl9LGF0dHJUZXN0OmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gMzAmbj90PWUub3ZlcmFsbFZlbG9jaXR5OjYmbj90PWUub3ZlcmFsbFZlbG9jaXR5WDoyNCZuJiYodD1lLm92ZXJhbGxWZWxvY2l0eVkpLHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyxlKSYmbiZlLm9mZnNldERpcmVjdGlvbiYmZS5kaXN0YW5jZT50aGlzLm9wdGlvbnMudGhyZXNob2xkJiZlLm1heFBvaW50ZXJzPT10aGlzLm9wdGlvbnMucG9pbnRlcnMmJmYodCk+dGhpcy5vcHRpb25zLnZlbG9jaXR5JiY0JmUuZXZlbnRUeXBlfSxlbWl0OmZ1bmN0aW9uKGUpe3ZhciB0PXllKGUub2Zmc2V0RGlyZWN0aW9uKTt0JiZ0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQrdCxlKSx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsZSl9fSksXyhrZSxwZSx7ZGVmYXVsdHM6e2V2ZW50OiJ0YXAiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6OSxwb3NUaHJlc2hvbGQ6MTB9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuWyJtYW5pcHVsYXRpb24iXX0scHJvY2VzczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMsbj1lLnBvaW50ZXJzLmxlbmd0aD09PXQucG9pbnRlcnMscj1lLmRpc3RhbmNlPHQudGhyZXNob2xkLGk9ZS5kZWx0YVRpbWU8dC50aW1lO2lmKHRoaXMucmVzZXQoKSwxJmUuZXZlbnRUeXBlJiYwPT09dGhpcy5jb3VudClyZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO2lmKHImJmkmJm4pe2lmKDQhPWUuZXZlbnRUeXBlKXJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7dmFyIGE9IXRoaXMucFRpbWV8fGUudGltZVN0YW1wLXRoaXMucFRpbWU8dC5pbnRlcnZhbCxvPSF0aGlzLnBDZW50ZXJ8fHEodGhpcy5wQ2VudGVyLGUuY2VudGVyKTx0LnBvc1RocmVzaG9sZDtpZih0aGlzLnBUaW1lPWUudGltZVN0YW1wLHRoaXMucENlbnRlcj1lLmNlbnRlcixvJiZhP3RoaXMuY291bnQrPTE6dGhpcy5jb3VudD0xLHRoaXMuX2lucHV0PWUsMD09PXRoaXMuY291bnQldC50YXBzKXJldHVybiB0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpPyh0aGlzLl90aW1lcj12KChmdW5jdGlvbigpe3RoaXMuc3RhdGU9OCx0aGlzLnRyeUVtaXQoKX0pLHQuaW50ZXJ2YWwsdGhpcyksMik6OH1yZXR1cm4gMzJ9LGZhaWxUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVyPXYoKGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT0zMn0pLHRoaXMub3B0aW9ucy5pbnRlcnZhbCx0aGlzKSwzMn0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKCl7OD09dGhpcy5zdGF0ZSYmKHRoaXMuX2lucHV0LnRhcENvdW50PXRoaXMuY291bnQsdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSl9fSksUGUuVkVSU0lPTj0iMi4wLjciLFBlLmRlZmF1bHRzPXtkb21FdmVudHM6ITEsdG91Y2hBY3Rpb246ImNvbXB1dGUiLGVuYWJsZTohMCxpbnB1dFRhcmdldDpudWxsLGlucHV0Q2xhc3M6bnVsbCxwcmVzZXQ6W1t3ZSx7ZW5hYmxlOiExfV0sW09lLHtlbmFibGU6ITF9LFsicm90YXRlIl1dLFtTZSx7ZGlyZWN0aW9uOjZ9XSxbX2Use2RpcmVjdGlvbjo2fSxbInN3aXBlIl1dLFtrZV0sW2tlLHtldmVudDoiZG91YmxldGFwIix0YXBzOjJ9LFsidGFwIl1dLFt4ZV1dLGNzc1Byb3BzOnt1c2VyU2VsZWN0OiJub25lIix0b3VjaFNlbGVjdDoibm9uZSIsdG91Y2hDYWxsb3V0OiJub25lIixjb250ZW50Wm9vbWluZzoibm9uZSIsdXNlckRyYWc6Im5vbmUiLHRhcEhpZ2hsaWdodENvbG9yOiJyZ2JhKDAsMCwwLDApIn19O2Z1bmN0aW9uIGplKGUsdCl7dmFyIG47dGhpcy5vcHRpb25zPXUoe30sUGUuZGVmYXVsdHMsdHx8e30pLHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldD10aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXR8fGUsdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5yZWNvZ25pemVycz1bXSx0aGlzLm9sZENzc1Byb3BzPXt9LHRoaXMuZWxlbWVudD1lLHRoaXMuaW5wdXQ9bmV3KChuPXRoaXMpLm9wdGlvbnMuaW5wdXRDbGFzc3x8KEQ/ZWU6Rj9hZTpSP3NlOlkpKShuLFUpLHRoaXMudG91Y2hBY3Rpb249bmV3IHZlKHRoaXMsdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKSxUZSh0aGlzLCEwKSxnKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywoZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5hZGQobmV3IGVbMF0oZVsxXSkpO2VbMl0mJnQucmVjb2duaXplV2l0aChlWzJdKSxlWzNdJiZ0LnJlcXVpcmVGYWlsdXJlKGVbM10pfSksdGhpcyl9ZnVuY3Rpb24gVGUoZSx0KXt2YXIgbixyPWUuZWxlbWVudDtyLnN0eWxlJiYoZyhlLm9wdGlvbnMuY3NzUHJvcHMsKGZ1bmN0aW9uKGksYSl7bj1DKHIuc3R5bGUsYSksdD8oZS5vbGRDc3NQcm9wc1tuXT1yLnN0eWxlW25dLHIuc3R5bGVbbl09aSk6ci5zdHlsZVtuXT1lLm9sZENzc1Byb3BzW25dfHwiIn0pKSx0fHwoZS5vbGRDc3NQcm9wcz17fSkpfWplLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMub3B0aW9ucyxlKSxlLnRvdWNoQWN0aW9uJiZ0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLGUuaW5wdXRUYXJnZXQmJih0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmlucHV0LnRhcmdldD1lLmlucHV0VGFyZ2V0LHRoaXMuaW5wdXQuaW5pdCgpKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKGUpe3RoaXMuc2Vzc2lvbi5zdG9wcGVkPWU/MjoxfSxyZWNvZ25pemU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZXNzaW9uO2lmKCF0LnN0b3BwZWQpe3ZhciBuO3RoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGUpO3ZhciByPXRoaXMucmVjb2duaXplcnMsaT10LmN1clJlY29nbml6ZXI7KCFpfHxpJiY4Jmkuc3RhdGUpJiYoaT10LmN1clJlY29nbml6ZXI9bnVsbCk7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDspbj1yW2FdLDI9PT10LnN0b3BwZWR8fGkmJm4hPWkmJiFuLmNhblJlY29nbml6ZVdpdGgoaSk/bi5yZXNldCgpOm4ucmVjb2duaXplKGUpLCFpJiYxNCZuLnN0YXRlJiYoaT10LmN1clJlY29nbml6ZXI9biksYSsrfX0sZ2V0OmZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwZSlyZXR1cm4gZTtmb3IodmFyIHQ9dGhpcy5yZWNvZ25pemVycyxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXS5vcHRpb25zLmV2ZW50PT1lKXJldHVybiB0W25dO3JldHVybiBudWxsfSxhZGQ6ZnVuY3Rpb24oZSl7aWYocChlLCJhZGQiLHRoaXMpKXJldHVybiB0aGlzO3ZhciB0PXRoaXMuZ2V0KGUub3B0aW9ucy5ldmVudCk7cmV0dXJuIHQmJnRoaXMucmVtb3ZlKHQpLHRoaXMucmVjb2duaXplcnMucHVzaChlKSxlLm1hbmFnZXI9dGhpcyx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLGV9LHJlbW92ZTpmdW5jdGlvbihlKXtpZihwKGUsInJlbW92ZSIsdGhpcykpcmV0dXJuIHRoaXM7aWYoZT10aGlzLmdldChlKSl7dmFyIHQ9dGhpcy5yZWNvZ25pemVycyxuPUUodCxlKTstMSE9PW4mJih0LnNwbGljZShuLDEpLHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCkpfXJldHVybiB0aGlzfSxvbjpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWUmJnZvaWQgMCE9PXQpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGcoVChlKSwoZnVuY3Rpb24oZSl7bltlXT1uW2VdfHxbXSxuW2VdLnB1c2godCl9KSksdGhpc319LG9mZjpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWUpe3ZhciBuPXRoaXMuaGFuZGxlcnM7cmV0dXJuIGcoVChlKSwoZnVuY3Rpb24oZSl7dD9uW2VdJiZuW2VdLnNwbGljZShFKG5bZV0sdCksMSk6ZGVsZXRlIG5bZV19KSksdGhpc319LGVtaXQ6ZnVuY3Rpb24oZSx0KXt0aGlzLm9wdGlvbnMuZG9tRXZlbnRzJiZmdW5jdGlvbihlLHQpe3ZhciBuPWEuY3JlYXRlRXZlbnQoIkV2ZW50Iik7bi5pbml0RXZlbnQoZSwhMCwhMCksbi5nZXN0dXJlPXQsdC50YXJnZXQuZGlzcGF0Y2hFdmVudChuKX0oZSx0KTt2YXIgbj10aGlzLmhhbmRsZXJzW2VdJiZ0aGlzLmhhbmRsZXJzW2VdLnNsaWNlKCk7aWYobiYmbi5sZW5ndGgpe3QudHlwZT1lLHQucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0LnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCl9O2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7KW5bcl0odCkscisrfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmVGUodGhpcywhMSksdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5lbGVtZW50PW51bGx9fSx1KFBlLHtJTlBVVF9TVEFSVDoxLElOUFVUX01PVkU6MixJTlBVVF9FTkQ6NCxJTlBVVF9DQU5DRUw6OCxTVEFURV9QT1NTSUJMRToxLFNUQVRFX0JFR0FOOjIsU1RBVEVfQ0hBTkdFRDo0LFNUQVRFX0VOREVEOjgsU1RBVEVfUkVDT0dOSVpFRDo4LFNUQVRFX0NBTkNFTExFRDoxNixTVEFURV9GQUlMRUQ6MzIsRElSRUNUSU9OX05PTkU6MSxESVJFQ1RJT05fTEVGVDoyLERJUkVDVElPTl9SSUdIVDo0LERJUkVDVElPTl9VUDo4LERJUkVDVElPTl9ET1dOOjE2LERJUkVDVElPTl9IT1JJWk9OVEFMOjYsRElSRUNUSU9OX1ZFUlRJQ0FMOjI0LERJUkVDVElPTl9BTEw6MzAsTWFuYWdlcjpqZSxJbnB1dDpCLFRvdWNoQWN0aW9uOnZlLFRvdWNoSW5wdXQ6YWUsTW91c2VJbnB1dDpZLFBvaW50ZXJFdmVudElucHV0OmVlLFRvdWNoTW91c2VJbnB1dDpzZSxTaW5nbGVUb3VjaElucHV0Om5lLFJlY29nbml6ZXI6cGUsQXR0clJlY29nbml6ZXI6YmUsVGFwOmtlLFBhbjpfZSxTd2lwZTpTZSxQaW5jaDpPZSxSb3RhdGU6d2UsUHJlc3M6eGUsb246UyxvZmY6ayxlYWNoOmcsbWVyZ2U6YixleHRlbmQ6bSxhc3NpZ246dSxpbmhlcml0Ol8sYmluZEZuOk8scHJlZml4ZWQ6Q30pLCh2b2lkIDAhPT1pP2k6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e30pLkhhbW1lcj1QZSx2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybiBQZX0uY2FsbCh0LG4sdCxlKSl8fChlLmV4cG9ydHM9cil9KHdpbmRvdyxkb2N1bWVudCl9LGZ1bmN0aW9uKGUsdCl7fSwsZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIHI9big1KSxpPW4oNiksYT1uKDE2KSxvPW4oMTUpLHM9bigxNyksdT1uKDE1MyksYz1uKDIwKSxsPW4oMjgpLGg9bigzMiksZj1uKDc4KSxkPVswLDAsMF0sdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjA7cmV0dXJuIE9iamVjdChyLmEpKHRoaXMsdCksZT1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKHQpLmNhbGwodGhpcywtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZPYmplY3QoYy5mKShuKT9lLmNvcHkobik6KGMuYi5kZWJ1ZyYmKE9iamVjdChsLmEpKG4pLE9iamVjdChsLmEpKGkpLE9iamVjdChsLmEpKHMpKSxlWzBdPW4sZVsxXT1pLGVbMl09cyksZX1yZXR1cm4gT2JqZWN0KHMuYSkodCxlKSxPYmplY3QoaS5hKSh0LFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpc1swXT1lLHRoaXNbMV09dCx0aGlzWzJdPW4sdGhpcy5jaGVjaygpfX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbMF09ZVswXSx0aGlzWzFdPWVbMV0sdGhpc1syXT1lWzJdLHRoaXMuY2hlY2soKX19LHtrZXk6ImZyb21PYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBjLmIuZGVidWcmJihPYmplY3QobC5hKShlLngpLE9iamVjdChsLmEpKGUueSksT2JqZWN0KGwuYSkoZS56KSksdGhpc1swXT1lLngsdGhpc1sxXT1lLnksdGhpc1syXT1lLnosdGhpcy5jaGVjaygpfX0se2tleToidG9PYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLng9dGhpc1swXSxlLnk9dGhpc1sxXSxlLno9dGhpc1syXSxlfX0se2tleToiYW5nbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoLmEodGhpcyxlKX19LHtrZXk6ImNyb3NzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaC5jKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVYIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnJhZGlhbnMsbj1lLm9yaWdpbixyPXZvaWQgMD09PW4/ZDpuO3JldHVybiBoLmoodGhpcyx0aGlzLHIsdCksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yYWRpYW5zLG49ZS5vcmlnaW4scj12b2lkIDA9PT1uP2Q6bjtyZXR1cm4gaC5rKHRoaXMsdGhpcyxyLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVoiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmFkaWFucyxuPWUub3JpZ2luLHI9dm9pZCAwPT09bj9kOm47cmV0dXJuIGgubCh0aGlzLHRoaXMscix0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybUFzUG9pbnQoZSl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1BvaW50Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaC5vKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1Bc1ZlY3RvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChmLmMpKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeU1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoLm4odGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybUJ5TWF0cml4MiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChmLmIpKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm1CeVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoLnAodGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gM319LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbMl09T2JqZWN0KGwuYSkoZSl9fV0pLHR9KHUuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByPW4oMiksaT1uLm4ociksYT1bMjU1LDI1NSwyNTVdLG89MCxzPWZ1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsZSk7dmFyIG49dC5jb2xvcixyPXZvaWQgMD09PW4/YTpuLHM9dC5pbnRlbnNpdHksdT12b2lkIDA9PT1zPzE6czt0aGlzLmlkPXQuaWR8fCJhbWJpZW50LSIuY29uY2F0KG8rKyksdGhpcy5jb2xvcj1yLHRoaXMuaW50ZW5zaXR5PXUsdGhpcy50eXBlPSJhbWJpZW50In19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oNCksbD1uLm4oYyksaD1uKDEwKSxmPW4ubihoKSxkPW4oNzApLHY9bigxMzcpLHA9bigxMzgpLGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gaSgpKHRoaXMsdCksdSgpKHRoaXMsbCgpKHQpLmNhbGwodGhpcyxPYmplY3QuYXNzaWduKHt9LGUse3R5cGU6di5hfSkpKX1yZXR1cm4gZigpKHQsZSksbygpKHQsW3trZXk6ImNvbnRyb2xsZXIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRDb250cm9sbGVyUHJvcHMoe3R5cGU6cC5hfSl9fV0pLHR9KGQuYSk7Zy5kaXNwbGF5TmFtZT0iTWFwVmlldyJ9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB3fSkpO3ZhciByPW4oNyksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9bigzKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDQpLGY9bi5uKGgpLGQ9bigxNzApLHY9bi5uKGQpLHA9bigxMCksZz1uLm4ocCkseT1uKDUwKSxtPW4oMzMpLGI9big0MSksXz1uKDEpO2Z1bmN0aW9uIE8oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHgoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/TyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2koKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6TyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX12YXIgdz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307bygpKHRoaXMsdCk7dmFyIHI9bi5sYXRpdHVkZSxpPXZvaWQgMD09PXI/MDpyLGE9bi5sb25naXR1ZGUscz12b2lkIDA9PT1hPzA6YSx1PW4uem9vbSxjPXZvaWQgMD09PXU/MTE6dSxoPW4ucGl0Y2gsZD12b2lkIDA9PT1oPzA6aCxwPW4uYmVhcmluZyxnPXZvaWQgMD09PXA/MDpwLHk9bi5uZWFyWk11bHRpcGxpZXIsYj12b2lkIDA9PT15Py4xOnksTz1uLmZhclpNdWx0aXBsaWVyLHg9dm9pZCAwPT09Tz8xLjAxOk8sdz1uLm9ydGhvZ3JhcGhpYyxTPXZvaWQgMCE9PXcmJncsaz1uLnJlcGVhdCxQPXZvaWQgMCE9PWsmJmssaj1uLndvcmxkT2Zmc2V0LFQ9dm9pZCAwPT09aj8wOmosRT1uLndpZHRoLEE9bi5oZWlnaHQsTT1uLmFsdGl0dWRlLEM9dm9pZCAwPT09TT8xLjU6TSxMPU1hdGgucG93KDIsYyk7RT1FfHwxLEE9QXx8MSxDPU1hdGgubWF4KC43NSxDKTt2YXIgST1PYmplY3QobS5oKSh7d2lkdGg6RSxoZWlnaHQ6QSxwaXRjaDpkLGFsdGl0dWRlOkMsbmVhclpNdWx0aXBsaWVyOmIsZmFyWk11bHRpcGxpZXI6eH0pLFI9SS5mb3YsRD1JLmFzcGVjdCxGPUkuZm9jYWxEaXN0YW5jZSxOPUkubmVhcix6PUkuZmFyLEI9T2JqZWN0KG0uaSkoe2hlaWdodDpBLHBpdGNoOmQsYmVhcmluZzpnLHNjYWxlOkwsYWx0aXR1ZGU6Q30pO2lmKFQpe3ZhciBVPShuZXcgXy5iKS50cmFuc2xhdGUoWzUxMipULDAsMF0pO0I9VS5tdWx0aXBseUxlZnQoQil9dmFyIFY9T2JqZWN0LmFzc2lnbih7fSxuLHt3aWR0aDpFLGhlaWdodDpBLHZpZXdNYXRyaXg6Qixsb25naXR1ZGU6cyxsYXRpdHVkZTppLHpvb206YyxvcnRob2dyYXBoaWM6Uyxmb3Z5UmFkaWFuczpSLGFzcGVjdDpELGZvY2FsRGlzdGFuY2U6Uz9GOjEsbmVhcjpOLGZhcjp6fSk7cmV0dXJuKGU9bCgpKHRoaXMsZigpKHQpLmNhbGwodGhpcyxWKSkpLmxhdGl0dWRlPWksZS5sb25naXR1ZGU9cyxlLnpvb209YyxlLnBpdGNoPWQsZS5iZWFyaW5nPWcsZS5hbHRpdHVkZT1DLGUub3J0aG9ncmFwaGljPVMsZS5fc3ViVmlld3BvcnRzPVA/W106bnVsbCxPYmplY3QuZnJlZXplKHYoKShlKSksZX1yZXR1cm4gZygpKHQsZSksdSgpKHQsW3trZXk6ImFkZE1ldGVyc1RvTG5nTGF0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QobS5hKShlLHQpfX0se2tleToiZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sbmdMYXQsbj1lLnBvcyxyPU9iamVjdChtLmwpKG4sdGhpcy5waXhlbFVucHJvamVjdGlvbk1hdHJpeCksaT10aGlzLnByb2plY3RGbGF0KHQpLGE9Yi5hKFtdLGksYi5kKFtdLHIpKSxvPWIuYShbXSx0aGlzLmNlbnRlcixhKTtyZXR1cm4gdGhpcy51bnByb2plY3RGbGF0KG8pfX0se2tleToiZml0Qm91bmRzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10aGlzLndpZHRoLGk9dGhpcy5oZWlnaHQsYT1PYmplY3QobS5jKShPYmplY3QuYXNzaWduKHt3aWR0aDpyLGhlaWdodDppLGJvdW5kczplfSxuKSksbz1hLmxvbmdpdHVkZSxzPWEubGF0aXR1ZGUsdT1hLnpvb207cmV0dXJuIG5ldyB0KHt3aWR0aDpyLGhlaWdodDppLGxvbmdpdHVkZTpvLGxhdGl0dWRlOnMsem9vbTp1fSl9fSx7a2V5OiJzdWJWaWV3cG9ydHMiLGdldDpmdW5jdGlvbigpe2lmKHRoaXMuX3N1YlZpZXdwb3J0cyYmIXRoaXMuX3N1YlZpZXdwb3J0cy5sZW5ndGgpZm9yKHZhciBlPXRoaXMudW5wcm9qZWN0KFswLDBdKSxuPXRoaXMudW5wcm9qZWN0KFt0aGlzLndpZHRoLDBdKSxyPXRoaXMudW5wcm9qZWN0KFswLHRoaXMuaGVpZ2h0XSksaT10aGlzLnVucHJvamVjdChbdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLGE9TWF0aC5taW4oZVswXSxuWzBdLHJbMF0saVswXSksbz1NYXRoLm1heChlWzBdLG5bMF0sclswXSxpWzBdKSxzPU1hdGguZmxvb3IoKGErMTgwKS8zNjApLHU9TWF0aC5jZWlsKChvLTE4MCkvMzYwKSxjPXM7Yzw9dTtjKyspe3ZhciBsPWM/bmV3IHQoeCh7fSx0aGlzLHt3b3JsZE9mZnNldDpjfSkpOnRoaXM7dGhpcy5fc3ViVmlld3BvcnRzLnB1c2gobCl9cmV0dXJuIHRoaXMuX3N1YlZpZXdwb3J0c319XSksdH0oeS5hKTt3LmRpc3BsYXlOYW1lPSJXZWJNZXJjYXRvclZpZXdwb3J0In0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIHI9bigxOCksaT1uLm4ociksYT1uKDIpLG89bi5uKGEpLHM9bigzKSx1PW4ubihzKSxjPW4oOSksbD1uLm4oYyksaD1uKDQpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDEpLGc9big2OCkseT1uKDExNCksbT1uKDMzKSxiPW4oMzApLF89big2NiksTz1uKDY3KSx4PXt0cmFuc2l0aW9uRHVyYXRpb246MzAwLHRyYW5zaXRpb25FYXNpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHRyYW5zaXRpb25JbnRlcnBvbGF0b3I6bmV3IF8uYSx0cmFuc2l0aW9uSW50ZXJydXB0aW9uOk8uYS5CUkVBS30sdz17dHJhbnNpdGlvbkR1cmF0aW9uOjB9LFM9MCxrPTIwLFA9MCxqPTYwLFQ9MCxFPTAsQT0xLjUsTT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1uLndpZHRoLGk9bi5oZWlnaHQsYT1uLmxhdGl0dWRlLHM9bi5sb25naXR1ZGUsdT1uLnpvb20sYz1uLmJlYXJpbmcsaD12b2lkIDA9PT1jP0U6YyxkPW4ucGl0Y2gsdj12b2lkIDA9PT1kP1Q6ZCxwPW4uYWx0aXR1ZGUsZz12b2lkIDA9PT1wP0E6cCx5PW4ubWF4Wm9vbSxtPXZvaWQgMD09PXk/azp5LF89bi5taW5ab29tLE89dm9pZCAwPT09Xz9TOl8seD1uLm1heFBpdGNoLHc9dm9pZCAwPT09eD9qOngsTT1uLm1pblBpdGNoLEM9dm9pZCAwPT09TT9QOk0sTD1uLnN0YXJ0UGFuTG5nTGF0LEk9bi5zdGFydFpvb21MbmdMYXQsUj1uLnN0YXJ0QmVhcmluZyxEPW4uc3RhcnRQaXRjaCxGPW4uc3RhcnRab29tO3JldHVybiBvKCkodGhpcyx0KSxPYmplY3QoYi5hKShOdW1iZXIuaXNGaW5pdGUocyksImBsb25naXR1ZGVgIG11c3QgYmUgc3VwcGxpZWQiKSxPYmplY3QoYi5hKShOdW1iZXIuaXNGaW5pdGUoYSksImBsYXRpdHVkZWAgbXVzdCBiZSBzdXBwbGllZCIpLE9iamVjdChiLmEpKE51bWJlci5pc0Zpbml0ZSh1KSwiYHpvb21gIG11c3QgYmUgc3VwcGxpZWQiKSwoZT1sKCkodGhpcyxmKCkodCkuY2FsbCh0aGlzLHt3aWR0aDpyLGhlaWdodDppLGxhdGl0dWRlOmEsbG9uZ2l0dWRlOnMsem9vbTp1LGJlYXJpbmc6aCxwaXRjaDp2LGFsdGl0dWRlOmcsbWF4Wm9vbTptLG1pblpvb206TyxtYXhQaXRjaDp3LG1pblBpdGNoOkN9KSkpLl9pbnRlcmFjdGl2ZVN0YXRlPXtzdGFydFBhbkxuZ0xhdDpMLHN0YXJ0Wm9vbUxuZ0xhdDpJLHN0YXJ0QmVhcmluZzpSLHN0YXJ0UGl0Y2g6RCxzdGFydFpvb206Rn0sZX1yZXR1cm4gdigpKHQsZSksdSgpKHQsW3trZXk6ImdldFZpZXdwb3J0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHN9fSx7a2V5OiJnZXRJbnRlcmFjdGl2ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmFjdGl2ZVN0YXRlfX0se2tleToicGFuU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0UGFuTG5nTGF0OnRoaXMuX3VucHJvamVjdCh0KX0pfX0se2tleToicGFuIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnBvcyxuPWUuc3RhcnRQb3Mscj10aGlzLl9pbnRlcmFjdGl2ZVN0YXRlLnN0YXJ0UGFuTG5nTGF0fHx0aGlzLl91bnByb2plY3Qobik7aWYoIXIpcmV0dXJuIHRoaXM7dmFyIGE9dGhpcy5fY2FsY3VsYXRlTmV3TG5nTGF0KHtzdGFydFBhbkxuZ0xhdDpyLHBvczp0fSksbz1pKCkoYSwyKSxzPW9bMF0sdT1vWzFdO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2xvbmdpdHVkZTpzLGxhdGl0dWRlOnV9KX19LHtrZXk6InBhbkVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtzdGFydFBhbkxuZ0xhdDpudWxsfSl9fSx7a2V5OiJyb3RhdGVTdGFydCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5wb3M7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZyxzdGFydFBpdGNoOnRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2h9KX19LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZWx0YVNjYWxlWCxuPXZvaWQgMD09PXQ/MDp0LHI9ZS5kZWx0YVNjYWxlWSxpPXZvaWQgMD09PXI/MDpyLGE9dGhpcy5faW50ZXJhY3RpdmVTdGF0ZSxvPWEuc3RhcnRCZWFyaW5nLHM9YS5zdGFydFBpdGNoO2lmKCFOdW1iZXIuaXNGaW5pdGUobyl8fCFOdW1iZXIuaXNGaW5pdGUocykpcmV0dXJuIHRoaXM7dmFyIHU9dGhpcy5fY2FsY3VsYXRlTmV3UGl0Y2hBbmRCZWFyaW5nKHtkZWx0YVNjYWxlWDpuLGRlbHRhU2NhbGVZOmksc3RhcnRCZWFyaW5nOm8sc3RhcnRQaXRjaDpzfSksYz11LnBpdGNoLGw9dS5iZWFyaW5nO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6bCxwaXRjaDpjfSl9fSx7a2V5OiJyb3RhdGVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRCZWFyaW5nOm51bGwsc3RhcnRQaXRjaDpudWxsfSl9fSx7a2V5OiJ6b29tU3RhcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucG9zO3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe3N0YXJ0Wm9vbUxuZ0xhdDp0aGlzLl91bnByb2plY3QodCksc3RhcnRab29tOnRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbX0pfX0se2tleToiem9vbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wb3Msbj1lLnN0YXJ0UG9zLHI9ZS5zY2FsZSxhPXRoaXMuX2ludGVyYWN0aXZlU3RhdGUsbz1hLnN0YXJ0Wm9vbSxzPWEuc3RhcnRab29tTG5nTGF0O051bWJlci5pc0Zpbml0ZShvKXx8KG89dGhpcy5fdmlld3BvcnRQcm9wcy56b29tLHM9dGhpcy5fdW5wcm9qZWN0KG4pfHx0aGlzLl91bnByb2plY3QodCkpO3ZhciB1PXRoaXMuX2NhbGN1bGF0ZU5ld1pvb20oe3NjYWxlOnIsc3RhcnRab29tOm99KSxjPW5ldyBtLmIoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHt6b29tOnV9KSkuZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7bG5nTGF0OnMscG9zOnR9KSxsPWkoKShjLDIpLGg9bFswXSxmPWxbMV07cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7em9vbTp1LGxvbmdpdHVkZTpoLGxhdGl0dWRlOmZ9KX19LHtrZXk6Inpvb21FbmQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7c3RhcnRab29tTG5nTGF0Om51bGwsc3RhcnRab29tOm51bGx9KX19LHtrZXk6Inpvb21JbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9vbUZyb21DZW50ZXIoMil9fSx7a2V5OiJ6b29tT3V0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tRnJvbUNlbnRlciguNSl9fSx7a2V5OiJtb3ZlTGVmdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbMTAwLDBdKX19LHtrZXk6Im1vdmVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbLTEwMCwwXSl9fSx7a2V5OiJtb3ZlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhbkZyb21DZW50ZXIoWzAsMTAwXSl9fSx7a2V5OiJtb3ZlRG93biIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuRnJvbUNlbnRlcihbMCwtMTAwXSl9fSx7a2V5OiJyb3RhdGVMZWZ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRVcGRhdGVkU3RhdGUoe2JlYXJpbmc6dGhpcy5fdmlld3BvcnRQcm9wcy5iZWFyaW5nLTE1fSl9fSx7a2V5OiJyb3RhdGVSaWdodCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtiZWFyaW5nOnRoaXMuX3ZpZXdwb3J0UHJvcHMuYmVhcmluZysxNX0pfX0se2tleToicm90YXRlVXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRTdGF0ZSh7cGl0Y2g6dGhpcy5fdmlld3BvcnRQcm9wcy5waXRjaCsxMH0pfX0se2tleToicm90YXRlRG93biIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZFN0YXRlKHtwaXRjaDp0aGlzLl92aWV3cG9ydFByb3BzLnBpdGNoLTEwfSl9fSx7a2V5OiJzaG9ydGVzdFBhdGhGcm9tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdldFZpZXdwb3J0UHJvcHMoKSxuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fdmlld3BvcnRQcm9wcykscj1uLmJlYXJpbmcsaT1uLmxvbmdpdHVkZTtyZXR1cm4gTWF0aC5hYnMoci10LmJlYXJpbmcpPjE4MCYmKG4uYmVhcmluZz1yPDA/ciszNjA6ci0zNjApLE1hdGguYWJzKGktdC5sb25naXR1ZGUpPjE4MCYmKG4ubG9uZ2l0dWRlPWk8MD9pKzM2MDppLTM2MCksbn19LHtrZXk6Il96b29tRnJvbUNlbnRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmlld3BvcnRQcm9wcyxuPXQud2lkdGgscj10LmhlaWdodDtyZXR1cm4gdGhpcy56b29tKHtwb3M6W24vMixyLzJdLHNjYWxlOmV9KX19LHtrZXk6Il9wYW5Gcm9tQ2VudGVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92aWV3cG9ydFByb3BzLG49dC53aWR0aCxyPXQuaGVpZ2h0O3JldHVybiB0aGlzLnBhbih7c3RhcnRQb3M6W24vMixyLzJdLHBvczpbbi8yK2VbMF0sci8yK2VbMV1dfSl9fSx7a2V5OiJfZ2V0VXBkYXRlZFN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQoT2JqZWN0LmFzc2lnbih7fSx0aGlzLl92aWV3cG9ydFByb3BzLHRoaXMuX2ludGVyYWN0aXZlU3RhdGUsZSkpfX0se2tleToiX2FwcGx5Q29uc3RyYWludHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubWF4Wm9vbSxuPWUubWluWm9vbSxyPWUuem9vbTtlLnpvb209T2JqZWN0KHAuaSkocixuLHQpO3ZhciBpPWUubWF4UGl0Y2gsYT1lLm1pblBpdGNoLG89ZS5waXRjaDtyZXR1cm4gZS5waXRjaD1PYmplY3QocC5pKShvLGEsaSksT2JqZWN0LmFzc2lnbihlLE9iamVjdChtLmspKGUpKSxlfX0se2tleToiX3VucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG0uYih0aGlzLl92aWV3cG9ydFByb3BzKTtyZXR1cm4gZSYmdC51bnByb2plY3QoZSl9fSx7a2V5OiJfY2FsY3VsYXRlTmV3TG5nTGF0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0UGFuTG5nTGF0LG49ZS5wb3M7cmV0dXJuIG5ldyBtLmIodGhpcy5fdmlld3BvcnRQcm9wcykuZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7bG5nTGF0OnQscG9zOm59KX19LHtrZXk6Il9jYWxjdWxhdGVOZXdab29tIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNjYWxlLG49ZS5zdGFydFpvb20scj10aGlzLl92aWV3cG9ydFByb3BzLGk9ci5tYXhab29tLGE9ci5taW5ab29tLG89bitNYXRoLmxvZzIodCk7cmV0dXJuIE9iamVjdChwLmkpKG8sYSxpKX19LHtrZXk6Il9jYWxjdWxhdGVOZXdQaXRjaEFuZEJlYXJpbmciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGVsdGFTY2FsZVgsbj1lLmRlbHRhU2NhbGVZLHI9ZS5zdGFydEJlYXJpbmcsaT1lLnN0YXJ0UGl0Y2g7bj1PYmplY3QocC5pKShuLC0xLDEpO3ZhciBhPXRoaXMuX3ZpZXdwb3J0UHJvcHMsbz1hLm1pblBpdGNoLHM9YS5tYXhQaXRjaCx1PWk7cmV0dXJuIG4+MD91PWkrbioocy1pKTpuPDAmJih1PWktbiooby1pKSkse3BpdGNoOnUsYmVhcmluZzpyKzE4MCp0fX19XSksdH0oeS5hKSxDPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG47cmV0dXJuIG8oKSh0aGlzLHQpLChuPWwoKSh0aGlzLGYoKSh0KS5jYWxsKHRoaXMsTSxlKSkpLmludmVydFBhbj0hMCxufXJldHVybiB2KCkodCxlKSx1KCkodCxbe2tleToiX2dldFRyYW5zaXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4geH19LHtrZXk6Il9vblBhblJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZHJhZ1JvdGF0ZSlyZXR1cm4hMTt2YXIgdD1lLmRlbHRhWCxuPWUuZGVsdGFZLHI9dGhpcy5nZXRDZW50ZXIoZSksYT1pKCkociwyKVsxXSxvPWEtbixzPXRoaXMuY29udHJvbGxlclN0YXRlLmdldFZpZXdwb3J0UHJvcHMoKSx1PXMud2lkdGgsYz1zLmhlaWdodCxsPXQvdSxoPTA7bj4wP01hdGguYWJzKGMtbyk+NSYmKGg9bi8oby1jKSoxLjIpOm48MCYmbz41JiYoaD0xLWEvbyksaD1NYXRoLm1pbigxLE1hdGgubWF4KC0xLGgpKTt2YXIgZj10aGlzLmNvbnRyb2xsZXJTdGF0ZS5yb3RhdGUoe2RlbHRhU2NhbGVYOmwsZGVsdGFTY2FsZVk6aH0pO3JldHVybiB0aGlzLnVwZGF0ZVZpZXdwb3J0KGYsdyx7aXNEcmFnZ2luZzohMCxpc1JvdGF0aW5nOiEwfSl9fV0pLHR9KGcuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9bigzMCksdT1uKDI1NSksYz1uKDEwOCksbD1uKDQ1KSxoPW4oMjMpLGY9big0NCksZD1uKDY0KSx2PW4oMTIwKSxwPW4oNTApLGc9bigxNDkpLHk9T2JqZWN0LnNlYWwoe2xheWVyTWFuYWdlcjpudWxsLGRlY2s6bnVsbCxnbDpudWxsLHN0YXRzOm51bGwsc2hhZGVyQ2FjaGU6bnVsbCxwaWNraW5nRkJPOm51bGwsbW91c2VQb3NpdGlvbjpudWxsLHVzZXJEYXRhOnt9fSksbT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGMuYT8iIi5jb25jYXQoZSk6ZT8iaW52YWxpZCI6Im51bGwifSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLmRlY2ssYT1uLnN0YXRzLG89bi52aWV3cG9ydCxzPXZvaWQgMD09PW8/bnVsbDpvLGM9bi50aW1lbGluZSxsPXZvaWQgMD09PWM/bnVsbDpjO2koKSh0aGlzLGUpLHRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzPVtdLHRoaXMubGF5ZXJzPVtdLHRoaXMuY29udGV4dD1PYmplY3QuYXNzaWduKHt9LHkse2xheWVyTWFuYWdlcjp0aGlzLGRlY2s6cixnbDp0LHByb2dyYW1NYW5hZ2VyOnQmJk9iamVjdChnLmEpKHQpLHN0YXRzOmF8fG5ldyB2LmEoe2lkOiJkZWNrLmdsIn0pLHZpZXdwb3J0OnN8fG5ldyBwLmEoe2lkOiJERUZBVUxULUlOSVRJQUwtVklFV1BPUlQifSksdGltZWxpbmU6bHx8bmV3IHUuYX0pLHRoaXMuX25lZWRzUmVkcmF3PSJJbml0aWFsIHJlbmRlciIsdGhpcy5fbmVlZHNVcGRhdGU9ITEsdGhpcy5fZGVidWc9ITEsdGhpcy5fb25FcnJvcj1udWxsLHRoaXMuYWN0aXZhdGVWaWV3cG9ydD10aGlzLmFjdGl2YXRlVmlld3BvcnQuYmluZCh0aGlzKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gbygpKGUsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEwLHQ9ITEsbj12b2lkIDA7dHJ5e2Zvcih2YXIgcixpPXRoaXMubGF5ZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KHI9aS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBhPXIudmFsdWU7dGhpcy5fZmluYWxpemVMYXllcihhKX19Y2F0Y2goZSl7dD0hMCxuPWV9ZmluYWxseXt0cnl7ZXx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZih0KXRocm93IG59fX19LHtrZXk6Im5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJSZWRyYXdGbGFnczohMX0sdD10aGlzLl9uZWVkc1JlZHJhdztlLmNsZWFyUmVkcmF3RmxhZ3MmJih0aGlzLl9uZWVkc1JlZHJhdz0hMSk7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dGhpcy5sYXllcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZSx1PXMuZ2V0TmVlZHNSZWRyYXcoZSk7dD10fHx1fX1jYXRjaChlKXtyPSEwLGk9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19cmV0dXJuIHR9fSx7a2V5OiJuZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmVlZHNVcGRhdGV9fSx7a2V5OiJzZXROZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fGV9fSx7a2V5OiJzZXROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbmVlZHNVcGRhdGU9dGhpcy5fbmVlZHNVcGRhdGV8fGV9fSx7a2V5OiJnZXRMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYXllcklkcyxuPXZvaWQgMD09PXQ/bnVsbDp0O3JldHVybiBuP3RoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG4uZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1lLmlkLmluZGV4T2YodCl9KSl9KSk6dGhpcy5sYXllcnN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7ImRlYnVnImluIGUmJih0aGlzLl9kZWJ1Zz1lLmRlYnVnKSwidXNlckRhdGEiaW4gZSYmKHRoaXMuY29udGV4dC51c2VyRGF0YT1lLnVzZXJEYXRhKSwibGF5ZXJzImluIGUmJnRoaXMuc2V0TGF5ZXJzKGUubGF5ZXJzKSwib25FcnJvciJpbiBlJiYodGhpcy5fb25FcnJvcj1lLm9uRXJyb3IpfX0se2tleToic2V0TGF5ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG49dHx8ZSE9PXRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzO2lmKE9iamVjdChmLmEpKCJsYXllck1hbmFnZXIuc2V0TGF5ZXJzIix0aGlzLG4sZSksIW4pcmV0dXJuIHRoaXM7dGhpcy5sYXN0UmVuZGVyZWRMYXllcnM9ZSxlPU9iamVjdChkLmIpKGUsQm9vbGVhbik7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UuY29udGV4dD10aGlzLmNvbnRleHR9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4gdGhpcy5fdXBkYXRlTGF5ZXJzKHRoaXMubGF5ZXJzLGUpLHRoaXN9fSx7a2V5OiJ1cGRhdGVMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uZWVkc1VwZGF0ZSgpO2lmKGUpe3RoaXMuc2V0TmVlZHNSZWRyYXcoInVwZGF0aW5nIGxheWVyczogIi5jb25jYXQoZSkpO3RoaXMuc2V0TGF5ZXJzKHRoaXMubGFzdFJlbmRlcmVkTGF5ZXJzLCEwKX19fSx7a2V5OiJhY3RpdmF0ZVZpZXdwb3J0Iix2YWx1ZTpmdW5jdGlvbihlKXtPYmplY3Qocy5hKShlLCJMYXllck1hbmFnZXI6IHZpZXdwb3J0IG5vdCBzZXQiKTt2YXIgdD10aGlzLmNvbnRleHQudmlld3BvcnQ7aWYoIXR8fCFlLmVxdWFscyh0KSl7T2JqZWN0KGYuYSkoImxheWVyTWFuYWdlci5hY3RpdmF0ZVZpZXdwb3J0Iix0aGlzLGUpLHRoaXMuY29udGV4dC52aWV3cG9ydD1lO3ZhciBuPXt2aWV3cG9ydENoYW5nZWQ6ITB9LHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHU9dGhpcy5sYXllcnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz11Lm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIGM9by52YWx1ZTtjLnNldENoYW5nZUZsYWdzKG4pLHRoaXMuX3VwZGF0ZUxheWVyKGMpfX1jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19fXJldHVybiB0aGlzfX0se2tleToiX2hhbmRsZUVycm9yIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fb25FcnJvcj90aGlzLl9vbkVycm9yKHQsbik6aC5hLmVycm9yKCJlcnJvciBkdXJpbmcgIi5jb25jYXQoZSwiIG9mICIpLmNvbmNhdChtKG4pKSx0KSgpfX0se2tleToiX3VwZGF0ZUxheWVycyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTtuW3UuaWRdP2guYS53YXJuKCJNdWx0aXBsZSBvbGQgbGF5ZXJzIHdpdGggc2FtZSBpZCAiLmNvbmNhdChtKHUpKSkoKTpuW3UuaWRdPXV9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX12YXIgYz1bXTt0aGlzLl91cGRhdGVTdWJsYXllcnNSZWN1cnNpdmVseSh0LG4sYyksdGhpcy5fZmluYWxpemVPbGRMYXllcnMobik7Zm9yKHZhciBsPSExLGY9MCxkPWM7ZjxkLmxlbmd0aDtmKyspe2lmKGRbZl0uaGFzVW5pZm9ybVRyYW5zaXRpb24oKSl7bD0hMDticmVha319dGhpcy5fbmVlZHNVcGRhdGU9bCx0aGlzLmxheWVycz1jfX0se2tleToiX3VwZGF0ZVN1YmxheWVyc1JlY3Vyc2l2ZWx5Iix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UuY29udGV4dD10aGlzLmNvbnRleHQ7dmFyIGM9dFt1LmlkXTtudWxsPT09YyYmaC5hLndhcm4oIk11bHRpcGxlIG5ldyBsYXllcnMgd2l0aCBzYW1lIGlkICIuY29uY2F0KG0odSkpKSgpLHRbdS5pZF09bnVsbDt2YXIgbD1udWxsO3RyeXt0aGlzLl9kZWJ1ZyYmYyE9PXUmJnUudmFsaWRhdGVQcm9wcygpLGM/KHRoaXMuX3RyYW5zZmVyTGF5ZXJTdGF0ZShjLHUpLHRoaXMuX3VwZGF0ZUxheWVyKHUpKTp0aGlzLl9pbml0aWFsaXplTGF5ZXIodSksbi5wdXNoKHUpLGw9dS5pc0NvbXBvc2l0ZSYmdS5nZXRTdWJMYXllcnMoKX1jYXRjaChlKXt0aGlzLl9oYW5kbGVFcnJvcigibWF0Y2hpbmciLGUsdSl9bCYmdGhpcy5fdXBkYXRlU3VibGF5ZXJzUmVjdXJzaXZlbHkobCx0LG4pfX1jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19fX0se2tleToiX2ZpbmFsaXplT2xkTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSl7dmFyIG49ZVt0XTtuJiZ0aGlzLl9maW5hbGl6ZUxheWVyKG4pfX19LHtrZXk6Il9pbml0aWFsaXplTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtlLl9pbml0aWFsaXplKCksZS5saWZlY3ljbGU9bC5hLklOSVRJQUxJWkVEfWNhdGNoKHQpe3RoaXMuX2hhbmRsZUVycm9yKCJpbml0aWFsaXphdGlvbiIsdCxlKX19fSx7a2V5OiJfdHJhbnNmZXJMYXllclN0YXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3QuX3RyYW5zZmVyU3RhdGUoZSksdC5saWZlY3ljbGU9bC5hLk1BVENIRUQsdCE9PWUmJihlLmxpZmVjeWNsZT1sLmEuQVdBSVRJTkdfR0MpfX0se2tleToiX3VwZGF0ZUxheWVyIix2YWx1ZTpmdW5jdGlvbihlKXt0cnl7ZS5fdXBkYXRlKCl9Y2F0Y2godCl7dGhpcy5faGFuZGxlRXJyb3IoInVwZGF0ZSIsdCxlKX19fSx7a2V5OiJfZmluYWxpemVMYXllciIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fCJmaW5hbGl6ZWQgIi5jb25jYXQobShlKSksZS5saWZlY3ljbGU9bC5hLkFXQUlUSU5HX0ZJTkFMSVpBVElPTjt0cnl7ZS5fZmluYWxpemUoKSxlLmxpZmVjeWNsZT1sLmEuRklOQUxJWkVEfWNhdGNoKHQpe3RoaXMuX2hhbmRsZUVycm9yKCJmaW5hbGl6YXRpb24iLHQsZSl9fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDgpLGk9bi5uKHIpLGE9bigxMyksbz1uKDUpLHM9big2KSx1PW4oMTQ4KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10LnNvdXJjZSxyPXQubmFtZSxpPXZvaWQgMD09PXI/InVubmFtZWQiOnIsYT10Lm1heENvbmN1cnJlbmN5LHM9dm9pZCAwPT09YT8xOmEsdT10Lm9uTWVzc2FnZSxjPXQub25EZWJ1ZyxsPXZvaWQgMD09PWM/ZnVuY3Rpb24oKXt9OmM7T2JqZWN0KG8uYSkodGhpcyxlKSx0aGlzLnNvdXJjZT1uLHRoaXMubmFtZT1pLHRoaXMubWF4Q29uY3VycmVuY3k9cyx0aGlzLm9uTWVzc2FnZT11LHRoaXMub25EZWJ1Zz1sLHRoaXMuam9iUXVldWU9W10sdGhpcy5pZGxlUXVldWU9W10sdGhpcy5jb3VudD0wLHRoaXMuaXNEZXN0cm95ZWQ9ITF9dmFyIHQ7cmV0dXJuIE9iamVjdChzLmEpKGUsW3trZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pZGxlUXVldWUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVzdHJveSgpfSkpLHRoaXMuaXNEZXN0cm95ZWQ9ITB9fSx7a2V5OiJwcm9jZXNzIix2YWx1ZToodD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0LG4pe3ZhciByPXRoaXM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsaSl7ci5qb2JRdWV1ZS5wdXNoKHtkYXRhOnQsam9iTmFtZTpuLHJlc29sdmU6ZSxyZWplY3Q6aX0pLHIuX3N0YXJ0UXVldWVkSm9iKCl9KSkpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlLG4pe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJfc3RhcnRRdWV1ZWRKb2IiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmpvYlF1ZXVlLmxlbmd0aCl7dmFyIHQ9dGhpcy5fZ2V0QXZhaWxhYmxlV29ya2VyKCk7aWYodCl7dmFyIG49dGhpcy5qb2JRdWV1ZS5zaGlmdCgpO3RoaXMub25EZWJ1Zyh7bWVzc2FnZToicHJvY2Vzc2luZyIsd29ya2VyOnQubmFtZSxqb2I6bi5qb2JOYW1lLGJhY2tsb2c6dGhpcy5qb2JRdWV1ZS5sZW5ndGh9KSx0LnByb2Nlc3Mobi5kYXRhKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gbi5yZXNvbHZlKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5yZWplY3QoZSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZS5fb25Xb3JrZXJEb25lKHQpfSkpfX19fSx7a2V5OiJfb25Xb3JrZXJEb25lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmlzRGVzdHJveWVkP2UuZGVzdHJveSgpOih0aGlzLmlkbGVRdWV1ZS5wdXNoKGUpLHRoaXMuX3N0YXJ0UXVldWVkSm9iKCkpfX0se2tleToiX2dldEF2YWlsYWJsZVdvcmtlciIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlkbGVRdWV1ZS5sZW5ndGg+MClyZXR1cm4gdGhpcy5pZGxlUXVldWUuc2hpZnQoKTtpZih0aGlzLmNvdW50PHRoaXMubWF4Q29uY3VycmVuY3kpe3RoaXMuY291bnQrKzt2YXIgZT0iIi5jb25jYXQodGhpcy5uYW1lLnRvTG93ZXJDYXNlKCksIiAoIyIpLmNvbmNhdCh0aGlzLmNvdW50LCIgb2YgIikuY29uY2F0KHRoaXMubWF4Q29uY3VycmVuY3ksIikiKTtyZXR1cm4gbmV3IHUuYSh7c291cmNlOnRoaXMuc291cmNlLG9uTWVzc2FnZTp0aGlzLm9uTWVzc2FnZSxuYW1lOmV9KX1yZXR1cm4gbnVsbH19XSksZX0oKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9big4NSksaT1uKDE3NCk7ZnVuY3Rpb24gYShlKXtpZihpLnRvQXJyYXlCdWZmZXImJihlPU9iamVjdChpLnRvQXJyYXlCdWZmZXIpKGUpKSxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIGU7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXJldHVybiBlLmJ1ZmZlcjtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciB0PWU7cmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpLmJ1ZmZlcn1yZXR1cm4gT2JqZWN0KHIuYSkoITEpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9big3KSxpPW4ubihyKTtmdW5jdGlvbiBhKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCl7aWYoIXQpcmV0dXJuIGU7dmFyIG49T2JqZWN0LmFzc2lnbih7fSxlLHQpO2lmKCJkZWZpbmVzImluIHQmJihuLmRlZmluZXM9T2JqZWN0LmFzc2lnbih7fSxlLmRlZmluZXMsdC5kZWZpbmVzKSksIm1vZHVsZXMiaW4gdCYmKG4ubW9kdWxlcz0oZS5tb2R1bGVzfHxbXSkuY29uY2F0KHQubW9kdWxlcyksdC5tb2R1bGVzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJwcm9qZWN0NjQiPT09ZS5uYW1lfSkpKSl7dmFyIHI9bi5tb2R1bGVzLmZpbmRJbmRleCgoZnVuY3Rpb24oZSl7cmV0dXJuInByb2plY3QzMiI9PT1lLm5hbWV9KSk7cj49MCYmbi5tb2R1bGVzLnNwbGljZShyLDEpfWlmKCJpbmplY3QiaW4gdClpZihlLmluamVjdCl7dmFyIG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2koKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sZS5pbmplY3QpO2Zvcih2YXIgcyBpbiB0LmluamVjdClvW3NdPShvW3NdfHwiIikrdC5pbmplY3Rbc107bi5pbmplY3Q9b31lbHNlIG4uaW5qZWN0PXQuaW5qZWN0O3JldHVybiBufX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigzNyksaT1uLm4ocik7ZnVuY3Rpb24gYShlKXtpZihudWxsPT09KHQ9ZSl8fCJvYmplY3QiIT09aSgpKHQpKXRocm93IG5ldyBFcnJvcigiY291bnQoKTogYXJndW1lbnQgbm90IGFuIG9iamVjdCIpO3ZhciB0O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvdW50KXJldHVybiBlLmNvdW50KCk7aWYoTnVtYmVyLmlzRmluaXRlKGUuc2l6ZSkpcmV0dXJuIGUuc2l6ZTtpZihOdW1iZXIuaXNGaW5pdGUoZS5sZW5ndGgpKXJldHVybiBlLmxlbmd0aDtpZihmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJiJvYmplY3QiPT09aSgpKGUpJiZlLmNvbnN0cnVjdG9yPT09T2JqZWN0fShlKSlyZXR1cm4gT2JqZWN0LmtleXMoZSkubGVuZ3RoO3Rocm93IG5ldyBFcnJvcigiY291bnQoKTogYXJndW1lbnQgbm90IGEgY29udGFpbmVyIil9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big3KSx1PW4ubihzKSxjPW4oMTgpLGw9bi5uKGMpLGg9big5KSxmPW4ubihoKSxkPW4oNCksdj1uLm4oZCkscD1uKDEyKSxnPW4ubihwKSx5PW4oMTApLG09bi5uKHkpLGI9bigyNTQpLF89bigxNzMpLE89big0Nik7ZnVuY3Rpb24geChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7aSgpKHRoaXMsZSksdGhpcy5vcHRzPW4sdGhpcy5zb3VyY2U9dH1yZXR1cm4gbygpKGUsW3trZXk6ImdldFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc291cmNlLmdldEJ1ZmZlcigpLHQ9dGhpcy5nZXRBY2Nlc3NvcigpO2lmKGUpcmV0dXJuW2UsdF07dmFyIG49dGhpcy5zb3VyY2UudmFsdWUscj10LnNpemUsaT1uO2lmKG4mJm4ubGVuZ3RoIT09cil7aT1uZXcgRmxvYXQzMkFycmF5KHIpO2Zvcih2YXIgYT10LmVsZW1lbnRPZmZzZXR8fDAsbz0wO288cjsrK28paVtvXT1uW2Erb119cmV0dXJuIGl9fSx7a2V5OiJnZXRBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6eChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sdGhpcy5zb3VyY2UuZ2V0QWNjZXNzb3IoKSx7fSx0aGlzLm9wdHMpfX0se2tleToidmFsdWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZS52YWx1ZX19XSksZX0oKTt2YXIgUz1uKDg0KSxrPW4oNDcpLFA9bigyMyk7ZnVuY3Rpb24gaihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gVChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9qKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dSgpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpqKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIGUuc3RyaWRlfHxlLnNpemUqZS5ieXRlc1BlckVsZW1lbnR9ZnVuY3Rpb24gQShlLHQpe3Qub2Zmc2V0JiZQLmEucmVtb3ZlZCgic2hhZGVyQXR0cmlidXRlLm9mZnNldCIsInZlcnRleE9mZnNldCwgZWxlbWVudE9mZnNldCIpKCk7dmFyIG49RShlKTtyZXR1cm4gVCh7fSx0LHtvZmZzZXQ6KCJ2ZXJ0ZXhPZmZzZXQiaW4gdD90LnZlcnRleE9mZnNldDplLnZlcnRleE9mZnNldHx8MCkqbisodC5lbGVtZW50T2Zmc2V0fHwwKSplLmJ5dGVzUGVyRWxlbWVudCsoZS5vZmZzZXR8fDApLHN0cmlkZTpufSl9dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7aSgpKHRoaXMsZSksdGhpcy5nbD10LHRoaXMuaWQ9bi5pZCx0aGlzLnNpemU9bi5zaXplO3ZhciByPW4ubG9naWNhbFR5cGV8fG4udHlwZSxhPTUxMzA9PT1yLG89bi5kZWZhdWx0VmFsdWU7bz1OdW1iZXIuaXNGaW5pdGUobyk/W29dOm98fG5ldyBBcnJheSh0aGlzLnNpemUpLmZpbGwoMCksbi5kZWZhdWx0VmFsdWU9bzt2YXIgcz1yO2E/cz01MTI2OiFzJiZuLmlzSW5kZXhlZD9zPXQmJk9iamVjdChiLmIpKHQsXy5hLkVMRU1FTlRfSU5ERVhfVUlOVDMyKT81MTI1OjUxMjM6c3x8KHM9NTEyNiksbi5sb2dpY2FsVHlwZT1yLG4udHlwZT1zO3ZhciB1PWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDUxMjY6cmV0dXJuIEZsb2F0MzJBcnJheTtjYXNlIDUxMzA6cmV0dXJuIEZsb2F0NjRBcnJheTtjYXNlIDUxMjM6Y2FzZSAzMzYzNTpjYXNlIDMyODE5OmNhc2UgMzI4MjA6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UgNTEyNTpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSA1MTIxOnJldHVybiBVaW50OENsYW1wZWRBcnJheTtjYXNlIDUxMjA6cmV0dXJuIEludDhBcnJheTtjYXNlIDUxMjI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZSA1MTI0OnJldHVybiBJbnQzMkFycmF5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdMIHR5cGUiKX19KHJ8fHN8fDUxMjYpO3RoaXMuc2hhZGVyQXR0cmlidXRlcz17fSx0aGlzLmRvdWJsZVByZWNpc2lvbj1hLGEmJiExPT09bi5mcDY0JiYodT1GbG9hdDMyQXJyYXkpLG4uYnl0ZXNQZXJFbGVtZW50PXUuQllURVNfUEVSX0VMRU1FTlQsdGhpcy5kZWZhdWx0VHlwZT11LHRoaXMudmFsdWU9bnVsbCx0aGlzLnNldHRpbmdzPW4sdGhpcy5zdGF0ZT17ZXh0ZXJuYWxCdWZmZXI6bnVsbCxidWZmZXJBY2Nlc3NvcjpuLGFsbG9jYXRlZFZhbHVlOm51bGwsY29uc3RhbnQ6ITF9LHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuc2V0RGF0YShuKX1yZXR1cm4gbygpKGUsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXImJih0aGlzLl9idWZmZXIuZGVsZXRlKCksdGhpcy5fYnVmZmVyPW51bGwpLFMuYS5yZWxlYXNlKHRoaXMuc3RhdGUuYWxsb2NhdGVkVmFsdWUpfX0se2tleToiZ2V0U2hhZGVyQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmRvdWJsZVByZWNpc2lvbil7dmFyIG49e30scj10aGlzLnZhbHVlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5LGk9KGE9dGhpcy5nZXRBY2Nlc3NvcigpLHtoaWdoOm89QShhLHR8fHt9KSxsb3c6VCh7fSxvLHtvZmZzZXQ6by5vZmZzZXQrNCphLnNpemV9KX0pO3JldHVybiBuW2VdPW5ldyB3KHRoaXMsaS5oaWdoKSxuWyIiLmNvbmNhdChlLCI2NExvdyIpXT1yP25ldyB3KHRoaXMsaS5sb3cpOm5ldyBGbG9hdDMyQXJyYXkodGhpcy5zaXplKSxufXZhciBhLG87aWYodCl7dmFyIHM9QSh0aGlzLmdldEFjY2Vzc29yKCksdCk7cmV0dXJuIHUoKSh7fSxlLG5ldyB3KHRoaXMscykpfXJldHVybiB1KCkoe30sZSx0aGlzKX19LHtrZXk6ImdldEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5jb25zdGFudD9udWxsOnRoaXMuc3RhdGUuZXh0ZXJuYWxCdWZmZXJ8fHRoaXMuX2J1ZmZlcn19LHtrZXk6ImdldFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmNvbnN0YW50P3RoaXMudmFsdWU6W3RoaXMuZ2V0QnVmZmVyKCksdGhpcy5nZXRBY2Nlc3NvcigpXX19LHtrZXk6ImdldEFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmJ1ZmZlckFjY2Vzc29yfX0se2tleToic2V0RGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZTtBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/ZT17dmFsdWU6ZX06ZSBpbnN0YW5jZW9mIE8uYSYmKGU9e2J1ZmZlcjplfSk7dmFyIG49VCh7fSx0aGlzLnNldHRpbmdzLHt9LGUpO2lmKHQuYnVmZmVyQWNjZXNzb3I9bixlLmNvbnN0YW50KXt2YXIgcj1lLnZhbHVlO2lmKHI9dGhpcy5fbm9ybWFsaXplVmFsdWUocixbXSwwKSx0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZWQmJihyPXRoaXMuX25vcm1hbGl6ZUNvbnN0YW50KHIpKSwhKCF0LmNvbnN0YW50fHwhdGhpcy5fYXJlVmFsdWVzRXF1YWwocix0aGlzLnZhbHVlKSkpcmV0dXJuITE7dC5leHRlcm5hbEJ1ZmZlcj1udWxsLHQuY29uc3RhbnQ9ITAsdGhpcy52YWx1ZT1yfWVsc2UgaWYoZS5idWZmZXIpe3ZhciBpPWUuYnVmZmVyO3QuZXh0ZXJuYWxCdWZmZXI9aSx0LmNvbnN0YW50PSExLHRoaXMudmFsdWU9ZS52YWx1ZTt2YXIgYT1lLnZhbHVlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5O24udHlwZT1lLnR5cGV8fGkuYWNjZXNzb3IudHlwZSxuLmJ5dGVzUGVyRWxlbWVudD1pLmFjY2Vzc29yLkJZVEVTX1BFUl9FTEVNRU5UKihhPzI6MSksbi5zdHJpZGU9RShuKX1lbHNlIGlmKGUudmFsdWUpe3RoaXMuX2NoZWNrRXh0ZXJuYWxCdWZmZXIoZSk7dmFyIG89ZS52YWx1ZTt0LmV4dGVybmFsQnVmZmVyPW51bGwsdC5jb25zdGFudD0hMSx0aGlzLnZhbHVlPW8sbi5ieXRlc1BlckVsZW1lbnQ9by5CWVRFU19QRVJfRUxFTUVOVCxuLnN0cmlkZT1FKG4pO3ZhciBzPXRoaXMuYnVmZmVyLHU9dGhpcy5ieXRlT2Zmc2V0O3RoaXMuZG91YmxlUHJlY2lzaW9uJiZvIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5JiYobz1PYmplY3Qoay5mKShvLG4pKSxzLmJ5dGVMZW5ndGg8by5ieXRlTGVuZ3RoK3UmJnMucmVhbGxvY2F0ZSgyKihvLmJ5dGVMZW5ndGgrdSkpLHMuc2V0QWNjZXNzb3IobnVsbCkscy5zdWJEYXRhKHtkYXRhOm8sb2Zmc2V0OnV9KSxuLnR5cGU9ZS50eXBlfHxzLmFjY2Vzc29yLnR5cGV9cmV0dXJuITB9fSx7a2V5OiJ1cGRhdGVTdWJCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9dGhpcy52YWx1ZSxuPWUuc3RhcnRPZmZzZXQscj12b2lkIDA9PT1uPzA6bixpPWUuZW5kT2Zmc2V0O3RoaXMuYnVmZmVyLnN1YkRhdGEoe2RhdGE6dGhpcy5kb3VibGVQcmVjaXNpb24mJnQgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk/T2JqZWN0KGsuZikodCx7c2l6ZTp0aGlzLnNpemUsc3RhcnRJbmRleDpyLGVuZEluZGV4Oml9KTp0LnN1YmFycmF5KHIsaSksb2Zmc2V0OnIqdC5CWVRFU19QRVJfRUxFTUVOVCt0aGlzLmJ5dGVPZmZzZXR9KX19LHtrZXk6ImFsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLm51bUluc3RhbmNlcyxuPWUuY29weSxyPXZvaWQgMCE9PW4mJm4saT10aGlzLnN0YXRlLGE9aS5hbGxvY2F0ZWRWYWx1ZSxvPVMuYS5hbGxvY2F0ZShhLHQrMSx7c2l6ZTp0aGlzLnNpemUsdHlwZTp0aGlzLmRlZmF1bHRUeXBlLGNvcHk6cn0pO3RoaXMudmFsdWU9bzt2YXIgcz10aGlzLmJ1ZmZlcix1PXRoaXMuYnl0ZU9mZnNldDtyZXR1cm4gcy5ieXRlTGVuZ3RoPG8uYnl0ZUxlbmd0aCt1JiYocy5yZWFsbG9jYXRlKG8uYnl0ZUxlbmd0aCt1KSxyJiZhJiZzLnN1YkRhdGEoe2RhdGE6YSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheT9PYmplY3Qoay5mKShhLHRoaXMpOmEsb2Zmc2V0OnV9KSksaS5hbGxvY2F0ZWRWYWx1ZT1vLGkuY29uc3RhbnQ9ITEsaS5leHRlcm5hbEJ1ZmZlcj1udWxsLGkuYnVmZmVyQWNjZXNzb3I9dGhpcy5zZXR0aW5ncywhMH19LHtrZXk6Il9jaGVja0V4dGVybmFsQnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlO2lmKCFlLmNvbnN0YW50JiZ0KXt2YXIgbj10aGlzLmRlZmF1bHRUeXBlLHI9ITE7aWYodGhpcy5kb3VibGVQcmVjaXNpb24mJihyPXQuQllURVNfUEVSX0VMRU1FTlQ8NCkscil0aHJvdyBuZXcgRXJyb3IoIkF0dHJpYnV0ZSAiLmNvbmNhdCh0aGlzLmlkLCIgZG9lcyBub3Qgc3VwcG9ydCAiKS5jb25jYXQodC5jb25zdHJ1Y3Rvci5uYW1lKSk7dCBpbnN0YW5jZW9mIG58fCF0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZWR8fCJub3JtYWxpemVkImluIGV8fFAuYS53YXJuKCJBdHRyaWJ1dGUgIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vcm1hbGl6ZWQiKSkoKX19fSx7a2V5OiJfbm9ybWFsaXplQ29uc3RhbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLnNldHRpbmdzLnR5cGUpe2Nhc2UgNTEyMDpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybihlKzEyOCkvMjU1KjItMX0pKTtjYXNlIDUxMjI6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoZSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4oZSszMjc2OCkvNjU1MzUqMi0xfSkpO2Nhc2UgNTEyMTpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLzI1NX0pKTtjYXNlIDUxMjM6cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoZSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS82NTUzNX0pKTtkZWZhdWx0OnJldHVybiBlfX19LHtrZXk6Il9ub3JtYWxpemVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuc2V0dGluZ3MsaT1yLmRlZmF1bHRWYWx1ZSxhPXIuc2l6ZTtpZihOdW1iZXIuaXNGaW5pdGUoZSkpcmV0dXJuIHRbbl09ZSx0O2lmKCFlKXJldHVybiB0W25dPWlbMF0sdDtzd2l0Y2goYSl7Y2FzZSA0OnRbbiszXT1OdW1iZXIuaXNGaW5pdGUoZVszXSk/ZVszXTppWzNdO2Nhc2UgMzp0W24rMl09TnVtYmVyLmlzRmluaXRlKGVbMl0pP2VbMl06aVsyXTtjYXNlIDI6dFtuKzFdPU51bWJlci5pc0Zpbml0ZShlWzFdKT9lWzFdOmlbMV07Y2FzZSAxOnRbbiswXT1OdW1iZXIuaXNGaW5pdGUoZVswXSk/ZVswXTppWzBdO2JyZWFrO2RlZmF1bHQ6Zm9yKHZhciBvPWE7LS1vPj0wOyl0W24rb109TnVtYmVyLmlzRmluaXRlKGVbb10pP2Vbb106aVtvXX1yZXR1cm4gdH19LHtrZXk6Il9hcmVWYWx1ZXNFcXVhbCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZXx8IXQpcmV0dXJuITE7Zm9yKHZhciBuPXRoaXMuc2l6ZSxyPTA7cjxuO3IrKylpZihlW3JdIT09dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6ImJ1ZmZlciIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2J1ZmZlcil7dmFyIGU9dGhpcy5zZXR0aW5ncyx0PWUuaXNJbmRleGVkLG49ZS50eXBlO3RoaXMuX2J1ZmZlcj1uZXcgTy5hKHRoaXMuZ2wse2lkOnRoaXMuaWQsdGFyZ2V0OnQ/MzQ5NjM6MzQ5NjIsYWNjZXNzb3I6e3R5cGU6bn19KX1yZXR1cm4gdGhpcy5fYnVmZmVyfX0se2tleToiYnl0ZU9mZnNldCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBY2Nlc3NvcigpO3JldHVybiBlLnZlcnRleE9mZnNldD9lLnZlcnRleE9mZnNldCpFKGUpOjB9fV0pLGV9KCksQz1uKDMwKSxMPW4oNTQpLEk9big2NCksUj1bXSxEPVtbMCwxLzBdXTtmdW5jdGlvbiBGKGUsdCl7aWYoZT09PUQpcmV0dXJuIGU7aWYodFswXTwwJiYodFswXT0wKSx0WzBdPj10WzFdKXJldHVybiBlO2Zvcih2YXIgbj1bXSxyPWUubGVuZ3RoLGk9MCxhPTA7YTxyO2ErKyl7dmFyIG89ZVthXTtvWzFdPHRbMF0/KG4ucHVzaChvKSxpPWErMSk6b1swXT50WzFdP24ucHVzaChvKTp0PVtNYXRoLm1pbihvWzBdLHRbMF0pLE1hdGgubWF4KG9bMV0sdFsxXSldfXJldHVybiBuLnNwbGljZShpLDAsdCksbn12YXIgTj1uKDUxKSx6PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aSgpKHRoaXMsdCksbj1mKCkodGhpcyx2KCkodCkuY2FsbCh0aGlzLGUscikpO3ZhciBhPXIudHJhbnNpdGlvbixvPXZvaWQgMCE9PWEmJmEscz1yLm5vQWxsb2MsdT12b2lkIDAhPT1zJiZzLGM9ci51cGRhdGUsbD12b2lkIDA9PT1jP251bGw6YyxoPXIuYWNjZXNzb3IsZD12b2lkIDA9PT1oP251bGw6aCxwPXIudHJhbnNmb3JtLGc9dm9pZCAwPT09cD9udWxsOnAseT1yLnN0YXJ0SW5kaWNlcyxtPXZvaWQgMD09PXk/bnVsbDp5O3JldHVybiBPYmplY3QuYXNzaWduKG4uc2V0dGluZ3Mse3RyYW5zaXRpb246byxub0FsbG9jOnUsdXBkYXRlOmx8fGQmJm4uX2F1dG9VcGRhdGVyLGFjY2Vzc29yOmQsdHJhbnNmb3JtOmd9KSxPYmplY3QuYXNzaWduKG4uc3RhdGUse2xhc3RFeHRlcm5hbEJ1ZmZlcjpudWxsLGJpbmFyeVZhbHVlOm51bGwsYmluYXJ5QWNjZXNzb3I6bnVsbCxuZWVkc1VwZGF0ZTohMCxuZWVkc1JlZHJhdzohMSx1cGRhdGVSYW5nZXM6RCxzdGFydEluZGljZXM6bX0pLE9iamVjdC5zZWFsKG4uc2V0dGluZ3MpLE9iamVjdC5zZWFsKG4uc3RhdGUpLG4uX3ZhbGlkYXRlQXR0cmlidXRlVXBkYXRlcnMoKSxufXJldHVybiBtKCkodCxlKSxvKCkodCxbe2tleToibmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUubmVlZHNVcGRhdGV9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmNsZWFyQ2hhbmdlZEZsYWdzLG49dm9pZCAwIT09dCYmdCxyPXRoaXMuc3RhdGUubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMuc3RhdGUubmVlZHNSZWRyYXc9ciYmIW4scn19LHtrZXk6ImdldFVwZGF0ZVRyaWdnZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2V0dGluZ3MuYWNjZXNzb3I7cmV0dXJuW3RoaXMuaWRdLmNvbmNhdCgiZnVuY3Rpb24iIT10eXBlb2YgZSYmZXx8W10pfX0se2tleToic3VwcG9ydHNUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuc2V0dGluZ3MudHJhbnNpdGlvbil9fSx7a2V5OiJnZXRUcmFuc2l0aW9uU2V0dGluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5hY2Nlc3NvcixuPXRoaXMuc2V0dGluZ3MudHJhbnNpdGlvbjtpZighdGhpcy5zdXBwb3J0c1RyYW5zaXRpb24oKSlyZXR1cm4gbnVsbDt2YXIgcj1BcnJheS5pc0FycmF5KHQpP2VbdC5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKV06ZVt0XTtyZXR1cm4gT2JqZWN0KE4uZSkocixuKX19LHtrZXk6InNldE5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLmlkLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYodGhpcy5zdGF0ZS5uZWVkc1VwZGF0ZT10aGlzLnN0YXRlLm5lZWRzVXBkYXRlfHxlLHRoaXMuc2V0TmVlZHNSZWRyYXcoZSksdCl7dmFyIG49dC5zdGFydFJvdyxyPXZvaWQgMD09PW4/MDpuLGk9dC5lbmRSb3csYT12b2lkIDA9PT1pPzEvMDppO3RoaXMuc3RhdGUudXBkYXRlUmFuZ2VzPUYodGhpcy5zdGF0ZS51cGRhdGVSYW5nZXMsW3IsYV0pfWVsc2UgdGhpcy5zdGF0ZS51cGRhdGVSYW5nZXM9RH19LHtrZXk6ImNsZWFyTmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5uZWVkc1VwZGF0ZT0hMSx0aGlzLnN0YXRlLnVwZGF0ZVJhbmdlcz1SfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuaWQ7dGhpcy5zdGF0ZS5uZWVkc1JlZHJhdz10aGlzLnN0YXRlLm5lZWRzUmVkcmF3fHxlfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNldERhdGEoZSl9fSx7a2V5OiJhbGxvY2F0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5zdGF0ZSxyPXRoaXMuc2V0dGluZ3M7cmV0dXJuIXIubm9BbGxvYyYmKCEhci51cGRhdGUmJihPYmplY3QoQy5hKShOdW1iZXIuaXNGaW5pdGUoZSkpLGcoKSh2KCkodC5wcm90b3R5cGUpLCJhbGxvY2F0ZSIsdGhpcykuY2FsbCh0aGlzLHtudW1JbnN0YW5jZXM6ZSxjb3B5Om4udXBkYXRlUmFuZ2VzIT09RH0pLCEwKSl9fSx7a2V5OiJ1cGRhdGVCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUubnVtSW5zdGFuY2VzLHI9ZS5kYXRhLGk9ZS5wcm9wcyxhPWUuY29udGV4dDtpZighdGhpcy5uZWVkc1VwZGF0ZSgpKXJldHVybiExO3ZhciBvPXRoaXMuc3RhdGUudXBkYXRlUmFuZ2VzLHM9dGhpcy5zZXR0aW5ncyx1PXMudXBkYXRlLGM9cy5ub0FsbG9jLGg9ITA7aWYodSl7dmFyIGY9ITAsZD0hMSxwPXZvaWQgMDt0cnl7Zm9yKHZhciB5LG09b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShmPSh5PW0ubmV4dCgpKS5kb25lKTtmPSEwKXt2YXIgYj1sKCkoeS52YWx1ZSwyKSxfPWJbMF0sTz1iWzFdO3UuY2FsbChhLHRoaXMse2RhdGE6cixzdGFydFJvdzpfLGVuZFJvdzpPLHByb3BzOmksbnVtSW5zdGFuY2VzOm59KX19Y2F0Y2goZSl7ZD0hMCxwPWV9ZmluYWxseXt0cnl7Znx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IHB9fWlmKHRoaXMudmFsdWUpaWYodGhpcy5jb25zdGFudHx8dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDx0aGlzLnZhbHVlLmJ5dGVMZW5ndGgrdGhpcy5ieXRlT2Zmc2V0KXRoaXMuc2V0RGF0YSh7dmFsdWU6dGhpcy52YWx1ZSxjb25zdGFudDp0aGlzLmNvbnN0YW50fSk7ZWxzZXt2YXIgeD0hMCx3PSExLFM9dm9pZCAwO3RyeXtmb3IodmFyIGssUD1vW1N5bWJvbC5pdGVyYXRvcl0oKTshKHg9KGs9UC5uZXh0KCkpLmRvbmUpO3g9ITApe3ZhciBqPWwoKShrLnZhbHVlLDIpLFQ9alswXSxFPWpbMV0sQT1OdW1iZXIuaXNGaW5pdGUoVCk/dGhpcy5nZXRWZXJ0ZXhPZmZzZXQoVCk6MCxNPU51bWJlci5pc0Zpbml0ZShFKT90aGlzLmdldFZlcnRleE9mZnNldChFKTpjfHwhTnVtYmVyLmlzRmluaXRlKG4pP3RoaXMudmFsdWUubGVuZ3RoOm4qdGhpcy5zaXplO2coKSh2KCkodC5wcm90b3R5cGUpLCJ1cGRhdGVTdWJCdWZmZXIiLHRoaXMpLmNhbGwodGhpcyx7c3RhcnRPZmZzZXQ6QSxlbmRPZmZzZXQ6TX0pfX1jYXRjaChlKXt3PSEwLFM9ZX1maW5hbGx5e3RyeXt4fHxudWxsPT1QLnJldHVybnx8UC5yZXR1cm4oKX1maW5hbGx5e2lmKHcpdGhyb3cgU319fWVsc2U7dGhpcy5fY2hlY2tBdHRyaWJ1dGVBcnJheSgpfWVsc2UgaD0hMTtyZXR1cm4gdGhpcy5jbGVhck5lZWRzVXBkYXRlKCksdGhpcy5zZXROZWVkc1JlZHJhdygpLGh9fSx7a2V5OiJzZXRDb25zdGFudFZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUmJih0aGlzLnNldERhdGEoe2NvbnN0YW50OiEwLHZhbHVlOmV9KSYmdGhpcy5zZXROZWVkc1JlZHJhdygpLHRoaXMuY2xlYXJOZWVkc1VwZGF0ZSgpLCEwKX19LHtrZXk6InNldEV4dGVybmFsQnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlO3JldHVybiBlPyh0aGlzLmNsZWFyTmVlZHNVcGRhdGUoKSx0Lmxhc3RFeHRlcm5hbEJ1ZmZlcj09PWV8fCh0Lmxhc3RFeHRlcm5hbEJ1ZmZlcj1lLHRoaXMuc2V0TmVlZHNSZWRyYXcoKSx0aGlzLnNldERhdGEoZSksITApKToodC5sYXN0RXh0ZXJuYWxCdWZmZXI9bnVsbCwhMSl9fSx7a2V5OiJzZXRCaW5hcnlWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLnN0YXRlLHI9dGhpcy5zZXR0aW5ncztpZighZSlyZXR1cm4gbi5iaW5hcnlWYWx1ZT1udWxsLG4uYmluYXJ5QWNjZXNzb3I9bnVsbCwhMTtpZihyLm5vQWxsb2MpcmV0dXJuITE7aWYobi5iaW5hcnlWYWx1ZT09PWUpcmV0dXJuIHRoaXMuY2xlYXJOZWVkc1VwZGF0ZSgpLCEwO24uYmluYXJ5VmFsdWU9ZSx0aGlzLnNldE5lZWRzUmVkcmF3KCksQXJyYXlCdWZmZXIuaXNWaWV3KGUpJiYoZT17dmFsdWU6ZX0pO3ZhciBpPXIudHJhbnNmb3JtfHx0IT09dGhpcy5zdGFydEluZGljZXM7aWYoaSl7T2JqZWN0KEMuYSkoQXJyYXlCdWZmZXIuaXNWaWV3KGUudmFsdWUpLCJpbnZhbGlkICIuY29uY2F0KHIuYWNjZXNzb3IpKTt2YXIgYT1lLnNpemUmJmUuc2l6ZSE9PXRoaXMuc2l6ZTtyZXR1cm4gbi5iaW5hcnlBY2Nlc3Nvcj1PYmplY3QoTC5iKShlLnZhbHVlLHtzaXplOmUuc2l6ZXx8dGhpcy5zaXplLHN0cmlkZTplLnN0cmlkZSxvZmZzZXQ6ZS5vZmZzZXQsc3RhcnRJbmRpY2VzOnQsbmVzdGVkOmF9KSwhMX1yZXR1cm4gdGhpcy5jbGVhck5lZWRzVXBkYXRlKCksdGhpcy5zZXREYXRhKGUpLCEwfX0se2tleToiZ2V0VmVydGV4T2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXJ0SW5kaWNlcztyZXR1cm4odD90W2VdOmUpKnRoaXMuc2l6ZX19LHtrZXk6ImdldFNoYWRlckF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXR0aW5ncy5zaGFkZXJBdHRyaWJ1dGVzfHx1KCkoe30sdGhpcy5pZCxudWxsKSxuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5hc3NpZ24obixnKCkodigpKHQucHJvdG90eXBlKSwiZ2V0U2hhZGVyQXR0cmlidXRlcyIsdGhpcykuY2FsbCh0aGlzLHIsZVtyXSkpO3JldHVybiBufX0se2tleToiX2F1dG9VcGRhdGVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQuZGF0YSxyPXQuc3RhcnRSb3csaT10LmVuZFJvdyxhPXQucHJvcHMsbz10Lm51bUluc3RhbmNlcyxzPWUuc2V0dGluZ3MsdT1lLnN0YXRlLGM9ZS52YWx1ZSxsPWUuc2l6ZSxoPWUuc3RhcnRJbmRpY2VzLGY9cy5hY2Nlc3NvcixkPXMudHJhbnNmb3JtLHY9dS5iaW5hcnlBY2Nlc3Nvcnx8KCJmdW5jdGlvbiI9PXR5cGVvZiBmP2Y6YVtmXSk7T2JqZWN0KEMuYSkoImZ1bmN0aW9uIj09dHlwZW9mIHYsJ2FjY2Vzc29yICInLmNvbmNhdChmLCciIGlzIG5vdCBhIGZ1bmN0aW9uJykpO3ZhciBwPWUuZ2V0VmVydGV4T2Zmc2V0KHIpLGc9T2JqZWN0KEwuYSkobixyLGkpLHk9Zy5pdGVyYWJsZSxtPWcub2JqZWN0SW5mbyxiPSEwLF89ITEsTz12b2lkIDA7dHJ5e2Zvcih2YXIgeCx3PXlbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYj0oeD13Lm5leHQoKSkuZG9uZSk7Yj0hMCl7dmFyIFM9eC52YWx1ZTttLmluZGV4Kys7dmFyIGs9dihTLG0pO2lmKGQmJihrPWQuY2FsbCh0aGlzLGspKSxoKXt2YXIgUD0oaFttLmluZGV4KzFdfHxvKS1oW20uaW5kZXhdO2lmKGsmJkFycmF5LmlzQXJyYXkoa1swXSkpe3ZhciBqPXAsVD0hMCxFPSExLEE9dm9pZCAwO3RyeXtmb3IodmFyIE0sUj1rW1N5bWJvbC5pdGVyYXRvcl0oKTshKFQ9KE09Ui5uZXh0KCkpLmRvbmUpO1Q9ITApe3ZhciBEPU0udmFsdWU7ZS5fbm9ybWFsaXplVmFsdWUoRCxjLGopLGorPWx9fWNhdGNoKGUpe0U9ITAsQT1lfWZpbmFsbHl7dHJ5e1R8fG51bGw9PVIucmV0dXJufHxSLnJldHVybigpfWZpbmFsbHl7aWYoRSl0aHJvdyBBfX19ZWxzZSBrJiZrLmxlbmd0aD5sP2Muc2V0KGsscCk6KGUuX25vcm1hbGl6ZVZhbHVlKGssbS50YXJnZXQsMCksT2JqZWN0KEkuYSkoe3RhcmdldDpjLHNvdXJjZTptLnRhcmdldCxzdGFydDpwLGNvdW50OlB9KSk7cCs9UCpsfWVsc2UgZS5fbm9ybWFsaXplVmFsdWUoayxjLHApLHArPWx9fWNhdGNoKGUpe189ITAsTz1lfWZpbmFsbHl7dHJ5e2J8fG51bGw9PXcucmV0dXJufHx3LnJldHVybigpfWZpbmFsbHl7aWYoXyl0aHJvdyBPfX1lLmNvbnN0YW50PSExfX0se2tleToiX3ZhbGlkYXRlQXR0cmlidXRlVXBkYXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXR0aW5ncztpZighKGUubm9BbGxvY3x8ImZ1bmN0aW9uIj09dHlwZW9mIGUudXBkYXRlKSl0aHJvdyBuZXcgRXJyb3IoIkF0dHJpYnV0ZSAiLmNvbmNhdCh0aGlzLmlkLCIgbWlzc2luZyB1cGRhdGUgb3IgYWNjZXNzb3IiKSl9fSx7a2V5OiJfY2hlY2tBdHRyaWJ1dGVBcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZhbHVlLHQ9TWF0aC5taW4oNCx0aGlzLnNpemUpO2lmKGUmJmUubGVuZ3RoPj10KXt2YXIgbj0hMDtzd2l0Y2godCl7Y2FzZSA0Om49biYmTnVtYmVyLmlzRmluaXRlKGVbM10pO2Nhc2UgMzpuPW4mJk51bWJlci5pc0Zpbml0ZShlWzJdKTtjYXNlIDI6bj1uJiZOdW1iZXIuaXNGaW5pdGUoZVsxXSk7Y2FzZSAxOm49biYmTnVtYmVyLmlzRmluaXRlKGVbMF0pO2JyZWFrO2RlZmF1bHQ6bj0hMX1pZighbil0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgYXR0cmlidXRlIGdlbmVyYXRlZCBmb3IgIi5jb25jYXQodGhpcy5pZCkpfX19LHtrZXk6InN0YXJ0SW5kaWNlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuc3RhcnRJbmRpY2VzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZS5zdGFydEluZGljZXM9ZX19XSksdH0oTSksQj1uKDQ0KSxVPW4oMjcwKSxWPW4oNzQpO2Z1bmN0aW9uIEcoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIFcoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/RyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX12YXIgSD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dC5nbCxyPXQuYXR0cmlidXRlLGE9dC50aW1lbGluZTtpKCkodGhpcyxlKSx0aGlzLmdsPW4sdGhpcy50eXBlPSJpbnRlcnBvbGF0aW9uIix0aGlzLnRyYW5zaXRpb249bmV3IFYuYShhKSx0aGlzLmF0dHJpYnV0ZT1yLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uPW5ldyB6KG4sci5zZXR0aW5ncyksdGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPXIuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD0wLHRoaXMudHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KE4uYykodC5zaXplKTtyZXR1cm4gbmV3IFUuYShlLHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGludGVycG9sYXRpb24tdHJhbnNpdGlvbi12ZXJ0ZXgtc2hhZGVyXG5cbnVuaWZvcm0gZmxvYXQgdGltZTtcbmF0dHJpYnV0ZSBBVFRSSUJVVEVfVFlQRSBhRnJvbTtcbmF0dHJpYnV0ZSBBVFRSSUJVVEVfVFlQRSBhVG87XG52YXJ5aW5nIEFUVFJJQlVURV9UWVBFIHZDdXJyZW50O1xuXG52b2lkIG1haW4odm9pZCkge1xuICB2Q3VycmVudCA9IG1peChhRnJvbSwgYVRvLCB0aW1lKTtcbiAgZ2xfUG9zaXRpb24gPSB2ZWM0KDAuMCk7XG59XG4iLGRlZmluZXM6e0FUVFJJQlVURV9UWVBFOm59LHZhcnlpbmdzOlsidkN1cnJlbnQiXX0pfShuLHIpO3ZhciBvPXtieXRlTGVuZ3RoOjAsdXNhZ2U6MzUwNTB9O3RoaXMuYnVmZmVycz1bbmV3IE8uYShuLG8pLG5ldyBPLmEobixvKV19cmV0dXJuIG8oKShlLFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlLmR1cmF0aW9uPD0wKXRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKTtlbHNle3ZhciBuPXRoaXMuZ2wscj10aGlzLmJ1ZmZlcnMsaT10aGlzLmF0dHJpYnV0ZTtPYmplY3QoTi5hKShyKTt2YXIgYT17bnVtSW5zdGFuY2VzOnQsYXR0cmlidXRlOmksZnJvbUxlbmd0aDp0aGlzLmN1cnJlbnRMZW5ndGgsZnJvbVN0YXJ0SW5kaWNlczp0aGlzLmN1cnJlbnRTdGFydEluZGljZXMsZ2V0RGF0YTplLmVudGVyfSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtPYmplY3QoTi5mKShXKHtidWZmZXI6aH0sYSkpfX1jYXRjaChlKXtzPSEwLHU9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19dGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPWkuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD1PYmplY3QoTi5iKShpLHQpLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uLnVwZGF0ZSh7YnVmZmVyOnJbMV0sdmFsdWU6aS52YWx1ZX0pLHRoaXMudHJhbnNpdGlvbi5zdGFydChlKSx0aGlzLnRyYW5zZm9ybS51cGRhdGUoe2VsZW1lbnRDb3VudDpNYXRoLmZsb29yKHRoaXMuY3VycmVudExlbmd0aC9pLnNpemUpLHNvdXJjZUJ1ZmZlcnM6e2FGcm9tOnJbMF0sYVRvOk9iamVjdChOLmQpKG4saSl9LGZlZWRiYWNrQnVmZmVyczp7dkN1cnJlbnQ6clsxXX19KX19fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50cmFuc2l0aW9uLnVwZGF0ZSgpO2lmKGUpe3ZhciB0PXRoaXMudHJhbnNpdGlvbixuPXQudGltZSxyPXQuc2V0dGluZ3MsaT1yLmR1cmF0aW9uLGE9KDAsci5lYXNpbmcpKG4vaSk7dGhpcy50cmFuc2Zvcm0ucnVuKHt1bmlmb3Jtczp7dGltZTphfX0pfXJldHVybiBlfX0se2tleToiY2FuY2VsIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih0aGlzLnRyYW5zaXRpb24uY2FuY2VsKCksdGhpcy50cmFuc2Zvcm0uZGVsZXRlKCk7dGhpcy5idWZmZXJzLmxlbmd0aDspdGhpcy5idWZmZXJzLnBvcCgpLmRlbGV0ZSgpfX0se2tleToiaW5Qcm9ncmVzcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzfX1dKSxlfSgpO3ZhciBxPW4oMTc3KSxYPW4oMTE2KSxaPW4oNzEpO2Z1bmN0aW9uIFkoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIEsoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/WShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6WShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX12YXIgUT17aW50ZXJwb2xhdGlvbjpILHNwcmluZzpmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dC5nbCxyPXQuYXR0cmlidXRlLGE9dC50aW1lbGluZTtpKCkodGhpcyxlKSx0aGlzLmdsPW4sdGhpcy50eXBlPSJzcHJpbmciLHRoaXMudHJhbnNpdGlvbj1uZXcgVi5hKGEpLHRoaXMuYXR0cmlidXRlPXIsdGhpcy5hdHRyaWJ1dGVJblRyYW5zaXRpb249bmV3IHoobixPYmplY3QuYXNzaWduKHt9LHIuc2V0dGluZ3Mse25vcm1hbGl6ZWQ6ITF9KSksdGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPXIuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD0wLHRoaXMudGV4dHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFguYShlLHtkYXRhOm5ldyBVaW50OEFycmF5KDQpLGZvcm1hdDo2NDA4LHR5cGU6NTEyMSxib3JkZXI6MCxtaXBtYXBzOiExLGRhdGFGb3JtYXQ6NjQwOCx3aWR0aDoxLGhlaWdodDoxfSl9KG4pLHRoaXMuZnJhbWVidWZmZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFouYShlLHtpZDoic3ByaW5nLXRyYW5zaXRpb24taXMtdHJhbnNpdGlvbmluZy1mcmFtZWJ1ZmZlciIsd2lkdGg6MSxoZWlnaHQ6MSxhdHRhY2htZW50czp1KCkoe30sMzYwNjQsdCl9KX0obix0aGlzLnRleHR1cmUpLHRoaXMudHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1PYmplY3QoTi5jKSh0LnNpemUpO3JldHVybiBuZXcgVS5hKGUse2ZyYW1lYnVmZmVyOm4sdnM6IlxuI2RlZmluZSBTSEFERVJfTkFNRSBzcHJpbmctdHJhbnNpdGlvbi12ZXJ0ZXgtc2hhZGVyXG5cbiNkZWZpbmUgRVBTSUxPTiAwLjAwMDAxXG5cbnVuaWZvcm0gZmxvYXQgc3RpZmZuZXNzO1xudW5pZm9ybSBmbG9hdCBkYW1waW5nO1xuYXR0cmlidXRlIEFUVFJJQlVURV9UWVBFIGFQcmV2O1xuYXR0cmlidXRlIEFUVFJJQlVURV9UWVBFIGFDdXI7XG5hdHRyaWJ1dGUgQVRUUklCVVRFX1RZUEUgYVRvO1xudmFyeWluZyBBVFRSSUJVVEVfVFlQRSB2TmV4dDtcbnZhcnlpbmcgZmxvYXQgdklzVHJhbnNpdGlvbmluZ0ZsYWc7XG5cbkFUVFJJQlVURV9UWVBFIGdldE5leHRWYWx1ZShBVFRSSUJVVEVfVFlQRSBjdXIsIEFUVFJJQlVURV9UWVBFIHByZXYsIEFUVFJJQlVURV9UWVBFIGRlc3QpIHtcbiAgQVRUUklCVVRFX1RZUEUgdmVsb2NpdHkgPSBjdXIgLSBwcmV2O1xuICBBVFRSSUJVVEVfVFlQRSBkZWx0YSA9IGRlc3QgLSBjdXI7XG4gIEFUVFJJQlVURV9UWVBFIHNwcmluZyA9IGRlbHRhICogc3RpZmZuZXNzO1xuICBBVFRSSUJVVEVfVFlQRSBkYW1wZXIgPSB2ZWxvY2l0eSAqIC0xLjAgKiBkYW1waW5nO1xuICByZXR1cm4gc3ByaW5nICsgZGFtcGVyICsgdmVsb2NpdHkgKyBjdXI7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGJvb2wgaXNUcmFuc2l0aW9uaW5nID0gbGVuZ3RoKGFDdXIgLSBhUHJldikgPiBFUFNJTE9OIHx8IGxlbmd0aChhVG8gLSBhQ3VyKSA+IEVQU0lMT047XG4gIHZJc1RyYW5zaXRpb25pbmdGbGFnID0gaXNUcmFuc2l0aW9uaW5nID8gMS4wIDogMC4wO1xuXG4gIHZOZXh0ID0gZ2V0TmV4dFZhbHVlKGFDdXIsIGFQcmV2LCBhVG8pO1xuICBnbF9Qb3NpdGlvbiA9IHZlYzQoMCwgMCwgMCwgMSk7XG4gIGdsX1BvaW50U2l6ZSA9IDEwMC4wO1xufVxuIixmczoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIHNwcmluZy10cmFuc2l0aW9uLWlzLXRyYW5zaXRpb25pbmctZnJhZ21lbnQtc2hhZGVyXG5cbnZhcnlpbmcgZmxvYXQgdklzVHJhbnNpdGlvbmluZ0ZsYWc7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGlmICh2SXNUcmFuc2l0aW9uaW5nRmxhZyA9PSAwLjApIHtcbiAgICBkaXNjYXJkO1xuICB9XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTtcbn0iLGRlZmluZXM6e0FUVFJJQlVURV9UWVBFOnJ9LHZhcnlpbmdzOlsidk5leHQiXX0pfShuLHIsdGhpcy5mcmFtZWJ1ZmZlcik7dmFyIG89e2J5dGVMZW5ndGg6MCx1c2FnZTozNTA1MH07dGhpcy5idWZmZXJzPVtuZXcgTy5hKG4sbyksbmV3IE8uYShuLG8pLG5ldyBPLmEobixvKV19cmV0dXJuIG8oKShlLFt7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdsLHI9dGhpcy5idWZmZXJzLGk9dGhpcy5hdHRyaWJ1dGUsYT17bnVtSW5zdGFuY2VzOnQsYXR0cmlidXRlOmksZnJvbUxlbmd0aDp0aGlzLmN1cnJlbnRMZW5ndGgsZnJvbVN0YXJ0SW5kaWNlczp0aGlzLmN1cnJlbnRTdGFydEluZGljZXMsZ2V0RGF0YTplLmVudGVyfSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1sLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGg9Yy52YWx1ZTtPYmplY3QoTi5mKShLKHtidWZmZXI6aH0sYSkpfX1jYXRjaChlKXtzPSEwLHU9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19dGhpcy5jdXJyZW50U3RhcnRJbmRpY2VzPWkuc3RhcnRJbmRpY2VzLHRoaXMuY3VycmVudExlbmd0aD1PYmplY3QoTi5iKShpLHQpLHRoaXMuYXR0cmlidXRlSW5UcmFuc2l0aW9uLnVwZGF0ZSh7YnVmZmVyOnJbMV0sdmFsdWU6aS52YWx1ZX0pLHRoaXMudHJhbnNpdGlvbi5zdGFydChlKSx0aGlzLnRyYW5zZm9ybS51cGRhdGUoe2VsZW1lbnRDb3VudDpNYXRoLmZsb29yKHRoaXMuY3VycmVudExlbmd0aC9pLnNpemUpLHNvdXJjZUJ1ZmZlcnM6e2FUbzpPYmplY3QoTi5kKShuLGkpfX0pfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuYnVmZmVycyx0PXRoaXMudHJhbnNmb3JtLG49dGhpcy5mcmFtZWJ1ZmZlcixyPXRoaXMudHJhbnNpdGlvbjtyZXR1cm4hIXIudXBkYXRlKCkmJih0LnVwZGF0ZSh7c291cmNlQnVmZmVyczp7YVByZXY6ZVswXSxhQ3VyOmVbMV19LGZlZWRiYWNrQnVmZmVyczp7dk5leHQ6ZVsyXX19KSx0LnJ1bih7ZnJhbWVidWZmZXI6bixkaXNjYXJkOiExLGNsZWFyUmVuZGVyVGFyZ2V0OiEwLHVuaWZvcm1zOntzdGlmZm5lc3M6ci5zZXR0aW5ncy5zdGlmZm5lc3MsZGFtcGluZzpyLnNldHRpbmdzLmRhbXBpbmd9LHBhcmFtZXRlcnM6e2RlcHRoVGVzdDohMSxibGVuZDohMCx2aWV3cG9ydDpbMCwwLDEsMV0sYmxlbmRGdW5jOlsxLDFdLGJsZW5kRXF1YXRpb246WzMyNzc2LDMyNzc2XX19KSxPYmplY3QoTi5hKShlKSx0aGlzLmF0dHJpYnV0ZUluVHJhbnNpdGlvbi51cGRhdGUoe2J1ZmZlcjplWzFdLHZhbHVlOnRoaXMuYXR0cmlidXRlLnZhbHVlfSksT2JqZWN0KHEuYykobilbMF0+MHx8ci5lbmQoKSwhMCl9fSx7a2V5OiJjYW5jZWwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHRoaXMudHJhbnNpdGlvbi5jYW5jZWwoKSx0aGlzLnRyYW5zZm9ybS5kZWxldGUoKTt0aGlzLmJ1ZmZlcnMubGVuZ3RoOyl0aGlzLmJ1ZmZlcnMucG9wKCkuZGVsZXRlKCk7dGhpcy50ZXh0dXJlLmRlbGV0ZSgpLHRoaXMudGV4dHVyZT1udWxsLHRoaXMuZnJhbWVidWZmZXIuZGVsZXRlKCksdGhpcy5mcmFtZWJ1ZmZlcj1udWxsfX0se2tleToiaW5Qcm9ncmVzcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNpdGlvbi5pblByb2dyZXNzfX1dKSxlfSgpfSxKPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByPW4uaWQsYT1uLnRpbWVsaW5lO2koKSh0aGlzLGUpLHRoaXMuaWQ9cix0aGlzLmdsPXQsdGhpcy50aW1lbGluZT1hLHRoaXMudHJhbnNpdGlvbnM9e30sdGhpcy5uZWVkc1JlZHJhdz0hMSx0aGlzLm51bUluc3RhbmNlcz0xLFUuYS5pc1N1cHBvcnRlZCh0KT90aGlzLmlzU3VwcG9ydGVkPSEwOnQmJlAuYS53YXJuKCJXZWJHTDIgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuIFRyYW5zaXRpb24gYW5pbWF0aW9uIGlzIGRpc2FibGVkLiIpKCl9cmV0dXJuIG8oKShlLFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy50cmFuc2l0aW9ucyl0aGlzLl9yZW1vdmVUcmFuc2l0aW9uKGUpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHJpYnV0ZXMsbj1lLnRyYW5zaXRpb25zLHI9dm9pZCAwPT09bj97fTpuLGk9ZS5udW1JbnN0YW5jZXM7aWYodGhpcy5udW1JbnN0YW5jZXM9aXx8MSx0aGlzLmlzU3VwcG9ydGVkKXtmb3IodmFyIGEgaW4gdCl7dmFyIG89dFthXSxzPW8uZ2V0VHJhbnNpdGlvblNldHRpbmcocik7cyYmdGhpcy5fdXBkYXRlQXR0cmlidXRlKGEsbyxzKX1mb3IodmFyIHUgaW4gdGhpcy50cmFuc2l0aW9ucyl7dmFyIGM9dFt1XTtjJiZjLmdldFRyYW5zaXRpb25TZXR0aW5nKHIpfHx0aGlzLl9yZW1vdmVUcmFuc2l0aW9uKHUpfX19fSx7a2V5OiJoYXNBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudHJhbnNpdGlvbnNbZV07cmV0dXJuIHQmJnQuaW5Qcm9ncmVzc319LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9e307Zm9yKHZhciB0IGluIHRoaXMudHJhbnNpdGlvbnMpe3ZhciBuPXRoaXMudHJhbnNpdGlvbnNbdF07bi5pblByb2dyZXNzJiYoZVt0XT1uLmF0dHJpYnV0ZUluVHJhbnNpdGlvbil9cmV0dXJuIGV9fSx7a2V5OiJydW4iLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNTdXBwb3J0ZWR8fDA9PT10aGlzLm51bUluc3RhbmNlcylyZXR1cm4hMTtmb3IodmFyIGUgaW4gdGhpcy50cmFuc2l0aW9ucyl7dGhpcy50cmFuc2l0aW9uc1tlXS51cGRhdGUoKSYmKHRoaXMubmVlZHNSZWRyYXc9ITApfXZhciB0PXRoaXMubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMubmVlZHNSZWRyYXc9ITEsdH19LHtrZXk6Il9yZW1vdmVUcmFuc2l0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnRyYW5zaXRpb25zW2VdLmNhbmNlbCgpLGRlbGV0ZSB0aGlzLnRyYW5zaXRpb25zW2VdfX0se2tleToiX3VwZGF0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMudHJhbnNpdGlvbnNbZV0saT0hcnx8ci50eXBlIT09bi50eXBlO2lmKGkpe3ImJnRoaXMuX3JlbW92ZVRyYW5zaXRpb24oZSk7dmFyIGE9UVtuLnR5cGVdO2E/dGhpcy50cmFuc2l0aW9uc1tlXT1uZXcgYSh7YXR0cmlidXRlOnQsdGltZWxpbmU6dGhpcy50aW1lbGluZSxnbDp0aGlzLmdsfSk6KFAuYS5lcnJvcigidW5zdXBwb3J0ZWQgdHJhbnNpdGlvbiB0eXBlICciLmNvbmNhdChuLnR5cGUsIiciKSkoKSxpPSExKX0oaXx8dC5uZWVkc1JlZHJhdygpKSYmKHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy50cmFuc2l0aW9uc1tlXS5zdGFydChuLHRoaXMubnVtSW5zdGFuY2VzKSl9fV0pLGV9KCk7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiAkfSkpO3ZhciAkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1uLmlkLGE9dm9pZCAwPT09cj8iYXR0cmlidXRlLW1hbmFnZXIiOnIsbz1uLnN0YXRzLHM9bi50aW1lbGluZTtpKCkodGhpcyxlKSx0aGlzLmlkPWEsdGhpcy5nbD10LHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLnVwZGF0ZVRyaWdnZXJzPXt9LHRoaXMuYWNjZXNzb3JzPXt9LHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy51c2VyRGF0YT17fSx0aGlzLnN0YXRzPW8sdGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlcj1uZXcgSih0LHtpZDoiIi5jb25jYXQoYSwiLXRyYW5zaXRpb25zIiksdGltZWxpbmU6c30pLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBvKCkoZSxbe2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuYXR0cmlidXRlcyl0aGlzLmF0dHJpYnV0ZXNbZV0uZGVsZXRlKCk7dGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlci5maW5hbGl6ZSgpfX0se2tleToiZ2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntjbGVhclJlZHJhd0ZsYWdzOiExfSx0PXRoaXMubmVlZHNSZWRyYXc7cmV0dXJuIHRoaXMubmVlZHNSZWRyYXc9dGhpcy5uZWVkc1JlZHJhdyYmIWUuY2xlYXJSZWRyYXdGbGFncyx0JiZ0aGlzLmlkfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5uZWVkc1JlZHJhdz0hMCx0aGlzfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2FkZChlLHQpfX0se2tleToiYWRkSW5zdGFuY2VkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2FkZChlLHQse2luc3RhbmNlZDoxfSl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO3ZvaWQgMCE9PXRoaXMuYXR0cmlidXRlc1tuXSYmKHRoaXMuYXR0cmlidXRlc1tuXS5kZWxldGUoKSxkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW25dKX19fSx7a2V5OiJpbnZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2ludmFsaWRhdGVUcmlnZ2VyKGUsdCk7T2JqZWN0KEIuYSkoImF0dHJpYnV0ZU1hbmFnZXIuaW52YWxpZGF0ZSIsdGhpcyxlLG4pfX0se2tleToiaW52YWxpZGF0ZUFsbCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuYXR0cmlidXRlcyl0aGlzLmF0dHJpYnV0ZXNbdF0uc2V0TmVlZHNVcGRhdGUodCxlKTtPYmplY3QoQi5hKSgiYXR0cmlidXRlTWFuYWdlci5pbnZhbGlkYXRlIix0aGlzLCJhbGwiKX19LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmRhdGEsbj1lLm51bUluc3RhbmNlcyxyPWUuc3RhcnRJbmRpY2VzLGk9dm9pZCAwPT09cj9udWxsOnIsYT1lLnRyYW5zaXRpb25zLG89ZS5wcm9wcyxzPXZvaWQgMD09PW8/e306byx1PWUuYnVmZmVycyxjPXZvaWQgMD09PXU/e306dSxsPWUuY29udGV4dCxoPXZvaWQgMD09PWw/e306bCxmPSExO2Zvcih2YXIgZCBpbiBPYmplY3QoQi5hKSgiYXR0cmlidXRlTWFuYWdlci51cGRhdGVTdGFydCIsdGhpcyksdGhpcy5zdGF0cyYmdGhpcy5zdGF0cy5nZXQoIlVwZGF0ZSBBdHRyaWJ1dGVzIikudGltZVN0YXJ0KCksdGhpcy5hdHRyaWJ1dGVzKXt2YXIgdj10aGlzLmF0dHJpYnV0ZXNbZF0scD12LnNldHRpbmdzLmFjY2Vzc29yO3Yuc3RhcnRJbmRpY2VzPWksc1tkXSYmUC5hLnJlbW92ZWQoInByb3BzLiIuY29uY2F0KGQpLCJkYXRhLmF0dHJpYnV0ZXMuIi5jb25jYXQoZCkpKCksdi5zZXRFeHRlcm5hbEJ1ZmZlcihjW2RdKXx8di5zZXRCaW5hcnlWYWx1ZShjW3BdLHQuc3RhcnRJbmRpY2VzKXx8IWNbcF0mJnYuc2V0Q29uc3RhbnRWYWx1ZShzW3BdKXx8di5uZWVkc1VwZGF0ZSgpJiYoZj0hMCx0aGlzLl91cGRhdGVBdHRyaWJ1dGUoe2F0dHJpYnV0ZTp2LG51bUluc3RhbmNlczpuLGRhdGE6dCxwcm9wczpzLGNvbnRleHQ6aH0pKSx0aGlzLm5lZWRzUmVkcmF3fD12Lm5lZWRzUmVkcmF3KCl9ZiYmT2JqZWN0KEIuYSkoImF0dHJpYnV0ZU1hbmFnZXIudXBkYXRlRW5kIix0aGlzLG4pLHRoaXMuc3RhdHMmJnRoaXMuc3RhdHMuZ2V0KCJVcGRhdGUgQXR0cmlidXRlcyIpLnRpbWVFbmQoKSx0aGlzLmF0dHJpYnV0ZVRyYW5zaXRpb25NYW5hZ2VyLnVwZGF0ZSh7YXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXMsbnVtSW5zdGFuY2VzOm4sdHJhbnNpdGlvbnM6YX0pfX0se2tleToidXBkYXRlVHJhbnNpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmF0dHJpYnV0ZVRyYW5zaXRpb25NYW5hZ2VyLnJ1bigpO3JldHVybiB0aGlzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXd8fGUsZX19LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc319LHtrZXk6ImdldENoYW5nZWRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJDaGFuZ2VkRmxhZ3M6ITF9LHQ9dGhpcy5hdHRyaWJ1dGVzLG49dGhpcy5hdHRyaWJ1dGVUcmFuc2l0aW9uTWFuYWdlcixyPU9iamVjdC5hc3NpZ24oe30sbi5nZXRBdHRyaWJ1dGVzKCkpO2Zvcih2YXIgaSBpbiB0KXt2YXIgYT10W2ldO2EubmVlZHNSZWRyYXcoZSkmJiFuLmhhc0F0dHJpYnV0ZShpKSYmKHJbaV09YSl9cmV0dXJuIHJ9fSx7a2V5OiJnZXRTaGFkZXJBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307ZXx8KGU9dGhpcy5nZXRBdHRyaWJ1dGVzKCkpO3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKXRbcl18fE9iamVjdC5hc3NpZ24obixlW3JdLmdldFNoYWRlckF0dHJpYnV0ZXMoKSk7cmV0dXJuIG59fSx7a2V5OiJnZXRBY2Nlc3NvcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVHJpZ2dlcnN9fSx7a2V5OiJfYWRkIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTt0JiZQLmEud2FybigiQXR0cmlidXRlTWFuYWdlci5hZGQoe3VwZGF0ZXJzfSkgLSB1cGRhdGVyIG1hcCBubyBsb25nZXIgc3VwcG9ydGVkIikoKTt2YXIgcj17fTtmb3IodmFyIGkgaW4gZSl7dmFyIGE9ZVtpXSxvPXRoaXMuX2NyZWF0ZUF0dHJpYnV0ZShpLGEsbik7cltpXT1vfU9iamVjdC5hc3NpZ24odGhpcy5hdHRyaWJ1dGVzLHIpLHRoaXMuX21hcFVwZGF0ZVRyaWdnZXJzVG9BdHRyaWJ1dGVzKCl9fSx7a2V5OiJfY3JlYXRlQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9e2lkOmUsY29uc3RhbnQ6dC5jb25zdGFudHx8ITEsaXNJbmRleGVkOnQuaXNJbmRleGVkfHx0LmVsZW1lbnRzLHNpemU6dC5lbGVtZW50cz8xOnQuc2l6ZSx2YWx1ZTp0LnZhbHVlfHxudWxsLGRpdmlzb3I6dC5pbnN0YW5jZWR8fG4uaW5zdGFuY2VkPzE6dC5kaXZpc29yfTtyZXR1cm4gbmV3IHoodGhpcy5nbCxPYmplY3QuYXNzaWduKHt9LHQscikpfX0se2tleToiX21hcFVwZGF0ZVRyaWdnZXJzVG9BdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17fSxuPWZ1bmN0aW9uKG4pe2UuYXR0cmlidXRlc1tuXS5nZXRVcGRhdGVUcmlnZ2VycygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV18fCh0W2VdPVtdKSx0W2VdLnB1c2gobil9KSl9O2Zvcih2YXIgciBpbiB0aGlzLmF0dHJpYnV0ZXMpbihyKTt0aGlzLnVwZGF0ZVRyaWdnZXJzPXR9fSx7a2V5OiJfaW52YWxpZGF0ZVRyaWdnZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLHI9dGhpcy51cGRhdGVUcmlnZ2Vyc1tlXTtyZXR1cm4gciYmci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1uW2VdO3ImJnIuc2V0TmVlZHNVcGRhdGUoci5pZCx0KX0pKSxyfX0se2tleToiX3VwZGF0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyaWJ1dGUsbj1lLm51bUluc3RhbmNlcztPYmplY3QoQi5hKSgiYXR0cmlidXRlLnVwZGF0ZVN0YXJ0Iix0KSx0LmFsbG9jYXRlKG4pJiZPYmplY3QoQi5hKSgiYXR0cmlidXRlLmFsbG9jYXRlIix0LG4pLHQudXBkYXRlQnVmZmVyKGUpJiYodGhpcy5uZWVkc1JlZHJhdz0hMCxPYmplY3QoQi5hKSgiYXR0cmlidXRlLnVwZGF0ZUVuZCIsdCxuKSl9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9big0KSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDE4OSksZz1uKDI3MikseT1uKDIwNiksbT1uKDEwOCksYj1uKDE2MSksXz1uKDcpLE89bi5uKF8pLHg9bigyMyksdz1uKDEwNSk7ZnVuY3Rpb24gUyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gayhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9TKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7TygpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpTKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfXZhciBQPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsdCk7dmFyIG49ZS5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KHcuYykoImNvbHVtbi1nZW9tZXRyeSIpOm4sYT1qKGUpLG89YS5pbmRpY2VzLHM9YS5hdHRyaWJ1dGVzO3JldHVybiB1KCkodGhpcyxsKCkodCkuY2FsbCh0aGlzLGsoe30sZSx7aWQ6cixpbmRpY2VzOm8sYXR0cmlidXRlczpzfSkpKX1yZXR1cm4gdigpKHQsZSksdH0obig2MCkuYSk7ZnVuY3Rpb24gaihlKXt2YXIgdD1lLnJhZGl1cyxuPWUuaGVpZ2h0LHI9dm9pZCAwPT09bj8xOm4saT1lLm5yYWRpYWwsYT12b2lkIDA9PT1pPzEwOmksbz1lLnZlcnRpY2VzO3guYS5hc3NlcnQoIW98fG8ubGVuZ3RoPj1hKTtmb3IodmFyIHM9YSsxLHU9MypzLGM9MipNYXRoLlBJL2EsbD1uZXcgVWludDE2QXJyYXkoMyphKjIpLGg9bmV3IEZsb2F0MzJBcnJheSgzKnUpLGY9bmV3IEZsb2F0MzJBcnJheSgzKnUpLGQ9MCx2PTA7djxzO3YrKylmb3IodmFyIHA9dipjLGc9byYmb1t2JWFdLHk9byYmb1sodisxKSVhXSxtPU1hdGguc2luKHApLGI9TWF0aC5jb3MocCksXz0wO188MjtfKyspaFtkKzBdPWc/Z1swXTpiKnQsaFtkKzFdPWc/Z1sxXTptKnQsaFtkKzJdPSguNS1fKSpyLGZbZCswXT1nP3lbMF0tZ1swXTpiLGZbZCsxXT1nP3lbMV0tZ1sxXTptLGQrPTM7Zm9yKHZhciBPPTA7TzxzO08rKyl7dmFyIHc9TWF0aC5mbG9vcihPLzIpKk1hdGguc2lnbihPJTItLjUpLFM9dypjLGs9byYmb1sodythKSVhXSxQPU1hdGguc2luKFMpLGo9TWF0aC5jb3MoUyk7aFtkKzBdPWs/a1swXTpqKnQsaFtkKzFdPWs/a1sxXTpQKnQsaFtkKzJdPXIvMixmW2QrMl09MSxkKz0zfWZvcih2YXIgVD0wLEU9MDtFPGE7RSsrKWxbVCsrXT0yKkUrMCxsW1QrK109MipFKzIsbFtUKytdPTIqRSswLGxbVCsrXT0yKkUrMSxsW1QrK109MipFKzEsbFtUKytdPTIqRSszO3JldHVybntpbmRpY2VzOmwsYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpofSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpmfX19fW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgVD1bMCwwLDAsMjU1XSxFPXtkaXNrUmVzb2x1dGlvbjp7dHlwZToibnVtYmVyIixtaW46NCx2YWx1ZToyMH0sdmVydGljZXM6bnVsbCxyYWRpdXM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MWUzfSxhbmdsZTp7dHlwZToibnVtYmVyIix2YWx1ZTowfSxvZmZzZXQ6e3R5cGU6ImFycmF5Iix2YWx1ZTpbMCwwXX0sY292ZXJhZ2U6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjEsdmFsdWU6MX0sZWxldmF0aW9uU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sbGluZVdpZHRoVW5pdHM6Im1ldGVycyIsbGluZVdpZHRoU2NhbGU6MSxsaW5lV2lkdGhNaW5QaXhlbHM6MCxsaW5lV2lkdGhNYXhQaXhlbHM6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsZXh0cnVkZWQ6ITAsd2lyZWZyYW1lOiExLGZpbGxlZDohMCxzdHJva2VkOiExLGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucG9zaXRpb259fSxnZXRGaWxsQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpUfSxnZXRMaW5lQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpUfSxnZXRMaW5lV2lkdGg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRFbGV2YXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxZTN9LG1hdGVyaWFsOiEwLGdldENvbG9yOntkZXByZWNhdGVkRm9yOlsiZ2V0RmlsbENvbG9yIiwiZ2V0TGluZUNvbG9yIl19fSxBPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gaSgpKHRoaXMsdCksdSgpKHRoaXMsbCgpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKSh0LGUpLG8oKSh0LFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmKCkobCgpKHQucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiXG4jZGVmaW5lIFNIQURFUl9OQU1FIGNvbHVtbi1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlRWxldmF0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUZpbGxDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUxpbmVDb2xvcnM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VTdHJva2VXaWR0aHM7XG5cbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgcmFkaXVzO1xudW5pZm9ybSBmbG9hdCBhbmdsZTtcbnVuaWZvcm0gdmVjMiBvZmZzZXQ7XG51bmlmb3JtIGJvb2wgZXh0cnVkZWQ7XG51bmlmb3JtIGJvb2wgaXNTdHJva2U7XG51bmlmb3JtIGZsb2F0IGNvdmVyYWdlO1xudW5pZm9ybSBmbG9hdCBlbGV2YXRpb25TY2FsZTtcbnVuaWZvcm0gZmxvYXQgZWRnZURpc3RhbmNlO1xudW5pZm9ybSBmbG9hdCB3aWR0aFNjYWxlO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgd2lkdGhNYXhQaXhlbHM7XG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG5cbiAgdmVjNCBjb2xvciA9IGlzU3Ryb2tlID8gaW5zdGFuY2VMaW5lQ29sb3JzIDogaW5zdGFuY2VGaWxsQ29sb3JzO1xuICBtYXQyIHJvdGF0aW9uTWF0cml4ID0gbWF0Mihjb3MoYW5nbGUpLCBzaW4oYW5nbGUpLCAtc2luKGFuZ2xlKSwgY29zKGFuZ2xlKSk7XG4gIGZsb2F0IGVsZXZhdGlvbiA9IDAuMDtcbiAgZmxvYXQgc3Ryb2tlT2Zmc2V0UmF0aW8gPSAxLjA7XG5cbiAgaWYgKGV4dHJ1ZGVkKSB7XG4gICAgZWxldmF0aW9uID0gaW5zdGFuY2VFbGV2YXRpb25zICogKHBvc2l0aW9ucy56ICsgMS4wKSAvIDIuMCAqIGVsZXZhdGlvblNjYWxlO1xuICB9IGVsc2UgaWYgKGlzU3Ryb2tlKSB7XG4gICAgZmxvYXQgd2lkdGhQaXhlbHMgPSBjbGFtcChwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VTdHJva2VXaWR0aHMgKiB3aWR0aFNjYWxlKSxcbiAgICAgIHdpZHRoTWluUGl4ZWxzLCB3aWR0aE1heFBpeGVscykgLyAyLjA7XG4gICAgc3Ryb2tlT2Zmc2V0UmF0aW8gKz0gc2lnbihwb3NpdGlvbnMueikgKiBwcm9qZWN0X3BpeGVsX3NpemUod2lkdGhQaXhlbHMpIC8gcHJvamVjdF9zaXplKGVkZ2VEaXN0YW5jZSAqIGNvdmVyYWdlICogcmFkaXVzKTtcbiAgfVxuICBmbG9hdCBzaG91bGRSZW5kZXIgPSBmbG9hdChjb2xvci5hID4gMC4wICYmIGluc3RhbmNlRWxldmF0aW9ucyA+PSAwLjApO1xuICBmbG9hdCBkb3RSYWRpdXMgPSByYWRpdXMgKiBjb3ZlcmFnZSAqIHNob3VsZFJlbmRlcjtcblxuICBnZW9tZXRyeS5ub3JtYWwgPSBwcm9qZWN0X25vcm1hbCh2ZWMzKHJvdGF0aW9uTWF0cml4ICogbm9ybWFscy54eSwgbm9ybWFscy56KSk7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgdmVjMyBjZW50cm9pZFBvc2l0aW9uID0gdmVjMyhpbnN0YW5jZVBvc2l0aW9ucy54eSwgaW5zdGFuY2VQb3NpdGlvbnMueiArIGVsZXZhdGlvbik7XG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbjY0TG93ID0gaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbiAgdmVjMyBwb3MgPSB2ZWMzKHByb2plY3Rfc2l6ZShyb3RhdGlvbk1hdHJpeCAqIHBvc2l0aW9ucy54eSAqIHN0cm9rZU9mZnNldFJhdGlvICsgb2Zmc2V0KSAqIGRvdFJhZGl1cywgMC4pO1xuICBERUNLR0xfRklMVEVSX1NJWkUocG9zLCBnZW9tZXRyeSk7XG5cbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjZW50cm9pZFBvc2l0aW9uLCBjZW50cm9pZFBvc2l0aW9uNjRMb3csIHBvcywgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG4gIGlmIChleHRydWRlZCAmJiAhaXNTdHJva2UpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgcHJvamVjdF91Q2FtZXJhUG9zaXRpb24sIGdlb21ldHJ5LnBvc2l0aW9uLnh5eiwgZ2VvbWV0cnkubm9ybWFsKTtcbiAgICB2Q29sb3IgPSB2ZWM0KGxpZ2h0Q29sb3IsIGNvbG9yLmEgKiBvcGFjaXR5KTtcbiAgfSBlbHNlIHtcbiAgICB2Q29sb3IgPSB2ZWM0KGNvbG9yLnJnYiwgY29sb3IuYSAqIG9wYWNpdHkpO1xuICB9XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGNvbHVtbi1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZUVsZXZhdGlvbnM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRFbGV2YXRpb24ifSxpbnN0YW5jZUZpbGxDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0RmlsbENvbG9yIixkZWZhdWx0VmFsdWU6VH0saW5zdGFuY2VMaW5lQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldExpbmVDb2xvciIsZGVmYXVsdFZhbHVlOlR9LGluc3RhbmNlU3Ryb2tlV2lkdGhzOntzaXplOjEsYWNjZXNzb3I6ImdldExpbmVXaWR0aCIsdHJhbnNpdGlvbjohMH19KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lLnByb3BzLHI9ZS5vbGRQcm9wcyxpPWUuY2hhbmdlRmxhZ3M7ZigpKGwoKSh0LnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse3Byb3BzOm4sb2xkUHJvcHM6cixjaGFuZ2VGbGFnczppfSk7dmFyIGE9aS5leHRlbnNpb25zQ2hhbmdlZDtpZihhKXt2YXIgbz10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChvKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX0oYXx8bi5kaXNrUmVzb2x1dGlvbiE9PXIuZGlza1Jlc29sdXRpb258fG4udmVydGljZXMhPT1yLnZlcnRpY2VzKSYmdGhpcy5fdXBkYXRlR2VvbWV0cnkobil9fSx7a2V5OiJnZXRHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgUCh7cmFkaXVzOjEsaGVpZ2h0OjIsdmVydGljZXM6dCxucmFkaWFsOmV9KSxyPTA7aWYodClmb3IodmFyIGk9MDtpPGU7aSsrKXt2YXIgYT10W2ldO3IrPU1hdGguc3FydChhWzBdKmFbMF0rYVsxXSphWzFdKS9lfWVsc2Ugcj0xO3JldHVybiB0aGlzLnNldFN0YXRlKHtlZGdlRGlzdGFuY2U6TWF0aC5jb3MoTWF0aC5QSS9lKSpyfSksbn19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBiLmEoZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGlzSW5zdGFuY2VkOiEwfSkpfX0se2tleToiX3VwZGF0ZUdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRpc2tSZXNvbHV0aW9uLG49ZS52ZXJ0aWNlcyxyPXRoaXMuZ2V0R2VvbWV0cnkodCxuKTt0aGlzLnNldFN0YXRlKHtmaWxsVmVydGV4Q291bnQ6ci5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLmxlbmd0aC8zLHdpcmVmcmFtZVZlcnRleENvdW50OnIuaW5kaWNlcy52YWx1ZS5sZW5ndGh9KSx0aGlzLnN0YXRlLm1vZGVsLnNldFByb3BzKHtnZW9tZXRyeTpyfSl9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIubGluZVdpZHRoVW5pdHMsYT1yLmxpbmVXaWR0aFNjYWxlLG89ci5saW5lV2lkdGhNaW5QaXhlbHMscz1yLmxpbmVXaWR0aE1heFBpeGVscyx1PXIuZWxldmF0aW9uU2NhbGUsYz1yLmV4dHJ1ZGVkLGw9ci5maWxsZWQsaD1yLnN0cm9rZWQsZj1yLndpcmVmcmFtZSxkPXIub2Zmc2V0LHY9ci5jb3ZlcmFnZSxwPXIucmFkaXVzLGc9ci5hbmdsZSx5PXRoaXMuc3RhdGUsbT15Lm1vZGVsLGI9eS5maWxsVmVydGV4Q291bnQsXz15LndpcmVmcmFtZVZlcnRleENvdW50LE89eS5lZGdlRGlzdGFuY2UseD0icGl4ZWxzIj09PWk/bi5tZXRlcnNQZXJQaXhlbDoxO20uc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0LHtyYWRpdXM6cCxhbmdsZTpnLzE4MCpNYXRoLlBJLG9mZnNldDpkLGV4dHJ1ZGVkOmMsY292ZXJhZ2U6dixlbGV2YXRpb25TY2FsZTp1LGVkZ2VEaXN0YW5jZTpPLHdpZHRoU2NhbGU6YSp4LHdpZHRoTWluUGl4ZWxzOm8sd2lkdGhNYXhQaXhlbHM6c30pKSxjJiZmJiYobS5zZXRQcm9wcyh7aXNJbmRleGVkOiEwfSksbS5zZXRWZXJ0ZXhDb3VudChfKS5zZXREcmF3TW9kZSgxKS5zZXRVbmlmb3Jtcyh7aXNTdHJva2U6ITB9KS5kcmF3KCkpLGwmJihtLnNldFByb3BzKHtpc0luZGV4ZWQ6ITF9KSxtLnNldFZlcnRleENvdW50KGIpLnNldERyYXdNb2RlKDUpLnNldFVuaWZvcm1zKHtpc1N0cm9rZTohMX0pLmRyYXcoKSksIWMmJmgmJihtLnNldFByb3BzKHtpc0luZGV4ZWQ6ITF9KSxtLnNldFZlcnRleENvdW50KDIqYi8zKS5zZXREcmF3TW9kZSg1KS5zZXRVbmlmb3Jtcyh7aXNTdHJva2U6ITB9KS5kcmF3KCkpfX1dKSx0fShtLmEpO0EubGF5ZXJOYW1lPSJDb2x1bW5MYXllciIsQS5kZWZhdWx0UHJvcHM9RX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oMTg5KSxnPW4oMjA2KSx5PW4oMTA4KSxtPW4oMTYxKSxiPW4oNjApO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKTt2YXIgXz1bMCwwLDAsMjU1XSxPPXtyYWRpdXNTY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxyYWRpdXNNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0scmFkaXVzTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxsaW5lV2lkdGhVbml0czoibWV0ZXJzIixsaW5lV2lkdGhTY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxsaW5lV2lkdGhNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sbGluZVdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSfSxzdHJva2VkOiExLGZpbGxlZDohMCxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvc2l0aW9ufX0sZ2V0UmFkaXVzOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sZ2V0RmlsbENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6X30sZ2V0TGluZUNvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6X30sZ2V0TGluZVdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sc3Ryb2tlV2lkdGg6e2RlcHJlY2F0ZWRGb3I6ImdldExpbmVXaWR0aCJ9LG91dGxpbmU6e2RlcHJlY2F0ZWRGb3I6InN0cm9rZWQifSxnZXRDb2xvcjp7ZGVwcmVjYXRlZEZvcjpbImdldEZpbGxDb2xvciIsImdldExpbmVDb2xvciJdfX0seD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkodCxlKSxvKCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShsKCkodC5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjYXR0ZXJwbG90LWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuXG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VSYWRpdXM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VMaW5lV2lkdGhzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VGaWxsQ29sb3JzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VMaW5lQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IHJhZGl1c1NjYWxlO1xudW5pZm9ybSBmbG9hdCByYWRpdXNNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHJhZGl1c01heFBpeGVscztcbnVuaWZvcm0gZmxvYXQgbGluZVdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IGxpbmVXaWR0aE1pblBpeGVscztcbnVuaWZvcm0gZmxvYXQgbGluZVdpZHRoTWF4UGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzdHJva2VkO1xudW5pZm9ybSBib29sIGZpbGxlZDtcblxudmFyeWluZyB2ZWM0IHZGaWxsQ29sb3I7XG52YXJ5aW5nIHZlYzQgdkxpbmVDb2xvcjtcbnZhcnlpbmcgdmVjMiB1bml0UG9zaXRpb247XG52YXJ5aW5nIGZsb2F0IGlubmVyVW5pdFJhZGl1cztcbnZhcnlpbmcgZmxvYXQgb3V0ZXJSYWRpdXNQaXhlbHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVBvc2l0aW9ucztcbiAgb3V0ZXJSYWRpdXNQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwocmFkaXVzU2NhbGUgKiBpbnN0YW5jZVJhZGl1cyksXG4gICAgcmFkaXVzTWluUGl4ZWxzLCByYWRpdXNNYXhQaXhlbHNcbiAgKTtcbiAgZmxvYXQgbGluZVdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGxpbmVXaWR0aFNjYWxlICogaW5zdGFuY2VMaW5lV2lkdGhzKSxcbiAgICBsaW5lV2lkdGhNaW5QaXhlbHMsIGxpbmVXaWR0aE1heFBpeGVsc1xuICApO1xuICBvdXRlclJhZGl1c1BpeGVscyArPSBzdHJva2VkICogbGluZVdpZHRoUGl4ZWxzIC8gMi4wO1xuICB1bml0UG9zaXRpb24gPSBwb3NpdGlvbnMueHk7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbiAgaW5uZXJVbml0UmFkaXVzID0gMS4wIC0gc3Ryb2tlZCAqIGxpbmVXaWR0aFBpeGVscyAvIG91dGVyUmFkaXVzUGl4ZWxzO1xuICBcbiAgdmVjMyBvZmZzZXQgPSBwb3NpdGlvbnMgKiBwcm9qZWN0X3BpeGVsX3NpemUob3V0ZXJSYWRpdXNQaXhlbHMpO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIG9mZnNldCwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG4gIHZGaWxsQ29sb3IgPSB2ZWM0KGluc3RhbmNlRmlsbENvbG9ycy5yZ2IsIGluc3RhbmNlRmlsbENvbG9ycy5hICogb3BhY2l0eSk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkZpbGxDb2xvciwgZ2VvbWV0cnkpO1xuICB2TGluZUNvbG9yID0gdmVjNChpbnN0YW5jZUxpbmVDb2xvcnMucmdiLCBpbnN0YW5jZUxpbmVDb2xvcnMuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZMaW5lQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgc2NhdHRlcnBsb3QtbGF5ZXItZnJhZ21lbnQtc2hhZGVyXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxudW5pZm9ybSBib29sIGZpbGxlZDtcbnVuaWZvcm0gZmxvYXQgc3Ryb2tlZDtcblxudmFyeWluZyB2ZWM0IHZGaWxsQ29sb3I7XG52YXJ5aW5nIHZlYzQgdkxpbmVDb2xvcjtcbnZhcnlpbmcgdmVjMiB1bml0UG9zaXRpb247XG52YXJ5aW5nIGZsb2F0IGlubmVyVW5pdFJhZGl1cztcbnZhcnlpbmcgZmxvYXQgb3V0ZXJSYWRpdXNQaXhlbHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuXG4gIGZsb2F0IGRpc3RUb0NlbnRlciA9IGxlbmd0aCh1bml0UG9zaXRpb24pICogb3V0ZXJSYWRpdXNQaXhlbHM7XG4gIGZsb2F0IGluQ2lyY2xlID0gc21vb3RoZWRnZShkaXN0VG9DZW50ZXIsIG91dGVyUmFkaXVzUGl4ZWxzKTtcblxuICBpZiAoaW5DaXJjbGUgPT0gMC4wKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGlmIChzdHJva2VkID4gMC41KSB7XG4gICAgZmxvYXQgaXNMaW5lID0gc21vb3RoZWRnZShpbm5lclVuaXRSYWRpdXMgKiBvdXRlclJhZGl1c1BpeGVscywgZGlzdFRvQ2VudGVyKTtcbiAgICBpZiAoZmlsbGVkKSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSBtaXgodkZpbGxDb2xvciwgdkxpbmVDb2xvciwgaXNMaW5lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTGluZSA9PSAwLjApIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cbiAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodkxpbmVDb2xvci5yZ2IsIHZMaW5lQ29sb3IuYSAqIGlzTGluZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGZpbGxlZCkge1xuICAgIGdsX0ZyYWdDb2xvciA9IHZGaWxsQ29sb3I7XG4gIH0gZWxzZSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuXG4gIGdsX0ZyYWdDb2xvci5hICo9IGluQ2lyY2xlO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltwLmEsZy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZVJhZGl1czp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFJhZGl1cyIsZGVmYXVsdFZhbHVlOjF9LGluc3RhbmNlRmlsbENvbG9yczp7c2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0cmFuc2l0aW9uOiEwLG5vcm1hbGl6ZWQ6ITAsdHlwZTo1MTIxLGFjY2Vzc29yOiJnZXRGaWxsQ29sb3IiLGRlZmF1bHRWYWx1ZTpbMCwwLDAsMjU1XX0saW5zdGFuY2VMaW5lQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHRyYW5zaXRpb246ITAsbm9ybWFsaXplZDohMCx0eXBlOjUxMjEsYWNjZXNzb3I6ImdldExpbmVDb2xvciIsZGVmYXVsdFZhbHVlOlswLDAsMCwyNTVdfSxpbnN0YW5jZUxpbmVXaWR0aHM6e3NpemU6MSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRMaW5lV2lkdGgiLGRlZmF1bHRWYWx1ZToxfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUucHJvcHMscj1lLm9sZFByb3BzLGk9ZS5jaGFuZ2VGbGFncztpZihmKCkobCgpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIucmFkaXVzU2NhbGUsYT1yLnJhZGl1c01pblBpeGVscyxvPXIucmFkaXVzTWF4UGl4ZWxzLHM9ci5zdHJva2VkLHU9ci5maWxsZWQsYz1yLmxpbmVXaWR0aFVuaXRzLGw9ci5saW5lV2lkdGhTY2FsZSxoPXIubGluZVdpZHRoTWluUGl4ZWxzLGY9ci5saW5lV2lkdGhNYXhQaXhlbHMsZD0icGl4ZWxzIj09PWM/bi5tZXRlcnNQZXJQaXhlbDoxO3RoaXMuc3RhdGUubW9kZWwuc2V0VW5pZm9ybXModCkuc2V0VW5pZm9ybXMoe3N0cm9rZWQ6cz8xOjAsZmlsbGVkOnUscmFkaXVzU2NhbGU6aSxyYWRpdXNNaW5QaXhlbHM6YSxyYWRpdXNNYXhQaXhlbHM6byxsaW5lV2lkdGhTY2FsZTpsKmQsbGluZVdpZHRoTWluUGl4ZWxzOmgsbGluZVdpZHRoTWF4UGl4ZWxzOmZ9KS5kcmF3KCl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbS5hKGUsT2JqZWN0LmFzc2lnbih0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgYi5hKHtkcmF3TW9kZTo2LHZlcnRleENvdW50OjQsYXR0cmlidXRlczp7cG9zaXRpb25zOntzaXplOjMsdmFsdWU6bmV3IEZsb2F0MzJBcnJheShbLTEsLTEsMCwtMSwxLDAsMSwxLDAsMSwtMSwwXSl9fX0pLGlzSW5zdGFuY2VkOiEwfSkpfX1dKSx0fSh5LmEpO3gubGF5ZXJOYW1lPSJTY2F0dGVycGxvdExheWVyIix4LmRlZmF1bHRQcm9wcz1PfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOCksaT1uLm4ociksYT1uKDEzKSxvPW4oMTg3KSxzPW4oODUpLHU9big1MyksYz1uKDc1KSxsPW4oNzYpLGg9big3OSksZj1uKDE0MSksZD1uKDEyNSksdj1uKDE4OCk7ZnVuY3Rpb24gcChlLHQsbixyKXtpZighZC5hLmlzU3VwcG9ydGVkKCkpcmV0dXJuITE7dmFyIGk9biYmbltlLmlkXTtyZXR1cm4hISgibG9jYWwiPT09bi53b3JrZXImJmkmJmkubG9jYWxXb3JrZXJVcmx8fG4ud29ya2VyJiZpJiZpLndvcmtlclVybCkmJighZS51c2VXb3JrZXJ8fGUudXNlV29ya2VyKG4pKX1mdW5jdGlvbiBnKGUsdCxuLHIpe3ZhciBpPShufHx7fSkud29ya2VyLGE9biYmbltlLmlkXXx8e30sbz0ibG9jYWwiPT09aT9hLmxvY2FsV29ya2VyVXJsOmEud29ya2VyVXJsLHM9InVybCgiLmNvbmNhdChvLCIpIiksdT1lLm5hbWUsYz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PXt9O2UubWF4Q29uY3VycmVuY3kmJih0Lm1heENvbmN1cnJlbmN5PWUubWF4Q29uY3VycmVuY3kpO2Uub25EZWJ1ZyYmKHQub25EZWJ1Zz1lLm9uRGVidWcpO3l8fCh5PW5ldyBkLmEoe29uTWVzc2FnZTptfSkpO3JldHVybiB5LnNldFByb3BzKHQpLHl9KG4pO249SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSk7dmFyIGw9IjIuMS4xIiE9PWUudmVyc2lvbj8iKGNvcmUgdmVyc2lvbiAiLmNvbmNhdCgiMi4xLjEiLCIpIik6IiI7cmV0dXJuIGMucHJvY2VzcyhzLCIiLmNvbmNhdCh1LCItd29ya2VyQCIpLmNvbmNhdChlLnZlcnNpb24pLmNvbmNhdChsKSx7YXJyYXlidWZmZXI6T2JqZWN0KGYuYSkodCksb3B0aW9uczpuLHNvdXJjZToibG9hZGVycy5nbEAiLmNvbmNhdCgiMi4xLjEiKSx0eXBlOiJwYXJzZSJ9KX12YXIgeT1udWxsO2Z1bmN0aW9uIG0oZSl7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGEsbyxzO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6bj10LndvcmtlcixyPXQuZGF0YSxhPXQucmVzb2x2ZSxvPXQucmVqZWN0LGUudDA9ci50eXBlLGUubmV4dD0iZG9uZSI9PT1lLnQwPzQ6InBhcnNlIj09PWUudDA/NjoiZXJyb3IiPT09ZS50MD8xNzoxOTticmVhaztjYXNlIDQ6cmV0dXJuIGEoci5yZXN1bHQpLGUuYWJydXB0KCJicmVhayIsMTkpO2Nhc2UgNjpyZXR1cm4gZS5wcmV2PTYsZS5uZXh0PTksTyhyLmFycmF5YnVmZmVyLHIub3B0aW9ucyxyLnVybCk7Y2FzZSA5OnM9ZS5zZW50LG4ucG9zdE1lc3NhZ2Uoe3R5cGU6InBhcnNlLWRvbmUiLGlkOnIuaWQscmVzdWx0OnN9LE9iamVjdCh2LmEpKHMpKSxlLm5leHQ9MTY7YnJlYWs7Y2FzZSAxMzplLnByZXY9MTMsZS50MT1lLmNhdGNoKDYpLG4ucG9zdE1lc3NhZ2Uoe3R5cGU6InBhcnNlLWVycm9yIixpZDpyLmlkLG1lc3NhZ2U6ZS50MS5tZXNzYWdlfSk7Y2FzZSAxNjpyZXR1cm4gZS5hYnJ1cHQoImJyZWFrIiwxOSk7Y2FzZSAxNzpyZXR1cm4gbyhyLm1lc3NhZ2UpLGUuYWJydXB0KCJicmVhayIsMTkpO2Nhc2UgMTk6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1s2LDEzXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBfPW4oNjkpO2Z1bmN0aW9uIE8oZSx0LG4scil7cmV0dXJuIHguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHgoKXtyZXR1cm4oeD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixhKXt2YXIgbyxzLGYsZDtyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKCFufHxBcnJheS5pc0FycmF5KG4pfHxPYmplY3QodS5hKShuKXx8KGE9cixyPW4sbj1udWxsKSxvPSIiLCJzdHJpbmciPT10eXBlb2YgYSYmKG89YSxhPW51bGwpLHI9cnx8e30scz1PYmplY3QobC5lKSh0LG8pLGY9T2JqZWN0KGguYikobixhKSxkPU9iamVjdChfLmEpKGYscyx0KSl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLG51bGwpO2Nhc2UgOTpyZXR1cm4gcj1PYmplY3QoYy5hKShkLHIscyksYT1PYmplY3QoaC5hKSh7dXJsOnMscGFyc2U6Tyxsb2FkZXJzOmZ9LHIsYSksZS5uZXh0PTEzLHcoZCx0LHIsYSk7Y2FzZSAxMzpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdyhlLHQsbixyKXtyZXR1cm4gUy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUygpe3JldHVybihTPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyLGEpe3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIE9iamVjdChvLmEpKHQpLGUubmV4dD0zLE9iamVjdChsLmEpKG4sdCk7Y2FzZSAzOmlmKG49ZS5zZW50LCF0LnBhcnNlVGV4dFN5bmN8fCJzdHJpbmciIT10eXBlb2Ygbil7ZS5uZXh0PTc7YnJlYWt9cmV0dXJuIHIuZGF0YVR5cGU9InRleHQiLGUuYWJydXB0KCJyZXR1cm4iLHQucGFyc2VUZXh0U3luYyhuLHIsYSx0KSk7Y2FzZSA3OmlmKCFwKHQsMCxyKSl7ZS5uZXh0PTExO2JyZWFrfXJldHVybiBlLm5leHQ9MTAsZyh0LG4scik7Y2FzZSAxMDpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDExOmlmKCF0LnBhcnNlKXtlLm5leHQ9MTU7YnJlYWt9cmV0dXJuIGUubmV4dD0xNCx0LnBhcnNlKG4scixhLHQpO2Nhc2UgMTQ6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSAxNTpyZXR1cm4gT2JqZWN0KHMuYSkoIXQucGFyc2VTeW5jKSxlLmFicnVwdCgicmV0dXJuIixPYmplY3Qocy5hKSghMSkpO2Nhc2UgMTc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big4KSxpPW4ubihyKSxhPW4oMTMpLG89big1KSxzPW4oNiksdT1uKDg1KSxjPW5ldyBNYXA7ZnVuY3Rpb24gbChlKXtyZXR1cm4idHJ5IHtcbiAgaW1wb3J0U2NyaXB0cygnIi5jb25jYXQoZSwiJyk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKGVycm9yKTtcbn0iKX12YXIgaD1uKDE4OCk7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBmPTA7ZnVuY3Rpb24gZChlKXt2YXIgdD1lLmRhdGE7KDAsZS5yZXNvbHZlKSh0KX12YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dC5zb3VyY2Uscj10Lm5hbWUsaT12b2lkIDA9PT1yPyJ3ZWItd29ya2VyLSIuY29uY2F0KGYrKyk6cixhPXQub25NZXNzYWdlO09iamVjdChvLmEpKHRoaXMsZSk7dmFyIHM9ZnVuY3Rpb24oZSl7aWYoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxPYmplY3QodS5hKSgic3RyaW5nIj09dHlwZW9mIGUsIndvcmtlciBzb3VyY2UiKSxlLnN0YXJ0c1dpdGgoInVybCgiKSYmZS5lbmRzV2l0aCgiKSIpKXt2YXIgdD1lLm1hdGNoKC9edXJsXCgoLiopXCkkLylbMV07aWYodCYmIXQuc3RhcnRzV2l0aCgiaHR0cCIpKXJldHVybiB0O2U9bCh0KX12YXIgbj1jLmdldChlKTtpZighbil7dmFyIHI9bmV3IEJsb2IoW2VdLHt0eXBlOiJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0In0pO249VVJMLmNyZWF0ZU9iamVjdFVSTChyKSxjLnNldChlLG4pfXJldHVybiBufShuLGkpO3RoaXMud29ya2VyPW5ldyBXb3JrZXIocyx7bmFtZTppfSksdGhpcy5uYW1lPWksdGhpcy5vbk1lc3NhZ2U9YXx8ZH12YXIgdDtyZXR1cm4gT2JqZWN0KHMuYSkoZSxbe2tleToicHJvY2VzcyIsdmFsdWU6KHQ9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG49dGhpcztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxyKXtuLndvcmtlci5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG4ub25NZXNzYWdlKHt3b3JrZXI6bi53b3JrZXIsZGF0YTp0LmRhdGEscmVzb2x2ZTplLHJlamVjdDpyfSl9LG4ud29ya2VyLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9IiIuY29uY2F0KG4ubmFtZSwiOiBXb3JrZXJUaHJlYWQucHJvY2VzcygpIGZhaWxlZCIpO2UubWVzc2FnZSYmKHQrPSIgIi5jb25jYXQoZS5tZXNzYWdlLCIgIikuY29uY2F0KGUuZmlsZW5hbWUsIjoiKS5jb25jYXQoZS5saW5lbm8sIjoiKS5jb25jYXQoZS5jb2xubykpO3ZhciBpPW5ldyBFcnJvcih0KTtjb25zb2xlLmVycm9yKGUpLHIoaSl9O3ZhciBpPU9iamVjdChoLmEpKHQpO24ud29ya2VyLnBvc3RNZXNzYWdlKHQsaSl9KSkpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndvcmtlci50ZXJtaW5hdGUoKSx0aGlzLndvcmtlcj1udWxsfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjE3KSxpPXtuYW1lOiJnZW9tZXRyeSIsdnM6Ilxuc3RydWN0IFZlcnRleEdlb21ldHJ5IHtcbiAgdmVjNCBwb3NpdGlvbjtcbiAgdmVjMyB3b3JsZFBvc2l0aW9uO1xuICB2ZWMzIHdvcmxkUG9zaXRpb25BbHQ7XG4gIHZlYzMgbm9ybWFsO1xuICB2ZWMyIHV2O1xuICB2ZWMzIHBpY2tpbmdDb2xvcjtcbn0gZ2VvbWV0cnk7XG4iLGZzOiJcbiNkZWZpbmUgU01PT1RIX0VER0VfUkFESVVTIDAuNVxuXG5zdHJ1Y3QgRnJhZ21lbnRHZW9tZXRyeSB7XG4gIHZlYzIgdXY7XG59IGdlb21ldHJ5O1xuXG5mbG9hdCBzbW9vdGhlZGdlKGZsb2F0IGVkZ2UsIGZsb2F0IHgpIHtcbiAgcmV0dXJuIHNtb290aHN0ZXAoZWRnZSAtIFNNT09USF9FREdFX1JBRElVUywgZWRnZSArIFNNT09USF9FREdFX1JBRElVUywgeCk7XG59XG4ifSxhPW4oMTAxKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIG89W2ksYS5hXSxzPVsidnM6REVDS0dMX0ZJTFRFUl9TSVpFKGlub3V0IHZlYzMgc2l6ZSwgVmVydGV4R2VvbWV0cnkgZ2VvbWV0cnkpIiwidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTihpbm91dCB2ZWM0IHBvc2l0aW9uLCBWZXJ0ZXhHZW9tZXRyeSBnZW9tZXRyeSkiLCJ2czpERUNLR0xfRklMVEVSX0NPTE9SKGlub3V0IHZlYzQgY29sb3IsIFZlcnRleEdlb21ldHJ5IGdlb21ldHJ5KSIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IoaW5vdXQgdmVjNCBjb2xvciwgRnJhZ21lbnRHZW9tZXRyeSBnZW9tZXRyeSkiXTtmdW5jdGlvbiB1KGUpe3ZhciB0PXIuYS5nZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIoZSksbj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1vW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHU9Yy5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBsPXUudmFsdWU7dC5hZGREZWZhdWx0TW9kdWxlKGwpfX1jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19dmFyIGg9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShoPSh2PXAubmV4dCgpKS5kb25lKTtoPSEwKXt2YXIgZz12LnZhbHVlO3QuYWRkU2hhZGVySG9vayhnKX19Y2F0Y2goZSl7Zj0hMCxkPWV9ZmluYWxseXt0cnl7aHx8bnVsbD09cC5yZXR1cm58fHAucmV0dXJuKCl9ZmluYWxseXtpZihmKXRocm93IGR9fXJldHVybiB0fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDcpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMyksdT1uLm4ocyksYz1uKDQ0KSxsPW4oOSksaD1uLm4obCksZj1uKDQpLGQ9bi5uKGYpLHY9bigxMCkscD1uLm4odiksZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG8oKSh0aGlzLHQpLGgoKSh0aGlzLGQoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBwKCkodCxlKSx0fShuKDkxKS5hKSx5PW4oMTU5KSxtPW4oNzEpO2Z1bmN0aW9uIGIoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKTt2YXIgXz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7bygpKHRoaXMsZSksdGhpcy5nbD10LHRoaXMubGF5ZXJGaWx0ZXI9bnVsbCx0aGlzLmRyYXdQaWNraW5nQ29sb3JzPSExLHRoaXMuZHJhd0xheWVyc1Bhc3M9bmV3IGcodCksdGhpcy5waWNrTGF5ZXJzUGFzcz1uZXcgeS5hKHQpLHRoaXMucmVuZGVyQ291bnQ9MCx0aGlzLl9uZWVkc1JlZHJhdz0iSW5pdGlhbCByZW5kZXIiLHRoaXMucmVuZGVyQnVmZmVycz1bXSx0aGlzLmxhc3RQb3N0UHJvY2Vzc0VmZmVjdD1udWxsLHRoaXMuX29uRXJyb3I9bnVsbH1yZXR1cm4gdSgpKGUsW3trZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXsibGF5ZXJGaWx0ZXIiaW4gZSYmdGhpcy5sYXllckZpbHRlciE9PWUubGF5ZXJGaWx0ZXImJih0aGlzLmxheWVyRmlsdGVyPWUubGF5ZXJGaWx0ZXIsdGhpcy5fbmVlZHNSZWRyYXc9ImxheWVyRmlsdGVyIGNoYW5nZWQiKSwiZHJhd1BpY2tpbmdDb2xvcnMiaW4gZSYmdGhpcy5kcmF3UGlja2luZ0NvbG9ycyE9PWUuZHJhd1BpY2tpbmdDb2xvcnMmJih0aGlzLmRyYXdQaWNraW5nQ29sb3JzPWUuZHJhd1BpY2tpbmdDb2xvcnMsdGhpcy5fbmVlZHNSZWRyYXc9ImRyYXdQaWNraW5nQ29sb3JzIGNoYW5nZWQiKSwib25FcnJvciJpbiBlJiYodGhpcy5fb25FcnJvcj1lLm9uRXJyb3IpfX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmRyYXdQaWNraW5nQ29sb3JzP3RoaXMucGlja0xheWVyc1Bhc3M6dGhpcy5kcmF3TGF5ZXJzUGFzcztlLmxheWVyRmlsdGVyPXRoaXMubGF5ZXJGaWx0ZXIsZS5vbkVycm9yPXRoaXMuX29uRXJyb3IsZS5lZmZlY3RzPWUuZWZmZWN0c3x8W10sZS50YXJnZXQ9ZS50YXJnZXR8fG0uYS5nZXREZWZhdWx0RnJhbWVidWZmZXIodGhpcy5nbCksdGhpcy5fcHJlUmVuZGVyKGUuZWZmZWN0cyxlKTt2YXIgbj10aGlzLmxhc3RQb3N0UHJvY2Vzc0VmZmVjdD90aGlzLnJlbmRlckJ1ZmZlcnNbMF06ZS50YXJnZXQscj10LnJlbmRlcihmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9iKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aSgpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpiKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfSh7fSxlLHt0YXJnZXQ6bn0pKTt0aGlzLl9wb3N0UmVuZGVyKGUuZWZmZWN0cyxlKSx0aGlzLnJlbmRlckNvdW50KyssT2JqZWN0KGMuYSkoImRlY2tSZW5kZXJlci5yZW5kZXJMYXllcnMiLHRoaXMscixlKX19LHtrZXk6Im5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJSZWRyYXdGbGFnczohMX0sdD10aGlzLl9uZWVkc1JlZHJhdztyZXR1cm4gZS5jbGVhclJlZHJhd0ZsYWdzJiYodGhpcy5fbmVlZHNSZWRyYXc9ITEpLHR9fSx7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlbmRlckJ1ZmZlcnMsdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe2kudmFsdWUuZGVsZXRlKCl9fWNhdGNoKGUpe249ITAscj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX1lLmxlbmd0aD0wfX0se2tleToiX3ByZVJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UucHJlUmVuZGVyKHRoaXMuZ2wsdCksdS5wb3N0UmVuZGVyJiYobj11KX19Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fW4mJnRoaXMuX3Jlc2l6ZVJlbmRlckJ1ZmZlcnMoKSx0aGlzLmxhc3RQb3N0UHJvY2Vzc0VmZmVjdD1ufX0se2tleToiX3Jlc2l6ZVJlbmRlckJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZW5kZXJCdWZmZXJzOzA9PT1lLmxlbmd0aCYmZS5wdXNoKG5ldyBtLmEodGhpcy5nbCksbmV3IG0uYSh0aGlzLmdsKSk7dmFyIHQ9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXtpLnZhbHVlLnJlc2l6ZSgpfX1jYXRjaChlKXtuPSEwLHI9ZX1maW5hbGx5e3RyeXt0fHxudWxsPT1hLnJldHVybnx8YS5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgcn19fX0se2tleToiX3Bvc3RSZW5kZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5yZW5kZXJCdWZmZXJzLHI9e2lucHV0QnVmZmVyOm5bMF0sc3dhcEJ1ZmZlcjpuWzFdLHRhcmdldDpudWxsfSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtpZihjLnBvc3RSZW5kZXIpe2lmKGM9PT10aGlzLmxhc3RQb3N0UHJvY2Vzc0VmZmVjdCl7ci50YXJnZXQ9dC50YXJnZXQsYy5wb3N0UmVuZGVyKHRoaXMuZ2wscik7YnJlYWt9dmFyIGw9Yy5wb3N0UmVuZGVyKHRoaXMuZ2wscik7ci5pbnB1dEJ1ZmZlcj1sLHIuc3dhcEJ1ZmZlcj1sPT09blswXT9uWzFdOm5bMF19fX1jYXRjaChlKXthPSEwLG89ZX1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDI2KSxpPW4oMTUyKTtmdW5jdGlvbiBhKCl7cmV0dXJuISgib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIHByb2Nlc3M/InVuZGVmaW5lZCI6T2JqZWN0KHIuYSkocHJvY2VzcykpJiYiW29iamVjdCBwcm9jZXNzXSI9PT1TdHJpbmcocHJvY2VzcykmJiFwcm9jZXNzLmJyb3dzZXIpfHxPYmplY3QoaS5hKSgpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigyNik7ZnVuY3Rpb24gaShlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmIm9iamVjdCI9PT1PYmplY3Qoci5hKSh3aW5kb3cucHJvY2VzcykmJiJyZW5kZXJlciI9PT13aW5kb3cucHJvY2Vzcy50eXBlKXJldHVybiEwO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmIm9iamVjdCI9PT1PYmplY3Qoci5hKShwcm9jZXNzLnZlcnNpb25zKSYmQm9vbGVhbihwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uKSlyZXR1cm4hMDt2YXIgdD0ib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvcj8idW5kZWZpbmVkIjpPYmplY3Qoci5hKShuYXZpZ2F0b3IpKSYmInN0cmluZyI9PXR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LG49ZXx8dDtyZXR1cm4hIShuJiZuLmluZGV4T2YoIkVsZWN0cm9uIik+PTApfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSk7dmFyIHI9big1KSxpPW4oNiksYT1uKDE2KSxvPW4oMTUpLHM9bigxNyksdT1uKDExNSksYz1uKDI4KSxsPW4oNzIpLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gT2JqZWN0KHMuYSkodCxlKSxPYmplY3QoaS5hKSh0LFt7a2V5OiJsZW4iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9fSx7a2V5OiJtYWduaXR1ZGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuKCl9fSx7a2V5OiJsZW5ndGhTcXVhcmVkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9MDt0PHRoaXMuRUxFTUVOVFM7Kyt0KWUrPXRoaXNbdF0qdGhpc1t0XTtyZXR1cm4gZX19LHtrZXk6Im1hZ25pdHVkZVNxdWFyZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoU3F1YXJlZCgpfX0se2tleToiZGlzdGFuY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxdWFyZWQoZSkpfX0se2tleToiZGlzdGFuY2VTcXVhcmVkIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPTA7bjx0aGlzLkVMRU1FTlRTOysrbil7dmFyIHI9dGhpc1tuXS1lW25dO3QrPXIqcn1yZXR1cm4gT2JqZWN0KGMuYSkodCl9fSx7a2V5OiJkb3QiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49MDtuPHRoaXMuRUxFTUVOVFM7KytuKXQrPXRoaXNbbl0qZVtuXTtyZXR1cm4gT2JqZWN0KGMuYSkodCl9fSx7a2V5OiJub3JtYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tYWduaXR1ZGUoKTtpZigwIT09ZSlmb3IodmFyIHQ9MDt0PHRoaXMuRUxFTUVOVFM7Kyt0KXRoaXNbdF0vPWU7cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9dDtyPGkubGVuZ3RoO3IrKylmb3IodmFyIGE9aVtyXSxvPTA7bzx0aGlzLkVMRU1FTlRTOysrbyl0aGlzW29dKj1hW29dO3JldHVybiB0aGlzLmNoZWNrKCl9fSx7a2V5OiJkaXZpZGUiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPTAsaT10O3I8aS5sZW5ndGg7cisrKWZvcih2YXIgYT1pW3JdLG89MDtvPHRoaXMuRUxFTUVOVFM7KytvKXRoaXNbb10vPWFbb107cmV0dXJuIHRoaXMuY2hlY2soKX19LHtrZXk6Imxlbmd0aFNxIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aFNxdWFyZWQoKX19LHtrZXk6ImRpc3RhbmNlVG8iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpc3RhbmNlKGUpfX0se2tleToiZGlzdGFuY2VUb1NxdWFyZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpc3RhbmNlU3F1YXJlZChlKX19LHtrZXk6ImdldENvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChsLmEpKGU+PTAmJmU8dGhpcy5FTEVNRU5UUywiaW5kZXggaXMgb3V0IG9mIHJhbmdlIiksT2JqZWN0KGMuYSkodGhpc1tlXSl9fSx7a2V5OiJzZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChsLmEpKGU+PTAmJmU8dGhpcy5FTEVNRU5UUywiaW5kZXggaXMgb3V0IG9mIHJhbmdlIiksdGhpc1tlXT10LHRoaXMuY2hlY2soKX19LHtrZXk6ImFkZFZlY3RvcnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29weShlKS5hZGQodCl9fSx7a2V5OiJzdWJWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNvcHkoZSkuc3VidHJhY3QodCl9fSx7a2V5OiJtdWx0aXBseVZlY3RvcnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY29weShlKS5tdWx0aXBseSh0KX19LHtrZXk6ImFkZFNjYWxlZFZlY3RvciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hZGQobmV3IHRoaXMuY29uc3RydWN0b3IoZSkubXVsdGlwbHlTY2FsYXIodCkpfX0se2tleToieCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF19LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1swXT1PYmplY3QoYy5hKShlKX19LHtrZXk6InkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzFdfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbMV09T2JqZWN0KGMuYSkoZSl9fV0pLHR9KHUuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oNSksaT1uKDYpLGE9bigxNiksbz1uKDE1KSxzPW4oMTcpLHU9bigxMTUpLGM9bigyOCksbD1uKDIwKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyx0KSxPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIE9iamVjdChzLmEpKHQsZSksT2JqZWN0KGkuYSkodCxbe2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IlsiO2lmKGwuYi5wcmludFJvd01ham9yKXtlKz0icm93LW1ham9yOiI7Zm9yKHZhciB0PTA7dDx0aGlzLlJBTks7Kyt0KWZvcih2YXIgbj0wO248dGhpcy5SQU5LOysrbillKz0iICIuY29uY2F0KHRoaXNbbip0aGlzLlJBTksrdF0pfWVsc2V7ZSs9ImNvbHVtbi1tYWpvcjoiO2Zvcih2YXIgcj0wO3I8dGhpcy5FTEVNRU5UUzsrK3IpZSs9IiAiLmNvbmNhdCh0aGlzW3JdKX1yZXR1cm4gZSs9Il0ifX0se2tleToiZ2V0RWxlbWVudEluZGV4Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0KnRoaXMuUkFOSytlfX0se2tleToiZ2V0RWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpc1t0KnRoaXMuUkFOSytlXX19LHtrZXk6InNldEVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpc1t0KnRoaXMuUkFOSytlXT1PYmplY3QoYy5hKShuKSx0aGlzfX0se2tleToiZ2V0Q29sdW1uIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm5ldyBBcnJheSh0aGlzLlJBTkspLmZpbGwoLTApLG49ZSp0aGlzLlJBTksscj0wO3I8dGhpcy5SQU5LOysrcil0W3JdPXRoaXNbbityXTtyZXR1cm4gdH19LHtrZXk6InNldENvbHVtbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZSp0aGlzLlJBTksscj0wO3I8dGhpcy5SQU5LOysrcil0aGlzW24rcl09dFtyXTtyZXR1cm4gdGhpc319XSksdH0odS5hKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2koKSh0aGlzLGUpO3ZhciByPW4uaWQsYT12b2lkIDA9PT1yPyJwYXNzIjpyO3RoaXMuaWQ9YSx0aGlzLmdsPXQsdGhpcy5wcm9wcz17fSxPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsbil9cmV0dXJuIG8oKShlLFt7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7T2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLGUpfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImNsZWFudXAiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oMSksdT1uKDMwKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpKCkodGhpcyxlKSxBcnJheS5pc0FycmF5KHQpJiYodD17Y29tcGFyZTp0LGV4dHJhY3Q6dCxyZXF1aXJlZDp0fSk7dmFyIG49dCxyPW4uY29tcGFyZSxhPW4uZXh0cmFjdCxvPW4ucmVxdWlyZWQ7dGhpcy5fcHJvcHNUb0NvbXBhcmU9cix0aGlzLl9wcm9wc1RvRXh0cmFjdD1hLHRoaXMuX3JlcXVpcmVkUHJvcHM9b31yZXR1cm4gbygpKGUsW3trZXk6ImFyZVByb3BzRXF1YWwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89KHRoaXMuX3Byb3BzVG9Db21wYXJlfHxPYmplY3Qua2V5cyh0KSlbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHU9YS52YWx1ZTtpZighKHUgaW4gZSYmdSBpbiB0JiZPYmplY3Qocy5rKShlW3VdLHRbdV0pKSlyZXR1cm4hMX19Y2F0Y2goZSl7cj0hMCxpPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiEwfX0se2tleToiaW5pdGlhbGl6ZVByb3BzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKHRoaXMuX3Byb3BzVG9FeHRyYWN0KXt2YXIgcj17fSxpPXt9LGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9dGhpcy5fcHJvcHNUb0V4dHJhY3RbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0odT1jLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIGw9dS52YWx1ZTtyW2xdPWVbbF0saVtsXT10W2xdfX1jYXRjaChlKXtvPSEwLHM9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319bj17c3RhcnQ6cixlbmQ6aX19ZWxzZSBuPXtzdGFydDplLGVuZDp0fTtyZXR1cm4gdGhpcy5fY2hlY2tSZXF1aXJlZFByb3BzKG4uc3RhcnQpLHRoaXMuX2NoZWNrUmVxdWlyZWRQcm9wcyhuLmVuZCksbn19LHtrZXk6ImludGVycG9sYXRlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdH19LHtrZXk6ImdldER1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0LnRyYW5zaXRpb25EdXJhdGlvbn19LHtrZXk6Il9jaGVja1JlcXVpcmVkUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3JlcXVpcmVkUHJvcHMmJnRoaXMuX3JlcXVpcmVkUHJvcHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtPYmplY3QodS5hKShOdW1iZXIuaXNGaW5pdGUobil8fEFycmF5LmlzQXJyYXkobiksIiIuY29uY2F0KHQsIiBpcyByZXF1aXJlZCBmb3IgdHJhbnNpdGlvbiIpKX0pKX19XSksZX0oKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIHI9big4KSxpPW4ubihyKSxhPW4oMTMpLG89big1KSxzPW4oNiksdT1uKDg1KSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe09iamVjdChvLmEpKHRoaXMsZSksdGhpcy5fZmlsZU9yQmxvYj10LHRoaXMuYm9keVVzZWQ9ITF9dmFyIHQsbixyO3JldHVybiBPYmplY3Qocy5hKShlLFt7a2V5OiJhcnJheUJ1ZmZlciIsdmFsdWU6KHI9T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxuLHI7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gdD10aGlzLl9nZXRGaWxlUmVhZGVyKCksbj10LnJlYWRlcixyPXQucHJvbWlzZSxuLnJlYWRBc0FycmF5QnVmZmVyKHRoaXMuX2ZpbGVPckJsb2IpLGUuYWJydXB0KCJyZXR1cm4iLHIpO2Nhc2UgMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InRleHQiLHZhbHVlOihuPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQsbixyO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHQ9dGhpcy5fZ2V0RmlsZVJlYWRlcigpLG49dC5yZWFkZXIscj10LnByb21pc2Usbi5yZWFkQXNUZXh0KHRoaXMuX2ZpbGVPckJsb2IpLGUuYWJydXB0KCJyZXR1cm4iLHIpO2Nhc2UgMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Impzb24iLHZhbHVlOih0PU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQ7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy50ZXh0KCk7Y2FzZSAyOnJldHVybiB0PWUuc2VudCxlLmFicnVwdCgicmV0dXJuIixKU09OLnBhcnNlKHQpKTtjYXNlIDQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJfZ2V0RmlsZVJlYWRlciIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QodS5hKSghdGhpcy5ib2R5VXNlZCksdGhpcy5ib2R5VXNlZD0hMDt2YXIgZT1uZXcgRmlsZVJlYWRlcix0PW5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3RyeXtlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIG4obmV3IEVycm9yKCJSZWFkIGVycm9yIikpfSxlLm9uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbihuZXcgRXJyb3IoIlJlYWQgYWJvcnRlZC4iKSl9LGUub25sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIHQoZS5yZXN1bHQpfX1jYXRjaChlKXtuKGUpfX0pKTtyZXR1cm57cmVhZGVyOmUscHJvbWlzZTp0fX19LHtrZXk6ImhlYWRlcnMiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgSGVhZGVycyh7IkNvbnRlbnQtTGVuZ3RoIjp0aGlzLl9maWxlT3JCbG9iLnNpemUsIkNvbnRlbnQtVHlwZSI6dGhpcy5fZmlsZU9yQmxvYi50eXBlfSl9fSx7a2V5OiJvayIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2V5OiJzdGF0dXMiLGdldDpmdW5jdGlvbigpe3JldHVybiAyMDB9fSx7a2V5OiJ1cmwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlT3JCbG9iLm5hbWV8fCIifX1dKSxlfSgpO2Z1bmN0aW9uIGwoZSx0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBjKGUsdCkpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3RoaXMud3JhcHBlZD1lfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSk7dmFyIHI9big3KSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDMpLHU9bi5uKHMpLGM9big5KSxsPW4ubihjKSxoPW4oNCksZj1uLm4oaCksZD1uKDEyKSx2PW4ubihkKSxwPW4oMTApLGc9bi5uKHApLHk9big5MSksbT1uKDExKTtmdW5jdGlvbiBiKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBfKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2IoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpKCkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmIoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIE89e2JsZW5kRnVuYzpbMSwwLDMyNzcxLDBdLGJsZW5kRXF1YXRpb246MzI3NzR9LHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBvKCkodGhpcyx0KSxsKCkodGhpcyxmKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZygpKHQsZSksdSgpKHQsW3trZXk6InJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5waWNraW5nRkJPP3RoaXMuX2RyYXdQaWNraW5nQnVmZmVyKGUpOnYoKShmKCkodC5wcm90b3R5cGUpLCJyZW5kZXIiLHRoaXMpLmNhbGwodGhpcyxlKX19LHtrZXk6Il9kcmF3UGlja2luZ0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcyxyPWUubGF5ZXJzLGk9ZS5sYXllckZpbHRlcixhPWUudmlld3BvcnRzLG89ZS5vblZpZXdwb3J0QWN0aXZlLHM9ZS5waWNraW5nRkJPLHU9ZS5kZXZpY2VSZWN0LGM9dS54LGw9dS55LGg9dS53aWR0aCxkPXUuaGVpZ2h0LHA9ZS5wYXNzLGc9dm9pZCAwPT09cD8icGlja2luZyI6cCx5PWUucmVkcmF3UmVhc29uLGI9ZS5waWNrWix4PXRoaXMuZ2w7cmV0dXJuIHRoaXMucGlja1o9YixPYmplY3QobS5sKSh4LF8oe3NjaXNzb3JUZXN0OiEwLHNjaXNzb3I6W2MsbCxoLGRdLGNsZWFyQ29sb3I6WzAsMCwwLDBdLGRlcHRoTWFzazohMCxkZXB0aFRlc3Q6ITAsZGVwdGhSYW5nZTpbMCwxXSxjb2xvck1hc2s6WyEwLCEwLCEwLCEwXX0sTyx7YmxlbmQ6IWJ9KSwoZnVuY3Rpb24oKXt2KCkoZigpKHQucHJvdG90eXBlKSwicmVuZGVyIixuKS5jYWxsKG4se3RhcmdldDpzLGxheWVyczpyLGxheWVyRmlsdGVyOmksdmlld3BvcnRzOmEsb25WaWV3cG9ydEFjdGl2ZTpvLHBhc3M6ZyxyZWRyYXdSZWFzb246eX0pfSkpfX0se2tleToic2hvdWxkRHJhd0xheWVyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm9wcy5waWNrYWJsZX19LHtrZXk6ImdldE1vZHVsZVBhcmFtZXRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3BpY2tpbmdBY3RpdmU6MSxwaWNraW5nQXR0cmlidXRlOnRoaXMucGlja1osbGlnaHRTb3VyY2VzOnt9fX19LHtrZXk6ImdldExheWVyUGFyYW1ldGVycyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnBpY2taP3tibGVuZDohMX06Xyh7fSxPLHtibGVuZDohMCxibGVuZENvbG9yOlswLDAsMCwodCsxKS8yNTVdfSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZS5wcm9wcy5wYXJhbWV0ZXJzLG4pfX1dKSx0fSh5LmEpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PWUuZGF0YSxuPWUuZ2V0SW5kZXgscj1lLmRhdGFSYW5nZSxpPWUucmVwbGFjZSxhPXIuc3RhcnRSb3csbz12b2lkIDA9PT1hPzA6YSxzPXIuZW5kUm93LHU9dm9pZCAwPT09cz8xLzA6cyxjPXQubGVuZ3RoLGw9YyxoPWMsZj0wO2Y8YztmKyspe3ZhciBkPW4odFtmXSk7aWYobD5mJiZkPj1vJiYobD1mKSxkPj11KXtoPWY7YnJlYWt9fWZvcih2YXIgdj1sLHA9aC1sIT09aS5sZW5ndGgsZz1wJiZ0LnNsaWNlKGgpLHk9MDt5PGkubGVuZ3RoO3krKyl0W3YrK109aVt5XTtpZihwKXtmb3IodmFyIG09MDttPGcubGVuZ3RoO20rKyl0W3YrK109Z1ttXTt0Lmxlbmd0aD12fXJldHVybntzdGFydFJvdzpsLGVuZFJvdzpsK2kubGVuZ3RofX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigwKSxpPW4oNSksYT1uKDYpLG89bigxMSkscz1uKDIxNyksdT1uKDEwNSksYz1uKDI5KSxsPW4oMTYzKSxoPW4oMjY5KSxmPW4oNjEpLGQ9big0Niksdj1uKDE2KSxwPW4oMzgpLGc9bigxNSkseT1uKDc3KSxtPW4oMTcpLGI9big0OCksXz1udWxsO2Z1bmN0aW9uIE8oZSx0KXt2YXIgbjtyZXR1cm4gbmV3IGUoKG49ZS5CWVRFU19QRVJfRUxFTUVOVCp0LCghX3x8Xy5ieXRlTGVuZ3RoPG4pJiYoXz1uZXcgQXJyYXlCdWZmZXIobikpLF8pLDAsdCl9dmFyIHg9big1OSksdz1uKDE1MSksUz1uKDE1Mik7ZnVuY3Rpb24gayhlKXtpZighZSYmIU9iamVjdCh3LmEpKCkpcmV0dXJuIk5vZGUiO2lmKE9iamVjdChTLmEpKGUpKXJldHVybiJFbGVjdHJvbiI7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3I/bmF2aWdhdG9yOnt9LG49ZXx8dC51c2VyQWdlbnR8fCIiO2lmKG4uaW5kZXhPZigiRWRnZSIpPi0xKXJldHVybiJFZGdlIjt2YXIgcj0tMSE9PW4uaW5kZXhPZigiTVNJRSAiKSxpPS0xIT09bi5pbmRleE9mKCJUcmlkZW50LyIpO3JldHVybiByfHxpPyJJRSI6eC5iLmNocm9tZT8iQ2hyb21lIjp4LmIuc2FmYXJpPyJTYWZhcmkiOnguYi5tb3pJbm5lclNjcmVlblg/IkZpcmVmb3giOiJVbmtub3duIn12YXIgUD0iZWxlbWVudHMgbXVzdCBiZSBHTC5FTEVNRU5UX0FSUkFZX0JVRkZFUiIsaj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O09iamVjdChpLmEpKHRoaXMsdCk7dmFyIGE9ci5pZHx8ci5wcm9ncmFtJiZyLnByb2dyYW0uaWQ7cmV0dXJuKG49T2JqZWN0KHYuYSkodGhpcyxPYmplY3QoZy5hKSh0KS5jYWxsKHRoaXMsZSxPYmplY3QuYXNzaWduKHt9LHIse2lkOmF9KSkpKS5idWZmZXI9bnVsbCxuLmJ1ZmZlclZhbHVlPW51bGwsbi5pc0RlZmF1bHRBcnJheT1yLmlzRGVmYXVsdEFycmF5fHwhMSxuLmluaXRpYWxpemUociksT2JqZWN0LnNlYWwoT2JqZWN0KHAuYSkobikpLG59cmV0dXJuIE9iamVjdChtLmEpKHQsZSksT2JqZWN0KGEuYSkodCxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiF0LmNvbnN0YW50QXR0cmlidXRlWmVyb3x8KE9iamVjdChvLmcpKGUpfHwiQ2hyb21lIj09PWsoKSl9fSx7a2V5OiJnZXREZWZhdWx0QXJyYXkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmx1bWE9ZS5sdW1hfHx7fSxlLmx1bWEuZGVmYXVsdFZlcnRleEFycmF5fHwoZS5sdW1hLmRlZmF1bHRWZXJ0ZXhBcnJheT1uZXcgdChlLHtoYW5kbGU6bnVsbCxpc0RlZmF1bHRBcnJheTohMH0pKSxlLmx1bWEuZGVmYXVsdFZlcnRleEFycmF5fX0se2tleToiZ2V0TWF4QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuTUFYX0FUVFJJQlVURVM9dC5NQVhfQVRUUklCVVRFU3x8ZS5nZXRQYXJhbWV0ZXIoMzQ5MjEpLHQuTUFYX0FUVFJJQlVURVN9fSx7a2V5OiJzZXRDb25zdGFudCIsdmFsdWU6ZnVuY3Rpb24oZSxuLHIpe3N3aXRjaChyLmNvbnN0cnVjdG9yKXtjYXNlIEZsb2F0MzJBcnJheTp0Ll9zZXRDb25zdGFudEZsb2F0QXJyYXkoZSxuLHIpO2JyZWFrO2Nhc2UgSW50MzJBcnJheTp0Ll9zZXRDb25zdGFudEludEFycmF5KGUsbixyKTticmVhaztjYXNlIFVpbnQzMkFycmF5OnQuX3NldENvbnN0YW50VWludEFycmF5KGUsbixyKTticmVhaztkZWZhdWx0Ok9iamVjdChjLmEpKCExKX19fV0pLE9iamVjdChhLmEpKHQsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtPYmplY3QoeS5hKShPYmplY3QoZy5hKSh0LnByb3RvdHlwZSksImRlbGV0ZSIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLmJ1ZmZlciYmdGhpcy5idWZmZXIuZGVsZXRlKCl9fSx7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gdGhpcy5zZXRQcm9wcyhlKX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc319LHtrZXk6InNldEVsZW1lbnRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2FyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIE9iamVjdChjLmEpKCF0fHwzNDk2Mz09PXQudGFyZ2V0LFApLHRoaXMuYmluZCgoZnVuY3Rpb24oKXtlLmdsLmJpbmRCdWZmZXIoMzQ5NjMsdD90LmhhbmRsZTpudWxsKX0pKSx0aGlzfX0se2tleToic2V0QnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7aWYoMzQ5NjM9PT10LnRhcmdldClyZXR1cm4gdGhpcy5zZXRFbGVtZW50QnVmZmVyKHQsbik7dmFyIHI9bi5zaXplLGk9bi50eXBlLGE9bi5zdHJpZGUscz1uLm9mZnNldCx1PW4ubm9ybWFsaXplZCxsPW4uaW50ZWdlcixoPW4uZGl2aXNvcixmPXRoaXMuZ2w7cmV0dXJuIGU9TnVtYmVyKGUpLHRoaXMuYmluZCgoZnVuY3Rpb24oKXtmLmJpbmRCdWZmZXIoMzQ5NjIsdC5oYW5kbGUpLGw/KE9iamVjdChjLmEpKE9iamVjdChvLmcpKGYpKSxmLnZlcnRleEF0dHJpYklQb2ludGVyKGUscixpLGEscykpOmYudmVydGV4QXR0cmliUG9pbnRlcihlLHIsaSx1LGEscyksZi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSxmLnZlcnRleEF0dHJpYkRpdmlzb3IoZSxofHwwKX0pKSx0aGlzfX0se2tleToiZW5hYmxlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj10aGlzLHI9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPSFyJiYwPT09ZSYmIXQuaXNTdXBwb3J0ZWQodGhpcy5nbCx7Y29uc3RhbnRBdHRyaWJ1dGVaZXJvOiEwfSk7cmV0dXJuIGl8fChlPU51bWJlcihlKSx0aGlzLmJpbmQoKGZ1bmN0aW9uKCl7cmV0dXJuIHI/bi5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShlKTpuLmdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKX0pKSksdGhpc319LHtrZXk6ImdldENvbnN0YW50QnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5fbm9ybWFsaXplQ29uc3RhbnRBcnJheVZhbHVlKHQsbiksaT1yLmJ5dGVMZW5ndGgqZSxhPXIubGVuZ3RoKmUsbz0hdGhpcy5idWZmZXI7aWYodGhpcy5idWZmZXI9dGhpcy5idWZmZXJ8fG5ldyBkLmEodGhpcy5nbCxpKSxvPShvPW98fHRoaXMuYnVmZmVyLnJlYWxsb2NhdGUoaSkpfHwhdGhpcy5fY29tcGFyZUNvbnN0YW50QXJyYXlWYWx1ZXMocix0aGlzLmJ1ZmZlclZhbHVlKSl7dmFyIHM9Tyh0LmNvbnN0cnVjdG9yLGEpOyFmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS50YXJnZXQsbj1lLnNvdXJjZSxyPWUuc3RhcnQsaT12b2lkIDA9PT1yPzA6cixhPWUuY291bnQsbz12b2lkIDA9PT1hPzE6YSxzPW4ubGVuZ3RoLHU9bypzLGM9MCxsPWk7YzxzO2MrKyl0W2wrK109bltjXTtmb3IoO2M8dTspYzx1LWM/KHQuY29weVdpdGhpbihpK2MsaSxpK2MpLGMqPTIpOih0LmNvcHlXaXRoaW4oaStjLGksaSt1LWMpLGM9dSl9KHt0YXJnZXQ6cyxzb3VyY2U6cixzdGFydDowLGNvdW50OmF9KSx0aGlzLmJ1ZmZlci5zdWJEYXRhKHMpLHRoaXMuYnVmZmVyVmFsdWU9dH1yZXR1cm4gdGhpcy5idWZmZXJ9fSx7a2V5OiJfbm9ybWFsaXplQ29uc3RhbnRBcnJheVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP25ldyBGbG9hdDMyQXJyYXkoZSk6ZX19LHtrZXk6Il9jb21wYXJlQ29uc3RhbnRBcnJheVZhbHVlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighZXx8IXR8fGUubGVuZ3RoIT09dC5sZW5ndGh8fGUuY29uc3RydWN0b3IhPT10LmNvbnN0cnVjdG9yKXJldHVybiExO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWlmKGVbbl0hPT10W25dKXJldHVybiExO3JldHVybiEwfX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVWZXJ0ZXhBcnJheSgpfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2wuZGVsZXRlVmVydGV4QXJyYXkoZSksW3RoaXMuZWxlbWVudHNdfX0se2tleToiX2JpbmRIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZ2wuYmluZFZlcnRleEFycmF5KGUpfX0se2tleToiX2dldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dC5sb2NhdGlvbjtyZXR1cm4gT2JqZWN0KGMuYSkoTnVtYmVyLmlzRmluaXRlKHIpKSx0aGlzLmJpbmQoKGZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2UgMzQzNzM6cmV0dXJuIG4uZ2wuZ2V0VmVydGV4QXR0cmliT2Zmc2V0KHIsZSk7ZGVmYXVsdDpyZXR1cm4gbi5nbC5nZXRWZXJ0ZXhBdHRyaWIocixlKX19KSl9fSx7a2V5OiJNQVhfQVRUUklCVVRFUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0TWF4QXR0cmlidXRlcyh0aGlzLmdsKX19XSxbe2tleToiX3NldENvbnN0YW50RmxvYXRBcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChuLmxlbmd0aCl7Y2FzZSAxOmUudmVydGV4QXR0cmliMWZ2KHQsbik7YnJlYWs7Y2FzZSAyOmUudmVydGV4QXR0cmliMmZ2KHQsbik7YnJlYWs7Y2FzZSAzOmUudmVydGV4QXR0cmliM2Z2KHQsbik7YnJlYWs7Y2FzZSA0OmUudmVydGV4QXR0cmliNGZ2KHQsbik7YnJlYWs7ZGVmYXVsdDpPYmplY3QoYy5hKSghMSl9fX0se2tleToiX3NldENvbnN0YW50SW50QXJyYXkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2goT2JqZWN0KGMuYSkoT2JqZWN0KG8uZykoZSkpLG4ubGVuZ3RoKXtjYXNlIDE6ZS52ZXJ0ZXhBdHRyaWJJMWl2KHQsbik7YnJlYWs7Y2FzZSAyOmUudmVydGV4QXR0cmliSTJpdih0LG4pO2JyZWFrO2Nhc2UgMzplLnZlcnRleEF0dHJpYkkzaXYodCxuKTticmVhaztjYXNlIDQ6ZS52ZXJ0ZXhBdHRyaWJJNGl2KHQsbik7YnJlYWs7ZGVmYXVsdDpPYmplY3QoYy5hKSghMSl9fX0se2tleToiX3NldENvbnN0YW50VWludEFycmF5Iix2YWx1ZTpmdW5jdGlvbihlLHQsbil7c3dpdGNoKE9iamVjdChjLmEpKE9iamVjdChvLmcpKGUpKSxuLmxlbmd0aCl7Y2FzZSAxOmUudmVydGV4QXR0cmliSTF1aXYodCxuKTticmVhaztjYXNlIDI6ZS52ZXJ0ZXhBdHRyaWJJMnVpdih0LG4pO2JyZWFrO2Nhc2UgMzplLnZlcnRleEF0dHJpYkkzdWl2KHQsbik7YnJlYWs7Y2FzZSA0OmUudmVydGV4QXR0cmliSTR1aXYodCxuKTticmVhaztkZWZhdWx0Ok9iamVjdChjLmEpKCExKX19fV0pLHR9KGIuYSksVD1uKDI1MyksRT0vXiguKylfX0xPQ0FUSU9OXyhbMC05XSspJC8sQT1bInNldEJ1ZmZlcnMiLCJzZXRHZW5lcmljIiwiY2xlYXJCaW5kaW5ncyIsInNldExvY2F0aW9ucyIsInNldEdlbmVyaWNWYWx1ZXMiLCJzZXREaXZpc29yIiwiZW5hYmxlIiwiZGlzYWJsZSJdLE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3QoaS5hKSh0aGlzLGUpO3ZhciByPW4uaWR8fG4ucHJvZ3JhbSYmbi5wcm9ncmFtLmlkO3RoaXMuaWQ9cix0aGlzLmdsPXQsdGhpcy5jb25maWd1cmF0aW9uPW51bGwsdGhpcy5lbGVtZW50cz1udWxsLHRoaXMuZWxlbWVudHNBY2Nlc3Nvcj1udWxsLHRoaXMudmFsdWVzPW51bGwsdGhpcy5hY2Nlc3NvcnM9bnVsbCx0aGlzLnVudXNlZD1udWxsLHRoaXMuZHJhd1BhcmFtcz1udWxsLHRoaXMuYnVmZmVyPW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMudmVydGV4QXJyYXlPYmplY3Q9bmV3IGoodCksT2JqZWN0KFQuYSkodGhpcywiVmVydGV4QXJyYXkiLCJ2Ni4wIixBKSx0aGlzLmluaXRpYWxpemUobiksT2JqZWN0LnNlYWwodGhpcyl9cmV0dXJuIE9iamVjdChhLmEpKGUsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlciYmdGhpcy5idWZmZXIuZGVsZXRlKCksdGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5kZWxldGUoKX19LHtrZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB0aGlzLnJlc2V0KCksdGhpcy5jb25maWd1cmF0aW9uPW51bGwsdGhpcy5iaW5kT25Vc2U9ITEsdGhpcy5zZXRQcm9wcyhlKX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudHM9bnVsbCx0aGlzLmVsZW1lbnRzQWNjZXNzb3I9bnVsbDt2YXIgZT10aGlzLnZlcnRleEFycmF5T2JqZWN0Lk1BWF9BVFRSSUJVVEVTO3JldHVybiB0aGlzLnZhbHVlcz1uZXcgQXJyYXkoZSkuZmlsbChudWxsKSx0aGlzLmFjY2Vzc29ycz1uZXcgQXJyYXkoZSkuZmlsbChudWxsKSx0aGlzLnVudXNlZD17fSx0aGlzLmRyYXdQYXJhbXM9bnVsbCx0aGlzfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJwcm9ncmFtImluIGUmJih0aGlzLmNvbmZpZ3VyYXRpb249ZS5wcm9ncmFtJiZlLnByb2dyYW0uY29uZmlndXJhdGlvbiksImNvbmZpZ3VyYXRpb24iaW4gZSYmKHRoaXMuY29uZmlndXJhdGlvbj1lLmNvbmZpZ3VyYXRpb24pLCJhdHRyaWJ1dGVzImluIGUmJnRoaXMuc2V0QXR0cmlidXRlcyhlLmF0dHJpYnV0ZXMpLCJlbGVtZW50cyJpbiBlJiZ0aGlzLnNldEVsZW1lbnRCdWZmZXIoZS5lbGVtZW50cyksImJpbmRPblVzZSJpbiBlJiYoZT1lLmJpbmRPblVzZSksdGhpc319LHtrZXk6ImNsZWFyRHJhd1BhcmFtcyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRyYXdQYXJhbXM9bnVsbH19LHtrZXk6ImdldERyYXdQYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd1BhcmFtcz10aGlzLmRyYXdQYXJhbXN8fHRoaXMuX3VwZGF0ZURyYXdQYXJhbXMoKSx0aGlzLmRyYXdQYXJhbXN9fSx7a2V5OiJzZXRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3QuYXNzaWduKHRoaXMuYXR0cmlidXRlcyxlKSx0aGlzLnZlcnRleEFycmF5T2JqZWN0LmJpbmQoKGZ1bmN0aW9uKCl7Zm9yKHZhciBuIGluIGUpe3ZhciByPWVbbl07dC5fc2V0QXR0cmlidXRlKG4scil9dC5nbC5iaW5kQnVmZmVyKDM0OTYyLG51bGwpfSkpLHRoaXN9fSx7a2V5OiJzZXRFbGVtZW50QnVmZmVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiB0aGlzLmVsZW1lbnRzPWUsdGhpcy5lbGVtZW50c0FjY2Vzc29yPXQsdGhpcy5jbGVhckRyYXdQYXJhbXMoKSx0aGlzLnZlcnRleEFycmF5T2JqZWN0LnNldEVsZW1lbnRCdWZmZXIoZSx0KSx0aGlzfX0se2tleToic2V0QnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZigzNDk2Mz09PXQudGFyZ2V0KXJldHVybiB0aGlzLnNldEVsZW1lbnRCdWZmZXIodCxuKTt2YXIgcj10aGlzLl9yZXNvbHZlTG9jYXRpb25BbmRBY2Nlc3NvcihlLHQsdC5hY2Nlc3NvcixuKSxpPXIubG9jYXRpb24sYT1yLmFjY2Vzc29yO3JldHVybiBpPj0wJiYodGhpcy52YWx1ZXNbaV09dCx0aGlzLmFjY2Vzc29yc1tpXT1hLHRoaXMuY2xlYXJEcmF3UGFyYW1zKCksdGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5zZXRCdWZmZXIoaSx0LGEpKSx0aGlzfX0se2tleToic2V0Q29uc3RhbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9dGhpcy5fcmVzb2x2ZUxvY2F0aW9uQW5kQWNjZXNzb3IoZSx0LE9iamVjdC5hc3NpZ24oe3NpemU6dC5sZW5ndGh9LG4pKSxpPXIubG9jYXRpb24sYT1yLmFjY2Vzc29yO3JldHVybiBpPj0wJiYodD10aGlzLnZlcnRleEFycmF5T2JqZWN0Ll9ub3JtYWxpemVDb25zdGFudEFycmF5VmFsdWUodCxhKSx0aGlzLnZhbHVlc1tpXT10LHRoaXMuYWNjZXNzb3JzW2ldPWEsdGhpcy5jbGVhckRyYXdQYXJhbXMoKSx0aGlzLnZlcnRleEFycmF5T2JqZWN0LmVuYWJsZShpLCExKSksdGhpc319LHtrZXk6InVuYmluZEJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5iaW5kKChmdW5jdGlvbigpe2UuZWxlbWVudHMmJmUudmVydGV4QXJyYXlPYmplY3Quc2V0RWxlbWVudEJ1ZmZlcihudWxsKSxlLmJ1ZmZlcj1lLmJ1ZmZlcnx8bmV3IGQuYShlLmdsLHthY2Nlc3Nvcjp7c2l6ZTo0fX0pO2Zvcih2YXIgdD0wO3Q8ZS52ZXJ0ZXhBcnJheU9iamVjdC5NQVhfQVRUUklCVVRFUzt0KyspZS52YWx1ZXNbdF1pbnN0YW5jZW9mIGQuYSYmKGUuZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpLGUuZ2wuYmluZEJ1ZmZlcigzNDk2MixlLmJ1ZmZlci5oYW5kbGUpLGUuZ2wudmVydGV4QXR0cmliUG9pbnRlcih0LDEsNTEyNiwhMSwwLDApKX0pKSx0aGlzfX0se2tleToiYmluZEJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5iaW5kKChmdW5jdGlvbigpe2UuZWxlbWVudHMmJmUuc2V0RWxlbWVudEJ1ZmZlcihlLmVsZW1lbnRzKTtmb3IodmFyIHQ9MDt0PGUudmVydGV4QXJyYXlPYmplY3QuTUFYX0FUVFJJQlVURVM7dCsrKXt2YXIgbj1lLnZhbHVlc1t0XTtuIGluc3RhbmNlb2YgZC5hJiZlLnNldEJ1ZmZlcih0LG4pfX0pKSx0aGlzfX0se2tleToiYmluZEZvckRyYXciLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXM7cmV0dXJuIHRoaXMudmVydGV4QXJyYXlPYmplY3QuYmluZCgoZnVuY3Rpb24oKXtpLl9zZXRDb25zdGFudEF0dHJpYnV0ZXMoZSx0KSxyPW4oKX0pKSxyfX0se2tleToiX3Jlc29sdmVMb2NhdGlvbkFuZEFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLGE9dGhpcy5fZ2V0QXR0cmlidXRlSW5kZXgoZSkscz1hLmxvY2F0aW9uLHU9YS5uYW1lO2lmKCFOdW1iZXIuaXNGaW5pdGUocyl8fHM8MClyZXR1cm4gdGhpcy51bnVzZWRbZV09dCxvLmgub25jZSgzLChmdW5jdGlvbigpe3JldHVybiJ1bnVzZWQgdmFsdWUgIi5jb25jYXQoZSwiIGluICIpLmNvbmNhdChpLmlkKX0pKSgpLHRoaXM7dmFyIGw9dGhpcy5fZ2V0QXR0cmlidXRlSW5mbyh1fHxzKTtpZighbClyZXR1cm57bG9jYXRpb246LTEsYWNjZXNzb3I6bnVsbH07dmFyIGg9dGhpcy5hY2Nlc3NvcnNbc118fHt9LGQ9Zi5hLnJlc29sdmUobC5hY2Nlc3NvcixoLG4sciksdj1kLnNpemUscD1kLnR5cGU7cmV0dXJuIE9iamVjdChjLmEpKE51bWJlci5pc0Zpbml0ZSh2KSYmTnVtYmVyLmlzRmluaXRlKHApKSx7bG9jYXRpb246cyxhY2Nlc3NvcjpkfX19LHtrZXk6Il9nZXRBdHRyaWJ1dGVJbmZvIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uJiZ0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0QXR0cmlidXRlSW5mbyhlKX19LHtrZXk6Il9nZXRBdHRyaWJ1dGVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9TnVtYmVyKGUpO2lmKE51bWJlci5pc0Zpbml0ZSh0KSlyZXR1cm57bG9jYXRpb246dH07dmFyIG49RS5leGVjKGUpLHI9bj9uWzFdOmUsaT1uP051bWJlcihuWzJdKTowO3JldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24/e2xvY2F0aW9uOnRoaXMuY29uZmlndXJhdGlvbi5nZXRBdHRyaWJ1dGVMb2NhdGlvbihyKStpLG5hbWU6cn06e2xvY2F0aW9uOi0xfX19LHtrZXk6Il9zZXRBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodCBpbnN0YW5jZW9mIGQuYSl0aGlzLnNldEJ1ZmZlcihlLHQpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGgmJnRbMF1pbnN0YW5jZW9mIGQuYSl7dmFyIG49dFswXSxyPXRbMV07dGhpcy5zZXRCdWZmZXIoZSxuLHIpfWVsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHxBcnJheS5pc0FycmF5KHQpKXt2YXIgaT10O3RoaXMuc2V0Q29uc3RhbnQoZSxpKX1lbHNle2lmKCEodC5idWZmZXIgaW5zdGFuY2VvZiBkLmEpKXRocm93IG5ldyBFcnJvcigiVmVydGV4QXJyYXk6IGF0dHJpYnV0ZXMgbXVzdCBiZSBCdWZmZXJzIG9yIGNvbnN0YW50cyAoaS5lLiB0eXBlZCBhcnJheSkiKTt2YXIgYT10O3RoaXMuc2V0QnVmZmVyKGUsYS5idWZmZXIsYSl9fX0se2tleToiX3NldENvbnN0YW50QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLm1heCgwfGUsMHx0KSxyPXRoaXMudmFsdWVzWzBdO0FycmF5QnVmZmVyLmlzVmlldyhyKSYmdGhpcy5fc2V0Q29uc3RhbnRBdHRyaWJ1dGVaZXJvKHIsbik7Zm9yKHZhciBpPTE7aTx0aGlzLnZlcnRleEFycmF5T2JqZWN0Lk1BWF9BVFRSSUJVVEVTO2krKylyPXRoaXMudmFsdWVzW2ldLEFycmF5QnVmZmVyLmlzVmlldyhyKSYmdGhpcy5fc2V0Q29uc3RhbnRBdHRyaWJ1dGUoaSxyKX19LHtrZXk6Il9zZXRDb25zdGFudEF0dHJpYnV0ZVplcm8iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoai5pc1N1cHBvcnRlZCh0aGlzLmdsLHtjb25zdGFudEF0dHJpYnV0ZVplcm86ITB9KSl0aGlzLl9zZXRDb25zdGFudEF0dHJpYnV0ZSgwLGUpO2Vsc2V7dmFyIG49dGhpcy52ZXJ0ZXhBcnJheU9iamVjdC5nZXRDb25zdGFudEJ1ZmZlcih0LGUpO3RoaXMudmVydGV4QXJyYXlPYmplY3Quc2V0QnVmZmVyKDAsbix0aGlzLmFjY2Vzc29yc1swXSl9fX0se2tleToiX3NldENvbnN0YW50QXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe2ouc2V0Q29uc3RhbnQodGhpcy5nbCxlLHQpfX0se2tleToiX3VwZGF0ZURyYXdQYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXtpc0luZGV4ZWQ6ITEsaXNJbnN0YW5jZWQ6ITEsaW5kZXhDb3VudDoxLzAsdmVydGV4Q291bnQ6MS8wLGluc3RhbmNlQ291bnQ6MS8wfSx0PTA7dDx0aGlzLnZlcnRleEFycmF5T2JqZWN0Lk1BWF9BVFRSSUJVVEVTO3QrKyl0aGlzLl91cGRhdGVEcmF3UGFyYW1zRm9yTG9jYXRpb24oZSx0KTtyZXR1cm4gdGhpcy5lbGVtZW50cyYmKGUuZWxlbWVudENvdW50PXRoaXMuZWxlbWVudHMuZ2V0RWxlbWVudENvdW50KHRoaXMuZWxlbWVudHMuYWNjZXNzb3IpLGUuaXNJbmRleGVkPSEwLGUuaW5kZXhUeXBlPXRoaXMuZWxlbWVudHNBY2Nlc3Nvci50eXBlfHx0aGlzLmVsZW1lbnRzLmFjY2Vzc29yLnR5cGUsZS5pbmRleE9mZnNldD10aGlzLmVsZW1lbnRzQWNjZXNzb3Iub2Zmc2V0fHwwKSxlLmluZGV4Q291bnQ9PT0xLzAmJihlLmluZGV4Q291bnQ9MCksZS52ZXJ0ZXhDb3VudD09PTEvMCYmKGUudmVydGV4Q291bnQ9MCksZS5pbnN0YW5jZUNvdW50PT09MS8wJiYoZS5pbnN0YW5jZUNvdW50PTApLGV9fSx7a2V5OiJfdXBkYXRlRHJhd1BhcmFtc0ZvckxvY2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMudmFsdWVzW3RdLHI9dGhpcy5hY2Nlc3NvcnNbdF07aWYobil7dmFyIGk9ci5kaXZpc29yPjA7aWYoZS5pc0luc3RhbmNlZD1lLmlzSW5zdGFuY2VkfHxpLG4gaW5zdGFuY2VvZiBkLmEpe3ZhciBhPW47aWYoaSl7dmFyIG89YS5nZXRWZXJ0ZXhDb3VudChyKTtlLmluc3RhbmNlQ291bnQ9TWF0aC5taW4oZS5pbnN0YW5jZUNvdW50LG8pfWVsc2V7dmFyIHM9YS5nZXRWZXJ0ZXhDb3VudChyKTtlLnZlcnRleENvdW50PU1hdGgubWluKGUudmVydGV4Q291bnQscyl9fX19fSx7a2V5OiJzZXRFbGVtZW50cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gby5oLmRlcHJlY2F0ZWQoInNldEVsZW1lbnRzIiwic2V0RWxlbWVudEJ1ZmZlciIpKCksdGhpcy5zZXRFbGVtZW50QnVmZmVyKGUsdCl9fV0pLGV9KCksQz1uKDI2NyksTD1uKDk1KSxJPW4oODMpO2Z1bmN0aW9uIFIoZSx0KXtmb3IodmFyIG49dC5tYXhFbHRzLHI9dm9pZCAwPT09bj8xNjpuLGk9dC5zaXplLGE9dm9pZCAwPT09aT8xOmksbz0iWyIscz0wO3M8ZS5sZW5ndGgmJnM8cjsrK3Mpcz4wJiYobys9IiwiLmNvbmNhdChzJWE9PTA/IiAiOiIiKSksbys9RChlW3NdLHQpO3ZhciB1PWUubGVuZ3RoPnI/Ii4uLiI6Il0iO3JldHVybiIiLmNvbmNhdChvKS5jb25jYXQodSl9ZnVuY3Rpb24gRChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj0xZS0xNixyPXQuaXNJbnRlZ2VyLGk9dm9pZCAwIT09ciYmcjtpZihBcnJheS5pc0FycmF5KGUpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpcmV0dXJuIFIoZSx0KTtpZighTnVtYmVyLmlzRmluaXRlKGUpKXJldHVybiBTdHJpbmcoZSk7aWYoTWF0aC5hYnMoZSk8bilyZXR1cm4gaT8iMCI6IjAuIjtpZihpKXJldHVybiBlLnRvRml4ZWQoMCk7aWYoTWF0aC5hYnMoZSk+MTAwJiZNYXRoLmFicyhlKTwxZTQpcmV0dXJuIGUudG9GaXhlZCgwKTt2YXIgYT1lLnRvUHJlY2lzaW9uKDIpLG89YS5pbmRleE9mKCIuMCIpO3JldHVybiBvPT09YS5sZW5ndGgtMj9hLnNsaWNlKDAsLTEpOmF9ZnVuY3Rpb24gRihlLHQsbixpKXt2YXIgYSxvLHM9ZS5nbDtpZighdClyZXR1cm4gbz17fSxPYmplY3Qoci5hKShvLGksIm51bGwiKSxPYmplY3Qoci5hKShvLCJGb3JtYXQgIiwiTi9BIiksbzt2YXIgdSxjLGwsaD0iTk9UIFBST1ZJREVEIixmPSJOL0EiLHY9Ik4vQSIscD0iTi9BIjtpZihuJiYoaD1uLnR5cGUsZj1uLnNpemUsdT0tMSE9PShoPVN0cmluZyhoKS5yZXBsYWNlKCJBcnJheSIsIiIpKS5pbmRleE9mKCJudCIpKSx0IGluc3RhbmNlb2YgZC5hKXt2YXIgZyx5LG09dCxiPW0uZ2V0RGVidWdEYXRhKCksXz1iLmRhdGE7aWYoYz1iLm1vZGlmaWVkPyIqIjoiIixsPV8sdj0ocD1tLmJ5dGVMZW5ndGgpL18uQllURVNfUEVSX0VMRU1FTlQvZixuKXt2YXIgTz1uLmRpdmlzb3I+MDt5PSIiLmNvbmNhdChPPyJJICI6IlAgIiwiICIpLmNvbmNhdCh2LCIgKHgiKS5jb25jYXQoZiwiPSIpLmNvbmNhdChwLCIgYnl0ZXMgIikuY29uY2F0KE9iamVjdChMLmEpKHMsaCksIikiKX1lbHNlIHU9ITAseT0iIi5jb25jYXQocCwiIGJ5dGVzIik7cmV0dXJuIGc9e30sT2JqZWN0KHIuYSkoZyxpLCIiLmNvbmNhdChjKS5jb25jYXQoRChsLHtzaXplOmYsaXNJbnRlZ2VyOnV9KSkpLE9iamVjdChyLmEpKGcsIkZvcm1hdCAiLHkpLGd9cmV0dXJuIGw9dCxmPXQubGVuZ3RoLHU9LTEhPT0oaD1TdHJpbmcodC5jb25zdHJ1Y3Rvci5uYW1lKS5yZXBsYWNlKCJBcnJheSIsIiIpKS5pbmRleE9mKCJudCIpLGE9e30sT2JqZWN0KHIuYSkoYSxpLCIiLmNvbmNhdChEKGwse3NpemU6Zixpc0ludGVnZXI6dX0pLCIgKGNvbnN0YW50KSIpKSxPYmplY3Qoci5hKShhLCJGb3JtYXQgIiwiIi5jb25jYXQoZiwieCIpLmNvbmNhdChoLCIgKGNvbnN0YW50KSIpKSxhfWZ1bmN0aW9uIE4oZSx0KXt2YXIgbj10LnR5cGUscj10LnNpemUsaT1PYmplY3QoSS5iKShuLHIpO3JldHVybiBpPyIiLmNvbmNhdChlLCIgKCIpLmNvbmNhdChpLm5hbWUsIikiKTplfWZ1bmN0aW9uIHooKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmhlYWRlcixuPXZvaWQgMD09PXQ/IlVuaWZvcm1zIjp0LGk9ZS5wcm9ncmFtLGE9ZS51bmlmb3JtcyxvPWUudW5kZWZpbmVkT25seSxzPXZvaWQgMCE9PW8mJm87T2JqZWN0KGMuYSkoaSk7dmFyIHU9Ii4qXy4qIixsPSIuKk1hdHJpeCIsaD1pLl91bmlmb3JtU2V0dGVycyxmPXt9LGQ9T2JqZWN0LmtleXMoaCkuc29ydCgpLHY9MCxwPSEwLGc9ITEseT12b2lkIDA7dHJ5e2Zvcih2YXIgbSxiPWRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocD0obT1iLm5leHQoKSkuZG9uZSk7cD0hMCl7dmFyIF89bS52YWx1ZTtfLm1hdGNoKHUpfHxfLm1hdGNoKGwpfHxCKHt0YWJsZTpmLGhlYWRlcjpuLHVuaWZvcm1zOmEsdW5pZm9ybU5hbWU6Xyx1bmRlZmluZWRPbmx5OnN9KSYmdisrfX1jYXRjaChlKXtnPSEwLHk9ZX1maW5hbGx5e3RyeXtwfHxudWxsPT1iLnJldHVybnx8Yi5yZXR1cm4oKX1maW5hbGx5e2lmKGcpdGhyb3cgeX19dmFyIE89ITAseD0hMSx3PXZvaWQgMDt0cnl7Zm9yKHZhciBTLGs9ZFtTeW1ib2wuaXRlcmF0b3JdKCk7IShPPShTPWsubmV4dCgpKS5kb25lKTtPPSEwKXt2YXIgUD1TLnZhbHVlO1AubWF0Y2gobCkmJkIoe3RhYmxlOmYsaGVhZGVyOm4sdW5pZm9ybXM6YSx1bmlmb3JtTmFtZTpQLHVuZGVmaW5lZE9ubHk6c30pJiZ2Kyt9fWNhdGNoKGUpe3g9ITAsdz1lfWZpbmFsbHl7dHJ5e098fG51bGw9PWsucmV0dXJufHxrLnJldHVybigpfWZpbmFsbHl7aWYoeCl0aHJvdyB3fX12YXIgaj0hMCxUPSExLEU9dm9pZCAwO3RyeXtmb3IodmFyIEEsTT1kW1N5bWJvbC5pdGVyYXRvcl0oKTshKGo9KEE9TS5uZXh0KCkpLmRvbmUpO2o9ITApe3ZhciBDPUEudmFsdWU7ZltDXXx8Qih7dGFibGU6ZixoZWFkZXI6bix1bmlmb3JtczphLHVuaWZvcm1OYW1lOkMsdW5kZWZpbmVkT25seTpzfSkmJnYrK319Y2F0Y2goZSl7VD0hMCxFPWV9ZmluYWxseXt0cnl7anx8bnVsbD09TS5yZXR1cm58fE0ucmV0dXJuKCl9ZmluYWxseXtpZihUKXRocm93IEV9fXZhciBMPTAsST17fTtpZighcylmb3IodmFyIFIgaW4gYSl7dmFyIEY9YVtSXTtmW1JdfHwoTCsrLElbUl09T2JqZWN0KHIuYSkoe1R5cGU6Ik5PVCBVU0VEOiAiLmNvbmNhdChGKX0sbixEKEYpKSl9cmV0dXJue3RhYmxlOmYsY291bnQ6dix1bnVzZWRUYWJsZTpJLHVudXNlZENvdW50Okx9fWZ1bmN0aW9uIEIoZSl7dmFyIHQsbj1lLnRhYmxlLGk9ZS5oZWFkZXIsYT1lLnVuaWZvcm1zLG89ZS51bmlmb3JtTmFtZSxzPWUudW5kZWZpbmVkT25seSx1PWFbb10sYz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZX0odSk7cmV0dXJuKCFzfHwhYykmJihuW29dPSh0PXt9LE9iamVjdChyLmEpKHQsaSxjP0QodSk6Ik4vQSIpLE9iamVjdChyLmEpKHQsIlVuaWZvcm0gVHlwZSIsYz91OiJOT1QgUFJPVklERUQiKSx0KSwhMCl9ZnVuY3Rpb24gVShlKXt2YXIgdD1lLmFjY2Vzc29yLG49dC50eXBlLHI9dC5zaXplLGk9T2JqZWN0KEkuYikobixyKTtyZXR1cm4gaT8iIi5jb25jYXQoaS5uYW1lLCIgIikuY29uY2F0KGUubmFtZSk6ZS5uYW1lfXZhciBWPW4oNDMpLEc9e1BPU0lUSU9OOiJwb3NpdGlvbnMiLE5PUk1BTDoibm9ybWFscyIsQ09MT1JfMDoiY29sb3JzIixURVhDT09SRF8wOiJ0ZXhDb29yZHMiLFRFWENPT1JEXzE6InRleENvb3JkczEiLFRFWENPT1JEXzI6InRleENvb3JkczIifTtmdW5jdGlvbiBXKGUsdCl7dmFyIG49KHR8fHt9KS5hdHRyaWJ1dGVNYXAscj12b2lkIDA9PT1uP0c6bjtyZXR1cm4gciYmcltlXXx8ZX1mdW5jdGlvbiBIKGUsdCl7dmFyIG47c3dpdGNoKGUpe2Nhc2UidGV4Q29vcmRzIjpjYXNlInRleENvb3JkMSI6Y2FzZSJ0ZXhDb29yZDIiOmNhc2UidGV4Q29vcmQzIjpuPSJ1dnMiO2JyZWFrO2Nhc2UidmVydGljZXMiOmNhc2UicG9zaXRpb25zIjpjYXNlIm5vcm1hbHMiOmNhc2UicGlja2luZ0NvbG9ycyI6bj0idmVjdG9ycyJ9c3dpdGNoKG4pe2Nhc2UidmVjdG9ycyI6dC5zaXplPXQuc2l6ZXx8MzticmVhaztjYXNlInV2cyI6dC5zaXplPXQuc2l6ZXx8Mn1PYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUodC5zaXplKSwiYXR0cmlidXRlICIuY29uY2F0KGUsIiBuZWVkcyBzaXplIikpfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gWn0pKTt2YXIgcT1mdW5jdGlvbigpe30sWD17fSxaPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KGkuYSkodGhpcyxlKTt2YXIgcj1uLmlkLGE9dm9pZCAwPT09cj9PYmplY3QodS5jKSgibW9kZWwiKTpyO09iamVjdChjLmEpKE9iamVjdChvLmYpKHQpKSx0aGlzLmlkPWEsdGhpcy5nbD10LHRoaXMuaWQ9bi5pZHx8T2JqZWN0KHUuYykoIk1vZGVsIiksdGhpcy5sYXN0TG9nVGltZT0wLHRoaXMuaW5pdGlhbGl6ZShuKX1yZXR1cm4gT2JqZWN0KGEuYSkoZSxbe2tleToiaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wcm9wcz17fSx0aGlzLnByb2dyYW1NYW5hZ2VyPWUucHJvZ3JhbU1hbmFnZXJ8fHMuYS5nZXREZWZhdWx0UHJvZ3JhbU1hbmFnZXIodGhpcy5nbCksdGhpcy5fcHJvZ3JhbU1hbmFnZXJTdGF0ZT0tMSx0aGlzLl9tYW5hZ2VkUHJvZ3JhbT0hMTt2YXIgdD1lLnByb2dyYW0sbj12b2lkIDA9PT10P251bGw6dCxyPWUudnMsaT1lLmZzLGE9ZS5tb2R1bGVzLG89ZS5kZWZpbmVzLHU9ZS5pbmplY3QsbD1lLnZhcnlpbmdzLGg9ZS5idWZmZXJNb2RlLGY9ZS50cmFuc3BpbGVUb0dMU0wxMDA7dGhpcy5wcm9ncmFtUHJvcHM9e3Byb2dyYW06bix2czpyLGZzOmksbW9kdWxlczphLGRlZmluZXM6byxpbmplY3Q6dSx2YXJ5aW5nczpsLGJ1ZmZlck1vZGU6aCx0cmFuc3BpbGVUb0dMU0wxMDA6Zn0sdGhpcy5wcm9ncmFtPW51bGwsdGhpcy52ZXJ0ZXhBcnJheT1udWxsLHRoaXMuX3Byb2dyYW1EaXJ0eT0hMCx0aGlzLnVzZXJEYXRhPXt9LHRoaXMubmVlZHNSZWRyYXc9ITAsdGhpcy5fYXR0cmlidXRlcz17fSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy51bmlmb3Jtcz17fSx0aGlzLnBpY2thYmxlPSEwLHRoaXMuX2NoZWNrUHJvZ3JhbSgpLHRoaXMuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldE1vZHVsZVVuaWZvcm1zKGUubW9kdWxlU2V0dGluZ3MpKSksdGhpcy5kcmF3TW9kZT12b2lkIDAhPT1lLmRyYXdNb2RlP2UuZHJhd01vZGU6NCx0aGlzLnZlcnRleENvdW50PWUudmVydGV4Q291bnR8fDAsdGhpcy5nZW9tZXRyeUJ1ZmZlcnM9e30sdGhpcy5pc0luc3RhbmNlZD1lLmlzSW5zdGFuY2VkfHxlLmluc3RhbmNlZHx8ZS5pbnN0YW5jZUNvdW50PjAsdGhpcy5fc2V0TW9kZWxQcm9wcyhlKSx0aGlzLmdlb21ldHJ5PXt9LE9iamVjdChjLmEpKHZvaWQgMCE9PXRoaXMuZHJhd01vZGUmJk51bWJlci5pc0Zpbml0ZSh0aGlzLnZlcnRleENvdW50KSwiTW9kZWwgbmVlZHMgZHJhd01vZGUgYW5kIHZlcnRleENvdW50Iil9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc2V0TW9kZWxQcm9wcyhlKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fYXR0cmlidXRlcyl0aGlzLl9hdHRyaWJ1dGVzW2VdIT09dGhpcy5hdHRyaWJ1dGVzW2VdJiZ0aGlzLl9hdHRyaWJ1dGVzW2VdLmRlbGV0ZSgpO3RoaXMuX21hbmFnZWRQcm9ncmFtJiZ0aGlzLnByb2dyYW1NYW5hZ2VyLnJlbGVhc2UodGhpcy5wcm9ncmFtKSx0aGlzLnZlcnRleEFycmF5LmRlbGV0ZSgpLHRoaXMuX2RlbGV0ZUdlb21ldHJ5QnVmZmVycygpfX0se2tleToiZ2V0RHJhd01vZGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd01vZGV9fSx7a2V5OiJnZXRWZXJ0ZXhDb3VudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0ZXhDb3VudH19LHtrZXk6ImdldEluc3RhbmNlQ291bnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2VDb3VudH19LHtrZXk6ImdldEF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc319LHtrZXk6ImdldFByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvZ3JhbX19LHtrZXk6InNldFByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvZ3JhbSxuPWUudnMscj1lLmZzLGk9ZS5tb2R1bGVzLGE9ZS5kZWZpbmVzLG89ZS5pbmplY3Qscz1lLnZhcnlpbmdzLHU9ZS5idWZmZXJNb2RlLGM9ZS50cmFuc3BpbGVUb0dMU0wxMDA7dGhpcy5wcm9ncmFtUHJvcHM9e3Byb2dyYW06dCx2czpuLGZzOnIsbW9kdWxlczppLGRlZmluZXM6YSxpbmplY3Q6byx2YXJ5aW5nczpzLGJ1ZmZlck1vZGU6dSx0cmFuc3BpbGVUb0dMU0wxMDA6Y30sdGhpcy5fcHJvZ3JhbURpcnR5PSEwfX0se2tleToiZ2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXN9fSx7a2V5OiJzZXREcmF3TW9kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZHJhd01vZGU9ZSx0aGlzfX0se2tleToic2V0VmVydGV4Q291bnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYy5hKShOdW1iZXIuaXNGaW5pdGUoZSkpLHRoaXMudmVydGV4Q291bnQ9ZSx0aGlzfX0se2tleToic2V0SW5zdGFuY2VDb3VudCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChjLmEpKE51bWJlci5pc0Zpbml0ZShlKSksdGhpcy5pbnN0YW5jZUNvdW50PWUsdGhpc319LHtrZXk6InNldEdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kcmF3TW9kZT1lLmRyYXdNb2RlLHRoaXMudmVydGV4Q291bnQ9ZS5nZXRWZXJ0ZXhDb3VudCgpLHRoaXMuX2RlbGV0ZUdlb21ldHJ5QnVmZmVycygpLHRoaXMuZ2VvbWV0cnlCdWZmZXJzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fSxpPXQuaW5kaWNlcztmb3IodmFyIGEgaW4gdC5hdHRyaWJ1dGVzKXt2YXIgbz10LmF0dHJpYnV0ZXNbYV0scz1XKGEsbik7aWYoImluZGljZXMiPT09YSlpPW87ZWxzZSBpZihvLmNvbnN0YW50KXJbc109by52YWx1ZTtlbHNle3ZhciB1PW8udmFsdWUsbD1PYmplY3QoVi5hKSh7fSxvKTtkZWxldGUgbC52YWx1ZSxyW3NdPVtuZXcgZC5hKGUsdSksbF0sSChhLGwpfX1pZihpKXt2YXIgaD1pLnZhbHVlfHxpO09iamVjdChjLmEpKGggaW5zdGFuY2VvZiBVaW50MTZBcnJheXx8aCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5LCdhdHRyaWJ1dGUgYXJyYXkgZm9yICJpbmRpY2VzIiBtdXN0IGJlIG9mIGludGVnZXIgdHlwZScpO3ZhciBmPXtzaXplOjEsaXNJbmRleGVkOnZvaWQgMD09PWkuaXNJbmRleGVkfHxpLmlzSW5kZXhlZH07ci5pbmRpY2VzPVtuZXcgZC5hKGUse2RhdGE6aCx0YXJnZXQ6MzQ5NjN9KSxmXX1yZXR1cm4gcn0odGhpcy5nbCxlKSx0aGlzLnZlcnRleEFycmF5LnNldEF0dHJpYnV0ZXModGhpcy5nZW9tZXRyeUJ1ZmZlcnMpLHRoaXN9fSx7a2V5OiJzZXRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZihPYmplY3QodS5hKShlKSlyZXR1cm4gdGhpczt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl7dmFyIHI9ZVtuXTt0W25dPXIuZ2V0VmFsdWU/ci5nZXRWYWx1ZSgpOnJ9cmV0dXJuIHRoaXMudmVydGV4QXJyYXkuc2V0QXR0cmlidXRlcyh0KSx0aGlzfX0se2tleToic2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBPYmplY3QuYXNzaWduKHRoaXMudW5pZm9ybXMsZSksdGhpc319LHtrZXk6ImdldE1vZHVsZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jaGVja1Byb2dyYW0oKTt2YXIgdD10aGlzLnByb2dyYW1NYW5hZ2VyLmdldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSk7cmV0dXJuIHQ/dChlKTp7fX19LHtrZXk6InVwZGF0ZU1vZHVsZVNldHRpbmdzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldE1vZHVsZVVuaWZvcm1zKGV8fHt9KTtyZXR1cm4gdGhpcy5zZXRVbmlmb3Jtcyh0KX19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGwuYSkodGhpcy5wcm9ncmFtLmdsLGUpLHRoaXN9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9jaGVja1Byb2dyYW0oKTt2YXIgdCxuPWUubW9kdWxlU2V0dGluZ3Mscj12b2lkIDA9PT1uP251bGw6bixpPWUuZnJhbWVidWZmZXIsYT1lLnVuaWZvcm1zLHM9dm9pZCAwPT09YT97fTphLHU9ZS5hdHRyaWJ1dGVzLGM9dm9pZCAwPT09dT97fTp1LGw9ZS50cmFuc2Zvcm1GZWVkYmFjayxoPXZvaWQgMD09PWw/dGhpcy50cmFuc2Zvcm1GZWVkYmFjazpsLGY9ZS5wYXJhbWV0ZXJzLGQ9dm9pZCAwPT09Zj97fTpmLHY9ZS52ZXJ0ZXhBcnJheSxwPXZvaWQgMD09PXY/dGhpcy52ZXJ0ZXhBcnJheTp2O3RoaXMuc2V0QXR0cmlidXRlcyhjKSx0aGlzLnVwZGF0ZU1vZHVsZVNldHRpbmdzKHIpLHRoaXMuc2V0VW5pZm9ybXMocyksby5oLnByaW9yaXR5Pj0yJiYodD10aGlzLl9sb2dEcmF3Q2FsbFN0YXJ0KDIpKTt2YXIgZz10aGlzLnZlcnRleEFycmF5LmdldERyYXdQYXJhbXMoKSx5PXRoaXMucHJvcHMsbT15LmlzSW5kZXhlZCxiPXZvaWQgMD09PW0/Zy5pc0luZGV4ZWQ6bSxfPXkuaW5kZXhUeXBlLE89dm9pZCAwPT09Xz9nLmluZGV4VHlwZTpfLHg9eS5pbmRleE9mZnNldCx3PXZvaWQgMD09PXg/Zy5pbmRleE9mZnNldDp4LFM9eS52ZXJ0ZXhBcnJheUluc3RhbmNlZCxrPXZvaWQgMD09PVM/Zy5pc0luc3RhbmNlZDpTO2smJiF0aGlzLmlzSW5zdGFuY2VkJiZvLmgud2FybigiRm91bmQgaW5zdGFuY2VkIGF0dHJpYnV0ZXMgb24gbm9uLWluc3RhbmNlZCBtb2RlbCIsdGhpcy5pZCkoKTt2YXIgUD10aGlzLmlzSW5zdGFuY2VkLGo9dGhpcy5pbnN0YW5jZUNvdW50LFQ9dGhpcy5wcm9wcyxFPVQub25CZWZvcmVSZW5kZXIsQT12b2lkIDA9PT1FP3E6RSxNPVQub25BZnRlclJlbmRlcixDPXZvaWQgMD09PU0/cTpNO0EoKSx0aGlzLnByb2dyYW0uc2V0VW5pZm9ybXModGhpcy51bmlmb3Jtcyk7dmFyIEw9dGhpcy5wcm9ncmFtLmRyYXcoT2JqZWN0LmFzc2lnbihYLGUse2xvZ1ByaW9yaXR5OnQsdW5pZm9ybXM6bnVsbCxmcmFtZWJ1ZmZlcjppLHBhcmFtZXRlcnM6ZCxkcmF3TW9kZTp0aGlzLmdldERyYXdNb2RlKCksdmVydGV4Q291bnQ6dGhpcy5nZXRWZXJ0ZXhDb3VudCgpLHZlcnRleEFycmF5OnAsdHJhbnNmb3JtRmVlZGJhY2s6aCxpc0luZGV4ZWQ6YixpbmRleFR5cGU6Tyxpc0luc3RhbmNlZDpQLGluc3RhbmNlQ291bnQ6aixvZmZzZXQ6Yj93OjB9KSk7cmV0dXJuIEMoKSxvLmgucHJpb3JpdHk+PTImJnRoaXMuX2xvZ0RyYXdDYWxsRW5kKHQscCxpKSxMfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZGlzY2FyZCxuPXZvaWQgMD09PXR8fHQsaT1lLmZlZWRiYWNrQnVmZmVycyxhPWUudW5iaW5kTW9kZWxzLG89dm9pZCAwPT09YT9bXTphLHM9ZS5wYXJhbWV0ZXJzO2kmJnRoaXMuX3NldEZlZWRiYWNrQnVmZmVycyhpKSxuJiYocz1PYmplY3QuYXNzaWduKHt9LHMsT2JqZWN0KHIuYSkoe30sMzU5NzcsbikpKSxvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZlcnRleEFycmF5LnVuYmluZEJ1ZmZlcnMoKX0pKTt0cnl7dGhpcy5kcmF3KE9iamVjdC5hc3NpZ24oe30sZSx7cGFyYW1ldGVyczpzfSkpfWZpbmFsbHl7by5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS52ZXJ0ZXhBcnJheS5iaW5kQnVmZmVycygpfSkpfXJldHVybiB0aGlzfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gby5oLndhcm4oIk1vZGVsLnJlbmRlcigpIGlzIGRlcHJlY2F0ZWQuIFVzZSBNb2RlbC5zZXRVbmlmb3JtcygpIGFuZCBNb2RlbC5kcmF3KCkiKSgpLHRoaXMuc2V0VW5pZm9ybXMoZSkuZHJhdygpfX0se2tleToiX3NldE1vZGVsUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpe09iamVjdC5hc3NpZ24odGhpcy5wcm9wcyxlKSwidW5pZm9ybXMiaW4gZSYmdGhpcy5zZXRVbmlmb3JtcyhlLnVuaWZvcm1zKSwicGlja2FibGUiaW4gZSYmKHRoaXMucGlja2FibGU9ZS5waWNrYWJsZSksImluc3RhbmNlQ291bnQiaW4gZSYmKHRoaXMuaW5zdGFuY2VDb3VudD1lLmluc3RhbmNlQ291bnQpLCJnZW9tZXRyeSJpbiBlJiZ0aGlzLnNldEdlb21ldHJ5KGUuZ2VvbWV0cnkpLCJhdHRyaWJ1dGVzImluIGUmJnRoaXMuc2V0QXR0cmlidXRlcyhlLmF0dHJpYnV0ZXMpLCJfZmVlZGJhY2tCdWZmZXJzImluIGUmJnRoaXMuX3NldEZlZWRiYWNrQnVmZmVycyhlLl9mZWVkYmFja0J1ZmZlcnMpfX0se2tleToiX2NoZWNrUHJvZ3JhbSIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3ZhciBlPXRoaXMuX3Byb2dyYW1EaXJ0eXx8dGhpcy5wcm9ncmFtTWFuYWdlci5zdGF0ZUhhc2ghPT10aGlzLl9wcm9ncmFtTWFuYWdlclN0YXRlO2lmKGUpe3ZhciB0PXRoaXMucHJvZ3JhbVByb3BzLnByb2dyYW07aWYodCl0aGlzLl9tYW5hZ2VkUHJvZ3JhbT0hMTtlbHNle3ZhciBuPXRoaXMucHJvZ3JhbVByb3BzLHI9bi52cyxpPW4uZnMsYT1uLm1vZHVsZXMsbz1uLmluamVjdCxzPW4uZGVmaW5lcyx1PW4udmFyeWluZ3MsbD1uLmJ1ZmZlck1vZGUsZj1uLnRyYW5zcGlsZVRvR0xTTDEwMDt0PXRoaXMucHJvZ3JhbU1hbmFnZXIuZ2V0KHt2czpyLGZzOmksbW9kdWxlczphLGluamVjdDpvLGRlZmluZXM6cyx2YXJ5aW5nczp1LGJ1ZmZlck1vZGU6bCx0cmFuc3BpbGVUb0dMU0wxMDA6Zn0pLHRoaXMucHJvZ3JhbSYmdGhpcy5fbWFuYWdlZFByb2dyYW0mJnRoaXMucHJvZ3JhbU1hbmFnZXIucmVsZWFzZSh0aGlzLnByb2dyYW0pLHRoaXMuX3Byb2dyYW1NYW5hZ2VyU3RhdGU9dGhpcy5wcm9ncmFtTWFuYWdlci5zdGF0ZUhhc2gsdGhpcy5fbWFuYWdlZFByb2dyYW09ITB9T2JqZWN0KGMuYSkodCBpbnN0YW5jZW9mIGguYSwiTW9kZWwgbmVlZHMgYSBwcm9ncmFtIiksdGhpcy5fcHJvZ3JhbURpcnR5PSExLHQhPT10aGlzLnByb2dyYW0mJih0aGlzLnByb2dyYW09dCx0aGlzLnZlcnRleEFycmF5P3RoaXMudmVydGV4QXJyYXkuc2V0UHJvcHMoe3Byb2dyYW06dGhpcy5wcm9ncmFtLGF0dHJpYnV0ZXM6dGhpcy52ZXJ0ZXhBcnJheS5hdHRyaWJ1dGVzfSk6dGhpcy52ZXJ0ZXhBcnJheT1uZXcgTSh0aGlzLmdsLHtwcm9ncmFtOnRoaXMucHJvZ3JhbX0pLHRoaXMuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldE1vZHVsZVVuaWZvcm1zKCkpKSl9fX0se2tleToiX2RlbGV0ZUdlb21ldHJ5QnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5nZW9tZXRyeUJ1ZmZlcnMpe3ZhciB0PXRoaXMuZ2VvbWV0cnlCdWZmZXJzW2VdWzBdfHx0aGlzLmdlb21ldHJ5QnVmZmVyc1tlXTt0IGluc3RhbmNlb2YgZC5hJiZ0LmRlbGV0ZSgpfX19LHtrZXk6Il9zZXRBbmltYXRpb25Qcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5hbmltYXRlZCl7T2JqZWN0KGMuYSkoZSwiTW9kZWwuZHJhdygpOiBhbmltYXRlZCB1bmlmb3JtcyBidXQgbm8gYW5pbWF0aW9uUHJvcHMiKTt2YXIgdD10aGlzLl9ldmFsdWF0ZUFuaW1hdGVVbmlmb3JtcyhlKTtPYmplY3QuYXNzaWduKHRoaXMudW5pZm9ybXMsdCl9fX0se2tleToiX3NldEZlZWRiYWNrQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYoT2JqZWN0KHUuYSkoZSkpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcy5wcm9ncmFtLmdsO3JldHVybiB0aGlzLnRyYW5zZm9ybUZlZWRiYWNrPXRoaXMudHJhbnNmb3JtRmVlZGJhY2t8fG5ldyBDLmEodCx7cHJvZ3JhbTp0aGlzLnByb2dyYW19KSx0aGlzLnRyYW5zZm9ybUZlZWRiYWNrLnNldEJ1ZmZlcnMoZSksdGhpc319LHtrZXk6Il9sb2dEcmF3Q2FsbFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lPjM/MDoxZTQ7aWYoIShEYXRlLm5vdygpLXRoaXMubGFzdExvZ1RpbWU8dCkpcmV0dXJuIHRoaXMubGFzdExvZ1RpbWU9RGF0ZS5ub3coKSxvLmguZ3JvdXAoMiwiPj4+IERSQVdJTkcgTU9ERUwgIi5jb25jYXQodGhpcy5pZCkse2NvbGxhcHNlZDpvLmgubGV2ZWw8PTJ9KSgpLGV9fSx7a2V5OiJfbG9nRHJhd0NhbGxFbmQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe2lmKHZvaWQgMCE9PWUpe3ZhciBhPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS52ZXJ0ZXhBcnJheSxuPWUuaGVhZGVyLHI9dm9pZCAwPT09bj8iQXR0cmlidXRlcyI6bjtpZighdC5jb25maWd1cmF0aW9uKXJldHVybnt9O3ZhciBpPXt9O3QuZWxlbWVudHMmJihpLkVMRU1FTlRfQVJSQVlfQlVGRkVSPUYodCx0LmVsZW1lbnRzLG51bGwscikpO3ZhciBhPXQudmFsdWVzO2Zvcih2YXIgbyBpbiBhKXt2YXIgcz10Ll9nZXRBdHRyaWJ1dGVJbmZvKG8pO2lmKHMpe3ZhciB1PSIiLmNvbmNhdChvLCI6ICIpLmNvbmNhdChzLm5hbWUpLGM9dC5hY2Nlc3NvcnNbcy5sb2NhdGlvbl07YyYmKHU9IiIuY29uY2F0KG8sIjogIikuY29uY2F0KE4ocy5uYW1lLGMpKSksaVt1XT1GKHQsYVtvXSxjLHIpfX1yZXR1cm4gaX0oe3ZlcnRleEFycmF5OnQsaGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgYXR0cmlidXRlcyIpLGF0dHJpYnV0ZXM6dGhpcy5fYXR0cmlidXRlc30pLHM9eih7aGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgdW5pZm9ybXMiKSxwcm9ncmFtOnRoaXMucHJvZ3JhbSx1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3JhbS51bmlmb3JtcyxuKX0pLHU9cy50YWJsZSxjPXMudW51c2VkVGFibGUsbD1zLnVudXNlZENvdW50LGg9eih7aGVhZGVyOiIiLmNvbmNhdCh0aGlzLmlkLCIgdW5pZm9ybXMiKSxwcm9ncmFtOnRoaXMucHJvZ3JhbSx1bmlmb3JtczpPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3JhbS51bmlmb3JtcyxuKSx1bmRlZmluZWRPbmx5OiEwfSksZj1oLnRhYmxlO2guY291bnQ+MCYmby5oLmxvZygiTUlTU0lORyBVTklGT1JNUyIsT2JqZWN0LmtleXMoZikpKCksbD4wJiZvLmgubG9nKCJVTlVTRUQgVU5JRk9STVMiLE9iamVjdC5rZXlzKGMpKSgpO3ZhciBkPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49IkFjY2Vzc29ycyBmb3IgIi5jb25jYXQoZS5pZCksaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT1lLmF0dHJpYnV0ZUluZm9zW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7aWYoYyl7dmFyIGw9VShjKTt0WyJpbiAiLmNvbmNhdChsKV09T2JqZWN0KHIuYSkoe30sbixKU09OLnN0cmluZ2lmeShjLmFjY2Vzc29yKSl9fX1jYXRjaChlKXthPSEwLG89ZX1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319dmFyIGg9ITAsZj0hMSxkPXZvaWQgMDt0cnl7Zm9yKHZhciB2LHA9ZS52YXJ5aW5nSW5mb3NbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaD0odj1wLm5leHQoKSkuZG9uZSk7aD0hMCl7dmFyIGc9di52YWx1ZTtpZihnKXt2YXIgeT1VKGcpO3RbIm91dCAiLmNvbmNhdCh5KV09T2JqZWN0KHIuYSkoe30sbixKU09OLnN0cmluZ2lmeShnLmFjY2Vzc29yKSl9fX1jYXRjaChlKXtmPSEwLGQ9ZX1maW5hbGx5e3RyeXtofHxudWxsPT1wLnJldHVybnx8cC5yZXR1cm4oKX1maW5hbGx5e2lmKGYpdGhyb3cgZH19cmV0dXJuIHR9KHRoaXMudmVydGV4QXJyYXkuY29uZmlndXJhdGlvbik7by5oLnRhYmxlKGUsYSkoKSxvLmgudGFibGUoZSx1KSgpLG8uaC50YWJsZShlKzEsZCkoKSxpJiZpLmxvZyh7bG9nTGV2ZWw6MixtZXNzYWdlOiJSZW5kZXJlZCB0byAiLmNvbmNhdChpLmlkKX0pLG8uaC5ncm91cEVuZCgyLCI+Pj4gRFJBV0lORyBNT0RFTCAiLmNvbmNhdCh0aGlzLmlkKSkoKX19fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0fHwic2hhZGVydG9vbHM6IGFzc2VydGlvbiBmYWlsZWQuIil9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiByfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigyMSksaT1uKDExKSxhPW4oNjUpLG89bigyOSk7ZnVuY3Rpb24gcyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LmZyYW1lYnVmZmVyLHI9dm9pZCAwPT09bj9udWxsOm4sYT10LmNvbG9yLHM9dm9pZCAwPT09YT9udWxsOmEsdT10LmRlcHRoLGM9dm9pZCAwPT09dT9udWxsOnUsbD10LnN0ZW5jaWwsaD12b2lkIDA9PT1sP251bGw6bCxmPXt9O3ImJihmLmZyYW1lYnVmZmVyPXIpO3ZhciBkPTA7cyYmKGR8PTE2Mzg0LCEwIT09cyYmKGYuY2xlYXJDb2xvcj1zKSksYyYmKGR8PTI1NiwhMCE9PWMmJihmLmNsZWFyRGVwdGg9YykpLGgmJihkfD0xMDI0LCEwIT09YyYmKGYuY2xlYXJTdGVuY2lsPWMpKSxPYmplY3Qoby5hKSgwIT09ZCwiY2xlYXI6IGJhZCBhcmd1bWVudHMiKSxPYmplY3QoaS5sKShlLGYsKGZ1bmN0aW9uKCl7ZS5jbGVhcihkKX0pKX1mdW5jdGlvbiB1KGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQuZnJhbWVidWZmZXIscz12b2lkIDA9PT1uP251bGw6bix1PXQuYnVmZmVyLGM9dm9pZCAwPT09dT82MTQ0OnUsbD10LmRyYXdCdWZmZXIsaD12b2lkIDA9PT1sPzA6bCxmPXQudmFsdWUsZD12b2lkIDA9PT1mP1swLDAsMCwwXTpmO09iamVjdChhLmEpKGUpLE9iamVjdChpLmwpKGUse2ZyYW1lYnVmZmVyOnN9LChmdW5jdGlvbigpe3N3aXRjaChjKXtjYXNlIDYxNDQ6c3dpdGNoKGQuY29uc3RydWN0b3Ipe2Nhc2UgSW50MzJBcnJheTplLmNsZWFyQnVmZmVyaXYoYyxoLGQpO2JyZWFrO2Nhc2UgVWludDMyQXJyYXk6ZS5jbGVhckJ1ZmZlcnVpdihjLGgsZCk7YnJlYWs7Y2FzZSBGbG9hdDMyQXJyYXk6ZGVmYXVsdDplLmNsZWFyQnVmZmVyZnYoYyxoLGQpfWJyZWFrO2Nhc2UgNjE0NTplLmNsZWFyQnVmZmVyZnYoNjE0NSwwLFtkXSk7YnJlYWs7Y2FzZSA2MTQ2OmUuY2xlYXJCdWZmZXJpdig2MTQ2LDAsW2RdKTticmVhaztjYXNlIDM0MDQxOnZhciB0PU9iamVjdChyLmEpKGQsMiksbj10WzBdLGk9dFsxXTtlLmNsZWFyQnVmZmVyZmkoMzQwNDEsMCxuLGkpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KG8uYSkoITEsImNsZWFyOiBiYWQgYXJndW1lbnRzIil9fSkpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixpPW4oMCksYT1uKDgwKSxvPW4oMTYyKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgcz0ocj17fSxPYmplY3QoaS5hKShyLGEuYiwiI2lmZGVmIE1PRFVMRV9MT0dERVBUSFxuICBsb2dkZXB0aF9hZGp1c3RQb3NpdGlvbihnbF9Qb3NpdGlvbik7XG4jZW5kaWZcbiIpLE9iamVjdChpLmEpKHIsYS5hLCIjaWZkZWYgTU9EVUxFX01BVEVSSUFMXG4gIGdsX0ZyYWdDb2xvciA9IG1hdGVyaWFsX2ZpbHRlckNvbG9yKGdsX0ZyYWdDb2xvcik7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9MSUdIVElOR1xuICBnbF9GcmFnQ29sb3IgPSBsaWdodGluZ19maWx0ZXJDb2xvcihnbF9GcmFnQ29sb3IpO1xuI2VuZGlmXG5cbiNpZmRlZiBNT0RVTEVfRk9HXG4gIGdsX0ZyYWdDb2xvciA9IGZvZ19maWx0ZXJDb2xvcihnbF9GcmFnQ29sb3IpO1xuI2VuZGlmXG5cbiNpZmRlZiBNT0RVTEVfUElDS0lOR1xuICBnbF9GcmFnQ29sb3IgPSBwaWNraW5nX2ZpbHRlckhpZ2hsaWdodENvbG9yKGdsX0ZyYWdDb2xvcik7XG4gIGdsX0ZyYWdDb2xvciA9IHBpY2tpbmdfZmlsdGVyUGlja2luZ0NvbG9yKGdsX0ZyYWdDb2xvcik7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9MT0dERVBUSFxuICBsb2dkZXB0aF9zZXRGcmFnRGVwdGgoKTtcbiNlbmRpZlxuIiksciksdT0iX19MVU1BX0lOSkVDVF9ERUNMQVJBVElPTlNfXyIsYz0vdm9pZFxzK21haW5ccypcKFteKV0qXClccypce1xuPy8sbD0vfVxuP1tee31dKiQvLGg9W107ZnVuY3Rpb24gZihlLHQsbixyKXt2YXIgaT10PT09YS5iLG89ZnVuY3Rpb24odCl7dmFyIHI9blt0XTtyLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUub3JkZXItdC5vcmRlcn0pKSxoLmxlbmd0aD1yLmxlbmd0aDtmb3IodmFyIGE9MCxvPXIubGVuZ3RoO2E8bzsrK2EpaFthXT1yW2FdLmluamVjdGlvbjt2YXIgcz0iIi5jb25jYXQoaC5qb2luKCJcbiIpLCJcbiIpO3N3aXRjaCh0KXtjYXNlInZzOiNkZWNsIjppJiYoZT1lLnJlcGxhY2UodSxzKSk7YnJlYWs7Y2FzZSJ2czojbWFpbi1zdGFydCI6aSYmKGU9ZS5yZXBsYWNlKGMsKGZ1bmN0aW9uKGUpe3JldHVybiBlK3N9KSkpO2JyZWFrO2Nhc2UidnM6I21haW4tZW5kIjppJiYoZT1lLnJlcGxhY2UobCwoZnVuY3Rpb24oZSl7cmV0dXJuIHMrZX0pKSk7YnJlYWs7Y2FzZSJmczojZGVjbCI6aXx8KGU9ZS5yZXBsYWNlKHUscykpO2JyZWFrO2Nhc2UiZnM6I21haW4tc3RhcnQiOml8fChlPWUucmVwbGFjZShjLChmdW5jdGlvbihlKXtyZXR1cm4gZStzfSkpKTticmVhaztjYXNlImZzOiNtYWluLWVuZCI6aXx8KGU9ZS5yZXBsYWNlKGwsKGZ1bmN0aW9uKGUpe3JldHVybiBzK2V9KSkpO2JyZWFrO2RlZmF1bHQ6ZT1lLnJlcGxhY2UodCwoZnVuY3Rpb24oZSl7cmV0dXJuIGUrc30pKX19O2Zvcih2YXIgZiBpbiBuKW8oZik7cmV0dXJuIGU9ZS5yZXBsYWNlKHUsIiIpLHImJihlPWUucmVwbGFjZSgvXH1ccyokLywoZnVuY3Rpb24oZSl7cmV0dXJuIGUrc1t0XX0pKSksZX1mdW5jdGlvbiBkKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qoby5hKShBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4xKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbiBpbiBlKXRbbl09dFtuXT8iIi5jb25jYXQodFtuXSwiXG4iKS5jb25jYXQoZVtuXSk6ZVtuXX0pKSx0fX0sLCxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTIyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYib2JqZWN0Ij09PSgwLGkuZGVmYXVsdCkod2luZG93LnByb2Nlc3MpJiYicmVuZGVyZXIiPT09d2luZG93LnByb2Nlc3MudHlwZSlyZXR1cm4hMDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT09KDAsaS5kZWZhdWx0KShwcm9jZXNzLnZlcnNpb25zKSYmQm9vbGVhbihwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uKSlyZXR1cm4hMDt2YXIgdD0ib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvcj8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKG5hdmlnYXRvcikpJiYic3RyaW5nIj09dHlwZW9mIG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQsbj1lfHx0O2lmKG4mJm4uaW5kZXhPZigiRWxlY3Ryb24iKT49MClyZXR1cm4hMDtyZXR1cm4hMX07dmFyIGk9cihuKDM3KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtpZighZXx8IWUuUE9TSVRJT04pcmV0dXJuIG51bGw7dmFyIHQ9MS8wLG49MS8wLHI9MS8wLGk9LTEvMCxhPS0xLzAsbz0tMS8wLHM9ZS5QT1NJVElPTi52YWx1ZSx1PXMmJnMubGVuZ3RoO2lmKCF1KXJldHVybiBudWxsO2Zvcih2YXIgYz0wO2M8dTtjKz0zKXt2YXIgbD1zW2NdLGg9c1tjKzFdLGY9c1tjKzJdO3Q9bDx0P2w6dCxuPWg8bj9oOm4scj1mPHI/ZjpyLGk9bD5pP2w6aSxhPWg+YT9oOmEsbz1mPm8/ZjpvfXJldHVybltbdCxuLHJdLFtpLGEsb11dfW4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnIodCk7dmFyIHI9bigyMDMpO24uZCh0LCJTaW1wbGVNZXNoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSk7dmFyIGk9bigxOTkpO24uZCh0LCJTY2VuZWdyYXBoTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBpLmF9KSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oNCksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigxMDgpLGc9big0NCkseT1uKDY0KSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gaSgpKHRoaXMsdCksdSgpKHRoaXMsbCgpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKSh0LGUpLG8oKSh0LFt7a2V5OiJnZXRTdWJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdGF0ZSYmdGhpcy5pbnRlcm5hbFN0YXRlLnN1YkxheWVyc3x8W119fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToic2V0U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2YoKShsKCkodC5wcm90b3R5cGUpLCJzZXRTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuc2V0TmVlZHNVcGRhdGUoKX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmluZm8sbj10Lm9iamVjdDtyZXR1cm4gbiYmbi5fX3NvdXJjZSYmbi5fX3NvdXJjZS5wYXJlbnQmJm4uX19zb3VyY2UucGFyZW50LmlkPT09dGhpcy5pZD9PYmplY3QuYXNzaWduKHQse29iamVjdDpuLl9fc291cmNlLm9iamVjdCxpbmRleDpuLl9fc291cmNlLmluZGV4fSk6dH19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6InNob3VsZFJlbmRlclN1YkxheWVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucHJvcHMuX3N1YkxheWVyUHJvcHM7cmV0dXJuIHQmJnQubGVuZ3RofHxuJiZuW2VdfX0se2tleToiZ2V0U3ViTGF5ZXJDbGFzcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnByb3BzLl9zdWJMYXllclByb3BzO3JldHVybiBuJiZuW2VdJiZuW2VdLnR5cGV8fHR9fSx7a2V5OiJnZXRTdWJMYXllclJvdyIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLl9fc291cmNlPXtwYXJlbnQ6dGhpcyxvYmplY3Q6dCxpbmRleDpufSxlfX0se2tleToiZ2V0U3ViTGF5ZXJBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpe3ZhciB0PXtkYXRhOnRoaXMucHJvcHMuZGF0YSx0YXJnZXQ6W119O3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBuLl9fc291cmNlPyh0LmluZGV4PW4uX19zb3VyY2UuaW5kZXgsZShuLl9fc291cmNlLm9iamVjdCx0KSk6ZShuLHIpfX1yZXR1cm4gZX19LHtrZXk6ImdldFN1YkxheWVyUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9dGhpcy5wcm9wcyxuPXQub3BhY2l0eSxyPXQucGlja2FibGUsaT10LnZpc2libGUsYT10LnBhcmFtZXRlcnMsbz10LmdldFBvbHlnb25PZmZzZXQscz10LmhpZ2hsaWdodGVkT2JqZWN0SW5kZXgsdT10LmF1dG9IaWdobGlnaHQsYz10LmhpZ2hsaWdodENvbG9yLGw9dC5jb29yZGluYXRlU3lzdGVtLGg9dC5jb29yZGluYXRlT3JpZ2luLGY9dC53cmFwTG9uZ2l0dWRlLGQ9dC5wb3NpdGlvbkZvcm1hdCx2PXQubW9kZWxNYXRyaXgscD10LmV4dGVuc2lvbnMsZz10Ll9zdWJMYXllclByb3BzLHk9e29wYWNpdHk6bixwaWNrYWJsZTpyLHZpc2libGU6aSxwYXJhbWV0ZXJzOmEsZ2V0UG9seWdvbk9mZnNldDpvLGhpZ2hsaWdodGVkT2JqZWN0SW5kZXg6cyxhdXRvSGlnaGxpZ2h0OnUsaGlnaGxpZ2h0Q29sb3I6Yyxjb29yZGluYXRlU3lzdGVtOmwsY29vcmRpbmF0ZU9yaWdpbjpoLHdyYXBMb25naXR1ZGU6Zixwb3NpdGlvbkZvcm1hdDpkLG1vZGVsTWF0cml4OnYsZXh0ZW5zaW9uczpwfSxtPWcmJmdbZS5pZF0sYj1tJiZtLnVwZGF0ZVRyaWdnZXJzLF89ZS5pZHx8InN1YmxheWVyIjtpZihtKXt2YXIgTz10aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXM7Zm9yKHZhciB4IGluIG0pe3ZhciB3PU9beF07dyYmImFjY2Vzc29yIj09PXcudHlwZSYmKG1beF09dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKG1beF0pKX19T2JqZWN0LmFzc2lnbih5LGUsbSx7aWQ6IiIuY29uY2F0KHRoaXMucHJvcHMuaWQsIi0iKS5jb25jYXQoXyksdXBkYXRlVHJpZ2dlcnM6T2JqZWN0LmFzc2lnbih7YWxsOnRoaXMucHJvcHMudXBkYXRlVHJpZ2dlcnMuYWxsfSxlLnVwZGF0ZVRyaWdnZXJzLGIpfSk7dmFyIFM9ITAsaz0hMSxQPXZvaWQgMDt0cnl7Zm9yKHZhciBqLFQ9cFtTeW1ib2wuaXRlcmF0b3JdKCk7IShTPShqPVQubmV4dCgpKS5kb25lKTtTPSEwKXt2YXIgRT1qLnZhbHVlLEE9RS5nZXRTdWJMYXllclByb3BzLmNhbGwodGhpcyxFKTtBJiZPYmplY3QuYXNzaWduKHksQSx7dXBkYXRlVHJpZ2dlcnM6T2JqZWN0LmFzc2lnbih5LnVwZGF0ZVRyaWdnZXJzLEEudXBkYXRlVHJpZ2dlcnMpfSl9fWNhdGNoKGUpe2s9ITAsUD1lfWZpbmFsbHl7dHJ5e1N8fG51bGw9PVQucmV0dXJufHxULnJldHVybigpfWZpbmFsbHl7aWYoayl0aHJvdyBQfX1yZXR1cm4geX19LHtrZXk6Il9nZXRBdHRyaWJ1dGVNYW5hZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0se2tleToiX3JlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmludGVybmFsU3RhdGUuc3ViTGF5ZXJzLHQ9IWV8fHRoaXMubmVlZHNVcGRhdGUoKTt0JiYoZT10aGlzLnJlbmRlckxheWVycygpLGU9T2JqZWN0KHkuYikoZSxCb29sZWFuKSx0aGlzLmludGVybmFsU3RhdGUuc3ViTGF5ZXJzPWUpLE9iamVjdChnLmEpKCJjb21wb3NpdGVMYXllci5yZW5kZXJMYXllcnMiLHRoaXMsdCxlKTt2YXIgbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe2EudmFsdWUucGFyZW50PXRoaXN9fWNhdGNoKGUpe3I9ITAsaT1lfWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19fSx7a2V5OiJpc0NvbXBvc2l0ZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYoKShsKCkodC5wcm90b3R5cGUpLCJpc0xvYWRlZCIsdGhpcykmJnRoaXMuZ2V0U3ViTGF5ZXJzKCkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzTG9hZGVkfSkpfX1dKSx0fShwLmEpO20ubGF5ZXJOYW1lPSJDb21wb3NpdGVMYXllciJ9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMDcpLGk9bigyNjgpLGE9bigzNCksbz1uKDIzKSxzPW4oNDQpO3ZhciB1PXtuYW1lOiJKU09OIixleHRlbnNpb25zOlsianNvbiIsImdlb2pzb24iXSx0ZXN0VGV4dDpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVtlLmxlbmd0aC0xXTtyZXR1cm4ieyI9PT10JiYifSI9PT1ufHwiWyI9PT10JiYiXSI9PT1ufSxwYXJzZVRleHRTeW5jOkpTT04ucGFyc2V9LGM9YS5nbG9iYWwuZGVjayYmYS5nbG9iYWwuZGVjay5WRVJTSU9OO2lmKGMmJiI4LjEuMCIhPT1jKXRocm93IG5ldyBFcnJvcigiZGVjay5nbCAtIG11bHRpcGxlIHZlcnNpb25zIGRldGVjdGVkOiAiLmNvbmNhdChjLCIgdnMgIikuY29uY2F0KCI4LjEuMCIpKTtjfHwoYS5nbG9iYWwuZGVjaz1PYmplY3QuYXNzaWduKGEuZ2xvYmFsLmRlY2t8fHt9LHtWRVJTSU9OOiI4LjEuMCIsdmVyc2lvbjoiOC4xLjAiLGxvZzpvLmEsX3JlZ2lzdGVyTG9nZ2VyczpzLmJ9KSxPYmplY3Qoci5jKShbdSxpLmFdKSk7dC5hPWEuZ2xvYmFsLmRlY2t9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciByLGk9bigwKSxhPW4oNzEpLG89bigxMTYpLHM9e1dFQkdMMjoiV0VCR0wyIixWRVJURVhfQVJSQVlfT0JKRUNUOiJWRVJURVhfQVJSQVlfT0JKRUNUIixUSU1FUl9RVUVSWToiVElNRVJfUVVFUlkiLElOU1RBTkNFRF9SRU5ERVJJTkc6IklOU1RBTkNFRF9SRU5ERVJJTkciLE1VTFRJUExFX1JFTkRFUl9UQVJHRVRTOiJNVUxUSVBMRV9SRU5ERVJfVEFSR0VUUyIsRUxFTUVOVF9JTkRFWF9VSU5UMzI6IkVMRU1FTlRfSU5ERVhfVUlOVDMyIixCTEVORF9FUVVBVElPTl9NSU5NQVg6IkJMRU5EX0VRVUFUSU9OX01JTk1BWCIsRkxPQVRfQkxFTkQ6IkZMT0FUX0JMRU5EIixDT0xPUl9FTkNPRElOR19TUkdCOiJDT0xPUl9FTkNPRElOR19TUkdCIixURVhUVVJFX0RFUFRIOiJURVhUVVJFX0RFUFRIIixURVhUVVJFX0ZMT0FUOiJURVhUVVJFX0ZMT0FUIixURVhUVVJFX0hBTEZfRkxPQVQ6IlRFWFRVUkVfSEFMRl9GTE9BVCIsVEVYVFVSRV9GSUxURVJfTElORUFSX0ZMT0FUOiJURVhUVVJFX0ZJTFRFUl9MSU5FQVJfRkxPQVQiLFRFWFRVUkVfRklMVEVSX0xJTkVBUl9IQUxGX0ZMT0FUOiJURVhUVVJFX0ZJTFRFUl9MSU5FQVJfSEFMRl9GTE9BVCIsVEVYVFVSRV9GSUxURVJfQU5JU09UUk9QSUM6IlRFWFRVUkVfRklMVEVSX0FOSVNPVFJPUElDIixDT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkY6IkNPTE9SX0FUVEFDSE1FTlRfUkdCQTMyRiIsQ09MT1JfQVRUQUNITUVOVF9GTE9BVDoiQ09MT1JfQVRUQUNITUVOVF9GTE9BVCIsQ09MT1JfQVRUQUNITUVOVF9IQUxGX0ZMT0FUOiJDT0xPUl9BVFRBQ0hNRU5UX0hBTEZfRkxPQVQiLEdMU0xfRlJBR19EQVRBOiJHTFNMX0ZSQUdfREFUQSIsR0xTTF9GUkFHX0RFUFRIOiJHTFNMX0ZSQUdfREVQVEgiLEdMU0xfREVSSVZBVElWRVM6IkdMU0xfREVSSVZBVElWRVMiLEdMU0xfVEVYVFVSRV9MT0Q6IkdMU0xfVEVYVFVSRV9MT0QifTt0LmI9KHI9e30sT2JqZWN0KGkuYSkocixzLldFQkdMMixbITEsITBdKSxPYmplY3QoaS5hKShyLHMuVkVSVEVYX0FSUkFZX09CSkVDVCxbIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiwhMF0pLE9iamVjdChpLmEpKHIscy5USU1FUl9RVUVSWSxbIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIsIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiXSksT2JqZWN0KGkuYSkocixzLklOU1RBTkNFRF9SRU5ERVJJTkcsWyJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiwhMF0pLE9iamVjdChpLmEpKHIscy5NVUxUSVBMRV9SRU5ERVJfVEFSR0VUUyxbIldFQkdMX2RyYXdfYnVmZmVycyIsITBdKSxPYmplY3QoaS5hKShyLHMuRUxFTUVOVF9JTkRFWF9VSU5UMzIsWyJPRVNfZWxlbWVudF9pbmRleF91aW50IiwhMF0pLE9iamVjdChpLmEpKHIscy5CTEVORF9FUVVBVElPTl9NSU5NQVgsWyJFWFRfYmxlbmRfbWlubWF4IiwhMF0pLE9iamVjdChpLmEpKHIscy5GTE9BVF9CTEVORCxbIkVYVF9mbG9hdF9ibGVuZCJdKSxPYmplY3QoaS5hKShyLHMuQ09MT1JfRU5DT0RJTkdfU1JHQixbIkVYVF9zUkdCIiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0RFUFRILFsiV0VCR0xfZGVwdGhfdGV4dHVyZSIsITBdKSxPYmplY3QoaS5hKShyLHMuVEVYVFVSRV9GTE9BVCxbIk9FU190ZXh0dXJlX2Zsb2F0IiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0hBTEZfRkxPQVQsWyJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IiwhMF0pLE9iamVjdChpLmEpKHIscy5URVhUVVJFX0ZJTFRFUl9MSU5FQVJfRkxPQVQsWyJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiXSksT2JqZWN0KGkuYSkocixzLlRFWFRVUkVfRklMVEVSX0xJTkVBUl9IQUxGX0ZMT0FULFsiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiXSksT2JqZWN0KGkuYSkocixzLlRFWFRVUkVfRklMVEVSX0FOSVNPVFJPUElDLFsiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIl0pLE9iamVjdChpLmEpKHIscy5DT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkYsW2Z1bmN0aW9uKGUpe3ZhciB0PW5ldyBvLmEoZSx7Zm9ybWF0OjY0MDgsdHlwZTo1MTI2LGRhdGFGb3JtYXQ6NjQwOH0pLG49bmV3IGEuYShlLHtpZDoidGVzdC1mcmFtZWJ1ZmZlciIsY2hlY2s6ITEsYXR0YWNobWVudHM6T2JqZWN0KGkuYSkoe30sMzYwNjQsdCl9KSxyPW4uZ2V0U3RhdHVzKCk7cmV0dXJuIHQuZGVsZXRlKCksbi5kZWxldGUoKSwzNjA1Mz09PXJ9LCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Il0pLE9iamVjdChpLmEpKHIscy5DT0xPUl9BVFRBQ0hNRU5UX0ZMT0FULFshMSwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCJdKSxPYmplY3QoaS5hKShyLHMuQ09MT1JfQVRUQUNITUVOVF9IQUxGX0ZMT0FULFsiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Il0pLE9iamVjdChpLmEpKHIscy5HTFNMX0ZSQUdfREFUQSxbIldFQkdMX2RyYXdfYnVmZmVycyIsITBdKSxPYmplY3QoaS5hKShyLHMuR0xTTF9GUkFHX0RFUFRILFsiRVhUX2ZyYWdfZGVwdGgiLCEwXSksT2JqZWN0KGkuYSkocixzLkdMU0xfREVSSVZBVElWRVMsWyJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMiLCEwXSksT2JqZWN0KGkuYSkocixzLkdMU0xfVEVYVFVSRV9MT0QsWyJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIiwhMF0pLHIpfSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0KXt9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxpPW4oNiksYT1uKDE2Miksbz1uKDI2KSxzPXtudW1iZXI6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShlKSYmKCEoIm1heCJpbiB0KXx8ZTw9dC5tYXgpJiYoISgibWluImluIHQpfHxlPj10Lm1pbil9fSxhcnJheTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpfX19O2Z1bmN0aW9uIHUoZSl7dmFyIHQ9YyhlKTtyZXR1cm4ib2JqZWN0Ij09PXQ/ZT8idHlwZSJpbiBlP09iamVjdC5hc3NpZ24oe30sZSxzW2UudHlwZV0pOiJ2YWx1ZSJpbiBlPyh0PWMoZS52YWx1ZSksT2JqZWN0LmFzc2lnbih7dHlwZTp0fSxlLHNbdF0pKTp7dHlwZToib2JqZWN0Iix2YWx1ZTplfTp7dHlwZToib2JqZWN0Iix2YWx1ZTpudWxsfTpPYmplY3QuYXNzaWduKHt0eXBlOnQsdmFsdWU6ZX0sc1t0XSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpPyJhcnJheSI6T2JqZWN0KG8uYSkoZSl9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dC5uYW1lLGk9dC52cyxvPXQuZnMscz10LmRlcGVuZGVuY2llcyxjPXZvaWQgMD09PXM/W106cyxsPXQudW5pZm9ybXMsaD10LmdldFVuaWZvcm1zLGY9dC5kZXByZWNhdGlvbnMsZD12b2lkIDA9PT1mP1tdOmYsdj10LmRlZmluZXMscD12b2lkIDA9PT12P3t9OnYsZz10LmluamVjdCx5PXZvaWQgMD09PWc/e306ZyxtPXQudmVydGV4U2hhZGVyLGI9dC5mcmFnbWVudFNoYWRlcjtPYmplY3Qoci5hKSh0aGlzLGUpLE9iamVjdChhLmEpKCJzdHJpbmciPT10eXBlb2YgbiksdGhpcy5uYW1lPW4sdGhpcy52cz1pfHxtLHRoaXMuZnM9b3x8Yix0aGlzLmdldE1vZHVsZVVuaWZvcm1zPWgsdGhpcy5kZXBlbmRlbmNpZXM9Yyx0aGlzLmRlcHJlY2F0aW9ucz10aGlzLl9wYXJzZURlcHJlY2F0aW9uRGVmaW5pdGlvbnMoZCksdGhpcy5kZWZpbmVzPXAsdGhpcy5pbmplY3Rpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PXt2czp7fSxmczp7fX07Zm9yKHZhciBuIGluIGUpe3ZhciByPWVbbl0saT1uLnNsaWNlKDAsMik7InN0cmluZyI9PXR5cGVvZiByJiYocj17aW5qZWN0aW9uOnJ9KSx0W2ldW25dPXJ9cmV0dXJuIHR9KHkpLGwmJih0aGlzLnVuaWZvcm1zPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXt2YXIgcj11KGVbbl0pO3Rbbl09cn1yZXR1cm4gdH0obCkpfXJldHVybiBPYmplY3QoaS5hKShlLFt7a2V5OiJnZXRNb2R1bGVTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0O3N3aXRjaChlKXtjYXNlInZzIjp0PXRoaXMudnN8fCIiO2JyZWFrO2Nhc2UiZnMiOnQ9dGhpcy5mc3x8IiI7YnJlYWs7ZGVmYXVsdDpPYmplY3QoYS5hKSghMSl9cmV0dXJuIiNkZWZpbmUgTU9EVUxFXyIuY29uY2F0KHRoaXMubmFtZS50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoL1teMC05YS16XS9naSwiXyIpLCJcbiIpLmNvbmNhdCh0LCIvLyBFTkQgTU9EVUxFXyIpLmNvbmNhdCh0aGlzLm5hbWUsIlxuXG4iKX19LHtrZXk6ImdldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdldE1vZHVsZVVuaWZvcm1zP3RoaXMuZ2V0TW9kdWxlVW5pZm9ybXMoZSx0KTp0aGlzLnVuaWZvcm1zP3RoaXMuX2RlZmF1bHRHZXRVbmlmb3JtcyhlKTp7fX19LHtrZXk6ImdldERlZmluZXMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmaW5lc319LHtrZXk6ImNoZWNrRGVwcmVjYXRpb25zIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuZGVwcmVjYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKG4pe24ucmVnZXgudGVzdChlKSYmKG4uZGVwcmVjYXRlZD90LmRlcHJlY2F0ZWQobi5vbGQsbi5uZXcpKCk6dC5yZW1vdmVkKG4ub2xkLG4ubmV3KSgpKX0pKX19LHtrZXk6Il9wYXJzZURlcHJlY2F0aW9uRGVmaW5pdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiZnVuY3Rpb24iOmUucmVnZXg9bmV3IFJlZ0V4cCgiXFxiIi5jb25jYXQoZS5vbGQsIlxcKCIpKTticmVhaztkZWZhdWx0OmUucmVnZXg9bmV3IFJlZ0V4cCgiIi5jb25jYXQoZS50eXBlLCIgIikuY29uY2F0KGUub2xkLCI7IikpfX0pKSxlfX0se2tleToiX2RlZmF1bHRHZXRVbmlmb3JtcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD17fSxuPXRoaXMudW5pZm9ybXM7Zm9yKHZhciByIGluIG4pe3ZhciBpPW5bcl07ciBpbiBlJiYhaS5wcml2YXRlPyhpLnZhbGlkYXRlJiZPYmplY3QoYS5hKShpLnZhbGlkYXRlKGVbcl0saSksIiIuY29uY2F0KHRoaXMubmFtZSwiOiBpbnZhbGlkICIpLmNvbmNhdChyKSksdFtyXT1lW3JdKTp0W3JdPWkudmFsdWV9cmV0dXJuIHR9fV0pLGV9KCk7ZnVuY3Rpb24gaChlKXtpZighZS5ub3JtYWxpemVkJiYoZS5ub3JtYWxpemVkPSEwLGUudW5pZm9ybXMmJiFlLmdldFVuaWZvcm1zKSl7dmFyIHQ9bmV3IGwoZSk7ZS5nZXRVbmlmb3Jtcz10LmdldFVuaWZvcm1zLmJpbmQodCl9cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDYpLGk9big3MSksYT1uKDU2KSxvPW4oMTEpLHM9big2NSksdT1uKDg5KSxjPW4oMjkpO2Z1bmN0aW9uIGwoZSl7c3dpdGNoKGUpe2Nhc2UgNjQwNjpjYXNlIDMzMzI2OmNhc2UgNjQwMzpyZXR1cm4gMTtjYXNlIDMzMzI4OmNhc2UgMzMzMTk6cmV0dXJuIDI7Y2FzZSA2NDA3OmNhc2UgMzQ4Mzc6cmV0dXJuIDM7Y2FzZSA2NDA4OmNhc2UgMzQ4MzY6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGMuYSkoITEpLDB9fXZhciBoPW4oMjA3KTtmdW5jdGlvbiBmKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQuc291cmNlWCxyPXZvaWQgMD09PW4/MDpuLGk9dC5zb3VyY2VZLGE9dm9pZCAwPT09aT8wOmksbz10LnNvdXJjZUZvcm1hdCxzPXZvaWQgMD09PW8/NjQwODpvLGw9dC5zb3VyY2VBdHRhY2htZW50LGg9dm9pZCAwPT09bD8zNjA2NDpsLGY9dC50YXJnZXQsZD12b2lkIDA9PT1mP251bGw6Zix2PXQuc291cmNlV2lkdGgscD10LnNvdXJjZUhlaWdodCxtPXQuc291cmNlVHlwZSxiPWcoZSksXz1iLmZyYW1lYnVmZmVyLE89Yi5kZWxldGVGcmFtZWJ1ZmZlcjtPYmplY3QoYy5hKShfKTt2YXIgeD1fLmdsLHc9Xy5oYW5kbGUsUz1fLmF0dGFjaG1lbnRzO3Y9dnx8Xy53aWR0aCxwPXB8fF8uaGVpZ2h0LDM2MDY0PT09aCYmbnVsbD09PXcmJihoPTEwMjgpLE9iamVjdChjLmEpKFNbaF0pLGQ9eShkLG09bXx8U1toXS50eXBlLHMsdixwKSxtPW18fE9iamVjdCh1LmIpKGQpO3ZhciBrPXguYmluZEZyYW1lYnVmZmVyKDM2MTYwLHcpO3JldHVybiB4LnJlYWRQaXhlbHMocixhLHYscCxzLG0sZCkseC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsa3x8bnVsbCksTyYmXy5kZWxldGUoKSxkfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj10LnNvdXJjZVgsaT12b2lkIDA9PT1uPzA6bixhPXQuc291cmNlWSx1PXZvaWQgMD09PWE/MDphLGg9dC5zb3VyY2VGb3JtYXQsZj12b2lkIDA9PT1oPzY0MDg6aCxkPXQudGFyZ2V0LHY9dm9pZCAwPT09ZD9udWxsOmQscD10LnRhcmdldEJ5dGVPZmZzZXQseT12b2lkIDA9PT1wPzA6cCxtPXQuc291cmNlV2lkdGgsYj10LnNvdXJjZUhlaWdodCxfPXQuc291cmNlVHlwZSxPPWcoZSkseD1PLmZyYW1lYnVmZmVyLHc9Ty5kZWxldGVGcmFtZWJ1ZmZlcjtPYmplY3QoYy5hKSh4KTt2YXIgUz14LmdsO2lmKG09bXx8eC53aWR0aCxiPWJ8fHguaGVpZ2h0LE9iamVjdChzLmEpKFMpLF89X3x8KHY/di50eXBlOjUxMjEpLCF2KXt2YXIgaz1sKGYpLFA9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgNTEyMTpyZXR1cm4gMTtjYXNlIDMzNjM1OmNhc2UgMzI4MTk6Y2FzZSAzMjgyMDpyZXR1cm4gMjtjYXNlIDUxMjY6cmV0dXJuIDQ7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGMuYSkoITEpLDB9fShfKSxqPXkrbSpiKmsqUDt2PW5ldyByLmEoUyx7Ynl0ZUxlbmd0aDpqLGFjY2Vzc29yOnt0eXBlOl8sc2l6ZTprfX0pfXJldHVybiB2LmJpbmQoe3RhcmdldDozNTA1MX0pLE9iamVjdChvLmwpKFMse2ZyYW1lYnVmZmVyOnh9LChmdW5jdGlvbigpe1MucmVhZFBpeGVscyhpLHUsbSxiLGYsXyx5KX0pKSx2LnVuYmluZCh7dGFyZ2V0OjM1MDUxfSksdyYmeC5kZWxldGUoKSx2fWZ1bmN0aW9uIHYoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQuc291cmNlQXR0YWNobWVudCxyPXZvaWQgMD09PW4/MzYwNjQ6bixpPXQudGFyZ2V0TWF4SGVpZ2h0LGE9dm9pZCAwPT09aT9OdW1iZXIuTUFYX1NBRkVfSU5URUdFUjppLG89ZihlLHtzb3VyY2VBdHRhY2htZW50OnJ9KSxzPWUud2lkdGgsYz1lLmhlaWdodDtjPmE7KXt2YXIgbD1PYmplY3QodS5kKSh7ZGF0YTpvLHdpZHRoOnMsaGVpZ2h0OmN9KTtvPWwuZGF0YSxzPWwud2lkdGgsYz1sLmhlaWdodH1PYmplY3QodS5hKSh7ZGF0YTpvLHdpZHRoOnMsaGVpZ2h0OmN9KTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtoLndpZHRoPXMsaC5oZWlnaHQ9Yzt2YXIgZD1oLmdldENvbnRleHQoIjJkIiksdj1kLmNyZWF0ZUltYWdlRGF0YShzLGMpO3JldHVybiB2LmRhdGEuc2V0KG8pLGQucHV0SW1hZ2VEYXRhKHYsMCwwKSxoLnRvRGF0YVVSTCgpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1uLnNvdXJjZVgsaT12b2lkIDA9PT1yPzA6cixvPW4uc291cmNlWSxzPXZvaWQgMD09PW8/MDpvLHU9bi50YXJnZXRYLGw9bi50YXJnZXRZLGg9bi50YXJnZXRaLGY9bi50YXJnZXRNaXBtYXBsZXZlbCxkPXZvaWQgMD09PWY/MDpmLHY9bi50YXJnZXRJbnRlcm5hbEZvcm1hdCxwPXZvaWQgMD09PXY/NjQwODp2LHk9bi53aWR0aCxtPW4uaGVpZ2h0LGI9ZyhlKSxfPWIuZnJhbWVidWZmZXIsTz1iLmRlbGV0ZUZyYW1lYnVmZmVyO09iamVjdChjLmEpKF8pO3ZhciB4PV8uZ2wsdz1fLmhhbmRsZSxTPXZvaWQgMCE9PXV8fHZvaWQgMCE9PWx8fHZvaWQgMCE9PWg7dT11fHwwLGw9bHx8MCxoPWh8fDA7dmFyIGs9eC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdyk7T2JqZWN0KGMuYSkodCk7dmFyIFA9bnVsbDtpZih0IGluc3RhbmNlb2YgYS5hJiYoUD10LHk9TnVtYmVyLmlzRmluaXRlKHkpP3k6UC53aWR0aCxtPU51bWJlci5pc0Zpbml0ZShtKT9tOlAuaGVpZ2h0LFAuYmluZCgwKSx0PVAudGFyZ2V0KSxTKXN3aXRjaCh0KXtjYXNlIDM1NTM6Y2FzZSAzNDA2Nzp4LmNvcHlUZXhTdWJJbWFnZTJEKHQsZCx1LGwsaSxzLHksbSk7YnJlYWs7Y2FzZSAzNTg2NjpjYXNlIDMyODc5OnguY29weVRleFN1YkltYWdlM0QodCxkLHUsbCxoLGkscyx5LG0pfWVsc2UgeC5jb3B5VGV4SW1hZ2UyRCh0LGQscCxpLHMseSxtLDApO3JldHVybiBQJiZQLnVuYmluZCgpLHguYmluZEZyYW1lYnVmZmVyKDM2MTYwLGt8fG51bGwpLE8mJl8uZGVsZXRlKCksUH1mdW5jdGlvbiBnKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaS5hP3tmcmFtZWJ1ZmZlcjplLGRlbGV0ZUZyYW1lYnVmZmVyOiExfTp7ZnJhbWVidWZmZXI6T2JqZWN0KGguYikoZSksZGVsZXRlRnJhbWVidWZmZXI6ITB9fWZ1bmN0aW9uIHkoZSx0LG4scixpKXtyZXR1cm4gZXx8KHQ9dHx8NTEyMSxuZXcoT2JqZWN0KHUuYykodCx7Y2xhbXBlZDohMX0pKShyKmkqbChuKSkpfW4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigxMSk7ZnVuY3Rpb24gaShlLHQsbil7dmFyIGk9bi5yZW1vdmVkUHJvcHMsYT12b2lkIDA9PT1pP3t9Omksbz1uLmRlcHJlY2F0ZWRQcm9wcyxzPXZvaWQgMD09PW8/e306byx1PW4ucmVwbGFjZWRQcm9wcyxjPXZvaWQgMD09PXU/e306dTtmb3IodmFyIGwgaW4gYSlpZihsIGluIHQpe3ZhciBoPWFbbF0/IiIuY29uY2F0KGUsIi4iKS5jb25jYXQoYVtsXSk6Ik4vQSI7ci5oLnJlbW92ZWQoIiIuY29uY2F0KGUsIi4iKS5jb25jYXQobCksaCkoKX1mb3IodmFyIGYgaW4gcylpZihmIGluIHQpe3ZhciBkPXNbZl07ci5oLmRlcHJlY2F0ZWQoIiIuY29uY2F0KGUsIi4iKS5jb25jYXQoZiksIiIuY29uY2F0KGUsIi4iKS5jb25jYXQoZCkpKCl9dmFyIHY9bnVsbDtmb3IodmFyIHAgaW4gYylpZihwIGluIHQpe3ZhciBnPWNbcF07ci5oLmRlcHJlY2F0ZWQoIiIuY29uY2F0KGUsIi4iKS5jb25jYXQocCksIiIuY29uY2F0KGUsIi4iKS5jb25jYXQoZykpKCksKHY9dnx8T2JqZWN0LmFzc2lnbih7fSx0KSlbZ109dFtwXSxkZWxldGUgdltwXX1yZXR1cm4gdnx8dH19LCwsLGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMjIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmNvbnNvbGU9dC5wcm9jZXNzPXQuZG9jdW1lbnQ9dC5nbG9iYWw9dC53aW5kb3c9dC5zZWxmPXZvaWQgMDt2YXIgaT1yKG4oMzcpKSxhPXtzZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZix3aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdyxnbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCxkb2N1bWVudDoidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudCxwcm9jZXNzOiJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzcz8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHByb2Nlc3MpKSYmcHJvY2Vzc30sbz1hLnNlbGZ8fGEud2luZG93fHxhLmdsb2JhbDt0LnNlbGY9bzt2YXIgcz1hLndpbmRvd3x8YS5zZWxmfHxhLmdsb2JhbDt0LndpbmRvdz1zO3ZhciB1PWEuZ2xvYmFsfHxhLnNlbGZ8fGEud2luZG93O3QuZ2xvYmFsPXU7dmFyIGM9YS5kb2N1bWVudHx8e307dC5kb2N1bWVudD1jO3ZhciBsPWEucHJvY2Vzc3x8e307dC5wcm9jZXNzPWw7dmFyIGg9Y29uc29sZTt0LmNvbnNvbGU9aH0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEyMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1vLHQuaXNCcm93c2VyTWFpblRocmVhZD1mdW5jdGlvbigpe3JldHVybiBvKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnR9O3ZhciBpPXIobigzNykpLGE9cihuKDE2NykpO2Z1bmN0aW9uIG8oKXtyZXR1cm4hKCJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgcHJvY2Vzcz8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKHByb2Nlc3MpKSYmIltvYmplY3QgcHJvY2Vzc10iPT09U3RyaW5nKHByb2Nlc3MpJiYhcHJvY2Vzcy5icm93c2VyKXx8KDAsYS5kZWZhdWx0KSgpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIHI9big1KSxpPW4oMTYpLGE9bigxNSksbz1uKDYpLHM9bigxNyksdT1uKDE1NCksYz1uKDI4KSxsPW4oNzgpLGg9big1NyksZj1uKDQxKSxkPW4oMzIpLHY9T2JqZWN0LmZyZWV6ZShbMSwwLDAsMCwxLDAsMCwwLDFdKSxwPU9iamVjdC5mcmVlemUoWzAsMCwwLDAsMCwwLDAsMCwwXSksZz1PYmplY3QuZnJlZXplKHtDT0wwUk9XMDowLENPTDBST1cxOjEsQ09MMFJPVzI6MixDT0wxUk9XMDozLENPTDFST1cxOjQsQ09MMVJPVzI6NSxDT0wyUk9XMDo2LENPTDJST1cxOjcsQ09MMlJPVzI6OH0pLHk9e30sbT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuO3JldHVybiBPYmplY3Qoci5hKSh0aGlzLHQpLG49T2JqZWN0KGkuYSkodGhpcyxPYmplY3QoYS5hKSh0KS5jYWxsKHRoaXMsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTApKSwxPT09YXJndW1lbnRzLmxlbmd0aCYmQXJyYXkuaXNBcnJheShlKT9uLmNvcHkoZSk6bi5pZGVudGl0eSgpLG59cmV0dXJuIE9iamVjdChzLmEpKHQsZSksT2JqZWN0KG8uYSkodCxbe2tleToiRUxFTUVOVFMiLGdldDpmdW5jdGlvbigpe3JldHVybiA5fX0se2tleToiUkFOSyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDN9fSx7a2V5OiJJTkRJQ0VTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ319XSxbe2tleToiSURFTlRJVFkiLGdldDpmdW5jdGlvbigpe3JldHVybiB5LklERU5USVRZPXkuSURFTlRJVFl8fE9iamVjdC5mcmVlemUobmV3IHQodikpLHkuSURFTlRJVFl9fSx7a2V5OiJaRVJPIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geS5aRVJPPXkuWkVST3x8T2JqZWN0LmZyZWV6ZShuZXcgdChwKSkseS5aRVJPfX1dKSxPYmplY3Qoby5hKSh0LFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1swXT1lWzBdLHRoaXNbMV09ZVsxXSx0aGlzWzJdPWVbMl0sdGhpc1szXT1lWzNdLHRoaXNbNF09ZVs0XSx0aGlzWzVdPWVbNV0sdGhpc1s2XT1lWzZdLHRoaXNbN109ZVs3XSx0aGlzWzhdPWVbOF0sdGhpcy5jaGVjaygpfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbihlLHQsbixyLGksYSxvLHMsdSl7cmV0dXJuIHRoaXNbMF09ZSx0aGlzWzFdPXQsdGhpc1syXT1uLHRoaXNbM109cix0aGlzWzRdPWksdGhpc1s1XT1hLHRoaXNbNl09byx0aGlzWzddPXMsdGhpc1s4XT11LHRoaXMuY2hlY2soKX19LHtrZXk6InNldFJvd01ham9yIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyLGksYSxvLHMsdSl7cmV0dXJuIHRoaXNbMF09ZSx0aGlzWzFdPXIsdGhpc1syXT1vLHRoaXNbM109dCx0aGlzWzRdPWksdGhpc1s1XT1zLHRoaXNbNl09bix0aGlzWzddPWEsdGhpc1s4XT11LHRoaXMuY2hlY2soKX19LHtrZXk6ImRldGVybWluYW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBoLmIodGhpcyl9fSx7a2V5OiJpZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5KHYpfX0se2tleToiZnJvbVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoLmModGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGguaSh0aGlzLHRoaXMpLHRoaXMuY2hlY2soKX19LHtrZXk6ImludmVydCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5kKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlMZWZ0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaC5lKHRoaXMsZSx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseVJpZ2h0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaC5lKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBoLmYodGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9oLmcodGhpcyx0aGlzLGUpOmguZyh0aGlzLHRoaXMsW2UsZSxlXSksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gaC5oKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0cmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDI6dD1mLmkodHx8Wy0wLC0wXSxlLHRoaXMpO2JyZWFrO2Nhc2UgMzp0PWQubih0fHxbLTAsLTAsLTBdLGUsdGhpcyk7YnJlYWs7Y2FzZSA0OnQ9T2JqZWN0KGwuZCkodHx8Wy0wLC0wLC0wLC0wXSxlLHRoaXMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHZlY3RvciIpfXJldHVybiBPYmplY3QoYy5iKSh0LGUubGVuZ3RoKSx0fX0se2tleToidHJhbnNmb3JtVmVjdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QoYy5jKSgiTWF0cml4My50cmFuc2Zvcm1WZWN0b3IiKSx0aGlzLnRyYW5zZm9ybShlLHQpfX0se2tleToidHJhbnNmb3JtVmVjdG9yMiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KGMuYykoIk1hdHJpeDMudHJhbnNmb3JtVmVjdG9yIiksdGhpcy50cmFuc2Zvcm0oZSx0KX19LHtrZXk6InRyYW5zZm9ybVZlY3RvcjMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChjLmMpKCJNYXRyaXgzLnRyYW5zZm9ybVZlY3RvciIpLHRoaXMudHJhbnNmb3JtKGUsdCl9fV0pLHR9KHUuYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBffSkpO3ZhciByPW4oMjEpLGk9big1KSxhPW4oMTYpLG89bigxNSkscz1uKDYpLHU9bigxNyksYz1uKDI4KSxsPW4oMTU0KSxoPW4oNzgpLGY9bigyNCksZD1uKDQxKSx2PW4oMzIpLHA9bigzOSksZz1PYmplY3QuZnJlZXplKFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSkseT1PYmplY3QuZnJlZXplKFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSksbT1PYmplY3QuZnJlZXplKHtDT0wwUk9XMDowLENPTDBST1cxOjEsQ09MMFJPVzI6MixDT0wwUk9XMzozLENPTDFST1cwOjQsQ09MMVJPVzE6NSxDT0wxUk9XMjo2LENPTDFST1czOjcsQ09MMlJPVzA6OCxDT0wyUk9XMTo5LENPTDJST1cyOjEwLENPTDJST1czOjExLENPTDNST1cwOjEyLENPTDNST1cxOjEzLENPTDNST1cyOjE0LENPTDNST1czOjE1fSksYj17fSxfPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG47cmV0dXJuIE9iamVjdChpLmEpKHRoaXMsdCksbj1PYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKHQpLmNhbGwodGhpcywtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCwtMCkpLDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KGUpP24uY29weShlKTpuLmlkZW50aXR5KCksbn1yZXR1cm4gT2JqZWN0KHUuYSkodCxlKSxPYmplY3Qocy5hKSh0LFt7a2V5OiJJTkRJQ0VTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX19LHtrZXk6IkVMRU1FTlRTIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMTZ9fSx7a2V5OiJSQU5LIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gNH19XSxbe2tleToiSURFTlRJVFkiLGdldDpmdW5jdGlvbigpe3JldHVybiBiLklERU5USVRZPWIuSURFTlRJVFl8fE9iamVjdC5mcmVlemUobmV3IHQoZykpLGIuSURFTlRJVFl9fSx7a2V5OiJaRVJPIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5aRVJPPWIuWkVST3x8T2JqZWN0LmZyZWV6ZShuZXcgdCh5KSksYi5aRVJPfX1dKSxPYmplY3Qocy5hKSh0LFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1swXT1lWzBdLHRoaXNbMV09ZVsxXSx0aGlzWzJdPWVbMl0sdGhpc1szXT1lWzNdLHRoaXNbNF09ZVs0XSx0aGlzWzVdPWVbNV0sdGhpc1s2XT1lWzZdLHRoaXNbN109ZVs3XSx0aGlzWzhdPWVbOF0sdGhpc1s5XT1lWzldLHRoaXNbMTBdPWVbMTBdLHRoaXNbMTFdPWVbMTFdLHRoaXNbMTJdPWVbMTJdLHRoaXNbMTNdPWVbMTNdLHRoaXNbMTRdPWVbMTRdLHRoaXNbMTVdPWVbMTVdLHRoaXMuY2hlY2soKX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scixpLGEsbyxzLHUsYyxsLGgsZixkLHYscCl7cmV0dXJuIHRoaXNbMF09ZSx0aGlzWzFdPXQsdGhpc1syXT1uLHRoaXNbM109cix0aGlzWzRdPWksdGhpc1s1XT1hLHRoaXNbNl09byx0aGlzWzddPXMsdGhpc1s4XT11LHRoaXNbOV09Yyx0aGlzWzEwXT1sLHRoaXNbMTFdPWgsdGhpc1sxMl09Zix0aGlzWzEzXT1kLHRoaXNbMTRdPXYsdGhpc1sxNV09cCx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXRSb3dNYWpvciIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scixpLGEsbyxzLHUsYyxsLGgsZixkLHYscCl7cmV0dXJuIHRoaXNbMF09ZSx0aGlzWzFdPWksdGhpc1syXT11LHRoaXNbM109Zix0aGlzWzRdPXQsdGhpc1s1XT1hLHRoaXNbNl09Yyx0aGlzWzddPWQsdGhpc1s4XT1uLHRoaXNbOV09byx0aGlzWzEwXT1sLHRoaXNbMTFdPXYsdGhpc1sxMl09cix0aGlzWzEzXT1zLHRoaXNbMTRdPWgsdGhpc1sxNV09cCx0aGlzLmNoZWNrKCl9fSx7a2V5OiJ0b1Jvd01ham9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZVswXT10aGlzWzBdLGVbMV09dGhpc1s0XSxlWzJdPXRoaXNbOF0sZVszXT10aGlzWzEyXSxlWzRdPXRoaXNbMV0sZVs1XT10aGlzWzVdLGVbNl09dGhpc1s5XSxlWzddPXRoaXNbMTNdLGVbOF09dGhpc1syXSxlWzldPXRoaXNbNl0sZVsxMF09dGhpc1sxMF0sZVsxMV09dGhpc1sxNF0sZVsxMl09dGhpc1szXSxlWzEzXT10aGlzWzddLGVbMTRdPXRoaXNbMTFdLGVbMTVdPXRoaXNbMTVdLGV9fSx7a2V5OiJpZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5KGcpfX0se2tleToiZnJvbVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLmModGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJmcnVzdHVtIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lLmxlZnQscj1lLnJpZ2h0LGk9ZS5ib3R0b20sYT1lLnRvcCxvPWUubmVhcixzPWUuZmFyO3JldHVybiBzPT09MS8wP3QuX2NvbXB1dGVJbmZpbml0ZVBlcnNwZWN0aXZlT2ZmQ2VudGVyKHRoaXMsbixyLGksYSxvKTpmLmQodGhpcyxuLHIsaSxhLG8scyksdGhpcy5jaGVjaygpfX0se2tleToibG9va0F0Iix2YWx1ZTpmdW5jdGlvbihlLHQsbil7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWU7ZT1yLmV5ZSx0PXIuY2VudGVyLG49ci51cH1yZXR1cm4gdD10fHxbMCwwLDBdLG49bnx8WzAsMSwwXSxmLmcodGhpcyxlLHQsbiksdGhpcy5jaGVjaygpfX0se2tleToib3J0aG8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGVmdCxuPWUucmlnaHQscj1lLmJvdHRvbSxpPWUudG9wLGE9ZS5uZWFyLG89dm9pZCAwPT09YT8uMTphLHM9ZS5mYXIsdT12b2lkIDA9PT1zPzUwMDpzO3JldHVybiBmLmkodGhpcyx0LG4scixpLG8sdSksdGhpcy5jaGVjaygpfX0se2tleToib3J0aG9ncmFwaGljIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lLmZvdnkscj12b2lkIDA9PT1uPzQ1Kk1hdGguUEkvMTgwOm4saT1lLmFzcGVjdCxhPXZvaWQgMD09PWk/MTppLG89ZS5mb2NhbERpc3RhbmNlLHM9dm9pZCAwPT09bz8xOm8sdT1lLm5lYXIsYz12b2lkIDA9PT11Py4xOnUsbD1lLmZhcixoPXZvaWQgMD09PWw/NTAwOmw7aWYocj4yKk1hdGguUEkpdGhyb3cgRXJyb3IoInJhZGlhbnMiKTt2YXIgZj1yLzIsZD1zKk1hdGgudGFuKGYpLHY9ZCphO3JldHVybihuZXcgdCkub3J0aG8oe2xlZnQ6LXYscmlnaHQ6dixib3R0b206LWQsdG9wOmQsbmVhcjpjLGZhcjpofSl9fSx7a2V5OiJwZXJzcGVjdGl2ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmZvdnksbj1lLmZvdixyPXZvaWQgMD09PW4/NDUqTWF0aC5QSS8xODA6bixpPWUuYXNwZWN0LGE9dm9pZCAwPT09aT8xOmksbz1lLm5lYXIscz12b2lkIDA9PT1vPy4xOm8sdT1lLmZhcixjPXZvaWQgMD09PXU/NTAwOnU7aWYoKHQ9dHx8cik+MipNYXRoLlBJKXRocm93IEVycm9yKCJyYWRpYW5zIik7cmV0dXJuIGYuaih0aGlzLHQsYSxzLGMpLHRoaXMuY2hlY2soKX19LHtrZXk6ImRldGVybWluYW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmLmEodGhpcyl9fSx7a2V5OiJnZXRTY2FsZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06Wy0wLC0wLC0wXTtyZXR1cm4gZVswXT1NYXRoLnNxcnQodGhpc1swXSp0aGlzWzBdK3RoaXNbMV0qdGhpc1sxXSt0aGlzWzJdKnRoaXNbMl0pLGVbMV09TWF0aC5zcXJ0KHRoaXNbNF0qdGhpc1s0XSt0aGlzWzVdKnRoaXNbNV0rdGhpc1s2XSp0aGlzWzZdKSxlWzJdPU1hdGguc3FydCh0aGlzWzhdKnRoaXNbOF0rdGhpc1s5XSp0aGlzWzldK3RoaXNbMTBdKnRoaXNbMTBdKSxlfX0se2tleToiZ2V0VHJhbnNsYXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlstMCwtMCwtMF07cmV0dXJuIGVbMF09dGhpc1sxMl0sZVsxXT10aGlzWzEzXSxlWzJdPXRoaXNbMTRdLGV9fSx7a2V5OiJnZXRSb3RhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06Wy0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wLC0wXSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49dGhpcy5nZXRTY2FsZSh0fHxbLTAsLTAsLTBdKSxyPTEvblswXSxpPTEvblsxXSxhPTEvblsyXTtyZXR1cm4gZVswXT10aGlzWzBdKnIsZVsxXT10aGlzWzFdKmksZVsyXT10aGlzWzJdKmEsZVszXT0wLGVbNF09dGhpc1s0XSpyLGVbNV09dGhpc1s1XSppLGVbNl09dGhpc1s2XSphLGVbN109MCxlWzhdPXRoaXNbOF0qcixlWzldPXRoaXNbOV0qaSxlWzEwXT10aGlzWzEwXSphLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfX0se2tleToiZ2V0Um90YXRpb25NYXRyaXgzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTAsLTBdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLmdldFNjYWxlKHR8fFstMCwtMCwtMF0pLHI9MS9uWzBdLGk9MS9uWzFdLGE9MS9uWzJdO3JldHVybiBlWzBdPXRoaXNbMF0qcixlWzFdPXRoaXNbMV0qaSxlWzJdPXRoaXNbMl0qYSxlWzNdPXRoaXNbNF0qcixlWzRdPXRoaXNbNV0qaSxlWzVdPXRoaXNbNl0qYSxlWzZdPXRoaXNbOF0qcixlWzddPXRoaXNbOV0qaSxlWzhdPXRoaXNbMTBdKmEsZX19LHtrZXk6InRyYW5zcG9zZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5xKHRoaXMsdGhpcyksdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmLmYodGhpcyx0aGlzKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJtdWx0aXBseUxlZnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLmgodGhpcyxlLHRoaXMpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5UmlnaHQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLmgodGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVgiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLmwodGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLm0odGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVoiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmLm4odGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVhZWiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuYSkoZSwzKSxuPXRbMF0saT10WzFdLGE9dFsyXTtyZXR1cm4gdGhpcy5yb3RhdGVYKG4pLnJvdGF0ZVkoaSkucm90YXRlWihhKX19LHtrZXk6InJvdGF0ZUF4aXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGYuayh0aGlzLHRoaXMsZSx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzY2FsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/Zi5vKHRoaXMsdGhpcyxlKTpmLm8odGhpcyx0aGlzLFtlLGUsZV0pLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGYucCh0aGlzLHRoaXMsZSksdGhpcy5jaGVjaygpfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiA0PT09ZS5sZW5ndGg/KHQ9cC5uKHR8fFstMCwtMCwtMCwtMF0sZSx0aGlzKSxPYmplY3QoYy5iKSh0LDQpLHQpOnRoaXMudHJhbnNmb3JtQXNQb2ludChlLHQpfX0se2tleToidHJhbnNmb3JtQXNQb2ludCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMjp0PWQuaih0fHxbLTAsLTBdLGUsdGhpcyk7YnJlYWs7Y2FzZSAzOnQ9di5vKHR8fFstMCwtMCwtMF0sZSx0aGlzKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB2ZWN0b3IiKX1yZXR1cm4gT2JqZWN0KGMuYikodCxlLmxlbmd0aCksdH19LHtrZXk6InRyYW5zZm9ybUFzVmVjdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAyOnQ9T2JqZWN0KGguYSkodHx8Wy0wLC0wXSxlLHRoaXMpO2JyZWFrO2Nhc2UgMzp0PU9iamVjdChoLmMpKHR8fFstMCwtMCwtMF0sZSx0aGlzKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB2ZWN0b3IiKX1yZXR1cm4gT2JqZWN0KGMuYikodCxlLmxlbmd0aCksdH19LHtrZXk6Im1ha2VSb3RhdGlvblgiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlkZW50aXR5KCkucm90YXRlWChlKX19LHtrZXk6Im1ha2VUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmlkZW50aXR5KCkudHJhbnNsYXRlKFtlLHQsbl0pfX0se2tleToidHJhbnNmb3JtUG9pbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChjLmMpKCJNYXRyaXg0LnRyYW5zZm9ybVBvaW50IiwiMy4wIiksdGhpcy50cmFuc2Zvcm1Bc1BvaW50KGUsdCl9fSx7a2V5OiJ0cmFuc2Zvcm1WZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChjLmMpKCJNYXRyaXg0LnRyYW5zZm9ybVZlY3RvciIsIjMuMCIpLHRoaXMudHJhbnNmb3JtQXNQb2ludChlLHQpfX0se2tleToidHJhbnNmb3JtRGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QoYy5jKSgiTWF0cml4NC50cmFuc2Zvcm1EaXJlY3Rpb24iLCIzLjAiKSx0aGlzLnRyYW5zZm9ybUFzVmVjdG9yKGUsdCl9fV0sW3trZXk6Il9jb21wdXRlSW5maW5pdGVQZXJzcGVjdGl2ZU9mZkNlbnRlciIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scixpLGEpe3ZhciBvPTIqYS8obi10KSxzPTIqYS8oaS1yKSx1PShuK3QpLyhuLXQpLGM9KGkrcikvKGktciksbD0tMiphO3JldHVybiBlWzBdPW8sZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09cyxlWzZdPTAsZVs3XT0wLGVbOF09dSxlWzldPWMsZVsxMF09LTEsZVsxMV09LTEsZVsxMl09MCxlWzEzXT0wLGVbMTRdPWwsZVsxNV09MCxlfX1dKSx0fShsLmEpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgcj1uKDgpLGk9bi5uKHIpLGE9bigxMyksbz1uKDM1KSxzPW4oODIpLHU9big1MyksYz1uKDE0Nyk7ZnVuY3Rpb24gbChlLHQsbil7cmV0dXJuIGguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scil7dmFyIGE7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihBcnJheS5pc0FycmF5KG4pfHxPYmplY3QodS5hKShuKXx8KHI9bixuPW51bGwpLGE9dCwic3RyaW5nIiE9dHlwZW9mIHQpe2UubmV4dD04O2JyZWFrfXJldHVybiBlLm5leHQ9NSxPYmplY3Qocy5hKSh0LHIpO2Nhc2UgNTphPWUuc2VudCxlLm5leHQ9OTticmVhaztjYXNlIDg6dD1udWxsO2Nhc2UgOTppZighT2JqZWN0KG8uZCkodCkpe2UubmV4dD0xNDticmVha31yZXR1cm4gZS5uZXh0PTEyLE9iamVjdChzLmEpKHQscik7Y2FzZSAxMjphPWUuc2VudCx0PW51bGw7Y2FzZSAxNDpyZXR1cm4gZS5uZXh0PTE2LE9iamVjdChjLmEpKGEsbixyLHQpO2Nhc2UgMTY6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9big4NSk7ZnVuY3Rpb24gaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06IjIuMS4xIjtPYmplY3Qoci5hKShlLCJubyBsb2FkZXIgcHJvdmlkZWQiKTt2YXIgbj1lLnZlcnNpb247dCYmbiYmKHQ9YSh0KSxuPWEobikpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5zcGxpdCgiLiIpLm1hcChOdW1iZXIpO3JldHVybnttYWpvcjp0WzBdLG1pbm9yOnRbMV19fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIHI9bigyNik7ZnVuY3Rpb24gaShlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsbz1ufHxuZXcgU2V0O2lmKGUpe2lmKGEoZSkpby5hZGQoZSk7ZWxzZSBpZihhKGUuYnVmZmVyKSlvLmFkZChlLmJ1ZmZlcik7ZWxzZSBpZih0JiYib2JqZWN0Ij09PU9iamVjdChyLmEpKGUpKWZvcih2YXIgcyBpbiBlKWkoZVtzXSx0LG8pfWVsc2U7cmV0dXJuIHZvaWQgMD09PW4/QXJyYXkuZnJvbShvKTpudWxsfWZ1bmN0aW9uIGEoZSl7cmV0dXJuISFlJiYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwoInVuZGVmaW5lZCIhPXR5cGVvZiBNZXNzYWdlUG9ydCYmZSBpbnN0YW5jZW9mIE1lc3NhZ2VQb3J0fHwoInVuZGVmaW5lZCIhPXR5cGVvZiBJbWFnZUJpdG1hcCYmZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwfHwidW5kZWZpbmVkIiE9dHlwZW9mIE9mZnNjcmVlbkNhbnZhcyYmZSBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykpKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMDEpO3QuYT17bmFtZToicHJvamVjdDMyIixkZXBlbmRlbmNpZXM6W3IuYV0sdnM6IlxudmVjNCBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShcbiAgdmVjMyBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0TG93LCB2ZWMzIG9mZnNldCwgb3V0IHZlYzQgY29tbW9uUG9zaXRpb25cbikge1xuICB2ZWMzIHByb2plY3RlZFBvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbihwb3NpdGlvbiwgcG9zaXRpb242NExvdyk7XG4gIGNvbW1vblBvc2l0aW9uID0gdmVjNChwcm9qZWN0ZWRQb3NpdGlvbiArIG9mZnNldCwgMS4wKTtcbiAgcmV0dXJuIHByb2plY3RfY29tbW9uX3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjb21tb25Qb3NpdGlvbik7XG59XG5cbnZlYzQgcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoXG4gIHZlYzMgcG9zaXRpb24sIHZlYzMgcG9zaXRpb242NExvdywgdmVjMyBvZmZzZXRcbikge1xuICB2ZWM0IGNvbW1vblBvc2l0aW9uO1xuICByZXR1cm4gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb24sIHBvc2l0aW9uNjRMb3csIG9mZnNldCwgY29tbW9uUG9zaXRpb24pO1xufVxuIn19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big3MyksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsZSksdGhpcy5vcHRzPXR9cmV0dXJuIG8oKShlLFt7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzPT09ZXx8dGhpcy5jb25zdHJ1Y3Rvcj09PWUuY29uc3RydWN0b3ImJk9iamVjdChzLmEpKHRoaXMub3B0cyxlLm9wdHMpfX0se2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9fSx7a2V5OiJnZXRTdWJMYXllclByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnN0cnVjdG9yLmRlZmF1bHRQcm9wcyxuPXZvaWQgMD09PXQ/e306dCxyPXt1cGRhdGVUcmlnZ2Vyczp7fX07Zm9yKHZhciBpIGluIG4paWYoaSBpbiB0aGlzLnByb3BzKXt2YXIgYT1uW2ldLG89dGhpcy5wcm9wc1tpXTtyW2ldPW8sYSYmImFjY2Vzc29yIj09PWEudHlwZSYmKHIudXBkYXRlVHJpZ2dlcnNbaV09dGhpcy5wcm9wcy51cGRhdGVUcmlnZ2Vyc1tpXSwiZnVuY3Rpb24iPT10eXBlb2YgbyYmKHJbaV09dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKG8sITApKSl9cmV0dXJuIHJ9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fSx7a2V5OiJmaW5hbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBofSkpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big1NCksdT1uKDg0KSxjPW4oMzApLGw9big0NiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aSgpKHRoaXMsZSk7dmFyIG49dC5hdHRyaWJ1dGVzLHI9dm9pZCAwPT09bj97fTpuO3RoaXMudHlwZWRBcnJheU1hbmFnZXI9dS5hLHRoaXMuaW5kZXhTdGFydHM9bnVsbCx0aGlzLnZlcnRleFN0YXJ0cz1udWxsLHRoaXMudmVydGV4Q291bnQ9MCx0aGlzLmluc3RhbmNlQ291bnQ9MCx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5fYXR0cmlidXRlRGVmcz1yLHRoaXMub3B0cz10LHRoaXMudXBkYXRlR2VvbWV0cnkodCksT2JqZWN0LnNlYWwodGhpcyl9cmV0dXJuIG8oKShlLFt7a2V5OiJ1cGRhdGVHZW9tZXRyeSIsdmFsdWU6ZnVuY3Rpb24oZSl7T2JqZWN0LmFzc2lnbih0aGlzLm9wdHMsZSk7dmFyIHQ9dGhpcy5vcHRzLG49dC5kYXRhLHI9dC5idWZmZXJzLGk9dm9pZCAwPT09cj97fTpyLGE9dC5nZXRHZW9tZXRyeSxvPXQuZ2VvbWV0cnlCdWZmZXIscz10LnBvc2l0aW9uRm9ybWF0LHU9dC5kYXRhQ2hhbmdlZCxsPXQubm9ybWFsaXplLGg9dm9pZCAwPT09bHx8bDtpZih0aGlzLmRhdGE9bix0aGlzLmdldEdlb21ldHJ5PWEsdGhpcy5wb3NpdGlvblNpemU9byYmby5zaXplfHwoIlhZIj09PXM/MjozKSx0aGlzLmJ1ZmZlcnM9aSx0aGlzLm5vcm1hbGl6ZT1oLG8mJihPYmplY3QoYy5hKShuLnN0YXJ0SW5kaWNlcywiYmluYXJ5IGRhdGEgbWlzc2luZyBzdGFydEluZGljZXMiKSx0aGlzLmdldEdlb21ldHJ5PXRoaXMuZ2V0R2VvbWV0cnlGcm9tQnVmZmVyKG8pLGh8fChpLnBvc2l0aW9ucz1vKSksdGhpcy5nZW9tZXRyeUJ1ZmZlcj1pLnBvc2l0aW9ucyxBcnJheS5pc0FycmF5KHUpKXt2YXIgZj0hMCxkPSExLHY9dm9pZCAwO3RyeXtmb3IodmFyIHAsZz11W1N5bWJvbC5pdGVyYXRvcl0oKTshKGY9KHA9Zy5uZXh0KCkpLmRvbmUpO2Y9ITApe3ZhciB5PXAudmFsdWU7dGhpcy5fcmVidWlsZEdlb21ldHJ5KHkpfX1jYXRjaChlKXtkPSEwLHY9ZX1maW5hbGx5e3RyeXtmfHxudWxsPT1nLnJldHVybnx8Zy5yZXR1cm4oKX1maW5hbGx5e2lmKGQpdGhyb3cgdn19fWVsc2UgdGhpcy5fcmVidWlsZEdlb21ldHJ5KCl9fSx7a2V5OiJ1cGRhdGVQYXJ0aWFsR2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnRSb3csbj1lLmVuZFJvdzt0aGlzLl9yZWJ1aWxkR2VvbWV0cnkoe3N0YXJ0Um93OnQsZW5kUm93Om59KX19LHtrZXk6InVwZGF0ZUdlb21ldHJ5QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fSx7a2V5OiJnZXRHZW9tZXRyeVNpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9fSx7a2V5OiJnZXRHZW9tZXRyeUZyb21CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWV8fGU7cmV0dXJuIE9iamVjdChjLmEpKEFycmF5QnVmZmVyLmlzVmlldyh0KSwiY2Fubm90IHJlYWQgZ2VvbWV0cmllcyIpLE9iamVjdChzLmIpKHQse3NpemU6dGhpcy5wb3NpdGlvblNpemUsb2Zmc2V0OmUub2Zmc2V0LHN0cmlkZTplLnN0cmlkZSxzdGFydEluZGljZXM6dGhpcy5kYXRhLnN0YXJ0SW5kaWNlc30pfX0se2tleToiX2FsbG9jYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuYXR0cmlidXRlcyxyPXRoaXMuYnVmZmVycyxpPXRoaXMuX2F0dHJpYnV0ZURlZnMsYT10aGlzLnR5cGVkQXJyYXlNYW5hZ2VyO2Zvcih2YXIgbyBpbiBpKWlmKG8gaW4gcilhLnJlbGVhc2UobltvXSksbltvXT1udWxsO2Vsc2V7dmFyIHM9aVtvXTtzLmNvcHk9dCxuW29dPWEuYWxsb2NhdGUobltvXSxlLHMpfX19LHtrZXk6Il9mb3JFYWNoR2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmRhdGEsaT10aGlzLmdldEdlb21ldHJ5LGE9T2JqZWN0KHMuYSkocix0LG4pLG89YS5pdGVyYWJsZSx1PWEub2JqZWN0SW5mbyxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTt1LmluZGV4KyssZShpKHYsdSksdS5pbmRleCl9fWNhdGNoKGUpe2w9ITAsaD1lfWZpbmFsbHl7dHJ5e2N8fG51bGw9PWQucmV0dXJufHxkLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBofX19fSx7a2V5OiJfcmVidWlsZEdlb21ldHJ5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuZGF0YSYmdGhpcy5nZXRHZW9tZXRyeSl7dmFyIG49dGhpcy5pbmRleFN0YXJ0cyxyPXRoaXMudmVydGV4U3RhcnRzLGk9dGhpcy5pbnN0YW5jZUNvdW50LGE9dGhpcy5kYXRhLG89dGhpcy5nZW9tZXRyeUJ1ZmZlcixzPWV8fHt9LHU9cy5zdGFydFJvdyxjPXZvaWQgMD09PXU/MDp1LGg9cy5lbmRSb3csZj12b2lkIDA9PT1oPzEvMDpoO2lmKGV8fChuPVswXSxyPVswXSksdGhpcy5ub3JtYWxpemV8fCFvKXRoaXMuX2ZvckVhY2hHZW9tZXRyeSgoZnVuY3Rpb24oZSxuKXtyW24rMV09cltuXSt0LmdldEdlb21ldHJ5U2l6ZShlKX0pLGMsZiksaT1yW3IubGVuZ3RoLTFdO2Vsc2UgaWYoby5idWZmZXIgaW5zdGFuY2VvZiBsLmEpe3ZhciBkPW8uc3RyaWRlfHw0KnRoaXMucG9zaXRpb25TaXplO3I9YS5zdGFydEluZGljZXMsaT1yW2EubGVuZ3RoXXx8by5idWZmZXIuYnl0ZUxlbmd0aC9kfWVsc2V7dmFyIHY9by52YWx1ZXx8byxwPW8uc3RyaWRlL3YuQllURVNfUEVSX0VMRU1FTlR8fHRoaXMucG9zaXRpb25TaXplO3I9YS5zdGFydEluZGljZXMsaT1yW2EubGVuZ3RoXXx8di5sZW5ndGgvcH10aGlzLl9hbGxvY2F0ZShpLEJvb2xlYW4oZSkpLHRoaXMuaW5kZXhTdGFydHM9bix0aGlzLnZlcnRleFN0YXJ0cz1yLHRoaXMuaW5zdGFuY2VDb3VudD1pO3ZhciBnPXt9O3RoaXMuX2ZvckVhY2hHZW9tZXRyeSgoZnVuY3Rpb24oZSxhKXtnLnZlcnRleFN0YXJ0PXJbYV0sZy5pbmRleFN0YXJ0PW5bYV07dmFyIG89YTxyLmxlbmd0aC0xP3JbYSsxXTppO2cuZ2VvbWV0cnlTaXplPW8tclthXSxnLmdlb21ldHJ5SW5kZXg9YSx0LnVwZGF0ZUdlb21ldHJ5QXR0cmlidXRlcyhlLGcpfSksYyxmKSx0aGlzLnZlcnRleENvdW50PW5bbi5sZW5ndGgtMV19fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDI1Niksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBmKCkodCxlKSxvKCkodCxbe2tleToiZ2V0R2VvbWV0cnkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZC5hfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLmVsZXZhdGlvblNjYWxlLGk9bi5leHRydWRlZCxhPW4ub2Zmc2V0LG89bi5jb3ZlcmFnZSxzPW4uY2VsbFNpemUsdT1uLmFuZ2xlO3RoaXMuc3RhdGUubW9kZWwuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0LHtyYWRpdXM6cy8yLGFuZ2xlOnUsb2Zmc2V0OmEsZXh0cnVkZWQ6aSxjb3ZlcmFnZTpvLGVsZXZhdGlvblNjYWxlOnIsZWRnZURpc3RhbmNlOjEsaXNXaXJlZnJhbWU6ITF9KSkuZHJhdygpfX1dKSx0fShuKDE0NSkuYSk7di5sYXllck5hbWU9IkdyaWRDZWxsTGF5ZXIiLHYuZGVmYXVsdFByb3BzPXtjZWxsU2l6ZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxZTN9LG9mZnNldDp7dHlwZToiYXJyYXkiLG1pbjowLHZhbHVlOlsxLDFdfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oNCksbD1uLm4oYyksaD1uKDEwKSxmPW4ubihoKSxkPW4oMjMpLHY9big1NCkscD1uKDE3MSksZz1uKDEwOSkseT1uKDEwMCksbT1uKDExNyksYj1uKDE2MCksXz17c3Ryb2tlZDohMCxmaWxsZWQ6ITAsZXh0cnVkZWQ6ITEsZWxldmF0aW9uU2NhbGU6MSx3aXJlZnJhbWU6ITEsX25vcm1hbGl6ZTohMCxsaW5lV2lkdGhVbml0czoibWV0ZXJzIixsaW5lV2lkdGhTY2FsZToxLGxpbmVXaWR0aE1pblBpeGVsczowLGxpbmVXaWR0aE1heFBpeGVsczpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixsaW5lSm9pbnRSb3VuZGVkOiExLGxpbmVNaXRlckxpbWl0OjQsZ2V0UG9seWdvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvbHlnb259fSxnZXRGaWxsQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0TGluZUNvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwLDI1NV19LGdldExpbmVXaWR0aDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjF9LGdldEVsZXZhdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjFlM30sbWF0ZXJpYWw6ITB9LE89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKCkodGhpcyx0KSx1KCkodGhpcyxsKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKHQsZSksbygpKHQsW3trZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPXtwYXRoczpbXX0sdGhpcy5wcm9wcy5nZXRMaW5lRGFzaEFycmF5JiZkLmEucmVtb3ZlZCgiZ2V0TGluZURhc2hBcnJheSIsIlBhdGhTdHlsZUV4dGVuc2lvbiIpKCl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPShlLm9sZFByb3BzLGUucHJvcHMsZS5jaGFuZ2VGbGFncykscj1uLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8bi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuZ2V0UG9seWdvbik7aWYociYmQXJyYXkuaXNBcnJheShuLmRhdGFDaGFuZ2VkKSl7dmFyIGk9dGhpcy5zdGF0ZS5wYXRocy5zbGljZSgpLGE9bi5kYXRhQ2hhbmdlZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYi5hKSh7ZGF0YTppLGdldEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fc291cmNlLmluZGV4fSxkYXRhUmFuZ2U6ZSxyZXBsYWNlOnQuX2dldFBhdGhzKGUpfSl9KSk7dGhpcy5zZXRTdGF0ZSh7cGF0aHM6aSxwYXRoc0RpZmY6YX0pfWVsc2UgciYmdGhpcy5zZXRTdGF0ZSh7cGF0aHM6dGhpcy5fZ2V0UGF0aHMoKSxwYXRoc0RpZmY6bnVsbH0pfX0se2tleToiX2dldFBhdGhzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PXRoaXMucHJvcHMsbj10LmRhdGEscj10LmdldFBvbHlnb24saT10LnBvc2l0aW9uRm9ybWF0LGE9dC5fbm9ybWFsaXplLG89W10scz0iWFkiPT09aT8yOjMsdT1lLnN0YXJ0Um93LGM9ZS5lbmRSb3csbD1PYmplY3Qodi5hKShuLHUsYyksaD1sLml0ZXJhYmxlLGY9bC5vYmplY3RJbmZvLGQ9ITAscD0hMSxnPXZvaWQgMDt0cnl7Zm9yKHZhciB5LGI9aFtTeW1ib2wuaXRlcmF0b3JdKCk7IShkPSh5PWIubmV4dCgpKS5kb25lKTtkPSEwKXt2YXIgXz15LnZhbHVlO2YuaW5kZXgrKzt2YXIgTz1yKF8sZik7YSYmKE89bS5jKE8scykpO3ZhciB4PU8sdz14LmhvbGVJbmRpY2VzLFM9Ty5wb3NpdGlvbnN8fE87aWYodylmb3IodmFyIGs9MDtrPD13Lmxlbmd0aDtrKyspe3ZhciBQPVMuc3ViYXJyYXkod1trLTFdfHwwLHdba118fFMubGVuZ3RoKTtvLnB1c2godGhpcy5nZXRTdWJMYXllclJvdyh7cGF0aDpQfSxfLGYuaW5kZXgpKX1lbHNlIG8ucHVzaCh0aGlzLmdldFN1YkxheWVyUm93KHtwYXRoOlN9LF8sZi5pbmRleCkpfX1jYXRjaChlKXtwPSEwLGc9ZX1maW5hbGx5e3RyeXtkfHxudWxsPT1iLnJldHVybnx8Yi5yZXR1cm4oKX1maW5hbGx5e2lmKHApdGhyb3cgZ319cmV0dXJuIG99fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuZGF0YSxuPWUuX2RhdGFEaWZmLHI9ZS5zdHJva2VkLGk9ZS5maWxsZWQsYT1lLmV4dHJ1ZGVkLG89ZS53aXJlZnJhbWUscz1lLl9ub3JtYWxpemUsdT1lLmVsZXZhdGlvblNjYWxlLGM9ZS50cmFuc2l0aW9ucyxsPWUucG9zaXRpb25Gb3JtYXQsaD10aGlzLnByb3BzLGY9aC5saW5lV2lkdGhVbml0cyxkPWgubGluZVdpZHRoU2NhbGUsdj1oLmxpbmVXaWR0aE1pblBpeGVscyxwPWgubGluZVdpZHRoTWF4UGl4ZWxzLG09aC5saW5lSm9pbnRSb3VuZGVkLGI9aC5saW5lTWl0ZXJMaW1pdCxfPWgubGluZURhc2hKdXN0aWZpZWQsTz10aGlzLnByb3BzLHg9Ty5nZXRGaWxsQ29sb3Isdz1PLmdldExpbmVDb2xvcixTPU8uZ2V0TGluZVdpZHRoLGs9Ty5nZXRMaW5lRGFzaEFycmF5LFA9Ty5nZXRFbGV2YXRpb24saj1PLmdldFBvbHlnb24sVD1PLnVwZGF0ZVRyaWdnZXJzLEU9Ty5tYXRlcmlhbCxBPXRoaXMuc3RhdGUsTT1BLnBhdGhzLEM9QS5wYXRoc0RpZmYsTD10aGlzLmdldFN1YkxheWVyQ2xhc3MoImZpbGwiLGcuYSksST10aGlzLmdldFN1YkxheWVyQ2xhc3MoInN0cm9rZSIseS5hKSxSPXRoaXMuc2hvdWxkUmVuZGVyU3ViTGF5ZXIoImZpbGwiLE0pJiZuZXcgTCh7X2RhdGFEaWZmOm4sZXh0cnVkZWQ6YSxlbGV2YXRpb25TY2FsZTp1LGZpbGxlZDppLHdpcmVmcmFtZTpvLF9ub3JtYWxpemU6cyxnZXRFbGV2YXRpb246UCxnZXRGaWxsQ29sb3I6eCxnZXRMaW5lQ29sb3I6dyxtYXRlcmlhbDpFLHRyYW5zaXRpb25zOmN9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImZpbGwiLHVwZGF0ZVRyaWdnZXJzOntnZXRQb2x5Z29uOlQuZ2V0UG9seWdvbixnZXRFbGV2YXRpb246VC5nZXRFbGV2YXRpb24sZ2V0RmlsbENvbG9yOlQuZ2V0RmlsbENvbG9yLGdldExpbmVDb2xvcjpULmdldExpbmVDb2xvcn19KSx7ZGF0YTp0LHBvc2l0aW9uRm9ybWF0OmwsZ2V0UG9seWdvbjpqfSk7cmV0dXJuWyFhJiZSLCFhJiZyJiZ0aGlzLnNob3VsZFJlbmRlclN1YkxheWVyKCJzdHJva2UiLE0pJiZuZXcgSSh7X2RhdGFEaWZmOkMmJmZ1bmN0aW9uKCl7cmV0dXJuIEN9LHdpZHRoVW5pdHM6Zix3aWR0aFNjYWxlOmQsd2lkdGhNaW5QaXhlbHM6dix3aWR0aE1heFBpeGVsczpwLHJvdW5kZWQ6bSxtaXRlckxpbWl0OmIsZGFzaEp1c3RpZmllZDpfLF9wYXRoVHlwZToibG9vcCIsdHJhbnNpdGlvbnM6YyYme2dldFdpZHRoOmMuZ2V0TGluZVdpZHRoLGdldENvbG9yOmMuZ2V0TGluZUNvbG9yLGdldFBhdGg6Yy5nZXRQb2x5Z29ufSxnZXRDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IodyksZ2V0V2lkdGg6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKFMpLGdldERhc2hBcnJheTp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3Ioayl9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InN0cm9rZSIsdXBkYXRlVHJpZ2dlcnM6e2dldFdpZHRoOlQuZ2V0TGluZVdpZHRoLGdldENvbG9yOlQuZ2V0TGluZUNvbG9yLGdldERhc2hBcnJheTpULmdldExpbmVEYXNoQXJyYXl9fSkse2RhdGE6TSxwb3NpdGlvbkZvcm1hdDpsLGdldFBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF0aH19KSxhJiZSXX19XSksdH0ocC5hKTtPLmxheWVyTmFtZT0iUG9seWdvbkxheWVyIixPLmRlZmF1bHRQcm9wcz1ffSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKTt2YXIgcj1uKDEyNCk7ZnVuY3Rpb24gaShlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcGFyc2UgSlNPTiBmcm9tIGRhdGEgc3RhcnRpbmcgd2l0aCAiJy5jb25jYXQoT2JqZWN0KHIuYSkoZSksJyInKSl9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIHI9bigwKSxpPW4oNSksYT1uKDYpLG89bigxMjApO2Z1bmN0aW9uIHMoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChyLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpzKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfXZhciBjPXtpZDoicmVxdWVzdC1zY2hlZHVsZXIiLHRocm90dGxlUmVxdWVzdHM6ITAsbWF4UmVxdWVzdHM6Nn0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KGkuYSkodGhpcyxlKSx0aGlzLnByb3BzPXUoe30sYyx7fSx0KSx0aGlzLnJlcXVlc3RRdWV1ZT1bXSx0aGlzLmFjdGl2ZVJlcXVlc3RDb3VudD0wLHRoaXMucmVxdWVzdE1hcD17fSx0aGlzLnN0YXRzPW5ldyBvLmEoe2lkOnQuaWR9KSx0aGlzLnN0YXRzLmdldCgiUXVldWVkIFJlcXVlc3RzIiksdGhpcy5zdGF0cy5nZXQoIkFjdGl2ZSBSZXF1ZXN0cyIpLHRoaXMuc3RhdHMuZ2V0KCJDYW5jZWxsZWQgUmVxdWVzdHMiKSx0aGlzLnN0YXRzLmdldCgiUXVldWVkIFJlcXVlc3RzIEV2ZXIiKSx0aGlzLnN0YXRzLmdldCgiQWN0aXZlIFJlcXVlc3RzIEV2ZXIiKSx0aGlzLl9kZWZlcnJlZFVwZGF0ZT1udWxsfXJldHVybiBPYmplY3QoYS5hKShlLFt7a2V5OiJzY2hlZHVsZVJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpmdW5jdGlvbigpe3JldHVybiAwfTtpZighdGhpcy5wcm9wcy50aHJvdHRsZVJlcXVlc3RzKXJldHVybiBQcm9taXNlLnJlc29sdmUoZSk7aWYodGhpcy5yZXF1ZXN0TWFwW2UuaWRdKXJldHVybiB0aGlzLnJlcXVlc3RNYXBbZS5pZF07dmFyIG49bnVsbCxyPW5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3JldHVybiBuPXtoYW5kbGU6ZSxjYWxsYmFjazp0LHJlc29sdmU6cixyZWplY3Q6aX19KSk7cmV0dXJuIHRoaXMucmVxdWVzdFF1ZXVlLnB1c2godSh7cHJvbWlzZTpyfSxuKSksdGhpcy5yZXF1ZXN0TWFwW2UuaWRdPXIsdGhpcy5faXNzdWVOZXdSZXF1ZXN0cygpLHJ9fSx7a2V5OiJzdGFydFJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlUmVxdWVzdENvdW50Kyt9fSx7a2V5OiJlbmRSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3RNYXBbZS5pZF0mJmRlbGV0ZSB0aGlzLnJlcXVlc3RNYXBbZS5pZF0sdGhpcy5hY3RpdmVSZXF1ZXN0Q291bnQtLSx0aGlzLl9pc3N1ZU5ld1JlcXVlc3RzKCl9fSx7a2V5OiJ0cmFja1JlcXVlc3RQcm9taXNlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy5zdGFydFJlcXVlc3QoZSksdC50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmVuZFJlcXVlc3QoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIG4uZW5kUmVxdWVzdChlKX0pKX19LHtrZXk6Il9pc3N1ZU5ld1JlcXVlc3RzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fZGVmZXJyZWRVcGRhdGV8fCh0aGlzLl9kZWZlcnJlZFVwZGF0ZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBlLl9pc3N1ZU5ld1JlcXVlc3RzQXN5bmMoKX0pLDApKX19LHtrZXk6Il9pc3N1ZU5ld1JlcXVlc3RzQXN5bmMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVmZXJyZWRVcGRhdGU9bnVsbDt2YXIgZT1NYXRoLm1heCh0aGlzLnByb3BzLm1heFJlcXVlc3RzLXRoaXMuYWN0aXZlUmVxdWVzdENvdW50LDApO2lmKDAhPT1lKXt0aGlzLl91cGRhdGVBbGxSZXF1ZXN0cygpO2Zvcih2YXIgdD0wO3Q8ZTsrK3Qpe2lmKHRoaXMucmVxdWVzdFF1ZXVlLmxlbmd0aD4wKXRoaXMucmVxdWVzdFF1ZXVlLnNoaWZ0KCkucmVzb2x2ZSghMCl9fX19LHtrZXk6Il91cGRhdGVBbGxSZXF1ZXN0cyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5yZXF1ZXN0UXVldWUsdD0wO3Q8ZS5sZW5ndGg7Kyt0KXt2YXIgbj1lW3RdO3RoaXMuX3VwZGF0ZVJlcXVlc3Qobil8fChlLnNwbGljZSh0LDEpLGRlbGV0ZSB0aGlzLnJlcXVlc3RNYXBbbi5oYW5kbGUuaWRdLHQtLSl9ZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLnByaW9yaXR5LXQucHJpb3JpdHl9KSl9fSx7a2V5OiJfdXBkYXRlUmVxdWVzdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJpb3JpdHk9ZS5jYWxsYmFjayhlLmhhbmRsZSksIShlLnByaW9yaXR5PDApfHwoZS5yZXNvbHZlKCExKSwhMSl9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxOTcpO2Z1bmN0aW9uIGkoZSx0KXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPWUsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sZS5yZWFkRmllbGRzKGEsdGhpcyx0KSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGh9ZnVuY3Rpb24gYShlLHQsbil7MTU9PT1lP3QudmVyc2lvbj1uLnJlYWRWYXJpbnQoKToxPT09ZT90Lm5hbWU9bi5yZWFkU3RyaW5nKCk6NT09PWU/dC5leHRlbnQ9bi5yZWFkVmFyaW50KCk6Mj09PWU/dC5fZmVhdHVyZXMucHVzaChuLnBvcyk6Mz09PWU/dC5fa2V5cy5wdXNoKG4ucmVhZFN0cmluZygpKTo0PT09ZSYmdC5fdmFsdWVzLnB1c2goZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCxuPWUucmVhZFZhcmludCgpK2UucG9zO2Zvcig7ZS5wb3M8bjspe3ZhciByPWUucmVhZFZhcmludCgpPj4zO3Q9MT09PXI/ZS5yZWFkU3RyaW5nKCk6Mj09PXI/ZS5yZWFkRmxvYXQoKTozPT09cj9lLnJlYWREb3VibGUoKTo0PT09cj9lLnJlYWRWYXJpbnQ2NCgpOjU9PT1yP2UucmVhZFZhcmludCgpOjY9PT1yP2UucmVhZFNWYXJpbnQoKTo3PT09cj9lLnJlYWRCb29sZWFuKCk6bnVsbH1yZXR1cm4gdH0obikpfWUuZXhwb3J0cz1pLGkucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj10aGlzLl9mZWF0dXJlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlIGluZGV4IG91dCBvZiBib3VuZHMiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW2VdO3ZhciB0PXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IHIodGhpcy5fcGJmLHQsdGhpcy5leHRlbnQsdGhpcy5fa2V5cyx0aGlzLl92YWx1ZXMpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI0NCk7ZnVuY3Rpb24gaShlLHQsbixyLGkpe3RoaXMucHJvcGVydGllcz17fSx0aGlzLmV4dGVudD1uLHRoaXMudHlwZT0wLHRoaXMuX3BiZj1lLHRoaXMuX2dlb21ldHJ5PS0xLHRoaXMuX2tleXM9cix0aGlzLl92YWx1ZXM9aSxlLnJlYWRGaWVsZHMoYSx0aGlzLHQpfWZ1bmN0aW9uIGEoZSx0LG4pezE9PWU/dC5pZD1uLnJlYWRWYXJpbnQoKToyPT1lP2Z1bmN0aW9uKGUsdCl7dmFyIG49ZS5yZWFkVmFyaW50KCkrZS5wb3M7Zm9yKDtlLnBvczxuOyl7dmFyIHI9dC5fa2V5c1tlLnJlYWRWYXJpbnQoKV0saT10Ll92YWx1ZXNbZS5yZWFkVmFyaW50KCldO3QucHJvcGVydGllc1tyXT1pfX0obix0KTozPT1lP3QudHlwZT1uLnJlYWRWYXJpbnQoKTo0PT1lJiYodC5fZ2VvbWV0cnk9bi5wb3MpfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0LG4scj0wLGk9MCxhPWUubGVuZ3RoLG89YS0xO2k8YTtvPWkrKyl0PWVbaV0scis9KChuPWVbb10pLngtdC54KSoodC55K24ueSk7cmV0dXJuIHJ9ZS5leHBvcnRzPWksaS50eXBlcz1bIlVua25vd24iLCJQb2ludCIsIkxpbmVTdHJpbmciLCJQb2x5Z29uIl0saS5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGJmO2UucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgdCxuPWUucmVhZFZhcmludCgpK2UucG9zLGk9MSxhPTAsbz0wLHM9MCx1PVtdO2UucG9zPG47KXtpZihhPD0wKXt2YXIgYz1lLnJlYWRWYXJpbnQoKTtpPTcmYyxhPWM+PjN9aWYoYS0tLDE9PT1pfHwyPT09aSlvKz1lLnJlYWRTVmFyaW50KCkscys9ZS5yZWFkU1ZhcmludCgpLDE9PT1pJiYodCYmdS5wdXNoKHQpLHQ9W10pLHQucHVzaChuZXcgcihvLHMpKTtlbHNle2lmKDchPT1pKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIraSk7dCYmdC5wdXNoKHRbMF0uY2xvbmUoKSl9fXJldHVybiB0JiZ1LnB1c2godCksdX0saS5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BiZjtlLnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIHQ9ZS5yZWFkVmFyaW50KCkrZS5wb3Msbj0xLHI9MCxpPTAsYT0wLG89MS8wLHM9LTEvMCx1PTEvMCxjPS0xLzA7ZS5wb3M8dDspe2lmKHI8PTApe3ZhciBsPWUucmVhZFZhcmludCgpO249NyZsLHI9bD4+M31pZihyLS0sMT09PW58fDI9PT1uKShpKz1lLnJlYWRTVmFyaW50KCkpPG8mJihvPWkpLGk+cyYmKHM9aSksKGErPWUucmVhZFNWYXJpbnQoKSk8dSYmKHU9YSksYT5jJiYoYz1hKTtlbHNlIGlmKDchPT1uKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIrbil9cmV0dXJuW28sdSxzLGNdfSxpLnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGEscz10aGlzLmV4dGVudCpNYXRoLnBvdygyLG4pLHU9dGhpcy5leHRlbnQqZSxjPXRoaXMuZXh0ZW50KnQsbD10aGlzLmxvYWRHZW9tZXRyeSgpLGg9aS50eXBlc1t0aGlzLnR5cGVdO2Z1bmN0aW9uIGYoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0scj0xODAtMzYwKihuLnkrYykvcztlW3RdPVszNjAqKG4ueCt1KS9zLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAocipNYXRoLlBJLzE4MCkpLTkwXX19c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciBkPVtdO2ZvcihyPTA7cjxsLmxlbmd0aDtyKyspZFtyXT1sW3JdWzBdO2YobD1kKTticmVhaztjYXNlIDI6Zm9yKHI9MDtyPGwubGVuZ3RoO3IrKylmKGxbcl0pO2JyZWFrO2Nhc2UgMzpmb3IobD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD0xKXJldHVybltlXTtmb3IodmFyIG4scixpPVtdLGE9MDthPHQ7YSsrKXt2YXIgcz1vKGVbYV0pOzAhPT1zJiYodm9pZCAwPT09ciYmKHI9czwwKSxyPT09czwwPyhuJiZpLnB1c2gobiksbj1bZVthXV0pOm4ucHVzaChlW2FdKSl9biYmaS5wdXNoKG4pO3JldHVybiBpfShsKSxyPTA7cjxsLmxlbmd0aDtyKyspZm9yKGE9MDthPGxbcl0ubGVuZ3RoO2ErKylmKGxbcl1bYV0pfTE9PT1sLmxlbmd0aD9sPWxbMF06aD0iTXVsdGkiK2g7dmFyIHY9e3R5cGU6IkZlYXR1cmUiLGdlb21ldHJ5Ont0eXBlOmgsY29vcmRpbmF0ZXM6bH0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVybiJpZCJpbiB0aGlzJiYodi5pZD10aGlzLmlkKSx2fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDcpLGk9bi5uKHIpLGE9bigyKSxvPW4ubihhKSxzPW4oMyksdT1uLm4ocyksYz1uKDEzOSksbD1uKDMwKSxoPW4oNzMpLGY9bigyMyksZD1uKDY0KSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtvKCkodGhpcyxlKSx0aGlzLnZpZXdzPVtdLHRoaXMud2lkdGg9MTAwLHRoaXMuaGVpZ2h0PTEwMCx0aGlzLnZpZXdTdGF0ZT17fSx0aGlzLmNvbnRyb2xsZXJzPXt9LHRoaXMudGltZWxpbmU9dC50aW1lbGluZSx0aGlzLl92aWV3cG9ydHM9W10sdGhpcy5fdmlld3BvcnRNYXA9e30sdGhpcy5faXNVcGRhdGluZz0hMSx0aGlzLl9uZWVkc1JlZHJhdz0iSW5pdGlhbCByZW5kZXIiLHRoaXMuX25lZWRzVXBkYXRlPSEwLHRoaXMuX2V2ZW50TWFuYWdlcj10LmV2ZW50TWFuYWdlcix0aGlzLl9ldmVudENhbGxiYWNrcz17b25WaWV3U3RhdGVDaGFuZ2U6dC5vblZpZXdTdGF0ZUNoYW5nZSxvbkludGVyYWN0aXZlU3RhdGVDaGFuZ2U6dC5vbkludGVyYWN0aXZlU3RhdGVDaGFuZ2V9LE9iamVjdC5zZWFsKHRoaXMpLHRoaXMuc2V0UHJvcHModCl9cmV0dXJuIHUoKShlLFt7a2V5OiJmaW5hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5jb250cm9sbGVycyl0aGlzLmNvbnRyb2xsZXJzW2VdJiZ0aGlzLmNvbnRyb2xsZXJzW2VdLmZpbmFsaXplKCk7dGhpcy5jb250cm9sbGVycz17fX19LHtrZXk6Im5lZWRzUmVkcmF3Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y2xlYXJSZWRyYXdGbGFnczohMX0sdD10aGlzLl9uZWVkc1JlZHJhdztyZXR1cm4gZS5jbGVhclJlZHJhd0ZsYWdzJiYodGhpcy5fbmVlZHNSZWRyYXc9ITEpLHR9fSx7a2V5OiJzZXROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbmVlZHNVcGRhdGU9dGhpcy5fbmVlZHNVcGRhdGV8fGUsdGhpcy5fbmVlZHNSZWRyYXc9dGhpcy5fbmVlZHNSZWRyYXd8fGV9fSx7a2V5OiJ1cGRhdGVWaWV3U3RhdGVzIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmNvbnRyb2xsZXJzKXt2YXIgdD10aGlzLmNvbnRyb2xsZXJzW2VdO3QmJnQudXBkYXRlVHJhbnNpdGlvbigpfX19LHtrZXk6ImdldFZpZXdwb3J0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5fdmlld3BvcnRzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29udGFpbnNQaXhlbChlKX0pKTp0aGlzLl92aWV3cG9ydHN9fSx7a2V5OiJnZXRWaWV3cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy52aWV3cy5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3QuaWRdPXR9KSksZX19LHtrZXk6ImdldFZpZXciLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT90aGlzLnZpZXdzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pKTplfX0se2tleToiZ2V0Vmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFZpZXcoZSksbj10JiZ0aGlzLnZpZXdTdGF0ZVt0LmdldFZpZXdTdGF0ZUlkKCldfHx0aGlzLnZpZXdTdGF0ZTtyZXR1cm4gdD90LmZpbHRlclZpZXdTdGF0ZShuKTpufX0se2tleToiZ2V0Vmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl92aWV3cG9ydE1hcFtlXX19LHtrZXk6InVucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy5nZXRWaWV3cG9ydHMoKSxyPXt4OmVbMF0seTplWzFdfSxpPW4ubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPW5baV07aWYoYS5jb250YWluc1BpeGVsKHIpKXt2YXIgbz1lLnNsaWNlKCk7cmV0dXJuIG9bMF0tPWEueCxvWzFdLT1hLnksYS51bnByb2plY3Qobyx0KX19cmV0dXJuIG51bGx9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7InZpZXdzImluIGUmJnRoaXMuX3NldFZpZXdzKGUudmlld3MpLCJ2aWV3U3RhdGUiaW4gZSYmdGhpcy5fc2V0Vmlld1N0YXRlKGUudmlld1N0YXRlKSwoIndpZHRoImluIGV8fCJoZWlnaHQiaW4gZSkmJnRoaXMuX3NldFNpemUoZS53aWR0aCxlLmhlaWdodCksdGhpcy5faXNVcGRhdGluZ3x8dGhpcy5fdXBkYXRlKCl9fSx7a2V5OiJfdXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lzVXBkYXRpbmc9ITAsdGhpcy5fbmVlZHNVcGRhdGUmJih0aGlzLl9uZWVkc1VwZGF0ZT0hMSx0aGlzLl9yZWJ1aWxkVmlld3BvcnRzKCkpLHRoaXMuX25lZWRzVXBkYXRlJiYodGhpcy5fbmVlZHNVcGRhdGU9ITEsdGhpcy5fcmVidWlsZFZpZXdwb3J0cygpKSx0aGlzLl9pc1VwZGF0aW5nPSExfX0se2tleToiX3NldFNpemUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7T2JqZWN0KGwuYSkoTnVtYmVyLmlzRmluaXRlKGUpJiZOdW1iZXIuaXNGaW5pdGUodCkpLGU9PT10aGlzLndpZHRoJiZ0PT09dGhpcy5oZWlnaHR8fCh0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLnNldE5lZWRzVXBkYXRlKCJTaXplIGNoYW5nZWQiKSl9fSx7a2V5OiJfc2V0Vmlld3MiLHZhbHVlOmZ1bmN0aW9uKGUpe2U9T2JqZWN0KGQuYikoZSxCb29sZWFuKSx0aGlzLl9kaWZmVmlld3MoZSx0aGlzLnZpZXdzKSYmdGhpcy5zZXROZWVkc1VwZGF0ZSgidmlld3MgY2hhbmdlZCIpLHRoaXMudmlld3M9ZX19LHtrZXk6Il9zZXRWaWV3U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2U/KCFPYmplY3QoaC5hKShlLHRoaXMudmlld1N0YXRlKSYmdGhpcy5zZXROZWVkc1VwZGF0ZSgidmlld1N0YXRlIGNoYW5nZWQiKSx0aGlzLnZpZXdTdGF0ZT1lKTpmLmEud2FybigibWlzc2luZyBgdmlld1N0YXRlYCBvciBgaW5pdGlhbFZpZXdTdGF0ZWAiKSgpfX0se2tleToiX29uVmlld1N0YXRlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3Qudmlld0lkPWUsdGhpcy5fZXZlbnRDYWxsYmFja3Mub25WaWV3U3RhdGVDaGFuZ2UodCl9fSx7a2V5OiJfY3JlYXRlQ29udHJvbGxlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldygwLGUudHlwZSkoT2JqZWN0LmFzc2lnbih7dGltZWxpbmU6dGhpcy50aW1lbGluZSxldmVudE1hbmFnZXI6dGhpcy5fZXZlbnRNYW5hZ2VyLG9uVmlld1N0YXRlQ2hhbmdlOnRoaXMuX29uVmlld1N0YXRlQ2hhbmdlLmJpbmQodGhpcyxlLmlkKSxvblN0YXRlQ2hhbmdlOnRoaXMuX2V2ZW50Q2FsbGJhY2tzLm9uSW50ZXJhY3RpdmVTdGF0ZUNoYW5nZX0sZSkpfX0se2tleToiX3VwZGF0ZUNvbnRyb2xsZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUuY29udHJvbGxlcil7dmFyIGk9T2JqZWN0LmFzc2lnbih7fSxlLmNvbnRyb2xsZXIsdCx7aWQ6ZS5pZCx4Om4ueCx5Om4ueSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodH0pO3JldHVybiByP3Iuc2V0UHJvcHMoaSk6cj10aGlzLl9jcmVhdGVDb250cm9sbGVyKGkpLHJ9cmV0dXJuIG51bGx9fSx7a2V5OiJfcmVidWlsZFZpZXdwb3J0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndpZHRoLHQ9dGhpcy5oZWlnaHQsbj10aGlzLnZpZXdzLHI9dGhpcy5jb250cm9sbGVyczt0aGlzLl92aWV3cG9ydHM9W10sdGhpcy5jb250cm9sbGVycz17fTtmb3IodmFyIGk9bi5sZW5ndGg7aS0tOyl7dmFyIGE9bltpXSxvPXRoaXMuZ2V0Vmlld1N0YXRlKGEpLHM9YS5tYWtlVmlld3BvcnQoe3dpZHRoOmUsaGVpZ2h0OnQsdmlld1N0YXRlOm99KTt0aGlzLmNvbnRyb2xsZXJzW2EuaWRdPXRoaXMuX3VwZGF0ZUNvbnRyb2xsZXIoYSxvLHMsclthLmlkXSksdGhpcy5fdmlld3BvcnRzLnVuc2hpZnQocyl9Zm9yKHZhciB1IGluIHIpclt1XSYmIXRoaXMuY29udHJvbGxlcnNbdV0mJnJbdV0uZmluYWxpemUoKTt0aGlzLl9idWlsZFZpZXdwb3J0TWFwKCl9fSx7a2V5OiJfYnVpbGRWaWV3cG9ydE1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX3ZpZXdwb3J0TWFwPXt9LHRoaXMuX3ZpZXdwb3J0cy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmlkJiYoZS5fdmlld3BvcnRNYXBbdC5pZF09ZS5fdmlld3BvcnRNYXBbdC5pZF18fHQpfSkpfX0se2tleToiX2RpZmZWaWV3cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5sZW5ndGghPT10Lmxlbmd0aHx8ZS5zb21lKChmdW5jdGlvbihuLHIpe3JldHVybiFlW3JdLmVxdWFscyh0W3JdKX0pKX19XSksZX0oKSxwPW4oMTM2KSxnPW4oMTI3KSx5PW5ldyBnLmEsbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKCkodGhpcyxlKSx0aGlzLmVmZmVjdHM9W10sdGhpcy5faW50ZXJuYWxFZmZlY3RzPVtdLHRoaXMuX25lZWRzUmVkcmF3PSJJbml0aWFsIHJlbmRlciIsdGhpcy5zZXRFZmZlY3RzKCl9cmV0dXJuIHUoKShlLFt7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7ImVmZmVjdHMiaW4gZSYmKGUuZWZmZWN0cy5sZW5ndGg9PT10aGlzLmVmZmVjdHMubGVuZ3RoJiZPYmplY3QoaC5hKShlLmVmZmVjdHMsdGhpcy5lZmZlY3RzKXx8KHRoaXMuc2V0RWZmZWN0cyhlLmVmZmVjdHMpLHRoaXMuX25lZWRzUmVkcmF3PSJlZmZlY3RzIGNoYW5nZWQiKSl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9LHQ9dGhpcy5fbmVlZHNSZWRyYXc7cmV0dXJuIGUuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKSx0fX0se2tleToiZ2V0RWZmZWN0cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxFZmZlY3RzfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhbnVwKCl9fSx7a2V5OiJzZXRFZmZlY3RzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTt0aGlzLmNsZWFudXAoKSx0aGlzLmVmZmVjdHM9ZSx0aGlzLl9jcmVhdGVJbnRlcm5hbEVmZmVjdHMoKX19LHtrZXk6ImNsZWFudXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ITAsdD0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy5lZmZlY3RzW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KHI9aS5uZXh0KCkpLmRvbmUpO2U9ITApe3IudmFsdWUuY2xlYW51cCgpfX1jYXRjaChlKXt0PSEwLG49ZX1maW5hbGx5e3RyeXtlfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKHQpdGhyb3cgbn19dmFyIGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9dGhpcy5faW50ZXJuYWxFZmZlY3RzW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3UudmFsdWUuY2xlYW51cCgpfX1jYXRjaChlKXtvPSEwLHM9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319dGhpcy5lZmZlY3RzLmxlbmd0aD0wLHRoaXMuX2ludGVybmFsRWZmZWN0cy5sZW5ndGg9MH19LHtrZXk6Il9jcmVhdGVJbnRlcm5hbEVmZmVjdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxFZmZlY3RzPXRoaXMuZWZmZWN0cy5zbGljZSgpLHRoaXMuZWZmZWN0cy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGcuYX0pKXx8dGhpcy5faW50ZXJuYWxFZmZlY3RzLnB1c2goeSl9fV0pLGV9KCksYj1uKDkyKSxfPW4oMTUwKSxPPW4oNzEpLHg9bigxMTYpLHc9bigxMSksUz1uKDE3Nyksaz1uKDE1OSksUD17cGlja2VkQ29sb3I6bnVsbCxwaWNrZWRMYXllcjpudWxsLHBpY2tlZE9iamVjdEluZGV4Oi0xfTtmdW5jdGlvbiBqKGUpe3ZhciB0PWUucGlja2VkQ29sb3JzLG49ZS5sYXllcnMscj1lLmRldmljZVgsaT1lLmRldmljZVksYT1lLmRldmljZVJhZGl1cyxvPWUuZGV2aWNlUmVjdDtpZih0KXtmb3IodmFyIHM9by54LHU9by55LGM9by53aWR0aCxsPW8uaGVpZ2h0LGg9YSphLGQ9LTEsdj0wLHA9MDtwPGw7cCsrKXt2YXIgZz1wK3UtaSx5PWcqZztpZih5Pmgpdis9NCpjO2Vsc2UgZm9yKHZhciBtPTA7bTxjO20rKyl7aWYodFt2KzNdLTE+PTApe3ZhciBiPW0rcy1yLF89YipiK3k7Xzw9aCYmKGg9XyxkPXYpfXYrPTR9fWlmKGQ+PTApe3ZhciBPPXRbZCszXS0xLHg9dC5zbGljZShkLGQrNCksdz1uW09dO2lmKHcpe3ZhciBTPXcuZGVjb2RlUGlja2luZ0NvbG9yKHgpLGs9TWF0aC5mbG9vcihkLzQvYyk7cmV0dXJue3BpY2tlZENvbG9yOngscGlja2VkTGF5ZXI6dyxwaWNrZWRPYmplY3RJbmRleDpTLHBpY2tlZFg6cysoZC80LWsqYykscGlja2VkWTp1K2t9fWYuYS5lcnJvcigiUGlja2VkIG5vbi1leGlzdGVudCBsYXllci4gSXMgcGlja2luZyBidWZmZXIgY29ycnVwdD8iKSgpfX1yZXR1cm4gUH1mdW5jdGlvbiBUKGUpe3ZhciB0PWUucGlja0luZm8sbj1lLmxhc3RQaWNrZWRJbmZvLHI9ZS5tb2RlLGk9ZS5sYXllcnMsYT1lLnZpZXdwb3J0cyxvPWUueCxzPWUueSx1PWUueixjPWUucGl4ZWxSYXRpbyxsPXQucGlja2VkQ29sb3IsaD10LnBpY2tlZExheWVyLGY9dC5waWNrZWRPYmplY3RJbmRleCxkPWg/W2hdOltdO2lmKCJob3ZlciI9PT1yKXt2YXIgdj1uLmluZGV4LHA9bi5sYXllcklkLGc9aCYmaC5wcm9wcy5pZDtpZihnIT09cHx8ZiE9PXYpe2lmKGchPT1wKXt2YXIgeT1pLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3BzLmlkPT09cH0pKTt5JiZkLnVuc2hpZnQoeSl9bi5sYXllcklkPWcsbi5pbmRleD1mLG4uaW5mbz1udWxsfX12YXIgbT17dmlld3BvcnRzOmF9LnZpZXdwb3J0c1swXSxiPW0mJm0udW5wcm9qZWN0KFtvLHNdLHt0YXJnZXRaOnV9KSxfPXtjb2xvcjpudWxsLGxheWVyOm51bGwsaW5kZXg6LTEscGlja2VkOiExLHg6byx5OnMscGl4ZWw6W28sc10sY29vcmRpbmF0ZTpiLGxuZ0xhdDpiLGRldmljZVBpeGVsOlt0LnBpY2tlZFgsdC5waWNrZWRZXSxwaXhlbFJhdGlvOmN9LE89bmV3IE1hcDtyZXR1cm4gTy5zZXQobnVsbCxfKSxkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5hc3NpZ24oe30sXyk7ZT09PWgmJih0LmNvbG9yPWwsdC5pbmRleD1mLHQucGlja2VkPSEwKSx0PUUoe2xheWVyOmUsaW5mbzp0LG1vZGU6cn0pLGU9PT1oJiYiaG92ZXIiPT09ciYmKG4uaW5mbz10KSx0JiZPLnNldCh0LmxheWVyLmlkLHQpLCJob3ZlciI9PT1yJiZlLnByb3BzLmF1dG9IaWdobGlnaHQmJihlLnNldE1vZHVsZVBhcmFtZXRlcnMoe3BpY2tpbmdTZWxlY3RlZENvbG9yOmg9PT1lP2w6bnVsbH0pLGUuc2V0TmVlZHNSZWRyYXcoKSl9KSksT31mdW5jdGlvbiBFKGUpe2Zvcih2YXIgdD1lLmxheWVyLG49ZS5pbmZvLHI9ZS5tb2RlO3QmJm47KXt2YXIgaT1uLmxheWVyfHx0O24ubGF5ZXI9dCxuPXQuZ2V0UGlja2luZ0luZm8oe2luZm86bixtb2RlOnIsc291cmNlTGF5ZXI6aX0pLHQ9dC5wYXJlbnR9cmV0dXJuIG59dmFyIEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe28oKSh0aGlzLGUpLHRoaXMuZ2w9dCx0aGlzLnBpY2tpbmdGQk89bnVsbCx0aGlzLnBpY2tMYXllcnNQYXNzPW5ldyBrLmEodCksdGhpcy5sYXllckZpbHRlcj1udWxsLHRoaXMubGFzdFBpY2tlZEluZm89e2luZGV4Oi0xLGxheWVySWQ6bnVsbCxpbmZvOm51bGx9LHRoaXMuX29uRXJyb3I9bnVsbH1yZXR1cm4gdSgpKGUsW3trZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXsibGF5ZXJGaWx0ZXIiaW4gZSYmKHRoaXMubGF5ZXJGaWx0ZXI9ZS5sYXllckZpbHRlciksIm9uRXJyb3IiaW4gZSYmKHRoaXMuX29uRXJyb3I9ZS5vbkVycm9yKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGlja2luZ0ZCTyYmdGhpcy5waWNraW5nRkJPLmRlbGV0ZSgpLHRoaXMuZGVwdGhGQk8mJih0aGlzLmRlcHRoRkJPLmNvbG9yLmRlbGV0ZSgpLHRoaXMuZGVwdGhGQk8uZGVsZXRlKCkpfX0se2tleToicGlja09iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BpY2tDbG9zZXN0T2JqZWN0KGUpfX0se2tleToicGlja09iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9waWNrVmlzaWJsZU9iamVjdHMoZSl9fSx7a2V5OiJnZXRMYXN0UGlja2VkT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLngsbj1lLnkscj1lLmxheWVycyxpPWUudmlld3BvcnRzLGE9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMubGFzdFBpY2tlZEluZm8uaW5mbyxvPWEmJmEubGF5ZXImJmEubGF5ZXIuaWQscz1vP3IuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1vfSkpOm51bGwsdT1pWzBdJiZpWzBdLnVucHJvamVjdChbdCxuXSksYz17eDp0LHk6bixjb29yZGluYXRlOnUsbG5nTGF0OnUsbGF5ZXI6c307cmV0dXJuIHM/T2JqZWN0LmFzc2lnbih7fSxhLGMpOk9iamVjdC5hc3NpZ24oYyx7Y29sb3I6bnVsbCxvYmplY3Q6bnVsbCxpbmRleDotMX0pfX0se2tleToiX3Jlc2l6ZUJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO3JldHVybiB0aGlzLnBpY2tpbmdGQk98fCh0aGlzLnBpY2tpbmdGQk89bmV3IE8uYShlKSxPLmEuaXNTdXBwb3J0ZWQoZSx7Y29sb3JCdWZmZXJGbG9hdDohMH0pJiYodGhpcy5kZXB0aEZCTz1uZXcgTy5hKGUpLHRoaXMuZGVwdGhGQk8uYXR0YWNoKGkoKSh7fSwzNjA2NCxuZXcgeC5hKGUse2Zvcm1hdDpPYmplY3Qody5nKShlKT8zNDgzNjo2NDA4LHR5cGU6NTEyNn0pKSkpKSx0aGlzLnBpY2tpbmdGQk8ucmVzaXplKHt3aWR0aDplLmNhbnZhcy53aWR0aCxoZWlnaHQ6ZS5jYW52YXMuaGVpZ2h0fSksdGhpcy5kZXB0aEZCTy5yZXNpemUoe3dpZHRoOmUuY2FudmFzLndpZHRoLGhlaWdodDplLmNhbnZhcy5oZWlnaHR9KSx0aGlzLnBpY2tpbmdGQk99fSx7a2V5OiJfcGlja0Nsb3Nlc3RPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGF5ZXJzLG49ZS52aWV3cG9ydHMscj1lLngsaT1lLnksYT1lLnJhZGl1cyxvPXZvaWQgMD09PWE/MDphLHM9ZS5kZXB0aCx1PXZvaWQgMD09PXM/MTpzLGM9ZS5tb2RlLGw9dm9pZCAwPT09Yz8icXVlcnkiOmMsaD1lLnVucHJvamVjdDNELGY9ZS5vblZpZXdwb3J0QWN0aXZlO3RoaXMuX3Jlc2l6ZUJ1ZmZlcigpO2Zvcih2YXIgZCx2PU9iamVjdCh3LmMpKHRoaXMuZ2wpLHA9T2JqZWN0KHcuYikodGhpcy5nbCxbcixpXSwhMCksZz1bcC54K01hdGguZmxvb3IocC53aWR0aC8yKSxwLnkrTWF0aC5mbG9vcihwLmhlaWdodC8yKV0seT1NYXRoLnJvdW5kKG8qdiksbT10aGlzLnBpY2tpbmdGQk8sYj1tLndpZHRoLF89bS5oZWlnaHQsTz10aGlzLl9nZXRQaWNraW5nUmVjdCh7ZGV2aWNlWDpnWzBdLGRldmljZVk6Z1sxXSxkZXZpY2VSYWRpdXM6eSxkZXZpY2VXaWR0aDpiLGRldmljZUhlaWdodDpffSkseD1bXSxTPXt9LGs9MDtrPHU7aysrKXt2YXIgUD1qKHtwaWNrZWRDb2xvcnM6TyYmdGhpcy5fZHJhd0FuZFNhbXBsZSh7bGF5ZXJzOnQsdmlld3BvcnRzOm4sb25WaWV3cG9ydEFjdGl2ZTpmLGRldmljZVJlY3Q6TyxwYXNzOiJwaWNraW5nOiIuY29uY2F0KGwpLHJlZHJhd1JlYXNvbjpsfSksbGF5ZXJzOnQsZGV2aWNlWDpnWzBdLGRldmljZVk6Z1sxXSxkZXZpY2VSYWRpdXM6eSxkZXZpY2VSZWN0Ok99KSxFPXZvaWQgMDtpZihQLnBpY2tlZExheWVyJiZoJiZ0aGlzLmRlcHRoRkJPKUU9dGhpcy5fZHJhd0FuZFNhbXBsZSh7bGF5ZXJzOltQLnBpY2tlZExheWVyXSx2aWV3cG9ydHM6bixvblZpZXdwb3J0QWN0aXZlOmYsZGV2aWNlUmVjdDp7eDpQLnBpY2tlZFgseTpQLnBpY2tlZFksd2lkdGg6MSxoZWlnaHQ6MX0scGFzczoicGlja2luZzoiLmNvbmNhdChsKSxyZWRyYXdSZWFzb246InBpY2steiIscGlja1o6ITB9KVswXSpuWzBdLmRpc3RhbmNlU2NhbGVzLm1ldGVyc1BlclVuaXRbMl0rblswXS5wb3NpdGlvblsyXTtpZihQLnBpY2tlZENvbG9yJiZrKzE8dSl7dmFyIEE9UC5waWNrZWRDb2xvclszXS0xO1NbQV09ITAsdFtBXS5jbGVhclBpY2tpbmdDb2xvcihQLnBpY2tlZENvbG9yKX1kPVQoe3BpY2tJbmZvOlAsbGFzdFBpY2tlZEluZm86dGhpcy5sYXN0UGlja2VkSW5mbyxtb2RlOmwsbGF5ZXJzOnQsdmlld3BvcnRzOm4seDpyLHk6aSx6OkUscGl4ZWxSYXRpbzp2fSk7dmFyIE09ITAsQz0hMSxMPXZvaWQgMDt0cnl7Zm9yKHZhciBJLFI9ZC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShNPShJPVIubmV4dCgpKS5kb25lKTtNPSEwKXt2YXIgRD1JLnZhbHVlO0QubGF5ZXImJngucHVzaChEKX19Y2F0Y2goZSl7Qz0hMCxMPWV9ZmluYWxseXt0cnl7TXx8bnVsbD09Ui5yZXR1cm58fFIucmV0dXJuKCl9ZmluYWxseXtpZihDKXRocm93IEx9fWlmKCFQLnBpY2tlZENvbG9yKWJyZWFrfWZvcih2YXIgRiBpbiBTKXRbRl0ucmVzdG9yZVBpY2tpbmdDb2xvcnMoKTtyZXR1cm57cmVzdWx0OngsZW1wdHlJbmZvOmQmJmQuZ2V0KG51bGwpfX19LHtrZXk6Il9waWNrVmlzaWJsZU9iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGF5ZXJzLG49ZS52aWV3cG9ydHMscj1lLngsaT1lLnksYT1lLndpZHRoLG89dm9pZCAwPT09YT8xOmEscz1lLmhlaWdodCx1PXZvaWQgMD09PXM/MTpzLGM9ZS5tb2RlLGw9dm9pZCAwPT09Yz8icXVlcnkiOmMsaD1lLm9uVmlld3BvcnRBY3RpdmU7dGhpcy5fcmVzaXplQnVmZmVyKCk7dmFyIGQ9T2JqZWN0KHcuYykodGhpcy5nbCksdj1PYmplY3Qody5iKSh0aGlzLmdsLFtyLGldLCEwKSxwPXYueCxnPXYueSt2LmhlaWdodCx5PU9iamVjdCh3LmIpKHRoaXMuZ2wsW3IrbyxpK3VdLCEwKSxtPXkueCt5LndpZHRoLGI9eS55LF89e3g6cCx5OmIsd2lkdGg6bS1wLGhlaWdodDpnLWJ9LE89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5waWNrZWRDb2xvcnMsbj1lLmxheWVycyxyPW5ldyBNYXA7aWYodClmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krPTQpe3ZhciBhPXRbaSszXS0xO2lmKGE+PTApe3ZhciBvPXQuc2xpY2UoaSxpKzQpLHM9by5qb2luKCIsIik7aWYoIXIuaGFzKHMpKXt2YXIgdT1uW2FdO3U/ci5zZXQocyx7cGlja2VkQ29sb3I6byxwaWNrZWRMYXllcjp1LHBpY2tlZE9iamVjdEluZGV4OnUuZGVjb2RlUGlja2luZ0NvbG9yKG8pfSk6Zi5hLmVycm9yKCJQaWNrZWQgbm9uLWV4aXN0ZW50IGxheWVyLiBJcyBwaWNraW5nIGJ1ZmZlciBjb3JydXB0PyIpKCl9fX1yZXR1cm4gQXJyYXkuZnJvbShyLnZhbHVlcygpKX0oe3BpY2tlZENvbG9yczp0aGlzLl9kcmF3QW5kU2FtcGxlKHtsYXllcnM6dCx2aWV3cG9ydHM6bixvblZpZXdwb3J0QWN0aXZlOmgsZGV2aWNlUmVjdDpfLHBhc3M6InBpY2tpbmc6Ii5jb25jYXQobCkscmVkcmF3UmVhc29uOmx9KSxsYXllcnM6dH0pLHg9bmV3IE1hcDtyZXR1cm4gTy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD17Y29sb3I6ZS5waWNrZWRDb2xvcixsYXllcjpudWxsLGluZGV4OmUucGlja2VkT2JqZWN0SW5kZXgscGlja2VkOiEwLHg6cix5Omksd2lkdGg6byxoZWlnaHQ6dSxwaXhlbFJhdGlvOmR9O3Q9RSh7bGF5ZXI6ZS5waWNrZWRMYXllcixpbmZvOnQsbW9kZTpsfSkseC5oYXModC5vYmplY3QpfHx4LnNldCh0Lm9iamVjdCx0KX0pKSxBcnJheS5mcm9tKHgudmFsdWVzKCkpfX0se2tleToiX2RyYXdBbmRTYW1wbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGF5ZXJzLG49ZS52aWV3cG9ydHMscj1lLm9uVmlld3BvcnRBY3RpdmUsaT1lLmRldmljZVJlY3QsYT1lLnBhc3Msbz1lLnJlZHJhd1JlYXNvbixzPWUucGlja1o7aWYoT2JqZWN0KGwuYSkoaS53aWR0aD4wJiZpLmhlaWdodD4wKSx0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNQaWNrYWJsZSgpfSkpLmxlbmd0aDwxKXJldHVybiBudWxsO3ZhciB1PXM/dGhpcy5kZXB0aEZCTzp0aGlzLnBpY2tpbmdGQk87dGhpcy5waWNrTGF5ZXJzUGFzcy5yZW5kZXIoe2xheWVyczp0LGxheWVyRmlsdGVyOnRoaXMubGF5ZXJGaWx0ZXIsb25FcnJvcjp0aGlzLl9vbkVycm9yLHZpZXdwb3J0czpuLG9uVmlld3BvcnRBY3RpdmU6cixwaWNraW5nRkJPOnUsZGV2aWNlUmVjdDppLHBhc3M6YSxyZWRyYXdSZWFzb246byxwaWNrWjpzfSk7dmFyIGM9aS54LGg9aS55LGY9aS53aWR0aCxkPWkuaGVpZ2h0LHY9bmV3KHM/RmxvYXQzMkFycmF5OlVpbnQ4QXJyYXkpKGYqZCo0KTtyZXR1cm4gT2JqZWN0KFMuYykodSx7c291cmNlWDpjLHNvdXJjZVk6aCxzb3VyY2VXaWR0aDpmLHNvdXJjZUhlaWdodDpkLHRhcmdldDp2fSksdn19LHtrZXk6Il9nZXRQaWNraW5nUmVjdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXZpY2VYLG49ZS5kZXZpY2VZLHI9ZS5kZXZpY2VSYWRpdXMsaT1lLmRldmljZVdpZHRoLGE9ZS5kZXZpY2VIZWlnaHQsbz1NYXRoLm1heCgwLHQtcikscz1NYXRoLm1heCgwLG4tciksdT1NYXRoLm1pbihpLHQrcisxKS1vLGM9TWF0aC5taW4oYSxuK3IrMSktcztyZXR1cm4gdTw9MHx8Yzw9MD9udWxsOnt4Om8seTpzLHdpZHRoOnUsaGVpZ2h0OmN9fX1dKSxlfSgpLE09e3pJbmRleDoxLHBvc2l0aW9uOiJhYnNvbHV0ZSIscG9pbnRlckV2ZW50czoibm9uZSIsY29sb3I6IiNhMGE3YjQiLGJhY2tncm91bmRDb2xvcjoiIzI5MzIzYyIscGFkZGluZzoiMTBweCIsdG9wOjAsbGVmdDowLGRpc3BsYXk6Im5vbmUifSxDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKCkodGhpcyxlKTt2YXIgbj10LnBhcmVudEVsZW1lbnQ7biYmKHRoaXMuZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbC5jbGFzc05hbWU9ImRlY2stdG9vbHRpcCIsT2JqZWN0LmFzc2lnbih0aGlzLmVsLnN0eWxlLE0pLG4uYXBwZW5kQ2hpbGQodGhpcy5lbCkpfXJldHVybiB1KCkoZSxbe2tleToic2V0VG9vbHRpcCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZWw7aWYoInN0cmluZyI9PXR5cGVvZiBlKXIuaW5uZXJUZXh0PWU7ZWxzZXtpZighZSlyZXR1cm4gdm9pZChyLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTsidGV4dCJpbiBlJiYoci5pbm5lclRleHQ9ZS50ZXh0KSwiaHRtbCJpbiBlJiYoci5pbm5lckhUTUw9ZS5odG1sKSwiY2xhc3NOYW1lImluIGUmJihyLmNsYXNzTmFtZT1lLmNsYXNzTmFtZSksT2JqZWN0LmFzc2lnbihyLnN0eWxlLGUuc3R5bGUpfXIuc3R5bGUuZGlzcGxheT0iYmxvY2siLHIuc3R5bGUudHJhbnNmb3JtPSJ0cmFuc2xhdGUoIi5jb25jYXQodCwicHgsICIpLmNvbmNhdChuLCJweCkiKX19LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsJiZ0aGlzLmVsLnJlbW92ZSgpfX1dKSxlfSgpLEw9bigxNzIpLEk9bigzNCksUj1uKDI2KSxEPW4oOCksRj1uLm4oRCksTj1uKDEzKSx6PW4oNSksQj1uKDYpLFU9bigxMzApLFY9bigyOSksRz1uKDE2KSxXPW4oMTUpLEg9bigzOCkscT1uKDE3KSxYPW4oNDgpLFo9bigyNTQpLFk9bigxNzMpLEs9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHouYSkodGhpcyx0KSwobj1PYmplY3QoRy5hKSh0aGlzLE9iamVjdChXLmEpKHQpLmNhbGwodGhpcyxlLHIpKSkudGFyZ2V0PW51bGwsbi5fcXVlcnlQZW5kaW5nPSExLG4uX3BvbGxpbmdQcm9taXNlPW51bGwsT2JqZWN0LnNlYWwoT2JqZWN0KEguYSkobikpLG59cmV0dXJuIE9iamVjdChxLmEpKHQsZSksT2JqZWN0KEIuYSkodCxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49T2JqZWN0KHcuZykoZSkscj1PYmplY3QoWi5jKShlLFkuYS5USU1FUl9RVUVSWSksaT1ufHxyLGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShhPSh1PWMubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgbD11LnZhbHVlO3N3aXRjaChsKXtjYXNlInF1ZXJpZXMiOmk9aSYmbjticmVhaztjYXNlInRpbWVycyI6aT1pJiZyO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KFYuYSkoITEpfX19Y2F0Y2goZSl7bz0hMCxzPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fXJldHVybiBpfX1dKSxPYmplY3QoQi5hKSh0LFt7a2V5OiJiZWdpblRpbWVFbGFwc2VkUXVlcnkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4oMzUwMDcpfX0se2tleToiYmVnaW5PY2NsdXNpb25RdWVyeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmNvbnNlcnZhdGl2ZSxuPXZvaWQgMCE9PXQmJnQ7cmV0dXJuIHRoaXMuYmVnaW4obj8zNjIwMjozNTg4Nyl9fSx7a2V5OiJiZWdpblRyYW5zZm9ybUZlZWRiYWNrUXVlcnkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4oMzU5NzYpfX0se2tleToiYmVnaW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9xdWVyeVBlbmRpbmc/dGhpczoodGhpcy50YXJnZXQ9ZSx0aGlzLmdsLmJlZ2luUXVlcnkodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLHRoaXMpfX0se2tleToiZW5kIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWVyeVBlbmRpbmc/dGhpczoodGhpcy50YXJnZXQmJih0aGlzLmdsLmVuZFF1ZXJ5KHRoaXMudGFyZ2V0KSx0aGlzLnRhcmdldD1udWxsLHRoaXMuX3F1ZXJ5UGVuZGluZz0hMCksdGhpcyl9fSx7a2V5OiJpc1Jlc3VsdEF2YWlsYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5fcXVlcnlQZW5kaW5nKXJldHVybiExO3ZhciBlPXRoaXMuZ2wuZ2V0UXVlcnlQYXJhbWV0ZXIodGhpcy5oYW5kbGUsMzQ5MTkpO3JldHVybiBlJiYodGhpcy5fcXVlcnlQZW5kaW5nPSExKSxlfX0se2tleToiaXNUaW1lckRpc2pvaW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmdldFBhcmFtZXRlcigzNjc5NSl9fSx7a2V5OiJnZXRSZXN1bHQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0UXVlcnlQYXJhbWV0ZXIodGhpcy5oYW5kbGUsMzQ5MTgpfX0se2tleToiZ2V0VGltZXJNaWxsaXNlY29uZHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVzdWx0KCkvMWU2fX0se2tleToiY3JlYXRlUG9sbCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOk51bWJlci5QT1NJVElWRV9JTkZJTklUWTtpZih0aGlzLl9wb2xsaW5nUHJvbWlzZSlyZXR1cm4gdGhpcy5fcG9sbGluZ1Byb21pc2U7dmFyIG49MDtyZXR1cm4gdGhpcy5fcG9sbGluZ1Byb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbiBhKCl7ZS5pc1Jlc3VsdEF2YWlsYWJsZSgpPyhyKGUuZ2V0UmVzdWx0KCkpLGUuX3BvbGxpbmdQcm9taXNlPW51bGwpOm4rKz50PyhpKCJUaW1lZCBvdXQiKSxlLl9wb2xsaW5nUHJvbWlzZT1udWxsKTpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYSl9KSl9KSksdGhpcy5fcG9sbGluZ1Byb21pc2V9fSx7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0LmlzU3VwcG9ydGVkKHRoaXMuZ2wpP3RoaXMuZ2wuY3JlYXRlUXVlcnkoKTpudWxsfX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVF1ZXJ5KHRoaXMuaGFuZGxlKX19XSksdH0oWC5hKTtmdW5jdGlvbiBRKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU/d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGUpOmNsZWFyVGltZW91dChlKX12YXIgSiwkLGVlPU9iamVjdChJLmlzQnJvd3NlcikoKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCx0ZT0wLG5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qoei5hKSh0aGlzLGUpO3ZhciBuPXQub25DcmVhdGVDb250ZXh0LHI9dm9pZCAwPT09bj9mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHcuYSkoZSl9Om4saT10Lm9uQWRkSFRNTCxhPXZvaWQgMD09PWk/bnVsbDppLG89dC5vbkluaXRpYWxpemUscz12b2lkIDA9PT1vP2Z1bmN0aW9uKCl7fTpvLHU9dC5vblJlbmRlcixjPXZvaWQgMD09PXU/ZnVuY3Rpb24oKXt9OnUsbD10Lm9uRmluYWxpemUsaD12b2lkIDA9PT1sP2Z1bmN0aW9uKCl7fTpsLGY9dC5nbCxkPXZvaWQgMD09PWY/bnVsbDpmLHY9dC5nbE9wdGlvbnMscD12b2lkIDA9PT12P3t9OnYsZz10LmRlYnVnLHk9dm9pZCAwIT09ZyYmZyxtPXQuY3JlYXRlRnJhbWVidWZmZXIsYj12b2lkIDAhPT1tJiZtLF89dC5hdXRvUmVzaXplVmlld3BvcnQsTz12b2lkIDA9PT1ffHxfLHg9dC5hdXRvUmVzaXplRHJhd2luZ0J1ZmZlcixTPXZvaWQgMD09PXh8fHgsaz10LnN0YXRzLFA9dm9pZCAwPT09az9VLmEuZ2V0KCJhbmltYXRpb24tbG9vcC0iLmNvbmNhdCh0ZSsrKSk6ayxqPXQudXNlRGV2aWNlUGl4ZWxzLFQ9dm9pZCAwPT09anx8ajsidXNlRGV2aWNlUGl4ZWxSYXRpbyJpbiB0JiYody5oLmRlcHJlY2F0ZWQoInVzZURldmljZVBpeGVsUmF0aW8iLCJ1c2VEZXZpY2VQaXhlbHMiKSgpLFQ9dC51c2VEZXZpY2VQaXhlbFJhdGlvKSx0aGlzLnByb3BzPXtvbkNyZWF0ZUNvbnRleHQ6cixvbkFkZEhUTUw6YSxvbkluaXRpYWxpemU6cyxvblJlbmRlcjpjLG9uRmluYWxpemU6aCxnbDpkLGdsT3B0aW9uczpwLGRlYnVnOnksY3JlYXRlRnJhbWVidWZmZXI6Yn0sdGhpcy5nbD1kLHRoaXMubmVlZHNSZWRyYXc9bnVsbCx0aGlzLnRpbWVsaW5lPW51bGwsdGhpcy5zdGF0cz1QLHRoaXMuY3B1VGltZT10aGlzLnN0YXRzLmdldCgiQ1BVIFRpbWUiKSx0aGlzLmdwdVRpbWU9dGhpcy5zdGF0cy5nZXQoIkdQVSBUaW1lIiksdGhpcy5mcmFtZVJhdGU9dGhpcy5zdGF0cy5nZXQoIkZyYW1lIFJhdGUiKSx0aGlzLl9pbml0aWFsaXplZD0hMSx0aGlzLl9ydW5uaW5nPSExLHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQ9bnVsbCx0aGlzLl9uZXh0RnJhbWVQcm9taXNlPW51bGwsdGhpcy5fcmVzb2x2ZU5leHRGcmFtZT1udWxsLHRoaXMuX2NwdVN0YXJ0VGltZT0wLHRoaXMuc2V0UHJvcHMoe2F1dG9SZXNpemVWaWV3cG9ydDpPLGF1dG9SZXNpemVEcmF3aW5nQnVmZmVyOlMsdXNlRGV2aWNlUGl4ZWxzOlR9KSx0aGlzLnN0YXJ0PXRoaXMuc3RhcnQuYmluZCh0aGlzKSx0aGlzLnN0b3A9dGhpcy5zdG9wLmJpbmQodGhpcyksdGhpcy5fcGFnZUxvYWRQcm9taXNlPW51bGwsdGhpcy5fb25Nb3VzZW1vdmU9dGhpcy5fb25Nb3VzZW1vdmUuYmluZCh0aGlzKSx0aGlzLl9vbk1vdXNlbGVhdmU9dGhpcy5fb25Nb3VzZWxlYXZlLmJpbmQodGhpcyl9dmFyIHQ7cmV0dXJuIE9iamVjdChCLmEpKGUsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSx0aGlzLl9zZXREaXNwbGF5KG51bGwpfX0se2tleToic2V0TmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoVi5hKSgic3RyaW5nIj09dHlwZW9mIGUpLHRoaXMubmVlZHNSZWRyYXc9dGhpcy5uZWVkc1JlZHJhd3x8ZSx0aGlzfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJhdXRvUmVzaXplVmlld3BvcnQiaW4gZSYmKHRoaXMuYXV0b1Jlc2l6ZVZpZXdwb3J0PWUuYXV0b1Jlc2l6ZVZpZXdwb3J0KSwiYXV0b1Jlc2l6ZURyYXdpbmdCdWZmZXIiaW4gZSYmKHRoaXMuYXV0b1Jlc2l6ZURyYXdpbmdCdWZmZXI9ZS5hdXRvUmVzaXplRHJhd2luZ0J1ZmZlciksInVzZURldmljZVBpeGVscyJpbiBlJiYodGhpcy51c2VEZXZpY2VQaXhlbHM9ZS51c2VEZXZpY2VQaXhlbHMpLHRoaXN9fSx7a2V5OiJzdGFydCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB0aGlzLl9ydW5uaW5nP3RoaXM6KHRoaXMuX3J1bm5pbmc9ITAsdGhpcy5fZ2V0UGFnZUxvYWRQcm9taXNlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4hZS5fcnVubmluZ3x8ZS5faW5pdGlhbGl6ZWQ/bnVsbDooZS5fY3JlYXRlV2ViR0xDb250ZXh0KHQpLGUuX2NyZWF0ZUZyYW1lYnVmZmVyKCksZS5fc3RhcnRFdmVudEhhbmRsaW5nKCksZS5faW5pdGlhbGl6ZUNhbGxiYWNrRGF0YSgpLGUuX3VwZGF0ZUNhbGxiYWNrRGF0YSgpLGUuX3Jlc2l6ZUNhbnZhc0RyYXdpbmdCdWZmZXIoKSxlLl9yZXNpemVWaWV3cG9ydCgpLGUuX2dwdVRpbWVRdWVyeT1LLmlzU3VwcG9ydGVkKGUuZ2wsWyJ0aW1lcnMiXSk/bmV3IEsoZS5nbCk6bnVsbCxlLl9pbml0aWFsaXplZD0hMCxlLm9uSW5pdGlhbGl6ZShlLmFuaW1hdGlvblByb3BzKSl9KSkudGhlbigoZnVuY3Rpb24odCl7ZS5fcnVubmluZyYmKGUuX2FkZENhbGxiYWNrRGF0YSh0fHx7fSksITEhPT10JiZlLl9zdGFydExvb3AoKSl9KSksdGhpcyl9fSx7a2V5OiJyZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JlZ2luVGltZXJzKCksdGhpcy5fc2V0dXBGcmFtZSgpLHRoaXMuX3VwZGF0ZUNhbGxiYWNrRGF0YSgpLHRoaXMuX3JlbmRlckZyYW1lKHRoaXMuYW5pbWF0aW9uUHJvcHMpLHRoaXMuX2NsZWFyTmVlZHNSZWRyYXcoKSx0aGlzLm9mZlNjcmVlbiYmdGhpcy5nbC5jb21taXQmJnRoaXMuZ2wuY29tbWl0KCksdGhpcy5fcmVzb2x2ZU5leHRGcmFtZSYmKHRoaXMuX3Jlc29sdmVOZXh0RnJhbWUodGhpcyksdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCksdGhpcy5fZW5kVGltZXJzKCksdGhpc319LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bm5pbmcmJih0aGlzLl9maW5hbGl6ZUNhbGxiYWNrRGF0YSgpLFEodGhpcy5fYW5pbWF0aW9uRnJhbWVJZCksdGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1udWxsLHRoaXMuX3Jlc29sdmVOZXh0RnJhbWU9bnVsbCx0aGlzLl9hbmltYXRpb25GcmFtZUlkPW51bGwsdGhpcy5fcnVubmluZz0hMSksdGhpc319LHtrZXk6ImF0dGFjaFRpbWVsaW5lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aW1lbGluZT1lLHRoaXMudGltZWxpbmV9fSx7a2V5OiJkZXRhY2hUaW1lbGluZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRpbWVsaW5lPW51bGx9fSx7a2V5OiJ3YWl0Rm9yUmVuZGVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuc2V0TmVlZHNSZWRyYXcoIndhaXRGb3JSZW5kZXIiKSx0aGlzLl9uZXh0RnJhbWVQcm9taXNlfHwodGhpcy5fbmV4dEZyYW1lUHJvbWlzZT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7ZS5fcmVzb2x2ZU5leHRGcmFtZT10fSkpKSx0aGlzLl9uZXh0RnJhbWVQcm9taXNlfX0se2tleToidG9EYXRhVVJMIix2YWx1ZToodD1PYmplY3QoTi5hKShGLmEubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiBGLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuc2V0TmVlZHNSZWRyYXcoInRvRGF0YVVSTCIpLGUubmV4dD0zLHRoaXMud2FpdEZvclJlbmRlcigpO2Nhc2UgMzpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdGhpcy5nbC5jYW52YXMudG9EYXRhVVJMKCkpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Im9uQ3JlYXRlQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT10aGlzLnByb3BzKS5vbkNyZWF0ZUNvbnRleHQuYXBwbHkoZSxhcmd1bWVudHMpfX0se2tleToib25Jbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3JldHVybihlPXRoaXMucHJvcHMpLm9uSW5pdGlhbGl6ZS5hcHBseShlLGFyZ3VtZW50cyl9fSx7a2V5OiJvblJlbmRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT10aGlzLnByb3BzKS5vblJlbmRlci5hcHBseShlLGFyZ3VtZW50cyl9fSx7a2V5OiJvbkZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3JldHVybihlPXRoaXMucHJvcHMpLm9uRmluYWxpemUuYXBwbHkoZSxhcmd1bWVudHMpfX0se2tleToiZ2V0SFRNTENvbnRyb2xWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9OdW1iZXIobi52YWx1ZSk6dH19LHtrZXk6InNldFZpZXdQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB3LmgucmVtb3ZlZCgiQW5pbWF0aW9uTG9vcC5zZXRWaWV3UGFyYW1ldGVycyIsIkFuaW1hdGlvbkxvb3Auc2V0UHJvcHMiKSgpLHRoaXN9fSx7a2V5OiJfc3RhcnRMb29wIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7USh0aGlzLl9hbmltYXRpb25GcmFtZUlkKSx0aGlzLl9hbmltYXRpb25GcmFtZUlkPXRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24gdCgpe2UuX3J1bm5pbmcmJihlLnJlZHJhdygpLGUuX2FuaW1hdGlvbkZyYW1lSWQ9ZS5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpKX0pKX19LHtrZXk6Il9nZXRQYWdlTG9hZFByb21pc2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZ2VMb2FkUHJvbWlzZXx8KHRoaXMuX3BhZ2VMb2FkUHJvbWlzZT1lZT9uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtlZSYmImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/ZShkb2N1bWVudCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbigpe2UoZG9jdW1lbnQpfSkpfSkpOlByb21pc2UucmVzb2x2ZSh7fSkpLHRoaXMuX3BhZ2VMb2FkUHJvbWlzZX19LHtrZXk6Il9zZXREaXNwbGF5Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmRpc3BsYXkmJih0aGlzLmRpc3BsYXkuZGVsZXRlKCksdGhpcy5kaXNwbGF5LmFuaW1hdGlvbkxvb3A9bnVsbCksZSYmKGUuYW5pbWF0aW9uTG9vcD10aGlzKSx0aGlzLmRpc3BsYXk9ZX19LHtrZXk6Il9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0O3RoaXMuZGlzcGxheSYmdGhpcy5kaXNwbGF5LnJlcXVlc3RBbmltYXRpb25GcmFtZShlKXx8KHQ9ZSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpOnNldFRpbWVvdXQodCwxZTMvNjApKX19LHtrZXk6Il9yZW5kZXJGcmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLmRpc3BsYXk/KGU9dGhpcy5kaXNwbGF5KS5fcmVuZGVyRnJhbWUuYXBwbHkoZSxhcmd1bWVudHMpOnRoaXMub25SZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0se2tleToiX2NsZWFyTmVlZHNSZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5uZWVkc1JlZHJhdz1udWxsfX0se2tleToiX3NldHVwRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fb25TZXR1cEZyYW1lP3RoaXMuX29uU2V0dXBGcmFtZSh0aGlzLmFuaW1hdGlvblByb3BzKToodGhpcy5fcmVzaXplQ2FudmFzRHJhd2luZ0J1ZmZlcigpLHRoaXMuX3Jlc2l6ZVZpZXdwb3J0KCksdGhpcy5fcmVzaXplRnJhbWVidWZmZXIoKSl9fSx7a2V5OiJfaW5pdGlhbGl6ZUNhbGxiYWNrRGF0YSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGlvblByb3BzPXtnbDp0aGlzLmdsLHN0b3A6dGhpcy5zdG9wLGNhbnZhczp0aGlzLmdsLmNhbnZhcyxmcmFtZWJ1ZmZlcjp0aGlzLmZyYW1lYnVmZmVyLHVzZURldmljZVBpeGVsczp0aGlzLnVzZURldmljZVBpeGVscyxuZWVkc1JlZHJhdzpudWxsLHN0YXJ0VGltZTpEYXRlLm5vdygpLGVuZ2luZVRpbWU6MCx0aWNrOjAsdG9jazowLHRpbWU6MCxfdGltZWxpbmU6dGhpcy50aW1lbGluZSxfbG9vcDp0aGlzLF9hbmltYXRpb25Mb29wOnRoaXMsX21vdXNlUG9zaXRpb246bnVsbH19fSx7a2V5OiJfdXBkYXRlQ2FsbGJhY2tEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFNpemVBbmRBc3BlY3QoKSx0PWUud2lkdGgsbj1lLmhlaWdodCxyPWUuYXNwZWN0O3Q9PT10aGlzLmFuaW1hdGlvblByb3BzLndpZHRoJiZuPT09dGhpcy5hbmltYXRpb25Qcm9wcy5oZWlnaHR8fHRoaXMuc2V0TmVlZHNSZWRyYXcoImRyYXdpbmcgYnVmZmVyIHJlc2l6ZWQiKSxyIT09dGhpcy5hbmltYXRpb25Qcm9wcy5hc3BlY3QmJnRoaXMuc2V0TmVlZHNSZWRyYXcoImRyYXdpbmcgYnVmZmVyIGFzcGVjdCBjaGFuZ2VkIiksdGhpcy5hbmltYXRpb25Qcm9wcy53aWR0aD10LHRoaXMuYW5pbWF0aW9uUHJvcHMuaGVpZ2h0PW4sdGhpcy5hbmltYXRpb25Qcm9wcy5hc3BlY3Q9cix0aGlzLmFuaW1hdGlvblByb3BzLm5lZWRzUmVkcmF3PXRoaXMubmVlZHNSZWRyYXcsdGhpcy5hbmltYXRpb25Qcm9wcy5lbmdpbmVUaW1lPURhdGUubm93KCktdGhpcy5hbmltYXRpb25Qcm9wcy5zdGFydFRpbWUsdGhpcy50aW1lbGluZSYmdGhpcy50aW1lbGluZS51cGRhdGUodGhpcy5hbmltYXRpb25Qcm9wcy5lbmdpbmVUaW1lKSx0aGlzLmFuaW1hdGlvblByb3BzLnRpY2s9TWF0aC5mbG9vcih0aGlzLmFuaW1hdGlvblByb3BzLnRpbWUvMWUzKjYwKSx0aGlzLmFuaW1hdGlvblByb3BzLnRvY2srKyx0aGlzLmFuaW1hdGlvblByb3BzLnRpbWU9dGhpcy50aW1lbGluZT90aGlzLnRpbWVsaW5lLmdldFRpbWUoKTp0aGlzLmFuaW1hdGlvblByb3BzLmVuZ2luZVRpbWUsdGhpcy5hbmltYXRpb25Qcm9wcy5fb2ZmU2NyZWVuPXRoaXMub2ZmU2NyZWVufX0se2tleToiX2ZpbmFsaXplQ2FsbGJhY2tEYXRhIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub25GaW5hbGl6ZSh0aGlzLmFuaW1hdGlvblByb3BzKX19LHtrZXk6Il9hZGRDYWxsYmFja0RhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpeyJvYmplY3QiPT09T2JqZWN0KFIuYSkoZSkmJm51bGwhPT1lJiYodGhpcy5hbmltYXRpb25Qcm9wcz1PYmplY3QuYXNzaWduKHt9LHRoaXMuYW5pbWF0aW9uUHJvcHMsZSkpfX0se2tleToiX2NyZWF0ZVdlYkdMQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5vZmZTY3JlZW49ZS5jYW52YXMmJiJ1bmRlZmluZWQiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiZlLmNhbnZhcyBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcyxlPU9iamVjdC5hc3NpZ24oe30sZSx0aGlzLnByb3BzLmdsT3B0aW9ucyksdGhpcy5nbD10aGlzLnByb3BzLmdsP09iamVjdCh3LmUpKHRoaXMucHJvcHMuZ2wsZSk6dGhpcy5vbkNyZWF0ZUNvbnRleHQoZSksIU9iamVjdCh3LmYpKHRoaXMuZ2wpKXRocm93IG5ldyBFcnJvcigiQW5pbWF0aW9uTG9vcC5vbkNyZWF0ZUNvbnRleHQgLSBpbGxlZ2FsIGNvbnRleHQgcmV0dXJuZWQiKTtPYmplY3Qody5pKSh0aGlzLmdsKSx0aGlzLl9jcmVhdGVJbmZvRGl2KCl9fSx7a2V5OiJfY3JlYXRlSW5mb0RpdiIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmdsLmNhbnZhcyYmdGhpcy5wcm9wcy5vbkFkZEhUTUwpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksZS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0LnN0eWxlLmxlZnQ9IjEwcHgiLHQuc3R5bGUuYm90dG9tPSIxMHB4Iix0LnN0eWxlLndpZHRoPSIzMDBweCIsdC5zdHlsZS5iYWNrZ3JvdW5kPSJ3aGl0ZSIsZS5hcHBlbmRDaGlsZCh0aGlzLmdsLmNhbnZhcyksZS5hcHBlbmRDaGlsZCh0KTt2YXIgbj10aGlzLnByb3BzLm9uQWRkSFRNTCh0KTtuJiYodC5pbm5lckhUTUw9bil9fX0se2tleToiX2dldFNpemVBbmRBc3BlY3QiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsdD10aGlzLmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsbj0xLHI9dGhpcy5nbC5jYW52YXM7cmV0dXJuIHImJnIuY2xpZW50SGVpZ2h0P249ci5jbGllbnRXaWR0aC9yLmNsaWVudEhlaWdodDplPjAmJnQ+MCYmKG49ZS90KSx7d2lkdGg6ZSxoZWlnaHQ6dCxhc3BlY3Q6bn19fSx7a2V5OiJfcmVzaXplVmlld3BvcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hdXRvUmVzaXplVmlld3BvcnQmJnRoaXMuZ2wudmlld3BvcnQoMCwwLHRoaXMuZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLHRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCl9fSx7a2V5OiJfcmVzaXplQ2FudmFzRHJhd2luZ0J1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmF1dG9SZXNpemVEcmF3aW5nQnVmZmVyJiZPYmplY3Qody5qKSh0aGlzLmdsLHt1c2VEZXZpY2VQaXhlbHM6dGhpcy51c2VEZXZpY2VQaXhlbHN9KX19LHtrZXk6Il9jcmVhdGVGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLmNyZWF0ZUZyYW1lYnVmZmVyJiYodGhpcy5mcmFtZWJ1ZmZlcj1uZXcgTy5hKHRoaXMuZ2wpKX19LHtrZXk6Il9yZXNpemVGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyYW1lYnVmZmVyJiZ0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh7d2lkdGg6dGhpcy5nbC5kcmF3aW5nQnVmZmVyV2lkdGgsaGVpZ2h0OnRoaXMuZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH0pfX0se2tleToiX2JlZ2luVGltZXJzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJhbWVSYXRlLnRpbWVFbmQoKSx0aGlzLmZyYW1lUmF0ZS50aW1lU3RhcnQoKSx0aGlzLl9ncHVUaW1lUXVlcnkmJnRoaXMuX2dwdVRpbWVRdWVyeS5pc1Jlc3VsdEF2YWlsYWJsZSgpJiYhdGhpcy5fZ3B1VGltZVF1ZXJ5LmlzVGltZXJEaXNqb2ludCgpJiZ0aGlzLnN0YXRzLmdldCgiR1BVIFRpbWUiKS5hZGRUaW1lKHRoaXMuX2dwdVRpbWVRdWVyeS5nZXRUaW1lck1pbGxpc2Vjb25kcygpKSx0aGlzLl9ncHVUaW1lUXVlcnkmJnRoaXMuX2dwdVRpbWVRdWVyeS5iZWdpblRpbWVFbGFwc2VkUXVlcnkoKSx0aGlzLmNwdVRpbWUudGltZVN0YXJ0KCl9fSx7a2V5OiJfZW5kVGltZXJzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY3B1VGltZS50aW1lRW5kKCksdGhpcy5fZ3B1VGltZVF1ZXJ5JiZ0aGlzLl9ncHVUaW1lUXVlcnkuZW5kKCl9fSx7a2V5OiJfc3RhcnRFdmVudEhhbmRsaW5nIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wuY2FudmFzO2UmJihlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZW1vdmUpLGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsdGhpcy5fb25Nb3VzZWxlYXZlKSl9fSx7a2V5OiJfb25Nb3VzZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuYW5pbWF0aW9uUHJvcHMuX21vdXNlUG9zaXRpb249W2Uub2Zmc2V0WCxlLm9mZnNldFldfX0se2tleToiX29uTW91c2VsZWF2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5hbmltYXRpb25Qcm9wcy5fbW91c2VQb3NpdGlvbj1udWxsfX1dKSxlfSgpLHJlPW4oMjU1KSxpZT1uKDEyMCksYWU9bigyMSksb2U9bigxMzEpLHNlPW4ubihvZSksdWU9e21vdXNlZG93bjoxLG1vdXNlbW92ZToyLG1vdXNldXA6NH07Sj1zZS5hLlBvaW50ZXJFdmVudElucHV0LCQ9Si5wcm90b3R5cGUuaGFuZGxlcixKLnByb3RvdHlwZS5oYW5kbGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RvcmU7ZS5idXR0b24+MCYmKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYodChlW25dKSlyZXR1cm4hMDtyZXR1cm4hMX0odCwoZnVuY3Rpb24odCl7cmV0dXJuIHQucG9pbnRlcklkPT09ZS5wb2ludGVySWR9KSl8fHQucHVzaChlKSksJC5jYWxsKHRoaXMsZSl9LHNlLmEuTW91c2VJbnB1dC5wcm90b3R5cGUuaGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgdD11ZVtlLnR5cGVdOzEmdCYmZS5idXR0b24+PTAmJih0aGlzLnByZXNzZWQ9ITApLDImdCYmMD09PWUud2hpY2gmJih0PTQpLHRoaXMucHJlc3NlZCYmKDQmdCYmKHRoaXMucHJlc3NlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsdCx7cG9pbnRlcnM6W2VdLGNoYW5nZWRQb2ludGVyczpbZV0scG9pbnRlclR5cGU6Im1vdXNlIixzcmNFdmVudDplfSkpfTt2YXIgY2U9c2UuYS5NYW5hZ2VyLGxlPXNlLmEsaGU9bGU/W1tsZS5Sb3RhdGUse2VuYWJsZTohMX1dLFtsZS5QaW5jaCx7ZW5hYmxlOiExfV0sW2xlLlN3aXBlLHtlbmFibGU6ITF9XSxbbGUuUGFuLHt0aHJlc2hvbGQ6MCxlbmFibGU6ITF9XSxbbGUuUHJlc3Mse2VuYWJsZTohMX1dLFtsZS5UYXAse2V2ZW50OiJkb3VibGV0YXAiLHRhcHM6MixlbmFibGU6ITF9XSxbbGUuVGFwLHtldmVudDoiYW55dGFwIixlbmFibGU6ITF9XSxbbGUuVGFwLHtlbmFibGU6ITF9XV06bnVsbCxmZT17cm90YXRlOlsicGluY2giXSxwYW46WyJwcmVzcyIsImRvdWJsZXRhcCIsImFueXRhcCIsInRhcCJdLGRvdWJsZXRhcDpbImFueXRhcCJdLGFueXRhcDpbInRhcCJdfSxkZT17ZG91YmxldGFwOlsidGFwIl19LHZlPXtwb2ludGVyZG93bjoicG9pbnRlcmRvd24iLHBvaW50ZXJtb3ZlOiJwb2ludGVybW92ZSIscG9pbnRlcnVwOiJwb2ludGVydXAiLHRvdWNoc3RhcnQ6InBvaW50ZXJkb3duIix0b3VjaG1vdmU6InBvaW50ZXJtb3ZlIix0b3VjaGVuZDoicG9pbnRlcnVwIixtb3VzZWRvd246InBvaW50ZXJkb3duIixtb3VzZW1vdmU6InBvaW50ZXJtb3ZlIixtb3VzZXVwOiJwb2ludGVydXAifSxwZT1bImtleWRvd24iLCJrZXl1cCJdLGdlPVsibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2VsZWF2ZSJdLHllPVsid2hlZWwiLCJtb3VzZXdoZWVsIiwiRE9NTW91c2VTY3JvbGwiXSxtZT17dGFwOiJ0YXAiLGFueXRhcDoiYW55dGFwIixkb3VibGV0YXA6ImRvdWJsZXRhcCIscHJlc3M6InByZXNzIixwaW5jaDoicGluY2giLHBpbmNoaW46InBpbmNoIixwaW5jaG91dDoicGluY2giLHBpbmNoc3RhcnQ6InBpbmNoIixwaW5jaG1vdmU6InBpbmNoIixwaW5jaGVuZDoicGluY2giLHBpbmNoY2FuY2VsOiJwaW5jaCIscm90YXRlOiJyb3RhdGUiLHJvdGF0ZXN0YXJ0OiJyb3RhdGUiLHJvdGF0ZW1vdmU6InJvdGF0ZSIscm90YXRlZW5kOiJyb3RhdGUiLHJvdGF0ZWNhbmNlbDoicm90YXRlIixwYW46InBhbiIscGFuc3RhcnQ6InBhbiIscGFubW92ZToicGFuIixwYW51cDoicGFuIixwYW5kb3duOiJwYW4iLHBhbmxlZnQ6InBhbiIscGFucmlnaHQ6InBhbiIscGFuZW5kOiJwYW4iLHBhbmNhbmNlbDoicGFuIixzd2lwZToic3dpcGUiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIixzd2lwZXVwOiJzd2lwZSIsc3dpcGVkb3duOiJzd2lwZSJ9LGJlPXtjbGljazoidGFwIixhbnljbGljazoiYW55dGFwIixkYmxjbGljazoiZG91YmxldGFwIixtb3VzZWRvd246InBvaW50ZXJkb3duIixtb3VzZW1vdmU6InBvaW50ZXJtb3ZlIixtb3VzZXVwOiJwb2ludGVydXAiLG1vdXNlb3ZlcjoicG9pbnRlcm92ZXIiLG1vdXNlb3V0OiJwb2ludGVyb3V0Iixtb3VzZWxlYXZlOiJwb2ludGVybGVhdmUifSxfZT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk6IiIsT2U9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Omdsb2JhbCx4ZT0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOndpbmRvdywidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudCwhMSk7dHJ5e3ZhciB3ZT17Z2V0IHBhc3NpdmUoKXtyZXR1cm4geGU9ITAsITB9fTtPZS5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0Iix3ZSx3ZSksT2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsd2Usd2UpfWNhdGNoKGUpe312YXIgU2U9LTEhPT1fZS5pbmRleE9mKCJmaXJlZm94Iiksa2U9eWUsUGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtPYmplY3Qoei5hKSh0aGlzLGUpLHRoaXMuZWxlbWVudD10LHRoaXMuY2FsbGJhY2s9bix0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7ZW5hYmxlOiEwfSxpKSx0aGlzLmV2ZW50cz1rZS5jb25jYXQoaS5ldmVudHN8fFtdKSx0aGlzLmhhbmRsZUV2ZW50PXRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzKSx0aGlzLmV2ZW50cy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKGUsci5oYW5kbGVFdmVudCwhIXhlJiZ7cGFzc2l2ZTohMX0pfSkpfXJldHVybiBPYmplY3QoQi5hKShlLFt7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHQsZS5oYW5kbGVFdmVudCl9KSl9fSx7a2V5OiJlbmFibGVFdmVudFR5cGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7IndoZWVsIj09PWUmJih0aGlzLm9wdGlvbnMuZW5hYmxlPXQpfX0se2tleToiaGFuZGxlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMub3B0aW9ucy5lbmFibGUpe3ZhciB0PWUuZGVsdGFZO09lLldoZWVsRXZlbnQmJihTZSYmZS5kZWx0YU1vZGU9PT1PZS5XaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCYmKHQvPU9lLmRldmljZVBpeGVsUmF0aW8pLGUuZGVsdGFNb2RlPT09T2UuV2hlZWxFdmVudC5ET01fREVMVEFfTElORSYmKHQqPTQwKSk7dmFyIG49e3g6ZS5jbGllbnRYLHk6ZS5jbGllbnRZfTswIT09dCYmdCU0LjAwMDI0NDE0MDYyNT09MCYmKHQ9TWF0aC5mbG9vcih0LzQuMDAwMjQ0MTQwNjI1KSksZS5zaGlmdEtleSYmdCYmKHQqPS4yNSksdGhpcy5fb25XaGVlbChlLC10LG4pfX19LHtrZXk6Il9vbldoZWVsIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5jYWxsYmFjayh7dHlwZToid2hlZWwiLGNlbnRlcjpuLGRlbHRhOnQsc3JjRXZlbnQ6ZSxwb2ludGVyVHlwZToibW91c2UiLHRhcmdldDplLnRhcmdldH0pfX1dKSxlfSgpLGplPWdlLFRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByPXRoaXMsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307T2JqZWN0KHouYSkodGhpcyxlKSx0aGlzLmVsZW1lbnQ9dCx0aGlzLmNhbGxiYWNrPW4sdGhpcy5wcmVzc2VkPSExLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHtlbmFibGU6ITB9LGkpLHRoaXMuZW5hYmxlTW92ZUV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5lbmFibGVMZWF2ZUV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5lbmFibGVPdXRFdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZW5hYmxlT3ZlckV2ZW50PXRoaXMub3B0aW9ucy5lbmFibGUsdGhpcy5ldmVudHM9amUuY29uY2F0KGkuZXZlbnRzfHxbXSksdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksdGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihlLHIuaGFuZGxlRXZlbnQpfSkpfXJldHVybiBPYmplY3QoQi5hKShlLFt7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHQsZS5oYW5kbGVFdmVudCl9KSl9fSx7a2V5OiJlbmFibGVFdmVudFR5cGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7InBvaW50ZXJtb3ZlIj09PWUmJih0aGlzLmVuYWJsZU1vdmVFdmVudD10KSwicG9pbnRlcm92ZXIiPT09ZSYmKHRoaXMuZW5hYmxlT3ZlckV2ZW50PXQpLCJwb2ludGVyb3V0Ij09PWUmJih0aGlzLmVuYWJsZU91dEV2ZW50PXQpLCJwb2ludGVybGVhdmUiPT09ZSYmKHRoaXMuZW5hYmxlTGVhdmVFdmVudD10KX19LHtrZXk6ImhhbmRsZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhbmRsZU92ZXJFdmVudChlKSx0aGlzLmhhbmRsZU91dEV2ZW50KGUpLHRoaXMuaGFuZGxlTGVhdmVFdmVudChlKSx0aGlzLmhhbmRsZU1vdmVFdmVudChlKX19LHtrZXk6ImhhbmRsZU92ZXJFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5lbmFibGVPdmVyRXZlbnQmJiJtb3VzZW92ZXIiPT09ZS50eXBlJiZ0aGlzLmNhbGxiYWNrKHt0eXBlOiJwb2ludGVyb3ZlciIsc3JjRXZlbnQ6ZSxwb2ludGVyVHlwZToibW91c2UiLHRhcmdldDplLnRhcmdldH0pfX0se2tleToiaGFuZGxlT3V0RXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlT3V0RXZlbnQmJiJtb3VzZW91dCI9PT1lLnR5cGUmJnRoaXMuY2FsbGJhY2soe3R5cGU6InBvaW50ZXJvdXQiLHNyY0V2ZW50OmUscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6ZS50YXJnZXR9KX19LHtrZXk6ImhhbmRsZUxlYXZlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlTGVhdmVFdmVudCYmIm1vdXNlbGVhdmUiPT09ZS50eXBlJiZ0aGlzLmNhbGxiYWNrKHt0eXBlOiJwb2ludGVybGVhdmUiLHNyY0V2ZW50OmUscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6ZS50YXJnZXR9KX19LHtrZXk6ImhhbmRsZU1vdmVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5lbmFibGVNb3ZlRXZlbnQpc3dpdGNoKGUudHlwZSl7Y2FzZSJtb3VzZWRvd24iOmUuYnV0dG9uPj0wJiYodGhpcy5wcmVzc2VkPSEwKTticmVhaztjYXNlIm1vdXNlbW92ZSI6MD09PWUud2hpY2gmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMucHJlc3NlZHx8dGhpcy5jYWxsYmFjayh7dHlwZToicG9pbnRlcm1vdmUiLHNyY0V2ZW50OmUscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6ZS50YXJnZXR9KTticmVhaztjYXNlIm1vdXNldXAiOnRoaXMucHJlc3NlZD0hMX19fV0pLGV9KCksRWU9cGUsQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtPYmplY3Qoei5hKSh0aGlzLGUpLHRoaXMuZWxlbWVudD10LHRoaXMuY2FsbGJhY2s9bix0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7ZW5hYmxlOiEwfSxpKSx0aGlzLmVuYWJsZURvd25FdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZW5hYmxlVXBFdmVudD10aGlzLm9wdGlvbnMuZW5hYmxlLHRoaXMuZXZlbnRzPUVlLmNvbmNhdChpLmV2ZW50c3x8W10pLHRoaXMuaGFuZGxlRXZlbnQ9dGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpLHQudGFiSW5kZXg9MSx0LnN0eWxlLm91dGxpbmU9Im5vbmUiLHRoaXMuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxyLmhhbmRsZUV2ZW50KX0pKX1yZXR1cm4gT2JqZWN0KEIuYSkoZSxbe2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZXZlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUuaGFuZGxlRXZlbnQpfSkpfX0se2tleToiZW5hYmxlRXZlbnRUeXBlIix2YWx1ZTpmdW5jdGlvbihlLHQpeyJrZXlkb3duIj09PWUmJih0aGlzLmVuYWJsZURvd25FdmVudD10KSwia2V5dXAiPT09ZSYmKHRoaXMuZW5hYmxlVXBFdmVudD10KX19LHtrZXk6ImhhbmRsZUV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldHx8ZS5zcmNFbGVtZW50OyJJTlBVVCI9PT10LnRhZ05hbWUmJiJ0ZXh0Ij09PXQudHlwZXx8IlRFWFRBUkVBIj09PXQudGFnTmFtZXx8KHRoaXMuZW5hYmxlRG93bkV2ZW50JiYia2V5ZG93biI9PT1lLnR5cGUmJnRoaXMuY2FsbGJhY2soe3R5cGU6ImtleWRvd24iLHNyY0V2ZW50OmUsa2V5OmUua2V5LHRhcmdldDplLnRhcmdldH0pLHRoaXMuZW5hYmxlVXBFdmVudCYmImtleXVwIj09PWUudHlwZSYmdGhpcy5jYWxsYmFjayh7dHlwZToia2V5dXAiLHNyY0V2ZW50OmUsa2V5OmUua2V5LHRhcmdldDplLnRhcmdldH0pKX19XSksZX0oKSxNZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307T2JqZWN0KHouYSkodGhpcyxlKSx0aGlzLmVsZW1lbnQ9dCx0aGlzLmNhbGxiYWNrPW4sdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe2VuYWJsZTohMH0sciksdGhpcy5oYW5kbGVFdmVudD10aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyksdC5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5oYW5kbGVFdmVudCl9cmV0dXJuIE9iamVjdChCLmEpKGUsW3trZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLmhhbmRsZUV2ZW50KX19LHtrZXk6ImVuYWJsZUV2ZW50VHlwZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXsiY29udGV4dG1lbnUiPT09ZSYmKHRoaXMub3B0aW9ucy5lbmFibGU9dCl9fSx7a2V5OiJoYW5kbGVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zLmVuYWJsZSYmdGhpcy5jYWxsYmFjayh7dHlwZToiY29udGV4dG1lbnUiLGNlbnRlcjp7eDplLmNsaWVudFgseTplLmNsaWVudFl9LHNyY0V2ZW50OmUscG9pbnRlclR5cGU6Im1vdXNlIix0YXJnZXQ6ZS50YXJnZXR9KX19XSksZX0oKSxDZT17cG9pbnRlcmRvd246MSxwb2ludGVybW92ZToyLHBvaW50ZXJ1cDo0LG1vdXNlZG93bjoxLG1vdXNlbW92ZToyLG1vdXNldXA6NH07dmFyIExlPXtzcmNFbGVtZW50OiJyb290Iixwcmlvcml0eTowfSxJZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7T2JqZWN0KHouYSkodGhpcyxlKSx0aGlzLmV2ZW50TWFuYWdlcj10LHRoaXMuaGFuZGxlcnM9W10sdGhpcy5oYW5kbGVyc0J5RWxlbWVudD1uZXcgTWFwLHRoaXMuaGFuZGxlRXZlbnQ9dGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpfXJldHVybiBPYmplY3QoQi5hKShlLFt7a2V5OiJpc0VtcHR5Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5oYW5kbGVycy5sZW5ndGh9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGk9dGhpcy5oYW5kbGVycyxhPXRoaXMuaGFuZGxlcnNCeUVsZW1lbnQ7biYmKCJvYmplY3QiIT09T2JqZWN0KFIuYSkobil8fG4uYWRkRXZlbnRMaXN0ZW5lcikmJihuPXtzcmNFbGVtZW50Om59KSxuPW4/T2JqZWN0LmFzc2lnbih7fSxMZSxuKTpMZTt2YXIgbz1hLmdldChuLnNyY0VsZW1lbnQpO298fChvPVtdLGEuc2V0KG4uc3JjRWxlbWVudCxvKSk7dmFyIHM9e3R5cGU6ZSxoYW5kbGVyOnQsc3JjRWxlbWVudDpuLnNyY0VsZW1lbnQscHJpb3JpdHk6bi5wcmlvcml0eSxvbmNlOnJ9O2kucHVzaChzKTtmb3IodmFyIHU9by5sZW5ndGgtMTt1Pj0wJiYhKG9bdV0ucHJpb3JpdHk+PXMucHJpb3JpdHkpOyl1LS07by5zcGxpY2UodSsxLDAscyl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMuaGFuZGxlcnMscj10aGlzLmhhbmRsZXJzQnlFbGVtZW50LGk9bi5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGE9bltpXTtpZihhLnR5cGU9PT1lJiZhLmhhbmRsZXI9PT10KXtuLnNwbGljZShpLDEpO3ZhciBvPXIuZ2V0KGEuc3JjRWxlbWVudCk7by5zcGxpY2Uoby5pbmRleE9mKGEpLDEpLDA9PT1vLmxlbmd0aCYmci5kZWxldGUoYS5zcmNFbGVtZW50KX19fX0se2tleToiaGFuZGxlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzRW1wdHkoKSl7Zm9yKHZhciB0PXRoaXMuX25vcm1hbGl6ZUV2ZW50KGUpLG49ZS5zcmNFdmVudC50YXJnZXQ7biYmbiE9PXQucm9vdEVsZW1lbnQ7KXtpZih0aGlzLl9lbWl0KHQsbiksdC5oYW5kbGVkKXJldHVybjtuPW4ucGFyZW50Tm9kZX10aGlzLl9lbWl0KHQsInJvb3QiKX19fSx7a2V5OiJfZW1pdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmhhbmRsZXJzQnlFbGVtZW50LmdldCh0KTtpZihuKXtmb3IodmFyIHI9ITEsaT1mdW5jdGlvbigpe2UuaGFuZGxlZD0hMH0sYT1mdW5jdGlvbigpe2UuaGFuZGxlZD0hMCxyPSEwfSxvPVtdLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIHU9bltzXSxjPXUudHlwZSxsPXUuaGFuZGxlcixoPXUub25jZTtpZihsKE9iamVjdC5hc3NpZ24oe30sZSx7dHlwZTpjLHN0b3BQcm9wYWdhdGlvbjppLHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjphfSkpLGgmJm8ucHVzaChuW3NdKSxyKWJyZWFrfWZvcih2YXIgZj0wO2Y8by5sZW5ndGg7ZisrKXt2YXIgZD1vW2ZdO2M9ZC50eXBlLGw9ZC5oYW5kbGVyO3RoaXMucmVtb3ZlKGMsbCl9fX19LHtrZXk6Il9ub3JtYWxpemVFdmVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ldmVudE1hbmFnZXIuZWxlbWVudDtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLGZ1bmN0aW9uKGUpe3ZhciB0PUNlW2Uuc3JjRXZlbnQudHlwZV07aWYoIXQpcmV0dXJuIG51bGw7dmFyIG49ZS5zcmNFdmVudCxyPW4uYnV0dG9ucyxpPW4uYnV0dG9uLGE9bi53aGljaCxvPSExLHM9ITEsdT0hMTtyZXR1cm4gND09PXR8fDI9PT10JiYhTnVtYmVyLmlzRmluaXRlKHIpPyhvPTE9PT1hLHM9Mj09PWEsdT0zPT09YSk6Mj09PXQ/KG89Qm9vbGVhbigxJnIpLHM9Qm9vbGVhbig0JnIpLHU9Qm9vbGVhbigyJnIpKToxPT09dCYmKG89MD09PWkscz0xPT09aSx1PTI9PT1pKSx7bGVmdEJ1dHRvbjpvLG1pZGRsZUJ1dHRvbjpzLHJpZ2h0QnV0dG9uOnV9fShlKSxmdW5jdGlvbihlLHQpe3ZhciBuPWUuc3JjRXZlbnQ7aWYoIWUuY2VudGVyJiYhTnVtYmVyLmlzRmluaXRlKG4uY2xpZW50WCkpcmV0dXJuIG51bGw7dmFyIHI9ZS5jZW50ZXJ8fHt4Om4uY2xpZW50WCx5Om4uY2xpZW50WX0saT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9aS53aWR0aC90Lm9mZnNldFdpZHRoLG89aS5oZWlnaHQvdC5vZmZzZXRIZWlnaHQ7cmV0dXJue2NlbnRlcjpyLG9mZnNldENlbnRlcjp7eDooci54LWkubGVmdC10LmNsaWVudExlZnQpL2EseTooci55LWkudG9wLXQuY2xpZW50VG9wKS9vfX19KGUsdCkse2hhbmRsZWQ6ITEscm9vdEVsZW1lbnQ6dH0pfX1dKSxlfSgpLFJlPXtldmVudHM6bnVsbCxyZWNvZ25pemVyczpudWxsLHJlY29nbml6ZXJPcHRpb25zOnt9LE1hbmFnZXI6Y2UsdG91Y2hBY3Rpb246Im5vbmUifSxEZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoei5hKSh0aGlzLGUpLHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LFJlLG4pLHRoaXMuZXZlbnRzPW5ldyBNYXAsdGhpcy5fb25CYXNpY0lucHV0PXRoaXMuX29uQmFzaWNJbnB1dC5iaW5kKHRoaXMpLHRoaXMuX29uT3RoZXJFdmVudD10aGlzLl9vbk90aGVyRXZlbnQuYmluZCh0aGlzKSx0aGlzLnNldEVsZW1lbnQodCk7dmFyIHI9bi5ldmVudHM7ciYmdGhpcy5vbihyKX1yZXR1cm4gT2JqZWN0KEIuYSkoZSxbe2tleToic2V0RWxlbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmVsZW1lbnQmJnRoaXMuZGVzdHJveSgpLHRoaXMuZWxlbWVudD1lLGUpe3ZhciBuPXRoaXMub3B0aW9ucyxyPW4uTWFuYWdlcjtmb3IodmFyIGkgaW4gdGhpcy5tYW5hZ2VyPW5ldyByKGUse3RvdWNoQWN0aW9uOm4udG91Y2hBY3Rpb24scmVjb2duaXplcnM6bi5yZWNvZ25pemVyc3x8aGV9KS5vbigiaGFtbWVyLmlucHV0Iix0aGlzLl9vbkJhc2ljSW5wdXQpLG4ucmVjb2duaXplcnN8fE9iamVjdC5rZXlzKGZlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10Lm1hbmFnZXIuZ2V0KGUpO24mJmZlW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucmVjb2duaXplV2l0aChlKX0pKX0pKSxuLnJlY29nbml6ZXJPcHRpb25zKXt2YXIgYT10aGlzLm1hbmFnZXIuZ2V0KGkpO2lmKGEpe3ZhciBvPW4ucmVjb2duaXplck9wdGlvbnNbaV07ZGVsZXRlIG8uZW5hYmxlLGEuc2V0KG8pfX10aGlzLndoZWVsSW5wdXQ9bmV3IFBlKGUsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KSx0aGlzLm1vdmVJbnB1dD1uZXcgVGUoZSx0aGlzLl9vbk90aGVyRXZlbnQse2VuYWJsZTohMX0pLHRoaXMua2V5SW5wdXQ9bmV3IEFlKGUsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KSx0aGlzLmNvbnRleHRtZW51SW5wdXQ9bmV3IE1lKGUsdGhpcy5fb25PdGhlckV2ZW50LHtlbmFibGU6ITF9KTt2YXIgcz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD10aGlzLmV2ZW50c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1PYmplY3QoYWUuYSkobC52YWx1ZSwyKSxkPWZbMF0sdj1mWzFdO3YuaXNFbXB0eSgpfHwodGhpcy5fdG9nZ2xlUmVjb2duaXplcih2LnJlY29nbml6ZXJOYW1lLCEwKSx0aGlzLm1hbmFnZXIub24oZCx2LmhhbmRsZUV2ZW50KSl9fWNhdGNoKGUpe3U9ITAsYz1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX19fX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJih0aGlzLndoZWVsSW5wdXQuZGVzdHJveSgpLHRoaXMubW92ZUlucHV0LmRlc3Ryb3koKSx0aGlzLmtleUlucHV0LmRlc3Ryb3koKSx0aGlzLmNvbnRleHRtZW51SW5wdXQuZGVzdHJveSgpLHRoaXMubWFuYWdlci5kZXN0cm95KCksdGhpcy53aGVlbElucHV0PW51bGwsdGhpcy5tb3ZlSW5wdXQ9bnVsbCx0aGlzLmtleUlucHV0PW51bGwsdGhpcy5jb250ZXh0bWVudUlucHV0PW51bGwsdGhpcy5tYW5hZ2VyPW51bGwsdGhpcy5lbGVtZW50PW51bGwpfX0se2tleToib24iLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9hZGRFdmVudEhhbmRsZXIoZSx0LG4sITEpfX0se2tleToib25jZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX2FkZEV2ZW50SGFuZGxlcihlLHQsbiwhMCl9fSx7a2V5OiJvZmYiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVyKGUsdCl9fSx7a2V5OiJfdG9nZ2xlUmVjb2duaXplciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1hbmFnZXI7aWYobil7dmFyIHI9bi5nZXQoZSk7aWYociYmci5vcHRpb25zLmVuYWJsZSE9PXQpe3Iuc2V0KHtlbmFibGU6dH0pO3ZhciBpPWRlW2VdO2kmJiF0aGlzLm9wdGlvbnMucmVjb2duaXplcnMmJmkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIGE9bi5nZXQoaSk7dD8oYS5yZXF1aXJlRmFpbHVyZShlKSxyLmRyb3BSZXF1aXJlRmFpbHVyZShpKSk6YS5kcm9wUmVxdWlyZUZhaWx1cmUoZSl9KSl9dGhpcy53aGVlbElucHV0LmVuYWJsZUV2ZW50VHlwZShlLHQpLHRoaXMubW92ZUlucHV0LmVuYWJsZUV2ZW50VHlwZShlLHQpLHRoaXMua2V5SW5wdXQuZW5hYmxlRXZlbnRUeXBlKGUsdCksdGhpcy5jb250ZXh0bWVudUlucHV0LmVuYWJsZUV2ZW50VHlwZShlLHQpfX19LHtrZXk6Il9hZGRFdmVudEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIGk9dGhpcy5tYW5hZ2VyLGE9dGhpcy5ldmVudHMsbz1iZVtlXXx8ZSxzPWEuZ2V0KG8pO3N8fChzPW5ldyBJZSh0aGlzKSxhLnNldChvLHMpLHMucmVjb2duaXplck5hbWU9bWVbb118fG8saSYmaS5vbihvLHMuaGFuZGxlRXZlbnQpKSx0aGlzLl90b2dnbGVSZWNvZ25pemVyKHMucmVjb2duaXplck5hbWUsITApLHMuYWRkKGUsdCxuLHIpfWVsc2UgZm9yKHZhciB1IGluIG49dCxlKXRoaXMuX2FkZEV2ZW50SGFuZGxlcih1LGVbdV0sbixyKX19LHtrZXk6Il9yZW1vdmVFdmVudEhhbmRsZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj10aGlzLmV2ZW50cyxyPWJlW2VdfHxlLGk9bi5nZXQocik7aWYoaSYmKGkucmVtb3ZlKGUsdCksaS5pc0VtcHR5KCkpKXt2YXIgYT1pLnJlY29nbml6ZXJOYW1lLG89ITEscz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD1uLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHM9KGw9aC5uZXh0KCkpLmRvbmUpO3M9ITApe3ZhciBmPWwudmFsdWU7aWYoZi5yZWNvZ25pemVyTmFtZT09PWEmJiFmLmlzRW1wdHkoKSl7bz0hMDticmVha319fWNhdGNoKGUpe3U9ITAsYz1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX1vfHx0aGlzLl90b2dnbGVSZWNvZ25pemVyKGEsITEpfX1lbHNlIGZvcih2YXIgZCBpbiBlKXRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcihkLGVbZF0pfX0se2tleToiX29uQmFzaWNJbnB1dCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcmNFdmVudCxuPXZlW3QudHlwZV07biYmdGhpcy5tYW5hZ2VyLmVtaXQobixlKX19LHtrZXk6Il9vbk90aGVyRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubWFuYWdlci5lbWl0KGUudHlwZSxlKX19XSksZX0oKSxGZT1uKDIyKTtmdW5jdGlvbiBOZShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gemUoKXt9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBVZX0pKTt2YXIgQmU9e2lkOiJkZWNrZ2wtb3ZlcmxheSIsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSIscGlja2luZ1JhZGl1czowLGxheWVyRmlsdGVyOm51bGwsZ2xPcHRpb25zOnt9LGdsOm51bGwsbGF5ZXJzOltdLGVmZmVjdHM6W10sdmlld3M6bnVsbCxjb250cm9sbGVyOm51bGwsdXNlRGV2aWNlUGl4ZWxzOiEwLHRvdWNoQWN0aW9uOiJub25lIixfZnJhbWVidWZmZXI6bnVsbCxfYW5pbWF0ZTohMSxvbldlYkdMSW5pdGlhbGl6ZWQ6emUsb25SZXNpemU6emUsb25WaWV3U3RhdGVDaGFuZ2U6emUsb25CZWZvcmVSZW5kZXI6emUsb25BZnRlclJlbmRlcjp6ZSxvbkxvYWQ6emUsb25FcnJvcjpudWxsLF9vbk1ldHJpY3M6bnVsbCxnZXRDdXJzb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNEcmFnZ2luZz8iZ3JhYmJpbmciOiJncmFiIn0sZGVidWc6ITEsZHJhd1BpY2tpbmdDb2xvcnM6ITF9LFVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKCkodGhpcyxlKSx0PU9iamVjdC5hc3NpZ24oe30sQmUsdCksdGhpcy5wcm9wcz17fSx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLnZpZXdNYW5hZ2VyPW51bGwsdGhpcy5sYXllck1hbmFnZXI9bnVsbCx0aGlzLmVmZmVjdE1hbmFnZXI9bnVsbCx0aGlzLmRlY2tSZW5kZXJlcj1udWxsLHRoaXMuZGVja1BpY2tlcj1udWxsLHRoaXMuX25lZWRzUmVkcmF3PSEwLHRoaXMuX3BpY2tSZXF1ZXN0PXt9LHRoaXMuX2xhc3RQb2ludGVyRG93bkluZm89bnVsbCx0aGlzLnZpZXdTdGF0ZT1udWxsLHRoaXMuaW50ZXJhY3RpdmVTdGF0ZT17aXNEcmFnZ2luZzohMX0sdGhpcy5fb25FdmVudD10aGlzLl9vbkV2ZW50LmJpbmQodGhpcyksdGhpcy5fb25Qb2ludGVyRG93bj10aGlzLl9vblBvaW50ZXJEb3duLmJpbmQodGhpcyksdGhpcy5fb25Qb2ludGVyTW92ZT10aGlzLl9vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyksdGhpcy5fcGlja0FuZENhbGxiYWNrPXRoaXMuX3BpY2tBbmRDYWxsYmFjay5iaW5kKHRoaXMpLHRoaXMuX29uUmVuZGVyZXJJbml0aWFsaXplZD10aGlzLl9vblJlbmRlcmVySW5pdGlhbGl6ZWQuYmluZCh0aGlzKSx0aGlzLl9vblJlbmRlckZyYW1lPXRoaXMuX29uUmVuZGVyRnJhbWUuYmluZCh0aGlzKSx0aGlzLl9vblZpZXdTdGF0ZUNoYW5nZT10aGlzLl9vblZpZXdTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuX29uSW50ZXJhY3RpdmVTdGF0ZUNoYW5nZT10aGlzLl9vbkludGVyYWN0aXZlU3RhdGVDaGFuZ2UuYmluZCh0aGlzKSx0LnZpZXdTdGF0ZSYmdC5pbml0aWFsVmlld1N0YXRlJiZmLmEud2FybigiVmlldyBzdGF0ZSB0cmFja2luZyBpcyBkaXNhYmxlZC4gVXNlIGVpdGhlciBgaW5pdGlhbFZpZXdTdGF0ZWAgZm9yIGF1dG8gdXBkYXRlIG9yIGB2aWV3U3RhdGVgIGZvciBtYW51YWwgdXBkYXRlLiIpKCksIklFIj09PU9iamVjdChJLmdldEJyb3dzZXIpKCkmJmYuYS53YXJuKCJJRSAxMSBzdXBwb3J0IHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB2OC4wIikoKSx0LmdsfHwidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiYodGhpcy5jYW52YXM9dGhpcy5fY3JlYXRlQ2FudmFzKHQpKSx0aGlzLmFuaW1hdGlvbkxvb3A9dGhpcy5fY3JlYXRlQW5pbWF0aW9uTG9vcCh0KSx0aGlzLnN0YXRzPW5ldyBpZS5hKHtpZDoiZGVjay5nbCJ9KSx0aGlzLm1ldHJpY3M9e2ZwczowLHNldFByb3BzVGltZTowLHVwZGF0ZUF0dHJpYnV0ZXNUaW1lOjAsZnJhbWVzUmVkcmF3bjowLHBpY2tUaW1lOjAscGlja0NvdW50OjAsZ3B1VGltZTowLGdwdVRpbWVQZXJGcmFtZTowLGNwdVRpbWU6MCxjcHVUaW1lUGVyRnJhbWU6MCxidWZmZXJNZW1vcnk6MCx0ZXh0dXJlTWVtb3J5OjAscmVuZGVyYnVmZmVyTWVtb3J5OjAsZ3B1TWVtb3J5OjB9LHRoaXMuX21ldHJpY3NDb3VudGVyPTAsdGhpcy5zZXRQcm9wcyh0KSx0aGlzLmFuaW1hdGlvbkxvb3Auc3RhcnQoKX1yZXR1cm4gdSgpKGUsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uTG9vcC5zdG9wKCksdGhpcy5hbmltYXRpb25Mb29wPW51bGwsdGhpcy5fbGFzdFBvaW50ZXJEb3duSW5mbz1udWxsLHRoaXMubGF5ZXJNYW5hZ2VyJiYodGhpcy5sYXllck1hbmFnZXIuZmluYWxpemUoKSx0aGlzLmxheWVyTWFuYWdlcj1udWxsLHRoaXMudmlld01hbmFnZXIuZmluYWxpemUoKSx0aGlzLnZpZXdNYW5hZ2VyPW51bGwsdGhpcy5lZmZlY3RNYW5hZ2VyLmZpbmFsaXplKCksdGhpcy5lZmZlY3RNYW5hZ2VyPW51bGwsdGhpcy5kZWNrUmVuZGVyZXIuZmluYWxpemUoKSx0aGlzLmRlY2tSZW5kZXJlcj1udWxsLHRoaXMuZGVja1BpY2tlci5maW5hbGl6ZSgpLHRoaXMuZGVja1BpY2tlcj1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLmV2ZW50TWFuYWdlcj1udWxsLHRoaXMudG9vbHRpcC5yZW1vdmUoKSx0aGlzLnRvb2x0aXA9bnVsbCksdGhpcy5wcm9wcy5jYW52YXN8fHRoaXMucHJvcHMuZ2x8fCF0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpLHRoaXMuY2FudmFzPW51bGwpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc3RhdHMuZ2V0KCJzZXRQcm9wcyBUaW1lIikudGltZVN0YXJ0KCksIm9uTGF5ZXJIb3ZlciJpbiBlJiZmLmEucmVtb3ZlZCgib25MYXllckhvdmVyIiwib25Ib3ZlciIpKCksIm9uTGF5ZXJDbGljayJpbiBlJiZmLmEucmVtb3ZlZCgib25MYXllckNsaWNrIiwib25DbGljayIpKCksZS5pbml0aWFsVmlld1N0YXRlJiYhT2JqZWN0KGguYSkodGhpcy5wcm9wcy5pbml0aWFsVmlld1N0YXRlLGUuaW5pdGlhbFZpZXdTdGF0ZSkmJih0aGlzLnZpZXdTdGF0ZT1lLmluaXRpYWxWaWV3U3RhdGUpLE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcyxlKSx0aGlzLl9zZXRDYW52YXNTaXplKHRoaXMucHJvcHMpO3ZhciB0PU9iamVjdC5jcmVhdGUodGhpcy5wcm9wcyk7T2JqZWN0LmFzc2lnbih0LHt2aWV3czp0aGlzLl9nZXRWaWV3cygpLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LHZpZXdTdGF0ZTp0aGlzLl9nZXRWaWV3U3RhdGUoKX0pLHRoaXMuYW5pbWF0aW9uTG9vcC5zZXRQcm9wcyh0KSx0aGlzLmxheWVyTWFuYWdlciYmKHRoaXMudmlld01hbmFnZXIuc2V0UHJvcHModCksdGhpcy5sYXllck1hbmFnZXIuc2V0UHJvcHModCksdGhpcy5lZmZlY3RNYW5hZ2VyLnNldFByb3BzKHQpLHRoaXMuZGVja1JlbmRlcmVyLnNldFByb3BzKHQpLHRoaXMuZGVja1BpY2tlci5zZXRQcm9wcyh0KSksdGhpcy5zdGF0cy5nZXQoInNldFByb3BzIFRpbWUiKS50aW1lRW5kKCl9fSx7a2V5OiJuZWVkc1JlZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NsZWFyUmVkcmF3RmxhZ3M6ITF9O2lmKHRoaXMucHJvcHMuX2FuaW1hdGUpcmV0dXJuIkRlY2suX2FuaW1hdGUiO3ZhciB0PXRoaXMuX25lZWRzUmVkcmF3O2UuY2xlYXJSZWRyYXdGbGFncyYmKHRoaXMuX25lZWRzUmVkcmF3PSExKTt2YXIgbj10aGlzLnZpZXdNYW5hZ2VyLm5lZWRzUmVkcmF3KGUpLHI9dGhpcy5sYXllck1hbmFnZXIubmVlZHNSZWRyYXcoZSksaT10aGlzLmVmZmVjdE1hbmFnZXIubmVlZHNSZWRyYXcoZSksYT10aGlzLmRlY2tSZW5kZXJlci5uZWVkc1JlZHJhdyhlKTtyZXR1cm4gdD10fHxufHxyfHxpfHxhfX0se2tleToicmVkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmxheWVyTWFuYWdlcil7dmFyIHQ9ZXx8dGhpcy5uZWVkc1JlZHJhdyh7Y2xlYXJSZWRyYXdGbGFnczohMH0pO3QmJih0aGlzLnN0YXRzLmdldCgiUmVkcmF3IENvdW50IikuaW5jcmVtZW50Q291bnQoKSx0aGlzLnByb3BzLl9jdXN0b21SZW5kZXI/dGhpcy5wcm9wcy5fY3VzdG9tUmVuZGVyKHQpOnRoaXMuX2RyYXdMYXllcnModCkpfX19LHtrZXk6ImdldFZpZXdzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXdNYW5hZ2VyLnZpZXdzfX0se2tleToiZ2V0Vmlld3BvcnRzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHMoZSl9fSx7a2V5OiJwaWNrT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9waWNrKCJwaWNrT2JqZWN0IiwicGlja09iamVjdCBUaW1lIixlKS5yZXN1bHQ7cmV0dXJuIHQubGVuZ3RoP3RbMF06bnVsbH19LHtrZXk6InBpY2tNdWx0aXBsZU9iamVjdHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRlcHRoPWUuZGVwdGh8fDEwLHRoaXMuX3BpY2soInBpY2tPYmplY3QiLCJwaWNrTXVsdGlwbGVPYmplY3RzIFRpbWUiLGUpLnJlc3VsdH19LHtrZXk6InBpY2tPYmplY3RzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcGljaygicGlja09iamVjdHMiLCJwaWNrT2JqZWN0cyBUaW1lIixlKX19LHtrZXk6Il9waWNrIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5zdGF0cztyLmdldCgiUGljayBDb3VudCIpLmluY3JlbWVudENvdW50KCksci5nZXQodCkudGltZVN0YXJ0KCk7dmFyIGk9dGhpcy5kZWNrUGlja2VyW2VdKE9iamVjdC5hc3NpZ24oe2xheWVyczp0aGlzLmxheWVyTWFuYWdlci5nZXRMYXllcnMobiksdmlld3BvcnRzOnRoaXMuZ2V0Vmlld3BvcnRzKG4pLG9uVmlld3BvcnRBY3RpdmU6dGhpcy5sYXllck1hbmFnZXIuYWN0aXZhdGVWaWV3cG9ydH0sbikpO3JldHVybiByLmdldCh0KS50aW1lRW5kKCksaX19LHtrZXk6Il9jcmVhdGVDYW52YXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2FudmFzOygic3RyaW5nIj09dHlwZW9mIHQmJih0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpLE9iamVjdChsLmEpKHQpKSx0KXx8KHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksKGUucGFyZW50fHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZCh0KSk7dmFyIG49ZS5pZCxyPWUuc3R5bGU7cmV0dXJuIHQuaWQ9bixPYmplY3QuYXNzaWduKHQuc3R5bGUsciksdH19LHtrZXk6Il9zZXRDYW52YXNTaXplIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmNhbnZhcyl7dmFyIHQ9ZS53aWR0aCxuPWUuaGVpZ2h0Oyh0fHwwPT09dCkmJih0PU51bWJlci5pc0Zpbml0ZSh0KT8iIi5jb25jYXQodCwicHgiKTp0LHRoaXMuY2FudmFzLnN0eWxlLndpZHRoPXQpLChufHwwPT09bikmJihuPU51bWJlci5pc0Zpbml0ZShuKT8iIi5jb25jYXQobiwicHgiKTpuLHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0PW4pfX19LHtrZXk6Il91cGRhdGVDYW52YXNTaXplIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NoZWNrRm9yQ2FudmFzU2l6ZUNoYW5nZSgpKXt2YXIgZT10aGlzLndpZHRoLHQ9dGhpcy5oZWlnaHQ7dGhpcy52aWV3TWFuYWdlci5zZXRQcm9wcyh7d2lkdGg6ZSxoZWlnaHQ6dH0pLHRoaXMucHJvcHMub25SZXNpemUoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSl9fX0se2tleToiX2NoZWNrRm9yQ2FudmFzU2l6ZUNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNhbnZhcztpZighZSlyZXR1cm4hMTt2YXIgdD1lLmNsaWVudFdpZHRofHxlLndpZHRoLG49ZS5jbGllbnRIZWlnaHR8fGUuaGVpZ2h0O3JldHVybih0IT09dGhpcy53aWR0aHx8biE9PXRoaXMuaGVpZ2h0KSYmKHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1uLCEwKX19LHtrZXk6Il9jcmVhdGVBbmltYXRpb25Mb29wIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS53aWR0aCxyPWUuaGVpZ2h0LGk9ZS5nbCxhPWUuZ2xPcHRpb25zLG89ZS5kZWJ1ZyxzPWUudXNlRGV2aWNlUGl4ZWxzLHU9ZS5hdXRvUmVzaXplRHJhd2luZ0J1ZmZlcjtyZXR1cm4gbmV3IG5lKHt3aWR0aDpuLGhlaWdodDpyLHVzZURldmljZVBpeGVsczpzLGF1dG9SZXNpemVEcmF3aW5nQnVmZmVyOnUsYXV0b1Jlc2l6ZVZpZXdwb3J0OiExLGdsOmksb25DcmVhdGVDb250ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qody5hKShPYmplY3QuYXNzaWduKHt9LGEsZSx7Y2FudmFzOnQuY2FudmFzLGRlYnVnOm99KSl9LG9uSW5pdGlhbGl6ZTp0aGlzLl9vblJlbmRlcmVySW5pdGlhbGl6ZWQsb25SZW5kZXI6dGhpcy5fb25SZW5kZXJGcmFtZSxvbkJlZm9yZVJlbmRlcjplLm9uQmVmb3JlUmVuZGVyLG9uQWZ0ZXJSZW5kZXI6ZS5vbkFmdGVyUmVuZGVyfSl9fSx7a2V5OiJfZ2V0Vmlld1N0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLnZpZXdTdGF0ZXx8dGhpcy52aWV3U3RhdGV9fSx7a2V5OiJfZ2V0Vmlld3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy52aWV3c3x8W25ldyBwLmEoe2lkOiJkZWZhdWx0LXZpZXcifSldO3JldHVybihlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pLmxlbmd0aCYmdGhpcy5wcm9wcy5jb250cm9sbGVyJiYoZVswXS5wcm9wcy5jb250cm9sbGVyPXRoaXMucHJvcHMuY29udHJvbGxlciksZX19LHtrZXk6Il9vblBvaW50ZXJNb3ZlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9waWNrUmVxdWVzdDtpZigicG9pbnRlcmxlYXZlIj09PWUudHlwZSl0Lng9LTEsdC55PS0xLHQucmFkaXVzPTA7ZWxzZXtpZihlLmxlZnRCdXR0b258fGUucmlnaHRCdXR0b24pcmV0dXJuO3ZhciBuPWUub2Zmc2V0Q2VudGVyO2lmKCFuKXJldHVybjt0Lng9bi54LHQueT1uLnksdC5yYWRpdXM9dGhpcy5wcm9wcy5waWNraW5nUmFkaXVzfXRoaXMubGF5ZXJNYW5hZ2VyJiYodGhpcy5sYXllck1hbmFnZXIuY29udGV4dC5tb3VzZVBvc2l0aW9uPXt4OnQueCx5OnQueX0pLHQuZXZlbnQ9ZSx0Lm1vZGU9ImhvdmVyIn19LHtrZXk6Il9waWNrQW5kQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGlja1JlcXVlc3Q7aWYoZS5ldmVudCl7dmFyIHQ9dGhpcy5fcGljaygicGlja09iamVjdCIsInBpY2tPYmplY3QgVGltZSIsZSksbj10LnJlc3VsdCxyPXQuZW1wdHlJbmZvLGk9blswXXx8cjtpZih0aGlzLnByb3BzLmdldFRvb2x0aXApe3ZhciBhPXRoaXMucHJvcHMuZ2V0VG9vbHRpcChpKTt0aGlzLnRvb2x0aXAuc2V0VG9vbHRpcChhLGkueCxpLnkpfXZhciBvPSExO2kubGF5ZXImJihvPWkubGF5ZXIub25Ib3ZlcihpLGUuZXZlbnQpKSwhbyYmdGhpcy5wcm9wcy5vbkhvdmVyJiZ0aGlzLnByb3BzLm9uSG92ZXIoaSxlLmV2ZW50KSxlLmV2ZW50PW51bGx9fX0se2tleToiX3VwZGF0ZUN1cnNvciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLnBhcmVudHx8dGhpcy5jYW52YXM7ZSYmKGUuc3R5bGUuY3Vyc29yPXRoaXMucHJvcHMuZ2V0Q3Vyc29yKHRoaXMuaW50ZXJhY3RpdmVTdGF0ZSkpfX0se2tleToiX3NldEdMQ29udGV4dCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIXRoaXMubGF5ZXJNYW5hZ2VyKXt0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPWUuY2FudmFzLE9iamVjdCh3LmUpKGUse2VuYWJsZTohMCxjb3B5U3RhdGU6ITB9KSksdGhpcy50b29sdGlwPW5ldyBDKHRoaXMuY2FudmFzKSxPYmplY3Qody5rKShlLHtibGVuZDohMCxibGVuZEZ1bmM6Wzc3MCw3NzEsMSw3NzFdLHBvbHlnb25PZmZzZXRGaWxsOiEwLGRlcHRoVGVzdDohMCxkZXB0aEZ1bmM6NTE1fSksdGhpcy5wcm9wcy5vbldlYkdMSW5pdGlhbGl6ZWQoZSk7dmFyIHQ9bmV3IHJlLmE7Zm9yKHZhciBuIGluIHQucGxheSgpLHRoaXMuYW5pbWF0aW9uTG9vcC5hdHRhY2hUaW1lbGluZSh0KSx0aGlzLmV2ZW50TWFuYWdlcj1uZXcgRGUodGhpcy5wcm9wcy5wYXJlbnR8fGUuY2FudmFzLHt0b3VjaEFjdGlvbjp0aGlzLnByb3BzLnRvdWNoQWN0aW9uLGV2ZW50czp7cG9pbnRlcmRvd246dGhpcy5fb25Qb2ludGVyRG93bixwb2ludGVybW92ZTp0aGlzLl9vblBvaW50ZXJNb3ZlLHBvaW50ZXJsZWF2ZTp0aGlzLl9vblBvaW50ZXJNb3ZlfX0pLEZlLmIpdGhpcy5ldmVudE1hbmFnZXIub24obix0aGlzLl9vbkV2ZW50KTt0aGlzLnZpZXdNYW5hZ2VyPW5ldyB2KHt0aW1lbGluZTp0LGV2ZW50TWFuYWdlcjp0aGlzLmV2ZW50TWFuYWdlcixvblZpZXdTdGF0ZUNoYW5nZTp0aGlzLl9vblZpZXdTdGF0ZUNoYW5nZSxvbkludGVyYWN0aXZlU3RhdGVDaGFuZ2U6dGhpcy5fb25JbnRlcmFjdGl2ZVN0YXRlQ2hhbmdlLHZpZXdzOnRoaXMuX2dldFZpZXdzKCksdmlld1N0YXRlOnRoaXMuX2dldFZpZXdTdGF0ZSgpLHdpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSk7dmFyIHI9dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHMoKVswXTt0aGlzLmxheWVyTWFuYWdlcj1uZXcgYy5hKGUse2RlY2s6dGhpcyxzdGF0czp0aGlzLnN0YXRzLHZpZXdwb3J0OnIsdGltZWxpbmU6dH0pLHRoaXMuZWZmZWN0TWFuYWdlcj1uZXcgbSx0aGlzLmRlY2tSZW5kZXJlcj1uZXcgXy5hKGUpLHRoaXMuZGVja1BpY2tlcj1uZXcgQShlKSx0aGlzLnNldFByb3BzKHRoaXMucHJvcHMpLHRoaXMuX3VwZGF0ZUNhbnZhc1NpemUoKSx0aGlzLnByb3BzLm9uTG9hZCgpfX19LHtrZXk6Il9kcmF3TGF5ZXJzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubGF5ZXJNYW5hZ2VyLmNvbnRleHQuZ2w7T2JqZWN0KHcuaykobix0aGlzLnByb3BzLnBhcmFtZXRlcnMpLHRoaXMucHJvcHMub25CZWZvcmVSZW5kZXIoe2dsOm59KSx0aGlzLmRlY2tSZW5kZXJlci5yZW5kZXJMYXllcnMoT2JqZWN0LmFzc2lnbih7dGFyZ2V0OnRoaXMucHJvcHMuX2ZyYW1lYnVmZmVyLGxheWVyczp0aGlzLmxheWVyTWFuYWdlci5nZXRMYXllcnMoKSx2aWV3cG9ydHM6dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cG9ydHMoKSxvblZpZXdwb3J0QWN0aXZlOnRoaXMubGF5ZXJNYW5hZ2VyLmFjdGl2YXRlVmlld3BvcnQsdmlld3M6dGhpcy52aWV3TWFuYWdlci5nZXRWaWV3cygpLHBhc3M6InNjcmVlbiIscmVkcmF3UmVhc29uOmUsZWZmZWN0czp0aGlzLmVmZmVjdE1hbmFnZXIuZ2V0RWZmZWN0cygpfSx0KSksdGhpcy5wcm9wcy5vbkFmdGVyUmVuZGVyKHtnbDpufSl9fSx7a2V5OiJfb25SZW5kZXJlckluaXRpYWxpemVkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdsO3RoaXMuX3NldEdMQ29udGV4dCh0KX19LHtrZXk6Il9vblJlbmRlckZyYW1lIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9nZXRGcmFtZVN0YXRzKCksdGhpcy5fbWV0cmljc0NvdW50ZXIrKyU2MD09MCYmKHRoaXMuX2dldE1ldHJpY3MoKSx0aGlzLnN0YXRzLnJlc2V0KCksZi5hLnRhYmxlKDQsdGhpcy5tZXRyaWNzKSgpLHRoaXMucHJvcHMuX29uTWV0cmljcyYmdGhpcy5wcm9wcy5fb25NZXRyaWNzKHRoaXMubWV0cmljcykpLHRoaXMuX3VwZGF0ZUNhbnZhc1NpemUoKSx0aGlzLl91cGRhdGVDdXJzb3IoKSx0aGlzLmxheWVyTWFuYWdlci51cGRhdGVMYXllcnMoKSx0aGlzLl9waWNrQW5kQ2FsbGJhY2soKSx0aGlzLnJlZHJhdyghMSksdGhpcy52aWV3TWFuYWdlciYmdGhpcy52aWV3TWFuYWdlci51cGRhdGVWaWV3U3RhdGVzKCl9fSx7a2V5OiJfb25WaWV3U3RhdGVDaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHJvcHMub25WaWV3U3RhdGVDaGFuZ2UoZSl8fGUudmlld1N0YXRlO3RoaXMudmlld1N0YXRlJiYodGhpcy52aWV3U3RhdGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/TmUoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpKCkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOk5lKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfSh7fSx0aGlzLnZpZXdTdGF0ZSxpKCkoe30sZS52aWV3SWQsdCkpLHRoaXMucHJvcHMudmlld1N0YXRlfHx0aGlzLnZpZXdNYW5hZ2VyLnNldFByb3BzKHt2aWV3U3RhdGU6dGhpcy52aWV3U3RhdGV9KSl9fSx7a2V5OiJfb25JbnRlcmFjdGl2ZVN0YXRlQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmlzRHJhZ2dpbmcsbj12b2lkIDAhPT10JiZ0O24hPT10aGlzLmludGVyYWN0aXZlU3RhdGUuaXNEcmFnZ2luZyYmKHRoaXMuaW50ZXJhY3RpdmVTdGF0ZS5pc0RyYWdnaW5nPW4pfX0se2tleToiX29uRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PUZlLmJbZS50eXBlXSxuPWUub2Zmc2V0Q2VudGVyO2lmKHQmJm4pe3ZhciByPXRoaXMubGF5ZXJNYW5hZ2VyLmdldExheWVycygpLGk9dGhpcy5kZWNrUGlja2VyLmdldExhc3RQaWNrZWRPYmplY3Qoe3g6bi54LHk6bi55LGxheWVyczpyLHZpZXdwb3J0czp0aGlzLmdldFZpZXdwb3J0cyhuKX0sdGhpcy5fbGFzdFBvaW50ZXJEb3duSW5mbyksYT1pLmxheWVyLG89YSYmKGFbdC5oYW5kbGVyXXx8YS5wcm9wc1t0LmhhbmRsZXJdKSxzPXRoaXMucHJvcHNbdC5oYW5kbGVyXSx1PSExO28mJih1PW8uY2FsbChhLGksZSkpLCF1JiZzJiZzKGksZSl9fX0se2tleToiX29uUG9pbnRlckRvd24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUub2Zmc2V0Q2VudGVyO3RoaXMuX2xhc3RQb2ludGVyRG93bkluZm89dGhpcy5waWNrT2JqZWN0KHt4OnQueCx5OnQueSxyYWRpdXM6dGhpcy5wcm9wcy5waWNraW5nUmFkaXVzfSl9fSx7a2V5OiJfZ2V0RnJhbWVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRzO2UuZ2V0KCJmcmFtZVJhdGUiKS50aW1lRW5kKCksZS5nZXQoImZyYW1lUmF0ZSIpLnRpbWVTdGFydCgpO3ZhciB0PXRoaXMuYW5pbWF0aW9uTG9vcC5zdGF0cztlLmdldCgiR1BVIFRpbWUiKS5hZGRUaW1lKHQuZ2V0KCJHUFUgVGltZSIpLmxhc3RUaW1pbmcpLGUuZ2V0KCJDUFUgVGltZSIpLmFkZFRpbWUodC5nZXQoIkNQVSBUaW1lIikubGFzdFRpbWluZyl9fSx7a2V5OiJfZ2V0TWV0cmljcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1ldHJpY3MsdD10aGlzLnN0YXRzO2UuZnBzPXQuZ2V0KCJmcmFtZVJhdGUiKS5nZXRIeigpLGUuc2V0UHJvcHNUaW1lPXQuZ2V0KCJzZXRQcm9wcyBUaW1lIikudGltZSxlLnVwZGF0ZUF0dHJpYnV0ZXNUaW1lPXQuZ2V0KCJVcGRhdGUgQXR0cmlidXRlcyIpLnRpbWUsZS5mcmFtZXNSZWRyYXduPXQuZ2V0KCJSZWRyYXcgQ291bnQiKS5jb3VudCxlLnBpY2tUaW1lPXQuZ2V0KCJwaWNrT2JqZWN0IFRpbWUiKS50aW1lK3QuZ2V0KCJwaWNrTXVsdGlwbGVPYmplY3RzIFRpbWUiKS50aW1lK3QuZ2V0KCJwaWNrT2JqZWN0cyBUaW1lIikudGltZSxlLnBpY2tDb3VudD10LmdldCgiUGljayBDb3VudCIpLmNvdW50LGUuZ3B1VGltZT10LmdldCgiR1BVIFRpbWUiKS50aW1lLGUuY3B1VGltZT10LmdldCgiQ1BVIFRpbWUiKS50aW1lLGUuZ3B1VGltZVBlckZyYW1lPXQuZ2V0KCJHUFUgVGltZSIpLmdldEF2ZXJhZ2VUaW1lKCksZS5jcHVUaW1lUGVyRnJhbWU9dC5nZXQoIkNQVSBUaW1lIikuZ2V0QXZlcmFnZVRpbWUoKTt2YXIgbj1VLmEuZ2V0KCJNZW1vcnkgVXNhZ2UiKTtlLmJ1ZmZlck1lbW9yeT1uLmdldCgiQnVmZmVyIE1lbW9yeSIpLmNvdW50LGUudGV4dHVyZU1lbW9yeT1uLmdldCgiVGV4dHVyZSBNZW1vcnkiKS5jb3VudCxlLnJlbmRlcmJ1ZmZlck1lbW9yeT1uLmdldCgiUmVuZGVyYnVmZmVyIE1lbW9yeSIpLmNvdW50LGUuZ3B1TWVtb3J5PW4uZ2V0KCJHUFUgTWVtb3J5IikuY291bnR9fV0pLGV9KCk7VWUuZ2V0UHJvcFR5cGVzPWZ1bmN0aW9uKGUpe3JldHVybntpZDplLnN0cmluZyx3aWR0aDplLm9uZU9mVHlwZShbZS5udW1iZXIsZS5zdHJpbmddKSxoZWlnaHQ6ZS5vbmVPZlR5cGUoW2UubnVtYmVyLGUuc3RyaW5nXSksbGF5ZXJzOmUub25lT2ZUeXBlKFtlLm9iamVjdCxlLmFycmF5XSksbGF5ZXJGaWx0ZXI6ZS5mdW5jLHZpZXdzOmUub25lT2ZUeXBlKFtlLm9iamVjdCxlLmFycmF5XSksdmlld1N0YXRlOmUub2JqZWN0LGVmZmVjdHM6ZS5hcnJheU9mKGUuaW5zdGFuY2VPZihiLmEpKSxjb250cm9sbGVyOmUub25lT2ZUeXBlKFtlLmZ1bmMsZS5ib29sLGUub2JqZWN0XSksZ2w6ZS5vYmplY3QsZ2xPcHRpb25zOmUub2JqZWN0LHBhcmFtZXRlcnM6ZS5vYmplY3QscGlja2luZ1JhZGl1czplLm51bWJlcix1c2VEZXZpY2VQaXhlbHM6ZS5vbmVPZlR5cGUoW2UuYm9vbCxlLm51bWJlcl0pLHRvdWNoQWN0aW9uOmUuc3RyaW5nLG9uV2ViR0xJbml0aWFsaXplZDplLmZ1bmMsb25SZXNpemU6ZS5mdW5jLG9uVmlld1N0YXRlQ2hhbmdlOmUuZnVuYyxvbkJlZm9yZVJlbmRlcjplLmZ1bmMsb25BZnRlclJlbmRlcjplLmZ1bmMsb25Mb2FkOmUuZnVuYyxvbkVycm9yOmUuZnVuYyxkZWJ1ZzplLmJvb2wsZHJhd1BpY2tpbmdDb2xvcnM6ZS5ib29sLF9mcmFtZWJ1ZmZlcjplLm9iamVjdCxfYW5pbWF0ZTplLmJvb2x9fSxVZS5kZWZhdWx0UHJvcHM9QmUsVWUuVkVSU0lPTj1MLmEuVkVSU0lPTn0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oMzcpLGc9bi5uKHApLHk9bigyMyksbT1uKDE4OSksYj1uKDIwNiksXz1uKDEwOCksTz1uKDExKSx4PXtuYW1lOiJwYnIiLHZzOiJ1bmlmb3JtIG1hdDQgdV9NVlBNYXRyaXg7XG51bmlmb3JtIG1hdDQgdV9Nb2RlbE1hdHJpeDtcbnVuaWZvcm0gbWF0NCB1X05vcm1hbE1hdHJpeDtcblxudmFyeWluZyB2ZWMzIHBicl92UG9zaXRpb247XG52YXJ5aW5nIHZlYzIgcGJyX3ZVVjtcblxuI2lmZGVmIEhBU19OT1JNQUxTXG4jIGlmZGVmIEhBU19UQU5HRU5UU1xudmFyeWluZyBtYXQzIHBicl92VEJOO1xuIyBlbHNlXG52YXJ5aW5nIHZlYzMgcGJyX3ZOb3JtYWw7XG4jIGVuZGlmXG4jZW5kaWZcblxudm9pZCBwYnJfc2V0UG9zaXRpb25Ob3JtYWxUYW5nZW50VVYodmVjNCBwb3NpdGlvbiwgdmVjNCBub3JtYWwsIHZlYzQgdGFuZ2VudCwgdmVjMiB1dilcbntcbiAgdmVjNCBwb3MgPSB1X01vZGVsTWF0cml4ICogcG9zaXRpb247XG4gIHBicl92UG9zaXRpb24gPSB2ZWMzKHBvcy54eXopIC8gcG9zLnc7XG5cbiNpZmRlZiBIQVNfTk9STUFMU1xuI2lmZGVmIEhBU19UQU5HRU5UU1xuICB2ZWMzIG5vcm1hbFcgPSBub3JtYWxpemUodmVjMyh1X05vcm1hbE1hdHJpeCAqIHZlYzQobm9ybWFsLnh5eiwgMC4wKSkpO1xuICB2ZWMzIHRhbmdlbnRXID0gbm9ybWFsaXplKHZlYzModV9Nb2RlbE1hdHJpeCAqIHZlYzQodGFuZ2VudC54eXosIDAuMCkpKTtcbiAgdmVjMyBiaXRhbmdlbnRXID0gY3Jvc3Mobm9ybWFsVywgdGFuZ2VudFcpICogdGFuZ2VudC53O1xuICBwYnJfdlRCTiA9IG1hdDModGFuZ2VudFcsIGJpdGFuZ2VudFcsIG5vcm1hbFcpO1xuI2Vsc2VcbiAgcGJyX3ZOb3JtYWwgPSBub3JtYWxpemUodmVjMyh1X01vZGVsTWF0cml4ICogdmVjNChub3JtYWwueHl6LCAwLjApKSk7XG4jZW5kaWZcbiNlbmRpZlxuXG4jaWZkZWYgSEFTX1VWXG4gIHBicl92VVYgPSB1djtcbiNlbHNlXG4gIHBicl92VVYgPSB2ZWMyKDAuLDAuKTtcbiNlbmRpZlxufVxuIixmczoiI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiNleHRlbnNpb24gR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZDogZW5hYmxlXG4jZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxuI2VuZGlmXG5cblxuI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiAgI2RlZmluZSBTTUFSVF9GT1IoSU5JVCwgV0VCR0wxQ09ORCwgV0VCR0wyQ09ORCwgSU5DUikgZm9yIChJTklUOyBXRUJHTDFDT05EOyBJTkNSKVxuI2Vsc2VcbiAgI2RlZmluZSBTTUFSVF9GT1IoSU5JVCwgV0VCR0wxQ09ORCwgV0VCR0wyQ09ORCwgSU5DUikgZm9yIChJTklUOyBXRUJHTDJDT05EOyBJTkNSKVxuI2VuZGlmXG5cbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuI2lmZGVmIFVTRV9JQkxcbnVuaWZvcm0gc2FtcGxlckN1YmUgdV9EaWZmdXNlRW52U2FtcGxlcjtcbnVuaWZvcm0gc2FtcGxlckN1YmUgdV9TcGVjdWxhckVudlNhbXBsZXI7XG51bmlmb3JtIHNhbXBsZXIyRCB1X2JyZGZMVVQ7XG51bmlmb3JtIHZlYzIgdV9TY2FsZUlCTEFtYmllbnQ7XG4jZW5kaWZcblxuI2lmZGVmIEhBU19CQVNFQ09MT1JNQVBcbnVuaWZvcm0gc2FtcGxlcjJEIHVfQmFzZUNvbG9yU2FtcGxlcjtcbiNlbmRpZlxuI2lmZGVmIEhBU19OT1JNQUxNQVBcbnVuaWZvcm0gc2FtcGxlcjJEIHVfTm9ybWFsU2FtcGxlcjtcbnVuaWZvcm0gZmxvYXQgdV9Ob3JtYWxTY2FsZTtcbiNlbmRpZlxuI2lmZGVmIEhBU19FTUlTU0lWRU1BUFxudW5pZm9ybSBzYW1wbGVyMkQgdV9FbWlzc2l2ZVNhbXBsZXI7XG51bmlmb3JtIHZlYzMgdV9FbWlzc2l2ZUZhY3RvcjtcbiNlbmRpZlxuI2lmZGVmIEhBU19NRVRBTFJPVUdITkVTU01BUFxudW5pZm9ybSBzYW1wbGVyMkQgdV9NZXRhbGxpY1JvdWdobmVzc1NhbXBsZXI7XG4jZW5kaWZcbiNpZmRlZiBIQVNfT0NDTFVTSU9OTUFQXG51bmlmb3JtIHNhbXBsZXIyRCB1X09jY2x1c2lvblNhbXBsZXI7XG51bmlmb3JtIGZsb2F0IHVfT2NjbHVzaW9uU3RyZW5ndGg7XG4jZW5kaWZcblxuI2lmZGVmIEFMUEhBX0NVVE9GRlxudW5pZm9ybSBmbG9hdCB1X0FscGhhQ3V0b2ZmO1xuI2VuZGlmXG5cbnVuaWZvcm0gdmVjMiB1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzO1xudW5pZm9ybSB2ZWM0IHVfQmFzZUNvbG9yRmFjdG9yO1xuXG51bmlmb3JtIHZlYzMgdV9DYW1lcmE7XG4jaWZkZWYgUEJSX0RFQlVHXG51bmlmb3JtIHZlYzQgdV9TY2FsZURpZmZCYXNlTVI7XG51bmlmb3JtIHZlYzQgdV9TY2FsZUZHRFNwZWM7XG4jZW5kaWZcblxudmFyeWluZyB2ZWMzIHBicl92UG9zaXRpb247XG5cbnZhcnlpbmcgdmVjMiBwYnJfdlVWO1xuXG4jaWZkZWYgSEFTX05PUk1BTFNcbiNpZmRlZiBIQVNfVEFOR0VOVFNcbnZhcnlpbmcgbWF0MyBwYnJfdlRCTjtcbiNlbHNlXG52YXJ5aW5nIHZlYzMgcGJyX3ZOb3JtYWw7XG4jZW5kaWZcbiNlbmRpZlxuXG5cbnN0cnVjdCBQQlJJbmZvXG57XG4gIGZsb2F0IE5kb3RMO1xuICBmbG9hdCBOZG90VjtcbiAgZmxvYXQgTmRvdEg7XG4gIGZsb2F0IExkb3RIO1xuICBmbG9hdCBWZG90SDtcbiAgZmxvYXQgcGVyY2VwdHVhbFJvdWdobmVzcztcbiAgZmxvYXQgbWV0YWxuZXNzO1xuICB2ZWMzIHJlZmxlY3RhbmNlMDtcbiAgdmVjMyByZWZsZWN0YW5jZTkwO1xuICBmbG9hdCBhbHBoYVJvdWdobmVzcztcbiAgdmVjMyBkaWZmdXNlQ29sb3I7XG4gIHZlYzMgc3BlY3VsYXJDb2xvcjtcbiAgdmVjMyBuO1xuICB2ZWMzIHY7XG59O1xuXG5jb25zdCBmbG9hdCBNX1BJID0gMy4xNDE1OTI2NTM1ODk3OTM7XG5jb25zdCBmbG9hdCBjX01pblJvdWdobmVzcyA9IDAuMDQ7XG5cbnZlYzQgU1JHQnRvTElORUFSKHZlYzQgc3JnYkluKVxue1xuI2lmZGVmIE1BTlVBTF9TUkdCXG4jaWZkZWYgU1JHQl9GQVNUX0FQUFJPWElNQVRJT05cbiAgdmVjMyBsaW5PdXQgPSBwb3coc3JnYkluLnh5eix2ZWMzKDIuMikpO1xuI2Vsc2VcbiAgdmVjMyBiTGVzcyA9IHN0ZXAodmVjMygwLjA0MDQ1KSxzcmdiSW4ueHl6KTtcbiAgdmVjMyBsaW5PdXQgPSBtaXgoIHNyZ2JJbi54eXovdmVjMygxMi45MiksIHBvdygoc3JnYkluLnh5eit2ZWMzKDAuMDU1KSkvdmVjMygxLjA1NSksdmVjMygyLjQpKSwgYkxlc3MgKTtcbiNlbmRpZlxuICByZXR1cm4gdmVjNChsaW5PdXQsc3JnYkluLncpOztcbiNlbHNlXG4gIHJldHVybiBzcmdiSW47XG4jZW5kaWZcbn1cblxudmVjMyBnZXROb3JtYWwoKVxue1xuI2lmbmRlZiBIQVNfVEFOR0VOVFNcbiAgdmVjMyBwb3NfZHggPSBkRmR4KHBicl92UG9zaXRpb24pO1xuICB2ZWMzIHBvc19keSA9IGRGZHkocGJyX3ZQb3NpdGlvbik7XG4gIHZlYzMgdGV4X2R4ID0gZEZkeCh2ZWMzKHBicl92VVYsIDAuMCkpO1xuICB2ZWMzIHRleF9keSA9IGRGZHkodmVjMyhwYnJfdlVWLCAwLjApKTtcbiAgdmVjMyB0ID0gKHRleF9keS50ICogcG9zX2R4IC0gdGV4X2R4LnQgKiBwb3NfZHkpIC8gKHRleF9keC5zICogdGV4X2R5LnQgLSB0ZXhfZHkucyAqIHRleF9keC50KTtcblxuI2lmZGVmIEhBU19OT1JNQUxTXG4gIHZlYzMgbmcgPSBub3JtYWxpemUocGJyX3ZOb3JtYWwpO1xuI2Vsc2VcbiAgdmVjMyBuZyA9IGNyb3NzKHBvc19keCwgcG9zX2R5KTtcbiNlbmRpZlxuXG4gIHQgPSBub3JtYWxpemUodCAtIG5nICogZG90KG5nLCB0KSk7XG4gIHZlYzMgYiA9IG5vcm1hbGl6ZShjcm9zcyhuZywgdCkpO1xuICBtYXQzIHRibiA9IG1hdDModCwgYiwgbmcpO1xuI2Vsc2VcbiAgbWF0MyB0Ym4gPSBwYnJfdlRCTjtcbiNlbmRpZlxuXG4jaWZkZWYgSEFTX05PUk1BTE1BUFxuICB2ZWMzIG4gPSB0ZXh0dXJlMkQodV9Ob3JtYWxTYW1wbGVyLCBwYnJfdlVWKS5yZ2I7XG4gIG4gPSBub3JtYWxpemUodGJuICogKCgyLjAgKiBuIC0gMS4wKSAqIHZlYzModV9Ob3JtYWxTY2FsZSwgdV9Ob3JtYWxTY2FsZSwgMS4wKSkpO1xuI2Vsc2VcbiAgdmVjMyBuID0gbm9ybWFsaXplKHRiblsyXS54eXopO1xuI2VuZGlmXG5cbiAgcmV0dXJuIG47XG59XG5cblxuI2lmZGVmIFVTRV9JQkxcbnZlYzMgZ2V0SUJMQ29udHJpYnV0aW9uKFBCUkluZm8gcGJySW5wdXRzLCB2ZWMzIG4sIHZlYzMgcmVmbGVjdGlvbilcbntcbiAgZmxvYXQgbWlwQ291bnQgPSA5LjA7XG4gIGZsb2F0IGxvZCA9IChwYnJJbnB1dHMucGVyY2VwdHVhbFJvdWdobmVzcyAqIG1pcENvdW50KTtcbiAgdmVjMyBicmRmID0gU1JHQnRvTElORUFSKHRleHR1cmUyRCh1X2JyZGZMVVQsXG4gICAgdmVjMihwYnJJbnB1dHMuTmRvdFYsIDEuMCAtIHBicklucHV0cy5wZXJjZXB0dWFsUm91Z2huZXNzKSkpLnJnYjtcbiAgdmVjMyBkaWZmdXNlTGlnaHQgPSBTUkdCdG9MSU5FQVIodGV4dHVyZUN1YmUodV9EaWZmdXNlRW52U2FtcGxlciwgbikpLnJnYjtcblxuI2lmZGVmIFVTRV9URVhfTE9EXG4gIHZlYzMgc3BlY3VsYXJMaWdodCA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlQ3ViZUxvZEVYVCh1X1NwZWN1bGFyRW52U2FtcGxlciwgcmVmbGVjdGlvbiwgbG9kKSkucmdiO1xuI2Vsc2VcbiAgdmVjMyBzcGVjdWxhckxpZ2h0ID0gU1JHQnRvTElORUFSKHRleHR1cmVDdWJlKHVfU3BlY3VsYXJFbnZTYW1wbGVyLCByZWZsZWN0aW9uKSkucmdiO1xuI2VuZGlmXG5cbiAgdmVjMyBkaWZmdXNlID0gZGlmZnVzZUxpZ2h0ICogcGJySW5wdXRzLmRpZmZ1c2VDb2xvcjtcbiAgdmVjMyBzcGVjdWxhciA9IHNwZWN1bGFyTGlnaHQgKiAocGJySW5wdXRzLnNwZWN1bGFyQ29sb3IgKiBicmRmLnggKyBicmRmLnkpO1xuICBkaWZmdXNlICo9IHVfU2NhbGVJQkxBbWJpZW50Lng7XG4gIHNwZWN1bGFyICo9IHVfU2NhbGVJQkxBbWJpZW50Lnk7XG5cbiAgcmV0dXJuIGRpZmZ1c2UgKyBzcGVjdWxhcjtcbn1cbiNlbmRpZlxuXG5cbnZlYzMgZGlmZnVzZShQQlJJbmZvIHBicklucHV0cylcbntcbiAgcmV0dXJuIHBicklucHV0cy5kaWZmdXNlQ29sb3IgLyBNX1BJO1xufVxuXG52ZWMzIHNwZWN1bGFyUmVmbGVjdGlvbihQQlJJbmZvIHBicklucHV0cylcbntcbiAgcmV0dXJuIHBicklucHV0cy5yZWZsZWN0YW5jZTAgK1xuICAgIChwYnJJbnB1dHMucmVmbGVjdGFuY2U5MCAtIHBicklucHV0cy5yZWZsZWN0YW5jZTApICpcbiAgICBwb3coY2xhbXAoMS4wIC0gcGJySW5wdXRzLlZkb3RILCAwLjAsIDEuMCksIDUuMCk7XG59XG5cblxuXG5mbG9hdCBnZW9tZXRyaWNPY2NsdXNpb24oUEJSSW5mbyBwYnJJbnB1dHMpXG57XG4gIGZsb2F0IE5kb3RMID0gcGJySW5wdXRzLk5kb3RMO1xuICBmbG9hdCBOZG90ViA9IHBicklucHV0cy5OZG90VjtcbiAgZmxvYXQgciA9IHBicklucHV0cy5hbHBoYVJvdWdobmVzcztcblxuICBmbG9hdCBhdHRlbnVhdGlvbkwgPSAyLjAgKiBOZG90TCAvIChOZG90TCArIHNxcnQociAqIHIgKyAoMS4wIC0gciAqIHIpICogKE5kb3RMICogTmRvdEwpKSk7XG4gIGZsb2F0IGF0dGVudWF0aW9uViA9IDIuMCAqIE5kb3RWIC8gKE5kb3RWICsgc3FydChyICogciArICgxLjAgLSByICogcikgKiAoTmRvdFYgKiBOZG90VikpKTtcbiAgcmV0dXJuIGF0dGVudWF0aW9uTCAqIGF0dGVudWF0aW9uVjtcbn1cblxuXG5cblxuXG5mbG9hdCBtaWNyb2ZhY2V0RGlzdHJpYnV0aW9uKFBCUkluZm8gcGJySW5wdXRzKVxue1xuICBmbG9hdCByb3VnaG5lc3NTcSA9IHBicklucHV0cy5hbHBoYVJvdWdobmVzcyAqIHBicklucHV0cy5hbHBoYVJvdWdobmVzcztcbiAgZmxvYXQgZiA9IChwYnJJbnB1dHMuTmRvdEggKiByb3VnaG5lc3NTcSAtIHBicklucHV0cy5OZG90SCkgKiBwYnJJbnB1dHMuTmRvdEggKyAxLjA7XG4gIHJldHVybiByb3VnaG5lc3NTcSAvIChNX1BJICogZiAqIGYpO1xufVxuXG52b2lkIFBCUkluZm9fc2V0QW1iaWVudExpZ2h0KGlub3V0IFBCUkluZm8gcGJySW5wdXRzKSB7XG4gIHBicklucHV0cy5OZG90TCA9IDEuMDtcbiAgcGJySW5wdXRzLk5kb3RIID0gMC4wO1xuICBwYnJJbnB1dHMuTGRvdEggPSAwLjA7XG4gIHBicklucHV0cy5WZG90SCA9IDEuMDtcbn1cblxudm9pZCBQQlJJbmZvX3NldERpcmVjdGlvbmFsTGlnaHQoaW5vdXQgUEJSSW5mbyBwYnJJbnB1dHMsIHZlYzMgbGlnaHREaXJlY3Rpb24pIHtcbiAgdmVjMyBuID0gcGJySW5wdXRzLm47XG4gIHZlYzMgdiA9IHBicklucHV0cy52O1xuICB2ZWMzIGwgPSBub3JtYWxpemUobGlnaHREaXJlY3Rpb24pO1xuICB2ZWMzIGggPSBub3JtYWxpemUobCt2KTtcblxuICBwYnJJbnB1dHMuTmRvdEwgPSBjbGFtcChkb3QobiwgbCksIDAuMDAxLCAxLjApO1xuICBwYnJJbnB1dHMuTmRvdEggPSBjbGFtcChkb3QobiwgaCksIDAuMCwgMS4wKTtcbiAgcGJySW5wdXRzLkxkb3RIID0gY2xhbXAoZG90KGwsIGgpLCAwLjAsIDEuMCk7XG4gIHBicklucHV0cy5WZG90SCA9IGNsYW1wKGRvdCh2LCBoKSwgMC4wLCAxLjApO1xufVxuXG52b2lkIFBCUkluZm9fc2V0UG9pbnRMaWdodChpbm91dCBQQlJJbmZvIHBicklucHV0cywgUG9pbnRMaWdodCBwb2ludExpZ2h0KSB7XG4gIHZlYzMgbGlnaHRfZGlyZWN0aW9uID0gbm9ybWFsaXplKHBvaW50TGlnaHQucG9zaXRpb24gLSBwYnJfdlBvc2l0aW9uKTtcbiAgUEJSSW5mb19zZXREaXJlY3Rpb25hbExpZ2h0KHBicklucHV0cywgbGlnaHRfZGlyZWN0aW9uKTtcbn1cblxudmVjMyBjYWxjdWxhdGVGaW5hbENvbG9yKFBCUkluZm8gcGJySW5wdXRzLCB2ZWMzIGxpZ2h0Q29sb3IpIHtcbiAgdmVjMyBGID0gc3BlY3VsYXJSZWZsZWN0aW9uKHBicklucHV0cyk7XG4gIGZsb2F0IEcgPSBnZW9tZXRyaWNPY2NsdXNpb24ocGJySW5wdXRzKTtcbiAgZmxvYXQgRCA9IG1pY3JvZmFjZXREaXN0cmlidXRpb24ocGJySW5wdXRzKTtcbiAgdmVjMyBkaWZmdXNlQ29udHJpYiA9ICgxLjAgLSBGKSAqIGRpZmZ1c2UocGJySW5wdXRzKTtcbiAgdmVjMyBzcGVjQ29udHJpYiA9IEYgKiBHICogRCAvICg0LjAgKiBwYnJJbnB1dHMuTmRvdEwgKiBwYnJJbnB1dHMuTmRvdFYpO1xuICByZXR1cm4gcGJySW5wdXRzLk5kb3RMICogbGlnaHRDb2xvciAqIChkaWZmdXNlQ29udHJpYiArIHNwZWNDb250cmliKTtcbn1cblxudmVjNCBwYnJfZmlsdGVyQ29sb3IodmVjNCBjb2xvclVudXNlZClcbntcblxuXG4gIGZsb2F0IHBlcmNlcHR1YWxSb3VnaG5lc3MgPSB1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzLnk7XG4gIGZsb2F0IG1ldGFsbGljID0gdV9NZXRhbGxpY1JvdWdobmVzc1ZhbHVlcy54O1xuI2lmZGVmIEhBU19NRVRBTFJPVUdITkVTU01BUFxuXG4gIHZlYzQgbXJTYW1wbGUgPSB0ZXh0dXJlMkQodV9NZXRhbGxpY1JvdWdobmVzc1NhbXBsZXIsIHBicl92VVYpO1xuICBwZXJjZXB0dWFsUm91Z2huZXNzID0gbXJTYW1wbGUuZyAqIHBlcmNlcHR1YWxSb3VnaG5lc3M7XG4gIG1ldGFsbGljID0gbXJTYW1wbGUuYiAqIG1ldGFsbGljO1xuI2VuZGlmXG4gIHBlcmNlcHR1YWxSb3VnaG5lc3MgPSBjbGFtcChwZXJjZXB0dWFsUm91Z2huZXNzLCBjX01pblJvdWdobmVzcywgMS4wKTtcbiAgbWV0YWxsaWMgPSBjbGFtcChtZXRhbGxpYywgMC4wLCAxLjApO1xuXG4gIGZsb2F0IGFscGhhUm91Z2huZXNzID0gcGVyY2VwdHVhbFJvdWdobmVzcyAqIHBlcmNlcHR1YWxSb3VnaG5lc3M7XG4jaWZkZWYgSEFTX0JBU0VDT0xPUk1BUFxuICB2ZWM0IGJhc2VDb2xvciA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlMkQodV9CYXNlQ29sb3JTYW1wbGVyLCBwYnJfdlVWKSkgKiB1X0Jhc2VDb2xvckZhY3RvcjtcbiNlbHNlXG4gIHZlYzQgYmFzZUNvbG9yID0gdV9CYXNlQ29sb3JGYWN0b3I7XG4jZW5kaWZcblxuI2lmZGVmIEFMUEhBX0NVVE9GRlxuICBpZiAoYmFzZUNvbG9yLmEgPCB1X0FscGhhQ3V0b2ZmKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuI2VuZGlmXG5cbiAgdmVjMyBmMCA9IHZlYzMoMC4wNCk7XG4gIHZlYzMgZGlmZnVzZUNvbG9yID0gYmFzZUNvbG9yLnJnYiAqICh2ZWMzKDEuMCkgLSBmMCk7XG4gIGRpZmZ1c2VDb2xvciAqPSAxLjAgLSBtZXRhbGxpYztcbiAgdmVjMyBzcGVjdWxhckNvbG9yID0gbWl4KGYwLCBiYXNlQ29sb3IucmdiLCBtZXRhbGxpYyk7XG4gIGZsb2F0IHJlZmxlY3RhbmNlID0gbWF4KG1heChzcGVjdWxhckNvbG9yLnIsIHNwZWN1bGFyQ29sb3IuZyksIHNwZWN1bGFyQ29sb3IuYik7XG5cblxuXG4gIGZsb2F0IHJlZmxlY3RhbmNlOTAgPSBjbGFtcChyZWZsZWN0YW5jZSAqIDI1LjAsIDAuMCwgMS4wKTtcbiAgdmVjMyBzcGVjdWxhckVudmlyb25tZW50UjAgPSBzcGVjdWxhckNvbG9yLnJnYjtcbiAgdmVjMyBzcGVjdWxhckVudmlyb25tZW50UjkwID0gdmVjMygxLjAsIDEuMCwgMS4wKSAqIHJlZmxlY3RhbmNlOTA7XG5cbiAgdmVjMyBuID0gZ2V0Tm9ybWFsKCk7XG4gIHZlYzMgdiA9IG5vcm1hbGl6ZSh1X0NhbWVyYSAtIHBicl92UG9zaXRpb24pO1xuXG4gIGZsb2F0IE5kb3RWID0gY2xhbXAoYWJzKGRvdChuLCB2KSksIDAuMDAxLCAxLjApO1xuICB2ZWMzIHJlZmxlY3Rpb24gPSAtbm9ybWFsaXplKHJlZmxlY3QodiwgbikpO1xuXG4gIFBCUkluZm8gcGJySW5wdXRzID0gUEJSSW5mbyhcbiAgICAwLjAsXG4gICAgTmRvdFYsXG4gICAgMC4wLFxuICAgIDAuMCxcbiAgICAwLjAsXG4gICAgcGVyY2VwdHVhbFJvdWdobmVzcyxcbiAgICBtZXRhbGxpYyxcbiAgICBzcGVjdWxhckVudmlyb25tZW50UjAsXG4gICAgc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxcbiAgICBhbHBoYVJvdWdobmVzcyxcbiAgICBkaWZmdXNlQ29sb3IsXG4gICAgc3BlY3VsYXJDb2xvcixcbiAgICBuLFxuICAgIHZcbiAgKTtcblxuICB2ZWMzIGNvbG9yID0gdmVjMygwLCAwLCAwKTtcblxuI2lmZGVmIFVTRV9MSUdIVFNcbiAgUEJSSW5mb19zZXRBbWJpZW50TGlnaHQocGJySW5wdXRzKTtcbiAgY29sb3IgKz0gY2FsY3VsYXRlRmluYWxDb2xvcihwYnJJbnB1dHMsIGxpZ2h0aW5nX3VBbWJpZW50TGlnaHQuY29sb3IpO1xuICBTTUFSVF9GT1IoaW50IGkgPSAwLCBpIDwgTUFYX0xJR0hUUywgaSA8IGxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0Q291bnQsIGkrKykge1xuICAgIGlmIChpIDwgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRDb3VudCkge1xuICAgICAgUEJSSW5mb19zZXREaXJlY3Rpb25hbExpZ2h0KHBicklucHV0cywgbGlnaHRpbmdfdURpcmVjdGlvbmFsTGlnaHRbaV0uZGlyZWN0aW9uKTtcbiAgICAgIGNvbG9yICs9IGNhbGN1bGF0ZUZpbmFsQ29sb3IocGJySW5wdXRzLCBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodFtpXS5jb2xvcik7XG4gICAgfVxuICB9XG4gIFNNQVJUX0ZPUihpbnQgaSA9IDAsIGkgPCBNQVhfTElHSFRTLCBpIDwgbGlnaHRpbmdfdVBvaW50TGlnaHRDb3VudCwgaSsrKSB7XG4gICAgaWYgKGkgPCBsaWdodGluZ191UG9pbnRMaWdodENvdW50KSB7XG4gICAgICBQQlJJbmZvX3NldFBvaW50TGlnaHQocGJySW5wdXRzLCBsaWdodGluZ191UG9pbnRMaWdodFtpXSk7XG4gICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IGdldFBvaW50TGlnaHRBdHRlbnVhdGlvbihsaWdodGluZ191UG9pbnRMaWdodFtpXSwgZGlzdGFuY2UobGlnaHRpbmdfdVBvaW50TGlnaHRbaV0ucG9zaXRpb24sIHBicl92UG9zaXRpb24pKTtcbiAgICAgIGNvbG9yICs9IGNhbGN1bGF0ZUZpbmFsQ29sb3IocGJySW5wdXRzLCBsaWdodGluZ191UG9pbnRMaWdodFtpXS5jb2xvciAvIGF0dGVudWF0aW9uKTtcbiAgICB9XG4gIH1cbiNlbmRpZlxuI2lmZGVmIFVTRV9JQkxcbiAgY29sb3IgKz0gZ2V0SUJMQ29udHJpYnV0aW9uKHBicklucHV0cywgbiwgcmVmbGVjdGlvbik7XG4jZW5kaWZcbiNpZmRlZiBIQVNfT0NDTFVTSU9OTUFQXG4gIGZsb2F0IGFvID0gdGV4dHVyZTJEKHVfT2NjbHVzaW9uU2FtcGxlciwgcGJyX3ZVVikucjtcbiAgY29sb3IgPSBtaXgoY29sb3IsIGNvbG9yICogYW8sIHVfT2NjbHVzaW9uU3RyZW5ndGgpO1xuI2VuZGlmXG5cbiNpZmRlZiBIQVNfRU1JU1NJVkVNQVBcbiAgdmVjMyBlbWlzc2l2ZSA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlMkQodV9FbWlzc2l2ZVNhbXBsZXIsIHBicl92VVYpKS5yZ2IgKiB1X0VtaXNzaXZlRmFjdG9yO1xuICBjb2xvciArPSBlbWlzc2l2ZTtcbiNlbmRpZlxuXG4jaWZkZWYgUEJSX0RFQlVHXG5cblxuXG5cblxuICBjb2xvciA9IG1peChjb2xvciwgYmFzZUNvbG9yLnJnYiwgdV9TY2FsZURpZmZCYXNlTVIueSk7XG4gIGNvbG9yID0gbWl4KGNvbG9yLCB2ZWMzKG1ldGFsbGljKSwgdV9TY2FsZURpZmZCYXNlTVIueik7XG4gIGNvbG9yID0gbWl4KGNvbG9yLCB2ZWMzKHBlcmNlcHR1YWxSb3VnaG5lc3MpLCB1X1NjYWxlRGlmZkJhc2VNUi53KTtcbiNlbmRpZlxuXG4gIHJldHVybiB2ZWM0KHBvdyhjb2xvcix2ZWMzKDEuMC8yLjIpKSwgYmFzZUNvbG9yLmEpO1xufVxuIixkZWZpbmVzOntMSUdIVElOR19GUkFHTUVOVDoxfSxkZXBlbmRlbmNpZXM6W24oMTI5KS5hXX0sdz1uKDUpLFM9big2KSxrPW4oMSksUD1uKDEwNSksaj1uKDI5KSxUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qody5hKSh0aGlzLGUpO3ZhciBuPXQuaWQ7dGhpcy5pZD1ufHxPYmplY3QoUC5jKSh0aGlzLmNvbnN0cnVjdG9yLm5hbWUpLHRoaXMuZGlzcGxheT0hMCx0aGlzLnBvc2l0aW9uPW5ldyBrLmUsdGhpcy5yb3RhdGlvbj1uZXcgay5lLHRoaXMuc2NhbGU9bmV3IGsuZSgxLDEsMSksdGhpcy5tYXRyaXg9bmV3IGsuYix0aGlzLnVzZXJEYXRhPXt9LHRoaXMucHJvcHM9e30sdGhpcy5fc2V0U2NlbmVncmFwaE5vZGVQcm9wcyh0KX1yZXR1cm4gT2JqZWN0KFMuYSkoZSxbe2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2V0U2NlbmVncmFwaE5vZGVQcm9wcyhlKSx0aGlzfX0se2tleToidG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuInt0eXBlOiBTY2VuZWdyYXBoTm9kZSwgaWQ6ICIuY29uY2F0KHRoaXMuaWQsIil9Iil9fSx7a2V5OiJzZXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT1lLmxlbmd0aCwic2V0UG9zaXRpb24gcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5wb3NpdGlvbj1lLHRoaXN9fSx7a2V5OiJzZXRSb3RhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT1lLmxlbmd0aCwic2V0Um90YXRpb24gcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5yb3RhdGlvbj1lLHRoaXN9fSx7a2V5OiJzZXRTY2FsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChqLmEpKDM9PT1lLmxlbmd0aCwic2V0U2NhbGUgcmVxdWlyZXMgdmVjdG9yIGFyZ3VtZW50IiksdGhpcy5zY2FsZT1lLHRoaXN9fSx7a2V5OiJzZXRNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dD90aGlzLm1hdHJpeC5jb3B5KGUpOnRoaXMubWF0cml4PWV9fSx7a2V5OiJzZXRNYXRyaXhDb21wb25lbnRzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnBvc2l0aW9uLG49ZS5yb3RhdGlvbixyPWUuc2NhbGUsaT1lLnVwZGF0ZSxhPXZvaWQgMD09PWl8fGk7cmV0dXJuIHQmJnRoaXMuc2V0UG9zaXRpb24odCksbiYmdGhpcy5zZXRSb3RhdGlvbihuKSxyJiZ0aGlzLnNldFNjYWxlKHIpLGEmJnRoaXMudXBkYXRlTWF0cml4KCksdGhpc319LHtrZXk6InVwZGF0ZU1hdHJpeCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBvc2l0aW9uLHQ9dGhpcy5yb3RhdGlvbixuPXRoaXMuc2NhbGU7cmV0dXJuIHRoaXMubWF0cml4LmlkZW50aXR5KCksdGhpcy5tYXRyaXgudHJhbnNsYXRlKGUpLHRoaXMubWF0cml4LnJvdGF0ZVhZWih0KSx0aGlzLm1hdHJpeC5zY2FsZShuKSx0aGlzfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUucG9zaXRpb24sbj1lLnJvdGF0aW9uLHI9ZS5zY2FsZTtyZXR1cm4gdCYmdGhpcy5zZXRQb3NpdGlvbih0KSxuJiZ0aGlzLnNldFJvdGF0aW9uKG4pLHImJnRoaXMuc2V0U2NhbGUociksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzfX0se2tleToiZ2V0Q29vcmRpbmF0ZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbihlLHQpe09iamVjdChqLmEpKGUpLHQ9dHx8dGhpcy5tYXRyaXg7dmFyIG49bmV3IGsuYihlKS5tdWx0aXBseVJpZ2h0KHQpLHI9bi5pbnZlcnQoKSxpPXIudHJhbnNwb3NlKCk7cmV0dXJue3ZpZXdNYXRyaXg6ZSxtb2RlbE1hdHJpeDp0LG9iamVjdE1hdHJpeDp0LHdvcmxkTWF0cml4Om4sd29ybGRJbnZlcnNlTWF0cml4OnIsd29ybGRJbnZlcnNlVHJhbnNwb3NlTWF0cml4Oml9fX0se2tleToiX3NldFNjZW5lZ3JhcGhOb2RlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpeyJkaXNwbGF5ImluIGUmJih0aGlzLmRpc3BsYXk9ZS5kaXNwbGF5KSwicG9zaXRpb24iaW4gZSYmdGhpcy5zZXRQb3NpdGlvbihlLnBvc2l0aW9uKSwicm90YXRpb24iaW4gZSYmdGhpcy5zZXRSb3RhdGlvbihlLnJvdGF0aW9uKSwic2NhbGUiaW4gZSYmdGhpcy5zZXRTY2FsZShlLnNjYWxlKSwibWF0cml4ImluIGUmJnRoaXMuc2V0TWF0cml4KGUubWF0cml4KSxPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsZSl9fV0pLGV9KCksRT1uKDQ2KSxBPW4oNjEpLE09bigyNyksQz1uKDE2KSxMPW4oMTUpLEk9big3NyksUj1uKDE3KSxEPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3Qody5hKSh0aGlzLHQpO3ZhciByPW49QXJyYXkuaXNBcnJheShuKT97Y2hpbGRyZW46bn06bixpPXIuY2hpbGRyZW4sYT12b2lkIDA9PT1pP1tdOmk7cmV0dXJuIE8uaC5hc3NlcnQoYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBUfSkpLCJldmVyeSBjaGlsZCBtdXN0IGFuIGluc3RhbmNlIG9mIFNjZW5lZ3JhcGhOb2RlIiksKGU9T2JqZWN0KEMuYSkodGhpcyxPYmplY3QoTC5hKSh0KS5jYWxsKHRoaXMsbikpKS5jaGlsZHJlbj1hLGV9cmV0dXJuIE9iamVjdChSLmEpKHQsZSksT2JqZWN0KFMuYSkodCxbe2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl7dmFyIGE9aVtyXTtBcnJheS5pc0FycmF5KGEpP3RoaXMuYWRkLmFwcGx5KHRoaXMsT2JqZWN0KE0uYSkoYSkpOnRoaXMuY2hpbGRyZW4ucHVzaChhKX1yZXR1cm4gdGhpc319LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jaGlsZHJlbixuPXQuaW5kZXhPZihlKTtyZXR1cm4gbj4tMSYmdC5zcGxpY2UobiwxKSx0aGlzfX0se2tleToicmVtb3ZlQWxsIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuPVtdLHRoaXN9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWxldGUoKX0pKSx0aGlzLnJlbW92ZUFsbCgpLE9iamVjdChJLmEpKE9iamVjdChMLmEpKHQucHJvdG90eXBlKSwiZGVsZXRlIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToidHJhdmVyc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW4ud29ybGRNYXRyaXgsaT12b2lkIDA9PT1yP25ldyBrLmI6cixhPW5ldyBrLmIoaSkubXVsdGlwbHlSaWdodCh0aGlzLm1hdHJpeCksbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD10aGlzLmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWU7aCBpbnN0YW5jZW9mIHQ/aC50cmF2ZXJzZShlLHt3b3JsZE1hdHJpeDphfSk6ZShoLHt3b3JsZE1hdHJpeDphfSl9fWNhdGNoKGUpe3M9ITAsdT1lfWZpbmFsbHl7dHJ5e298fG51bGw9PWwucmV0dXJufHxsLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyB1fX19fV0pLHR9KFQpLEY9e1NDQUxBUjoxLFZFQzI6MixWRUMzOjMsVkVDNDo0LE1BVDI6NCxNQVQzOjksTUFUNDoxNn0sTj17NTEyMDpJbnQ4QXJyYXksNTEyMTpVaW50OEFycmF5LDUxMjI6SW50MTZBcnJheSw1MTIzOlVpbnQxNkFycmF5LDUxMjU6VWludDMyQXJyYXksNTEyNjpGbG9hdDMyQXJyYXl9O2Z1bmN0aW9uIHooZSl7aWYoIWUuX2FuaW1hdGlvbil7dmFyIHQ9TltlLmNvbXBvbmVudFR5cGVdLG49RltlLnR5cGVdLHI9biplLmNvdW50LGk9ZS5idWZmZXJWaWV3LmRhdGEsYT1uZXcgdChpLmJ1ZmZlcixpLmJ5dGVPZmZzZXQrKGUuYnl0ZU9mZnNldHx8MCkscik7aWYoMT09PW4pZS5fYW5pbWF0aW9uPUFycmF5LmZyb20oYSk7ZWxzZXtmb3IodmFyIG89W10scz0wO3M8YS5sZW5ndGg7cys9bilvLnB1c2goQXJyYXkuZnJvbShhLnNsaWNlKHMscytuKSkpO2UuX2FuaW1hdGlvbj1vfX1yZXR1cm4gZS5fYW5pbWF0aW9ufXZhciBCPW5ldyBrLmI7dmFyIFU9bmV3IGsuYztmdW5jdGlvbiBWKGUsdCxuLHIpe3ZhciBpPXQuaW5wdXQsYT10LmludGVycG9sYXRpb24sbz10Lm91dHB1dCxzPWUlaVtpLmxlbmd0aC0xXSx1PWkuZmluZEluZGV4KChmdW5jdGlvbihlKXtyZXR1cm4gZT49c30pKSxjPU1hdGgubWF4KDAsdS0xKTtpZighQXJyYXkuaXNBcnJheShuW3JdKSlzd2l0Y2gocil7Y2FzZSJ0cmFuc2xhdGlvbiI6bltyXT1bMCwwLDBdO2JyZWFrO2Nhc2Uicm90YXRpb24iOm5bcl09WzAsMCwwLDFdO2JyZWFrO2Nhc2Uic2NhbGUiOm5bcl09WzEsMSwxXTticmVhaztkZWZhdWx0Ok8uaC53YXJuKCJCYWQgYW5pbWF0aW9uIHBhdGggIi5jb25jYXQocikpKCl9T2JqZWN0KGouYSkobltyXS5sZW5ndGg9PT1vW2NdLmxlbmd0aCk7dmFyIGw9aVtjXSxoPWlbdV07c3dpdGNoKGEpe2Nhc2UiU1RFUCI6IWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyllW3RdW3JdPW5bcl19KG4scixvW2NdKTticmVhaztjYXNlIkxJTkVBUiI6aWYoaD5sKXt2YXIgZj0ocy1sKS8oaC1sKTshZnVuY3Rpb24oZSx0LG4scixpKXtpZigicm90YXRpb24iPT09dCl7VS5zbGVycCh7c3RhcnQ6bix0YXJnZXQ6cixyYXRpbzppfSk7Zm9yKHZhciBhPTA7YTxVLmxlbmd0aDthKyspZVt0XVthXT1VW2FdfWVsc2UgZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspZVt0XVtvXT1pKnJbb10rKDEtaSkqbltvXX0obixyLG9bY10sb1t1XSxmKX1icmVhaztjYXNlIkNVQklDU1BMSU5FIjppZihoPmwpe3ZhciBkPShzLWwpLyhoLWwpLHY9aC1sOyFmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW4ucDAsaT1uLm91dFRhbmdlbnQwLGE9bi5pblRhbmdlbnQxLG89bi5wMSxzPW4udERpZmYsdT1uLnJhdGlvLGM9MDtjPGVbdF0ubGVuZ3RoO2MrKyl7dmFyIGw9aVtjXSpzLGg9YVtjXSpzO2VbdF1bY109KDIqTWF0aC5wb3codSwzKS0zKk1hdGgucG93KHUsMikrMSkqcltjXSsoTWF0aC5wb3codSwzKS0yKk1hdGgucG93KHUsMikrdSkqbCsoLTIqTWF0aC5wb3codSwzKSszKk1hdGgucG93KHUsMikpKm9bY10rKE1hdGgucG93KHUsMyktTWF0aC5wb3codSwyKSkqaH19KG4scix7cDA6b1szKmMrMV0sb3V0VGFuZ2VudDA6b1szKmMrMl0saW5UYW5nZW50MTpvWzMqdSswXSxwMTpvWzMqdSsxXSx0RGlmZjp2LHJhdGlvOmR9KX1icmVhaztkZWZhdWx0Ok8uaC53YXJuKCJJbnRlcnBvbGF0aW9uICIuY29uY2F0KGEsIiBub3Qgc3VwcG9ydGVkIikpKCl9fXZhciBHPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtPYmplY3Qody5hKSh0aGlzLGUpLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5wbGF5aW5nPSEwLHRoaXMuc3BlZWQ9MSxPYmplY3QuYXNzaWduKHRoaXMsdCl9cmV0dXJuIE9iamVjdChTLmEpKGUsW3trZXk6ImFuaW1hdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMucGxheWluZyl7dmFyIHQ9KGUvMWUzLXRoaXMuc3RhcnRUaW1lKSp0aGlzLnNwZWVkO3RoaXMuY2hhbm5lbHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5zYW1wbGVyLHI9ZS50YXJnZXQsaT1lLnBhdGg7Vih0LG4scixpKSxmdW5jdGlvbihlLHQpe2lmKHQubWF0cml4LmlkZW50aXR5KCksZS50cmFuc2xhdGlvbiYmdC5tYXRyaXgudHJhbnNsYXRlKGUudHJhbnNsYXRpb24pLGUucm90YXRpb24pe3ZhciBuPUIuZnJvbVF1YXRlcm5pb24oZS5yb3RhdGlvbik7dC5tYXRyaXgubXVsdGlwbHlSaWdodChuKX1lLnNjYWxlJiZ0Lm1hdHJpeC5zY2FsZShlLnNjYWxlKX0ocixyLl9ub2RlKX0pKX19fV0pLGV9KCksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7T2JqZWN0KHcuYSkodGhpcyxlKSx0aGlzLmFuaW1hdGlvbnM9dC5hbmltYXRpb25zLm1hcCgoZnVuY3Rpb24oZSxuKXt2YXIgcj1lLm5hbWV8fCJBbmltYXRpb24tIi5jb25jYXQobiksaT1lLnNhbXBsZXJzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5pbnB1dCxyPWUuaW50ZXJwb2xhdGlvbixpPXZvaWQgMD09PXI/IkxJTkVBUiI6cixhPWUub3V0cHV0O3JldHVybntpbnB1dDp6KHQuYWNjZXNzb3JzW25dKSxpbnRlcnBvbGF0aW9uOmksb3V0cHV0OnoodC5hY2Nlc3NvcnNbYV0pfX0pKSxhPWUuY2hhbm5lbHMubWFwKChmdW5jdGlvbihlKXt2YXIgbj1lLnNhbXBsZXIscj1lLnRhcmdldDtyZXR1cm57c2FtcGxlcjppW25dLHRhcmdldDp0Lm5vZGVzW3Iubm9kZV0scGF0aDpyLnBhdGh9fSkpO3JldHVybiBuZXcgRyh7bmFtZTpyLGNoYW5uZWxzOmF9KX0pKX1yZXR1cm4gT2JqZWN0KFMuYSkoZSxbe2tleToiYW5pbWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zZXRUaW1lKGUpfX0se2tleToic2V0VGltZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5hbmltYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFuaW1hdGUoZSl9KSl9fSx7a2V5OiJnZXRBbmltYXRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuaW1hdGlvbnN9fV0pLGV9KCksSD1uKDE2MSkscT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qody5hKSh0aGlzLHQpLChuPU9iamVjdChDLmEpKHRoaXMsT2JqZWN0KEwuYSkodCkuY2FsbCh0aGlzLHIpKSkub25CZWZvcmVSZW5kZXI9bnVsbCxuLkFmdGVyUmVuZGVyPW51bGwsZSBpbnN0YW5jZW9mIEguYT8obi5tb2RlbD1lLG4uX3NldE1vZGVsTm9kZVByb3BzKHIpKTpuLm1vZGVsPW5ldyBILmEoZSxyKSxuLm1hbmFnZWRSZXNvdXJjZXM9ci5tYW5hZ2VkUmVzb3VyY2VzfHxbXSxufXJldHVybiBPYmplY3QoUi5hKSh0LGUpLE9iamVjdChTLmEpKHQsW3trZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KEkuYSkoT2JqZWN0KEwuYSkodC5wcm90b3R5cGUpLCJzZXRQcm9wcyIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuX3NldE1vZGVsTm9kZVByb3BzKGUpLHRoaXN9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbCYmKHRoaXMubW9kZWwuZGVsZXRlKCksdGhpcy5tb2RlbD1udWxsKSx0aGlzLm1hbmFnZWRSZXNvdXJjZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVsZXRlKCl9KSksdGhpcy5tYW5hZ2VkUmVzb3VyY2VzPVtdfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT10aGlzLm1vZGVsKS5kcmF3LmFwcGx5KGUsYXJndW1lbnRzKX19LHtrZXk6InNldFVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3JldHVybihlPXRoaXMubW9kZWwpLnNldFVuaWZvcm1zLmFwcGx5KGUsYXJndW1lbnRzKSx0aGlzfX0se2tleToic2V0QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT10aGlzLm1vZGVsKS5zZXRBdHRyaWJ1dGVzLmFwcGx5KGUsYXJndW1lbnRzKSx0aGlzfX0se2tleToidXBkYXRlTW9kdWxlU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5tb2RlbCkudXBkYXRlTW9kdWxlU2V0dGluZ3MuYXBwbHkoZSxhcmd1bWVudHMpLHRoaXN9fSx7a2V5OiJfc2V0TW9kZWxOb2RlUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubW9kZWwuc2V0UHJvcHMoZSl9fV0pLHR9KFQpLFg9bigwKSxaPW4oMjU0KSxZPW4oMTczKSxLPW4oMTE2KSxRPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByPW4uYXR0cmlidXRlcyxpPW4ubWF0ZXJpYWwsYT1uLnBickRlYnVnLG89bi5pbWFnZUJhc2VkTGlnaHRpbmdFbnZpcm9ubWVudCxzPW4ubGlnaHRzLHU9bi51c2VUYW5nZW50cztPYmplY3Qody5hKSh0aGlzLGUpLHRoaXMuZ2w9dCx0aGlzLmRlZmluZXM9e01BTlVBTF9TUkdCOjEsU1JHQl9GQVNUX0FQUFJPWElNQVRJT046MX0sT2JqZWN0KFouYikodCxZLmEuR0xTTF9URVhUVVJFX0xPRCkmJih0aGlzLmRlZmluZXMuVVNFX1RFWF9MT0Q9MSksdGhpcy51bmlmb3Jtcz17dV9DYW1lcmE6WzAsMCwwXSx1X01ldGFsbGljUm91Z2huZXNzVmFsdWVzOlsxLDFdfSx0aGlzLnBhcmFtZXRlcnM9e30sdGhpcy5nZW5lcmF0ZWRUZXh0dXJlcz1bXSxvJiYodGhpcy51bmlmb3Jtcy51X0RpZmZ1c2VFbnZTYW1wbGVyPW8uZ2V0RGlmZnVzZUVudlNhbXBsZXIoKSx0aGlzLnVuaWZvcm1zLnVfU3BlY3VsYXJFbnZTYW1wbGVyPW8uZ2V0U3BlY3VsYXJFbnZTYW1wbGVyKCksdGhpcy51bmlmb3Jtcy51X2JyZGZMVVQ9by5nZXRCcmRmVGV4dHVyZSgpLHRoaXMudW5pZm9ybXMudV9TY2FsZUlCTEFtYmllbnQ9WzEsMV0pLGEmJih0aGlzLnVuaWZvcm1zLnVfU2NhbGVEaWZmQmFzZU1SPVswLDAsMCwwXSx0aGlzLnVuaWZvcm1zLnVfU2NhbGVGR0RTcGVjPVswLDAsMCwwXSksdGhpcy5kZWZpbmVJZlByZXNlbnQoci5OT1JNQUwsIkhBU19OT1JNQUxTIiksdGhpcy5kZWZpbmVJZlByZXNlbnQoci5UQU5HRU5UJiZ1LCJIQVNfVEFOR0VOVFMiKSx0aGlzLmRlZmluZUlmUHJlc2VudChyLlRFWENPT1JEXzAsIkhBU19VViIpLHRoaXMuZGVmaW5lSWZQcmVzZW50KG8sIlVTRV9JQkwiKSx0aGlzLmRlZmluZUlmUHJlc2VudChzLCJVU0VfTElHSFRTIiksdGhpcy5kZWZpbmVJZlByZXNlbnQoYSwiUEJSX0RFQlVHIiksaSYmdGhpcy5wYXJzZU1hdGVyaWFsKGkpfXJldHVybiBPYmplY3QoUy5hKShlLFt7a2V5OiJkZWZpbmVJZlByZXNlbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZSYmKHRoaXMuZGVmaW5lc1t0XT0xKX19LHtrZXk6InBhcnNlVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxyPWUudGV4dHVyZSYmZS50ZXh0dXJlLnNhbXBsZXImJmUudGV4dHVyZS5zYW1wbGVyLnBhcmFtZXRlcnN8fHt9LGk9bmV3IEsuYSh0aGlzLmdsLHtpZDplLm5hbWV8fGUuaWQscGFyYW1ldGVyczpyLHBpeGVsU3RvcmU6T2JqZWN0KFguYSkoe30sdGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCExKSxkYXRhOmUudGV4dHVyZS5zb3VyY2UuaW1hZ2V9KTt0aGlzLnVuaWZvcm1zW3RdPWksdGhpcy5kZWZpbmVJZlByZXNlbnQobixuKSx0aGlzLmdlbmVyYXRlZFRleHR1cmVzLnB1c2goaSl9fSx7a2V5OiJwYXJzZVBick1ldGFsbGljUm91Z2huZXNzIix2YWx1ZTpmdW5jdGlvbihlKXtlLmJhc2VDb2xvclRleHR1cmUmJnRoaXMucGFyc2VUZXh0dXJlKGUuYmFzZUNvbG9yVGV4dHVyZSwidV9CYXNlQ29sb3JTYW1wbGVyIiwiSEFTX0JBU0VDT0xPUk1BUCIpLHRoaXMudW5pZm9ybXMudV9CYXNlQ29sb3JGYWN0b3I9ZS5iYXNlQ29sb3JGYWN0b3J8fFsxLDEsMSwxXSxlLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSYmdGhpcy5wYXJzZVRleHR1cmUoZS5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUsInVfTWV0YWxsaWNSb3VnaG5lc3NTYW1wbGVyIiwiSEFTX01FVEFMUk9VR0hORVNTTUFQIik7dmFyIHQ9ZS5tZXRhbGxpY0ZhY3RvcixuPXZvaWQgMD09PXQ/MTp0LHI9ZS5yb3VnaG5lc3NGYWN0b3IsaT12b2lkIDA9PT1yPzE6cjt0aGlzLnVuaWZvcm1zLnVfTWV0YWxsaWNSb3VnaG5lc3NWYWx1ZXM9W24saV19fSx7a2V5OiJwYXJzZU1hdGVyaWFsIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlLnBick1ldGFsbGljUm91Z2huZXNzJiZ0aGlzLnBhcnNlUGJyTWV0YWxsaWNSb3VnaG5lc3MoZS5wYnJNZXRhbGxpY1JvdWdobmVzcyksZS5ub3JtYWxUZXh0dXJlKXt0aGlzLnBhcnNlVGV4dHVyZShlLm5vcm1hbFRleHR1cmUsInVfTm9ybWFsU2FtcGxlciIsIkhBU19OT1JNQUxNQVAiKTt2YXIgdD1lLm5vcm1hbFRleHR1cmUuc2NhbGUsbj12b2lkIDA9PT10PzE6dDt0aGlzLnVuaWZvcm1zLnVfTm9ybWFsU2NhbGU9bn1pZihlLm9jY2x1c2lvblRleHR1cmUpe3RoaXMucGFyc2VUZXh0dXJlKGUub2NjbHVzaW9uVGV4dHVyZSwidV9PY2NsdXNpb25TYW1wbGVyIiwiSEFTX09DQ0xVU0lPTk1BUCIpO3ZhciByPWUub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCxpPXZvaWQgMD09PXI/MTpyO3RoaXMudW5pZm9ybXMudV9PY2NsdXNpb25TdHJlbmd0aD1pfWlmKGUuZW1pc3NpdmVUZXh0dXJlJiYodGhpcy5wYXJzZVRleHR1cmUoZS5lbWlzc2l2ZVRleHR1cmUsInVfRW1pc3NpdmVTYW1wbGVyIiwiSEFTX0VNSVNTSVZFTUFQIiksdGhpcy51bmlmb3Jtcy51X0VtaXNzaXZlRmFjdG9yPWUuZW1pc3NpdmVGYWN0b3J8fFswLDAsMF0pLCJNQVNLIj09PWUuYWxwaGFNb2RlKXt2YXIgYT1lLmFscGhhQ3V0b2ZmLG89dm9pZCAwPT09YT8uNTphO3RoaXMuZGVmaW5lcy5BTFBIQV9DVVRPRkY9MSx0aGlzLnVuaWZvcm1zLnVfQWxwaGFDdXRvZmY9b31lbHNlIkJMRU5EIj09PWUuYWxwaGFNb2RlJiYoTy5oLndhcm4oIkJMRU5EIGFscGhhTW9kZSBtaWdodCBub3Qgd29yayB3ZWxsIGJlY2F1c2UgaXQgcmVxdWlyZXMgbWVzaCBzb3J0aW5nIikoKSxPYmplY3QuYXNzaWduKHRoaXMucGFyYW1ldGVycyx7YmxlbmQ6ITAsYmxlbmRFcXVhdGlvbjp0aGlzLmdsLkZVTkNfQURELGJsZW5kRnVuYzpbdGhpcy5nbC5TUkNfQUxQSEEsdGhpcy5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuZ2wuT05FLHRoaXMuZ2wuT05FX01JTlVTX1NSQ19BTFBIQV19KSl9fV0pLGV9KCk7ZnVuY3Rpb24gSihlLHQpe3JldHVybiBPYmplY3QoTy5nKShlKT8iI3ZlcnNpb24gMzAwIGVzXG4iLmNvbmNhdCh0KTp0fXZhciAkPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LGVlPXttb2RlbE9wdGlvbnM6e30scGJyRGVidWc6ITEsaW1hZ2VCYXNlZExpZ2h0aW5nRW52aXJvbm1lbnQ6bnVsbCxsaWdodHM6ITAsdXNlVGFuZ2VudHM6ITF9LHRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307T2JqZWN0KHcuYSkodGhpcyxlKSx0aGlzLmdsPXQsdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sZWUsbil9cmV0dXJuIE9iamVjdChTLmEpKGUsW3trZXk6Imluc3RhbnRpYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmdsdGY9ZSwoZS5zY2VuZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNyZWF0ZVNjZW5lKGUpfSkpfX0se2tleToiY3JlYXRlQW5pbWF0b3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5nbHRmLmFuaW1hdGlvbnMpP25ldyBXKHRoaXMuZ2x0Zik6bnVsbH19LHtrZXk6ImNyZWF0ZVNjZW5lIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49KGUubm9kZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNyZWF0ZU5vZGUoZSl9KSk7cmV0dXJuIG5ldyBEKHtpZDplLm5hbWV8fGUuaWQsY2hpbGRyZW46bn0pfX0se2tleToiY3JlYXRlTm9kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5fbm9kZSl7dmFyIG49KGUuY2hpbGRyZW58fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNyZWF0ZU5vZGUoZSl9KSk7ZS5tZXNoJiZuLnB1c2godGhpcy5jcmVhdGVNZXNoKGUubWVzaCkpO3ZhciByPW5ldyBEKHtpZDplLm5hbWV8fGUuaWQsY2hpbGRyZW46bn0pO2lmKGUubWF0cml4KXIuc2V0TWF0cml4KGUubWF0cml4KTtlbHNle2lmKHIubWF0cml4LmlkZW50aXR5KCksZS50cmFuc2xhdGlvbiYmci5tYXRyaXgudHJhbnNsYXRlKGUudHJhbnNsYXRpb24pLGUucm90YXRpb24pe3ZhciBpPShuZXcgay5iKS5mcm9tUXVhdGVybmlvbihlLnJvdGF0aW9uKTtyLm1hdHJpeC5tdWx0aXBseVJpZ2h0KGkpfWUuc2NhbGUmJnIubWF0cml4LnNjYWxlKGUuc2NhbGUpfWUuX25vZGU9cn1yZXR1cm4gZS5fbm9kZX19LHtrZXk6ImNyZWF0ZU1lc2giLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIWUuX21lc2gpe3ZhciBuPShlLnByaW1pdGl2ZXN8fFtdKS5tYXAoKGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY3JlYXRlUHJpbWl0aXZlKG4scixlKX0pKSxyPW5ldyBEKHtpZDplLm5hbWV8fGUuaWQsY2hpbGRyZW46bn0pO2UuX21lc2g9cn1yZXR1cm4gZS5fbWVzaH19LHtrZXk6ImdldFZlcnRleENvdW50Iix2YWx1ZTpmdW5jdGlvbihlKXtPLmgud2FybigiZ2V0VmVydGV4Q291bnQoKSBub3QgZm91bmQiKSgpfX0se2tleToiY3JlYXRlUHJpbWl0aXZlIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5pZCxyPXQuZHJhd01vZGUsaT10LnZlcnRleENvdW50LGE9dC5hdHRyaWJ1dGVzLG89dC5tb2RlbE9wdGlvbnMscz1uZXcgUShlLHQpO08uaC5pbmZvKDQsImNyZWF0ZUdMVEZNb2RlbCBkZWZpbmVzOiAiLHMuZGVmaW5lcykoKTt2YXIgdT1bXTt1LnB1c2guYXBwbHkodSxPYmplY3QoTS5hKShzLmdlbmVyYXRlZFRleHR1cmVzKSksdS5wdXNoLmFwcGx5KHUsT2JqZWN0KE0uYSkoT2JqZWN0LnZhbHVlcyhhKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJ1ZmZlcn0pKSkpO3ZhciBjPW5ldyBxKGUsT2JqZWN0LmFzc2lnbih7aWQ6bixkcmF3TW9kZTpyLHZlcnRleENvdW50OmksbW9kdWxlczpbeF0sZGVmaW5lczpzLmRlZmluZXMscGFyYW1ldGVyczpzLnBhcmFtZXRlcnMsdnM6SihlLCJcbiNpZiAoX19WRVJTSU9OX18gPCAzMDApXG4gICNkZWZpbmUgX2F0dHIgYXR0cmlidXRlXG4jZWxzZVxuICAjZGVmaW5lIF9hdHRyIGluXG4jZW5kaWZcblxuICBfYXR0ciB2ZWM0IFBPU0lUSU9OO1xuXG4gICNpZmRlZiBIQVNfTk9STUFMU1xuICAgIF9hdHRyIHZlYzQgTk9STUFMO1xuICAjZW5kaWZcblxuICAjaWZkZWYgSEFTX1RBTkdFTlRTXG4gICAgX2F0dHIgdmVjNCBUQU5HRU5UO1xuICAjZW5kaWZcblxuICAjaWZkZWYgSEFTX1VWXG4gICAgX2F0dHIgdmVjMiBURVhDT09SRF8wO1xuICAjZW5kaWZcblxuICB2b2lkIG1haW4odm9pZCkge1xuICAgIHZlYzQgX05PUk1BTCA9IHZlYzQoMC4pO1xuICAgIHZlYzQgX1RBTkdFTlQgPSB2ZWM0KDAuKTtcbiAgICB2ZWMyIF9URVhDT09SRF8wID0gdmVjMigwLik7XG5cbiAgICAjaWZkZWYgSEFTX05PUk1BTFNcbiAgICAgIF9OT1JNQUwgPSBOT1JNQUw7XG4gICAgI2VuZGlmXG5cbiAgICAjaWZkZWYgSEFTX1RBTkdFTlRTXG4gICAgICBfVEFOR0VOVCA9IFRBTkdFTlQ7XG4gICAgI2VuZGlmXG5cbiAgICAjaWZkZWYgSEFTX1VWXG4gICAgICBfVEVYQ09PUkRfMCA9IFRFWENPT1JEXzA7XG4gICAgI2VuZGlmXG5cbiAgICBwYnJfc2V0UG9zaXRpb25Ob3JtYWxUYW5nZW50VVYoUE9TSVRJT04sIF9OT1JNQUwsIF9UQU5HRU5ULCBfVEVYQ09PUkRfMCk7XG4gICAgZ2xfUG9zaXRpb24gPSB1X01WUE1hdHJpeCAqIFBPU0lUSU9OO1xuICB9XG4iKSxmczpKKGUsIlxuI2lmIChfX1ZFUlNJT05fXyA8IDMwMClcbiAgI2RlZmluZSBmcmFnbWVudENvbG9yIGdsX0ZyYWdDb2xvclxuI2Vsc2VcbiAgb3V0IHZlYzQgZnJhZ21lbnRDb2xvcjtcbiNlbmRpZlxuXG4gIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgZnJhZ21lbnRDb2xvciA9IHBicl9maWx0ZXJDb2xvcih2ZWM0KDApKTtcbiAgfVxuIiksbWFuYWdlZFJlc291cmNlczp1fSxvKSk7cmV0dXJuIGMuc2V0UHJvcHMoe2F0dHJpYnV0ZXM6YX0pLGMuc2V0VW5pZm9ybXMocy51bmlmb3JtcyksY30odGhpcy5nbCxPYmplY3QuYXNzaWduKHtpZDplLm5hbWV8fCIiLmNvbmNhdChuLm5hbWV8fG4uaWQsIi1wcmltaXRpdmUtIikuY29uY2F0KHQpLGRyYXdNb2RlOmUubW9kZXx8NCx2ZXJ0ZXhDb3VudDplLmluZGljZXM/ZS5pbmRpY2VzLmNvdW50OnRoaXMuZ2V0VmVydGV4Q291bnQoZS5hdHRyaWJ1dGVzKSxhdHRyaWJ1dGVzOnRoaXMuY3JlYXRlQXR0cmlidXRlcyhlLmF0dHJpYnV0ZXMsZS5pbmRpY2VzKSxtYXRlcmlhbDplLm1hdGVyaWFsfSx0aGlzLm9wdGlvbnMpKX19LHtrZXk6ImNyZWF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPW4uY3JlYXRlQWNjZXNzb3IoZVt0XSxuLmNyZWF0ZUJ1ZmZlcihlW3RdLG4uZ2wuQVJSQVlfQlVGRkVSKSl9KSksdCYmKHIuaW5kaWNlcz10aGlzLmNyZWF0ZUFjY2Vzc29yKHQsdGhpcy5jcmVhdGVCdWZmZXIodCx0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKSkpLE8uaC5pbmZvKDQsImdsVEYgQXR0cmlidXRlcyIse2F0dHJpYnV0ZXM6ZSxpbmRpY2VzOnQsZ2VuZXJhdGVkOnJ9KSgpLHJ9fSx7a2V5OiJjcmVhdGVCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZS5idWZmZXJWaWV3fHwoZS5idWZmZXJWaWV3PXt9KTt2YXIgbj1lLmJ1ZmZlclZpZXc7cmV0dXJuIG4ubHVtYUJ1ZmZlcnN8fChuLmx1bWFCdWZmZXJzPXt9KSxuLmx1bWFCdWZmZXJzW3RdfHwobi5sdW1hQnVmZmVyc1t0XT1uZXcgRS5hKHRoaXMuZ2wse2lkOiJmcm9tLSIuY29uY2F0KG4uaWQpLGRhdGE6bi5kYXRhfHxlLnZhbHVlLHRhcmdldDp0fSkpLG4ubHVtYUJ1ZmZlcnNbdF19fSx7a2V5OiJjcmVhdGVBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEEuYSh7YnVmZmVyOnQsb2Zmc2V0OmUuYnl0ZU9mZnNldHx8MCxzdHJpZGU6ZS5idWZmZXJWaWV3LmJ5dGVTdHJpZGV8fDAsdHlwZTplLmNvbXBvbmVudFR5cGUsc2l6ZTokW2UudHlwZV19KX19LHtrZXk6ImNyZWF0ZVNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlfX0se2tleToibmVlZHNQT1QiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fV0pLGV9KCk7dmFyIG5lPW4oOCkscmU9bi5uKG5lKSxpZT1uKDEwMiksYWU9bi5uKGllKTtmdW5jdGlvbiBvZSgpe3JldHVybihvZT1hZSgpKHJlLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gcmUuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gbj1bXSx0LnNjZW5lcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnRyYXZlcnNlKChmdW5jdGlvbihlKXtPYmplY3QudmFsdWVzKGUubW9kZWwuZ2V0VW5pZm9ybXMoKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ITE9PT1lLmxvYWRlZCYmbi5wdXNoKGUpfSkpfSkpfSkpLGUubmV4dD00LHNlKChmdW5jdGlvbigpe3JldHVybiBuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmxvYWRlZH0pKX0pKTtjYXNlIDQ6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gc2UoZSl7cmV0dXJuIHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB1ZSgpe3JldHVybih1ZT1hZSgpKHJlLmEubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4gcmUuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighdCgpKXtlLm5leHQ9NTticmVha31yZXR1cm4gZS5uZXh0PTMsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl9KSk7Y2FzZSAzOmUubmV4dD0wO2JyZWFrO2Nhc2UgNTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjZT1uKDExOSk7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBmZX0pKTt2YXIgbGU9WzI1NSwyNTUsMjU1LDI1NV0saGU9e3NjZW5lZ3JhcGg6e3R5cGU6Im9iamVjdCIsdmFsdWU6bnVsbCxhc3luYzohMH0sZ2V0U2NlbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuc2NlbmVzPyJvYmplY3QiPT09ZygpKGUuc2NlbmUpP2Uuc2NlbmU6ZS5zY2VuZXNbZS5zY2VuZXx8MF06ZX0sZ2V0QW5pbWF0b3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYW5pbWF0b3J9LF9hbmltYXRpb25zOm51bGwsc2l6ZVNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHNpemVNaW5QaXhlbHM6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MH0sc2l6ZU1heFBpeGVsczp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZTpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0sZ2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wb3NpdGlvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bGV9LF9saWdodGluZzoiZmxhdCIsX2ltYWdlQmFzZWRMaWdodGluZ0Vudmlyb25tZW50Om51bGwsZ2V0T3JpZW50YXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDBdfSxnZXRTY2FsZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlsxLDEsMV19LGdldFRyYW5zbGF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwXX0sZ2V0VHJhbnNmb3JtTWF0cml4Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6W119fSxmZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkodCxlKSxvKCkodCxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksYWNjZXNzb3I6ImdldFBvc2l0aW9uIix0cmFuc2l0aW9uOiEwfSxpbnN0YW5jZUNvbG9yczp7dHlwZTo1MTIxLHNpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsYWNjZXNzb3I6ImdldENvbG9yIixub3JtYWxpemVkOiEwLGRlZmF1bHRWYWx1ZTpsZSx0cmFuc2l0aW9uOiEwfSxpbnN0YW5jZU1vZGVsTWF0cml4OmNlLmF9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtmKCkobCgpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyxlKTt2YXIgbj1lLnByb3BzLHI9ZS5vbGRQcm9wcztuLnNjZW5lZ3JhcGghPT1yLnNjZW5lZ3JhcGg/dGhpcy5fdXBkYXRlU2NlbmVncmFwaChuKTpuLl9hbmltYXRpb25zIT09ci5fYW5pbWF0aW9ucyYmdGhpcy5fYXBwbHlBbmltYXRpb25zUHJvcCh0aGlzLnN0YXRlLnNjZW5lZ3JhcGgsdGhpcy5zdGF0ZS5hbmltYXRvcixuLl9hbmltYXRpb25zKX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7ZigpKGwoKSh0LnByb3RvdHlwZSksImZpbmFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5fZGVsZXRlU2NlbmVncmFwaCgpfX0se2tleToiX3VwZGF0ZVNjZW5lZ3JhcGgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcyxyPXRoaXMuY29udGV4dC5nbDtpZihlLnNjZW5lZ3JhcGggaW5zdGFuY2VvZiBUKXQ9e3NjZW5lczpbZS5zY2VuZWdyYXBoXX07ZWxzZSBpZihlLnNjZW5lZ3JhcGgmJiFlLnNjZW5lZ3JhcGguZ2x0Zil7dmFyIGk9ZS5zY2VuZWdyYXBoLGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyB0ZShlLG4pO3JldHVybntzY2VuZXM6ci5pbnN0YW50aWF0ZSh0KSxhbmltYXRvcjpyLmNyZWF0ZUFuaW1hdG9yKCl9fShyLGksdGhpcy5nZXRMb2FkT3B0aW9ucygpKTt0PU9iamVjdC5hc3NpZ24oe2dsdGY6aX0sYSksZnVuY3Rpb24oZSl7cmV0dXJuIG9lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0oYSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXROZWVkc1JlZHJhdygpfSkpfWVsc2UgeS5hLmRlcHJlY2F0ZWQoIlNjZW5lZ3JhcGhMYXllci5wcm9wcy5zY2VuZWdyYXBoIiwiVXNlIEdMVEZMb2FkZXIgaW5zdGVhZCBvZiBHTFRGU2NlbmVncmFwaExvYWRlciIpKCksdD1lLnNjZW5lZ3JhcGg7dmFyIG89e2xheWVyOnRoaXMsZ2w6cn0scz1lLmdldFNjZW5lKHQsbyksdT1lLmdldEFuaW1hdG9yKHQsbyk7cyBpbnN0YW5jZW9mIFQ/KHRoaXMuX2RlbGV0ZVNjZW5lZ3JhcGgoKSx0aGlzLl9hcHBseUFsbEF0dHJpYnV0ZXMocyksdGhpcy5fYXBwbHlBbmltYXRpb25zUHJvcChzLHUsZS5fYW5pbWF0aW9ucyksdGhpcy5zZXRTdGF0ZSh7c2NlbmVncmFwaDpzLGFuaW1hdG9yOnV9KSk6bnVsbCE9PXMmJnkuYS53YXJuKCJpbnZhbGlkIHNjZW5lZ3JhcGg6IixzKSgpfX0se2tleToiX2FwcGx5QWxsQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnN0YXRlLmF0dHJpYnV0ZXNBdmFpbGFibGUpe3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmdldEF0dHJpYnV0ZXMoKTtlLnRyYXZlcnNlKChmdW5jdGlvbihlKXt0Ll9zZXRNb2RlbEF0dHJpYnV0ZXMoZS5tb2RlbCxuKX0pKX19fSx7a2V5OiJfYXBwbHlBbmltYXRpb25zUHJvcCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKGUmJnQmJm4pe3ZhciByPXQuZ2V0QW5pbWF0aW9ucygpO09iamVjdC5rZXlzKG4pLnNvcnQoKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO2lmKCIqIj09PWUpci5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuYXNzaWduKGUsdCl9KSk7ZWxzZSBpZihOdW1iZXIuaXNGaW5pdGUoTnVtYmVyKGUpKSl7dmFyIGk9TnVtYmVyKGUpO2k+PTAmJmk8ci5sZW5ndGg/T2JqZWN0LmFzc2lnbihyW2ldLHQpOnkuYS53YXJuKCJhbmltYXRpb24gIi5jb25jYXQoZSwiIG5vdCBmb3VuZCIpKSgpfWVsc2V7dmFyIGE9ci5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKTthP09iamVjdC5hc3NpZ24oYSx0KTp5LmEud2FybigiYW5pbWF0aW9uICIuY29uY2F0KGUsIiBub3QgZm91bmQiKSkoKX19KSl9fX0se2tleToiX2RlbGV0ZVNjZW5lZ3JhcGgiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZS5zY2VuZWdyYXBoO2UgaW5zdGFuY2VvZiBUJiZlLmRlbGV0ZSgpfX0se2tleToiZ2V0TG9hZE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W20uYSxiLmFdLHQ9dGhpcy5wcm9wcyxuPXQuX2xpZ2h0aW5nLHI9dC5faW1hZ2VCYXNlZExpZ2h0aW5nRW52aXJvbm1lbnQ7InBiciI9PT1uJiZlLnB1c2goeCk7dmFyIGk9bnVsbDtyZXR1cm4gciYmKGk9ImZ1bmN0aW9uIj09dHlwZW9mIHI/cih7Z2w6dGhpcy5jb250ZXh0LmdsLGxheWVyOnRoaXN9KTpyKSx7Z2w6dGhpcy5jb250ZXh0LmdsLHdhaXRGb3JGdWxsTG9hZDohMCxpbWFnZUJhc2VkTGlnaHRpbmdFbnZpcm9ubWVudDppLG1vZGVsT3B0aW9uczp7dnM6IiN2ZXJzaW9uIDMwMCBlc1xuaW4gdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmluIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbmluIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5pbiB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmluIG1hdDMgaW5zdGFuY2VNb2RlbE1hdHJpeDtcbmluIHZlYzMgaW5zdGFuY2VUcmFuc2xhdGlvbjtcbnVuaWZvcm0gZmxvYXQgc2l6ZVNjYWxlO1xudW5pZm9ybSBmbG9hdCBzaXplTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCBzaXplTWF4UGl4ZWxzO1xudW5pZm9ybSBtYXQ0IHNjZW5lTW9kZWxNYXRyaXg7XG51bmlmb3JtIGJvb2wgY29tcG9zZU1vZGVsTWF0cml4O1xuaW4gdmVjNCBQT1NJVElPTjtcblxuI2lmZGVmIEhBU19VVlxuICBpbiB2ZWMyIFRFWENPT1JEXzA7XG4jZW5kaWZcblxuI2lmZGVmIE1PRFVMRV9QQlJcbiAgI2lmZGVmIEhBU19OT1JNQUxTXG4gICAgaW4gdmVjNCBOT1JNQUw7XG4gICNlbmRpZlxuI2VuZGlmXG5vdXQgdmVjNCB2Q29sb3I7XG4jaWZuZGVmIE1PRFVMRV9QQlJcbiAgI2lmZGVmIEhBU19VVlxuICAgIG91dCB2ZWMyIHZURVhDT09SRF8wO1xuICAjZW5kaWZcbiNlbmRpZlxudm9pZCBtYWluKHZvaWQpIHtcbiAgI2lmIGRlZmluZWQoSEFTX1VWKSAmJiAhZGVmaW5lZChNT0RVTEVfUEJSKVxuICAgIHZURVhDT09SRF8wID0gVEVYQ09PUkRfMDtcbiAgICBnZW9tZXRyeS51diA9IHZURVhDT09SRF8wO1xuICAjZW5kaWZcblxuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcblxuICAjaWZkZWYgTU9EVUxFX1BCUlxuICAgICNpZmRlZiBIQVNfTk9STUFMU1xuICAgICAgcGJyX3ZOb3JtYWwgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU1vZGVsTWF0cml4ICogKHNjZW5lTW9kZWxNYXRyaXggKiB2ZWM0KE5PUk1BTC54eXosIDAuMCkpLnh5eik7XG4gICAgICBnZW9tZXRyeS5ub3JtYWwgPSBwYnJfdk5vcm1hbDtcbiAgICAjZW5kaWZcblxuICAgICNpZmRlZiBIQVNfVVZcbiAgICAgIHBicl92VVYgPSBURVhDT09SRF8wO1xuICAgICNlbHNlXG4gICAgICBwYnJfdlVWID0gdmVjMigwLiwgMC4pO1xuICAgICNlbmRpZlxuICAgIGdlb21ldHJ5LnV2ID0gcGJyX3ZVVjtcbiAgI2VuZGlmXG5cbiAgZmxvYXQgb3JpZ2luYWxTaXplID0gcHJvamVjdF9zaXplX3RvX3BpeGVsKHNpemVTY2FsZSk7XG4gIGZsb2F0IGNsYW1wZWRTaXplID0gY2xhbXAob3JpZ2luYWxTaXplLCBzaXplTWluUGl4ZWxzLCBzaXplTWF4UGl4ZWxzKTtcblxuICB2ZWMzIHBvcyA9IChpbnN0YW5jZU1vZGVsTWF0cml4ICogKHNjZW5lTW9kZWxNYXRyaXggKiBQT1NJVElPTikueHl6KSAqIHNpemVTY2FsZSAqIChjbGFtcGVkU2l6ZSAvIG9yaWdpbmFsU2l6ZSkgKyBpbnN0YW5jZVRyYW5zbGF0aW9uO1xuICBpZihjb21wb3NlTW9kZWxNYXRyaXgpIHtcbiAgICBERUNLR0xfRklMVEVSX1NJWkUocG9zLCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShwb3MgKyBpbnN0YW5jZVBvc2l0aW9ucywgaW5zdGFuY2VQb3NpdGlvbnM2NExvdywgdmVjMygwLjApLCBnZW9tZXRyeS5wb3NpdGlvbik7XG4gIH1cbiAgZWxzZSB7XG4gICAgcG9zID0gcHJvamVjdF9zaXplKHBvcyk7XG4gICAgREVDS0dMX0ZJTFRFUl9TSVpFKHBvcywgZ2VvbWV0cnkpO1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoaW5zdGFuY2VQb3NpdGlvbnMsIGluc3RhbmNlUG9zaXRpb25zNjRMb3csIHBvcywgZ2VvbWV0cnkucG9zaXRpb24pO1xuICB9XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICAjaWZkZWYgTU9EVUxFX1BCUlxuICAgIHBicl92UG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbi54eXo7XG4gICNlbmRpZlxuXG4gIHZDb2xvciA9IGluc3RhbmNlQ29sb3JzO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI3ZlcnNpb24gMzAwIGVzXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG5pbiB2ZWM0IHZDb2xvcjtcblxub3V0IHZlYzQgZnJhZ21lbnRDb2xvcjtcbiNpZm5kZWYgTU9EVUxFX1BCUlxuICAjaWYgZGVmaW5lZChIQVNfVVYpICYmIGRlZmluZWQoSEFTX0JBU0VDT0xPUk1BUClcbiAgICBpbiB2ZWMyIHZURVhDT09SRF8wO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfQmFzZUNvbG9yU2FtcGxlcjtcbiAgI2VuZGlmXG4jZW5kaWZcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgI2lmZGVmIE1PRFVMRV9QQlJcbiAgICBmcmFnbWVudENvbG9yID0gdkNvbG9yICogcGJyX2ZpbHRlckNvbG9yKHZlYzQoMCkpO1xuICAgIGdlb21ldHJ5LnV2ID0gcGJyX3ZVVjtcbiAgI2Vsc2VcbiAgICAjaWYgZGVmaW5lZChIQVNfVVYpICYmIGRlZmluZWQoSEFTX0JBU0VDT0xPUk1BUClcbiAgICAgIGZyYWdtZW50Q29sb3IgPSB2Q29sb3IgKiB0ZXh0dXJlMkQodV9CYXNlQ29sb3JTYW1wbGVyLCB2VEVYQ09PUkRfMCk7XG4gICAgICBnZW9tZXRyeS51diA9IHZURVhDT09SRF8wO1xuICAgICNlbHNlXG4gICAgICBmcmFnbWVudENvbG9yID0gdkNvbG9yO1xuICAgICNlbmRpZlxuICAjZW5kaWZcblxuICBmcmFnbWVudENvbG9yLmEgKj0gb3BhY2l0eTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihmcmFnbWVudENvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6ZSxpc0luc3RhbmNlZDohMCx0cmFuc3BpbGVUb0dMU0wxMDA6IU9iamVjdChPLmcpKHRoaXMuY29udGV4dC5nbCl9LHVzZVRhbmdlbnRzOiExfX19LHtrZXk6InVwZGF0ZUF0dHJpYnV0ZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5zZXRTdGF0ZSh7YXR0cmlidXRlc0F2YWlsYWJsZTohMH0pLHRoaXMuc3RhdGUuc2NlbmVncmFwaCYmdGhpcy5zdGF0ZS5zY2VuZWdyYXBoLnRyYXZlcnNlKChmdW5jdGlvbihuKXt0Ll9zZXRNb2RlbEF0dHJpYnV0ZXMobi5tb2RlbCxlKX0pKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubW9kdWxlUGFyYW1ldGVycyxuPXZvaWQgMD09PXQ/bnVsbDp0LHI9ZS5wYXJhbWV0ZXJzLGk9dm9pZCAwPT09cj97fTpyLGE9ZS5jb250ZXh0O2lmKHRoaXMuc3RhdGUuc2NlbmVncmFwaCl7dGhpcy5wcm9wcy5fYW5pbWF0aW9ucyYmdGhpcy5zdGF0ZS5hbmltYXRvciYmdGhpcy5zdGF0ZS5hbmltYXRvci5hbmltYXRlKGEuYW5pbWF0aW9uUHJvcHMudGltZSk7dmFyIG89dGhpcy5jb250ZXh0LnZpZXdwb3J0LHM9dGhpcy5wcm9wcyx1PXMuc2l6ZVNjYWxlLGM9cy5zaXplTWluUGl4ZWxzLGw9cy5zaXplTWF4UGl4ZWxzLGg9cy5vcGFjaXR5LGY9cy5jb29yZGluYXRlU3lzdGVtLGQ9dGhpcy5nZXROdW1JbnN0YW5jZXMoKTt0aGlzLnN0YXRlLnNjZW5lZ3JhcGgudHJhdmVyc2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9dC53b3JsZE1hdHJpeDtlLm1vZGVsLnNldEluc3RhbmNlQ291bnQoZCksZS51cGRhdGVNb2R1bGVTZXR0aW5ncyhuKSxlLmRyYXcoe3BhcmFtZXRlcnM6aSx1bmlmb3Jtczp7c2l6ZVNjYWxlOnUsb3BhY2l0eTpoLHNpemVNaW5QaXhlbHM6YyxzaXplTWF4UGl4ZWxzOmwsY29tcG9zZU1vZGVsTWF0cml4Ok9iamVjdChjZS5iKShvLGYpLHNjZW5lTW9kZWxNYXRyaXg6cix1X0NhbWVyYTplLm1vZGVsLmdldFVuaWZvcm1zKCkucHJvamVjdF91Q2FtZXJhUG9zaXRpb259fSl9KSl9fX1dKSx0fShfLmEpO2ZlLmxheWVyTmFtZT0iU2NlbmVncmFwaExheWVyIixmZS5kZWZhdWx0UHJvcHM9aGV9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9big0KSxsPW4ubihjKSxoPW4oMTIpLGY9bi5uKGgpLGQ9bigxMCksdj1uLm4oZCkscD1uKDIwNiksZz1uKDEwOCkseT1uKDE2MSksbT1uKDYwKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSk7dmFyIGI9WzAsMCwwLDI1NV0sXz17Z2V0U291cmNlUG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zb3VyY2VQb3NpdGlvbn19LGdldFRhcmdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0UG9zaXRpb259fSxnZXRTb3VyY2VDb2xvcjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmJ9LGdldFRhcmdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6Yn0sZ2V0V2lkdGg6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRIZWlnaHQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZToxfSxnZXRUaWx0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MH0sd2lkdGhVbml0czoicGl4ZWxzIix3aWR0aFNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHdpZHRoTWluUGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LHdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG1pbjowfX0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkodCxlKSxvKCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZigpKGwoKSh0LnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgYXJjLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VTb3VyY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZVRhcmdldENvbG9ycztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZVdpZHRocztcbmF0dHJpYnV0ZSBmbG9hdCBpbnN0YW5jZUhlaWdodHM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VUaWx0cztcblxudW5pZm9ybSBmbG9hdCBudW1TZWdtZW50cztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhTY2FsZTtcbnVuaWZvcm0gZmxvYXQgd2lkdGhNaW5QaXhlbHM7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWF4UGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG5mbG9hdCBwYXJhYm9sb2lkKHZlYzMgc291cmNlLCB2ZWMzIHRhcmdldCwgZmxvYXQgcmF0aW8pIHtcblxuICB2ZWMzIGRlbHRhID0gdGFyZ2V0IC0gc291cmNlO1xuICBmbG9hdCBkaCA9IGxlbmd0aChkZWx0YS54eSkgKiBpbnN0YW5jZUhlaWdodHM7XG4gIGZsb2F0IHVuaXRaID0gZGVsdGEueiAvIGRoO1xuICBmbG9hdCBwMiA9IHVuaXRaICogdW5pdFogKyAxLjA7XG4gIGZsb2F0IGRpciA9IHN0ZXAoZGVsdGEueiwgMC4wKTtcbiAgZmxvYXQgejAgPSBtaXgoc291cmNlLnosIHRhcmdldC56LCBkaXIpO1xuICBmbG9hdCByID0gbWl4KHJhdGlvLCAxLjAgLSByYXRpbywgZGlyKTtcbiAgcmV0dXJuIHNxcnQociAqIChwMiAtIHIpKSAqIGRoICsgejA7XG59XG52ZWMyIGdldEV4dHJ1c2lvbk9mZnNldCh2ZWMyIGxpbmVfY2xpcHNwYWNlLCBmbG9hdCBvZmZzZXRfZGlyZWN0aW9uLCBmbG9hdCB3aWR0aCkge1xuICB2ZWMyIGRpcl9zY3JlZW5zcGFjZSA9IG5vcm1hbGl6ZShsaW5lX2NsaXBzcGFjZSAqIHByb2plY3RfdVZpZXdwb3J0U2l6ZSk7XG4gIGRpcl9zY3JlZW5zcGFjZSA9IHZlYzIoLWRpcl9zY3JlZW5zcGFjZS55LCBkaXJfc2NyZWVuc3BhY2UueCk7XG5cbiAgcmV0dXJuIGRpcl9zY3JlZW5zcGFjZSAqIG9mZnNldF9kaXJlY3Rpb24gKiB3aWR0aCAvIDIuMDtcbn1cblxuZmxvYXQgZ2V0U2VnbWVudFJhdGlvKGZsb2F0IGluZGV4KSB7XG4gIHJldHVybiBzbW9vdGhzdGVwKDAuMCwgMS4wLCBpbmRleCAvIChudW1TZWdtZW50cyAtIDEuMCkpO1xufVxuXG52ZWMzIGdldFBvcyh2ZWMzIHNvdXJjZSwgdmVjMyB0YXJnZXQsIGZsb2F0IHNlZ21lbnRSYXRpbykge1xuICBmbG9hdCB6ID0gcGFyYWJvbG9pZChzb3VyY2UsIHRhcmdldCwgc2VnbWVudFJhdGlvKTtcblxuICBmbG9hdCB0aWx0QW5nbGUgPSByYWRpYW5zKGluc3RhbmNlVGlsdHMpO1xuICB2ZWMyIHRpbHREaXJlY3Rpb24gPSBub3JtYWxpemUodGFyZ2V0Lnh5IC0gc291cmNlLnh5KTtcbiAgdmVjMiB0aWx0ID0gdmVjMigtdGlsdERpcmVjdGlvbi55LCB0aWx0RGlyZWN0aW9uLngpICogeiAqIHNpbih0aWx0QW5nbGUpO1xuXG4gIHJldHVybiB2ZWMzKFxuICAgIG1peChzb3VyY2UueHksIHRhcmdldC54eSwgc2VnbWVudFJhdGlvKSArIHRpbHQsXG4gICAgeiAqIGNvcyh0aWx0QW5nbGUpXG4gICk7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb24gPSBpbnN0YW5jZVNvdXJjZVBvc2l0aW9ucztcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdCA9IGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zO1xuXG4gIHZlYzMgc291cmNlID0gcHJvamVjdF9wb3NpdGlvbihpbnN0YW5jZVNvdXJjZVBvc2l0aW9ucywgaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdyk7XG4gIHZlYzMgdGFyZ2V0ID0gcHJvamVjdF9wb3NpdGlvbihpbnN0YW5jZVRhcmdldFBvc2l0aW9ucywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdyk7XG5cbiAgZmxvYXQgc2VnbWVudEluZGV4ID0gcG9zaXRpb25zLng7XG4gIGZsb2F0IHNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXgpO1xuICBmbG9hdCBpbmRleERpciA9IG1peCgtMS4wLCAxLjAsIHN0ZXAoc2VnbWVudEluZGV4LCAwLjApKTtcbiAgZmxvYXQgbmV4dFNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXggKyBpbmRleERpcik7XG5cbiAgdmVjMyBjdXJyUG9zID0gZ2V0UG9zKHNvdXJjZSwgdGFyZ2V0LCBzZWdtZW50UmF0aW8pO1xuICB2ZWMzIG5leHRQb3MgPSBnZXRQb3Moc291cmNlLCB0YXJnZXQsIG5leHRTZWdtZW50UmF0aW8pO1xuICB2ZWM0IGN1cnIgPSBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2UodmVjNChjdXJyUG9zLCAxLjApKTtcbiAgdmVjNCBuZXh0ID0gcHJvamVjdF9jb21tb25fcG9zaXRpb25fdG9fY2xpcHNwYWNlKHZlYzQobmV4dFBvcywgMS4wKSk7XG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gdmVjNChjdXJyUG9zLCAxLjApO1xuICB1diA9IHZlYzIoc2VnbWVudFJhdGlvLCBwb3NpdGlvbnMueSk7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgZmxvYXQgd2lkdGhQaXhlbHMgPSBjbGFtcChcbiAgICBwcm9qZWN0X3NpemVfdG9fcGl4ZWwoaW5zdGFuY2VXaWR0aHMgKiB3aWR0aFNjYWxlKSxcbiAgICB3aWR0aE1pblBpeGVscywgd2lkdGhNYXhQaXhlbHNcbiAgKTtcbiAgdmVjMyBvZmZzZXQgPSB2ZWMzKFxuICAgIGdldEV4dHJ1c2lvbk9mZnNldCgobmV4dC54eSAtIGN1cnIueHkpICogaW5kZXhEaXIsIHBvc2l0aW9ucy55LCB3aWR0aFBpeGVscyksXG4gICAgMC4wKTtcbiAgREVDS0dMX0ZJTFRFUl9TSVpFKG9mZnNldCwgZ2VvbWV0cnkpO1xuICBnbF9Qb3NpdGlvbiA9IGN1cnIgKyB2ZWM0KHByb2plY3RfcGl4ZWxfc2l6ZV90b19jbGlwc3BhY2Uob2Zmc2V0Lnh5KSwgMC4wLCAwLjApO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG5cbiAgdmVjNCBjb2xvciA9IG1peChpbnN0YW5jZVNvdXJjZUNvbG9ycywgaW5zdGFuY2VUYXJnZXRDb2xvcnMsIHNlZ21lbnRSYXRpbyk7XG4gIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IodkNvbG9yLCBnZW9tZXRyeSk7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGFyYy1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG5cbiAgREVDS0dMX0ZJTFRFUl9DT0xPUihnbF9GcmFnQ29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbcC5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0U291cmNlUG9zaXRpb24ifSxpbnN0YW5jZVRhcmdldFBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRUYXJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlU291cmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFNvdXJjZUNvbG9yIixkZWZhdWx0VmFsdWU6Yn0saW5zdGFuY2VUYXJnZXRDb2xvcnM6e3NpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsdHlwZTo1MTIxLG5vcm1hbGl6ZWQ6ITAsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0VGFyZ2V0Q29sb3IiLGRlZmF1bHRWYWx1ZTpifSxpbnN0YW5jZVdpZHRoczp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFdpZHRoIixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VIZWlnaHRzOntzaXplOjEsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0SGVpZ2h0IixkZWZhdWx0VmFsdWU6MX0saW5zdGFuY2VUaWx0czp7c2l6ZToxLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldFRpbHQiLGRlZmF1bHRWYWx1ZTowfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUucHJvcHMscj1lLm9sZFByb3BzLGk9ZS5jaGFuZ2VGbGFncztpZihmKCkobCgpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIud2lkdGhVbml0cyxhPXIud2lkdGhTY2FsZSxvPXIud2lkdGhNaW5QaXhlbHMscz1yLndpZHRoTWF4UGl4ZWxzLHU9InBpeGVscyI9PT1pP24ubWV0ZXJzUGVyUGl4ZWw6MTt0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sdCx7d2lkdGhTY2FsZTphKnUsd2lkdGhNaW5QaXhlbHM6byx3aWR0aE1heFBpeGVsczpzfSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPDUwO24rKyl0PXQuY29uY2F0KFtuLC0xLDAsbiwxLDBdKTt2YXIgcj1uZXcgeS5hKGUsT2JqZWN0LmFzc2lnbih7fSx0aGlzLmdldFNoYWRlcnMoKSx7aWQ6dGhpcy5wcm9wcy5pZCxnZW9tZXRyeTpuZXcgbS5hKHtkcmF3TW9kZTo1LGF0dHJpYnV0ZXM6e3Bvc2l0aW9uczpuZXcgRmxvYXQzMkFycmF5KHQpfX0pLGlzSW5zdGFuY2VkOiEwfSkpO3JldHVybiByLnNldFVuaWZvcm1zKHtudW1TZWdtZW50czo1MH0pLHJ9fV0pLHR9KGcuYSk7Ty5sYXllck5hbWU9IkFyY0xheWVyIixPLmRlZmF1bHRQcm9wcz1ffSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oNCksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigxODkpLGc9bigyMDYpLHk9bigxMDgpLG09bigxNjEpLGI9big2MCk7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpO3ZhciBfPXtnZXRTb3VyY2VQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNvdXJjZVBvc2l0aW9ufX0sZ2V0VGFyZ2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS50YXJnZXRQb3NpdGlvbn19LGdldENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwLDI1NV19LGdldFdpZHRoOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0sd2lkdGhVbml0czoicGl4ZWxzIix3aWR0aFNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHdpZHRoTWluUGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOjAsbWluOjB9LHdpZHRoTWF4UGl4ZWxzOnt0eXBlOiJudW1iZXIiLHZhbHVlOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG1pbjowfX0sTz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkodCxlKSxvKCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZigpKGwoKSh0LnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcyx7dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbGluZS1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ29sb3JzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlV2lkdGhzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IHdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1heFBpeGVscztcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB1djtcbnZlYzIgZ2V0RXh0cnVzaW9uT2Zmc2V0KHZlYzIgbGluZV9jbGlwc3BhY2UsIGZsb2F0IG9mZnNldF9kaXJlY3Rpb24sIGZsb2F0IHdpZHRoKSB7XG4gIHZlYzIgZGlyX3NjcmVlbnNwYWNlID0gbm9ybWFsaXplKGxpbmVfY2xpcHNwYWNlICogcHJvamVjdF91Vmlld3BvcnRTaXplKTtcbiAgZGlyX3NjcmVlbnNwYWNlID0gdmVjMigtZGlyX3NjcmVlbnNwYWNlLnksIGRpcl9zY3JlZW5zcGFjZS54KTtcblxuICByZXR1cm4gZGlyX3NjcmVlbnNwYWNlICogb2Zmc2V0X2RpcmVjdGlvbiAqIHdpZHRoIC8gMi4wO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LndvcmxkUG9zaXRpb25BbHQgPSBpbnN0YW5jZVRhcmdldFBvc2l0aW9ucztcbiAgdmVjNCBzb3VyY2VfY29tbW9uc3BhY2U7XG4gIHZlYzQgdGFyZ2V0X2NvbW1vbnNwYWNlO1xuICB2ZWM0IHNvdXJjZSA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlU291cmNlUG9zaXRpb25zLCBpbnN0YW5jZVNvdXJjZVBvc2l0aW9uczY0TG93LCB2ZWMzKDAuKSwgc291cmNlX2NvbW1vbnNwYWNlKTtcbiAgdmVjNCB0YXJnZXQgPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShpbnN0YW5jZVRhcmdldFBvc2l0aW9ucywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdywgdmVjMygwLiksIHRhcmdldF9jb21tb25zcGFjZSk7XG4gIGZsb2F0IHdpZHRoUGl4ZWxzID0gY2xhbXAoXG4gICAgcHJvamVjdF9zaXplX3RvX3BpeGVsKGluc3RhbmNlV2lkdGhzICogd2lkdGhTY2FsZSksXG4gICAgd2lkdGhNaW5QaXhlbHMsIHdpZHRoTWF4UGl4ZWxzXG4gICk7XG4gIGZsb2F0IHNlZ21lbnRJbmRleCA9IHBvc2l0aW9ucy54O1xuICB2ZWM0IHAgPSBtaXgoc291cmNlLCB0YXJnZXQsIHNlZ21lbnRJbmRleCk7XG4gIGdlb21ldHJ5LnBvc2l0aW9uID0gbWl4KHNvdXJjZV9jb21tb25zcGFjZSwgdGFyZ2V0X2NvbW1vbnNwYWNlLCBzZWdtZW50SW5kZXgpO1xuICB1diA9IHBvc2l0aW9ucy54eTtcbiAgZ2VvbWV0cnkudXYgPSB1djtcbiAgZ2VvbWV0cnkucGlja2luZ0NvbG9yID0gaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuICB2ZWMzIG9mZnNldCA9IHZlYzMoXG4gICAgZ2V0RXh0cnVzaW9uT2Zmc2V0KHRhcmdldC54eSAtIHNvdXJjZS54eSwgcG9zaXRpb25zLnksIHdpZHRoUGl4ZWxzKSxcbiAgICAwLjApO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIGdsX1Bvc2l0aW9uID0gcCArIHZlYzQocHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZShvZmZzZXQueHkpLCAwLjAsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcbiAgdkNvbG9yID0gdmVjNChpbnN0YW5jZUNvbG9ycy5yZ2IsIGluc3RhbmNlQ29sb3JzLmEgKiBvcGFjaXR5KTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUih2Q29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgbGluZS1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHV2O1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS51diA9IHV2O1xuXG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltwLmEsZy5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0U291cmNlUG9zaXRpb24ifSxpbnN0YW5jZVRhcmdldFBvc2l0aW9uczp7c2l6ZTozLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRUYXJnZXRQb3NpdGlvbiJ9LGluc3RhbmNlQ29sb3JzOntzaXplOnRoaXMucHJvcHMuY29sb3JGb3JtYXQubGVuZ3RoLHR5cGU6NTEyMSxub3JtYWxpemVkOiEwLHRyYW5zaXRpb246ITAsYWNjZXNzb3I6ImdldENvbG9yIixkZWZhdWx0VmFsdWU6WzAsMCwwLDI1NV19LGluc3RhbmNlV2lkdGhzOntzaXplOjEsdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0V2lkdGgiLGRlZmF1bHRWYWx1ZToxfX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUucHJvcHMscj1lLm9sZFByb3BzLGk9ZS5jaGFuZ2VGbGFncztpZihmKCkobCgpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7cHJvcHM6bixvbGRQcm9wczpyLGNoYW5nZUZsYWdzOml9KSxpLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSx0aGlzLnNldFN0YXRlKHttb2RlbDp0aGlzLl9nZXRNb2RlbChhKX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmludmFsaWRhdGVBbGwoKX19fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnVuaWZvcm1zLG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIud2lkdGhVbml0cyxhPXIud2lkdGhTY2FsZSxvPXIud2lkdGhNaW5QaXhlbHMscz1yLndpZHRoTWF4UGl4ZWxzLHU9InBpeGVscyI9PT1pP24ubWV0ZXJzUGVyUGl4ZWw6MTt0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sdCx7d2lkdGhTY2FsZTphKnUsd2lkdGhNaW5QaXhlbHM6byx3aWR0aE1heFBpeGVsczpzfSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBtLmEoZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyBiLmEoe2RyYXdNb2RlOjUsYXR0cmlidXRlczp7cG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsLTEsMCwwLDEsMCwxLC0xLDAsMSwxLDBdKX19KSxpc0luc3RhbmNlZDohMH0pKX19XSksdH0oeS5hKTtPLmxheWVyTmFtZT0iTGluZUxheWVyIixPLmRlZmF1bHRQcm9wcz1ffSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9big5KSx1PW4ubihzKSxjPW4oNCksbD1uLm4oYyksaD1uKDEyKSxmPW4ubihoKSxkPW4oMTApLHY9bi5uKGQpLHA9bigxODkpLGc9bigyNzIpLHk9bigyMDYpLG09bigxMDgpLGI9bigxNjEpLF89big2MCk7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBTfSkpO3ZhciBPPVswLDAsMCwyNTVdLHg9WzAsMCwxXSx3PXtzaXplVW5pdHM6InBpeGVscyIscG9pbnRTaXplOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjEwfSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvc2l0aW9ufX0sZ2V0Tm9ybWFsOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6eH0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpPfSxtYXRlcmlhbDohMCxyYWRpdXNQaXhlbHM6e2RlcHJlY2F0ZWRGb3I6InBvaW50U2l6ZSJ9fTt2YXIgUz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB2KCkodCxlKSxvKCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShsKCkodC5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHBvaW50LWNsb3VkLWxheWVyLXZlcnRleC1zaGFkZXJcblxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VOb3JtYWxzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgcmFkaXVzUGl4ZWxzO1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHVuaXRQb3NpdGlvbjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbiA9IGluc3RhbmNlUG9zaXRpb25zO1xuICBnZW9tZXRyeS5ub3JtYWwgPSBwcm9qZWN0X25vcm1hbChpbnN0YW5jZU5vcm1hbHMpO1xuICB1bml0UG9zaXRpb24gPSBwb3NpdGlvbnMueHk7XG4gIGdlb21ldHJ5LnV2ID0gdW5pdFBvc2l0aW9uO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG4gIHZlYzMgb2Zmc2V0ID0gdmVjMyhwb3NpdGlvbnMueHkgKiByYWRpdXNQaXhlbHMsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfU0laRShvZmZzZXQsIGdlb21ldHJ5KTtcblxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKGluc3RhbmNlUG9zaXRpb25zLCBpbnN0YW5jZVBvc2l0aW9uczY0TG93LCB2ZWMzKDAuKSwgZ2VvbWV0cnkucG9zaXRpb24pO1xuICBnbF9Qb3NpdGlvbi54eSArPSBwcm9qZWN0X3BpeGVsX3NpemVfdG9fY2xpcHNwYWNlKG9mZnNldC54eSk7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcbiAgdmVjMyBsaWdodENvbG9yID0gbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcihpbnN0YW5jZUNvbG9ycy5yZ2IsIHByb2plY3RfdUNhbWVyYVBvc2l0aW9uLCBnZW9tZXRyeS5wb3NpdGlvbi54eXosIGdlb21ldHJ5Lm5vcm1hbCk7XG4gIHZDb2xvciA9IHZlYzQobGlnaHRDb2xvciwgaW5zdGFuY2VDb2xvcnMuYSAqIG9wYWNpdHkpO1xuICBERUNLR0xfRklMVEVSX0NPTE9SKHZDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixmczoiI2RlZmluZSBTSEFERVJfTkFNRSBwb2ludC1jbG91ZC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xudmFyeWluZyB2ZWMyIHVuaXRQb3NpdGlvbjtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkudXYgPSB1bml0UG9zaXRpb247XG5cbiAgZmxvYXQgZGlzdFRvQ2VudGVyID0gbGVuZ3RoKHVuaXRQb3NpdGlvbik7XG5cbiAgaWYgKGRpc3RUb0NlbnRlciA+IDEuMCkge1xuICAgIGRpc2NhcmQ7XG4gIH1cblxuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W3AuYSxnLmEseS5hXX0pfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCksdHJhbnNpdGlvbjohMCxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifSxpbnN0YW5jZU5vcm1hbHM6e3NpemU6Myx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXROb3JtYWwiLGRlZmF1bHRWYWx1ZTp4fSxpbnN0YW5jZUNvbG9yczp7c2l6ZTp0aGlzLnByb3BzLmNvbG9yRm9ybWF0Lmxlbmd0aCx0eXBlOjUxMjEsbm9ybWFsaXplZDohMCx0cmFuc2l0aW9uOiEwLGFjY2Vzc29yOiJnZXRDb2xvciIsZGVmYXVsdFZhbHVlOk99fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG4scixpLGE9ZS5wcm9wcyxvPWUub2xkUHJvcHMscz1lLmNoYW5nZUZsYWdzO2lmKGYoKShsKCkodC5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczphLG9sZFByb3BzOm8sY2hhbmdlRmxhZ3M6c30pLHMuZXh0ZW5zaW9uc0NoYW5nZWQpe3ZhciB1PXRoaXMuY29udGV4dC5nbDt0aGlzLnN0YXRlLm1vZGVsJiZ0aGlzLnN0YXRlLm1vZGVsLmRlbGV0ZSgpLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKHUpfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuaW52YWxpZGF0ZUFsbCgpfXMuZGF0YUNoYW5nZWQmJihuPWEuZGF0YSxyPW4uaGVhZGVyLGk9bi5hdHRyaWJ1dGVzLHImJmkmJihuLmxlbmd0aD1yLnZlcnRleENvdW50LGkuUE9TSVRJT04mJihpLmluc3RhbmNlUG9zaXRpb25zPWkuUE9TSVRJT04pLGkuTk9STUFMJiYoaS5pbnN0YW5jZU5vcm1hbHM9aS5OT1JNQUwpLGkuQ09MT1JfMCYmKGkuaW5zdGFuY2VDb2xvcnM9aS5DT0xPUl8wKSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51bmlmb3JtcyxuPXRoaXMuY29udGV4dC52aWV3cG9ydCxyPXRoaXMucHJvcHMsaT1yLnBvaW50U2l6ZSxhPSJtZXRlcnMiPT09ci5zaXplVW5pdHM/bi5kaXN0YW5jZVNjYWxlcy5waXhlbHNQZXJNZXRlclsyXToxO3RoaXMuc3RhdGUubW9kZWwuc2V0VW5pZm9ybXMoT2JqZWN0LmFzc2lnbih7fSx0LHtyYWRpdXNQaXhlbHM6aSphfSkpLmRyYXcoKX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPDM7bisrKXt2YXIgcj1uLzMqTWF0aC5QSSoyO3QucHVzaCgyKk1hdGguY29zKHIpLDIqTWF0aC5zaW4ociksMCl9cmV0dXJuIG5ldyBiLmEoZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyBfLmEoe2RyYXdNb2RlOjQsYXR0cmlidXRlczp7cG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkodCl9fSksaXNJbnN0YW5jZWQ6ITB9KSl9fV0pLHR9KG0uYSk7Uy5sYXllck5hbWU9IlBvaW50Q2xvdWRMYXllciIsUy5kZWZhdWx0UHJvcHM9d30sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMiksZj1uLm4oaCksZD1uKDEwKSx2PW4ubihkKSxwPW4oMjMpLGc9bigxODkpLHk9bigyNzIpLG09bigyMDYpLGI9bigxMDgpLF89bigxMTYpLE89big2MCkseD1uKDExKSx3PW4oMTYxKSxTPW4oMjU0KSxrPW4oMTczKSxQPW4oMTE5KTtmdW5jdGlvbiBqKGUpe3AuYS5hc3NlcnQoZS5wb3NpdGlvbnN8fGUuUE9TSVRJT04sJ1NpbXBsZU1lc2hMYXllciByZXF1aXJlcyAicG9zdGlvbnMiIG9yICJQT1NJVElPTiIgYXR0cmlidXRlIGluIG1lc2ggcHJvcGVydHkuJyl9ZnVuY3Rpb24gVChlKXtpZihlLmF0dHJpYnV0ZXMpcmV0dXJuIGooZS5hdHRyaWJ1dGVzKSxlIGluc3RhbmNlb2YgTy5hP2U6bmV3IE8uYShlKTtpZihlLnBvc2l0aW9uc3x8ZS5QT1NJVElPTilyZXR1cm4gaihlKSxuZXcgTy5hKHthdHRyaWJ1dGVzOmV9KTt0aHJvdyBFcnJvcigiSW52YWxpZCBtZXNoIil9bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBBfSkpO3ZhciBFPXttZXNoOnt2YWx1ZTpudWxsLHR5cGU6Im9iamVjdCIsYXN5bmM6ITB9LHRleHR1cmU6e3R5cGU6Im9iamVjdCIsdmFsdWU6bnVsbCxhc3luYzohMH0sc2l6ZVNjYWxlOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEsbWluOjB9LHBhcmFtZXRlcnM6e2RlcHRoVGVzdDohMCxkZXB0aEZ1bmM6NTE1fSxfaW5zdGFuY2VkOiEwLHdpcmVmcmFtZTohMSxtYXRlcmlhbDohMCxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvc2l0aW9ufX0sZ2V0Q29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0T3JpZW50YXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDBdfSxnZXRTY2FsZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlsxLDEsMV19LGdldFRyYW5zbGF0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwXX0sZ2V0VHJhbnNmb3JtTWF0cml4Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6W119fSxBPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gaSgpKHRoaXMsdCksdSgpKHRoaXMsbCgpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHYoKSh0LGUpLG8oKSh0LFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSFPYmplY3QoeC5nKSh0aGlzLmNvbnRleHQuZ2wpLG49e307cmV0dXJuIE9iamVjdChTLmIpKHRoaXMuY29udGV4dC5nbCxrLmEuR0xTTF9ERVJJVkFUSVZFUykmJihuLkRFUklWQVRJVkVTX0FWQUlMQUJMRT0xKSxmKCkobCgpKHQucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzLHt2czoiI3ZlcnNpb24gMzAwIGVzXG4jZGVmaW5lIFNIQURFUl9OQU1FIHNpbXBsZS1tZXNoLWxheWVyLXZzXG51bmlmb3JtIGZsb2F0IHNpemVTY2FsZTtcbnVuaWZvcm0gYm9vbCBjb21wb3NlTW9kZWxNYXRyaXg7XG5pbiB2ZWMzIHBvc2l0aW9ucztcbmluIHZlYzMgbm9ybWFscztcbmluIHZlYzIgdGV4Q29vcmRzO1xuaW4gdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmluIHZlYzMgaW5zdGFuY2VQb3NpdGlvbnM2NExvdztcbmluIHZlYzQgaW5zdGFuY2VDb2xvcnM7XG5pbiB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcbmluIG1hdDMgaW5zdGFuY2VNb2RlbE1hdHJpeDtcbmluIHZlYzMgaW5zdGFuY2VUcmFuc2xhdGlvbjtcbm91dCB2ZWMyIHZUZXhDb29yZDtcbm91dCB2ZWMzIGNhbWVyYVBvc2l0aW9uO1xub3V0IHZlYzMgbm9ybWFsc19jb21tb25zcGFjZTtcbm91dCB2ZWM0IHBvc2l0aW9uX2NvbW1vbnNwYWNlO1xub3V0IHZlYzQgdkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VQb3NpdGlvbnM7XG4gIGdlb21ldHJ5LnV2ID0gdGV4Q29vcmRzO1xuICBnZW9tZXRyeS5waWNraW5nQ29sb3IgPSBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5cbiAgdlRleENvb3JkID0gdGV4Q29vcmRzO1xuICBjYW1lcmFQb3NpdGlvbiA9IHByb2plY3RfdUNhbWVyYVBvc2l0aW9uO1xuICBub3JtYWxzX2NvbW1vbnNwYWNlID0gcHJvamVjdF9ub3JtYWwoaW5zdGFuY2VNb2RlbE1hdHJpeCAqIG5vcm1hbHMpO1xuICB2Q29sb3IgPSBpbnN0YW5jZUNvbG9ycztcbiAgZ2VvbWV0cnkubm9ybWFsID0gbm9ybWFsc19jb21tb25zcGFjZTtcblxuICB2ZWMzIHBvcyA9IChpbnN0YW5jZU1vZGVsTWF0cml4ICogcG9zaXRpb25zKSAqIHNpemVTY2FsZSArIGluc3RhbmNlVHJhbnNsYXRpb247XG5cbiAgaWYgKGNvbXBvc2VNb2RlbE1hdHJpeCkge1xuICAgIERFQ0tHTF9GSUxURVJfU0laRShwb3MsIGdlb21ldHJ5KTtcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvcyArIGluc3RhbmNlUG9zaXRpb25zLCBpbnN0YW5jZVBvc2l0aW9uczY0TG93LCB2ZWMzKDAuMCksIHBvc2l0aW9uX2NvbW1vbnNwYWNlKTtcbiAgfVxuICBlbHNlIHtcbiAgICBwb3MgPSBwcm9qZWN0X3NpemUocG9zKTtcbiAgICBERUNLR0xfRklMVEVSX1NJWkUocG9zLCBnZW9tZXRyeSk7XG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShpbnN0YW5jZVBvc2l0aW9ucywgaW5zdGFuY2VQb3NpdGlvbnM2NExvdywgcG9zLCBwb3NpdGlvbl9jb21tb25zcGFjZSk7XG4gIH1cblxuICBnZW9tZXRyeS5wb3NpdGlvbiA9IHBvc2l0aW9uX2NvbW1vbnNwYWNlO1xuICBERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OKGdsX1Bvc2l0aW9uLCBnZW9tZXRyeSk7XG5cbiAgREVDS0dMX0ZJTFRFUl9DT0xPUih2Q29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsZnM6IiN2ZXJzaW9uIDMwMCBlc1xuI2RlZmluZSBTSEFERVJfTkFNRSBzaW1wbGUtbWVzaC1sYXllci1mc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gYm9vbCBoYXNUZXh0dXJlO1xudW5pZm9ybSBzYW1wbGVyMkQgc2FtcGxlcjtcbnVuaWZvcm0gYm9vbCBmbGF0U2hhZGluZztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcblxuaW4gdmVjMiB2VGV4Q29vcmQ7XG5pbiB2ZWMzIGNhbWVyYVBvc2l0aW9uO1xuaW4gdmVjMyBub3JtYWxzX2NvbW1vbnNwYWNlO1xuaW4gdmVjNCBwb3NpdGlvbl9jb21tb25zcGFjZTtcbmluIHZlYzQgdkNvbG9yO1xuXG5vdXQgdmVjNCBmcmFnQ29sb3I7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdlb21ldHJ5LnV2ID0gdlRleENvb3JkO1xuXG4gIHZlYzMgbm9ybWFsO1xuICBpZiAoZmxhdFNoYWRpbmcpIHtcbiNpZmRlZiBERVJJVkFUSVZFU19BVkFJTEFCTEVcbiAgICBub3JtYWwgPSBub3JtYWxpemUoY3Jvc3MoZEZkeChwb3NpdGlvbl9jb21tb25zcGFjZS54eXopLCBkRmR5KHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eikpKTtcbiNlbHNlXG4gICAgbm9ybWFsID0gdmVjMygwLjAsIDAuMCwgMS4wKTtcbiNlbmRpZlxuICB9IGVsc2Uge1xuICAgIG5vcm1hbCA9IG5vcm1hbHNfY29tbW9uc3BhY2U7XG4gIH1cblxuICB2ZWM0IGNvbG9yID0gaGFzVGV4dHVyZSA/IHRleHR1cmUoc2FtcGxlciwgdlRleENvb3JkKSA6IHZDb2xvcjtcbiAgdmVjMyBsaWdodENvbG9yID0gbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcihjb2xvci5yZ2IsIGNhbWVyYVBvc2l0aW9uLCBwb3NpdGlvbl9jb21tb25zcGFjZS54eXosIG5vcm1hbCk7XG4gIGZyYWdDb2xvciA9IHZlYzQobGlnaHRDb2xvciwgY29sb3IuYSAqIG9wYWNpdHkpO1xuXG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W2cuYSx5LmIsbS5hXSx0cmFuc3BpbGVUb0dMU0wxMDA6ZSxkZWZpbmVzOm59KX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGRJbnN0YW5jZWQoe2luc3RhbmNlUG9zaXRpb25zOnt0cmFuc2l0aW9uOiEwLHR5cGU6NTEzMCxmcDY0OnRoaXMudXNlNjRiaXRQb3NpdGlvbnMoKSxzaXplOjMsYWNjZXNzb3I6ImdldFBvc2l0aW9uIn0saW5zdGFuY2VDb2xvcnM6e3R5cGU6NTEyMSx0cmFuc2l0aW9uOiEwLHNpemU6dGhpcy5wcm9wcy5jb2xvckZvcm1hdC5sZW5ndGgsbm9ybWFsaXplZDohMCxhY2Nlc3NvcjoiZ2V0Q29sb3IiLGRlZmF1bHRWYWx1ZTpbMCwwLDAsMjU1XX0saW5zdGFuY2VNb2RlbE1hdHJpeDpQLmF9KSx0aGlzLnNldFN0YXRlKHtlbXB0eVRleHR1cmU6bmV3IF8uYSh0aGlzLmNvbnRleHQuZ2wse2RhdGE6bmV3IFVpbnQ4QXJyYXkoNCksd2lkdGg6MSxoZWlnaHQ6MX0pfSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49ZS5wcm9wcyxyPWUub2xkUHJvcHMsaT1lLmNoYW5nZUZsYWdzO2lmKGYoKShsKCkodC5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtwcm9wczpuLG9sZFByb3BzOnIsY2hhbmdlRmxhZ3M6aX0pLG4ubWVzaCE9PXIubWVzaHx8aS5leHRlbnNpb25zQ2hhbmdlZCl7aWYodGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5kZWxldGUoKSxuLm1lc2gpe3RoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuZ2V0TW9kZWwobi5tZXNoKX0pO3ZhciBhPW4ubWVzaC5hdHRyaWJ1dGVzfHxuLm1lc2g7dGhpcy5zZXRTdGF0ZSh7aGFzTm9ybWFsczpCb29sZWFuKGEuTk9STUFMfHxhLm5vcm1hbHMpfSl9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuaW52YWxpZGF0ZUFsbCgpfW4udGV4dHVyZSE9PXIudGV4dHVyZSYmdGhpcy5zZXRUZXh0dXJlKG4udGV4dHVyZSksdGhpcy5zdGF0ZS5tb2RlbCYmdGhpcy5zdGF0ZS5tb2RlbC5zZXREcmF3TW9kZSh0aGlzLnByb3BzLndpcmVmcmFtZT8zOjQpfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmKCkobCgpKHQucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnN0YXRlLmVtcHR5VGV4dHVyZS5kZWxldGUoKSx0aGlzLnN0YXRlLnRleHR1cmUmJnRoaXMuc3RhdGUudGV4dHVyZS5kZWxldGUoKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudW5pZm9ybXM7aWYodGhpcy5zdGF0ZS5tb2RlbCl7dmFyIG49dGhpcy5jb250ZXh0LnZpZXdwb3J0LHI9dGhpcy5wcm9wcyxpPXIuc2l6ZVNjYWxlLGE9ci5jb29yZGluYXRlU3lzdGVtLG89ci5faW5zdGFuY2VkO3RoaXMuc3RhdGUubW9kZWwuZHJhdyh7dW5pZm9ybXM6T2JqZWN0LmFzc2lnbih7fSx0LHtzaXplU2NhbGU6aSxjb21wb3NlTW9kZWxNYXRyaXg6IW98fE9iamVjdChQLmIpKG4sYSksZmxhdFNoYWRpbmc6IXRoaXMuc3RhdGUuaGFzTm9ybWFsc30pfSl9fX0se2tleToiZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB3LmEodGhpcy5jb250ZXh0LmdsLE9iamVjdC5hc3NpZ24oe30sdGhpcy5nZXRTaGFkZXJzKCkse2lkOnRoaXMucHJvcHMuaWQsZ2VvbWV0cnk6VChlKSxpc0luc3RhbmNlZDohMH0pKSxuPXRoaXMuc3RhdGUscj1uLnRleHR1cmUsaT1uLmVtcHR5VGV4dHVyZTtyZXR1cm4gdC5zZXRVbmlmb3Jtcyh7c2FtcGxlcjpyfHxpLGhhc1RleHR1cmU6Qm9vbGVhbihyKX0pLHR9fSx7a2V5OiJzZXRUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbnRleHQuZ2wsbj10aGlzLnN0YXRlLHI9bi5lbXB0eVRleHR1cmUsaT1uLm1vZGVsO3RoaXMuc3RhdGUudGV4dHVyZSYmdGhpcy5zdGF0ZS50ZXh0dXJlLmRlbGV0ZSgpO3ZhciBhPWU/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0IGluc3RhbmNlb2YgXy5hP3Q6bmV3IF8uYShlLE9iamVjdC5hc3NpZ24oe2RhdGE6dH0sbikpfSh0LGUpOm51bGw7dGhpcy5zZXRTdGF0ZSh7dGV4dHVyZTphfSksaSYmaS5zZXRVbmlmb3Jtcyh7c2FtcGxlcjphfHxyLGhhc1RleHR1cmU6Qm9vbGVhbihhKX0pfX1dKSx0fShiLmEpO0EubGF5ZXJOYW1lPSJTaW1wbGVNZXNoTGF5ZXIiLEEuZGVmYXVsdFByb3BzPUV9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyKSxpPW4ubihyKSxhPW4oMyksbz1uLm4oYSkscz1uKDkpLHU9bi5uKHMpLGM9big0KSxsPW4ubihjKSxoPW4oMTApLGY9bi5uKGgpLGQ9bigyMyksdj1uKDE3MSkscD1uKDE0NiksZz1uKDEwMCkseT1uKDEwOSksbT1uKDE2MCk7ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj17cG9pbnRGZWF0dXJlczpbXSxsaW5lRmVhdHVyZXM6W10scG9seWdvbkZlYXR1cmVzOltdLHBvbHlnb25PdXRsaW5lRmVhdHVyZXM6W119LGk9bi5zdGFydFJvdyxhPXZvaWQgMD09PWk/MDppLG89bi5lbmRSb3cscz12b2lkIDA9PT1vP2UubGVuZ3RoOm8sdT1hO3U8czt1Kyspe3ZhciBjPWVbdV07ZC5hLmFzc2VydChjJiZjLmdlb21ldHJ5LCJHZW9KU09OIGRvZXMgbm90IGhhdmUgZ2VvbWV0cnkiKTt2YXIgbD1jLmdlb21ldHJ5O2lmKCJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bC50eXBlKXtkLmEuYXNzZXJ0KEFycmF5LmlzQXJyYXkobC5nZW9tZXRyaWVzKSwiR2VvSlNPTiBkb2VzIG5vdCBoYXZlIGdlb21ldHJpZXMgYXJyYXkiKTtmb3IodmFyIGg9bC5nZW9tZXRyaWVzLGY9MDtmPGgubGVuZ3RoO2YrKyl7dmFyIHY9aFtmXTtfKHYscix0LGMsdSl9fWVsc2UgXyhsLHIsdCxjLHUpfXJldHVybiByfWZ1bmN0aW9uIF8oZSx0LG4scixpKXt2YXIgYT1lLnR5cGUsbz1lLmNvb3JkaW5hdGVzLHM9dC5wb2ludEZlYXR1cmVzLHU9dC5saW5lRmVhdHVyZXMsYz10LnBvbHlnb25GZWF0dXJlcyxsPXQucG9seWdvbk91dGxpbmVGZWF0dXJlcztpZihmdW5jdGlvbihlLHQpe3ZhciBuPU9bZV07ZC5hLmFzc2VydChuLCJVbmtub3duIEdlb0pTT04gdHlwZSAiLmNvbmNhdChlKSk7Zm9yKDt0JiYtLW4+MDspdD10WzBdO3JldHVybiB0JiZOdW1iZXIuaXNGaW5pdGUodFswXSl9KGEsbykpc3dpdGNoKGEpe2Nhc2UiUG9pbnQiOnMucHVzaChuKHtnZW9tZXRyeTplfSxyLGkpKTticmVhaztjYXNlIk11bHRpUG9pbnQiOm8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cy5wdXNoKG4oe2dlb21ldHJ5Ont0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6ZX19LHIsaSkpfSkpO2JyZWFrO2Nhc2UiTGluZVN0cmluZyI6dS5wdXNoKG4oe2dlb21ldHJ5OmV9LHIsaSkpO2JyZWFrO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjpvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3UucHVzaChuKHtnZW9tZXRyeTp7dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6ZX19LHIsaSkpfSkpO2JyZWFrO2Nhc2UiUG9seWdvbiI6Yy5wdXNoKG4oe2dlb21ldHJ5OmV9LHIsaSkpLG8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7bC5wdXNoKG4oe2dlb21ldHJ5Ont0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczplfX0scixpKSl9KSk7YnJlYWs7Y2FzZSJNdWx0aVBvbHlnb24iOm8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yy5wdXNoKG4oe2dlb21ldHJ5Ont0eXBlOiJQb2x5Z29uIixjb29yZGluYXRlczplfX0scixpKSksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtsLnB1c2gobih7Z2VvbWV0cnk6e3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOmV9fSxyLGkpKX0pKX0pKX1lbHNlIGQuYS53YXJuKCIiLmNvbmNhdChhLCIgY29vcmRpbmF0ZXMgYXJlIG1hbGZvcm1lZCIpKSgpfXZhciBPPXtQb2ludDoxLE11bHRpUG9pbnQ6MixMaW5lU3RyaW5nOjIsTXVsdGlMaW5lU3RyaW5nOjMsUG9seWdvbjozLE11bHRpUG9seWdvbjo0fTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIHg9e3N0cm9rZWQ6ITAsZmlsbGVkOiEwLGV4dHJ1ZGVkOiExLHdpcmVmcmFtZTohMSxsaW5lV2lkdGhVbml0czoibWV0ZXJzIixsaW5lV2lkdGhTY2FsZToxLGxpbmVXaWR0aE1pblBpeGVsczowLGxpbmVXaWR0aE1heFBpeGVsczpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixsaW5lSm9pbnRSb3VuZGVkOiExLGxpbmVNaXRlckxpbWl0OjQsZWxldmF0aW9uU2NhbGU6MSxwb2ludFJhZGl1c1NjYWxlOjEscG9pbnRSYWRpdXNNaW5QaXhlbHM6MCxwb2ludFJhZGl1c01heFBpeGVsczpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixnZXRMaW5lQ29sb3I6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpbMCwwLDAsMjU1XX0sZ2V0RmlsbENvbG9yOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMCwwLDI1NV19LGdldFJhZGl1czp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjF9LGdldExpbmVXaWR0aDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjF9LGdldEVsZXZhdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjFlM30sbWF0ZXJpYWw6ITB9O2Z1bmN0aW9uIHcoZSl7cmV0dXJuIGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXN9dmFyIFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKCkodGhpcyx0KSx1KCkodGhpcyxsKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKHQsZSksbygpKHQsW3trZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPXtmZWF0dXJlczp7fX0sdGhpcy5wcm9wcy5nZXRMaW5lRGFzaEFycmF5JiZkLmEucmVtb3ZlZCgiZ2V0TGluZURhc2hBcnJheSIsIlBhdGhTdHlsZUV4dGVuc2lvbiIpKCl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPWUuY2hhbmdlRmxhZ3M7aWYobi5kYXRhQ2hhbmdlZCl7dmFyIHI9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtzd2l0Y2goZC5hLmFzc2VydChlLnR5cGUsIkdlb0pTT04gZG9lcyBub3QgaGF2ZSB0eXBlIiksZS50eXBlKXtjYXNlIkZlYXR1cmUiOnJldHVybltlXTtjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjpyZXR1cm4gZC5hLmFzc2VydChBcnJheS5pc0FycmF5KGUuZmVhdHVyZXMpLCJHZW9KU09OIGRvZXMgbm90IGhhdmUgZmVhdHVyZXMgYXJyYXkiKSxlLmZlYXR1cmVzO2RlZmF1bHQ6cmV0dXJuW3tnZW9tZXRyeTplfV19fSh0LmRhdGEpLGk9dGhpcy5nZXRTdWJMYXllclJvdy5iaW5kKHRoaXMpO2lmKEFycmF5LmlzQXJyYXkobi5kYXRhQ2hhbmdlZCkpe3ZhciBhPXRoaXMuc3RhdGUuZmVhdHVyZXMsbz17fSxzPXt9O2Zvcih2YXIgdSBpbiBhKW9bdV09YVt1XS5zbGljZSgpLHNbdV09W107dmFyIGM9ITAsbD0hMSxoPXZvaWQgMDt0cnl7Zm9yKHZhciBmLHY9bi5kYXRhQ2hhbmdlZFtTeW1ib2wuaXRlcmF0b3JdKCk7IShjPShmPXYubmV4dCgpKS5kb25lKTtjPSEwKXt2YXIgcD1mLnZhbHVlLGc9YihyLGkscCk7Zm9yKHZhciB5IGluIGEpc1t5XS5wdXNoKE9iamVjdChtLmEpKHtkYXRhOm9beV0sZ2V0SW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19zb3VyY2UuaW5kZXh9LGRhdGFSYW5nZTpwLHJlcGxhY2U6Z1t5XX0pKX19Y2F0Y2goZSl7bD0hMCxoPWV9ZmluYWxseXt0cnl7Y3x8bnVsbD09di5yZXR1cm58fHYucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IGh9fXRoaXMuc2V0U3RhdGUoe2ZlYXR1cmVzOm8sZmVhdHVyZXNEaWZmOnN9KX1lbHNlIHRoaXMuc2V0U3RhdGUoe2ZlYXR1cmVzOmIocixpKSxmZWF0dXJlc0RpZmY6e319KX19fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZSx0PWUuZmVhdHVyZXMsbj1lLmZlYXR1cmVzRGlmZixyPXQucG9pbnRGZWF0dXJlcyxpPXQubGluZUZlYXR1cmVzLGE9dC5wb2x5Z29uRmVhdHVyZXMsbz10LnBvbHlnb25PdXRsaW5lRmVhdHVyZXMscz10aGlzLnByb3BzLHU9cy5zdHJva2VkLGM9cy5maWxsZWQsbD1zLmV4dHJ1ZGVkLGg9cy53aXJlZnJhbWUsZj1zLm1hdGVyaWFsLGQ9cy50cmFuc2l0aW9ucyx2PXRoaXMucHJvcHMsbT12LmxpbmVXaWR0aFVuaXRzLGI9di5saW5lV2lkdGhTY2FsZSxfPXYubGluZVdpZHRoTWluUGl4ZWxzLE89di5saW5lV2lkdGhNYXhQaXhlbHMseD12LmxpbmVKb2ludFJvdW5kZWQsUz12LmxpbmVNaXRlckxpbWl0LGs9di5wb2ludFJhZGl1c1NjYWxlLFA9di5wb2ludFJhZGl1c01pblBpeGVscyxqPXYucG9pbnRSYWRpdXNNYXhQaXhlbHMsVD12LmVsZXZhdGlvblNjYWxlLEU9di5saW5lRGFzaEp1c3RpZmllZCxBPXRoaXMucHJvcHMsTT1BLmdldExpbmVDb2xvcixDPUEuZ2V0RmlsbENvbG9yLEw9QS5nZXRSYWRpdXMsST1BLmdldExpbmVXaWR0aCxSPUEuZ2V0TGluZURhc2hBcnJheSxEPUEuZ2V0RWxldmF0aW9uLEY9QS51cGRhdGVUcmlnZ2VycyxOPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygicG9seWdvbnMtZmlsbCIseS5hKSx6PXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygicG9seWdvbnMtc3Ryb2tlIixnLmEpLEI9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJsaW5lLXN0cmluZ3MiLGcuYSksVT10aGlzLmdldFN1YkxheWVyQ2xhc3MoInBvaW50cyIscC5hKSxWPXRoaXMuc2hvdWxkUmVuZGVyU3ViTGF5ZXIoInBvbHlnb25zLWZpbGwiLGEpJiZuZXcgTih7X2RhdGFEaWZmOm4ucG9seWdvbkZlYXR1cmVzJiZmdW5jdGlvbigpe3JldHVybiBuLnBvbHlnb25GZWF0dXJlc30sZXh0cnVkZWQ6bCxlbGV2YXRpb25TY2FsZTpULGZpbGxlZDpjLHdpcmVmcmFtZTpoLG1hdGVyaWFsOmYsZ2V0RWxldmF0aW9uOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihEKSxnZXRGaWxsQ29sb3I6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKEMpLGdldExpbmVDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoTSksdHJhbnNpdGlvbnM6ZCYme2dldFBvbHlnb246ZC5nZW9tZXRyeSxnZXRFbGV2YXRpb246ZC5nZXRFbGV2YXRpb24sZ2V0RmlsbENvbG9yOmQuZ2V0RmlsbENvbG9yLGdldExpbmVDb2xvcjpkLmdldExpbmVDb2xvcn19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InBvbHlnb25zLWZpbGwiLHVwZGF0ZVRyaWdnZXJzOntnZXRFbGV2YXRpb246Ri5nZXRFbGV2YXRpb24sZ2V0RmlsbENvbG9yOkYuZ2V0RmlsbENvbG9yLGdldExpbmVDb2xvcjpGLmdldExpbmVDb2xvcn19KSx7ZGF0YTphLGdldFBvbHlnb246d30pO3JldHVyblshbCYmViwhbCYmdSYmdGhpcy5zaG91bGRSZW5kZXJTdWJMYXllcigicG9seWdvbnMtc3Ryb2tlIixvKSYmbmV3IHooe19kYXRhRGlmZjpuLnBvbHlnb25PdXRsaW5lRmVhdHVyZXMmJmZ1bmN0aW9uKCl7cmV0dXJuIG4ucG9seWdvbk91dGxpbmVGZWF0dXJlc30sd2lkdGhVbml0czptLHdpZHRoU2NhbGU6Yix3aWR0aE1pblBpeGVsczpfLHdpZHRoTWF4UGl4ZWxzOk8scm91bmRlZDp4LG1pdGVyTGltaXQ6UyxkYXNoSnVzdGlmaWVkOkUsZ2V0Q29sb3I6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKE0pLGdldFdpZHRoOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihJKSxnZXREYXNoQXJyYXk6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKFIpLHRyYW5zaXRpb25zOmQmJntnZXRQYXRoOmQuZ2VvbWV0cnksZ2V0Q29sb3I6ZC5nZXRMaW5lQ29sb3IsZ2V0V2lkdGg6ZC5nZXRMaW5lV2lkdGh9fSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJwb2x5Z29ucy1zdHJva2UiLHVwZGF0ZVRyaWdnZXJzOntnZXRDb2xvcjpGLmdldExpbmVDb2xvcixnZXRXaWR0aDpGLmdldExpbmVXaWR0aCxnZXREYXNoQXJyYXk6Ri5nZXRMaW5lRGFzaEFycmF5fX0pLHtkYXRhOm8sZ2V0UGF0aDp3fSksdGhpcy5zaG91bGRSZW5kZXJTdWJMYXllcigibGluZXN0cmluZ3MiLGkpJiZuZXcgQih7X2RhdGFEaWZmOm4ubGluZUZlYXR1cmVzJiZmdW5jdGlvbigpe3JldHVybiBuLmxpbmVGZWF0dXJlc30sd2lkdGhVbml0czptLHdpZHRoU2NhbGU6Yix3aWR0aE1pblBpeGVsczpfLHdpZHRoTWF4UGl4ZWxzOk8scm91bmRlZDp4LG1pdGVyTGltaXQ6UyxkYXNoSnVzdGlmaWVkOkUsZ2V0Q29sb3I6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKE0pLGdldFdpZHRoOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihJKSxnZXREYXNoQXJyYXk6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKFIpLHRyYW5zaXRpb25zOmQmJntnZXRQYXRoOmQuZ2VvbWV0cnksZ2V0Q29sb3I6ZC5nZXRMaW5lQ29sb3IsZ2V0V2lkdGg6ZC5nZXRMaW5lV2lkdGh9fSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJsaW5lLXN0cmluZ3MiLHVwZGF0ZVRyaWdnZXJzOntnZXRDb2xvcjpGLmdldExpbmVDb2xvcixnZXRXaWR0aDpGLmdldExpbmVXaWR0aCxnZXREYXNoQXJyYXk6Ri5nZXRMaW5lRGFzaEFycmF5fX0pLHtkYXRhOmksZ2V0UGF0aDp3fSksdGhpcy5zaG91bGRSZW5kZXJTdWJMYXllcigicG9pbnRzIixyKSYmbmV3IFUoe19kYXRhRGlmZjpuLnBvaW50RmVhdHVyZXMmJmZ1bmN0aW9uKCl7cmV0dXJuIG4ucG9pbnRGZWF0dXJlc30sc3Ryb2tlZDp1LGZpbGxlZDpjLHJhZGl1c1NjYWxlOmsscmFkaXVzTWluUGl4ZWxzOlAscmFkaXVzTWF4UGl4ZWxzOmosbGluZVdpZHRoVW5pdHM6bSxsaW5lV2lkdGhTY2FsZTpiLGxpbmVXaWR0aE1pblBpeGVsczpfLGxpbmVXaWR0aE1heFBpeGVsczpPLGdldEZpbGxDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoQyksZ2V0TGluZUNvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3NvcihNKSxnZXRSYWRpdXM6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKEwpLGdldExpbmVXaWR0aDp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoSSksdHJhbnNpdGlvbnM6ZCYme2dldFBvc2l0aW9uOmQuZ2VvbWV0cnksZ2V0RmlsbENvbG9yOmQuZ2V0RmlsbENvbG9yLGdldExpbmVDb2xvcjpkLmdldExpbmVDb2xvcixnZXRSYWRpdXM6ZC5nZXRSYWRpdXMsZ2V0TGluZVdpZHRoOmQuZ2V0TGluZVdpZHRofX0sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoicG9pbnRzIix1cGRhdGVUcmlnZ2Vyczp7Z2V0RmlsbENvbG9yOkYuZ2V0RmlsbENvbG9yLGdldExpbmVDb2xvcjpGLmdldExpbmVDb2xvcixnZXRSYWRpdXM6Ri5nZXRSYWRpdXMsZ2V0TGluZVdpZHRoOkYuZ2V0TGluZVdpZHRofX0pLHtkYXRhOnIsZ2V0UG9zaXRpb246d30pLGwmJlZdfX1dKSx0fSh2LmEpO1MubGF5ZXJOYW1lPSJHZW9Kc29uTGF5ZXIiLFMuZGVmYXVsdFByb3BzPXh9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxpPW4oNiksYT1uKDE2KSxvPW4oMTUpLHM9bigxNyksdT1uKDExNSksYz1uKDI4KSxsPW4oNzIpLGg9bigxNCksZj1uKDU3KSxkPW4oMzIpLHY9bigzOSk7ZnVuY3Rpb24gcCgpe3ZhciBlPW5ldyBoLmEoNCk7cmV0dXJuIGguYSE9RmxvYXQzMkFycmF5JiYoZVswXT0wLGVbMV09MCxlWzJdPTApLGVbM109MSxlfWZ1bmN0aW9uIGcoZSx0LG4pe24qPS41O3ZhciByPU1hdGguc2luKG4pO3JldHVybiBlWzBdPXIqdFswXSxlWzFdPXIqdFsxXSxlWzJdPXIqdFsyXSxlWzNdPU1hdGguY29zKG4pLGV9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPW5bMF0sdT1uWzFdLGM9blsyXSxsPW5bM107cmV0dXJuIGVbMF09cipsK28qcytpKmMtYSp1LGVbMV09aSpsK28qdSthKnMtcipjLGVbMl09YSpsK28qYytyKnUtaSpzLGVbM109bypsLXIqcy1pKnUtYSpjLGV9ZnVuY3Rpb24gbShlLHQsbixyKXt2YXIgaSxhLG8scyx1LGM9dFswXSxsPXRbMV0sZj10WzJdLGQ9dFszXSx2PW5bMF0scD1uWzFdLGc9blsyXSx5PW5bM107cmV0dXJuKGE9Yyp2K2wqcCtmKmcrZCp5KTwwJiYoYT0tYSx2PS12LHA9LXAsZz0tZyx5PS15KSwxLWE+aC5iPyhpPU1hdGguYWNvcyhhKSxvPU1hdGguc2luKGkpLHM9TWF0aC5zaW4oKDEtcikqaSkvbyx1PU1hdGguc2luKHIqaSkvbyk6KHM9MS1yLHU9ciksZVswXT1zKmMrdSp2LGVbMV09cypsK3UqcCxlWzJdPXMqZit1KmcsZVszXT1zKmQrdSp5LGV9ZnVuY3Rpb24gYihlLHQpe3ZhciBuLHI9dFswXSt0WzRdK3RbOF07aWYocj4wKW49TWF0aC5zcXJ0KHIrMSksZVszXT0uNSpuLG49LjUvbixlWzBdPSh0WzVdLXRbN10pKm4sZVsxXT0odFs2XS10WzJdKSpuLGVbMl09KHRbMV0tdFszXSkqbjtlbHNle3ZhciBpPTA7dFs0XT50WzBdJiYoaT0xKSx0WzhdPnRbMyppK2ldJiYoaT0yKTt2YXIgYT0oaSsxKSUzLG89KGkrMiklMztuPU1hdGguc3FydCh0WzMqaStpXS10WzMqYSthXS10WzMqbytvXSsxKSxlW2ldPS41Km4sbj0uNS9uLGVbM109KHRbMyphK29dLXRbMypvK2FdKSpuLGVbYV09KHRbMyphK2ldK3RbMyppK2FdKSpuLGVbb109KHRbMypvK2ldK3RbMyppK29dKSpufXJldHVybiBlfXYuYix2Lmcsdi5jLHYubDt2YXIgXyxPLHgsdyxTLGssUD12LmEsaj12LmssVD12LmQsRT12LmksQT12LmgsTT12Lm0sQz12LmosTD0odi5mLHYuZSxfPWQuYigpLE89ZC5lKDEsMCwwKSx4PWQuZSgwLDEsMCksZnVuY3Rpb24oZSx0LG4pe3ZhciByPWQuZCh0LG4pO3JldHVybiByPC0uOTk5OTk5PyhkLmMoXyxPLHQpLGQuZihfKTwxZS02JiZkLmMoXyx4LHQpLGQuaShfLF8pLGcoZSxfLE1hdGguUEkpLGUpOnI+Ljk5OTk5OT8oZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGUpOihkLmMoXyx0LG4pLGVbMF09X1swXSxlWzFdPV9bMV0sZVsyXT1fWzJdLGVbM109MStyLEMoZSxlKSl9KTt3PXAoKSxTPXAoKSxrPWYuYSgpO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKTt2YXIgST1bMCwwLDAsMV0sUj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsdT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MTtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyx0KSxlPU9iamVjdChhLmEpKHRoaXMsT2JqZWN0KG8uYSkodCkuY2FsbCh0aGlzLC0wLC0wLC0wLC0wKSksQXJyYXkuaXNBcnJheShuKSYmMT09PWFyZ3VtZW50cy5sZW5ndGg/ZS5jb3B5KG4pOmUuc2V0KG4saSxzLHUpLGV9cmV0dXJuIE9iamVjdChzLmEpKHQsZSksT2JqZWN0KGkuYSkodCxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbMF09ZVswXSx0aGlzWzFdPWVbMV0sdGhpc1syXT1lWzJdLHRoaXNbM109ZVszXSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzWzBdPWUsdGhpc1sxXT10LHRoaXNbMl09bix0aGlzWzNdPXIsdGhpcy5jaGVjaygpfX0se2tleToiZnJvbU1hdHJpeDMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBiKHRoaXMsZSksdGhpcy5jaGVjaygpfX0se2tleToiaWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9dGhpcylbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJmcm9tQXhpc1JvdGF0aW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBnKHRoaXMsZSx0KSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzZXRBeGlzQW5nbGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZnJvbUF4aXNSb3RhdGlvbihlLHQpfX0se2tleToibGVuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBBKHRoaXMpfX0se2tleToibGVuZ3RoU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE0odGhpcyl9fSx7a2V5OiJkb3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgRXJyb3IoIlF1YXRlcm5pb24uZG90IG9ubHkgdGFrZXMgb25lIGFyZ3VtZW50Iik7cmV0dXJuIFQodGhpcyxlKX19LHtrZXk6InJvdGF0aW9uVG8iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEwodGhpcyxlLHQpLHRoaXMuY2hlY2soKX19LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT10KXRocm93IG5ldyBFcnJvcigiUXVhdGVybmlvbi5hZGQgb25seSB0YWtlcyBvbmUgYXJndW1lbnQiKTtyZXR1cm4gUCh0aGlzLHRoaXMsZSksdGhpcy5jaGVjaygpfX0se2tleToiY2FsY3VsYXRlVyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpO3JldHVybiBlPXRoaXMsbj0odD10aGlzKVswXSxyPXRbMV0saT10WzJdLGVbMF09bixlWzFdPXIsZVsyXT1pLGVbM109TWF0aC5zcXJ0KE1hdGguYWJzKDEtbipuLXIqci1pKmkpKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJjb25qdWdhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gdD10aGlzLChlPXRoaXMpWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlWzNdPXRbM10sdGhpcy5jaGVjaygpfX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQsbixyLGksYSxvLHM7cmV0dXJuIGU9dGhpcyxuPSh0PXRoaXMpWzBdLHI9dFsxXSxpPXRbMl0sYT10WzNdLHM9KG89bipuK3IqcitpKmkrYSphKT8xL286MCxlWzBdPS1uKnMsZVsxXT0tcipzLGVbMl09LWkqcyxlWzNdPWEqcyx0aGlzLmNoZWNrKCl9fSx7a2V5OiJsZXJwIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEUodGhpcyxlLHQsbiksdGhpcy5jaGVjaygpfX0se2tleToibXVsdGlwbHlSaWdodCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KGwuYSkoIXQpLHkodGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6Im11bHRpcGx5TGVmdCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KGwuYSkoIXQpLHkodGhpcyxlLHRoaXMpLHRoaXMuY2hlY2soKX19LHtrZXk6Im5vcm1hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbigpLHQ9ZT4wPzEvZTowO3JldHVybiB0aGlzWzBdPXRoaXNbMF0qdCx0aGlzWzFdPXRoaXNbMV0qdCx0aGlzWzJdPXRoaXNbMl0qdCx0aGlzWzNdPXRoaXNbM10qdCwwPT09ZSYmKHRoaXNbM109MSksdGhpcy5jaGVjaygpfX0se2tleToicm90YXRlWCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtuKj0uNTt2YXIgcj10WzBdLGk9dFsxXSxhPXRbMl0sbz10WzNdLHM9TWF0aC5zaW4obiksdT1NYXRoLmNvcyhuKTtlWzBdPXIqdStvKnMsZVsxXT1pKnUrYSpzLGVbMl09YSp1LWkqcyxlWzNdPW8qdS1yKnN9KHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJyb3RhdGVZIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe24qPS41O3ZhciByPXRbMF0saT10WzFdLGE9dFsyXSxvPXRbM10scz1NYXRoLnNpbihuKSx1PU1hdGguY29zKG4pO2VbMF09cip1LWEqcyxlWzFdPWkqdStvKnMsZVsyXT1hKnUrcipzLGVbM109byp1LWkqc30odGhpcyx0aGlzLGUpLHRoaXMuY2hlY2soKX19LHtrZXk6InJvdGF0ZVoiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbil7bio9LjU7dmFyIHI9dFswXSxpPXRbMV0sYT10WzJdLG89dFszXSxzPU1hdGguc2luKG4pLHU9TWF0aC5jb3Mobik7ZVswXT1yKnUraSpzLGVbMV09aSp1LXIqcyxlWzJdPWEqdStvKnMsZVszXT1vKnUtYSpzfSh0aGlzLHRoaXMsZSksdGhpcy5jaGVjaygpfX0se2tleToic2NhbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBqKHRoaXMsdGhpcyxlKSx0aGlzLmNoZWNrKCl9fSx7a2V5OiJzbGVycCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6dmFyIHI9YXJndW1lbnRzWzBdLGk9ci5zdGFydDtlPXZvaWQgMD09PWk/STppLHQ9ci50YXJnZXQsbj1yLnJhdGlvO2JyZWFrO2Nhc2UgMjp2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3Q9YVswXSxuPWFbMV0sZT10aGlzfXJldHVybiBtKHRoaXMsZSx0LG4pLHRoaXMuY2hlY2soKX19LHtrZXk6InRyYW5zZm9ybVZlY3RvcjQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTplO3JldHVybiB2Lm8odCxlLHRoaXMpLE9iamVjdChjLmIpKHQsNCl9fSx7a2V5OiJsZW5ndGhTcSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGhTcXVhcmVkKCl9fSx7a2V5OiJzZXRGcm9tQXhpc0FuZ2xlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldEF4aXNBbmdsZShlLHQpfX0se2tleToicHJlbXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubXVsdGlwbHlMZWZ0KGUsdCl9fSx7a2V5OiJtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tdWx0aXBseVJpZ2h0KGUsdCl9fSx7a2V5OiJFTEVNRU5UUyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDR9fSx7a2V5OiJ4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1swXX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzWzBdPU9iamVjdChjLmEpKGUpfX0se2tleToieSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMV19LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1sxXT1PYmplY3QoYy5hKShlKX19LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbMl09T2JqZWN0KGMuYSkoZSl9fSx7a2V5OiJ3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1szXX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzWzNdPU9iamVjdChjLmEpKGUpfX1dKSx0fSh1LmEpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPXtwaWNraW5nU2VsZWN0ZWRDb2xvcjpudWxsLHBpY2tpbmdIaWdobGlnaHRDb2xvcjpuZXcgVWludDhBcnJheShbMCwyNTUsMjU1LDI1NV0pLHBpY2tpbmdBY3RpdmU6ITEscGlja2luZ0F0dHJpYnV0ZTohMX07dmFyIGk9e25hbWU6InBpY2tpbmciLHZzOiJ1bmlmb3JtIGJvb2wgcGlja2luZ191QWN0aXZlO1xudW5pZm9ybSBib29sIHBpY2tpbmdfdUF0dHJpYnV0ZTtcbnVuaWZvcm0gdmVjMyBwaWNraW5nX3VTZWxlY3RlZENvbG9yO1xudW5pZm9ybSBib29sIHBpY2tpbmdfdVNlbGVjdGVkQ29sb3JWYWxpZDtcblxub3V0IHZlYzQgcGlja2luZ192UkdCY29sb3JfQXZhbGlkO1xuXG5jb25zdCBmbG9hdCBDT0xPUl9TQ0FMRSA9IDEuIC8gMjU1LjtcblxuYm9vbCBwaWNraW5nX2lzQ29sb3JWYWxpZCh2ZWMzIGNvbG9yKSB7XG4gIHJldHVybiBkb3QoY29sb3IsIHZlYzMoMS4wKSkgPiAwLjAwMTtcbn1cblxuYm9vbCBpc1ZlcnRleFBpY2tlZCh2ZWMzIHZlcnRleENvbG9yKSB7XG4gIHJldHVyblxuICAgIHBpY2tpbmdfdVNlbGVjdGVkQ29sb3JWYWxpZCAmJlxuICAgICFwaWNraW5nX2lzQ29sb3JWYWxpZChhYnModmVydGV4Q29sb3IgLSBwaWNraW5nX3VTZWxlY3RlZENvbG9yKSk7XG59XG5cbnZvaWQgcGlja2luZ19zZXRQaWNraW5nQ29sb3IodmVjMyBwaWNraW5nQ29sb3IpIHtcbiAgaWYgKHBpY2tpbmdfdUFjdGl2ZSkge1xuICAgIHBpY2tpbmdfdlJHQmNvbG9yX0F2YWxpZC5hID0gZmxvYXQocGlja2luZ19pc0NvbG9yVmFsaWQocGlja2luZ0NvbG9yKSk7XG5cbiAgICBpZiAoIXBpY2tpbmdfdUF0dHJpYnV0ZSkge1xuICAgICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLnJnYiA9IHBpY2tpbmdDb2xvciAqIENPTE9SX1NDQUxFO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQuYSA9IGZsb2F0KGlzVmVydGV4UGlja2VkKHBpY2tpbmdDb2xvcikpO1xuICB9XG59XG5cbnZvaWQgcGlja2luZ19zZXRQaWNraW5nQXR0cmlidXRlKGZsb2F0IHZhbHVlKSB7XG4gIGlmIChwaWNraW5nX3VBdHRyaWJ1dGUpIHtcbiAgICBwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQuciA9IHZhbHVlO1xuICB9XG59XG52b2lkIHBpY2tpbmdfc2V0UGlja2luZ0F0dHJpYnV0ZSh2ZWMyIHZhbHVlKSB7XG4gIGlmIChwaWNraW5nX3VBdHRyaWJ1dGUpIHtcbiAgICBwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQucmcgPSB2YWx1ZTtcbiAgfVxufVxudm9pZCBwaWNraW5nX3NldFBpY2tpbmdBdHRyaWJ1dGUodmVjMyB2YWx1ZSkge1xuICBpZiAocGlja2luZ191QXR0cmlidXRlKSB7XG4gICAgcGlja2luZ192UkdCY29sb3JfQXZhbGlkLnJnYiA9IHZhbHVlO1xuICB9XG59XG4iLGZzOiJ1bmlmb3JtIGJvb2wgcGlja2luZ191QWN0aXZlO1xudW5pZm9ybSB2ZWMzIHBpY2tpbmdfdVNlbGVjdGVkQ29sb3I7XG51bmlmb3JtIHZlYzQgcGlja2luZ191SGlnaGxpZ2h0Q29sb3I7XG5cbmluIHZlYzQgcGlja2luZ192UkdCY29sb3JfQXZhbGlkO1xudmVjNCBwaWNraW5nX2ZpbHRlckhpZ2hsaWdodENvbG9yKHZlYzQgY29sb3IpIHtcbiAgaWYgKHBpY2tpbmdfdUFjdGl2ZSkge1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuICBib29sIHNlbGVjdGVkID0gYm9vbChwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQuYSk7XG5cbiAgaWYgKHNlbGVjdGVkKSB7XG4gICAgZmxvYXQgaGlnaExpZ2h0QWxwaGEgPSBwaWNraW5nX3VIaWdobGlnaHRDb2xvci5hO1xuICAgIGZsb2F0IGJsZW5kZWRBbHBoYSA9IGhpZ2hMaWdodEFscGhhICsgY29sb3IuYSAqICgxLjAgLSBoaWdoTGlnaHRBbHBoYSk7XG4gICAgZmxvYXQgaGlnaExpZ2h0UmF0aW8gPSBoaWdoTGlnaHRBbHBoYSAvIGJsZW5kZWRBbHBoYTtcblxuICAgIHZlYzMgYmxlbmRlZFJHQiA9IG1peChjb2xvci5yZ2IsIHBpY2tpbmdfdUhpZ2hsaWdodENvbG9yLnJnYiwgaGlnaExpZ2h0UmF0aW8pO1xuICAgIHJldHVybiB2ZWM0KGJsZW5kZWRSR0IsIGJsZW5kZWRBbHBoYSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG59XG52ZWM0IHBpY2tpbmdfZmlsdGVyUGlja2luZ0NvbG9yKHZlYzQgY29sb3IpIHtcbiAgaWYgKHBpY2tpbmdfdUFjdGl2ZSkge1xuICAgIGlmIChwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQuYSA9PSAwLjApIHtcbiAgICAgIGRpc2NhcmQ7XG4gICAgfVxuICAgIHJldHVybiBwaWNraW5nX3ZSR0Jjb2xvcl9BdmFsaWQ7XG4gIH1cbiAgcmV0dXJuIGNvbG9yO1xufVxudmVjNCBwaWNraW5nX2ZpbHRlckNvbG9yKHZlYzQgY29sb3IpIHtcbiAgdmVjNCBoaWdoaWdodENvbG9yID0gcGlja2luZ19maWx0ZXJIaWdobGlnaHRDb2xvcihjb2xvcik7XG4gIHJldHVybiBwaWNraW5nX2ZpbHRlclBpY2tpbmdDb2xvcihoaWdoaWdodENvbG9yKTtcbn1cblxuIixnZXRVbmlmb3JtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpyLHQ9e307aWYodm9pZCAwIT09ZS5waWNraW5nU2VsZWN0ZWRDb2xvcilpZihlLnBpY2tpbmdTZWxlY3RlZENvbG9yKXt2YXIgbj1lLnBpY2tpbmdTZWxlY3RlZENvbG9yLnNsaWNlKDAsMyk7dC5waWNraW5nX3VTZWxlY3RlZENvbG9yVmFsaWQ9MSx0LnBpY2tpbmdfdVNlbGVjdGVkQ29sb3I9bn1lbHNlIHQucGlja2luZ191U2VsZWN0ZWRDb2xvclZhbGlkPTA7cmV0dXJuIGUucGlja2luZ0hpZ2hsaWdodENvbG9yJiYodC5waWNraW5nX3VIaWdobGlnaHRDb2xvcj1lLnBpY2tpbmdIaWdobGlnaHRDb2xvci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLzI1NX0pKSksdm9pZCAwIT09ZS5waWNraW5nQWN0aXZlJiYodC5waWNraW5nX3VBY3RpdmU9Qm9vbGVhbihlLnBpY2tpbmdBY3RpdmUpLHQucGlja2luZ191QXR0cmlidXRlPUJvb2xlYW4oZS5waWNraW5nQXR0cmlidXRlKSksdH19O3QuYT1PYmplY3QuYXNzaWduKHtpbmplY3Q6eyJ2czpERUNLR0xfRklMVEVSX0NPTE9SIjoiXG4gICAgcGlja2luZ19zZXRQaWNraW5nQ29sb3IoZ2VvbWV0cnkucGlja2luZ0NvbG9yKTtcbiAgICAvLyBmb3IgcGlja2luZyBkZXB0aCB2YWx1ZXNcbiAgICBwaWNraW5nX3NldFBpY2tpbmdBdHRyaWJ1dGUoZ2VvbWV0cnkucG9zaXRpb24ueik7XG4gICAgIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6e29yZGVyOjk5LGluamVjdGlvbjoiXG4gICAgLy8gdXNlIGhpZ2hsaWdodCBjb2xvciBpZiB0aGlzIGZyYWdtZW50IGJlbG9uZ3MgdG8gdGhlIHNlbGVjdGVkIG9iamVjdC5cbiAgICBjb2xvciA9IHBpY2tpbmdfZmlsdGVySGlnaGxpZ2h0Q29sb3IoY29sb3IpO1xuXG4gICAgLy8gdXNlIHBpY2tpbmcgY29sb3IgaWYgcmVuZGVyaW5nIHRvIHBpY2tpbmcgRkJPLlxuICAgIGNvbG9yID0gcGlja2luZ19maWx0ZXJQaWNraW5nQ29sb3IoY29sb3IpO1xuICAgICAgIn19fSxpKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciByPW4oMCksaT1uKDExNiksYT1uKDIwOCksbz1uKDIwOSkscz1uKDcxKSx1PW4oMjkpO2Z1bmN0aW9uIGMoZSx0KXtPYmplY3QodS5hKShlIGluc3RhbmNlb2YgaS5hfHxlIGluc3RhbmNlb2YgYS5hfHxlIGluc3RhbmNlb2Ygby5hKTt2YXIgbj1lLmNvbnN0cnVjdG9yLHI9ZS5nbCxzPWUud2lkdGgsYz1lLmhlaWdodCxsPWUuZm9ybWF0LGg9ZS50eXBlLGY9ZS5kYXRhRm9ybWF0LGQ9ZS5ib3JkZXIsdj1lLm1pcG1hcHM7cmV0dXJuIG5ldyBuKHIsT2JqZWN0LmFzc2lnbih7d2lkdGg6cyxoZWlnaHQ6Yyxmb3JtYXQ6bCx0eXBlOmgsZGF0YUZvcm1hdDpmLGJvcmRlcjpkLG1pcG1hcHM6dn0sdCkpfWZ1bmN0aW9uIGwoZSx0KXt2YXIgbj1lLmdsLGk9ZS53aWR0aCxhPWUuaGVpZ2h0LG89ZS5pZDtyZXR1cm4gbmV3IHMuYShuLE9iamVjdC5hc3NpZ24oe30sdCx7aWQ6ImZyYW1lYnVmZmVyLWZvci0iLmNvbmNhdChvKSx3aWR0aDppLGhlaWdodDphLGF0dGFjaG1lbnRzOk9iamVjdChyLmEpKHt9LDM2MDY0LGUpfSkpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIHI9big4KSxpPW4ubihyKSxhPW4oMTMpLG89big1KSxzPW4oNiksdT1uKDE2KSxjPW4oMTUpLGw9bigzOCksaD1uKDE3KSxmPW4oMTEpLGQ9big1Niksdj1uKDY1KSxwPVszNDA2OSwzNDA3MCwzNDA3MSwzNDA3MiwzNDA3MywzNDA3NF0sZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qoby5hKSh0aGlzLHQpLE9iamVjdCh2LmIpKGUpLChuPU9iamVjdCh1LmEpKHRoaXMsT2JqZWN0KGMuYSkodCkuY2FsbCh0aGlzLGUsT2JqZWN0LmFzc2lnbih7fSxyLHt0YXJnZXQ6MzQwNjd9KSkpKS5pbml0aWFsaXplKHIpLE9iamVjdC5zZWFsKE9iamVjdChsLmEpKG4pKSxufXZhciBuO3JldHVybiBPYmplY3QoaC5hKSh0LGUpLE9iamVjdChzLmEpKHQsW3trZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPXQubWlwbWFwcyxyPXZvaWQgMD09PW58fG4saT10LnBhcmFtZXRlcnMsYT12b2lkIDA9PT1pP3t9Omk7dGhpcy5vcHRzPXQsdGhpcy5zZXRDdWJlTWFwSW1hZ2VEYXRhKHQpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5sb2FkZWQ9ITAsciYmZS5nZW5lcmF0ZU1pcG1hcCh0KSxlLnNldFBhcmFtZXRlcnMoYSl9KSl9fSx7a2V5OiJzdWJJbWFnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mYWNlLG49ZS5kYXRhLHI9ZS54LGk9dm9pZCAwPT09cj8wOnIsYT1lLnksbz12b2lkIDA9PT1hPzA6YSxzPWUubWlwbWFwTGV2ZWwsdT12b2lkIDA9PT1zPzA6cztyZXR1cm4gdGhpcy5fc3ViSW1hZ2Uoe3RhcmdldDp0LGRhdGE6bix4OmkseTpvLG1pcG1hcExldmVsOnV9KX19LHtrZXk6InNldEN1YmVNYXBJbWFnZURhdGEiLHZhbHVlOihuPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsYSxvLHMsdSxjLGwsaCxkLHYsZyx5LG09dGhpcztyZXR1cm4gaS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBuPXQud2lkdGgscj10LmhlaWdodCxhPXQucGl4ZWxzLG89dC5kYXRhLHM9dC5ib3JkZXIsdT12b2lkIDA9PT1zPzA6cyxjPXQuZm9ybWF0LGw9dm9pZCAwPT09Yz82NDA4OmMsaD10LnR5cGUsZD12b2lkIDA9PT1oPzUxMjE6aCx2PXRoaXMuZ2wsZz1hfHxvLGUubmV4dD01LFByb21pc2UuYWxsKHAubWFwKChmdW5jdGlvbihlKXt2YXIgdD1nW2VdO3JldHVybiBQcm9taXNlLmFsbChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKX0pKSk7Y2FzZSA1Onk9ZS5zZW50LHRoaXMuYmluZCgpLHAuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXt5W3RdLmxlbmd0aD4xJiYhMSE9PW0ub3B0cy5taXBtYXBzJiZmLmgud2FybigiIi5jb25jYXQobS5pZCwiIGhhcyBtaXBtYXAgYW5kIG11bHRpcGxlIExPRHMuIikpKCkseVt0XS5mb3JFYWNoKChmdW5jdGlvbih0LGkpe24mJnI/di50ZXhJbWFnZTJEKGUsaSxsLG4scix1LGwsZCx0KTp2LnRleEltYWdlMkQoZSxpLGwsbCxkLHQpfSkpfSkpLHRoaXMudW5iaW5kKCk7Y2FzZSA5OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InNldEltYWdlRGF0YUZvckZhY2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1lLmZhY2Uscj1lLndpZHRoLGk9ZS5oZWlnaHQsYT1lLnBpeGVscyxvPWUuZGF0YSxzPWUuYm9yZGVyLHU9dm9pZCAwPT09cz8wOnMsYz1lLmZvcm1hdCxsPXZvaWQgMD09PWM/NjQwODpjLGg9ZS50eXBlLGY9dm9pZCAwPT09aD81MTIxOmgsZD10aGlzLmdsLHY9YXx8bztyZXR1cm4gdGhpcy5iaW5kKCksdiBpbnN0YW5jZW9mIFByb21pc2U/di50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gdC5zZXRJbWFnZURhdGFGb3JGYWNlKE9iamVjdC5hc3NpZ24oe30sZSx7ZmFjZTpuLGRhdGE6cixwaXhlbHM6cn0pKX0pKTp0aGlzLndpZHRofHx0aGlzLmhlaWdodD9kLnRleEltYWdlMkQobiwwLGwscixpLHUsbCxmLHYpOmQudGV4SW1hZ2UyRChuLDAsbCxsLGYsdiksdGhpc319XSksdH0oZC5hKTtnLkZBQ0VTPXB9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciByPW4oNSksaT1uKDE2KSxhPW4oMTUpLG89bigzOCkscz1uKDYpLHU9bigxNyksYz1uKDExKSxsPW4oNjUpLGg9big1NiksZj1uKDg2KSxkPW4oNDYpLHY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KHIuYSkodGhpcyx0KSxPYmplY3QobC5hKShlKSxzPU9iamVjdC5hc3NpZ24oe2RlcHRoOjF9LHMse3RhcmdldDozMjg3OSx1bnBhY2tGbGlwWTohMX0pLChuPU9iamVjdChpLmEpKHRoaXMsT2JqZWN0KGEuYSkodCkuY2FsbCh0aGlzLGUscykpKS5pbml0aWFsaXplKHMpLE9iamVjdC5zZWFsKE9iamVjdChvLmEpKG4pKSxufXJldHVybiBPYmplY3QodS5hKSh0LGUpLE9iamVjdChzLmEpKHQsbnVsbCxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYy5nKShlKX19XSksT2JqZWN0KHMuYSkodCxbe2tleToic2V0SW1hZ2VEYXRhIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5sZXZlbCxyPXZvaWQgMD09PW4/MDpuLGk9ZS5kYXRhRm9ybWF0LGE9dm9pZCAwPT09aT82NDA4Omksbz1lLndpZHRoLHM9ZS5oZWlnaHQsdT1lLmRlcHRoLGw9dm9pZCAwPT09dT8xOnUsaD1lLmJvcmRlcix2PXZvaWQgMD09PWg/MDpoLHA9ZS5mb3JtYXQsZz1lLnR5cGUseT12b2lkIDA9PT1nPzUxMjE6ZyxtPWUub2Zmc2V0LGI9dm9pZCAwPT09bT8wOm0sXz1lLmRhdGEsTz1lLnBhcmFtZXRlcnMseD12b2lkIDA9PT1PP3t9Ok87aWYodGhpcy5fdHJhY2tEZWFsbG9jYXRlZE1lbW9yeSgiVGV4dHVyZSIpLHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy50YXJnZXQsdGhpcy5oYW5kbGUpLE9iamVjdChjLmwpKHRoaXMuZ2wseCwoZnVuY3Rpb24oKXtBcnJheUJ1ZmZlci5pc1ZpZXcoXykmJnQuZ2wudGV4SW1hZ2UzRCh0LnRhcmdldCxyLGEsbyxzLGwsdixwLHksXyksXyBpbnN0YW5jZW9mIGQuYSYmKHQuZ2wuYmluZEJ1ZmZlcigzNTA1MixfLmhhbmRsZSksdC5nbC50ZXhJbWFnZTNEKHQudGFyZ2V0LHIsYSxvLHMsbCx2LHAseSxiKSl9KSksXyYmXy5ieXRlTGVuZ3RoKXRoaXMuX3RyYWNrQWxsb2NhdGVkTWVtb3J5KF8uYnl0ZUxlbmd0aCwiVGV4dHVyZSIpO2Vsc2V7dmFyIHc9Zi5hW3RoaXMuZGF0YUZvcm1hdF18fDQsUz1mLmNbdGhpcy50eXBlXXx8MTt0aGlzLl90cmFja0FsbG9jYXRlZE1lbW9yeSh0aGlzLndpZHRoKnRoaXMuaGVpZ2h0KnRoaXMuZGVwdGgqdypTLCJUZXh0dXJlIil9cmV0dXJuIHRoaXMubG9hZGVkPSEwLHRoaXN9fV0pLHR9KGguYSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixpLGE9cihlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKGk9MDtpPG8ubGVuZ3RoO2krKyluPW9baV0sdC5pbmRleE9mKG4pPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxuKSYmKGFbbl09ZVtuXSl9cmV0dXJuIGF9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCl7aWYoU3ltYm9sLmFzeW5jSXRlcmF0b3ImJm51bGwhPSh0PWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSlyZXR1cm4gdC5jYWxsKGUpO2lmKFN5bWJvbC5pdGVyYXRvciYmbnVsbCE9KHQ9ZVtTeW1ib2wuaXRlcmF0b3JdKSlyZXR1cm4gdC5jYWxsKGUpfXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdCBpcyBub3QgYXN5bmMgaXRlcmFibGUiKX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMjEpLGk9big4OCk7IkludmFsaWQgTUlNRSB0eXBlLiBTdXBwb3J0ZWQgTUlNRSB0eXBlcyBhcmU6ICIuY29uY2F0KEFycmF5LmZyb20oaS5lLmtleXMoKSkuam9pbigiLCAiKSk7ZnVuY3Rpb24gYShlKXt2YXIgdD1vKGUpLG49ITAsYT0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9aS5lLmVudHJpZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPSh1PWMubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgbD1PYmplY3Qoci5hKSh1LnZhbHVlLDIpLGg9bFswXTtpZigoMCxsWzFdLnRlc3QpKHQpKXJldHVybiBofX1jYXRjaChlKXthPSEwLHM9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgc319cmV0dXJuIG51bGx9ZnVuY3Rpb24gbyhlKXtpZigoZT1lLmJ1ZmZlcnx8ZSlpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgRGF0YVZpZXcoZSk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXJldHVybiBuZXcgRGF0YVZpZXcoZS5idWZmZXIpO3Rocm93IG5ldyBFcnJvcigidG9EYXRhVmlldyIpfX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxuKXtuPW58fDI7dmFyIHIscyx1LGMsbCxkLHYsZz10JiZ0Lmxlbmd0aCx5PWc/dFswXSpuOmUubGVuZ3RoLG09aShlLDAseSxuLCEwKSxiPVtdO2lmKCFtfHxtLm5leHQ9PT1tLnByZXYpcmV0dXJuIGI7aWYoZyYmKG09ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8scyx1LGMsbCxkPVtdO2ZvcihvPTAscz10Lmxlbmd0aDtvPHM7bysrKXU9dFtvXSpyLGM9bzxzLTE/dFtvKzFdKnI6ZS5sZW5ndGgsKGw9aShlLHUsYyxyLCExKSk9PT1sLm5leHQmJihsLnN0ZWluZXI9ITApLGQucHVzaChwKGwpKTtmb3IoZC5zb3J0KGgpLG89MDtvPGQubGVuZ3RoO28rKylmKGRbb10sbiksbj1hKG4sbi5uZXh0KTtyZXR1cm4gbn0oZSx0LG0sbikpLGUubGVuZ3RoPjgwKm4pe3I9dT1lWzBdLHM9Yz1lWzFdO2Zvcih2YXIgXz1uO188eTtfKz1uKShsPWVbX10pPHImJihyPWwpLChkPWVbXysxXSk8cyYmKHM9ZCksbD51JiYodT1sKSxkPmMmJihjPWQpO3Y9MCE9PSh2PU1hdGgubWF4KHUtcixjLXMpKT8xL3Y6MH1yZXR1cm4gbyhtLGIsbixyLHMsdiksYn1mdW5jdGlvbiBpKGUsdCxuLHIsaSl7dmFyIGEsbztpZihpPT09VChlLHQsbixyKT4wKWZvcihhPXQ7YTxuO2ErPXIpbz1rKGEsZVthXSxlW2ErMV0sbyk7ZWxzZSBmb3IoYT1uLXI7YT49dDthLT1yKW89ayhhLGVbYV0sZVthKzFdLG8pO3JldHVybiBvJiZiKG8sby5uZXh0KSYmKFAobyksbz1vLm5leHQpLG99ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXJldHVybiBlO3R8fCh0PWUpO3ZhciBuLHI9ZTtkb3tpZihuPSExLHIuc3RlaW5lcnx8IWIocixyLm5leHQpJiYwIT09bShyLnByZXYscixyLm5leHQpKXI9ci5uZXh0O2Vsc2V7aWYoUChyKSwocj10PXIucHJldik9PT1yLm5leHQpYnJlYWs7bj0hMH19d2hpbGUobnx8ciE9PXQpO3JldHVybiB0fWZ1bmN0aW9uIG8oZSx0LG4scixpLGgsZil7aWYoZSl7IWYmJmgmJmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPWU7ZG97bnVsbD09PWkueiYmKGkuej12KGkueCxpLnksdCxuLHIpKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dH13aGlsZShpIT09ZSk7aS5wcmV2Wi5uZXh0Wj1udWxsLGkucHJldlo9bnVsbCxmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxhLG8scyx1LGM9MTtkb3tmb3Iobj1lLGU9bnVsbCxhPW51bGwsbz0wO247KXtmb3IobysrLHI9bixzPTAsdD0wO3Q8YyYmKHMrKyxyPXIubmV4dFopO3QrKyk7Zm9yKHU9YztzPjB8fHU+MCYmcjspMCE9PXMmJigwPT09dXx8IXJ8fG4uejw9ci56KT8oaT1uLG49bi5uZXh0WixzLS0pOihpPXIscj1yLm5leHRaLHUtLSksYT9hLm5leHRaPWk6ZT1pLGkucHJldlo9YSxhPWk7bj1yfWEubmV4dFo9bnVsbCxjKj0yfXdoaWxlKG8+MSl9KGkpfShlLHIsaSxoKTtmb3IodmFyIGQscCxnPWU7ZS5wcmV2IT09ZS5uZXh0OylpZihkPWUucHJldixwPWUubmV4dCxoP3UoZSxyLGksaCk6cyhlKSl0LnB1c2goZC5pL24pLHQucHVzaChlLmkvbiksdC5wdXNoKHAuaS9uKSxQKGUpLGU9cC5uZXh0LGc9cC5uZXh0O2Vsc2UgaWYoKGU9cCk9PT1nKXtmPzE9PT1mP28oZT1jKGEoZSksdCxuKSx0LG4scixpLGgsMik6Mj09PWYmJmwoZSx0LG4scixpLGgpOm8oYShlKSx0LG4scixpLGgsMSk7YnJlYWt9fX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUucHJldixuPWUscj1lLm5leHQ7aWYobSh0LG4scik+PTApcmV0dXJuITE7Zm9yKHZhciBpPWUubmV4dC5uZXh0O2khPT1lLnByZXY7KXtpZihnKHQueCx0Lnksbi54LG4ueSxyLngsci55LGkueCxpLnkpJiZtKGkucHJldixpLGkubmV4dCk+PTApcmV0dXJuITE7aT1pLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gdShlLHQsbixyKXt2YXIgaT1lLnByZXYsYT1lLG89ZS5uZXh0O2lmKG0oaSxhLG8pPj0wKXJldHVybiExO2Zvcih2YXIgcz1pLng8YS54P2kueDxvLng/aS54Om8ueDphLng8by54P2EueDpvLngsdT1pLnk8YS55P2kueTxvLnk/aS55Om8ueTphLnk8by55P2EueTpvLnksYz1pLng+YS54P2kueD5vLng/aS54Om8ueDphLng+by54P2EueDpvLngsbD1pLnk+YS55P2kueT5vLnk/aS55Om8ueTphLnk+by55P2EueTpvLnksaD12KHMsdSx0LG4sciksZj12KGMsbCx0LG4sciksZD1lLnByZXZaLHA9ZS5uZXh0WjtkJiZkLno+PWgmJnAmJnAuejw9Zjspe2lmKGQhPT1lLnByZXYmJmQhPT1lLm5leHQmJmcoaS54LGkueSxhLngsYS55LG8ueCxvLnksZC54LGQueSkmJm0oZC5wcmV2LGQsZC5uZXh0KT49MClyZXR1cm4hMTtpZihkPWQucHJldloscCE9PWUucHJldiYmcCE9PWUubmV4dCYmZyhpLngsaS55LGEueCxhLnksby54LG8ueSxwLngscC55KSYmbShwLnByZXYscCxwLm5leHQpPj0wKXJldHVybiExO3A9cC5uZXh0Wn1mb3IoO2QmJmQuej49aDspe2lmKGQhPT1lLnByZXYmJmQhPT1lLm5leHQmJmcoaS54LGkueSxhLngsYS55LG8ueCxvLnksZC54LGQueSkmJm0oZC5wcmV2LGQsZC5uZXh0KT49MClyZXR1cm4hMTtkPWQucHJldlp9Zm9yKDtwJiZwLno8PWY7KXtpZihwIT09ZS5wcmV2JiZwIT09ZS5uZXh0JiZnKGkueCxpLnksYS54LGEueSxvLngsby55LHAueCxwLnkpJiZtKHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuITE7cD1wLm5leHRafXJldHVybiEwfWZ1bmN0aW9uIGMoZSx0LG4pe3ZhciByPWU7ZG97dmFyIGk9ci5wcmV2LG89ci5uZXh0Lm5leHQ7IWIoaSxvKSYmXyhpLHIsci5uZXh0LG8pJiZ3KGksbykmJncobyxpKSYmKHQucHVzaChpLmkvbiksdC5wdXNoKHIuaS9uKSx0LnB1c2goby5pL24pLFAociksUChyLm5leHQpLHI9ZT1vKSxyPXIubmV4dH13aGlsZShyIT09ZSk7cmV0dXJuIGEocil9ZnVuY3Rpb24gbChlLHQsbixyLGkscyl7dmFyIHU9ZTtkb3tmb3IodmFyIGM9dS5uZXh0Lm5leHQ7YyE9PXUucHJldjspe2lmKHUuaSE9PWMuaSYmeSh1LGMpKXt2YXIgbD1TKHUsYyk7cmV0dXJuIHU9YSh1LHUubmV4dCksbD1hKGwsbC5uZXh0KSxvKHUsdCxuLHIsaSxzKSx2b2lkIG8obCx0LG4scixpLHMpfWM9Yy5uZXh0fXU9dS5uZXh0fXdoaWxlKHUhPT1lKX1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIGUueC10Lnh9ZnVuY3Rpb24gZihlLHQpe2lmKHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXQsaT1lLngsYT1lLnksbz0tMS8wO2Rve2lmKGE8PXIueSYmYT49ci5uZXh0LnkmJnIubmV4dC55IT09ci55KXt2YXIgcz1yLngrKGEtci55KSooci5uZXh0Lngtci54KS8oci5uZXh0Lnktci55KTtpZihzPD1pJiZzPm8pe2lmKG89cyxzPT09aSl7aWYoYT09PXIueSlyZXR1cm4gcjtpZihhPT09ci5uZXh0LnkpcmV0dXJuIHIubmV4dH1uPXIueDxyLm5leHQueD9yOnIubmV4dH19cj1yLm5leHR9d2hpbGUociE9PXQpO2lmKCFuKXJldHVybiBudWxsO2lmKGk9PT1vKXJldHVybiBuO3ZhciB1LGM9bixsPW4ueCxoPW4ueSxmPTEvMDtyPW47ZG97aT49ci54JiZyLng+PWwmJmkhPT1yLngmJmcoYTxoP2k6byxhLGwsaCxhPGg/bzppLGEsci54LHIueSkmJih1PU1hdGguYWJzKGEtci55KS8oaS1yLngpLHcocixlKSYmKHU8Znx8dT09PWYmJihyLng+bi54fHxyLng9PT1uLngmJmQobixyKSkpJiYobj1yLGY9dSkpLHI9ci5uZXh0fXdoaWxlKHIhPT1jKTtyZXR1cm4gbn0oZSx0KSl7dmFyIG49Uyh0LGUpO2EobixuLm5leHQpfX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIG0oZS5wcmV2LGUsdC5wcmV2KTwwJiZtKHQubmV4dCxlLGUubmV4dCk8MH1mdW5jdGlvbiB2KGUsdCxuLHIsaSl7cmV0dXJuKGU9MTQzMTY1NTc2NSYoKGU9ODU4OTkzNDU5JigoZT0yNTI2NDUxMzUmKChlPTE2NzExOTM1JigoZT0zMjc2NyooZS1uKSppKXxlPDw4KSl8ZTw8NCkpfGU8PDIpKXxlPDwxKSl8KHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0zMjc2NyoodC1yKSppKXx0PDw4KSl8dDw8NCkpfHQ8PDIpKXx0PDwxKSk8PDF9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLG49ZTtkb3sodC54PG4ueHx8dC54PT09bi54JiZ0Lnk8bi55KSYmKG49dCksdD10Lm5leHR9d2hpbGUodCE9PWUpO3JldHVybiBufWZ1bmN0aW9uIGcoZSx0LG4scixpLGEsbyxzKXtyZXR1cm4oaS1vKSoodC1zKS0oZS1vKSooYS1zKT49MCYmKGUtbykqKHItcyktKG4tbykqKHQtcyk+PTAmJihuLW8pKihhLXMpLShpLW8pKihyLXMpPj0wfWZ1bmN0aW9uIHkoZSx0KXtyZXR1cm4gZS5uZXh0LmkhPT10LmkmJmUucHJldi5pIT09dC5pJiYhZnVuY3Rpb24oZSx0KXt2YXIgbj1lO2Rve2lmKG4uaSE9PWUuaSYmbi5uZXh0LmkhPT1lLmkmJm4uaSE9PXQuaSYmbi5uZXh0LmkhPT10LmkmJl8obixuLm5leHQsZSx0KSlyZXR1cm4hMDtuPW4ubmV4dH13aGlsZShuIT09ZSk7cmV0dXJuITF9KGUsdCkmJih3KGUsdCkmJncodCxlKSYmZnVuY3Rpb24oZSx0KXt2YXIgbj1lLHI9ITEsaT0oZS54K3QueCkvMixhPShlLnkrdC55KS8yO2Rve24ueT5hIT1uLm5leHQueT5hJiZuLm5leHQueSE9PW4ueSYmaTwobi5uZXh0Lngtbi54KSooYS1uLnkpLyhuLm5leHQueS1uLnkpK24ueCYmKHI9IXIpLG49bi5uZXh0fXdoaWxlKG4hPT1lKTtyZXR1cm4gcn0oZSx0KSYmKG0oZS5wcmV2LGUsdC5wcmV2KXx8bShlLHQucHJldix0KSl8fGIoZSx0KSYmbShlLnByZXYsZSxlLm5leHQpPjAmJm0odC5wcmV2LHQsdC5uZXh0KT4wKX1mdW5jdGlvbiBtKGUsdCxuKXtyZXR1cm4odC55LWUueSkqKG4ueC10LngpLSh0LngtZS54KSoobi55LXQueSl9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBlLng9PT10LngmJmUueT09PXQueX1mdW5jdGlvbiBfKGUsdCxuLHIpe3ZhciBpPXgobShlLHQsbikpLGE9eChtKGUsdCxyKSksbz14KG0obixyLGUpKSxzPXgobShuLHIsdCkpO3JldHVybiBpIT09YSYmbyE9PXN8fCghKDAhPT1pfHwhTyhlLG4sdCkpfHwoISgwIT09YXx8IU8oZSxyLHQpKXx8KCEoMCE9PW98fCFPKG4sZSxyKSl8fCEoMCE9PXN8fCFPKG4sdCxyKSkpKSl9ZnVuY3Rpb24gTyhlLHQsbil7cmV0dXJuIHQueDw9TWF0aC5tYXgoZS54LG4ueCkmJnQueD49TWF0aC5taW4oZS54LG4ueCkmJnQueTw9TWF0aC5tYXgoZS55LG4ueSkmJnQueT49TWF0aC5taW4oZS55LG4ueSl9ZnVuY3Rpb24geChlKXtyZXR1cm4gZT4wPzE6ZTwwPy0xOjB9ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBtKGUucHJldixlLGUubmV4dCk8MD9tKGUsdCxlLm5leHQpPj0wJiZtKGUsZS5wcmV2LHQpPj0wOm0oZSx0LGUucHJldik8MHx8bShlLGUubmV4dCx0KTwwfWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj1uZXcgaihlLmksZS54LGUueSkscj1uZXcgaih0LmksdC54LHQueSksaT1lLm5leHQsYT10LnByZXY7cmV0dXJuIGUubmV4dD10LHQucHJldj1lLG4ubmV4dD1pLGkucHJldj1uLHIubmV4dD1uLG4ucHJldj1yLGEubmV4dD1yLHIucHJldj1hLHJ9ZnVuY3Rpb24gayhlLHQsbixyKXt2YXIgaT1uZXcgaihlLHQsbik7cmV0dXJuIHI/KGkubmV4dD1yLm5leHQsaS5wcmV2PXIsci5uZXh0LnByZXY9aSxyLm5leHQ9aSk6KGkucHJldj1pLGkubmV4dD1pKSxpfWZ1bmN0aW9uIFAoZSl7ZS5uZXh0LnByZXY9ZS5wcmV2LGUucHJldi5uZXh0PWUubmV4dCxlLnByZXZaJiYoZS5wcmV2Wi5uZXh0Wj1lLm5leHRaKSxlLm5leHRaJiYoZS5uZXh0Wi5wcmV2Wj1lLnByZXZaKX1mdW5jdGlvbiBqKGUsdCxuKXt0aGlzLmk9ZSx0aGlzLng9dCx0aGlzLnk9bix0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9bnVsbCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMX1mdW5jdGlvbiBUKGUsdCxuLHIpe2Zvcih2YXIgaT0wLGE9dCxvPW4tcjthPG47YSs9cilpKz0oZVtvXS1lW2FdKSooZVthKzFdK2VbbysxXSksbz1hO3JldHVybiBpfWUuZXhwb3J0cz1yLGUuZXhwb3J0cy5kZWZhdWx0PXIsci5kZXZpYXRpb249ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dCYmdC5sZW5ndGgsYT1pP3RbMF0qbjplLmxlbmd0aCxvPU1hdGguYWJzKFQoZSwwLGEsbikpO2lmKGkpZm9yKHZhciBzPTAsdT10Lmxlbmd0aDtzPHU7cysrKXt2YXIgYz10W3NdKm4sbD1zPHUtMT90W3MrMV0qbjplLmxlbmd0aDtvLT1NYXRoLmFicyhUKGUsYyxsLG4pKX12YXIgaD0wO2ZvcihzPTA7czxyLmxlbmd0aDtzKz0zKXt2YXIgZj1yW3NdKm4sZD1yW3MrMV0qbix2PXJbcysyXSpuO2grPU1hdGguYWJzKChlW2ZdLWVbdl0pKihlW2QrMV0tZVtmKzFdKS0oZVtmXS1lW2RdKSooZVt2KzFdLWVbZisxXSkpfXJldHVybiAwPT09byYmMD09PWg/MDpNYXRoLmFicygoaC1vKS9vKX0sci5mbGF0dGVuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lWzBdWzBdLmxlbmd0aCxuPXt2ZXJ0aWNlczpbXSxob2xlczpbXSxkaW1lbnNpb25zOnR9LHI9MCxpPTA7aTxlLmxlbmd0aDtpKyspe2Zvcih2YXIgYT0wO2E8ZVtpXS5sZW5ndGg7YSsrKWZvcih2YXIgbz0wO288dDtvKyspbi52ZXJ0aWNlcy5wdXNoKGVbaV1bYV1bb10pO2k+MCYmKHIrPWVbaS0xXS5sZW5ndGgsbi5ob2xlcy5wdXNoKHIpKX1yZXR1cm4gbn19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXIsZS5leHBvcnRzLmRlZmF1bHQ9cjtmdW5jdGlvbiByKGUsdCxuLHIsaSxhKXt0aGlzLmZvbnRTaXplPWV8fDI0LHRoaXMuYnVmZmVyPXZvaWQgMD09PXQ/Mzp0LHRoaXMuY3V0b2ZmPXJ8fC4yNSx0aGlzLmZvbnRGYW1pbHk9aXx8InNhbnMtc2VyaWYiLHRoaXMuZm9udFdlaWdodD1hfHwibm9ybWFsIix0aGlzLnJhZGl1cz1ufHw4O3ZhciBvPXRoaXMuc2l6ZT10aGlzLmZvbnRTaXplKzIqdGhpcy5idWZmZXI7dGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksdGhpcy5jYW52YXMud2lkdGg9dGhpcy5jYW52YXMuaGVpZ2h0PW8sdGhpcy5jdHg9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKSx0aGlzLmN0eC5mb250PXRoaXMuZm9udFdlaWdodCsiICIrdGhpcy5mb250U2l6ZSsicHggIit0aGlzLmZvbnRGYW1pbHksdGhpcy5jdHgudGV4dEJhc2VsaW5lPSJtaWRkbGUiLHRoaXMuY3R4LmZpbGxTdHlsZT0iYmxhY2siLHRoaXMuZ3JpZE91dGVyPW5ldyBGbG9hdDY0QXJyYXkobypvKSx0aGlzLmdyaWRJbm5lcj1uZXcgRmxvYXQ2NEFycmF5KG8qbyksdGhpcy5mPW5ldyBGbG9hdDY0QXJyYXkobyksdGhpcy5kPW5ldyBGbG9hdDY0QXJyYXkobyksdGhpcy56PW5ldyBGbG9hdDY0QXJyYXkobysxKSx0aGlzLnY9bmV3IEludDE2QXJyYXkobyksdGhpcy5taWRkbGU9TWF0aC5yb3VuZChvLzIqKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiR2Vja28vIik+PTA/MS4yOjEpKX1mdW5jdGlvbiBpKGUsdCxuLHIsaSxvLHMpe2Zvcih2YXIgdT0wO3U8dDt1Kyspe2Zvcih2YXIgYz0wO2M8bjtjKyspcltjXT1lW2MqdCt1XTtmb3IoYShyLGksbyxzLG4pLGM9MDtjPG47YysrKWVbYyp0K3VdPWlbY119Zm9yKGM9MDtjPG47YysrKXtmb3IodT0wO3U8dDt1Kyspclt1XT1lW2MqdCt1XTtmb3IoYShyLGksbyxzLHQpLHU9MDt1PHQ7dSsrKWVbYyp0K3VdPU1hdGguc3FydChpW3VdKX19ZnVuY3Rpb24gYShlLHQsbixyLGkpe25bMF09MCxyWzBdPS0xZTIwLHJbMV09MWUyMDtmb3IodmFyIGE9MSxvPTA7YTxpO2ErKyl7Zm9yKHZhciBzPShlW2FdK2EqYS0oZVtuW29dXStuW29dKm5bb10pKS8oMiphLTIqbltvXSk7czw9cltvXTspby0tLHM9KGVbYV0rYSphLShlW25bb11dK25bb10qbltvXSkpLygyKmEtMipuW29dKTtuWysrb109YSxyW29dPXMscltvKzFdPTFlMjB9Zm9yKGE9MCxvPTA7YTxpO2ErKyl7Zm9yKDtyW28rMV08YTspbysrO3RbYV09KGEtbltvXSkqKGEtbltvXSkrZVtuW29dXX19ci5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlKXt0aGlzLmN0eC5jbGVhclJlY3QoMCwwLHRoaXMuc2l6ZSx0aGlzLnNpemUpLHRoaXMuY3R4LmZpbGxUZXh0KGUsdGhpcy5idWZmZXIsdGhpcy5taWRkbGUpO2Zvcih2YXIgdD10aGlzLmN0eC5nZXRJbWFnZURhdGEoMCwwLHRoaXMuc2l6ZSx0aGlzLnNpemUpLG49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMuc2l6ZSp0aGlzLnNpemUpLHI9MDtyPHRoaXMuc2l6ZSp0aGlzLnNpemU7cisrKXt2YXIgYT10LmRhdGFbNCpyKzNdLzI1NTt0aGlzLmdyaWRPdXRlcltyXT0xPT09YT8wOjA9PT1hPzFlMjA6TWF0aC5wb3coTWF0aC5tYXgoMCwuNS1hKSwyKSx0aGlzLmdyaWRJbm5lcltyXT0xPT09YT8xZTIwOjA9PT1hPzA6TWF0aC5wb3coTWF0aC5tYXgoMCxhLS41KSwyKX1mb3IoaSh0aGlzLmdyaWRPdXRlcix0aGlzLnNpemUsdGhpcy5zaXplLHRoaXMuZix0aGlzLmQsdGhpcy52LHRoaXMueiksaSh0aGlzLmdyaWRJbm5lcix0aGlzLnNpemUsdGhpcy5zaXplLHRoaXMuZix0aGlzLmQsdGhpcy52LHRoaXMueikscj0wO3I8dGhpcy5zaXplKnRoaXMuc2l6ZTtyKyspe3ZhciBvPXRoaXMuZ3JpZE91dGVyW3JdLXRoaXMuZ3JpZElubmVyW3JdO25bcl09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsTWF0aC5yb3VuZCgyNTUtMjU1KihvL3RoaXMucmFkaXVzK3RoaXMuY3V0b2ZmKSkpKX1yZXR1cm4gbn19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHMuVmVjdG9yVGlsZT1uKDI0MyksZS5leHBvcnRzLlZlY3RvclRpbGVGZWF0dXJlPW4oMTk3KSxlLmV4cG9ydHMuVmVjdG9yVGlsZUxheWVyPW4oMTk2KX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9aTt2YXIgcj1uKDI0NSk7ZnVuY3Rpb24gaShlKXt0aGlzLmJ1Zj1BcnJheUJ1ZmZlci5pc1ZpZXcmJkFycmF5QnVmZmVyLmlzVmlldyhlKT9lOm5ldyBVaW50OEFycmF5KGV8fDApLHRoaXMucG9zPTAsdGhpcy50eXBlPTAsdGhpcy5sZW5ndGg9dGhpcy5idWYubGVuZ3RofWkuVmFyaW50PTAsaS5GaXhlZDY0PTEsaS5CeXRlcz0yLGkuRml4ZWQzMj01O3ZhciBhPSJ1bmRlZmluZWQiPT10eXBlb2YgVGV4dERlY29kZXI/bnVsbDpuZXcgVGV4dERlY29kZXIoInV0ZjgiKTtmdW5jdGlvbiBvKGUpe3JldHVybiBlLnR5cGU9PT1pLkJ5dGVzP2UucmVhZFZhcmludCgpK2UucG9zOmUucG9zKzF9ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJuIG4/NDI5NDk2NzI5Nip0KyhlPj4+MCk6NDI5NDk2NzI5NioodD4+PjApKyhlPj4+MCl9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHI9dDw9MTYzODM/MTp0PD0yMDk3MTUxPzI6dDw9MjY4NDM1NDU1PzM6TWF0aC5mbG9vcihNYXRoLmxvZyh0KS8oNypNYXRoLkxOMikpO24ucmVhbGxvYyhyKTtmb3IodmFyIGk9bi5wb3MtMTtpPj1lO2ktLSluLmJ1ZltpK3JdPW4uYnVmW2ldfWZ1bmN0aW9uIGMoZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlVmFyaW50KGVbbl0pfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlU1ZhcmludChlW25dKX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZUZsb2F0KGVbbl0pfWZ1bmN0aW9uIGYoZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlRG91YmxlKGVbbl0pfWZ1bmN0aW9uIGQoZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlQm9vbGVhbihlW25dKX1mdW5jdGlvbiB2KGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZUZpeGVkMzIoZVtuXSl9ZnVuY3Rpb24gcChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQud3JpdGVTRml4ZWQzMihlW25dKX1mdW5jdGlvbiBnKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZUZpeGVkNjQoZVtuXSl9ZnVuY3Rpb24geShlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQud3JpdGVTRml4ZWQ2NChlW25dKX1mdW5jdGlvbiBtKGUsdCl7cmV0dXJuKGVbdF18ZVt0KzFdPDw4fGVbdCsyXTw8MTYpKzE2Nzc3MjE2KmVbdCszXX1mdW5jdGlvbiBiKGUsdCxuKXtlW25dPXQsZVtuKzFdPXQ+Pj44LGVbbisyXT10Pj4+MTYsZVtuKzNdPXQ+Pj4yNH1mdW5jdGlvbiBfKGUsdCl7cmV0dXJuKGVbdF18ZVt0KzFdPDw4fGVbdCsyXTw8MTYpKyhlW3QrM108PDI0KX1pLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGx9LHJlYWRGaWVsZHM6ZnVuY3Rpb24oZSx0LG4pe2ZvcihuPW58fHRoaXMubGVuZ3RoO3RoaXMucG9zPG47KXt2YXIgcj10aGlzLnJlYWRWYXJpbnQoKSxpPXI+PjMsYT10aGlzLnBvczt0aGlzLnR5cGU9NyZyLGUoaSx0LHRoaXMpLHRoaXMucG9zPT09YSYmdGhpcy5za2lwKHIpfXJldHVybiB0fSxyZWFkTWVzc2FnZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJlYWRGaWVsZHMoZSx0LHRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zKX0scmVhZEZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgZT1tKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsZX0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIGU9Xyh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LGV9LHJlYWRGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIGU9bSh0aGlzLmJ1Zix0aGlzLnBvcykrNDI5NDk2NzI5NiptKHRoaXMuYnVmLHRoaXMucG9zKzQpO3JldHVybiB0aGlzLnBvcys9OCxlfSxyZWFkU0ZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgZT1tKHRoaXMuYnVmLHRoaXMucG9zKSs0Mjk0OTY3Mjk2Kl8odGhpcy5idWYsdGhpcy5wb3MrNCk7cmV0dXJuIHRoaXMucG9zKz04LGV9LHJlYWRGbG9hdDpmdW5jdGlvbigpe3ZhciBlPXIucmVhZCh0aGlzLmJ1Zix0aGlzLnBvcywhMCwyMyw0KTtyZXR1cm4gdGhpcy5wb3MrPTQsZX0scmVhZERvdWJsZTpmdW5jdGlvbigpe3ZhciBlPXIucmVhZCh0aGlzLmJ1Zix0aGlzLnBvcywhMCw1Miw4KTtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZFZhcmludDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5idWY7cmV0dXJuIHQ9MTI3JihuPXJbdGhpcy5wb3MrK10pLG48MTI4P3Q6KHR8PSgxMjcmKG49clt0aGlzLnBvcysrXSkpPDw3LG48MTI4P3Q6KHR8PSgxMjcmKG49clt0aGlzLnBvcysrXSkpPDwxNCxuPDEyOD90Oih0fD0oMTI3JihuPXJbdGhpcy5wb3MrK10pKTw8MjEsbjwxMjg/dDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxhPW4uYnVmO2lmKGk9YVtuLnBvcysrXSxyPSgxMTImaSk+PjQsaTwxMjgpcmV0dXJuIHMoZSxyLHQpO2lmKGk9YVtuLnBvcysrXSxyfD0oMTI3JmkpPDwzLGk8MTI4KXJldHVybiBzKGUscix0KTtpZihpPWFbbi5wb3MrK10scnw9KDEyNyZpKTw8MTAsaTwxMjgpcmV0dXJuIHMoZSxyLHQpO2lmKGk9YVtuLnBvcysrXSxyfD0oMTI3JmkpPDwxNyxpPDEyOClyZXR1cm4gcyhlLHIsdCk7aWYoaT1hW24ucG9zKytdLHJ8PSgxMjcmaSk8PDI0LGk8MTI4KXJldHVybiBzKGUscix0KTtpZihpPWFbbi5wb3MrK10scnw9KDEmaSk8PDMxLGk8MTI4KXJldHVybiBzKGUscix0KTt0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzIil9KHR8PSgxNSYobj1yW3RoaXMucG9zXSkpPDwyOCxlLHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVmFyaW50KCEwKX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gZSUyPT0xPyhlKzEpLy0yOmUvMn0scmVhZEJvb2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyx0PXRoaXMucG9zO3JldHVybiB0aGlzLnBvcz1lLGUtdD49MTImJmE/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLmRlY29kZShlLnN1YmFycmF5KHQsbikpfSh0aGlzLmJ1Zix0LGUpOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0iIixpPXQ7Zm9yKDtpPG47KXt2YXIgYSxvLHMsdT1lW2ldLGM9bnVsbCxsPXU+MjM5PzQ6dT4yMjM/Mzp1PjE5MT8yOjE7aWYoaStsPm4pYnJlYWs7MT09PWw/dTwxMjgmJihjPXUpOjI9PT1sPzEyOD09KDE5MiYoYT1lW2krMV0pKSYmKGM9KDMxJnUpPDw2fDYzJmEpPD0xMjcmJihjPW51bGwpOjM9PT1sPyhhPWVbaSsxXSxvPWVbaSsyXSwxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZvKSYmKChjPSgxNSZ1KTw8MTJ8KDYzJmEpPDw2fDYzJm8pPD0yMDQ3fHxjPj01NTI5NiYmYzw9NTczNDMpJiYoYz1udWxsKSk6ND09PWwmJihhPWVbaSsxXSxvPWVbaSsyXSxzPWVbaSszXSwxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZvKSYmMTI4PT0oMTkyJnMpJiYoKGM9KDE1JnUpPDwxOHwoNjMmYSk8PDEyfCg2MyZvKTw8Nnw2MyZzKTw9NjU1MzV8fGM+PTExMTQxMTIpJiYoYz1udWxsKSksbnVsbD09PWM/KGM9NjU1MzMsbD0xKTpjPjY1NTM1JiYoYy09NjU1MzYscis9U3RyaW5nLmZyb21DaGFyQ29kZShjPj4+MTAmMTAyM3w1NTI5NiksYz01NjMyMHwxMDIzJmMpLHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoYyksaSs9bH1yZXR1cm4gcn0odGhpcy5idWYsdCxlKX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsdD10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyxlKTtyZXR1cm4gdGhpcy5wb3M9ZSx0fSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy50eXBlIT09aS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFZhcmludCh0KSk7dmFyIG49byh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczxuOyllLnB1c2godGhpcy5yZWFkVmFyaW50KHQpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09aS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7dmFyIHQ9byh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkU1ZhcmludCgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEJvb2xlYW46ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09aS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7dmFyIHQ9byh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTt2YXIgdD1vKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZERvdWJsZTpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1pLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3ZhciB0PW8odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09aS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7dmFyIHQ9byh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTt2YXIgdD1vKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZpeGVkNjQ6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09aS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7dmFyIHQ9byh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRml4ZWQ2NCgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWkuQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTt2YXIgdD1vKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gZX0sc2tpcDpmdW5jdGlvbihlKXt2YXIgdD03JmU7aWYodD09PWkuVmFyaW50KWZvcig7dGhpcy5idWZbdGhpcy5wb3MrK10+MTI3Oyk7ZWxzZSBpZih0PT09aS5CeXRlcyl0aGlzLnBvcz10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcztlbHNlIGlmKHQ9PT1pLkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZXtpZih0IT09aS5GaXhlZDY0KXRocm93IG5ldyBFcnJvcigiVW5pbXBsZW1lbnRlZCB0eXBlOiAiK3QpO3RoaXMucG9zKz04fX0sd3JpdGVUYWc6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVmFyaW50KGU8PDN8dCl9LHJlYWxsb2M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RofHwxNjt0PHRoaXMucG9zK2U7KXQqPTI7aWYodCE9PXRoaXMubGVuZ3RoKXt2YXIgbj1uZXcgVWludDhBcnJheSh0KTtuLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9bix0aGlzLmxlbmd0aD10fX0sZmluaXNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoPXRoaXMucG9zLHRoaXMucG9zPTAsdGhpcy5idWYuc3ViYXJyYXkoMCx0aGlzLmxlbmd0aCl9LHdyaXRlRml4ZWQzMjpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksYih0aGlzLmJ1ZixlLHRoaXMucG9zKSx0aGlzLnBvcys9NH0sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksYih0aGlzLmJ1ZixlLHRoaXMucG9zKSx0aGlzLnBvcys9NH0sd3JpdGVGaXhlZDY0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg4KSxiKHRoaXMuYnVmLC0xJmUsdGhpcy5wb3MpLGIodGhpcy5idWYsTWF0aC5mbG9vcihlKigxLzQyOTQ5NjcyOTYpKSx0aGlzLnBvcys0KSx0aGlzLnBvcys9OH0sd3JpdGVTRml4ZWQ2NDpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoOCksYih0aGlzLmJ1ZiwtMSZlLHRoaXMucG9zKSxiKHRoaXMuYnVmLE1hdGguZmxvb3IoZSooMS80Mjk0OTY3Mjk2KSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlVmFyaW50OmZ1bmN0aW9uKGUpeyhlPStlfHwwKT4yNjg0MzU0NTV8fGU8MD9mdW5jdGlvbihlLHQpe3ZhciBuLHI7ZT49MD8obj1lJTQyOTQ5NjcyOTZ8MCxyPWUvNDI5NDk2NzI5NnwwKToocj1+KC1lLzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTVeKG49figtZSU0Mjk0OTY3Mjk2KSk/bj1uKzF8MDoobj0wLHI9cisxfDApKTtpZihlPj0weDEwMDAwMDAwMDAwMDAwMDAwfHxlPC0weDEwMDAwMDAwMDAwMDAwMDAwKXRocm93IG5ldyBFcnJvcigiR2l2ZW4gdmFyaW50IGRvZXNuJ3QgZml0IGludG8gMTAgYnl0ZXMiKTt0LnJlYWxsb2MoMTApLGZ1bmN0aW9uKGUsdCxuKXtuLmJ1ZltuLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LG4uYnVmW24ucG9zKytdPTEyNyZlfDEyOCxlPj4+PTcsbi5idWZbbi5wb3MrK109MTI3JmV8MTI4LGU+Pj49NyxuLmJ1ZltuLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LG4uYnVmW24ucG9zXT0xMjcmZX0obiwwLHQpLGZ1bmN0aW9uKGUsdCl7dmFyIG49KDcmZSk8PDQ7aWYodC5idWZbdC5wb3MrK118PW58KChlPj4+PTMpPzEyODowKSwhZSlyZXR1cm47aWYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSwhZSlyZXR1cm47aWYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSwhZSlyZXR1cm47aWYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSwhZSlyZXR1cm47aWYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSwhZSlyZXR1cm47dC5idWZbdC5wb3MrK109MTI3JmV9KHIsdCl9KGUsdGhpcyk6KHRoaXMucmVhbGxvYyg0KSx0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmZXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPWU+Pj43JjEyNykpKSl9LHdyaXRlU1ZhcmludDpmdW5jdGlvbihlKXt0aGlzLndyaXRlVmFyaW50KGU8MD8yKi1lLTE6MiplKX0sd3JpdGVCb29sZWFuOmZ1bmN0aW9uKGUpe3RoaXMud3JpdGVWYXJpbnQoQm9vbGVhbihlKSl9LHdyaXRlU3RyaW5nOmZ1bmN0aW9uKGUpe2U9U3RyaW5nKGUpLHRoaXMucmVhbGxvYyg0KmUubGVuZ3RoKSx0aGlzLnBvcysrO3ZhciB0PXRoaXMucG9zO3RoaXMucG9zPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaSxhPTA7YTx0Lmxlbmd0aDthKyspe2lmKChyPXQuY2hhckNvZGVBdChhKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFpKXtyPjU2MzE5fHxhKzE9PT10Lmxlbmd0aD8oZVtuKytdPTIzOSxlW24rK109MTkxLGVbbisrXT0xODkpOmk9cjtjb250aW51ZX1pZihyPDU2MzIwKXtlW24rK109MjM5LGVbbisrXT0xOTEsZVtuKytdPTE4OSxpPXI7Y29udGludWV9cj1pLTU1Mjk2PDwxMHxyLTU2MzIwfDY1NTM2LGk9bnVsbH1lbHNlIGkmJihlW24rK109MjM5LGVbbisrXT0xOTEsZVtuKytdPTE4OSxpPW51bGwpO3I8MTI4P2VbbisrXT1yOihyPDIwNDg/ZVtuKytdPXI+PjZ8MTkyOihyPDY1NTM2P2VbbisrXT1yPj4xMnwyMjQ6KGVbbisrXT1yPj4xOHwyNDAsZVtuKytdPXI+PjEyJjYzfDEyOCksZVtuKytdPXI+PjYmNjN8MTI4KSxlW24rK109NjMmcnwxMjgpfXJldHVybiBufSh0aGlzLmJ1ZixlLHRoaXMucG9zKTt2YXIgbj10aGlzLnBvcy10O24+PTEyOCYmdSh0LG4sdGhpcyksdGhpcy5wb3M9dC0xLHRoaXMud3JpdGVWYXJpbnQobiksdGhpcy5wb3MrPW59LHdyaXRlRmxvYXQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDQpLHIud3JpdGUodGhpcy5idWYsZSx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NH0sd3JpdGVEb3VibGU6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLHIud3JpdGUodGhpcy5idWYsZSx0aGlzLnBvcywhMCw1Miw4KSx0aGlzLnBvcys9OH0sd3JpdGVCeXRlczpmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDt0aGlzLndyaXRlVmFyaW50KHQpLHRoaXMucmVhbGxvYyh0KTtmb3IodmFyIG49MDtuPHQ7bisrKXRoaXMuYnVmW3RoaXMucG9zKytdPWVbbl19LHdyaXRlUmF3TWVzc2FnZTpmdW5jdGlvbihlLHQpe3RoaXMucG9zKys7dmFyIG49dGhpcy5wb3M7ZSh0LHRoaXMpO3ZhciByPXRoaXMucG9zLW47cj49MTI4JiZ1KG4scix0aGlzKSx0aGlzLnBvcz1uLTEsdGhpcy53cml0ZVZhcmludChyKSx0aGlzLnBvcys9cn0sd3JpdGVNZXNzYWdlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLndyaXRlVGFnKGUsaS5CeXRlcyksdGhpcy53cml0ZVJhd01lc3NhZ2UodCxuKX0sd3JpdGVQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxjLHQpfSx3cml0ZVBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxsLHQpfSx3cml0ZVBhY2tlZEJvb2xlYW46ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxkLHQpfSx3cml0ZVBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsaCx0KX0sd3JpdGVQYWNrZWREb3VibGU6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxmLHQpfSx3cml0ZVBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSx2LHQpfSx3cml0ZVBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUscCx0KX0sd3JpdGVQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsZyx0KX0sd3JpdGVQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLHksdCl9LHdyaXRlQnl0ZXNGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxpLkJ5dGVzKSx0aGlzLndyaXRlQnl0ZXModCl9LHdyaXRlRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGkuRml4ZWQzMiksdGhpcy53cml0ZUZpeGVkMzIodCl9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxpLkZpeGVkMzIpLHRoaXMud3JpdGVTRml4ZWQzMih0KX0sd3JpdGVGaXhlZDY0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsaS5GaXhlZDY0KSx0aGlzLndyaXRlRml4ZWQ2NCh0KX0sd3JpdGVTRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGkuRml4ZWQ2NCksdGhpcy53cml0ZVNGaXhlZDY0KHQpfSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGkuVmFyaW50KSx0aGlzLndyaXRlVmFyaW50KHQpfSx3cml0ZVNWYXJpbnRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxpLlZhcmludCksdGhpcy53cml0ZVNWYXJpbnQodCl9LHdyaXRlU3RyaW5nRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsaS5CeXRlcyksdGhpcy53cml0ZVN0cmluZyh0KX0sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGkuRml4ZWQzMiksdGhpcy53cml0ZUZsb2F0KHQpfSx3cml0ZURvdWJsZUZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGkuRml4ZWQ2NCksdGhpcy53cml0ZURvdWJsZSh0KX0sd3JpdGVCb29sZWFuRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVmFyaW50RmllbGQoZSxCb29sZWFuKHQpKX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNSksaT1uKDYpLGE9bigyMSksbz1uKDApLHM9big4MCksdT1uKDE3NiksYz1uKDE2Mik7ZnVuY3Rpb24gbChlKXtyZXR1cm4gaChmdW5jdGlvbiBlKHQsbil7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHUuYT90OihPYmplY3QoYy5hKSgic3RyaW5nIiE9dHlwZW9mIHQsIlNoYWRlciBtb2R1bGUgdXNlIGJ5IG5hbWUgaXMgZGVwcmVjYXRlZC4gSW1wb3J0IHNoYWRlciBtb2R1bGUgJyIuY29uY2F0KHQsIicgYW5kIHVzZSBpdCBkaXJlY3RseS4iKSksT2JqZWN0KGMuYSkodC5uYW1lLCJzaGFkZXIgbW9kdWxlIGhhcyBubyBuYW1lIiksKHQ9bmV3IHUuYSh0KSkuZGVwZW5kZW5jaWVzPWUodC5kZXBlbmRlbmNpZXMpLHQpfSkpfShlKSl9ZnVuY3Rpb24gaChlKXt2YXIgdD17fSxuPXt9O3JldHVybiBmKHttb2R1bGVzOmUsbGV2ZWw6MCxtb2R1bGVNYXA6dCxtb2R1bGVEZXB0aDpufSksT2JqZWN0LmtleXMobikuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gblt0XS1uW2VdfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSl9ZnVuY3Rpb24gZihlKXt2YXIgdD1lLm1vZHVsZXMsbj1lLmxldmVsLHI9ZS5tb2R1bGVNYXAsaT1lLm1vZHVsZURlcHRoO2lmKG4+PTUpdGhyb3cgbmV3IEVycm9yKCJQb3NzaWJsZSBsb29wIGluIHNoYWRlciBkZXBlbmRlbmN5IGdyYXBoIik7dmFyIGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShhPSh1PWMubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgbD11LnZhbHVlO3JbbC5uYW1lXT1sLCh2b2lkIDA9PT1pW2wubmFtZV18fGlbbC5uYW1lXTxuKSYmKGlbbC5uYW1lXT1uKX19Y2F0Y2goZSl7bz0hMCxzPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fXZhciBoPSEwLGQ9ITEsdj12b2lkIDA7dHJ5e2Zvcih2YXIgcCxnPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaD0ocD1nLm5leHQoKSkuZG9uZSk7aD0hMCl7dmFyIHk9cC52YWx1ZTt5LmRlcGVuZGVuY2llcyYmZih7bW9kdWxlczp5LmRlcGVuZGVuY2llcyxsZXZlbDpuKzEsbW9kdWxlTWFwOnIsbW9kdWxlRGVwdGg6aX0pfX1jYXRjaChlKXtkPSEwLHY9ZX1maW5hbGx5e3RyeXtofHxudWxsPT1nLnJldHVybnx8Zy5yZXR1cm4oKX1maW5hbGx5e2lmKGQpdGhyb3cgdn19fWZ1bmN0aW9uIGQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvcnx8e30sbj1lLnVzZXJBZ2VudHx8dC51c2VyQWdlbnR8fCIiLHI9LTEhPT1uLmluZGV4T2YoIk1TSUUgIiksaT0tMSE9PW4uaW5kZXhPZigiVHJpZGVudC8iKTtyZXR1cm4gcnx8aX12YXIgdj17R0xTTF9GUkFHX0RBVEE6WyJXRUJHTF9kcmF3X2J1ZmZlcnMiLCEwXSxHTFNMX0ZSQUdfREVQVEg6WyJFWFRfZnJhZ19kZXB0aCIsITBdLEdMU0xfREVSSVZBVElWRVM6WyJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMiLCEwXSxHTFNMX1RFWFRVUkVfTE9EOlsiRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCIsITBdfSxwPXt9O09iamVjdC5rZXlzKHYpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3BbZV09ZX0pKTt2YXIgZz17fTtmdW5jdGlvbiB5KGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9dlt0XTtpZihPYmplY3QoYy5hKShyLHQpLCFkKG4pKXJldHVybiEwO2lmKHQgaW4gZylyZXR1cm4gZ1t0XTt2YXIgaT1yWzBdLGE9bi5iZWhhdmlvcnx8ImVuYWJsZSIsbz0iI2V4dGVuc2lvbiBHTF8iLmNvbmNhdChpLCIgOiAiKS5jb25jYXQoYSwiXG52b2lkIG1haW4odm9pZCkge30iKSxzPWUuY3JlYXRlU2hhZGVyKDM1NjMzKTtlLnNoYWRlclNvdXJjZShzLG8pLGUuY29tcGlsZVNoYWRlcihzKTt2YXIgdT1lLmdldFNoYWRlclBhcmFtZXRlcihzLDM1NzEzKTtyZXR1cm4gZS5kZWxldGVTaGFkZXIocyksZ1t0XT11LHV9ZnVuY3Rpb24gbShlLHQpe3ZhciBuPXZbdF07T2JqZWN0KGMuYSkobix0KTt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihlJiYyPT09ZS5fdmVyc2lvbil9KGUpJiZuWzFdfHxuWzBdLGk9InN0cmluZyI9PXR5cGVvZiByP0Jvb2xlYW4oZS5nZXRFeHRlbnNpb24ocikpOnI7cmV0dXJuIE9iamVjdChjLmEpKCExPT09aXx8ITA9PT1pKSxpfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4odD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIG0oZSx0KX0pKX12YXIgXz1uKDE2NCk7ZnVuY3Rpb24gTyhlLHQsbil7c3dpdGNoKHQpe2Nhc2UgMzAwOnJldHVybiBuP2Z1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL14oI3ZlcnNpb25bIFx0XSsoMTAwfDMwMFsgXHRdK2VzKSk/WyBcdF0qXG4vLCIjdmVyc2lvbiAzMDAgZXNcbiIpLnJlcGxhY2UoL15bIFx0XSphdHRyaWJ1dGVbIFx0XSsoLis7KS9nbSwiaW4gJDEiKS5yZXBsYWNlKC9eWyBcdF0qdmFyeWluZ1sgXHRdKyguKzspL2dtLCJvdXQgJDEiKS5yZXBsYWNlKC9cYnRleHR1cmUyRFwoL2csInRleHR1cmUoIikucmVwbGFjZSgvXGJ0ZXh0dXJlQ3ViZVwoKy9nLCJ0ZXh0dXJlKCIpLnJlcGxhY2UoL1xidGV4dHVyZTJETG9kRVhUXCgvZywidGV4dHVyZUxvZCgiKS5yZXBsYWNlKC9cYnRleHR1cmVDdWJlTG9kRVhUXCgvZywidGV4dHVyZUxvZCgiKX0oZSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXigjdmVyc2lvblsgXHRdKygxMDB8MzAwWyBcdF0rZXMpKT9bIFx0XSpcbi8sIiN2ZXJzaW9uIDMwMCBlc1xuIikucmVwbGFjZSgvXlsgXHRdKnZhcnlpbmdbIFx0XSsoLis7KS9nbSwiaW4gJDEiKS5yZXBsYWNlKC9cYnRleHR1cmUyRFwoL2csInRleHR1cmUoIikucmVwbGFjZSgvXGJ0ZXh0dXJlQ3ViZVwoL2csInRleHR1cmUoIikucmVwbGFjZSgvXGJ0ZXh0dXJlMkRMb2RFWFRcKC9nLCJ0ZXh0dXJlTG9kKCIpLnJlcGxhY2UoL1xidGV4dHVyZUN1YmVMb2RFWFRcKC9nLCJ0ZXh0dXJlTG9kKCIpfShlKTtjYXNlIDEwMDpyZXR1cm4gbj9mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eI3ZlcnNpb25bIFx0XSszMDBbIFx0XStlcy8sIiN2ZXJzaW9uIDEwMCIpLnJlcGxhY2UoL15bIFx0XSppblsgXHRdKyguKzspL2dtLCJhdHRyaWJ1dGUgJDEiKS5yZXBsYWNlKC9eWyBcdF0qb3V0WyBcdF0rKC4rOykvZ20sInZhcnlpbmcgJDEiKS5yZXBsYWNlKC9cYnRleHR1cmVcKC9nLCJ0ZXh0dXJlMkQoIikucmVwbGFjZSgvXGJ0ZXh0dXJlTG9kXCgvZywidGV4dHVyZTJETG9kRVhUKCIpfShlKTpmdW5jdGlvbihlKXt2YXIgdD0oZT1lLnJlcGxhY2UoL14jdmVyc2lvblsgXHRdKzMwMFsgXHRdK2VzLywiI3ZlcnNpb24gMTAwIikucmVwbGFjZSgvXlsgXHRdKmluWyBcdF0rL2dtLCJ2YXJ5aW5nICIpLnJlcGxhY2UoL1xidGV4dHVyZVwoL2csInRleHR1cmUyRCgiKS5yZXBsYWNlKC9cYnRleHR1cmVMb2RcKC9nLCJ0ZXh0dXJlMkRMb2RFWFQoIikpLm1hdGNoKHcpO2lmKHQpe3ZhciBuPXRbMV07ZT1lLnJlcGxhY2UodywiIikucmVwbGFjZShuZXcgUmVnRXhwKCJcXGIiLmNvbmNhdChuLCJcXGIiKSwiZyIpLCJnbF9GcmFnQ29sb3IiKX1yZXR1cm4gZX0oZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInVua25vd24gR0xTTCB2ZXJzaW9uICIuY29uY2F0KHQpKX19dmFyIHgsdz0vXlsgXHRdKm91dFsgXHRdK3ZlYzRbIFx0XSsoXHcrKVsgXHRdKjtccysvbTt2YXIgUz0iXG5cbiIuY29uY2F0KF8uYSwiXG5cbiIpLGs9KHg9e30sT2JqZWN0KG8uYSkoeCxzLmIsInZlcnRleCIpLE9iamVjdChvLmEpKHgscy5hLCJmcmFnbWVudCIpLHgpO2Z1bmN0aW9uIFAoZSx0KXt2YXIgbj10LnZzLHI9dC5mcyxpPWwodC5tb2R1bGVzfHxbXSk7cmV0dXJue2dsOmUsdnM6aihlLE9iamVjdC5hc3NpZ24oe30sdCx7c291cmNlOm4sdHlwZTpzLmIsbW9kdWxlczppfSkpLGZzOmooZSxPYmplY3QuYXNzaWduKHt9LHQse3NvdXJjZTpyLHR5cGU6cy5hLG1vZHVsZXM6aX0pKSxnZXRVbmlmb3JtczpUKGkpfX1mdW5jdGlvbiBqKGUsdCl7dmFyIG49dC5pZCxyPXQuc291cmNlLGk9dC50eXBlLG89dC5tb2R1bGVzLHU9dC5kZWZpbmVzLGw9dm9pZCAwPT09dT97fTp1LGg9dC5ob29rRnVuY3Rpb25zLGY9dm9pZCAwPT09aD9bXTpoLGQ9dC5pbmplY3Qsdj12b2lkIDA9PT1kP3t9OmQsZz10LnRyYW5zcGlsZVRvR0xTTDEwMCxtPXZvaWQgMCE9PWcmJmcseD10LnByb2xvZ3VlLHc9dm9pZCAwPT09eHx8eCxQPXQubG9nO09iamVjdChjLmEpKCJzdHJpbmciPT10eXBlb2Ygciwic2hhZGVyIHNvdXJjZSBtdXN0IGJlIGEgc3RyaW5nIik7dmFyIGo9aT09PXMuYixUPXIuc3BsaXQoIlxuIiksRT0xMDAsQT0iIixNPXI7MD09PVRbMF0uaW5kZXhPZigiI3ZlcnNpb24gIik/KEU9MzAwLEE9VFswXSxNPVQuc2xpY2UoMSkuam9pbigiXG4iKSk6QT0iI3ZlcnNpb24gIi5jb25jYXQoRSk7dmFyIEM9e307by5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuYXNzaWduKEMsZS5nZXREZWZpbmVzKCkpfSkpLE9iamVjdC5hc3NpZ24oQyxsKTt2YXIgTD13PyIiLmNvbmNhdChBLCJcbiIpLmNvbmNhdChmdW5jdGlvbihlKXt2YXIgdD1lLmlkLG49ZS5zb3VyY2Uscj1lLnR5cGU7cmV0dXJuIHQmJiJzdHJpbmciPT10eXBlb2YgdCYmLTE9PT1uLmluZGV4T2YoIlNIQURFUl9OQU1FIik/IlxuI2RlZmluZSBTSEFERVJfTkFNRSAiLmNvbmNhdCh0LCJfIikuY29uY2F0KGtbcl0sIlxuXG4iKToiIn0oe2lkOm4sc291cmNlOnIsdHlwZTppfSksIlxuIikuY29uY2F0KGZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZTtyZXR1cm4iXG4jZGVmaW5lIFNIQURFUl9UWVBFXyIuY29uY2F0KGtbdF0udG9VcHBlckNhc2UoKSwiXG4iKX0oe3R5cGU6aX0pLCJcbiIpLmNvbmNhdChmdW5jdGlvbihlKXtzd2l0Y2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKSxuPWUuZ2V0UGFyYW1ldGVyKHQmJnQuVU5NQVNLRURfVkVORE9SX1dFQkdMfHw3OTM2KSxyPWUuZ2V0UGFyYW1ldGVyKHQmJnQuVU5NQVNLRURfUkVOREVSRVJfV0VCR0x8fDc5MzcpO3JldHVybntncHVWZW5kb3I6ZnVuY3Rpb24oZSx0KXtpZihlLm1hdGNoKC9OVklESUEvaSl8fHQubWF0Y2goL05WSURJQS9pKSlyZXR1cm4iTlZJRElBIjtpZihlLm1hdGNoKC9JTlRFTC9pKXx8dC5tYXRjaCgvSU5URUwvaSkpcmV0dXJuIklOVEVMIjtpZihlLm1hdGNoKC9BTUQvaSl8fHQubWF0Y2goL0FNRC9pKXx8ZS5tYXRjaCgvQVRJL2kpfHx0Lm1hdGNoKC9BVEkvaSkpcmV0dXJuIkFNRCI7cmV0dXJuIlVOS05PV04gR1BVIn0obixyKSx2ZW5kb3I6bixyZW5kZXJlcjpyLHZlcnNpb246ZS5nZXRQYXJhbWV0ZXIoNzkzOCksc2hhZGluZ0xhbmd1YWdlVmVyc2lvbjplLmdldFBhcmFtZXRlcigzNTcyNCl9fShlKS5ncHVWZW5kb3IudG9Mb3dlckNhc2UoKSl7Y2FzZSJudmlkaWEiOnJldHVybiIjZGVmaW5lIE5WSURJQV9HUFVcbi8vIE52aWRpYSBvcHRpbWl6ZXMgYXdheSB0aGUgY2FsY3VsYXRpb24gbmVjZXNzYXJ5IGZvciBlbXVsYXRlZCBmcDY0XG4jZGVmaW5lIExVTUFfRlA2NF9DT0RFX0VMSU1JTkFUSU9OX1dPUktBUk9VTkQgMVxuIjtjYXNlImludGVsIjpyZXR1cm4iI2RlZmluZSBJTlRFTF9HUFVcbi8vIEludGVsIG9wdGltaXplcyBhd2F5IHRoZSBjYWxjdWxhdGlvbiBuZWNlc3NhcnkgZm9yIGVtdWxhdGVkIGZwNjRcbiNkZWZpbmUgTFVNQV9GUDY0X0NPREVfRUxJTUlOQVRJT05fV09SS0FST1VORCAxXG4vLyBJbnRlbCdzIGJ1aWx0LWluICd0YW4nIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSBhY2NlcHRhYmxlIHByZWNpc2lvblxuI2RlZmluZSBMVU1BX0ZQMzJfVEFOX1BSRUNJU0lPTl9XT1JLQVJPVU5EIDFcbi8vIEludGVsIEdQVSBkb2Vzbid0IGhhdmUgZnVsbCAzMiBiaXRzIHByZWNpc2lvbiBpbiBzYW1lIGNhc2VzLCBjYXVzZXMgb3ZlcmZsb3dcbiNkZWZpbmUgTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EIDFcbiI7Y2FzZSJhbWQiOnJldHVybiIjZGVmaW5lIEFNRF9HUFVcbiI7ZGVmYXVsdDpyZXR1cm4iI2RlZmluZSBERUZBVUxUX0dQVVxuLy8gUHJldmVudCBkcml2ZXIgZnJvbSBvcHRpbWl6aW5nIGF3YXkgdGhlIGNhbGN1bGF0aW9uIG5lY2Vzc2FyeSBmb3IgZW11bGF0ZWQgZnA2NFxuI2RlZmluZSBMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EIDFcbi8vIEludGVsJ3MgYnVpbHQtaW4gJ3RhbicgZnVuY3Rpb24gZG9lc24ndCBoYXZlIGFjY2VwdGFibGUgcHJlY2lzaW9uXG4jZGVmaW5lIExVTUFfRlAzMl9UQU5fUFJFQ0lTSU9OX1dPUktBUk9VTkQgMVxuLy8gSW50ZWwgR1BVIGRvZXNuJ3QgaGF2ZSBmdWxsIDMyIGJpdHMgcHJlY2lzaW9uIGluIHNhbWUgY2FzZXMsIGNhdXNlcyBvdmVyZmxvd1xuI2RlZmluZSBMVU1BX0ZQNjRfSElHSF9CSVRTX09WRVJGTE9XX1dPUktBUk9VTkQgMVxuIn19KGUpLCJcbiIpLmNvbmNhdChmdW5jdGlvbihlLHQsbil7dmFyIHI9IiNpZiAoX19WRVJTSU9OX18gPiAxMjApXG5cbiMgZGVmaW5lIEZSQUdfREVQVEhcbiMgZGVmaW5lIERFUklWQVRJVkVTXG4jIGRlZmluZSBEUkFXX0JVRkZFUlNcbiMgZGVmaW5lIFRFWFRVUkVfTE9EXG5cbiNlbmRpZiAvLyBfX1ZFUlNJT05cbiI7cmV0dXJuIGIoZSxwLkdMU0xfRlJBR19ERVBUSCkmJihyKz0iLy8gRlJBR19ERVBUSCA9PiBnbF9GcmFnRGVwdGggaXMgYXZhaWxhYmxlXG4jaWZkZWYgR0xfRVhUX2ZyYWdfZGVwdGhcbiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGVcbiMgZGVmaW5lIEZSQUdfREVQVEhcbiMgZGVmaW5lIGdsX0ZyYWdEZXB0aCBnbF9GcmFnRGVwdGhFWFRcbiNlbmRpZlxuIiksYihlLHAuR0xTTF9ERVJJVkFUSVZFUykmJnkoZSxwLkdMU0xfREVSSVZBVElWRVMpJiYocis9Ii8vIERFUklWQVRJVkVTID0+IGR4ZEYsIGR4ZFkgYW5kIGZ3aWR0aCBhcmUgYXZhaWxhYmxlXG4jaWZkZWYgR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzXG4jZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxuIyBkZWZpbmUgREVSSVZBVElWRVNcbiNlbmRpZlxuIiksYihlLHAuR0xTTF9GUkFHX0RBVEEpJiZ5KGUscC5HTFNMX0ZSQUdfREFUQSx7YmVoYXZpb3I6InJlcXVpcmUifSkmJihyKz0iLy8gRFJBV19CVUZGRVJTID0+IGdsX0ZyYWdEYXRhW10gaXMgYXZhaWxhYmxlXG4jaWZkZWYgR0xfRVhUX2RyYXdfYnVmZmVyc1xuI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZVxuI2RlZmluZSBEUkFXX0JVRkZFUlNcbiNlbmRpZlxuIiksYihlLHAuR0xTTF9URVhUVVJFX0xPRCkmJihyKz0iLy8gVEVYVFVSRV9MT0QgPT4gdGV4dHVyZTJETG9kIGV0YyBhcmUgYXZhaWxhYmxlXG4jaWZkZWYgR0xfRVhUX3NoYWRlcl90ZXh0dXJlX2xvZFxuI2V4dGVuc2lvbiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kIDogZW5hYmxlXG4jIGRlZmluZSBURVhUVVJFX0xPRFxuI2RlZmluZSB0ZXh0dXJlMkRMb2QgdGV4dHVyZTJETG9kRVhUXG4jZGVmaW5lIHRleHR1cmUyRFByb2pMb2QgdGV4dHVyZTJEUHJvakxvZEVYVFxuI2RlZmluZSB0ZXh0dXJlMkRQcm9qTG9kIHRleHR1cmUyRFByb2pMb2RFWFRcbiNkZWZpbmUgdGV4dHVyZUN1YmVMb2QgdGV4dHVyZUN1YmVMb2RFWFRcbiNkZWZpbmUgdGV4dHVyZTJER3JhZCB0ZXh0dXJlMkRHcmFkRVhUXG4jZGVmaW5lIHRleHR1cmUyRFByb2pHcmFkIHRleHR1cmUyRFByb2pHcmFkRVhUXG4jZGVmaW5lIHRleHR1cmUyRFByb2pHcmFkIHRleHR1cmUyRFByb2pHcmFkRVhUXG4jZGVmaW5lIHRleHR1cmVDdWJlR3JhZCB0ZXh0dXJlQ3ViZUdyYWRFWFRcbiNlbmRpZlxuIikscn0oZSksIlxuIikuY29uY2F0KGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9MCxuPSIiO2Zvcih2YXIgciBpbiBlKXswPT09dCYmKG4rPSJcbi8vIEFQUExJQ0FUSU9OIERFRklORVNcbiIpLHQrKzt2YXIgaT1lW3JdOyhpfHxOdW1iZXIuaXNGaW5pdGUoaSkpJiYobis9IiNkZWZpbmUgIi5jb25jYXQoci50b1VwcGVyQ2FzZSgpLCIgIikuY29uY2F0KGVbcl0sIlxuIikpfTA9PT10JiYobis9IlxuIik7cmV0dXJuIG59KEMpLCJcbiIpLmNvbmNhdChqPyIiOiJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiIsIlxuIik6IiIuY29uY2F0KEEsIlxuIik7Zj1mdW5jdGlvbihlKXt2YXIgdD17dnM6e30sZnM6e319O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuOyJzdHJpbmciIT10eXBlb2YgZT9lPShuPWUpLmhvb2s6bj17fTt2YXIgcj0oZT1lLnRyaW0oKSkuc3BsaXQoIjoiKSxpPU9iamVjdChhLmEpKHIsMiksbz1pWzBdLHM9aVsxXSx1PWUucmVwbGFjZSgvXCguKy8sIiIpO3Rbb11bdV09T2JqZWN0LmFzc2lnbihuLHtzaWduYXR1cmU6c30pfSkpLHR9KGYpO3ZhciBJPXt9LFI9e30sRD17fTtmb3IodmFyIEYgaW4gdil7dmFyIE49InN0cmluZyI9PXR5cGVvZiB2W0ZdP3tpbmplY3Rpb246dltGXSxvcmRlcjowfTp2W0ZdLHo9Ri5tYXRjaCgvXih2fGYpczooIyk/KFtcdy1dKykkLyk7aWYoeil7dmFyIEI9elsyXSxVPXpbM107Qj8iZGVjbCI9PT1VP1JbRl09W05dOkRbRl09W05dOklbRl09W05dfWVsc2UgRFtGXT1bTl19dmFyIFY9ITAsRz0hMSxXPXZvaWQgMDt0cnl7Zm9yKHZhciBILHE9b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShWPShIPXEubmV4dCgpKS5kb25lKTtWPSEwKXt2YXIgWD1ILnZhbHVlO1AmJlguY2hlY2tEZXByZWNhdGlvbnMoTSxQKSxMKz1YLmdldE1vZHVsZVNvdXJjZShpLEUpO3ZhciBaPVguaW5qZWN0aW9uc1tpXTtmb3IodmFyIFkgaW4gWil7dmFyIEs9WS5tYXRjaCgvXih2fGYpczojKFtcdy1dKykkLyk7aWYoSyl7dmFyIFE9ImRlY2wiPT09S1syXT9SOkQ7UVtZXT1RW1ldfHxbXSxRW1ldLnB1c2goWltZXSl9ZWxzZSBJW1ldPUlbWV18fFtdLElbWV0ucHVzaChaW1ldKX19fWNhdGNoKGUpe0c9ITAsVz1lfWZpbmFsbHl7dHJ5e1Z8fG51bGw9PXEucmV0dXJufHxxLnJldHVybigpfWZpbmFsbHl7aWYoRyl0aHJvdyBXfX1yZXR1cm4gTCs9UyxMPU9iamVjdChfLmMpKEwsaSxSKSxMKz1mdW5jdGlvbihlLHQpe3ZhciBuPSIiO2Zvcih2YXIgciBpbiBlKXt2YXIgaT1lW3JdO2lmKG4rPSJ2b2lkICIuY29uY2F0KGkuc2lnbmF0dXJlLCIge1xuIiksaS5oZWFkZXImJihuKz0iICAiLmNvbmNhdChpLmhlYWRlcikpLHRbcl0pe3ZhciBhPXRbcl07YS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLm9yZGVyLXQub3JkZXJ9KSk7dmFyIG89ITAscz0hMSx1PXZvaWQgMDt0cnl7Zm9yKHZhciBjLGw9YVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShjPWwubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgaD1jLnZhbHVlO24rPSIgICIuY29uY2F0KGguaW5qZWN0aW9uLCJcbiIpfX1jYXRjaChlKXtzPSEwLHU9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19fWkuZm9vdGVyJiYobis9IiAgIi5jb25jYXQoaS5mb290ZXIpKSxuKz0ifVxuIn1yZXR1cm4gbn0oZltpXSxJKSxMKz1NLEw9TyhMPU9iamVjdChfLmMpKEwsaSxEKSxtPzEwMDpFLGopfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXt9LHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlLmdldFVuaWZvcm1zKHQsbik7T2JqZWN0LmFzc2lnbihuLHUpfX1jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fXZhciBFPW4oMjY5KTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe09iamVjdChyLmEpKHRoaXMsZSksdGhpcy5nbD10LHRoaXMuX3Byb2dyYW1DYWNoZT17fSx0aGlzLl9nZXRVbmlmb3Jtcz17fSx0aGlzLl9yZWdpc3RlcmVkTW9kdWxlcz17fSx0aGlzLl9ob29rRnVuY3Rpb25zPVtdLHRoaXMuX2RlZmF1bHRNb2R1bGVzPVtdLHRoaXMuX2hhc2hlcz17fSx0aGlzLl9oYXNoQ291bnRlcj0wLHRoaXMuc3RhdGVIYXNoPTAsdGhpcy5fdXNlQ291bnRzPXt9fXJldHVybiBPYmplY3QoaS5hKShlLG51bGwsW3trZXk6ImdldERlZmF1bHRQcm9ncmFtTWFuYWdlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubHVtYT10Lmx1bWF8fHt9LHQubHVtYS5kZWZhdWx0UHJvZ3JhbU1hbmFnZXI9dC5sdW1hLmRlZmF1bHRQcm9ncmFtTWFuYWdlcnx8bmV3IGUodCksdC5sdW1hLmRlZmF1bHRQcm9ncmFtTWFuYWdlcn19XSksT2JqZWN0KGkuYSkoZSxbe2tleToiYWRkRGVmYXVsdE1vZHVsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZGVmYXVsdE1vZHVsZXMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUubmFtZX0pKXx8dGhpcy5fZGVmYXVsdE1vZHVsZXMucHVzaChlKSx0aGlzLnN0YXRlSGFzaCsrfX0se2tleToicmVtb3ZlRGVmYXVsdE1vZHVsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9InN0cmluZyI9PXR5cGVvZiBlP2U6ZS5uYW1lO3RoaXMuX2RlZmF1bHRNb2R1bGVzPXRoaXMuX2RlZmF1bHRNb2R1bGVzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZSE9PXR9KSksdGhpcy5zdGF0ZUhhc2grK319LHtrZXk6ImFkZFNoYWRlckhvb2siLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dCYmKGU9T2JqZWN0LmFzc2lnbih0LHtob29rOmV9KSksdGhpcy5faG9va0Z1bmN0aW9ucy5wdXNoKGUpLHRoaXMuc3RhdGVIYXNoKyt9fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPXQudnMscj12b2lkIDA9PT1uPyIiOm4saT10LmZzLGE9dm9pZCAwPT09aT8iIjppLG89dC5kZWZpbmVzLHM9dm9pZCAwPT09bz97fTpvLHU9dC5pbmplY3QsYz12b2lkIDA9PT11P3t9OnUsbD10LnZhcnlpbmdzLGg9dm9pZCAwPT09bD9bXTpsLGY9dC5idWZmZXJNb2RlLGQ9dm9pZCAwPT09Zj8zNTk4MTpmLHY9dC50cmFuc3BpbGVUb0dMU0wxMDAscD12b2lkIDAhPT12JiZ2LGc9dGhpcy5fZ2V0TW9kdWxlTGlzdCh0Lm1vZHVsZXMpLHk9dGhpcy5fZ2V0SGFzaChyKSxtPXRoaXMuX2dldEhhc2goYSksYj1nLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2dldEhhc2godC5uYW1lKX0pKS5zb3J0KCksXz1oLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2dldEhhc2godCl9KSksTz1PYmplY3Qua2V5cyhzKS5zb3J0KCkseD1PYmplY3Qua2V5cyhjKS5zb3J0KCksdz1bXSxTPVtdLGs9ITAsaj0hMSxUPXZvaWQgMDt0cnl7Zm9yKHZhciBBLE09T1tTeW1ib2wuaXRlcmF0b3JdKCk7IShrPShBPU0ubmV4dCgpKS5kb25lKTtrPSEwKXt2YXIgQz1BLnZhbHVlO3cucHVzaCh0aGlzLl9nZXRIYXNoKEMpKSx3LnB1c2godGhpcy5fZ2V0SGFzaChzW0NdKSl9fWNhdGNoKGUpe2o9ITAsVD1lfWZpbmFsbHl7dHJ5e2t8fG51bGw9PU0ucmV0dXJufHxNLnJldHVybigpfWZpbmFsbHl7aWYoail0aHJvdyBUfX12YXIgTD0hMCxJPSExLFI9dm9pZCAwO3RyeXtmb3IodmFyIEQsRj14W1N5bWJvbC5pdGVyYXRvcl0oKTshKEw9KEQ9Ri5uZXh0KCkpLmRvbmUpO0w9ITApe3ZhciBOPUQudmFsdWU7Uy5wdXNoKHRoaXMuX2dldEhhc2goTikpLFMucHVzaCh0aGlzLl9nZXRIYXNoKGNbTl0pKX19Y2F0Y2goZSl7ST0hMCxSPWV9ZmluYWxseXt0cnl7THx8bnVsbD09Ri5yZXR1cm58fEYucmV0dXJuKCl9ZmluYWxseXtpZihJKXRocm93IFJ9fXZhciB6PSIiLmNvbmNhdCh5LCIvIikuY29uY2F0KG0sIkQiKS5jb25jYXQody5qb2luKCIvIiksIk0iKS5jb25jYXQoYi5qb2luKCIvIiksIkkiKS5jb25jYXQoUy5qb2luKCIvIiksIlYiKS5jb25jYXQoXy5qb2luKCIvIiksIkgiKS5jb25jYXQodGhpcy5zdGF0ZUhhc2gsIkIiKS5jb25jYXQoZCkuY29uY2F0KHA/IlQiOiIiKTtpZighdGhpcy5fcHJvZ3JhbUNhY2hlW3pdKXt2YXIgQj1QKHRoaXMuZ2wse3ZzOnIsZnM6YSxtb2R1bGVzOmcsaW5qZWN0OmMsZGVmaW5lczpzLGhvb2tGdW5jdGlvbnM6dGhpcy5faG9va0Z1bmN0aW9ucyx0cmFuc3BpbGVUb0dMU0wxMDA6cH0pO3RoaXMuX3Byb2dyYW1DYWNoZVt6XT1uZXcgRS5hKHRoaXMuZ2wse2hhc2g6eix2czpCLnZzLGZzOkIuZnMsdmFyeWluZ3M6aCxidWZmZXJNb2RlOmR9KSx0aGlzLl9nZXRVbmlmb3Jtc1t6XT1CLmdldFVuaWZvcm1zfHxmdW5jdGlvbihlKXt9LHRoaXMuX3VzZUNvdW50c1t6XT0wfXJldHVybiB0aGlzLl91c2VDb3VudHNbel0rKyx0aGlzLl9wcm9ncmFtQ2FjaGVbel19fSx7a2V5OiJnZXRVbmlmb3JtcyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldFVuaWZvcm1zW2UuaGFzaF18fG51bGx9fSx7a2V5OiJyZWxlYXNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmhhc2g7dGhpcy5fdXNlQ291bnRzW3RdLS0sMD09PXRoaXMuX3VzZUNvdW50c1t0XSYmKHRoaXMuX3Byb2dyYW1DYWNoZVt0XS5kZWxldGUoKSxkZWxldGUgdGhpcy5fcHJvZ3JhbUNhY2hlW3RdLGRlbGV0ZSB0aGlzLl9nZXRVbmlmb3Jtc1t0XSxkZWxldGUgdGhpcy5fdXNlQ291bnRzW3RdKX19LHtrZXk6Il9nZXRIYXNoIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5faGFzaGVzW2VdJiYodGhpcy5faGFzaGVzW2VdPXRoaXMuX2hhc2hDb3VudGVyKyspLHRoaXMuX2hhc2hlc1tlXX19LHtrZXk6Il9nZXRNb2R1bGVMaXN0Iix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sdD1uZXcgQXJyYXkodGhpcy5fZGVmYXVsdE1vZHVsZXMubGVuZ3RoK2UubGVuZ3RoKSxuPXt9LHI9MCxpPTAsYT10aGlzLl9kZWZhdWx0TW9kdWxlcy5sZW5ndGg7aTxhOysraSl7dmFyIG89dGhpcy5fZGVmYXVsdE1vZHVsZXNbaV0scz1vLm5hbWU7dFtyKytdPW8sbltzXT0hMH1mb3IodmFyIHU9MCxjPWUubGVuZ3RoO3U8YzsrK3Upe3ZhciBsPWVbdV0saD1sLm5hbWU7bltoXXx8KHRbcisrXT1sLG5baF09ITApfXJldHVybiB0Lmxlbmd0aD1yLHR9fV0pLGV9KCl9LCwsLCwsLCxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMjYpO09iamVjdC5hc3NpZ24ocixuKDYyKSxuKDI0NyksbigyNDgpLG4oMjQ2KSxuKDI1MCksbigxNjkpLG4oMjUxKSksZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0OSksaT1uKDE5KSxhPW4oMjUyKS5kZWZhdWx0LG89big4MSkscz1vLnJlZ2lzdGVyTG9hZGVycyx1PW8ubG9hZCxjPW8ucGFyc2UsbD1vLmZldGNoRmlsZSxoPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P2dsb2JhbDp3aW5kb3c7aC5kZWNrPWguZGVja3x8e30saC5sdW1hPWgubHVtYXx8e30saC5sb2FkZXJzPWgubG9hZGVyc3x8e30sT2JqZWN0LmFzc2lnbihoLmRlY2ssaSx7RGVja0dMOmF9KSxPYmplY3QuYXNzaWduKGgubHVtYSxyKSxPYmplY3QuYXNzaWduKGgubG9hZGVycyx7cmVnaXN0ZXJMb2FkZXJzOnMsbG9hZDp1LHBhcnNlOmMsZmV0Y2hGaWxlOmx9KSxlLmV4cG9ydHM9aC5kZWNrfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTIyKSxpPW4oMjI4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInNlbGYiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLnNlbGZ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIndpbmRvdyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEud2luZG93fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJnbG9iYWwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmdsb2JhbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZG9jdW1lbnQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmRvY3VtZW50fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJwcm9jZXNzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5wcm9jZXNzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJjb25zb2xlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jb25zb2xlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJpc0Jyb3dzZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImlzQnJvd3Nlck1haW5UaHJlYWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmlzQnJvd3Nlck1haW5UaHJlYWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImdldEJyb3dzZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImlzTW9iaWxlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5pc01vYmlsZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiaXNFbGVjdHJvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUuZGVmYXVsdH19KTt2YXIgYT1uKDE4Miksbz1pKG4oMTgzKSkscz1pKG4oMjI5KSksdT1yKG4oMTY3KSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM3KTtmdW5jdGlvbiBpKCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXA7cmV0dXJuIGk9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHwib2JqZWN0IiE9PXIoZSkmJiJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciB0PWkoKTtpZih0JiZ0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dmFyIG49e30sYT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBzPWE/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOm51bGw7cyYmKHMuZ2V0fHxzLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sbyxzKTpuW29dPWVbb119cmV0dXJuIG4uZGVmYXVsdD1lLHQmJnQuc2V0KGUsbiksbn19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMjIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmlzTW9iaWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PWkud2luZG93Lm9yaWVudGF0aW9ufSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoIWUmJiEoMCxhLmRlZmF1bHQpKCkpcmV0dXJuIk5vZGUiO2lmKCgwLG8uZGVmYXVsdCkoZSkpcmV0dXJuIkVsZWN0cm9uIjt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcj9uYXZpZ2F0b3I6e30sbj1lfHx0LnVzZXJBZ2VudHx8IiI7aWYobi5pbmRleE9mKCJFZGdlIik+LTEpcmV0dXJuIkVkZ2UiO3ZhciByPS0xIT09bi5pbmRleE9mKCJNU0lFICIpLHM9LTEhPT1uLmluZGV4T2YoIlRyaWRlbnQvIik7aWYocnx8cylyZXR1cm4iSUUiO2lmKGkud2luZG93LmNocm9tZSlyZXR1cm4iQ2hyb21lIjtpZihpLndpbmRvdy5zYWZhcmkpcmV0dXJuIlNhZmFyaSI7aWYoaS53aW5kb3cubW96SW5uZXJTY3JlZW5YKXJldHVybiJGaXJlZm94IjtyZXR1cm4iVW5rbm93biJ9O3ZhciBpPW4oMTgyKSxhPXIobigxODMpKSxvPXIobigxNjcpKX0sZnVuY3Rpb24oZSx0KXt9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZSxuPXQuaGFzT3duUHJvcGVydHkscj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxpPXIuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIixhPXIuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbz1yLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcyhlLHQsbixyKXt2YXIgaT10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGw/dDpsLGE9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksbz1uZXcgeChyfHxbXSk7cmV0dXJuIGEuX2ludm9rZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9InN1c3BlbmRlZFN0YXJ0IjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZigiZXhlY3V0aW5nIj09PXIpdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYoImNvbXBsZXRlZCI9PT1yKXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybiBTKCl9Zm9yKG4ubWV0aG9kPWksbi5hcmc9YTs7KXt2YXIgbz1uLmRlbGVnYXRlO2lmKG8pe3ZhciBzPWIobyxuKTtpZihzKXtpZihzPT09Yyljb250aW51ZTtyZXR1cm4gc319aWYoIm5leHQiPT09bi5tZXRob2Qpbi5zZW50PW4uX3NlbnQ9bi5hcmc7ZWxzZSBpZigidGhyb3ciPT09bi5tZXRob2Qpe2lmKCJzdXNwZW5kZWRTdGFydCI9PT1yKXRocm93IHI9ImNvbXBsZXRlZCIsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZSJyZXR1cm4iPT09bi5tZXRob2QmJm4uYWJydXB0KCJyZXR1cm4iLG4uYXJnKTtyPSJleGVjdXRpbmciO3ZhciBsPXUoZSx0LG4pO2lmKCJub3JtYWwiPT09bC50eXBlKXtpZihyPW4uZG9uZT8iY29tcGxldGVkIjoic3VzcGVuZGVkWWllbGQiLGwuYXJnPT09Yyljb250aW51ZTtyZXR1cm57dmFsdWU6bC5hcmcsZG9uZTpuLmRvbmV9fSJ0aHJvdyI9PT1sLnR5cGUmJihyPSJjb21wbGV0ZWQiLG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bC5hcmcpfX19KGUsbixvKSxhfWZ1bmN0aW9uIHUoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1lLndyYXA9czt2YXIgYz17fTtmdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIGgoKXt9ZnVuY3Rpb24gZigpe312YXIgZD17fTtkW2ldPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciB2PU9iamVjdC5nZXRQcm90b3R5cGVPZixwPXYmJnYodih3KFtdKSkpO3AmJnAhPT10JiZuLmNhbGwocCxpKSYmKGQ9cCk7dmFyIGc9Zi5wcm90b3R5cGU9bC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkKTtmdW5jdGlvbiB5KGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9fSkpfWZ1bmN0aW9uIG0oZSl7dmFyIHQ7dGhpcy5faW52b2tlPWZ1bmN0aW9uKHIsaSl7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxhKXshZnVuY3Rpb24gdChyLGksYSxvKXt2YXIgcz11KGVbcl0sZSxpKTtpZigidGhyb3ciIT09cy50eXBlKXt2YXIgYz1zLmFyZyxsPWMudmFsdWU7cmV0dXJuIGwmJiJvYmplY3QiPT10eXBlb2YgbCYmbi5jYWxsKGwsIl9fYXdhaXQiKT9Qcm9taXNlLnJlc29sdmUobC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXt0KCJuZXh0IixlLGEsbyl9KSwoZnVuY3Rpb24oZSl7dCgidGhyb3ciLGUsYSxvKX0pKTpQcm9taXNlLnJlc29sdmUobCkudGhlbigoZnVuY3Rpb24oZSl7Yy52YWx1ZT1lLGEoYyl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQoInRocm93IixlLGEsbyl9KSl9byhzLmFyZyl9KHIsaSx0LGEpfSkpfXJldHVybiB0PXQ/dC50aGVuKGEsYSk6YSgpfX1mdW5jdGlvbiBiKGUsdCl7dmFyIG49ZS5pdGVyYXRvclt0Lm1ldGhvZF07aWYodm9pZCAwPT09bil7aWYodC5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT10Lm1ldGhvZCl7aWYoZS5pdGVyYXRvci5yZXR1cm4mJih0Lm1ldGhvZD0icmV0dXJuIix0LmFyZz12b2lkIDAsYihlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCkpcmV0dXJuIGM7dC5tZXRob2Q9InRocm93Iix0LmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIil9cmV0dXJuIGN9dmFyIHI9dShuLGUuaXRlcmF0b3IsdC5hcmcpO2lmKCJ0aHJvdyI9PT1yLnR5cGUpcmV0dXJuIHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9ci5hcmcsdC5kZWxlZ2F0ZT1udWxsLGM7dmFyIGk9ci5hcmc7cmV0dXJuIGk/aS5kb25lPyh0W2UucmVzdWx0TmFtZV09aS52YWx1ZSx0Lm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09dC5tZXRob2QmJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9dm9pZCAwKSx0LmRlbGVnYXRlPW51bGwsYyk6aToodC5tZXRob2Q9InRocm93Iix0LmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLHQuZGVsZWdhdGU9bnVsbCxjKX1mdW5jdGlvbiBfKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIE8oZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIHgoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChfLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIHcoZSl7aWYoZSl7dmFyIHQ9ZVtpXTtpZih0KXJldHVybiB0LmNhbGwoZSk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgcj0tMSxhPWZ1bmN0aW9uIHQoKXtmb3IoOysrcjxlLmxlbmd0aDspaWYobi5jYWxsKGUscikpcmV0dXJuIHQudmFsdWU9ZVtyXSx0LmRvbmU9ITEsdDtyZXR1cm4gdC52YWx1ZT12b2lkIDAsdC5kb25lPSEwLHR9O3JldHVybiBhLm5leHQ9YX19cmV0dXJue25leHQ6U319ZnVuY3Rpb24gUygpe3JldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19cmV0dXJuIGgucHJvdG90eXBlPWcuY29uc3RydWN0b3I9ZixmLmNvbnN0cnVjdG9yPWgsZltvXT1oLmRpc3BsYXlOYW1lPSJHZW5lcmF0b3JGdW5jdGlvbiIsZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1ofHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxmKTooZS5fX3Byb3RvX189ZixvIGluIGV8fChlW29dPSJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcpLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LHkobS5wcm90b3R5cGUpLG0ucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUuQXN5bmNJdGVyYXRvcj1tLGUuYXN5bmM9ZnVuY3Rpb24odCxuLHIsaSl7dmFyIGE9bmV3IG0ocyh0LG4scixpKSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0seShnKSxnW29dPSJHZW5lcmF0b3IiLGdbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSxlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKG4pO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiBuKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciByPXQucG9wKCk7aWYociBpbiBlKXJldHVybiBuLnZhbHVlPXIsbi5kb25lPSExLG59cmV0dXJuIG4uZG9uZT0hMCxufX0sZS52YWx1ZXM9dyx4LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD12b2lkIDAsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9dm9pZCAwLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKE8pLCFlKWZvcih2YXIgdCBpbiB0aGlzKSJ0Ij09PXQuY2hhckF0KDApJiZuLmNhbGwodGhpcyx0KSYmIWlzTmFOKCt0LnNsaWNlKDEpKSYmKHRoaXNbdF09dm9pZCAwKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciB0PXRoaXM7ZnVuY3Rpb24gcihuLHIpe3JldHVybiBvLnR5cGU9InRocm93IixvLmFyZz1lLHQubmV4dD1uLHImJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9dm9pZCAwKSwhIXJ9Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLG89YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgcz1uLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PW4uY2FsbChhLCJmaW5hbGx5TG9jIik7aWYocyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYocyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBuZXcgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3I+PTA7LS1yKXt2YXIgaT10aGlzLnRyeUVudHJpZXNbcl07aWYoaS50cnlMb2M8PXRoaXMucHJldiYmbi5jYWxsKGksImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PGkuZmluYWxseUxvYyl7dmFyIGE9aTticmVha319YSYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJmEudHJ5TG9jPD10JiZ0PD1hLmZpbmFsbHlMb2MmJihhPW51bGwpO3ZhciBvPWE/YS5jb21wbGV0aW9uOnt9O3JldHVybiBvLnR5cGU9ZSxvLmFyZz10LGE/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9YS5maW5hbGx5TG9jLGMpOnRoaXMuY29tcGxldGUobyl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCksY30sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxPKG4pLGN9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIGk9ci5hcmc7TyhuKX1yZXR1cm4gaX19dGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOncoZSkscmVzdWx0TmFtZTp0LG5leHRMb2M6bn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz12b2lkIDApLGN9fSxlfShlLmV4cG9ydHMpO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9cn1jYXRjaChlKXtGdW5jdGlvbigiciIsInJlZ2VuZXJhdG9yUnVudGltZSA9IHIiKShyKX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbih0LHIpe3JldHVybiBlLmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sbih0LHIpfWUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0Kyspblt0XT1lW3RdO3JldHVybiBufX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiBBcnJheS5mcm9tKGUpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpe3ZhciBuPVtdLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChvLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBufX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJm51bGwhPT0oZT1yKGUpKTspO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT17fSxhPU9iamVjdC5rZXlzKGUpO2ZvcihyPTA7cjxhLmxlbmd0aDtyKyspbj1hW3JdLHQuaW5kZXhPZihuKT49MHx8KGlbbl09ZVtuXSk7cmV0dXJuIGl9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjQyKTtmdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIGEoKXt9YS5yZXNldFdhcm5pbmdDYWNoZT1pLGUuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSxhLG8pe2lmKG8hPT1yKXt2YXIgcz1uZXcgRXJyb3IoIkNhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuIFVzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uIFJlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMiKTt0aHJvdyBzLm5hbWU9IkludmFyaWFudCBWaW9sYXRpb24iLHN9fWZ1bmN0aW9uIHQoKXtyZXR1cm4gZX1lLmlzUmVxdWlyZWQ9ZTt2YXIgbj17YXJyYXk6ZSxib29sOmUsZnVuYzplLG51bWJlcjplLG9iamVjdDplLHN0cmluZzplLHN5bWJvbDplLGFueTplLGFycmF5T2Y6dCxlbGVtZW50OmUsZWxlbWVudFR5cGU6ZSxpbnN0YW5jZU9mOnQsbm9kZTplLG9iamVjdE9mOnQsb25lT2Y6dCxvbmVPZlR5cGU6dCxzaGFwZTp0LGV4YWN0OnQsY2hlY2tQcm9wVHlwZXM6YSxyZXNldFdhcm5pbmdDYWNoZTppfTtyZXR1cm4gbi5Qcm9wVHlwZXM9bixufX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9IlNFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEIn0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE5Nik7ZnVuY3Rpb24gaShlLHQsbil7aWYoMz09PWUpe3ZhciBpPW5ldyByKG4sbi5yZWFkVmFyaW50KCkrbi5wb3MpO2kubGVuZ3RoJiYodFtpLm5hbWVdPWkpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0aGlzLmxheWVycz1lLnJlYWRGaWVsZHMoaSx7fSx0KX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3RoaXMueD1lLHRoaXMueT10fWUuZXhwb3J0cz1yLHIucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZChlKX0sc3ViOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3N1YihlKX0sbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQoZSl9LGRpdkJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludChlKX0sbXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KGUpfSxkaXY6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KGUpfSxyb3RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKGUpfSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQoZSx0KX0sbWF0TXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KGUpfSx1bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpfSxwZXJwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpfSxyb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCl9LG1hZzpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX0sZGlzdDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcihlKSl9LGRpc3RTcXI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS54LXRoaXMueCxuPWUueS10aGlzLnk7cmV0dXJuIHQqdCtuKm59LGFuZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LGFuZ2xlVG86ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LWUueSx0aGlzLngtZS54KX0sYW5nbGVXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFuZ2xlV2l0aFNlcChlLngsZS55KX0sYW5nbGVXaXRoU2VwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy54KnQtdGhpcy55KmUsdGhpcy54KmUrdGhpcy55KnQpfSxfbWF0TXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lWzBdKnRoaXMueCtlWzFdKnRoaXMueSxuPWVbMl0qdGhpcy54K2VbM10qdGhpcy55O3JldHVybiB0aGlzLng9dCx0aGlzLnk9bix0aGlzfSxfYWRkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzfSxfc3ViOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfSxfbXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzfSxfZGl2OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngvPWUsdGhpcy55Lz1lLHRoaXN9LF9tdWx0QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc30sX2RpdkJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC89ZS54LHRoaXMueS89ZS55LHRoaXN9LF91bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpdih0aGlzLm1hZygpKSx0aGlzfSxfcGVycDpmdW5jdGlvbigpe3ZhciBlPXRoaXMueTtyZXR1cm4gdGhpcy55PXRoaXMueCx0aGlzLng9LWUsdGhpc30sX3JvdGF0ZTpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLmNvcyhlKSxuPU1hdGguc2luKGUpLHI9dCp0aGlzLngtbip0aGlzLnksaT1uKnRoaXMueCt0KnRoaXMueTtyZXR1cm4gdGhpcy54PXIsdGhpcy55PWksdGhpc30sX3JvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguY29zKGUpLHI9TWF0aC5zaW4oZSksaT10LngrbioodGhpcy54LXQueCktcioodGhpcy55LXQueSksYT10LnkrcioodGhpcy54LXQueCkrbioodGhpcy55LXQueSk7cmV0dXJuIHRoaXMueD1pLHRoaXMueT1hLHRoaXN9LF9yb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc319LHIuY29udmVydD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHI/ZTpBcnJheS5pc0FycmF5KGUpP25ldyByKGVbMF0sZVsxXSk6ZX19LGZ1bmN0aW9uKGUsdCl7dC5yZWFkPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIGEsbyxzPTgqaS1yLTEsdT0oMTw8cyktMSxjPXU+PjEsbD0tNyxoPW4/aS0xOjAsZj1uPy0xOjEsZD1lW3QraF07Zm9yKGgrPWYsYT1kJigxPDwtbCktMSxkPj49LWwsbCs9cztsPjA7YT0yNTYqYStlW3QraF0saCs9ZixsLT04KTtmb3Iobz1hJigxPDwtbCktMSxhPj49LWwsbCs9cjtsPjA7bz0yNTYqbytlW3QraF0saCs9ZixsLT04KTtpZigwPT09YSlhPTEtYztlbHNle2lmKGE9PT11KXJldHVybiBvP05hTjoxLzAqKGQ/LTE6MSk7bys9TWF0aC5wb3coMixyKSxhLT1jfXJldHVybihkPy0xOjEpKm8qTWF0aC5wb3coMixhLXIpfSx0LndyaXRlPWZ1bmN0aW9uKGUsdCxuLHIsaSxhKXt2YXIgbyxzLHUsYz04KmEtaS0xLGw9KDE8PGMpLTEsaD1sPj4xLGY9MjM9PT1pP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxkPXI/MDphLTEsdj1yPzE6LTEscD10PDB8fDA9PT10JiYxL3Q8MD8xOjA7Zm9yKHQ9TWF0aC5hYnModCksaXNOYU4odCl8fHQ9PT0xLzA/KHM9aXNOYU4odCk/MTowLG89bCk6KG89TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMiksdCoodT1NYXRoLnBvdygyLC1vKSk8MSYmKG8tLSx1Kj0yKSwodCs9bytoPj0xP2YvdTpmKk1hdGgucG93KDIsMS1oKSkqdT49MiYmKG8rKyx1Lz0yKSxvK2g+PWw/KHM9MCxvPWwpOm8raD49MT8ocz0odCp1LTEpKk1hdGgucG93KDIsaSksbys9aCk6KHM9dCpNYXRoLnBvdygyLGgtMSkqTWF0aC5wb3coMixpKSxvPTApKTtpPj04O2VbbitkXT0yNTUmcyxkKz12LHMvPTI1NixpLT04KTtmb3Iobz1vPDxpfHMsYys9aTtjPjA7ZVtuK2RdPTI1NSZvLGQrPXYsby89MjU2LGMtPTgpO2VbbitkLXZdfD0xMjgqcH19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpO3ZhciByPXt9O24ucihyKSxuLmQociwiZGVjb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUWl9KSksbi5kKHIsImVuY29kZSIsKGZ1bmN0aW9uKCl7cmV0dXJuICRpfSkpO3ZhciBpPXt9O24ucihpKSxuLmQoaSwiZGVjb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gYWF9KSksbi5kKGksImVuY29kZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9hfSkpO3ZhciBhPXt9O24ucihhKSxuLmQoYSwiZGVjb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gc2F9KSksbi5kKGEsImVuY29kZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHVhfSkpO3ZhciBvPXt9O24ucihvKSxuLmQobywiZGVjb2RlIiwoZnVuY3Rpb24oKXtyZXR1cm4gY2F9KSksbi5kKG8sImVuY29kZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxhfSkpO3ZhciBzPW4oMiksdT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9big5KSxmPW4ubihoKSxkPW4oNCksdj1uLm4oZCkscD1uKDEyKSxnPW4ubihwKSx5PW4oMTApLG09bi5uKHkpLGI9bigyMDYpLF89bigxODkpLE89bigyMDApLHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB1KCkodGhpcyx0KSxmKCkodGhpcyx2KCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKHQsZSksbCgpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZygpKHYoKSh0LnByb3RvdHlwZSksImdldFNoYWRlcnMiLHRoaXMpLmNhbGwodGhpcykse3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGdyZWF0LWNpcmNsZS1sYXllci12ZXJ0ZXgtc2hhZGVyXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlU291cmNlQ29sb3JzO1xuYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VUYXJnZXRDb2xvcnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVNvdXJjZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlU291cmNlUG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVRhcmdldFBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zNjRMb3c7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VXaWR0aHM7XG5cbnVuaWZvcm0gZmxvYXQgbnVtU2VnbWVudHM7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IHdpZHRoU2NhbGU7XG51bmlmb3JtIGZsb2F0IHdpZHRoTWluUGl4ZWxzO1xudW5pZm9ybSBmbG9hdCB3aWR0aE1heFBpeGVscztcblxudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZhcnlpbmcgdmVjMiB1djtcbnZlYzIgZ2V0RXh0cnVzaW9uT2Zmc2V0KHZlYzIgbGluZV9jbGlwc3BhY2UsIGZsb2F0IG9mZnNldF9kaXJlY3Rpb24sIGZsb2F0IHdpZHRoKSB7XG4gIHZlYzIgZGlyX3NjcmVlbnNwYWNlID0gbm9ybWFsaXplKGxpbmVfY2xpcHNwYWNlICogcHJvamVjdF91Vmlld3BvcnRTaXplKTtcbiAgZGlyX3NjcmVlbnNwYWNlID0gdmVjMigtZGlyX3NjcmVlbnNwYWNlLnksIGRpcl9zY3JlZW5zcGFjZS54KTtcblxuICByZXR1cm4gZGlyX3NjcmVlbnNwYWNlICogb2Zmc2V0X2RpcmVjdGlvbiAqIHdpZHRoIC8gMi4wO1xufVxuXG5mbG9hdCBnZXRTZWdtZW50UmF0aW8oZmxvYXQgaW5kZXgpIHtcbiAgcmV0dXJuIHNtb290aHN0ZXAoMC4wLCAxLjAsIGluZGV4IC8gKG51bVNlZ21lbnRzIC0gMS4wKSk7XG59XG5mbG9hdCBnZXRBbmd1bGFyRGlzdCAodmVjMiBzb3VyY2UsIHZlYzIgdGFyZ2V0KSB7XG4gIHZlYzIgZGVsdGEgPSBzb3VyY2UgLSB0YXJnZXQ7XG4gIHZlYzIgc2luX2hhbGZfZGVsdGEgPSBzaW4oZGVsdGEgLyAyLjApO1xuICBmbG9hdCBhID1cbiAgICBzaW5faGFsZl9kZWx0YS55ICogc2luX2hhbGZfZGVsdGEueSArXG4gICAgY29zKHNvdXJjZS55KSAqIGNvcyh0YXJnZXQueSkgKlxuICAgIHNpbl9oYWxmX2RlbHRhLnggKiBzaW5faGFsZl9kZWx0YS54O1xuICByZXR1cm4gMi4wICogYXRhbihzcXJ0KGEpLCBzcXJ0KDEuMCAtIGEpKTtcbn1cblxudmVjMiBpbnRlcnBvbGF0ZSAodmVjMiBzb3VyY2UsIHZlYzIgdGFyZ2V0LCBmbG9hdCBhbmd1bGFyRGlzdCwgZmxvYXQgdCkge1xuICBpZihhYnMoYW5ndWxhckRpc3QgLSBQSSkgPCAwLjAwMSkge1xuICAgIHJldHVybiAoMS4wIC0gdCkgKiBzb3VyY2UgKyB0ICogdGFyZ2V0O1xuICB9XG5cbiAgZmxvYXQgYSA9IHNpbigoMS4wIC0gdCkgKiBhbmd1bGFyRGlzdCkgLyBzaW4oYW5ndWxhckRpc3QpO1xuICBmbG9hdCBiID0gc2luKHQgKiBhbmd1bGFyRGlzdCkgLyBzaW4oYW5ndWxhckRpc3QpO1xuICB2ZWMyIHNpbl9zb3VyY2UgPSBzaW4oc291cmNlKTtcbiAgdmVjMiBjb3Nfc291cmNlID0gY29zKHNvdXJjZSk7XG4gIHZlYzIgc2luX3RhcmdldCA9IHNpbih0YXJnZXQpO1xuICB2ZWMyIGNvc190YXJnZXQgPSBjb3ModGFyZ2V0KTtcblxuICBmbG9hdCB4ID0gYSAqIGNvc19zb3VyY2UueSAqIGNvc19zb3VyY2UueCArIGIgKiBjb3NfdGFyZ2V0LnkgKiBjb3NfdGFyZ2V0Lng7XG4gIGZsb2F0IHkgPSBhICogY29zX3NvdXJjZS55ICogc2luX3NvdXJjZS54ICsgYiAqIGNvc190YXJnZXQueSAqIHNpbl90YXJnZXQueDtcbiAgZmxvYXQgeiA9IGEgKiBzaW5fc291cmNlLnkgKyBiICogc2luX3RhcmdldC55O1xuICByZXR1cm4gdmVjMihhdGFuKHksIHgpLCBhdGFuKHosIHNxcnQoeCAqIHggKyB5ICogeSkpKTtcbn1cblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2VvbWV0cnkud29ybGRQb3NpdGlvbiA9IGluc3RhbmNlU291cmNlUG9zaXRpb25zO1xuICBnZW9tZXRyeS53b3JsZFBvc2l0aW9uQWx0ID0gaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM7XG5cbiAgZmxvYXQgc2VnbWVudEluZGV4ID0gcG9zaXRpb25zLng7XG4gIGZsb2F0IHNlZ21lbnRSYXRpbyA9IGdldFNlZ21lbnRSYXRpbyhzZWdtZW50SW5kZXgpO1xuICB1diA9IHZlYzIoc2VnbWVudFJhdGlvLCBwb3NpdGlvbnMueSk7XG4gIGdlb21ldHJ5LnV2ID0gdXY7XG4gIGdlb21ldHJ5LnBpY2tpbmdDb2xvciA9IGluc3RhbmNlUGlja2luZ0NvbG9ycztcbiAgZmxvYXQgaW5kZXhEaXIgPSBtaXgoLTEuMCwgMS4wLCBzdGVwKHNlZ21lbnRJbmRleCwgMC4wKSk7XG4gIGZsb2F0IG5leHRTZWdtZW50UmF0aW8gPSBnZXRTZWdtZW50UmF0aW8oc2VnbWVudEluZGV4ICsgaW5kZXhEaXIpO1xuICBcbiAgdmVjMiBzb3VyY2UgPSByYWRpYW5zKGluc3RhbmNlU291cmNlUG9zaXRpb25zLnh5KTtcbiAgdmVjMiB0YXJnZXQgPSByYWRpYW5zKGluc3RhbmNlVGFyZ2V0UG9zaXRpb25zLnh5KTtcbiAgXG4gIGZsb2F0IGFuZ3VsYXJEaXN0ID0gZ2V0QW5ndWxhckRpc3Qoc291cmNlLCB0YXJnZXQpO1xuXG4gIHZlYzMgY3VyclBvcyA9IHZlYzMoZGVncmVlcyhpbnRlcnBvbGF0ZShzb3VyY2UsIHRhcmdldCwgYW5ndWxhckRpc3QsIHNlZ21lbnRSYXRpbykpLCAwLjApO1xuICB2ZWMzIG5leHRQb3MgPSB2ZWMzKGRlZ3JlZXMoaW50ZXJwb2xhdGUoc291cmNlLCB0YXJnZXQsIGFuZ3VsYXJEaXN0LCBuZXh0U2VnbWVudFJhdGlvKSksIDAuMCk7XG5cbiAgdmVjMyBjdXJyUG9zNjRMb3cgPSBtaXgoaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdywgc2VnbWVudFJhdGlvKTtcbiAgdmVjMyBuZXh0UG9zNjRMb3cgPSBtaXgoaW5zdGFuY2VTb3VyY2VQb3NpdGlvbnM2NExvdywgaW5zdGFuY2VUYXJnZXRQb3NpdGlvbnM2NExvdywgbmV4dFNlZ21lbnRSYXRpbyk7XG5cbiAgdmVjNCBjdXJyID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UoY3VyclBvcywgY3VyclBvczY0TG93LCB2ZWMzKDAuMCksIGdlb21ldHJ5LnBvc2l0aW9uKTtcbiAgdmVjNCBuZXh0ID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UobmV4dFBvcywgbmV4dFBvczY0TG93LCB2ZWMzKDAuMCkpO1xuICBmbG9hdCB3aWR0aFBpeGVscyA9IGNsYW1wKFxuICAgIHByb2plY3Rfc2l6ZV90b19waXhlbChpbnN0YW5jZVdpZHRocyAqIHdpZHRoU2NhbGUpLFxuICAgIHdpZHRoTWluUGl4ZWxzLCB3aWR0aE1heFBpeGVsc1xuICApO1xuICB2ZWMzIG9mZnNldCA9IHZlYzMoXG4gICAgZ2V0RXh0cnVzaW9uT2Zmc2V0KChuZXh0Lnh5IC0gY3Vyci54eSkgKiBpbmRleERpciwgcG9zaXRpb25zLnksIHdpZHRoUGl4ZWxzKSxcbiAgICAwLjApO1xuICBERUNLR0xfRklMVEVSX1NJWkUob2Zmc2V0LCBnZW9tZXRyeSk7XG4gIGdsX1Bvc2l0aW9uID0gY3VyciArIHZlYzQocHJvamVjdF9waXhlbF9zaXplX3RvX2NsaXBzcGFjZShvZmZzZXQueHkpLCAwLjAsIDAuMCk7XG4gIERFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04oZ2xfUG9zaXRpb24sIGdlb21ldHJ5KTtcblxuICB2ZWM0IGNvbG9yID0gbWl4KGluc3RhbmNlU291cmNlQ29sb3JzLCBpbnN0YW5jZVRhcmdldENvbG9ycywgc2VnbWVudFJhdGlvKTtcbiAgdkNvbG9yID0gdmVjNChjb2xvci5yZ2IsIGNvbG9yLmEgKiBvcGFjaXR5KTtcbiAgREVDS0dMX0ZJTFRFUl9DT0xPUih2Q29sb3IsIGdlb21ldHJ5KTtcbn1cbiIsbW9kdWxlczpbYi5hLF8uYV19KX19XSksdH0oTy5hKTt4LmxheWVyTmFtZT0iR3JlYXRDaXJjbGVMYXllciI7dmFyIHc9bigxNzEpLFM9bigxOTMpLGs9bigxOCksUD1uLm4oayksaj1uKDExOCksVD1uLm4oaiksRT0xODAvTWF0aC5QSTtmdW5jdGlvbiBBKGUsdCxuKXt2YXIgcj0xPDx0O3JldHVyblsoZVswXStuWzBdKS9yLChlWzFdK25bMV0pL3JdfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIGU+PS41PzEvMyooNCplKmUtMSk6MS8zKigxLTQqKDEtZSkqKDEtZSkpfWZ1bmN0aW9uIEMoZSl7cmV0dXJuW00oZVswXSksTShlWzFdKV19ZnVuY3Rpb24gTChlLHQpe3ZhciBuPVAoKSh0LDIpLHI9blswXSxpPW5bMV07c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm5bMSxyLGldO2Nhc2UgMTpyZXR1cm5bLXIsMSxpXTtjYXNlIDI6cmV0dXJuWy1yLC1pLDFdO2Nhc2UgMzpyZXR1cm5bLTEsLWksLXJdO2Nhc2UgNDpyZXR1cm5baSwtMSwtcl07Y2FzZSA1OnJldHVybltpLHIsLTFdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGZhY2UiKX19ZnVuY3Rpb24gSShlLHQsbixyKXtpZigwPT09cil7MT09PW4mJih0WzBdPWUtMS10WzBdLHRbMV09ZS0xLXRbMV0pO3ZhciBpPXRbMF07dFswXT10WzFdLHRbMV09aX19ZnVuY3Rpb24gUihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKGUuaW5kZXhPZigiLyIpPjApcmV0dXJuIGU7ZT1mdW5jdGlvbihlKXt2YXIgdD1lLnBhZEVuZCgxNiwiMCIpO3JldHVybiBULmEuZnJvbVN0cmluZyh0LDE2KX0oZSl9cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1ULmEuZnJvbVN0cmluZyhlLCEwLDEwKS50b1N0cmluZygyKTt0Lmxlbmd0aDw2NDspdD0iMCIrdDtmb3IodmFyIG49dC5sYXN0SW5kZXhPZigiMSIpLHI9dC5zdWJzdHJpbmcoMCwzKSxpPXQuc3Vic3RyaW5nKDMsbiksYT1pLmxlbmd0aC8yLG89VC5hLmZyb21TdHJpbmcociwhMCwyKS50b1N0cmluZygxMCkscz1ULmEuZnJvbVN0cmluZyhpLCEwLDIpLnRvU3RyaW5nKDQpO3MubGVuZ3RoPGE7KXM9IjAiK3M7cmV0dXJuIiIuY29uY2F0KG8sIi8iKS5jb25jYXQocyl9KGUudG9TdHJpbmcoKSl9ZnVuY3Rpb24gRChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpLGEsbyxzPWUuZmFjZSx1PWUuaWosYz1lLmxldmVsLGw9W1swLDBdLFswLDFdLFsxLDFdLFsxLDBdLFswLDBdXSxoPU1hdGgubWF4KDEsTWF0aC5jZWlsKDEwMCpNYXRoLnBvdygyLC1jKSkpLGY9bmV3IEZsb2F0NjRBcnJheSg0KmgqMisyKSxkPTAsdj0wO3Y8NDt2KyspZm9yKHZhciBwPWxbdl0uc2xpY2UoMCksZz1sW3YrMV0seT0oZ1swXS1wWzBdKS9oLG09KGdbMV0tcFsxXSkvaCxiPTA7YjxoO2IrKyl7cFswXSs9eSxwWzFdKz1tO3ZhciBfPUwocyxDKEEodSxjLHApKSksTz0odD1fLG49dm9pZCAwLHI9dm9pZCAwLGk9dm9pZCAwLGE9dm9pZCAwLG89dm9pZCAwLG49UCgpKHQsMykscj1uWzBdLGk9blsxXSxhPW5bMl0sbz1NYXRoLmF0YW4yKGEsTWF0aC5zcXJ0KHIqcitpKmkpKSxbTWF0aC5hdGFuMihpLHIpKkUsbypFXSk7ZltkKytdPU9bMF0sZltkKytdPU9bMV19cmV0dXJuIGZbZCsrXT1mWzBdLGZbZCsrXT1mWzFdLGZ9KGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUuc3BsaXQoIi8iKSxyPXBhcnNlSW50KG5bMF0sMTApLGk9blsxXSxhPWkubGVuZ3RoLG89WzAsMF0scz1hLTE7cz49MDtzLS0pe3Q9YS1zO3ZhciB1PWlbc10sYz0wLGw9MDsiMSI9PT11P2w9MToiMiI9PT11PyhjPTEsbD0xKToiMyI9PT11JiYoYz0xKTt2YXIgaD1NYXRoLnBvdygyLHQtMSk7SShoLG8sYyxsKSxvWzBdKz1oKmMsb1sxXSs9aCpsfWlmKHIlMj09MSl7dmFyIGY9b1swXTtvWzBdPW9bMV0sb1sxXT1mfXJldHVybntmYWNlOnIsaWo6byxsZXZlbDp0fX0oUihlKSkpfXZhciBGPU9iamVjdC5hc3NpZ24oe2dldFMyVG9rZW46e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS50b2tlbn19fSxTLmEuZGVmYXVsdFByb3BzKSxOPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdSgpKHRoaXMsdCksZigpKHRoaXMsdigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKSh0LGUpLGwoKSh0LFt7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuZGF0YSxuPWUuZ2V0UzJUb2tlbixyPXRoaXMucHJvcHMsaT1yLmVsZXZhdGlvblNjYWxlLGE9ci5leHRydWRlZCxvPXIud2lyZWZyYW1lLHM9ci5maWxsZWQsdT1yLnN0cm9rZWQsYz1yLmxpbmVXaWR0aFVuaXRzLGw9ci5saW5lV2lkdGhTY2FsZSxoPXIubGluZVdpZHRoTWluUGl4ZWxzLGY9ci5saW5lV2lkdGhNYXhQaXhlbHMsZD1yLmxpbmVKb2ludFJvdW5kZWQsdj1yLmxpbmVNaXRlckxpbWl0LHA9ci5saW5lRGFzaEp1c3RpZmllZCxnPXIuZ2V0RWxldmF0aW9uLHk9ci5nZXRGaWxsQ29sb3IsbT1yLmdldExpbmVDb2xvcixiPXIuZ2V0TGluZVdpZHRoLF89ci5nZXRMaW5lRGFzaEFycmF5LE89dGhpcy5wcm9wcyx4PU8udXBkYXRlVHJpZ2dlcnMsdz1PLm1hdGVyaWFsO3JldHVybiBuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJjZWxsIixTLmEpKSh7ZmlsbGVkOnMsd2lyZWZyYW1lOm8sZXh0cnVkZWQ6YSxlbGV2YXRpb25TY2FsZTppLHN0cm9rZWQ6dSxsaW5lV2lkdGhVbml0czpjLGxpbmVXaWR0aFNjYWxlOmwsbGluZVdpZHRoTWluUGl4ZWxzOmgsbGluZVdpZHRoTWF4UGl4ZWxzOmYsbGluZUpvaW50Um91bmRlZDpkLGxpbmVNaXRlckxpbWl0OnYsbGluZURhc2hKdXN0aWZpZWQ6cCxtYXRlcmlhbDp3LGdldEVsZXZhdGlvbjpnLGdldEZpbGxDb2xvcjp5LGdldExpbmVDb2xvcjptLGdldExpbmVXaWR0aDpiLGdldExpbmVEYXNoQXJyYXk6X30sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoiY2VsbCIsdXBkYXRlVHJpZ2dlcnM6e2dldEVsZXZhdGlvbjp4LmdldEVsZXZhdGlvbixnZXRGaWxsQ29sb3I6eC5nZXRGaWxsQ29sb3IsZ2V0TGluZUNvbG9yOnguZ2V0TGluZUNvbG9yLGdldExpbmVXaWR0aDp4LmdldExpbmVXaWR0aCxnZXRMaW5lRGFzaEFycmF5OnguZ2V0TGluZURhc2hBcnJheX19KSx7ZGF0YTp0LF9ub3JtYWxpemU6ITEscG9zaXRpb25Gb3JtYXQ6IlhZIixnZXRQb2x5Z29uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEQobihlLHQpKX19KX19XSksdH0ody5hKTtOLmxheWVyTmFtZT0iUzJMYXllciIsTi5kZWZhdWx0UHJvcHM9Rjt2YXIgej1uKDY0KSxCPW4oMjA0KSxVPW4oMjMpLFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXQueCxyPXQueSxpPXQueixhPXQub25UaWxlTG9hZCxvPXQub25UaWxlRXJyb3I7dSgpKHRoaXMsZSksdGhpcy54PW4sdGhpcy55PXIsdGhpcy56PWksdGhpcy5pc1Zpc2libGU9ITEsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmNoaWxkcmVuPVtdLHRoaXMuY29udGVudD1udWxsLHRoaXMuX2lzTG9hZGVkPSExLHRoaXMub25UaWxlTG9hZD1hLHRoaXMub25UaWxlRXJyb3I9b31yZXR1cm4gbCgpKGUsW3trZXk6ImxvYWREYXRhIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy54LHI9dGhpcy55LGk9dGhpcy56LGE9dGhpcy5iYm94O2UmJih0aGlzLl9sb2FkZXI9UHJvbWlzZS5yZXNvbHZlKGUoe3g6bix5OnIsejppLGJib3g6YX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdC5jb250ZW50PWUsdC5faXNMb2FkZWQ9ITAsdC5vblRpbGVMb2FkKHQpLGV9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuX2lzTG9hZGVkPSEwLHQub25UaWxlRXJyb3IoZSl9KSkpfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9hZGVkP3RoaXMuY29udGVudDp0aGlzLl9sb2FkZXJ9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9hZGVkfX0se2tleToiYnl0ZUxlbmd0aCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZW50P3RoaXMuY29udGVudC5ieXRlTGVuZ3RoOjA7cmV0dXJuIE51bWJlci5pc0Zpbml0ZShlKXx8VS5hLmVycm9yKCJieXRlTGVuZ3RoIG5vdCBkZWZpbmVkIGluIHRpbGUgZGF0YSIpKCksZX19XSksZX0oKSxHPW4oMzMpLFc9e3R5cGU6InVybCIsdmFsdWU6IiIsdmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9KSl9LGVxdWFsczpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKCFBcnJheS5pc0FycmF5KGUpfHwhQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4hMTt2YXIgbj1lLmxlbmd0aDtpZihuIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxuO3IrKylpZihlW3JdIT09dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH19O2Z1bmN0aW9uIEgoZSx0KXtpZighZXx8IWUubGVuZ3RoKXJldHVybiBudWxsO0FycmF5LmlzQXJyYXkoZSkmJihlPWVbTWF0aC5hYnModC54K3QueSklZS5sZW5ndGhdKTtyZXR1cm4gZS5yZXBsYWNlKC9ceyAqKFtcd18tXSspICpcfS9nLChmdW5jdGlvbihlLG4pe3JldHVybiB0W25dfSkpfWZ1bmN0aW9uIHEoZSl7dmFyIHQ9W2UudW5wcm9qZWN0KFswLDBdKSxlLnVucHJvamVjdChbZS53aWR0aCwwXSksZS51bnByb2plY3QoWzAsZS5oZWlnaHRdKSxlLnVucHJvamVjdChbZS53aWR0aCxlLmhlaWdodF0pXTtyZXR1cm5bTWF0aC5taW4odFswXVswXSx0WzFdWzBdLHRbMl1bMF0sdFszXVswXSksTWF0aC5taW4odFswXVsxXSx0WzFdWzFdLHRbMl1bMV0sdFszXVsxXSksTWF0aC5tYXgodFswXVswXSx0WzFdWzBdLHRbMl1bMF0sdFszXVswXSksTWF0aC5tYXgodFswXVsxXSx0WzFdWzFdLHRbMl1bMV0sdFszXVsxXSldfWZ1bmN0aW9uIFgoZSx0KXt2YXIgbj1PYmplY3QoRy5qKShlKSxyPVAoKShuLDIpLGk9clswXSxhPXJbMV07cmV0dXJuW2kqPXQvNTEyLGE9KDEtYS81MTIpKnRdfWZ1bmN0aW9uIFooZSx0KXt2YXIgbj1QKCkoZSwyKTtyZXR1cm5bblswXSp0LzUxMixuWzFdKnQvNTEyXX1mdW5jdGlvbiBZKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1MTI7cmV0dXJuIDUxMipNYXRoLnBvdygyLGUpL3R9ZnVuY3Rpb24gSyhlLHQsbil7dmFyIHI9WShuKSxpPWUvciozNjAtMTgwLGE9TWF0aC5QSS0yKk1hdGguUEkqdC9yO3JldHVybltpLDE4MC9NYXRoLlBJKk1hdGguYXRhbiguNSooTWF0aC5leHAoYSktTWF0aC5leHAoLWEpKSldfWZ1bmN0aW9uIFEoZSx0LG4scil7dmFyIGk9WShuLHIpO3JldHVybltlL2kqNTEyLHQvaSo1MTJdfWZ1bmN0aW9uIEooZSx0LG4scil7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjUxMjtpZihlLmlzR2Vvc3BhdGlhbCl7dmFyIGE9Syh0LG4sciksbz1QKCkoYSwyKSxzPW9bMF0sdT1vWzFdLGM9Syh0KzEsbisxLHIpLGw9UCgpKGMsMiksaD1sWzBdLGY9bFsxXTtyZXR1cm57d2VzdDpzLG5vcnRoOnUsZWFzdDpoLHNvdXRoOmZ9fXZhciBkPVEodCxuLHIsaSksdj1QKCkoZCwyKSxwPXZbMF0sZz12WzFdLHk9USh0KzEsbisxLHIsaSksbT1QKCkoeSwyKSxiPW1bMF0sXz1tWzFdO3JldHVybntsZWZ0OnAsdG9wOmcscmlnaHQ6Yixib3R0b206X319ZnVuY3Rpb24gJChlLHQsbil7Zm9yKHZhciByPXEoZSksaT1ZKHQsbiksYT1aKFtyWzBdLHJbMV1dLGkpLG89UCgpKGEsMikscz1vWzBdLHU9b1sxXSxjPVooW3JbMl0sclszXV0saSksbD1QKCkoYywyKSxoPWxbMF0sZj1sWzFdLGQ9W10sdj1NYXRoLmZsb29yKHMpO3Y8aDt2KyspZm9yKHZhciBwPU1hdGguZmxvb3IodSk7cDxmO3ArKylkLnB1c2goe3g6dix5OnAsejp0fSk7cmV0dXJuIGR9ZnVuY3Rpb24gZWUoZSx0KXt2YXIgbj1xKGUpLHI9WSh0KSxpPVgoW25bMF0sblszXV0sciksYT1QKCkoaSwyKSxvPWFbMF0scz1hWzFdLHU9WChbblsyXSxuWzFdXSxyKSxjPVAoKSh1LDIpLGw9Y1swXSxoPWNbMV0sZj1bXTtvPU1hdGguZmxvb3IobyksbD1NYXRoLm1pbihvK3IsbCkscz1NYXRoLm1heCgwLE1hdGguZmxvb3IocykpLGg9TWF0aC5taW4ocixoKTtmb3IodmFyIGQ9bztkPGw7ZCsrKWZvcih2YXIgdj1zO3Y8aDt2Kyspe3ZhciBwPWQtTWF0aC5mbG9vcihkL3IpKnI7Zi5wdXNoKHt4OnAseTp2LHo6dH0pfXJldHVybiBmfXZhciB0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpczt1KCkodGhpcyxlKSx0aGlzLm9wdHM9dCx0aGlzLl9nZXRUaWxlRGF0YT10LmdldFRpbGVEYXRhLHRoaXMub25UaWxlRXJyb3I9dC5vblRpbGVFcnJvcix0aGlzLm9uVGlsZUxvYWQ9ZnVuY3Rpb24oZSl7dC5vblRpbGVMb2FkKGUpLG4ub3B0cy5tYXhDYWNoZUJ5dGVTaXplJiYobi5fY2FjaGVCeXRlU2l6ZSs9ZS5ieXRlTGVuZ3RoLG4uX3Jlc2l6ZUNhY2hlKCkpfSx0aGlzLl9jYWNoZT1uZXcgTWFwLHRoaXMuX3RpbGVzPVtdLHRoaXMuX2RpcnR5PSExLHRoaXMuX2NhY2hlQnl0ZVNpemU9MCx0aGlzLl92aWV3cG9ydD1udWxsLHRoaXMuX3NlbGVjdGVkVGlsZXM9bnVsbCx0aGlzLl9mcmFtZU51bWJlcj0wLHRoaXMuc2V0T3B0aW9ucyh0KX1yZXR1cm4gbCgpKGUsW3trZXk6InNldE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKGUpe09iamVjdC5hc3NpZ24odGhpcy5vcHRzLGUpLE51bWJlci5pc0Zpbml0ZShlLm1heFpvb20pJiYodGhpcy5fbWF4Wm9vbT1NYXRoLmZsb29yKGUubWF4Wm9vbSkpLE51bWJlci5pc0Zpbml0ZShlLm1pblpvb20pJiYodGhpcy5fbWluWm9vbT1NYXRoLmNlaWwoZS5taW5ab29tKSl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZSE9PXRoaXMuX3ZpZXdwb3J0KXt0aGlzLl92aWV3cG9ydD1lO3ZhciBuPXRoaXMuZ2V0VGlsZUluZGljZXMoe3ZpZXdwb3J0OmUsbWF4Wm9vbTp0aGlzLl9tYXhab29tLG1pblpvb206dGhpcy5fbWluWm9vbX0pO3RoaXMuX3NlbGVjdGVkVGlsZXM9bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9nZXRUaWxlKGUsITApfSkpLHRoaXMuX2RpcnR5JiZ0aGlzLl9yZWJ1aWxkVHJlZSgpfXZhciByPXRoaXMudXBkYXRlVGlsZVN0YXRlcygpO3JldHVybiB0aGlzLl9kaXJ0eSYmdGhpcy5fcmVzaXplQ2FjaGUoKSxyJiZ0aGlzLl9mcmFtZU51bWJlcisrLHRoaXMuX2ZyYW1lTnVtYmVyfX0se2tleToiZ2V0VGlsZUluZGljZXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjUxMixpPU1hdGguY2VpbChlLnpvb20pO3JldHVybiBOdW1iZXIuaXNGaW5pdGUobikmJmk8bj9bXTooTnVtYmVyLmlzRmluaXRlKHQpJiZpPnQmJihpPXQpLGUuaXNHZW9zcGF0aWFsP2VlKGUsaSk6JChlLGkscikpfShlLnZpZXdwb3J0LGUubWF4Wm9vbSxlLm1pblpvb20sdGhpcy5vcHRzLnRpbGVTaXplKX19LHtrZXk6ImdldFRpbGVNZXRhZGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS54LG49ZS55LHI9ZS56O3JldHVybntiYm94OkoodGhpcy5fdmlld3BvcnQsdCxuLHIsdGhpcy5vcHRzLnRpbGVTaXplKX19fSx7a2V5OiJnZXRQYXJlbnRJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUueD1NYXRoLmZsb29yKGUueC8yKSxlLnk9TWF0aC5mbG9vcihlLnkvMiksZS56LT0xLGV9fSx7a2V5OiJ1cGRhdGVUaWxlU3RhdGVzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVRpbGVTdGF0ZXModGhpcy5zZWxlY3RlZFRpbGVzKTt2YXIgZT0hMSx0PSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuX2NhY2hlLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9YS5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBvPWkudmFsdWUscz1Cb29sZWFuKDEmby5zdGF0ZSk7by5pc1Zpc2libGUhPT1zJiYoZT0hMCxvLmlzVmlzaWJsZT1zKX19Y2F0Y2goZSl7bj0hMCxyPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiBlfX0se2tleToiX3JlYnVpbGRUcmVlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NhY2hlLHQ9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9ZS52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgbz1pLnZhbHVlO28ucGFyZW50PW51bGwsby5jaGlsZHJlbi5sZW5ndGg9MH19Y2F0Y2goZSl7bj0hMCxyPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXZhciBzPSEwLHU9ITEsYz12b2lkIDA7dHJ5e2Zvcih2YXIgbCxoPWUudmFsdWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0obD1oLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGY9bC52YWx1ZSxkPXRoaXMuX2dldE5lYXJlc3RBbmNlc3RvcihmLngsZi55LGYueik7Zi5wYXJlbnQ9ZCxkJiZkLmNoaWxkcmVuLnB1c2goZil9fWNhdGNoKGUpe3U9ITAsYz1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX19fSx7a2V5OiJfdXBkYXRlVGlsZVN0YXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY2FjaGUsbj10aGlzLm9wdHMucmVmaW5lbWVudFN0cmF0ZWd5fHwiYmVzdC1hdmFpbGFibGUiLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9dC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXtvLnZhbHVlLnN0YXRlPTB9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX12YXIgdT0hMCxjPSExLGw9dm9pZCAwO3RyeXtmb3IodmFyIGgsZj1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHU9KGg9Zi5uZXh0KCkpLmRvbmUpO3U9ITApe2gudmFsdWUuc3RhdGU9NX19Y2F0Y2goZSl7Yz0hMCxsPWV9ZmluYWxseXt0cnl7dXx8bnVsbD09Zi5yZXR1cm58fGYucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGx9fWlmKCJuZXZlciIhPT1uKXt2YXIgZD0hMCx2PSExLHA9dm9pZCAwO3RyeXtmb3IodmFyIGcseT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGQ9KGc9eS5uZXh0KCkpLmRvbmUpO2Q9ITApe3JlKGcudmFsdWUsbil9fWNhdGNoKGUpe3Y9ITAscD1lfWZpbmFsbHl7dHJ5e2R8fG51bGw9PXkucmV0dXJufHx5LnJldHVybigpfWZpbmFsbHl7aWYodil0aHJvdyBwfX12YXIgbT0hMCxiPSExLF89dm9pZCAwO3RyeXtmb3IodmFyIE8seD1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG09KE89eC5uZXh0KCkpLmRvbmUpO209ITApe3ZhciB3PU8udmFsdWU7bmUodykmJmllKHcpfX1jYXRjaChlKXtiPSEwLF89ZX1maW5hbGx5e3RyeXttfHxudWxsPT14LnJldHVybnx8eC5yZXR1cm4oKX1maW5hbGx5e2lmKGIpdGhyb3cgX319fX19LHtrZXk6Il9yZXNpemVDYWNoZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jYWNoZSx0PXRoaXMub3B0cyxuPXQubWF4Q2FjaGVTaXplfHwodC5tYXhDYWNoZUJ5dGVTaXplPzEvMDo1KnRoaXMuc2VsZWN0ZWRUaWxlcy5sZW5ndGgpLHI9dC5tYXhDYWNoZUJ5dGVTaXplfHwxLzA7aWYoZS5zaXplPm58fHRoaXMuX2NhY2hlQnl0ZVNpemU+cil7dmFyIGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1QKCkocy52YWx1ZSwyKSxsPWNbMF0saD1jWzFdO2lmKGguaXNWaXNpYmxlfHwodGhpcy5fY2FjaGVCeXRlU2l6ZS09dC5tYXhDYWNoZUJ5dGVTaXplP2guYnl0ZUxlbmd0aDowLGUuZGVsZXRlKGwpKSxlLnNpemU8PW4mJnRoaXMuX2NhY2hlQnl0ZVNpemU8PXIpYnJlYWt9fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX10aGlzLl9yZWJ1aWxkVHJlZSgpLHRoaXMuX2RpcnR5PSEwfXRoaXMuX2RpcnR5JiYodGhpcy5fdGlsZXM9QXJyYXkuZnJvbSh0aGlzLl9jYWNoZS52YWx1ZXMoKSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS56LXQuen0pKSx0aGlzLl9kaXJ0eT0hMSl9fSx7a2V5OiJfZ2V0VGlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLngscj1lLnksaT1lLnosYT0iIi5jb25jYXQobiwiLCIpLmNvbmNhdChyLCIsIikuY29uY2F0KGkpLG89dGhpcy5fY2FjaGUuZ2V0KGEpO3JldHVybiFvJiZ0JiYobz1uZXcgVih7eDpuLHk6cix6Omksb25UaWxlTG9hZDp0aGlzLm9uVGlsZUxvYWQsb25UaWxlRXJyb3I6dGhpcy5vblRpbGVFcnJvcn0pLE9iamVjdC5hc3NpZ24obyx0aGlzLmdldFRpbGVNZXRhZGF0YShvKSksby5sb2FkRGF0YSh0aGlzLl9nZXRUaWxlRGF0YSksdGhpcy5fY2FjaGUuc2V0KGEsbyksdGhpcy5fZGlydHk9ITApLG99fSx7a2V5OiJfZ2V0TmVhcmVzdEFuY2VzdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPXRoaXMuX21pblpvb20saT12b2lkIDA9PT1yPzA6cixhPXt4OmUseTp0LHo6bn07YS56Pmk7KXthPXRoaXMuZ2V0UGFyZW50SW5kZXgoYSk7dmFyIG89dGhpcy5fZ2V0VGlsZShhKTtpZihvKXJldHVybiBvfXJldHVybiBudWxsfX0se2tleToidGlsZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aWxlc319LHtrZXk6InNlbGVjdGVkVGlsZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZFRpbGVzfX0se2tleToiaXNMb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZFRpbGVzLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0xvYWRlZH0pKX19XSksZX0oKTtmdW5jdGlvbiBuZShlKXtmb3IodmFyIHQ9ZTt0Oyl7aWYoITEmdC5zdGF0ZSlyZXR1cm4hMDtpZih0LmlzTG9hZGVkKXJldHVybiExO3Q9dC5wYXJlbnR9cmV0dXJuITB9ZnVuY3Rpb24gcmUoZSx0KXtmb3IodmFyIG4scj0zO249ZS5wYXJlbnQ7KXtpZihlLmlzTG9hZGVkJiYocj00LCJiZXN0LWF2YWlsYWJsZSI9PT10KSlyZXR1cm47bi5zdGF0ZT1NYXRoLm1heChuLnN0YXRlLHIpLGU9bn19ZnVuY3Rpb24gaWUoZSl7dmFyIHQ9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9ZS5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgbz1pLnZhbHVlO28uc3RhdGU9TWF0aC5tYXgoby5zdGF0ZSwzKSxvLmlzTG9hZGVkfHxpZShvKX19Y2F0Y2goZSl7bj0hMCxyPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX12YXIgYWU9e2RhdGE6W10sZGF0YUNvbXBhcmF0b3I6Vy5lcXVhbHMscmVuZGVyU3ViTGF5ZXJzOnt0eXBlOiJmdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBCLmEoZSl9LGNvbXBhcmU6ITF9LGdldFRpbGVEYXRhOnt0eXBlOiJmdW5jdGlvbiIsb3B0aW9uYWw6ITAsdmFsdWU6bnVsbCxjb21wYXJlOiExfSxvblZpZXdwb3J0TG9hZDp7dHlwZToiZnVuY3Rpb24iLG9wdGlvbmFsOiEwLHZhbHVlOm51bGwsY29tcGFyZTohMX0sb25UaWxlTG9hZDp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe30sY29tcGFyZTohMX0sb25UaWxlRXJyb3I6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS5lcnJvcihlKX0sY29tcGFyZTohMX0sdGlsZVNpemU6NTEyLG1heFpvb206bnVsbCxtaW5ab29tOjAsbWF4Q2FjaGVTaXplOm51bGwsbWF4Q2FjaGVCeXRlU2l6ZTpudWxsLHJlZmluZW1lbnRTdHJhdGVneToiYmVzdC1hdmFpbGFibGUifSxvZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9e3RpbGVzOltdLGlzTG9hZGVkOiExfX19LHtrZXk6InNob3VsZFVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFuZ2VGbGFncy5zb21ldGhpbmdDaGFuZ2VkfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcHMsbj0oZS5vbGRQcm9wcyxlLmNvbnRleHQsZS5jaGFuZ2VGbGFncykscj10aGlzLnN0YXRlLnRpbGVzZXQsaT0hcnx8bi5kYXRhQ2hhbmdlZHx8bi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQmJihuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5hbGx8fG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmdldFRpbGVEYXRhKTtpZihpKXt2YXIgYT10Lm1heFpvb20sbz10Lm1pblpvb20scz10LnRpbGVTaXplLHU9dC5tYXhDYWNoZVNpemUsYz10Lm1heENhY2hlQnl0ZVNpemUsbD10LnJlZmluZW1lbnRTdHJhdGVneTtyPW5ldyB0ZSh7Z2V0VGlsZURhdGE6dGhpcy5nZXRUaWxlRGF0YS5iaW5kKHRoaXMpLG1heENhY2hlU2l6ZTp1LG1heENhY2hlQnl0ZVNpemU6YyxtYXhab29tOmEsbWluWm9vbTpvLHRpbGVTaXplOnMscmVmaW5lbWVudFN0cmF0ZWd5Omwsb25UaWxlTG9hZDp0aGlzLl9vblRpbGVMb2FkLmJpbmQodGhpcyksb25UaWxlRXJyb3I6dGhpcy5fb25UaWxlRXJyb3IuYmluZCh0aGlzKX0pLHRoaXMuc2V0U3RhdGUoe3RpbGVzZXQ6cn0pfWVsc2Ugbi5wcm9wc0NoYW5nZWQmJihyLnNldE9wdGlvbnModCksdGhpcy5zdGF0ZS50aWxlc2V0LnRpbGVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubGF5ZXJzPW51bGx9KSkpOyhpfHxuLnZpZXdwb3J0Q2hhbmdlZCkmJnRoaXMuX3VwZGF0ZVRpbGVzZXQoKX19LHtrZXk6Il91cGRhdGVUaWxlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUudGlsZXNldCx0PXRoaXMucHJvcHMub25WaWV3cG9ydExvYWQsbj1lLnVwZGF0ZSh0aGlzLmNvbnRleHQudmlld3BvcnQpLHI9ZS5pc0xvYWRlZCxpPXRoaXMuc3RhdGUuaXNMb2FkZWQhPT1yLGE9dGhpcy5zdGF0ZS5mcmFtZU51bWJlciE9PW47ciYmdCYmKGl8fGEpJiZ0KGUuc2VsZWN0ZWRUaWxlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRhdGF9KSkpLGEmJnRoaXMuc2V0U3RhdGUoe2ZyYW1lTnVtYmVyOm59KSx0aGlzLnN0YXRlLmlzTG9hZGVkPXJ9fSx7a2V5OiJfb25UaWxlTG9hZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRDdXJyZW50TGF5ZXIoKTt0LnByb3BzLm9uVGlsZUxvYWQoZSksdC5fdXBkYXRlVGlsZXNldCgpfX0se2tleToiX29uVGlsZUVycm9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEN1cnJlbnRMYXllcigpO3QucHJvcHMub25UaWxlRXJyb3IoZSksdC5fdXBkYXRlVGlsZXNldCgpfX0se2tleToiZ2V0VGlsZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHJvcHMsbj10LmdldFRpbGVEYXRhLHI9dC5mZXRjaCxpPXQuZGF0YTtyZXR1cm4gZS51cmw9SChpLGUpLG4/bihlKTplLnVybD9yKGUudXJsLHtsYXllcjp0aGlzfSk6bnVsbH19LHtrZXk6InJlbmRlclN1YkxheWVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHJvcHMucmVuZGVyU3ViTGF5ZXJzKGUpfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5mbyxuPWUuc291cmNlTGF5ZXI7cmV0dXJuIHQuc291cmNlTGF5ZXI9bix0LnRpbGU9bi5wcm9wcy50aWxlLHR9fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMudmlzaWJsZTtyZXR1cm4gdGhpcy5zdGF0ZS50aWxlc2V0LnRpbGVzLm1hcCgoZnVuY3Rpb24obil7dmFyIHI9dCYmbi5pc1Zpc2libGU7aWYobi5sYXllcnMpbi5sYXllcnNbMF0mJm4ubGF5ZXJzWzBdLnByb3BzLnZpc2libGUhPT1yJiYobi5sYXllcnM9bi5sYXllcnMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jbG9uZSh7dmlzaWJsZTpyfSl9KSkpO2Vsc2V7dmFyIGk9ZS5yZW5kZXJTdWJMYXllcnMoT2JqZWN0LmFzc2lnbih7fSxlLnByb3BzLHtpZDoiIi5jb25jYXQoZS5pZCwiLSIpLmNvbmNhdChuLngsIi0iKS5jb25jYXQobi55LCItIikuY29uY2F0KG4ueiksZGF0YTpuLmRhdGEsdmlzaWJsZTpyLF9vZmZzZXQ6MCx0aWxlOm59KSk7bi5sYXllcnM9T2JqZWN0KHouYikoaSxCb29sZWFuKX1yZXR1cm4gbi5sYXllcnN9KSl9fSx7a2V5OiJpc0xvYWRlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUudGlsZXNldC5zZWxlY3RlZFRpbGVzLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZS5sYXllcnMmJmUubGF5ZXJzLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0xvYWRlZH0pKX0pKX19XSksdH0ody5hKTtvZS5sYXllck5hbWU9IlRpbGVMYXllciIsb2UuZGVmYXVsdFByb3BzPWFlO3ZhciBzZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1nKCkodigpKHQucHJvdG90eXBlKSwiZ2V0U2hhZGVycyIsdGhpcykuY2FsbCh0aGlzKTtyZXR1cm4gZS5pbmplY3Q9eyJ2czojZGVjbCI6InVuaWZvcm0gZmxvYXQgdHJhaWxMZW5ndGg7XG5hdHRyaWJ1dGUgZmxvYXQgaW5zdGFuY2VUaW1lc3RhbXBzO1xuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlTmV4dFRpbWVzdGFtcHM7XG52YXJ5aW5nIGZsb2F0IHZUaW1lO1xuIiwidnM6I21haW4tZW5kIjoidlRpbWUgPSBpbnN0YW5jZVRpbWVzdGFtcHMgKyAoaW5zdGFuY2VOZXh0VGltZXN0YW1wcyAtIGluc3RhbmNlVGltZXN0YW1wcykgKiB2UGF0aFBvc2l0aW9uLnkgLyB2UGF0aExlbmd0aDtcbiIsImZzOiNkZWNsIjoidW5pZm9ybSBmbG9hdCB0cmFpbExlbmd0aDtcbnVuaWZvcm0gZmxvYXQgY3VycmVudFRpbWU7XG52YXJ5aW5nIGZsb2F0IHZUaW1lO1xuIiwiZnM6I21haW4tc3RhcnQiOiJpZih2VGltZSA+IGN1cnJlbnRUaW1lIHx8IHZUaW1lIDwgY3VycmVudFRpbWUgLSB0cmFpbExlbmd0aCkge1xuICBkaXNjYXJkO1xufVxuIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6ImNvbG9yLmEgKj0gMS4wIC0gKGN1cnJlbnRUaW1lIC0gdlRpbWUpIC8gdHJhaWxMZW5ndGg7In0sZX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZygpKHYoKSh0LnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7dGltZXN0YW1wczp7c2l6ZToxLGFjY2Vzc29yOiJnZXRUaW1lc3RhbXBzIixzaGFkZXJBdHRyaWJ1dGVzOntpbnN0YW5jZVRpbWVzdGFtcHM6e3ZlcnRleE9mZnNldDowfSxpbnN0YW5jZU5leHRUaW1lc3RhbXBzOnt2ZXJ0ZXhPZmZzZXQ6MX19fX0pfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5wcm9wcyxyPW4udHJhaWxMZW5ndGgsaT1uLmN1cnJlbnRUaW1lO2UudW5pZm9ybXM9T2JqZWN0LmFzc2lnbih7fSxlLnVuaWZvcm1zLHt0cmFpbExlbmd0aDpyLGN1cnJlbnRUaW1lOml9KSxnKCkodigpKHQucHJvdG90eXBlKSwiZHJhdyIsdGhpcykuY2FsbCh0aGlzLGUpfX1dKSx0fShuKDEwMCkuYSk7c2UubGF5ZXJOYW1lPSJUcmlwc0xheWVyIixzZS5kZWZhdWx0UHJvcHM9e3RyYWlsTGVuZ3RoOnt0eXBlOiJudW1iZXIiLHZhbHVlOjEyMCxtaW46MH0sY3VycmVudFRpbWU6e3R5cGU6Im51bWJlciIsdmFsdWU6MCxtaW46MH0sZ2V0VGltZXN0YW1wczp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOm51bGx9fTt2YXIgdWU9big1OCksY2U9big1NCksbGU9T2JqZWN0LmFzc2lnbih7Z2V0SGV4YWdvbnM6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5oZXhhZ29uc319fSxTLmEuZGVmYXVsdFByb3BzKSxoZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcHMsbj0oZS5vbGRQcm9wcyxlLmNoYW5nZUZsYWdzKTtpZihuLmRhdGFDaGFuZ2VkfHxuLnVwZGF0ZVRyaWdnZXJzJiZuLnVwZGF0ZVRyaWdnZXJzLmdldEhleGFnb25zKXt2YXIgcj10LmRhdGEsaT10LmdldEhleGFnb25zLGE9W10sbz1PYmplY3QoY2UuYSkocikscz1vLml0ZXJhYmxlLHU9by5vYmplY3RJbmZvLGM9ITAsbD0hMSxoPXZvaWQgMDt0cnl7Zm9yKHZhciBmLGQ9c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShjPShmPWQubmV4dCgpKS5kb25lKTtjPSEwKXt2YXIgdj1mLnZhbHVlO3UuaW5kZXgrKzt2YXIgcD1pKHYsdSksZz1PYmplY3QodWUuaDNTZXRUb011bHRpUG9seWdvbikocCwhMCkseT0hMCxtPSExLGI9dm9pZCAwO3RyeXtmb3IodmFyIF8sTz1nW1N5bWJvbC5pdGVyYXRvcl0oKTshKHk9KF89Ty5uZXh0KCkpLmRvbmUpO3k9ITApe3ZhciB4PV8udmFsdWU7YS5wdXNoKHRoaXMuZ2V0U3ViTGF5ZXJSb3coe3BvbHlnb246eH0sdix1LmluZGV4KSl9fWNhdGNoKGUpe209ITAsYj1lfWZpbmFsbHl7dHJ5e3l8fG51bGw9PU8ucmV0dXJufHxPLnJldHVybigpfWZpbmFsbHl7aWYobSl0aHJvdyBifX19fWNhdGNoKGUpe2w9ITAsaD1lfWZpbmFsbHl7dHJ5e2N8fG51bGw9PWQucmV0dXJufHxkLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBofX10aGlzLnNldFN0YXRlKHtwb2x5Z29uczphfSl9fX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmVsZXZhdGlvblNjYWxlLG49ZS5leHRydWRlZCxyPWUud2lyZWZyYW1lLGk9ZS5maWxsZWQsYT1lLnN0cm9rZWQsbz1lLmxpbmVXaWR0aFNjYWxlLHM9ZS5saW5lV2lkdGhNaW5QaXhlbHMsdT1lLmxpbmVXaWR0aE1heFBpeGVscyxjPWUubGluZUpvaW50Um91bmRlZCxsPWUubGluZU1pdGVyTGltaXQsaD1lLmxpbmVEYXNoSnVzdGlmaWVkLGY9ZS5tYXRlcmlhbCxkPWUuZ2V0RmlsbENvbG9yLHY9ZS5nZXRMaW5lQ29sb3IscD1lLmdldExpbmVXaWR0aCxnPWUuZ2V0TGluZURhc2hBcnJheSx5PWUuZ2V0RWxldmF0aW9uLG09ZS51cGRhdGVUcmlnZ2VycztyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiY2x1c3Rlci1yZWdpb24iLFMuYSkpKHtmaWxsZWQ6aSx3aXJlZnJhbWU6cixleHRydWRlZDpuLGVsZXZhdGlvblNjYWxlOnQsc3Ryb2tlZDphLGxpbmVXaWR0aFNjYWxlOm8sbGluZVdpZHRoTWluUGl4ZWxzOnMsbGluZVdpZHRoTWF4UGl4ZWxzOnUsbGluZUpvaW50Um91bmRlZDpjLGxpbmVNaXRlckxpbWl0OmwsbGluZURhc2hKdXN0aWZpZWQ6aCxtYXRlcmlhbDpmLGdldEZpbGxDb2xvcjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoZCksZ2V0TGluZUNvbG9yOnRoaXMuZ2V0U3ViTGF5ZXJBY2Nlc3Nvcih2KSxnZXRMaW5lV2lkdGg6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKHApLGdldExpbmVEYXNoQXJyYXk6dGhpcy5nZXRTdWJMYXllckFjY2Vzc29yKGcpLGdldEVsZXZhdGlvbjp0aGlzLmdldFN1YkxheWVyQWNjZXNzb3IoeSl9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImNsdXN0ZXItcmVnaW9uIix1cGRhdGVUcmlnZ2VyczptfSkse2RhdGE6dGhpcy5zdGF0ZS5wb2x5Z29ucyxnZXRQb2x5Z29uOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvbHlnb259fSl9fV0pLHR9KHcuYSk7aGUuZGVmYXVsdFByb3BzPWxlLGhlLmxheWVyTmFtZT0iSDNDbHVzdGVyTGF5ZXIiO3ZhciBmZT1uKDM3KSxkZT1uLm4oZmUpLHZlPW4oMSkscGU9bigxNDUpO2Z1bmN0aW9uIGdlKGUsdCl7dD12b2lkIDA9PT10P2VbMF1bMF06dDt2YXIgbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWUsdT1zWzBdLXQ7dT4xODA/c1swXS09MzYwOnU8LTE4MCYmKHNbMF0rPTM2MCl9fWNhdGNoKGUpe3I9ITAsaT1lfWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX19ZnVuY3Rpb24geWUoZSx0LG4pe3ZhciByPU9iamVjdCh1ZS5oM1RvR2VvKShlKSxpPVAoKShyLDIpLGE9aVswXSxvPWlbMV0scz10Lmxlbmd0aDtnZSh0LG8pO2Zvcih2YXIgdT10WzBdPT09dFtzLTFdP3MtMTpzLGM9MDtjPHU7YysrKXRbY11bMF09T2JqZWN0KHZlLm0pKG8sdFtjXVswXSxuKSx0W2NdWzFdPU9iamVjdCh2ZS5tKShhLHRbY11bMV0sbil9ZnVuY3Rpb24gbWUoZSx0LG4pe3ZhciByPWUodCxuKSxpPU9iamVjdCh1ZS5oM1RvR2VvKShyKSxhPVAoKShpLDIpLG89YVswXTtyZXR1cm5bYVsxXSxvXX1mdW5jdGlvbiBiZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MSxuPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLHI9T2JqZWN0KHVlLmgzVG9HZW9Cb3VuZGFyeSkoZSwhMCk7aWYoMSE9PXQ/eWUoZSxyLHQpOmdlKHIpLG4pe3ZhciBpPW5ldyBGbG9hdDY0QXJyYXkoMipyLmxlbmd0aCksYT0wLG89ITAscz0hMSx1PXZvaWQgMDt0cnl7Zm9yKHZhciBjLGw9cltTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShjPWwubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgaD1jLnZhbHVlO2lbYSsrXT1oWzBdLGlbYSsrXT1oWzFdfX1jYXRjaChlKXtzPSEwLHU9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1sLnJldHVybnx8bC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgdX19cmV0dXJuIGl9cmV0dXJuIHJ9dmFyIF9lPU9iamVjdC5hc3NpZ24oe30sUy5hLmRlZmF1bHRQcm9wcyx7aGlnaFByZWNpc2lvbjohMSxjb3ZlcmFnZTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxjZW50ZXJIZXhhZ29uOm51bGwsZ2V0SGV4YWdvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmhleGFnb259fSxleHRydWRlZDohMH0pO2RlbGV0ZSBfZS5nZXRMaW5lRGFzaEFycmF5O3ZhciBPZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhbmdlRmxhZ3M7cmV0dXJuIHRoaXMuX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb24oKT90LnByb3BzT3JEYXRhQ2hhbmdlZDp0LnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPShlLm9sZFByb3BzLGUuY2hhbmdlRmxhZ3MpO2lmKG4uZGF0YUNoYW5nZWR8fG4udXBkYXRlVHJpZ2dlcnMmJm4udXBkYXRlVHJpZ2dlcnMuZ2V0SGV4YWdvbil7dmFyIHI9LTEsaT0hMSxhPSExLG89T2JqZWN0KGNlLmEpKHQuZGF0YSkscz1vLml0ZXJhYmxlLHU9by5vYmplY3RJbmZvLGM9ITAsbD0hMSxoPXZvaWQgMDt0cnl7Zm9yKHZhciBmLGQ9c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShjPShmPWQubmV4dCgpKS5kb25lKTtjPSEwKXt2YXIgdj1mLnZhbHVlO3UuaW5kZXgrKzt2YXIgcD10LmdldEhleGFnb24odix1KSxnPU9iamVjdCh1ZS5oM0dldFJlc29sdXRpb24pKHApO2lmKHI8MClyPWc7ZWxzZSBpZihyIT09Zyl7YT0hMDticmVha31pZihPYmplY3QodWUuaDNJc1BlbnRhZ29uKShwKSl7aT0hMDticmVha319fWNhdGNoKGUpe2w9ITAsaD1lfWZpbmFsbHl7dHJ5e2N8fG51bGw9PWQucmV0dXJufHxkLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBofX10aGlzLnNldFN0YXRlKHtyZXNvbHV0aW9uOnIsZWRnZUxlbmd0aEtNOnI+PTA/T2JqZWN0KHVlLmVkZ2VMZW5ndGgpKHIsdWUuVU5JVFMua20pOjAsaGFzTXVsdGlwbGVSZXM6YSxoYXNQZW50YWdvbjppfSl9dGhpcy5fdXBkYXRlVmVydGljZXModGhpcy5jb250ZXh0LnZpZXdwb3J0KX19LHtrZXk6Il9zaG91bGRVc2VIaWdoUHJlY2lzaW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUsdD1lLnJlc29sdXRpb24sbj1lLmhhc1BlbnRhZ29uLHI9ZS5oYXNNdWx0aXBsZVJlcztyZXR1cm4gdGhpcy5wcm9wcy5oaWdoUHJlY2lzaW9ufHxyfHxufHx0Pj0wJiZ0PD01fX0se2tleToiX3VwZGF0ZVZlcnRpY2VzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5fc2hvdWxkVXNlSGlnaFByZWNpc2lvbigpKXt2YXIgdD10aGlzLnN0YXRlLG49dC5yZXNvbHV0aW9uLHI9dC5lZGdlTGVuZ3RoS00saT10LmNlbnRlckhleDtpZighKG48MCkpe3ZhciBhPXRoaXMucHJvcHMuY2VudGVySGV4YWdvbnx8T2JqZWN0KHVlLmdlb1RvSDMpKGUubGF0aXR1ZGUsZS5sb25naXR1ZGUsbik7aWYoaSE9PWEpe2lmKGkpe3ZhciBvPU9iamVjdCh1ZS5oM0Rpc3RhbmNlKShpLGEpO2lmKG8+PTAmJm8qcjwxMClyZXR1cm59dmFyIHM9ZS5kaXN0YW5jZVNjYWxlcy51bml0c1Blck1ldGVyLHU9YmUoYSksYz1PYmplY3QodWUuaDNUb0dlbykoYSksbD1QKCkoYywyKSxoPWxbMF0sZj1sWzFdLGQ9ZS5wcm9qZWN0RmxhdChbZixoXSksdj1QKCkoZCwyKSxwPXZbMF0sZz12WzFdO3U9dS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPWUucHJvamVjdEZsYXQodCk7cmV0dXJuIG5bMF09KG5bMF0tcCkvc1swXSxuWzFdPShuWzFdLWcpL3NbMV0sbn0pKSx0aGlzLnNldFN0YXRlKHtjZW50ZXJIZXg6YSx2ZXJ0aWNlczp1fSl9fX19fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb24oKT90aGlzLl9yZW5kZXJQb2x5Z29uTGF5ZXIoKTp0aGlzLl9yZW5kZXJDb2x1bW5MYXllcigpfX0se2tleToiX2dldEZvcndhcmRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5lbGV2YXRpb25TY2FsZSxuPWUubWF0ZXJpYWwscj1lLmNvdmVyYWdlLGk9ZS5leHRydWRlZCxhPWUud2lyZWZyYW1lLG89ZS5zdHJva2VkLHM9ZS5maWxsZWQsdT1lLmxpbmVXaWR0aFVuaXRzLGM9ZS5saW5lV2lkdGhTY2FsZSxsPWUubGluZVdpZHRoTWluUGl4ZWxzLGg9ZS5saW5lV2lkdGhNYXhQaXhlbHMsZj1lLmdldEZpbGxDb2xvcixkPWUuZ2V0RWxldmF0aW9uLHY9ZS5nZXRMaW5lQ29sb3IscD1lLmdldExpbmVXaWR0aCxnPWUudXBkYXRlVHJpZ2dlcnM7cmV0dXJue2VsZXZhdGlvblNjYWxlOnQsZXh0cnVkZWQ6aSxjb3ZlcmFnZTpyLHdpcmVmcmFtZTphLHN0cm9rZWQ6byxmaWxsZWQ6cyxsaW5lV2lkdGhVbml0czp1LGxpbmVXaWR0aFNjYWxlOmMsbGluZVdpZHRoTWluUGl4ZWxzOmwsbGluZVdpZHRoTWF4UGl4ZWxzOmgsbWF0ZXJpYWw6bixnZXRFbGV2YXRpb246ZCxnZXRGaWxsQ29sb3I6ZixnZXRMaW5lQ29sb3I6dixnZXRMaW5lV2lkdGg6cCx1cGRhdGVUcmlnZ2Vyczp7Z2V0RmlsbENvbG9yOmcuZ2V0RmlsbENvbG9yLGdldEVsZXZhdGlvbjpnLmdldEVsZXZhdGlvbixnZXRMaW5lQ29sb3I6Zy5nZXRMaW5lQ29sb3IsZ2V0TGluZVdpZHRoOmcuZ2V0TGluZVdpZHRofX19fSx7a2V5OiJfcmVuZGVyUG9seWdvbkxheWVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmRhdGEsbj1lLmdldEhleGFnb24scj1lLnVwZGF0ZVRyaWdnZXJzLGk9ZS5jb3ZlcmFnZSxhPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiaGV4YWdvbi1jZWxsLWhpZmkiLFMuYSksbz10aGlzLl9nZXRGb3J3YXJkUHJvcHMoKTtyZXR1cm4gby51cGRhdGVUcmlnZ2Vycy5nZXRQb2x5Z29uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWU/dDoib2JqZWN0Ij09PWRlKCkoZSk/T2JqZWN0LmFzc2lnbih7fSxlLHtjb3ZlcmFnZTp0fSk6e2dldEhleGFnb246ZSxjb3ZlcmFnZTp0fX0oci5nZXRIZXhhZ29uLGkpLG5ldyBhKG8sdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoiaGV4YWdvbi1jZWxsLWhpZmkiLHVwZGF0ZVRyaWdnZXJzOm8udXBkYXRlVHJpZ2dlcnN9KSx7ZGF0YTp0LF9ub3JtYWxpemU6ITEscG9zaXRpb25Gb3JtYXQ6IlhZIixnZXRQb2x5Z29uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJlKG4oZSx0KSxpLCEwKX19KX19LHtrZXk6Il9yZW5kZXJDb2x1bW5MYXllciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5kYXRhLG49ZS5nZXRIZXhhZ29uLHI9ZS51cGRhdGVUcmlnZ2VycyxpPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiaGV4YWdvbi1jZWxsIixwZS5hKSxhPXRoaXMuX2dldEZvcndhcmRQcm9wcygpO3JldHVybiBhLnVwZGF0ZVRyaWdnZXJzLmdldFBvc2l0aW9uPXIuZ2V0SGV4YWdvbixuZXcgaShhLHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImhleGFnb24tY2VsbCIsdXBkYXRlVHJpZ2dlcnM6YS51cGRhdGVUcmlnZ2Vyc30pLHtkYXRhOnQsZGlza1Jlc29sdXRpb246NixyYWRpdXM6MSx2ZXJ0aWNlczp0aGlzLnN0YXRlLnZlcnRpY2VzLGdldFBvc2l0aW9uOm1lLmJpbmQobnVsbCxuKX0pfX1dKSx0fSh3LmEpO09lLmRlZmF1bHRQcm9wcz1fZSxPZS5sYXllck5hbWU9IkgzSGV4YWdvbkxheWVyIjt2YXIgeGU9big4KSx3ZT1uLm4oeGUpLFNlPW4oNyksa2U9bi5uKFNlKSxQZT1uKDEwMiksamU9bi5uKFBlKSxUZT1uKDEzNCksRWU9big2MCksQWU9bigyMiksTWU9bigyMDIpLENlPW4oMTk5KSxMZT1uKDIwMyksSWU9bigxODYpLFJlPW4oMTMpLERlPW4oMCksRmU9big1KSxOZT1uKDYpLHplPW4oMTg1KSxCZT1uKDIxKSxVZT1uKDMyKSxWZT0oTWF0aC5tYXgoNjM3ODEzNyw2Mzc4MTM3LDYzNTY3NTIuMzE0MjQ1MTc5KSxmdW5jdGlvbihlKXtyZXR1cm4gZX0pLEdlPW5ldyB2ZS5lO2Z1bmN0aW9uIFdlKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlZlO3JldHVybiBPYmplY3QodmUubCkoZSk/KHRbMF09bihlWzBdKSx0WzFdPW4oZVsxXSksdFsyXT1lWzJdKToibG9uZ2l0dWRlImluIGU/KHRbMF09bihlLmxvbmdpdHVkZSksdFsxXT1uKGUubGF0aXR1ZGUpLHRbMl09ZS5oZWlnaHQpOih0WzBdPW4oZS54KSx0WzFdPW4oZS55KSx0WzJdPWUueiksdH1mdW5jdGlvbiBIZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06R2U7cmV0dXJuIFdlKGUsdCx2ZS5qLmNhcnRvZ3JhcGhpY1JhZGlhbnM/VmU6dmUubyl9ZnVuY3Rpb24gcWUoZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06VmU7cmV0dXJuIE9iamVjdCh2ZS5sKSh0KT8odFswXT1uKGVbMF0pLHRbMV09bihlWzFdKSx0WzJdPWVbMl0pOiJsb25naXR1ZGUiaW4gdD8odC5sb25naXR1ZGU9bihlWzBdKSx0LmxhdGl0dWRlPW4oZVsxXSksdC5oZWlnaHQ9ZVsyXSk6KHQueD1uKGVbMF0pLHQueT1uKGVbMV0pLHQuej1lWzJdKSx0fWZ1bmN0aW9uIFhlKGUsdCl7cmV0dXJuIHFlKGUsdCx2ZS5qLmNhcnRvZ3JhcGhpY1JhZGlhbnM/VmU6dmUubil9dmFyIFplPW5ldyB2ZS5lLFllPW5ldyB2ZS5lLEtlPW5ldyB2ZS5lO3ZhciBRZT1uZXcgdmUuZSxKZT17dXA6e3NvdXRoOiJlYXN0Iixub3J0aDoid2VzdCIsd2VzdDoic291dGgiLGVhc3Q6Im5vcnRoIn0sZG93bjp7c291dGg6Indlc3QiLG5vcnRoOiJlYXN0Iix3ZXN0OiJub3J0aCIsZWFzdDoic291dGgifSxzb3V0aDp7dXA6Indlc3QiLGRvd246ImVhc3QiLHdlc3Q6ImRvd24iLGVhc3Q6InVwIn0sbm9ydGg6e3VwOiJlYXN0Iixkb3duOiJ3ZXN0Iix3ZXN0OiJ1cCIsZWFzdDoiZG93biJ9LHdlc3Q6e3VwOiJub3J0aCIsZG93bjoic291dGgiLG5vcnRoOiJkb3duIixzb3V0aDoidXAifSxlYXN0Ont1cDoic291dGgiLGRvd246Im5vcnRoIixub3J0aDoidXAiLHNvdXRoOiJkb3duIn19LCRlPXtub3J0aDpbLTEsMCwwXSxlYXN0OlswLDEsMF0sdXA6WzAsMCwxXSxzb3V0aDpbMSwwLDBdLHdlc3Q6WzAsLTEsMF0sZG93bjpbMCwwLC0xXX0sZXQ9e2Vhc3Q6bmV3IHZlLmUsbm9ydGg6bmV3IHZlLmUsdXA6bmV3IHZlLmUsd2VzdDpuZXcgdmUuZSxzb3V0aDpuZXcgdmUuZSxkb3duOm5ldyB2ZS5lfSx0dD1uZXcgdmUuZSxudD1uZXcgdmUuZSxydD1uZXcgdmUuZTtmdW5jdGlvbiBpdChlLHQsbixyLGksYSl7dmFyIG8scyx1LGM9SmVbdF0mJkplW3RdW25dO09iamVjdCh2ZS5oKShjJiYoIXJ8fHI9PT1jKSk7dmFyIGw9UWUuY29weShpKTtpZihPYmplY3QodmUuaykobC54LDAsMWUtMTQpJiZPYmplY3QodmUuaykobC55LDAsMWUtMTQpKXt2YXIgaD1NYXRoLnNpZ24obC56KTtvPXR0LmZyb21BcnJheSgkZVt0XSksImVhc3QiIT09dCYmIndlc3QiIT09dCYmby5zY2FsZShoKSxzPW50LmZyb21BcnJheSgkZVtuXSksImVhc3QiIT09biYmIndlc3QiIT09biYmcy5zY2FsZShoKSx1PXJ0LmZyb21BcnJheSgkZVtyXSksImVhc3QiIT09ciYmIndlc3QiIT09ciYmdS5zY2FsZShoKX1lbHNle3ZhciBmPWV0LnVwLGQ9ZXQuZWFzdCx2PWV0Lm5vcnRoO2Quc2V0KC1sLnksbC54LDApLm5vcm1hbGl6ZSgpLGUuZ2VvZGV0aWNTdXJmYWNlTm9ybWFsKGwsZiksdi5jb3B5KGYpLmNyb3NzKGQpO3ZhciBwPWV0Lndlc3QsZz1ldC5zb3V0aDtldC5kb3duLmNvcHkoZikuc2NhbGUoLTEpLHAuY29weShkKS5zY2FsZSgtMSksZy5jb3B5KHYpLnNjYWxlKC0xKSxvPWV0W3RdLHM9ZXRbbl0sdT1ldFtyXX1yZXR1cm4gYVswXT1vLngsYVsxXT1vLnksYVsyXT1vLnosYVszXT0wLGFbNF09cy54LGFbNV09cy55LGFbNl09cy56LGFbN109MCxhWzhdPXUueCxhWzldPXUueSxhWzEwXT11LnosYVsxMV09MCxhWzEyXT1sLngsYVsxM109bC55LGFbMTRdPWwueixhWzE1XT0xLGF9dmFyIGF0LG90PW5ldyB2ZS5lLHN0PW5ldyB2ZS5lLHV0PW5ldyB2ZS5lLGN0PW5ldyB2ZS5lLGx0PW5ldyB2ZS5lLGh0PW5ldyB2ZS5lLGZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MDtPYmplY3QoRmUuYSkodGhpcyxlKSxPYmplY3QodmUuaCkodD49MCksT2JqZWN0KHZlLmgpKG4+PTApLE9iamVjdCh2ZS5oKShyPj0wKSx0aGlzLnJhZGlpPW5ldyB2ZS5lKHQsbixyKSx0aGlzLnJhZGlpU3F1YXJlZD1uZXcgdmUuZSh0KnQsbipuLHIqciksdGhpcy5yYWRpaVRvVGhlRm91cnRoPW5ldyB2ZS5lKHQqdCp0KnQsbipuKm4qbixyKnIqcipyKSx0aGlzLm9uZU92ZXJSYWRpaT1uZXcgdmUuZSgwPT09dD8wOjEvdCwwPT09bj8wOjEvbiwwPT09cj8wOjEvciksdGhpcy5vbmVPdmVyUmFkaWlTcXVhcmVkPW5ldyB2ZS5lKDA9PT10PzA6MS8odCp0KSwwPT09bj8wOjEvKG4qbiksMD09PXI/MDoxLyhyKnIpKSx0aGlzLm1pbmltdW1SYWRpdXM9TWF0aC5taW4odCxuLHIpLHRoaXMubWF4aW11bVJhZGl1cz1NYXRoLm1heCh0LG4sciksdGhpcy5jZW50ZXJUb2xlcmFuY2VTcXVhcmVkPXZlLmYuRVBTSUxPTjEsMCE9PXRoaXMucmFkaWlTcXVhcmVkLnomJih0aGlzLnNxdWFyZWRYT3ZlclNxdWFyZWRaPXRoaXMucmFkaWlTcXVhcmVkLngvdGhpcy5yYWRpaVNxdWFyZWQueiksT2JqZWN0LmZyZWV6ZSh0aGlzKX1yZXR1cm4gT2JqZWN0KE5lLmEpKGUsbnVsbCxbe2tleToiV0dTODQiLGdldDpmdW5jdGlvbigpe3JldHVybiBhdD1hdHx8bmV3IGUoNjM3ODEzNyw2Mzc4MTM3LDYzNTY3NTIuMzE0MjQ1MTc5KX19XSksT2JqZWN0KE5lLmEpKGUsW3trZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXM9PT1lfHxCb29sZWFuKGUmJnRoaXMucmFkaWkuZXF1YWxzKGUucmFkaWkpKX19LHtrZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJhZGlpLnRvU3RyaW5nKCl9fSx7a2V5OiJjYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF0sbj1zdCxyPXV0LGk9T2JqZWN0KEJlLmEpKGUsMyksYT1pWzJdO3RoaXMuZ2VvZGV0aWNTdXJmYWNlTm9ybWFsQ2FydG9ncmFwaGljKGUsbiksci5jb3B5KHRoaXMucmFkaWlTcXVhcmVkKS5zY2FsZShuKTt2YXIgbz1NYXRoLnNxcnQobi5kb3QocikpO3JldHVybiByLnNjYWxlKDEvbyksbi5zY2FsZShhKSxyLmFkZChuKSxyLnRvKHQpfX0se2tleToiY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO2h0LmZyb20oZSk7dmFyIG49dGhpcy5zY2FsZVRvR2VvZGV0aWNTdXJmYWNlKGh0LGN0KTtpZihuKXt2YXIgcj10aGlzLmdlb2RldGljU3VyZmFjZU5vcm1hbChuLHN0KSxpPWx0O2kuY29weShodCkuc3VidHJhY3Qobik7dmFyIGE9TWF0aC5hdGFuMihyLnksci54KSxvPU1hdGguYXNpbihyLnopLHM9TWF0aC5zaWduKFVlLmQoaSxodCkpKlVlLmcoaSk7cmV0dXJuIFhlKFthLG8sc10sdCl9fX0se2tleToiZWFzdE5vcnRoVXBUb0ZpeGVkRnJhbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpuZXcgdmUuYjtyZXR1cm4gaXQodGhpcywiZWFzdCIsIm5vcnRoIiwidXAiLGUsdCl9fSx7a2V5OiJsb2NhbEZyYW1lVG9GaXhlZEZyYW1lIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06bmV3IHZlLmI7cmV0dXJuIGl0KHRoaXMsZSx0LG4scixpKX19LHtrZXk6Imdlb2NlbnRyaWNTdXJmYWNlTm9ybWFsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06WzAsMCwwXTtyZXR1cm4gb3QuZnJvbShlKS5ub3JtYWxpemUoKS50byh0KX19LHtrZXk6Imdlb2RldGljU3VyZmFjZU5vcm1hbENhcnRvZ3JhcGhpYyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF0sbj1IZShlKSxyPW5bMF0saT1uWzFdLGE9TWF0aC5jb3MoaSk7cmV0dXJuIG90LnNldChhKk1hdGguY29zKHIpLGEqTWF0aC5zaW4ociksTWF0aC5zaW4oaSkpLm5vcm1hbGl6ZSgpLG90LnRvKHQpfX0se2tleToiZ2VvZGV0aWNTdXJmYWNlTm9ybWFsIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06WzAsMCwwXTtyZXR1cm4gb3QuZnJvbShlKS5zY2FsZSh0aGlzLm9uZU92ZXJSYWRpaVNxdWFyZWQpLm5vcm1hbGl6ZSgpLnRvKHQpfX0se2tleToic2NhbGVUb0dlb2RldGljU3VyZmFjZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bmV3IHZlLmUscj10Lm9uZU92ZXJSYWRpaSxpPXQub25lT3ZlclJhZGlpU3F1YXJlZCxhPXQuY2VudGVyVG9sZXJhbmNlU3F1YXJlZDtaZS5mcm9tKGUpO3ZhciBvPWUueCxzPWUueSx1PWUueixjPXIueCxsPXIueSxoPXIueixmPW8qbypjKmMsZD1zKnMqbCpsLHY9dSp1KmgqaCxwPWYrZCt2LGc9TWF0aC5zcXJ0KDEvcCk7aWYoTnVtYmVyLmlzRmluaXRlKGcpKXt2YXIgeT1ZZTtpZih5LmNvcHkoZSkuc2NhbGUoZykscDxhKXJldHVybiB5LnRvKG4pO3ZhciBtPWkueCxiPWkueSxfPWkueixPPUtlO08uc2V0KHkueCptKjIseS55KmIqMix5LnoqXyoyKTt2YXIgeCx3LFMsayxQPSgxLWcpKmUubGVuKCkvKC41Kk8ubGVuKCkpLGo9MDtkb3t2YXIgVD0oeD0xLygxKyhQLT1qKSptKSkqeCxFPSh3PTEvKDErUCpiKSkqdyxBPShTPTEvKDErUCpfKSkqUyxNPVQqeCxDPUUqdyxMPUEqUyxJPWYqTSptK2QqQypiK3YqTCpfLFI9LTIqSTtqPShrPWYqVCtkKkUrdipBLTEpL1J9d2hpbGUoTWF0aC5hYnMoayk+dmUuZi5FUFNJTE9OMTIpO3JldHVybiBaZS5zY2FsZShbeCx3LFNdKS50byhuKX19KGUsdGhpcyx0KX19LHtrZXk6InNjYWxlVG9HZW9jZW50cmljU3VyZmFjZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07Y3QuZnJvbShlKTt2YXIgbj1jdC54LHI9Y3QueSxpPWN0LnosYT10aGlzLm9uZU92ZXJSYWRpaVNxdWFyZWQsbz0xL01hdGguc3FydChuKm4qYS54K3IqciphLnkraSppKmEueik7cmV0dXJuIGN0Lm11bHRpcGx5U2NhbGFyKG8pLnRvKHQpfX0se2tleToidHJhbnNmb3JtUG9zaXRpb25Ub1NjYWxlZFNwYWNlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06WzAsMCwwXTtyZXR1cm4gY3QuZnJvbShlKS5zY2FsZSh0aGlzLm9uZU92ZXJSYWRpaSkudG8odCl9fSx7a2V5OiJ0cmFuc2Zvcm1Qb3NpdGlvbkZyb21TY2FsZWRTcGFjZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMF07cmV0dXJuIGN0LmZyb20oZSkuc2NhbGUodGhpcy5yYWRpaSkudG8odCl9fSx7a2V5OiJnZXRTdXJmYWNlTm9ybWFsSW50ZXJzZWN0aW9uV2l0aFpBeGlzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbMCwwLDBdO09iamVjdCh2ZS5oKShPYmplY3QodmUuaykodGhpcy5yYWRpaS54LHRoaXMucmFkaWkueSx2ZS5mLkVQU0lMT04xNSkpLE9iamVjdCh2ZS5oKSh0aGlzLnJhZGlpLno+MCksY3QuZnJvbShlKTt2YXIgcj1jdC56KigxLXRoaXMuc3F1YXJlZFhPdmVyU3F1YXJlZFopO2lmKCEoTWF0aC5hYnMocik+PXRoaXMucmFkaWkuei10KSlyZXR1cm4gY3Quc2V0KDAsMCxyKS50byhuKX19XSksZX0oKSxkdD1uKDEyMCksdnQ9big4NSkscHQ9bigzMSksZ3Q9bigxOTUpLHl0PWZ1bmN0aW9uIGUodCxuLHIpe09iamVjdChGZS5hKSh0aGlzLGUpLHRoaXMuaXRlbT10LHRoaXMucHJldmlvdXM9bix0aGlzLm5leHQ9cn0sbXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7T2JqZWN0KEZlLmEpKHRoaXMsZSksdGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5fbGVuZ3RoPTB9cmV0dXJuIE9iamVjdChOZS5hKShlLFt7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB5dChlLHRoaXMudGFpbCxudWxsKTtyZXR1cm4gdGhpcy50YWlsPyh0aGlzLnRhaWwubmV4dD10LHRoaXMudGFpbD10KToodGhpcy5oZWFkPXQsdGhpcy50YWlsPXQpLCsrdGhpcy5fbGVuZ3RoLHR9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKGUpe2UmJihlLnByZXZpb3VzJiZlLm5leHQ/KGUucHJldmlvdXMubmV4dD1lLm5leHQsZS5uZXh0LnByZXZpb3VzPWUucHJldmlvdXMpOmUucHJldmlvdXM/KGUucHJldmlvdXMubmV4dD1udWxsLHRoaXMudGFpbD1lLnByZXZpb3VzKTplLm5leHQ/KGUubmV4dC5wcmV2aW91cz1udWxsLHRoaXMuaGVhZD1lLm5leHQpOih0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCksZS5uZXh0PW51bGwsZS5wcmV2aW91cz1udWxsLC0tdGhpcy5fbGVuZ3RoKX19LHtrZXk6InNwbGljZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlIT09dCYmKHRoaXMucmVtb3ZlKHQpLHRoaXMuX2luc2VydChlLHQpKX19LHtrZXk6Il9pbnNlcnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5uZXh0O2UubmV4dD10LHRoaXMudGFpbD09PWU/dGhpcy50YWlsPXQ6bi5wcmV2aW91cz10LHQubmV4dD1uLHQucHJldmlvdXM9ZSwrK3RoaXMuX2xlbmd0aH19LHtrZXk6Imxlbmd0aCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH19XSksZX0oKTtmdW5jdGlvbiBidChlKXtyZXR1cm4gbnVsbCE9ZX12YXIgX3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7T2JqZWN0KEZlLmEpKHRoaXMsZSksdGhpcy5fbGlzdD1uZXcgbXQsdGhpcy5fc2VudGluZWw9dGhpcy5fbGlzdC5hZGQoInNlbnRpbmVsIiksdGhpcy5fdHJpbVRpbGVzPSExfXJldHVybiBPYmplY3QoTmUuYSkoZSxbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdC5zcGxpY2UodGhpcy5fbGlzdC50YWlsLHRoaXMuX3NlbnRpbmVsKX19LHtrZXk6InRvdWNoIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLl9jYWNoZU5vZGU7YnQodCkmJnRoaXMuX2xpc3Quc3BsaWNlKHRoaXMuX3NlbnRpbmVsLHQpfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7YnQodC5fY2FjaGVOb2RlKXx8KHQuX2NhY2hlTm9kZT10aGlzLl9saXN0LmFkZCh0KSxuJiZuKGUsdCkpfX0se2tleToidW5sb2FkVGlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQuX2NhY2hlTm9kZTtidChyKSYmKHRoaXMuX2xpc3QucmVtb3ZlKHIpLHQuX2NhY2hlTm9kZT12b2lkIDAsbiYmbihlLHQpKX19LHtrZXk6InVubG9hZFRpbGVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX3RyaW1UaWxlczt0aGlzLl90cmltVGlsZXM9ITE7Zm9yKHZhciByPXRoaXMuX2xpc3QsaT0xMDI0KmUubWF4aW11bU1lbW9yeVVzYWdlKjEwMjQsYT10aGlzLl9zZW50aW5lbCxvPXIuaGVhZDtvIT09YSYmKGUuZ3B1TWVtb3J5VXNhZ2VJbkJ5dGVzPml8fG4pOyl7dmFyIHM9by5pdGVtO289by5uZXh0LHRoaXMudW5sb2FkVGlsZShlLHMsdCl9fX0se2tleToidHJpbSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90cmltVGlsZXM9ITB9fV0pLGV9KCk7dmFyIE90PU9iamVjdC5mcmVlemUoe09VVFNJREU6LTEsSU5URVJTRUNUSU5HOjAsSU5TSURFOjF9KSx4dD1uZXcgdmUuZSx3dD1uZXcgdmUuZSxTdD0oZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlswLDAsMF0sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06WzAsMCwwXSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsO09iamVjdChGZS5hKSh0aGlzLGUpLHI9cnx8eHQuY29weSh0KS5hZGQobikuc2NhbGUoLjUpLHRoaXMubWluaW11bT1uZXcgdmUuZSh0KSx0aGlzLm1heGltdW09bmV3IHZlLmUobiksdGhpcy5jZW50ZXI9bmV3IHZlLmUocil9T2JqZWN0KE5lLmEpKGUsW3trZXk6ImZyb21Qb2ludHMiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIHRoaXMubWluaW11bS5zZXQoMCwwLDApLHRoaXMubWF4aW11bS5zZXQoMCwwLDApLHRoaXMuY2VudGVyLnNldCgwLDAsMCksdGhpczt2YXIgdD1lWzBdWzBdLG49ZVswXVsxXSxyPWVbMF1bMl0saT1lWzBdWzBdLGE9ZVswXVsxXSxvPWVbMF1bMl0scz0hMCx1PSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIGwsaD1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHM9KGw9aC5uZXh0KCkpLmRvbmUpO3M9ITApe3ZhciBmPWwudmFsdWUsZD1mWzBdLHY9ZlsxXSxwPWZbMl07dD1NYXRoLm1pbihkLHQpLGk9TWF0aC5tYXgoZCxpKSxuPU1hdGgubWluKHYsbiksYT1NYXRoLm1heCh2LGEpLHI9TWF0aC5taW4ocCxyKSxvPU1hdGgubWF4KHAsbyl9fWNhdGNoKGUpe3U9ITAsYz1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PWgucmV0dXJufHxoLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBjfX1yZXR1cm4gdGhpcy5taW5pbXVtLnNldCh0LG4sciksdGhpcy5tYXhpbXVtLnNldChpLGEsbyksdGhpcy5jZW50ZXIuY29weSh0aGlzLm1pbmltdW0pLmFkZCh0aGlzLm1heGltdW0pLnNjYWxlKC41KSx0aGlzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMubWluaW11bSx0aGlzLm1heGltdW0sdGhpcy5jZW50ZXIpfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcz09PWV8fEJvb2xlYW4oZSkmJnRoaXMuY2VudGVyLmVxdWFscyhlLmNlbnRlcikmJnRoaXMubWluaW11bS5lcXVhbHMoZS5taW5pbXVtKSYmdGhpcy5tYXhpbXVtLmVxdWFscyhlLm1heGltdW0pfX0se2tleToiaW50ZXJzZWN0UGxhbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXh0LmNvcHkodGhpcy5tYXhpbXVtKS5zdWJ0cmFjdCh0aGlzLm1pbmltdW0pLnNjYWxlKC41KSxuPXd0LmZyb20oZS5ub3JtYWwpLHI9dC54Kk1hdGguYWJzKG4ueCkrdC55Kk1hdGguYWJzKG4ueSkrdC56Kk1hdGguYWJzKG4ueiksaT10aGlzLmNlbnRlci5kb3QobikrZS5kaXN0YW5jZTtyZXR1cm4gaS1yPjA/T3QuSU5TSURFOmkrcjwwP090Lk9VVFNJREU6T3QuSU5URVJTRUNUSU5HfX1dKX0oKSxuKDI0KSksa3Q9bmV3IHZlLmUsUHQ9bmV3IHZlLmUsanQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlswLDAsMF0sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtPYmplY3QoRmUuYSkodGhpcyxlKSx0aGlzLnJhZGl1cz0tMCx0aGlzLmNlbnRlcj1uZXcgdmUuZSx0aGlzLmZyb21DZW50ZXJSYWRpdXModCxuKX1yZXR1cm4gT2JqZWN0KE5lLmEpKGUsW3trZXk6ImZyb21DZW50ZXJSYWRpdXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY2VudGVyLmZyb20oZSksdGhpcy5yYWRpdXM9dCx0aGlzfX0se2tleToiZnJvbUNvcm5lclBvaW50cyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD1rdC5mcm9tKHQpLHRoaXMuY2VudGVyPShuZXcgdmUuZSkuZnJvbShlKS5hZGQodCkuc2NhbGUoLjUpLHRoaXMucmFkaXVzPXRoaXMuY2VudGVyLmRpc3RhbmNlKHQpLHRoaXN9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzPT09ZXx8Qm9vbGVhbihlKSYmdGhpcy5jZW50ZXIuZXF1YWxzKGUuY2VudGVyKSYmdGhpcy5yYWRpdXM9PT1lLnJhZGl1c319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLmNlbnRlcix0aGlzLnJhZGl1cyl9fSx7a2V5OiJ1bmlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jZW50ZXIsbj10aGlzLnJhZGl1cyxyPWUuY2VudGVyLGk9ZS5yYWRpdXMsYT1rdC5jb3B5KHIpLnN1YnRyYWN0KHQpLG89YS5tYWduaXR1ZGUoKTtpZihuPj1vK2kpcmV0dXJuIHRoaXMuY2xvbmUoKTtpZihpPj1vK24pcmV0dXJuIGUuY2xvbmUoKTt2YXIgcz0uNSoobitvK2kpO3JldHVybiBQdC5jb3B5KGEpLnNjYWxlKCgtbitzKS9vKS5hZGQodCksdGhpcy5jZW50ZXIuY29weShQdCksdGhpcy5yYWRpdXM9cyx0aGlzfX0se2tleToiZXhwYW5kIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0oZT1rdC5mcm9tKGUpKS5zdWJ0cmFjdCh0aGlzLmNlbnRlcikubWFnbml0dWRlKCk7cmV0dXJuIHQ+dGhpcy5yYWRpdXMmJih0aGlzLnJhZGl1cz10KSx0aGlzfX0se2tleToiaW50ZXJzZWN0UGxhbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2VudGVyLG49dGhpcy5yYWRpdXMscj1lLm5vcm1hbC5kb3QodCkrZS5kaXN0YW5jZTtyZXR1cm4gcjwtbj9PdC5PVVRTSURFOnI8bj9PdC5JTlRFUlNFQ1RJTkc6T3QuSU5TSURFfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNlbnRlci50cmFuc2Zvcm0oZSk7dmFyIHQ9U3QuZShrdCxlKTtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5tYXgodFswXSxNYXRoLm1heCh0WzFdLHRbMl0pKSp0aGlzLnJhZGl1cyx0aGlzfX0se2tleToiZGlzdGFuY2VTcXVhcmVkVG8iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybihlPWt0LmZyb20oZSkpLnN1YnRyYWN0KHRoaXMuY2VudGVyKS5sZW5ndGhTcXVhcmVkKCktdGhpcy5yYWRpdXMqdGhpcy5yYWRpdXN9fSx7a2V5OiJkaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkVG8oZSkpfX1dKSxlfSgpLFR0PW5ldyB2ZS5hLEV0PW5ldyB2ZS5hLEF0PW5ldyB2ZS5hLE10PW5ldyB2ZS5hLEN0PW5ldyB2ZS5hO2Z1bmN0aW9uIEx0KGUpe2Zvcih2YXIgdD0wLG49MDtuPDk7KytuKXt2YXIgcj1lW25dO3QrPXIqcn1yZXR1cm4gTWF0aC5zcXJ0KHQpfXZhciBJdD1bMSwwLDBdLFJ0PVsyLDIsMV07ZnVuY3Rpb24gRHQoZSl7Zm9yKHZhciB0PTAsbj0wO248MzsrK24pe3ZhciByPWVbVHQuZ2V0RWxlbWVudEluZGV4KFJ0W25dLEl0W25dKV07dCs9MipyKnJ9cmV0dXJuIE1hdGguc3FydCh0KX1mdW5jdGlvbiBGdChlLHQpe2Zvcih2YXIgbj12ZS5mLkVQU0lMT04xNSxyPTAsaT0xLGE9MDthPDM7KythKXt2YXIgbz1NYXRoLmFicyhlW1R0LmdldEVsZW1lbnRJbmRleChSdFthXSxJdFthXSldKTtvPnImJihpPWEscj1vKX12YXIgcz1JdFtpXSx1PVJ0W2ldLGM9MSxsPTA7aWYoTWF0aC5hYnMoZVtUdC5nZXRFbGVtZW50SW5kZXgodSxzKV0pPm4pe3ZhciBoLGY9KGVbVHQuZ2V0RWxlbWVudEluZGV4KHUsdSldLWVbVHQuZ2V0RWxlbWVudEluZGV4KHMscyldKS8yL2VbVHQuZ2V0RWxlbWVudEluZGV4KHUscyldO2w9KGg9ZjwwPy0xLygtZitNYXRoLnNxcnQoMStmKmYpKToxLyhmK01hdGguc3FydCgxK2YqZikpKSooYz0xL01hdGguc3FydCgxK2gqaCkpfXJldHVybiB2ZS5hLklERU5USVRZLnRvKHQpLHRbVHQuZ2V0RWxlbWVudEluZGV4KHMscyldPXRbVHQuZ2V0RWxlbWVudEluZGV4KHUsdSldPWMsdFtUdC5nZXRFbGVtZW50SW5kZXgodSxzKV09bCx0W1R0LmdldEVsZW1lbnRJbmRleChzLHUpXT0tbCx0fXZhciBOdD1uZXcgdmUuZSx6dD1uZXcgdmUuZSxCdD1uZXcgdmUuZSxVdD1uZXcgdmUuZSxWdD1uZXcgdmUuZSxHdD1uZXcgdmUuYSxXdD17ZGlhZ29uYWw6bmV3IHZlLmEsdW5pdGFyeTpuZXcgdmUuYX07ZnVuY3Rpb24gSHQoZSx0KXtpZighZXx8MD09PWUubGVuZ3RoKXJldHVybiB0LmhhbGZBeGVzPW5ldyB2ZS5hKFswLDAsMCwwLDAsMCwwLDAsMF0pLHQuY2VudGVyPW5ldyB2ZS5lLHQ7dmFyIG49ZS5sZW5ndGgscj1uZXcgdmUuZSgwLDAsMCksaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7ci5hZGQoYyl9fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX12YXIgbD0xL247ci5tdWx0aXBseUJ5U2NhbGFyKGwpO3ZhciBoPTAsZj0wLGQ9MCx2PTAscD0wLGc9MCx5PSEwLG09ITEsYj12b2lkIDA7dHJ5e2Zvcih2YXIgXyxPPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoeT0oXz1PLm5leHQoKSkuZG9uZSk7eT0hMCl7dmFyIHg9Xy52YWx1ZSx3PU50LmNvcHkoeCkuc3VidHJhY3Qocik7aCs9dy54KncueCxmKz13Lngqdy55LGQrPXcueCp3Lnosdis9dy55KncueSxwKz13Lnkqdy56LGcrPXcueip3Lnp9fWNhdGNoKGUpe209ITAsYj1lfWZpbmFsbHl7dHJ5e3l8fG51bGw9PU8ucmV0dXJufHxPLnJldHVybigpfWZpbmFsbHl7aWYobSl0aHJvdyBifX1oKj1sLGYqPWwsZCo9bCx2Kj1sLHAqPWwsZyo9bDt2YXIgUz1HdDtTWzBdPWgsU1sxXT1mLFNbMl09ZCxTWzNdPWYsU1s0XT12LFNbNV09cCxTWzZdPWQsU1s3XT1wLFNbOF09Zzt2YXIgaz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj12ZS5mLkVQU0lMT04yMCxyPTEwLGk9MCxhPTAsbz1FdCxzPUF0O28uaWRlbnRpdHkoKSxzLmNvcHkoZSk7Zm9yKHZhciB1PW4qTHQocyk7YTxyJiZEdChzKT51OylGdChzLE10KSxDdC5jb3B5KE10KS50cmFuc3Bvc2UoKSxzLm11bHRpcGx5UmlnaHQoTXQpLHMubXVsdGlwbHlMZWZ0KEN0KSxvLm11bHRpcGx5UmlnaHQoTXQpLCsraT4yJiYoKythLGk9MCk7cmV0dXJuIHQudW5pdGFyeT1vLnRvVGFyZ2V0KHQudW5pdGFyeSksdC5kaWFnb25hbD1zLnRvVGFyZ2V0KHQuZGlhZ29uYWwpLHR9KFMsV3QpLnVuaXRhcnksUD10LmhhbGZBeGVzLmNvcHkoayksaj1QLmdldENvbHVtbigwLEJ0KSxUPVAuZ2V0Q29sdW1uKDEsVXQpLEU9UC5nZXRDb2x1bW4oMixWdCksQT0tTnVtYmVyLk1BWF9WQUxVRSxNPS1OdW1iZXIuTUFYX1ZBTFVFLEM9LU51bWJlci5NQVhfVkFMVUUsTD1OdW1iZXIuTUFYX1ZBTFVFLEk9TnVtYmVyLk1BWF9WQUxVRSxSPU51bWJlci5NQVhfVkFMVUUsRD0hMCxGPSExLE49dm9pZCAwO3RyeXtmb3IodmFyIHosQj1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKEQ9KHo9Qi5uZXh0KCkpLmRvbmUpO0Q9ITApe3ZhciBVPXoudmFsdWU7QT1NYXRoLm1heChVLmRvdChqKSxBKSxNPU1hdGgubWF4KFUuZG90KFQpLE0pLEM9TWF0aC5tYXgoVS5kb3QoRSksQyksTD1NYXRoLm1pbihVLmRvdChqKSxMKSxJPU1hdGgubWluKFUuZG90KFQpLEkpLFI9TWF0aC5taW4oVS5kb3QoRSksUil9fWNhdGNoKGUpe0Y9ITAsTj1lfWZpbmFsbHl7dHJ5e0R8fG51bGw9PUIucmV0dXJufHxCLnJldHVybigpfWZpbmFsbHl7aWYoRil0aHJvdyBOfX1qPWoubXVsdGlwbHlCeVNjYWxhciguNSooTCtBKSksVD1ULm11bHRpcGx5QnlTY2FsYXIoLjUqKEkrTSkpLEU9RS5tdWx0aXBseUJ5U2NhbGFyKC41KihSK0MpKSx0LmNlbnRlci5jb3B5KGopLmFkZChUKS5hZGQoRSk7dmFyIFY9enQuc2V0KEEtTCxNLUksQy1SKS5tdWx0aXBseUJ5U2NhbGFyKC41KTtyZXR1cm4gdC5oYWxmQXhlcy5tdWx0aXBseUJ5U2NhbGFyKFYpLHR9dmFyIHF0PW5ldyB2ZS5lLFh0PW5ldyB2ZS5lLFp0PW5ldyB2ZS5lLFl0PW5ldyB2ZS5lLEt0PW5ldyB2ZS5lLFF0PW5ldyB2ZS5lLEp0PW5ldyB2ZS5lLCR0PW5ldyB2ZS5lLGVuPW5ldyB2ZS5lLHRuPW5ldyB2ZS5lLG5uPW5ldyB2ZS5lLHJuPTAsYW49MSxvbj0yLHNuPTMsdW49NCxjbj01LGxuPTYsaG49Nyxmbj04LGRuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbMCwwLDBdLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlswLDAsMCwwLDAsMCwwLDAsMF07T2JqZWN0KEZlLmEpKHRoaXMsZSksdGhpcy5jZW50ZXI9KG5ldyB2ZS5lKS5mcm9tKHQpLHRoaXMuaGFsZkF4ZXM9bmV3IHZlLmEobil9cmV0dXJuIE9iamVjdChOZS5hKShlLFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHRoaXMuY2VudGVyLHRoaXMuaGFsZkF4ZXMpfX0se2tleToiZnJvbVBvaW50cyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm5ldyBlO3JldHVybiBIdCh0LG4pfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcz09PWV8fEJvb2xlYW4oZSkmJnRoaXMuY2VudGVyLmVxdWFscyhlLmNlbnRlcikmJnRoaXMuaGFsZkF4ZXMuZXF1YWxzKGUuaGFsZkF4ZXMpfX0se2tleToiZ2V0Qm91bmRpbmdTcGhlcmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm5ldyBqdCx0PXRoaXMuaGFsZkF4ZXMsbj10LmdldENvbHVtbigwLGVuKSxyPXQuZ2V0Q29sdW1uKDEsdG4pLGk9dC5nZXRDb2x1bW4oMixubiksYT1xdC5jb3B5KG4pLmFkZChyKS5hZGQoaSk7cmV0dXJuIGUuY2VudGVyLmNvcHkodGhpcy5jZW50ZXIpLGUucmFkaXVzPWEubWFnbml0dWRlKCksZX19LHtrZXk6ImludGVyc2VjdFBsYW5lIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNlbnRlcixuPWUubm9ybWFsLHI9dGhpcy5oYWxmQXhlcyxpPW4ueCxhPW4ueSxvPW4ueixzPU1hdGguYWJzKGkqcltybl0rYSpyW2FuXStvKnJbb25dKStNYXRoLmFicyhpKnJbc25dK2Eqclt1bl0rbypyW2NuXSkrTWF0aC5hYnMoaSpyW2xuXSthKnJbaG5dK28qcltmbl0pLHU9bi5kb3QodCkrZS5kaXN0YW5jZTtyZXR1cm4gdTw9LXM/T3QuT1VUU0lERTp1Pj1zP090LklOU0lERTpPdC5JTlRFUlNFQ1RJTkd9fSx7a2V5OiJkaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkVG8oZSkpfX0se2tleToiZGlzdGFuY2VTcXVhcmVkVG8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVh0LmZyb20oZSkuc3VidHJhY3QodGhpcy5jZW50ZXIpLG49dGhpcy5oYWxmQXhlcyxyPW4uZ2V0Q29sdW1uKDAsWnQpLGk9bi5nZXRDb2x1bW4oMSxZdCksYT1uLmdldENvbHVtbigyLEt0KSxvPXIubWFnbml0dWRlKCkscz1pLm1hZ25pdHVkZSgpLHU9YS5tYWduaXR1ZGUoKTtyLm5vcm1hbGl6ZSgpLGkubm9ybWFsaXplKCksYS5ub3JtYWxpemUoKTt2YXIgYz1RdDtjLng9dC5kb3QociksYy55PXQuZG90KGkpLGMuej10LmRvdChhKTt2YXIgbCxoPTA7cmV0dXJuIGMueDwtbz9oKz0obD1jLngrbykqbDpjLng+byYmKGgrPShsPWMueC1vKSpsKSxjLnk8LXM/aCs9KGw9Yy55K3MpKmw6Yy55PnMmJihoKz0obD1jLnktcykqbCksYy56PC11P2grPShsPWMueit1KSpsOmMuej51JiYoaCs9KGw9Yy56LXUpKmwpLGh9fSx7a2V5OiJjb21wdXRlUGxhbmVEaXN0YW5jZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOltbXSxbXV0scj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksaT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksYT10aGlzLmNlbnRlcixvPXRoaXMuaGFsZkF4ZXMscz1vLmdldENvbHVtbigwLFp0KSx1PW8uZ2V0Q29sdW1uKDEsWXQpLGM9by5nZXRDb2x1bW4oMixLdCksbD1KdC5jb3B5KHMpLmFkZCh1KS5hZGQoYykuYWRkKGEpLGg9JHQuY29weShsKS5zdWJ0cmFjdChlKSxmPXQuZG90KGgpO3JldHVybiByPU1hdGgubWluKGYsciksaT1NYXRoLm1heChmLGkpLGwuY29weShhKS5hZGQocykuYWRkKHUpLnN1YnRyYWN0KGMpLGguY29weShsKS5zdWJ0cmFjdChlKSxmPXQuZG90KGgpLHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksbC5jb3B5KGEpLmFkZChzKS5zdWJ0cmFjdCh1KS5hZGQoYyksaC5jb3B5KGwpLnN1YnRyYWN0KGUpLGY9dC5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxsLmNvcHkoYSkuYWRkKHMpLnN1YnRyYWN0KHUpLnN1YnRyYWN0KGMpLGguY29weShsKS5zdWJ0cmFjdChlKSxmPXQuZG90KGgpLHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksYS5jb3B5KGwpLnN1YnRyYWN0KHMpLmFkZCh1KS5hZGQoYyksaC5jb3B5KGwpLnN1YnRyYWN0KGUpLGY9dC5kb3QoaCkscj1NYXRoLm1pbihmLHIpLGk9TWF0aC5tYXgoZixpKSxhLmNvcHkobCkuc3VidHJhY3QocykuYWRkKHUpLnN1YnRyYWN0KGMpLGguY29weShsKS5zdWJ0cmFjdChlKSxmPXQuZG90KGgpLHI9TWF0aC5taW4oZixyKSxpPU1hdGgubWF4KGYsaSksYS5jb3B5KGwpLnN1YnRyYWN0KHMpLnN1YnRyYWN0KHUpLmFkZChjKSxoLmNvcHkobCkuc3VidHJhY3QoZSksZj10LmRvdChoKSxyPU1hdGgubWluKGYsciksaT1NYXRoLm1heChmLGkpLGEuY29weShsKS5zdWJ0cmFjdChzKS5zdWJ0cmFjdCh1KS5zdWJ0cmFjdChjKSxoLmNvcHkobCkuc3VidHJhY3QoZSksZj10LmRvdChoKSxyPU1hdGgubWluKGYsciksaT1NYXRoLm1heChmLGkpLG4uc3RhcnQ9cixuLnN0b3A9aSxufX0se2tleToiZ2V0VHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbigpe319XSksZX0oKSx2bj1uZXcgdmUuZSxwbj1uZXcgdmUuZSxnbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06WzAsMCwxXSxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO09iamVjdChGZS5hKSh0aGlzLGUpLHRoaXMubm9ybWFsPW5ldyB2ZS5lLHRoaXMuZGlzdGFuY2U9LTAsdGhpcy5mcm9tTm9ybWFsRGlzdGFuY2UodCxuKX1yZXR1cm4gT2JqZWN0KE5lLmEpKGUsW3trZXk6ImZyb21Ob3JtYWxEaXN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHZlLmgpKE51bWJlci5pc0Zpbml0ZSh0KSksdGhpcy5ub3JtYWwuZnJvbShlKS5ub3JtYWxpemUoKSx0aGlzLmRpc3RhbmNlPXQsdGhpc319LHtrZXk6ImZyb21Qb2ludE5vcm1hbCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlPXZuLmZyb20oZSksdGhpcy5ub3JtYWwuZnJvbSh0KS5ub3JtYWxpemUoKTt2YXIgbj0tdGhpcy5ub3JtYWwuZG90KGUpO3JldHVybiB0aGlzLmRpc3RhbmNlPW4sdGhpc319LHtrZXk6ImZyb21Db2VmZmljaWVudHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm5vcm1hbC5zZXQoZSx0LG4pLE9iamVjdCh2ZS5oKShPYmplY3QodmUuaykodGhpcy5ub3JtYWwubGVuKCksMSkpLHRoaXMuZGlzdGFuY2U9cix0aGlzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0aGlzLm5vcm1hbCx0aGlzLmRpc3RhbmNlKX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdCh2ZS5rKSh0aGlzLmRpc3RhbmNlLGUuZGlzdGFuY2UpJiZPYmplY3QodmUuaykodGhpcy5ub3JtYWwsZS5ub3JtYWwpfX0se2tleToiZ2V0UG9pbnREaXN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9ybWFsLmRvdChlKSt0aGlzLmRpc3RhbmNlfX0se2tleToidHJhbnNmb3JtIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1wbi5jb3B5KHRoaXMubm9ybWFsKS50cmFuc2Zvcm1Bc1ZlY3RvcihlKS5ub3JtYWxpemUoKSxuPXRoaXMubm9ybWFsLnNjYWxlKC10aGlzLmRpc3RhbmNlKS50cmFuc2Zvcm0oZSk7cmV0dXJuIHRoaXMuZnJvbVBvaW50Tm9ybWFsKG4sdCl9fSx7a2V5OiJwcm9qZWN0UG9pbnRPbnRvUGxhbmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdO2U9dm4uZnJvbShlKTt2YXIgbj10aGlzLmdldFBvaW50RGlzdGFuY2UoZSkscj1wbi5jb3B5KHRoaXMubm9ybWFsKS5zY2FsZShuKTtyZXR1cm4gZS5zdWJ0cmFjdChyKS50byh0KX19XSksZX0oKSx5bj1bbmV3IHZlLmUoWzEsMCwwXSksbmV3IHZlLmUoWzAsMSwwXSksbmV3IHZlLmUoWzAsMCwxXSldLG1uPW5ldyB2ZS5lLGJuPW5ldyB2ZS5lLF9uPShuZXcgZ24obmV3IHZlLmUoMSwwLDApLDApLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtPYmplY3QoRmUuYSkodGhpcyxlKSx0aGlzLnBsYW5lcz10LE9iamVjdCh2ZS5oKSh0aGlzLnBsYW5lcy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBnbn0pKSl9cmV0dXJuIE9iamVjdChOZS5hKShlLG51bGwsW3trZXk6Ik1BU0tfT1VUU0lERSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTV9fSx7a2V5OiJNQVNLX0lOU0lERSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7a2V5OiJNQVNLX0lOREVURVJNSU5BVEUiLGdldDpmdW5jdGlvbigpe3JldHVybiAyMTQ3NDgzNjQ3fX1dKSxPYmplY3QoTmUuYSkoZSxbe2tleToiZnJvbUJvdW5kaW5nU3BoZXJlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnBsYW5lcy5sZW5ndGg9Mip5bi5sZW5ndGg7dmFyIHQ9ZS5jZW50ZXIsbj1lLnJhZGl1cyxyPTAsaT0hMCxhPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT15bltTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlLGw9dGhpcy5wbGFuZXNbcl0saD10aGlzLnBsYW5lc1tyKzFdO2x8fChsPXRoaXMucGxhbmVzW3JdPW5ldyBnbiksaHx8KGg9dGhpcy5wbGFuZXNbcisxXT1uZXcgZ24pO3ZhciBmPW1uLmNvcHkoYykuc2NhbGUoLW4pLmFkZCh0KTtjLmRvdChmKTtsLmZyb21Qb2ludE5vcm1hbChmLGMpO3ZhciBkPW1uLmNvcHkoYykuc2NhbGUobikuYWRkKHQpLHY9Ym4uY29weShjKS5uZWdhdGUoKTt2LmRvdChkKTtoLmZyb21Qb2ludE5vcm1hbChkLHYpLHIrPTJ9fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4gdGhpc319LHtrZXk6ImNvbXB1dGVWaXNpYmlsaXR5Iix2YWx1ZTpmdW5jdGlvbihlKXtPYmplY3QodmUuaCkoZSk7dmFyIHQ9T3QuSU5TSURFLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dGhpcy5wbGFuZXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTtzd2l0Y2goZS5pbnRlcnNlY3RQbGFuZShzKSl7Y2FzZSBPdC5PVVRTSURFOnJldHVybiBPdC5PVVRTSURFO2Nhc2UgT3QuSU5URVJTRUNUSU5HOnQ9T3QuSU5URVJTRUNUSU5HfX19Y2F0Y2goZSl7cj0hMCxpPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiB0fX0se2tleToiY29tcHV0ZVZpc2liaWxpdHlXaXRoUGxhbmVNYXNrIix2YWx1ZTpmdW5jdGlvbih0LG4pe2lmKE9iamVjdCh2ZS5oKSh0LCJib3VuZGluZ1ZvbHVtZSBpcyByZXF1aXJlZC4iKSxPYmplY3QodmUuaCkoTnVtYmVyLmlzRmluaXRlKG4pLCJwYXJlbnRQbGFuZU1hc2sgaXMgcmVxdWlyZWQuIiksbj09PWUuTUFTS19PVVRTSURFfHxuPT09ZS5NQVNLX0lOU0lERSlyZXR1cm4gbjtmb3IodmFyIHI9ZS5NQVNLX0lOU0lERSxpPXRoaXMucGxhbmVzLGE9MDthPHRoaXMucGxhbmVzLmxlbmd0aDsrK2Epe3ZhciBvPWE8MzE/MTw8YTowO2lmKCEoYTwzMSYmMD09KG4mbykpKXt2YXIgcz1pW2FdLHU9dC5pbnRlcnNlY3RQbGFuZShzKTtpZih1PT09T3QuT1VUU0lERSlyZXR1cm4gZS5NQVNLX09VVFNJREU7dT09PU90LklOVEVSU0VDVElORyYmKHJ8PW8pfX1yZXR1cm4gcn19XSksZX0oKSk7ZnVuY3Rpb24gT24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHhuKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP09uKG4sITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChEZS5hKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6T24obikuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfXZhciB3bj1uZXcgdmUuZSxTbj1uZXcgdmUuZSxrbj1uZXcgdmUuZSxQbj1uZXcgdmUuZSxqbj1uZXcgdmUuZSxUbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KEZlLmEpKHRoaXMsZSksdD14bih7bmVhcjoxLGZhcjo1ZTh9LHQpLHRoaXMubGVmdD10LmxlZnQsdGhpcy5fbGVmdD12b2lkIDAsdGhpcy5yaWdodD10LnJpZ2h0LHRoaXMuX3JpZ2h0PXZvaWQgMCx0aGlzLnRvcD10LnRvcCx0aGlzLl90b3A9dm9pZCAwLHRoaXMuYm90dG9tPXQuYm90dG9tLHRoaXMuX2JvdHRvbT12b2lkIDAsdGhpcy5uZWFyPXQubmVhcix0aGlzLl9uZWFyPXRoaXMubmVhcix0aGlzLmZhcj10LmZhcix0aGlzLl9mYXI9dGhpcy5mYXIsdGhpcy5fY3VsbGluZ1ZvbHVtZT1uZXcgX24oW25ldyBnbixuZXcgZ24sbmV3IGduLG5ldyBnbixuZXcgZ24sbmV3IGduXSksdGhpcy5fcGVyc3BlY3RpdmVNYXRyaXg9bmV3IHZlLmIsdGhpcy5faW5maW5pdGVQZXJzcGVjdGl2ZT1uZXcgdmUuYn1yZXR1cm4gT2JqZWN0KE5lLmEpKGUsW3trZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh7cmlnaHQ6dGhpcy5yaWdodCxsZWZ0OnRoaXMubGVmdCx0b3A6dGhpcy50b3AsYm90dG9tOnRoaXMuYm90dG9tLG5lYXI6dGhpcy5uZWFyLGZhcjp0aGlzLmZhcn0pfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCBpbnN0YW5jZW9mIGUmJnRoaXMucmlnaHQ9PT10LnJpZ2h0JiZ0aGlzLmxlZnQ9PT10LmxlZnQmJnRoaXMudG9wPT09dC50b3AmJnRoaXMuYm90dG9tPT09dC5ib3R0b20mJnRoaXMubmVhcj09PXQubmVhciYmdGhpcy5mYXI9PT10LmZhcn19LHtrZXk6ImNvbXB1dGVDdWxsaW5nVm9sdW1lIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7T2JqZWN0KHZlLmgpKGUsInBvc2l0aW9uIGlzIHJlcXVpcmVkLiIpLE9iamVjdCh2ZS5oKSh0LCJkaXJlY3Rpb24gaXMgcmVxdWlyZWQuIiksT2JqZWN0KHZlLmgpKG4sInVwIGlzIHJlcXVpcmVkLiIpO3ZhciByPXRoaXMuX2N1bGxpbmdWb2x1bWUucGxhbmVzO249d24uY29weShuKS5ub3JtYWxpemUoKTt2YXIgaT1Tbi5jb3B5KHQpLmNyb3NzKG4pLm5vcm1hbGl6ZSgpLGE9a24uY29weSh0KS5tdWx0aXBseUJ5U2NhbGFyKHRoaXMubmVhcikuYWRkKGUpLG89UG4uY29weSh0KS5tdWx0aXBseUJ5U2NhbGFyKHRoaXMuZmFyKS5hZGQoZSkscz1qbjtyZXR1cm4gcy5jb3B5KGkpLm11bHRpcGx5QnlTY2FsYXIodGhpcy5sZWZ0KS5hZGQoYSkuc3VidHJhY3QoZSkuY3Jvc3MobiksclswXS5mcm9tUG9pbnROb3JtYWwoZSxzKSxzLmNvcHkoaSkubXVsdGlwbHlCeVNjYWxhcih0aGlzLnJpZ2h0KS5hZGQoYSkuc3VidHJhY3QoZSkuY3Jvc3MobikubmVnYXRlKCksclsxXS5mcm9tUG9pbnROb3JtYWwoZSxzKSxzLmNvcHkobikubXVsdGlwbHlCeVNjYWxhcih0aGlzLmJvdHRvbSkuYWRkKGEpLnN1YnRyYWN0KGUpLmNyb3NzKGkpLm5lZ2F0ZSgpLHJbMl0uZnJvbVBvaW50Tm9ybWFsKGUscykscy5jb3B5KG4pLm11bHRpcGx5QnlTY2FsYXIodGhpcy50b3ApLmFkZChhKS5zdWJ0cmFjdChlKS5jcm9zcyhpKSxyWzNdLmZyb21Qb2ludE5vcm1hbChlLHMpLHM9KG5ldyB2ZS5lKS5jb3B5KHQpLHJbNF0uZnJvbVBvaW50Tm9ybWFsKGEscykscy5uZWdhdGUoKSxyWzVdLmZyb21Qb2ludE5vcm1hbChvLHMpLHRoaXMuX2N1bGxpbmdWb2x1bWV9fSx7a2V5OiJnZXRQaXhlbERpbWVuc2lvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe0VuKHRoaXMpLE9iamVjdCh2ZS5oKShOdW1iZXIuaXNGaW5pdGUoZSkmJk51bWJlci5pc0Zpbml0ZSh0KSksT2JqZWN0KHZlLmgpKGU+MCksT2JqZWN0KHZlLmgpKHQ+MCksT2JqZWN0KHZlLmgpKG4+MCksT2JqZWN0KHZlLmgpKHIpO3ZhciBpPTEvdGhpcy5uZWFyLGE9dGhpcy50b3AqaSxvPTIqbiphL3Qscz0yKm4qKGE9dGhpcy5yaWdodCppKS9lO3JldHVybiByLng9cyxyLnk9byxyfX0se2tleToicHJvamVjdGlvbk1hdHJpeCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEVuKHRoaXMpLHRoaXMuX3BlcnNwZWN0aXZlTWF0cml4fX0se2tleToiaW5maW5pdGVQcm9qZWN0aW9uTWF0cml4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRW4odGhpcyksdGhpcy5faW5maW5pdGVQZXJzcGVjdGl2ZX19XSksZX0oKTtmdW5jdGlvbiBFbihlKXtPYmplY3QodmUuaCkoTnVtYmVyLmlzRmluaXRlKGUucmlnaHQpJiZOdW1iZXIuaXNGaW5pdGUoZS5sZWZ0KSYmTnVtYmVyLmlzRmluaXRlKGUudG9wKSYmTnVtYmVyLmlzRmluaXRlKGUuYm90dG9tKSYmTnVtYmVyLmlzRmluaXRlKGUubmVhcikmJk51bWJlci5pc0Zpbml0ZShlLmZhcikpO3ZhciB0PWUudG9wLG49ZS5ib3R0b20scj1lLnJpZ2h0LGk9ZS5sZWZ0LGE9ZS5uZWFyLG89ZS5mYXI7dD09PWUuX3RvcCYmbj09PWUuX2JvdHRvbSYmaT09PWUuX2xlZnQmJnI9PT1lLl9yaWdodCYmYT09PWUuX25lYXImJm89PT1lLl9mYXJ8fChPYmplY3QodmUuaCkoZS5uZWFyPjAmJmUubmVhcjxlLmZhciwibmVhciBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIGFuZCBsZXNzIHRoYW4gZmFyLiIpLGUuX2xlZnQ9aSxlLl9yaWdodD1yLGUuX3RvcD10LGUuX2JvdHRvbT1uLGUuX25lYXI9YSxlLl9mYXI9byxlLl9wZXJzcGVjdGl2ZU1hdHJpeD0obmV3IHZlLmIpLmZydXN0dW0oe2xlZnQ6aSxyaWdodDpyLGJvdHRvbTpuLHRvcDp0LG5lYXI6YSxmYXI6b30pLGUuX2luZmluaXRlUGVyc3BlY3RpdmU9KG5ldyB2ZS5iKS5mcnVzdHVtKHtsZWZ0OmkscmlnaHQ6cixib3R0b206bix0b3A6dCxuZWFyOmEsZmFyOjEvMH0pKX1mdW5jdGlvbiBBbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gTW4oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/QW4obiwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0KERlLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpBbihuKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3QoRmUuYSkodGhpcyxlKSx0PU1uKHtuZWFyOjEsZmFyOjVlOCx4T2Zmc2V0OjAseU9mZnNldDowfSx0KSx0aGlzLl9vZmZDZW50ZXJGcnVzdHVtPW5ldyBUbix0aGlzLmZvdj10LmZvdix0aGlzLl9mb3Y9dm9pZCAwLHRoaXMuX2Zvdnk9dm9pZCAwLHRoaXMuX3NzZURlbm9taW5hdG9yPXZvaWQgMCx0aGlzLmFzcGVjdFJhdGlvPXQuYXNwZWN0UmF0aW8sdGhpcy5fYXNwZWN0UmF0aW89dm9pZCAwLHRoaXMubmVhcj10Lm5lYXIsdGhpcy5fbmVhcj10aGlzLm5lYXIsdGhpcy5mYXI9dC5mYXIsdGhpcy5fZmFyPXRoaXMuZmFyLHRoaXMueE9mZnNldD10LnhPZmZzZXQsdGhpcy5feE9mZnNldD10aGlzLnhPZmZzZXQsdGhpcy55T2Zmc2V0PXQueU9mZnNldCx0aGlzLl95T2Zmc2V0PXRoaXMueU9mZnNldH1PYmplY3QoTmUuYSkoZSxbe2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHthc3BlY3RSYXRpbzp0aGlzLmFzcGVjdFJhdGlvLGZvdjp0aGlzLmZvdixuZWFyOnRoaXMubmVhcixmYXI6dGhpcy5mYXJ9KX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJnQgaW5zdGFuY2VvZiBlJiYoQ24odGhpcyksQ24odCksdGhpcy5mb3Y9PT10LmZvdiYmdGhpcy5hc3BlY3RSYXRpbz09PXQuYXNwZWN0UmF0aW8mJnRoaXMubmVhcj09PXQubmVhciYmdGhpcy5mYXI9PT10LmZhciYmdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5lcXVhbHModC5fb2ZmQ2VudGVyRnJ1c3R1bSkpfX0se2tleToiY29tcHV0ZUN1bGxpbmdWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQ24odGhpcyksdGhpcy5fb2ZmQ2VudGVyRnJ1c3R1bS5jb21wdXRlQ3VsbGluZ1ZvbHVtZShlLHQsbil9fSx7a2V5OiJnZXRQaXhlbERpbWVuc2lvbnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBDbih0aGlzKSx0aGlzLl9vZmZDZW50ZXJGcnVzdHVtLmdldFBpeGVsRGltZW5zaW9ucyhlLHQsbixyKX19LHtrZXk6InByb2plY3Rpb25NYXRyaXgiLGdldDpmdW5jdGlvbigpe3JldHVybiBDbih0aGlzKSx0aGlzLl9vZmZDZW50ZXJGcnVzdHVtLnByb2plY3Rpb25NYXRyaXh9fSx7a2V5OiJpbmZpbml0ZVByb2plY3Rpb25NYXRyaXgiLGdldDpmdW5jdGlvbigpe3JldHVybiBDbih0aGlzKSx0aGlzLl9vZmZDZW50ZXJGcnVzdHVtLmluZmluaXRlUHJvamVjdGlvbk1hdHJpeH19LHtrZXk6ImZvdnkiLGdldDpmdW5jdGlvbigpe3JldHVybiBDbih0aGlzKSx0aGlzLl9mb3Z5fX0se2tleToic3NlRGVub21pbmF0b3IiLGdldDpmdW5jdGlvbigpe3JldHVybiBDbih0aGlzKSx0aGlzLl9zc2VEZW5vbWluYXRvcn19XSl9KCk7ZnVuY3Rpb24gQ24oZSl7T2JqZWN0KHZlLmgpKE51bWJlci5pc0Zpbml0ZShlLmZvdikmJk51bWJlci5pc0Zpbml0ZShlLmFzcGVjdFJhdGlvKSYmTnVtYmVyLmlzRmluaXRlKGUubmVhcikmJk51bWJlci5pc0Zpbml0ZShlLmZhcikpO3ZhciB0PWUuX29mZkNlbnRlckZydXN0dW07ZS5mb3Y9PT1lLl9mb3YmJmUuYXNwZWN0UmF0aW89PT1lLl9hc3BlY3RSYXRpbyYmZS5uZWFyPT09ZS5fbmVhciYmZS5mYXI9PT1lLl9mYXImJmUueE9mZnNldD09PWUuX3hPZmZzZXQmJmUueU9mZnNldD09PWUuX3lPZmZzZXR8fChPYmplY3QodmUuaCkoZS5mb3Y+PTAmJmUuZm92PE1hdGguUEkpLE9iamVjdCh2ZS5oKShlLmFzcGVjdFJhdGlvPjApLE9iamVjdCh2ZS5oKShlLm5lYXI+PTAmJmUubmVhcjxlLmZhciksZS5fYXNwZWN0UmF0aW89ZS5hc3BlY3RSYXRpbyxlLl9mb3Y9ZS5mb3YsZS5fZm92eT1lLmFzcGVjdFJhdGlvPD0xP2UuZm92OjIqTWF0aC5hdGFuKE1hdGgudGFuKC41KmUuZm92KS9lLmFzcGVjdFJhdGlvKSxlLl9uZWFyPWUubmVhcixlLl9mYXI9ZS5mYXIsZS5fc3NlRGVub21pbmF0b3I9MipNYXRoLnRhbiguNSplLl9mb3Z5KSxlLl94T2Zmc2V0PWUueE9mZnNldCxlLl95T2Zmc2V0PWUueU9mZnNldCx0LnRvcD1lLm5lYXIqTWF0aC50YW4oLjUqZS5fZm92eSksdC5ib3R0b209LXQudG9wLHQucmlnaHQ9ZS5hc3BlY3RSYXRpbyp0LnRvcCx0LmxlZnQ9LXQucmlnaHQsdC5uZWFyPWUubmVhcix0LmZhcj1lLmZhcix0LnJpZ2h0Kz1lLnhPZmZzZXQsdC5sZWZ0Kz1lLnhPZmZzZXQsdC50b3ArPWUueU9mZnNldCx0LmJvdHRvbSs9ZS55T2Zmc2V0KX1uZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxuZXcgdmUuZSxNYXRoLlBJO3ZhciBMbj1uZXcgVGUuYSxJbj1uZXcgVGUuYSxSbj1uZXcgX24oW25ldyBnbixuZXcgZ24sbmV3IGduLG5ldyBnbixuZXcgZ24sbmV3IGduXSk7ZnVuY3Rpb24gRG4oZSx0KXt2YXIgbj1lLmNhbWVyYURpcmVjdGlvbixyPWUuY2FtZXJhVXAsaT1lLmhlaWdodCxhPWUuZGlzdGFuY2VTY2FsZXMubWV0ZXJzUGVyVW5pdCxvPVtlLmxvbmdpdHVkZSxlLmxhdGl0dWRlLDBdLHM9ZnQuV0dTODQuY2FydG9ncmFwaGljVG9DYXJ0ZXNpYW4obyxuZXcgVGUuYSksdT1mdC5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShzKSxjPWUudW5wcm9qZWN0UG9zaXRpb24oZS5jYW1lcmFQb3NpdGlvbiksbD1mdC5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihjLG5ldyBUZS5hKSxoPW5ldyBUZS5hKHUudHJhbnNmb3JtQXNWZWN0b3IobmV3IFRlLmEobikuc2NhbGUoYSkpKS5ub3JtYWxpemUoKSxmPW5ldyBUZS5hKHUudHJhbnNmb3JtQXNWZWN0b3IobmV3IFRlLmEocikuc2NhbGUoYSkpKS5ub3JtYWxpemUoKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldEZydXN0dW1QbGFuZXMoKSxyPTA7Zm9yKHZhciBpIGluIG4pe3ZhciBhPW5baV0sbz1hLm5vcm1hbC5kb3QoZS5jZW50ZXIpO0luLmNvcHkoYS5ub3JtYWwpLnNjYWxlKGEuZGlzdGFuY2UtbykuYWRkKGUuY2VudGVyKTt2YXIgcz1lLnVucHJvamVjdFBvc2l0aW9uKEluKSx1PWZ0LldHUzg0LmNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuKHMsbmV3IFRlLmEpO1JuLnBsYW5lc1tyKytdLmZyb21Qb2ludE5vcm1hbCh1LExuLmNvcHkodCkuc3VidHJhY3QodSkpfX0oZSxzKSx7Y2FtZXJhOntwb3NpdGlvbjpsLGRpcmVjdGlvbjpoLHVwOmZ9LHZpZXdwb3J0OmUsaGVpZ2h0OmksY3VsbGluZ1ZvbHVtZTpSbixmcmFtZU51bWJlcjp0LHNzZURlbm9taW5hdG9yOjEuMTV9fXZhciBGbj1uZXcgVGUuYTt2YXIgTm49bigyNiksem49MCxCbj0xLFVuPTMsVm49NCxHbj01LFduPTEsSG49Mixxbj0iZW1wdHkiLFhuPSJzY2VuZWdyYXBoIixabj0icG9pbnRjbG91ZCIsWW49Im1lc2giLEtuPSJJM1MiLFFuPSJUSUxFUzNEIixKbj0iZ2VvbWV0cmljRXJyb3IiLCRuPTE7ZnVuY3Rpb24gZXIoZSl7dGhyb3cgbmV3IEVycm9yKCciJytlKyciIGlzIHJlYWQtb25seScpfXZhciB0cj1uKDE4NCksbnI9bigyMCk7ZnVuY3Rpb24gcnIoZSl7cmV0dXJuIG51bGwhPWV9bmV3IHRyLmE7dmFyIGlyPW5ldyBUZS5hLGFyPW5ldyBUZS5hLG9yPW5ldyBUZS5hO25ldyB6ZS5hO2Z1bmN0aW9uIHNyKGUsdCxuKXtpZihPYmplY3QodnQuYSkoZSwiM0QgVGlsZTogYm91bmRpbmdWb2x1bWUgbXVzdCBiZSBkZWZpbmVkIiksZS5ib3gpcmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uZXcgVGUuYShlWzBdLGVbMV0sZVsyXSk7dC50cmFuc2Zvcm0ocixyKTt2YXIgaT10LnRyYW5zZm9ybUFzVmVjdG9yKGUuc2xpY2UoMyw2KSksYT10LnRyYW5zZm9ybUFzVmVjdG9yKGUuc2xpY2UoNiw5KSksbz10LnRyYW5zZm9ybUFzVmVjdG9yKGUuc2xpY2UoOSwxMikpLHM9bmV3IHRyLmEoW2lbMF0saVsxXSxpWzJdLGFbMF0sYVsxXSxhWzJdLG9bMF0sb1sxXSxvWzJdXSk7aWYocnIobikpcmV0dXJuIG4uY2VudGVyPXIsbi5oYWxmQXhlcz1zLG47cmV0dXJuIG5ldyBkbihyLHMpfShlLmJveCx0LG4pO2lmKGUucmVnaW9uKXt2YXIgcj1PYmplY3QoQmUuYSkoZS5yZWdpb24sNiksaT1yWzBdLGE9clsxXSxvPXJbMl0scz1yWzNdLHU9cls0XSxjPXJbNV0sbD1mdC5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihbT2JqZWN0KG5yLmMpKGkpLE9iamVjdChuci5jKShzKSx1XSxhciksaD1mdC5XR1M4NC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihbT2JqZWN0KG5yLmMpKG8pLE9iamVjdChuci5jKShhKSxjXSxvciksZj0obmV3IFRlLmEpLmFkZFZlY3RvcnMobCxoKS5tdWx0aXBseVNjYWxhciguNSksZD0obmV3IFRlLmEpLnN1YlZlY3RvcnMobCxoKS5sZW4oKS8yO3JldHVybiB1cihbZlswXSxmWzFdLGZbMl0sZF0sbmV3IHplLmEpfWlmKGUuc3BoZXJlKXJldHVybiB1cihlLnNwaGVyZSx0LG4pO3Rocm93IG5ldyBFcnJvcigiM0QgVGlsZTogYm91bmRpbmdWb2x1bWUgbXVzdCBjb250YWluIGEgc3BoZXJlLCByZWdpb24sIG9yIGJveCIpfWZ1bmN0aW9uIHVyKGUsdCxuKXt2YXIgcj1uZXcgVGUuYShlWzBdLGVbMV0sZVsyXSk7dC50cmFuc2Zvcm0ocixyKTt2YXIgaT10LmdldFNjYWxlKGlyKSxhPU1hdGgubWF4KE1hdGgubWF4KGlbMF0saVsxXSksaVsyXSksbz1lWzNdKmE7cmV0dXJuIHJyKG4pPyhuLmNlbnRlcj1yLG4ucmFkaXVzPW8sbik6bmV3IGp0KHIsbyl9bmV3IFRlLmEsbmV3IFRlLmEsbmV3IHplLmEsbmV3IFRlLmEsbmV3IFRlLmEsbmV3IFRlLmE7ZnVuY3Rpb24gY3IoZSx0KXtpZihlLmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yJiZlLl9keW5hbWljU2NyZWVuU3BhY2VFcnJvckNvbXB1dGVkRGVuc2l0eSl7dmFyIG49ZS5fZHluYW1pY1NjcmVlblNwYWNlRXJyb3JDb21wdXRlZERlbnNpdHkscj1lLmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRmFjdG9yO3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPWUqdDtyZXR1cm4gMS1NYXRoLmV4cCgtbipuKX0odCxuKSpyfXJldHVybiAwfXZhciBscj1NYXRoLlBJLzI7ZnVuY3Rpb24gaHIoZSl7dmFyIHQ9T2JqZWN0KEJlLmEpKGUsMyksbj10WzBdLHI9dFsxXSxpPXRbMl0sYT1PYmplY3QobnIuaikobiksbz1PYmplY3QobnIuaikocikscz0xK2kvNjM3ODEzNyx1PXMqTWF0aC5jb3Mobyk7cmV0dXJuW249dSpNYXRoLmNvcyhhKSxyPXUqTWF0aC5zaW4oYSksaT1zKk1hdGguc2luKG8pXX1mdW5jdGlvbiBmcihlLHQpe3ZhciBuPU9iamVjdChCZS5hKShlLDMpLHI9blswXSxpPW5bMV0sYT1uWzJdLG89dm9pZCAwPT09YT8wOmEscz1PYmplY3QoQmUuYSkodCwzKSx1PXNbMF0sYz1zWzFdLGw9c1syXSxoPWhyKFt1LGMsdm9pZCAwPT09bD8wOmxdKSxmPWhyKFtyLGksb10pLGQ9ZlswXS1oWzBdLHY9ZlsxXS1oWzFdLHA9ZlsyXS1oWzJdO3JldHVybiBkKmQrdip2K3AqcH1mdW5jdGlvbiBkcihlLHQpe3ZhciBuPXQudmlld3BvcnQscj1lLmhlYWRlci5tYnNbMV0saT1bZS5oZWFkZXIubWJzWzBdLHIsZS5oZWFkZXIubWJzWzJdXSxhPWUuaGVhZGVyLm1ic1szXS82Mzc4MTM3LG89ZnIobi51bnByb2plY3RQb3NpdGlvbihuLmNhbWVyYVBvc2l0aW9uKSxpKS1hKmE7aWYobzw9MClyZXR1cm4gMTcwMTQxMTc1ZTMwO3ZhciBzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC52aWV3cG9ydCxyPW4ud2lkdGgsaT1uLmhlaWdodCxhPW4ucGl4ZWxQcm9qZWN0aW9uTWF0cml4LG89TWF0aC50YW4oTWF0aC5hdGFuKE1hdGguc3FydCgxLyhhWzBdKmFbMF0pKzEvKGFbNV0qYVs1XSkpKSk7cmV0dXJuIE1hdGguc3FydChpKmkrcipyKS9vfSgwLHQpO3JldHVybiBzKj1hL01hdGguc3FydChvKS9uLnNjYWxlfWZ1bmN0aW9uIHZyKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBwcihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj92cihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChEZS5hKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6dnIoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIGdyPW5ldyBUZS5hO2Z1bmN0aW9uIHlyKGUpe3JldHVybiBlLmlzVmlzaWJsZT9lLmNvbnRlbnRTdGF0ZT09PXpuPy0xOk1hdGgubWF4KDFlNy1lLl9wcmlvcml0eSwwKXx8MDotMX12YXIgbXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtPYmplY3QoRmUuYSkodGhpcyxlKSxPYmplY3QodnQuYSkoIm9iamVjdCI9PT1PYmplY3QoTm4uYSkobikpLHRoaXMuaGVhZGVyPW4sdGhpcy50aWxlc2V0PXQsdGhpcy5pZD1uLmlkLHRoaXMudXJsPW4udXJsLHRoaXMucGFyZW50PXIsdGhpcy5yZWZpbmU9dGhpcy5fZ2V0UmVmaW5lKG4ucmVmaW5lKSx0aGlzLnR5cGU9bi50eXBlLHRoaXMuY29udGVudFVybD1uLmNvbnRlbnRVcmwsdGhpcy5sb2RNZXRyaWNUeXBlPW51bGwsdGhpcy5sb2RNZXRyaWNWYWx1ZT1udWxsLHRoaXMuYm91bmRpbmdWb2x1bWU9bnVsbCx0aGlzLmNvbnRlbnQ9bnVsbCx0aGlzLmNvbnRlbnRTdGF0ZT16bix0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcz0wLHRoaXMuY2hpbGRyZW49W10sdGhpcy5kZXB0aD0wLHRoaXMuX2NhY2hlTm9kZT1udWxsLHRoaXMuX2ZyYW1lTnVtYmVyPW51bGwsdGhpcy5fY2FjaGVOb2RlPW51bGwsdGhpcy5faW5pdGlhbGl6ZUxvZE1ldHJpYyhuKSx0aGlzLl9pbml0aWFsaXplVHJhbnNmb3JtcyhuKSx0aGlzLl9pbml0aWFsaXplQm91bmRpbmdWb2x1bWVzKG4pLHRoaXMuX2luaXRpYWxpemVDb250ZW50KG4pLHRoaXMuX2luaXRpYWxpemVSZW5kZXJpbmdTdGF0ZShuKSx0aGlzLl9sb2RKdWRnZT1udWxsLHRoaXMuX2V4cGlyZURhdGU9bnVsbCx0aGlzLl9leHBpcmVkQ29udGVudD1udWxsLE9iamVjdC5zZWFsKHRoaXMpfXZhciB0O3JldHVybiBPYmplY3QoTmUuYSkoZSxbe2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcj1udWxsfX0se2tleToiaXNEZXN0cm95ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLmhlYWRlcn19LHtrZXk6ImdldFNjcmVlblNwYWNlRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7c3dpdGNoKHRoaXMudGlsZXNldC50eXBlKXtjYXNlIEtuOnJldHVybiBkcih0aGlzLGUpO2Nhc2UgUW46cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLnRpbGVzZXQsaT1lLnBhcmVudCYmZS5wYXJlbnQubG9kTWV0cmljVmFsdWV8fGUubG9kTWV0cmljVmFsdWUsYT1uP2k6ZS5sb2RNZXRyaWNWYWx1ZTtpZigwPT09YSlyZXR1cm4gMDt2YXIgbz1NYXRoLm1heChlLl9kaXN0YW5jZVRvQ2FtZXJhLDFlLTcpLHM9YSp0LmhlaWdodC8obyp0LnNzZURlbm9taW5hdG9yKTtyZXR1cm4gcy09Y3IocixvKX0odGhpcyxlLHQpO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlVuc3VwcG9ydGVkIHRpbGVzZXQgdHlwZSIpLG51bGx9fX0se2tleToibG9hZENvbnRlbnQiLHZhbHVlOih0PU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxuLHIsaTtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighdGhpcy5oYXNFbXB0eUNvbnRlbnQpe2UubmV4dD0yO2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIiwhMSk7Y2FzZSAyOmlmKCF0aGlzLmNvbnRlbnQpe2UubmV4dD00O2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSA0OnJldHVybiB0aGlzLmNvbnRlbnRFeHBpcmVkJiYodGhpcy5fZXhwaXJlRGF0ZT1udWxsKSx0aGlzLmNvbnRlbnRTdGF0ZT1CbixlLm5leHQ9OSx0aGlzLnRpbGVzZXQuX3JlcXVlc3RTY2hlZHVsZXIuc2NoZWR1bGVSZXF1ZXN0KHRoaXMseXIpO2Nhc2UgOTppZihlLnNlbnQpe2UubmV4dD0xMzticmVha31yZXR1cm4gdGhpcy5jb250ZW50U3RhdGU9em4sZS5hYnJ1cHQoInJldHVybiIsITEpO2Nhc2UgMTM6cmV0dXJuIGUucHJldj0xMyx0PXRoaXMudGlsZXNldC5nZXRUaWxlVXJsKHRoaXMuY29udGVudFVybCksdGhpcy50aWxlc2V0Ll9yZXF1ZXN0U2NoZWR1bGVyLnN0YXJ0UmVxdWVzdCh0aGlzKSxuPXRoaXMudGlsZXNldC5mZXRjaE9wdGlvbnMscj10aGlzLnRpbGVzZXQubG9hZGVyLGk9cHIoe30sbixPYmplY3QoRGUuYSkoe30sci5pZCx7dGlsZTp0aGlzLmhlYWRlcix0aWxlc2V0OnRoaXMudGlsZXNldC50aWxlc2V0fSkpLGUubmV4dD0yMSxPYmplY3QoSWUuYSkodCxyLGkpO2Nhc2UgMjE6cmV0dXJuIHRoaXMuY29udGVudD1lLnNlbnQsdGhpcy5faXNUaWxlc2V0KCkmJnRoaXMudGlsZXNldC5faW5pdGlhbGl6ZVRpbGVIZWFkZXJzKHRoaXMuY29udGVudCx0aGlzLHB0LmEuZGlybmFtZSh0aGlzLmNvbnRlbnRVcmwpKSx0aGlzLmNvbnRlbnRTdGF0ZT1Vbix0aGlzLl9vbkNvbnRlbnRMb2FkZWQoKSxlLmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSAyODp0aHJvdyBlLnByZXY9MjgsZS50MD1lLmNhdGNoKDEzKSx0aGlzLmNvbnRlbnRTdGF0ZT1HbixlLnQwO2Nhc2UgMzI6cmV0dXJuIGUucHJldj0zMix0aGlzLnRpbGVzZXQuX3JlcXVlc3RTY2hlZHVsZXIuZW5kUmVxdWVzdCh0aGlzKSxlLmZpbmlzaCgzMik7Y2FzZSAzNTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzEzLDI4LDMyLDM1XV0pfSkpKSxmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJ1bmxvYWRDb250ZW50Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQmJnRoaXMuY29udGVudC5kZXN0cm95JiZ0aGlzLmNvbnRlbnQuZGVzdHJveSgpLHRoaXMuY29udGVudD1udWxsLHRoaXMuY29udGVudFN0YXRlPXpuLCEwfX0se2tleToidXBkYXRlVmlzaWJpbGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fZnJhbWVOdW1iZXIhPT1lLmZyYW1lTnVtYmVyKXt2YXIgdD10aGlzLnBhcmVudCxuPXQ/dC5jb21wdXRlZFRyYW5zZm9ybTp0aGlzLnRpbGVzZXQubW9kZWxNYXRyaXgscj10P3QuX3Zpc2liaWxpdHlQbGFuZU1hc2s6X24uTUFTS19JTkRFVEVSTUlOQVRFO3RoaXMuX3VwZGF0ZVRyYW5zZm9ybShuKSx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPXRoaXMuZGlzdGFuY2VUb1RpbGUoZSksdGhpcy5fc2NyZWVuU3BhY2VFcnJvcj10aGlzLmdldFNjcmVlblNwYWNlRXJyb3IoZSwhMSksdGhpcy5fdmlzaWJpbGl0eVBsYW5lTWFzaz10aGlzLnZpc2liaWxpdHkoZSxyKSx0aGlzLl92aXNpYmxlPXRoaXMuX3Zpc2liaWxpdHlQbGFuZU1hc2shPT1fbi5NQVNLX09VVFNJREUsdGhpcy5faW5SZXF1ZXN0Vm9sdW1lPXRoaXMuaW5zaWRlVmlld2VyUmVxdWVzdFZvbHVtZShlKSx0aGlzLl9wcmlvcml0eT10aGlzLmxvZE1ldHJpY1ZhbHVlLHRoaXMuX2ZyYW1lTnVtYmVyPWUuZnJhbWVOdW1iZXJ9fX0se2tleToidmlzaWJpbGl0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmN1bGxpbmdWb2x1bWUscj10aGlzLmJvdW5kaW5nVm9sdW1lO3JldHVybiBuLmNvbXB1dGVWaXNpYmlsaXR5V2l0aFBsYW5lTWFzayhyLHQpfX0se2tleToiY29udGVudFZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEwfX0se2tleToiZGlzdGFuY2VUb1RpbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYm91bmRpbmdWb2x1bWU7cmV0dXJuIE1hdGguc3FydChNYXRoLm1heCh0LmRpc3RhbmNlU3F1YXJlZFRvKGUuY2FtZXJhLnBvc2l0aW9uKSwwKSl9fSx7a2V5OiJjYW1lcmFTcGFjZVpEZXB0aCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jYW1lcmEsbj10aGlzLmJvdW5kaW5nVm9sdW1lO3JldHVybiBnci5zdWJWZWN0b3JzKG4uY2VudGVyLHQucG9zaXRpb24pLHQuZGlyZWN0aW9uLmRvdChncil9fSx7a2V5OiJpbnNpZGVWaWV3ZXJSZXF1ZXN0Vm9sdW1lIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl92aWV3ZXJSZXF1ZXN0Vm9sdW1lO3JldHVybiF0fHwwPT09dC5kaXN0YW5jZVRvQ2FtZXJhKGUpfX0se2tleToiX2luaXRpYWxpemVMb2RNZXRyaWMiLHZhbHVlOmZ1bmN0aW9uKGUpeyJsb2RNZXRyaWNUeXBlImluIGU/dGhpcy5sb2RNZXRyaWNUeXBlPWUubG9kTWV0cmljVHlwZToodGhpcy5sb2RNZXRyaWNUeXBlPXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5sb2RNZXRyaWNUeXBlfHx0aGlzLnRpbGVzZXQubG9kTWV0cmljVHlwZSxjb25zb2xlLndhcm4oIjNEIFRpbGU6IFJlcXVpcmVkIHByb3AgbG9kTWV0cmljVHlwZSBpcyB1bmRlZmluZWQuIFVzaW5nIHBhcmVudCBsb2RNZXRyaWNUeXBlIikpLCJsb2RNZXRyaWNWYWx1ZSJpbiBlP3RoaXMubG9kTWV0cmljVmFsdWU9ZS5sb2RNZXRyaWNWYWx1ZToodGhpcy5sb2RNZXRyaWNWYWx1ZT10aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQubG9kTWV0cmljVmFsdWV8fHRoaXMudGlsZXNldC5sb2RNZXRyaWNWYWx1ZSxjb25zb2xlLndhcm4oIjNEIFRpbGU6IFJlcXVpcmVkIHByb3AgbG9kTWV0cmljVmFsdWUgaXMgdW5kZWZpbmVkLiBVc2luZyBwYXJlbnQgbG9kTWV0cmljVmFsdWUiKSl9fSx7a2V5OiJfaW5pdGlhbGl6ZVRyYW5zZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudHJhbnNmb3JtPWUudHJhbnNmb3JtP25ldyB6ZS5hKGUudHJhbnNmb3JtKTpuZXcgemUuYTt2YXIgdD10aGlzLnBhcmVudCxuPXRoaXMudGlsZXNldCxyPXQmJnQuY29tcHV0ZWRUcmFuc2Zvcm0/dC5jb21wdXRlZFRyYW5zZm9ybS5jbG9uZSgpOm4ubW9kZWxNYXRyaXguY2xvbmUoKTt0aGlzLmNvbXB1dGVkVHJhbnNmb3JtPW5ldyB6ZS5hKHIpLm11bHRpcGx5UmlnaHQodGhpcy50cmFuc2Zvcm0pO3ZhciBpPXQmJnQuX2luaXRpYWxUcmFuc2Zvcm0/dC5faW5pdGlhbFRyYW5zZm9ybS5jbG9uZSgpOm5ldyB6ZS5hO3RoaXMuX2luaXRpYWxUcmFuc2Zvcm09bmV3IHplLmEoaSkubXVsdGlwbHlSaWdodCh0aGlzLnRyYW5zZm9ybSl9fSx7a2V5OiJfaW5pdGlhbGl6ZUJvdW5kaW5nVm9sdW1lcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fY29udGVudEJvdW5kaW5nVm9sdW1lPW51bGwsdGhpcy5fdmlld2VyUmVxdWVzdFZvbHVtZT1udWxsLHRoaXMuX3VwZGF0ZUJvdW5kaW5nVm9sdW1lKGUpfX0se2tleToiX2luaXRpYWxpemVDb250ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbnRlbnQ9e190aWxlc2V0OnRoaXMudGlsZXNldCxfdGlsZTp0aGlzfSx0aGlzLmhhc0VtcHR5Q29udGVudD0hMCx0aGlzLmNvbnRlbnRTdGF0ZT16bix0aGlzLmhhc1RpbGVzZXRDb250ZW50PSExLGUuY29udGVudFVybCYmKHRoaXMuY29udGVudD1udWxsLHRoaXMuaGFzRW1wdHlDb250ZW50PSExKX19LHtrZXk6Il9pbml0aWFsaXplUmVuZGVyaW5nU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZGVwdGg9ZS5sZXZlbCx0aGlzLl9zaG91bGRSZWZpbmU9ITEsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHRoaXMuX2NlbnRlclpEZXB0aD0wLHRoaXMuX3NjcmVlblNwYWNlRXJyb3I9MCx0aGlzLl92aXNpYmlsaXR5UGxhbmVNYXNrPV9uLk1BU0tfSU5ERVRFUk1JTkFURSx0aGlzLl92aXNpYmxlPSExLHRoaXMuX2luUmVxdWVzdFZvbHVtZT0hMSx0aGlzLl9zdGFja0xlbmd0aD0wLHRoaXMuX3NlbGVjdGlvbkRlcHRoPTAsdGhpcy5fZnJhbWVOdW1iZXI9MCx0aGlzLl90b3VjaGVkRnJhbWU9MCx0aGlzLl92aXNpdGVkRnJhbWU9MCx0aGlzLl9zZWxlY3RlZEZyYW1lPTAsdGhpcy5fcmVxdWVzdGVkRnJhbWU9MCx0aGlzLl9wcmlvcml0eT0wfX0se2tleToiX2dldFJlZmluZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGV8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5yZWZpbmV8fEhufX0se2tleToiX2lzVGlsZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXRoaXMuY29udGVudFVybC5pbmRleE9mKCIuanNvbiIpfX0se2tleToiX29uQ29udGVudExvYWRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5jb250ZW50JiZ0aGlzLmNvbnRlbnQudHlwZSl7Y2FzZSJ2Y3RyIjpjYXNlImdlb20iOnRoaXMudGlsZXNldC50cmF2ZXJzZXIuZGlzYWJsZVNraXBMZXZlbE9mRGV0YWlsPSEwfXRoaXMuX2lzVGlsZXNldCgpJiYodGhpcy5oYXNUaWxlc2V0Q29udGVudD0hMCl9fSx7a2V5OiJfdXBkYXRlQm91bmRpbmdWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuYm91bmRpbmdWb2x1bWU9c3IoZS5ib3VuZGluZ1ZvbHVtZSx0aGlzLmNvbXB1dGVkVHJhbnNmb3JtLHRoaXMuYm91bmRpbmdWb2x1bWUpO3ZhciB0PWUuY29udGVudDt0JiYodC5ib3VuZGluZ1ZvbHVtZSYmKHRoaXMuX2NvbnRlbnRCb3VuZGluZ1ZvbHVtZT1zcih0LmJvdW5kaW5nVm9sdW1lLHRoaXMuY29tcHV0ZWRUcmFuc2Zvcm0sdGhpcy5fY29udGVudEJvdW5kaW5nVm9sdW1lKSksZS52aWV3ZXJSZXF1ZXN0Vm9sdW1lJiYodGhpcy5fdmlld2VyUmVxdWVzdFZvbHVtZT1zcihlLnZpZXdlclJlcXVlc3RWb2x1bWUsdGhpcy5jb21wdXRlZFRyYW5zZm9ybSx0aGlzLl92aWV3ZXJSZXF1ZXN0Vm9sdW1lKSkpfX0se2tleToiX3VwZGF0ZVRyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bmV3IHplLmEsdD1lLmNsb25lKCkubXVsdGlwbHlSaWdodCh0aGlzLnRyYW5zZm9ybSksbj0hdC5lcXVhbHModGhpcy5jb21wdXRlZFRyYW5zZm9ybSk7biYmKHRoaXMuY29tcHV0ZWRUcmFuc2Zvcm09dCx0aGlzLl91cGRhdGVCb3VuZGluZ1ZvbHVtZSh0aGlzLmhlYWRlcikpfX0se2tleToidXBkYXRlRXhwaXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl9leHBpcmVEYXRlJiZ0aGlzLmNvbnRlbnRSZWFkeSYmIXRoaXMuaGFzRW1wdHlDb250ZW50KXt2YXIgZT1EYXRlLm5vdygpO0RhdGUubGVzc1RoYW4odGhpcy5fZXhwaXJlRGF0ZSxlKSYmKHRoaXMuY29udGVudFN0YXRlPVZuLHRoaXMuX2V4cGlyZWRDb250ZW50PXRoaXMuY29udGVudCl9fX0se2tleToic2VsZWN0ZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZEZyYW1lPT09dGhpcy50aWxlc2V0Ll9mcmFtZU51bWJlcn19LHtrZXk6ImlzVmlzaWJsZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Zpc2libGV9fSx7a2V5OiJpc1Zpc2libGVBbmRJblJlcXVlc3RWb2x1bWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92aXNpYmxlJiZ0aGlzLl9pblJlcXVlc3RWb2x1bWV9fSx7a2V5OiJoYXNSZW5kZXJDb250ZW50IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5oYXNFbXB0eUNvbnRlbnQmJiF0aGlzLmhhc1RpbGVzZXRDb250ZW50fX0se2tleToiaGFzQ2hpbGRyZW4iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD4wfHx0aGlzLmhlYWRlci5jaGlsZHJlbiYmdGhpcy5oZWFkZXIuY2hpbGRyZW4ubGVuZ3RoPjB9fSx7a2V5OiJjb250ZW50UmVhZHkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PVVufHx0aGlzLmhhc0VtcHR5Q29udGVudH19LHtrZXk6ImNvbnRlbnRBdmFpbGFibGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuY29udGVudFJlYWR5JiZ0aGlzLmhhc1JlbmRlckNvbnRlbnR8fHRoaXMuX2V4cGlyZWRDb250ZW50JiYhdGhpcy5jb250ZW50RmFpbGVkKX19LHtrZXk6Imhhc1VubG9hZGVkQ29udGVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUmVuZGVyQ29udGVudCYmdGhpcy5jb250ZW50VW5sb2FkZWR9fSx7a2V5OiJjb250ZW50VW5sb2FkZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PXpufX0se2tleToiY29udGVudEV4cGlyZWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZT09PVZufX0se2tleToiY29udGVudEZhaWxlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudFN0YXRlPT09R259fSx7a2V5OiJleHRyYXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlci5leHRyYXN9fV0pLGV9KCksYnI9bigxNiksX3I9bigxNSksT3I9bigxNykseHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7T2JqZWN0KEZlLmEpKHRoaXMsZSksdGhpcy5fYXJyYXk9bmV3IEFycmF5KHQpLHRoaXMuX21hcD1uZXcgTWFwLHRoaXMuX2xlbmd0aD10fXJldHVybiBPYmplY3QoTmUuYSkoZSxbe2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHZ0LmEpKGU8dGhpcy5fYXJyYXkubGVuZ3RoKSx0aGlzLl9hcnJheVtlXX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtPYmplY3QodnQuYSkoZT49MCksZT49dGhpcy5sZW5ndGgmJih0aGlzLmxlbmd0aD1lKzEpLHRoaXMuX21hcC5oYXModGhpcy5fYXJyYXlbZV0pJiZ0aGlzLl9tYXAuZGVsZXRlKHRoaXMuX2FycmF5W2VdKSx0aGlzLl9hcnJheVtlXT10LHRoaXMuX21hcC5zZXQodCxlKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbWFwLmdldChlKTt0Pj0wJiYodGhpcy5fYXJyYXkuc3BsaWNlKHQsMSksdGhpcy5fbWFwLmRlbGV0ZShlKSx0aGlzLmxlbmd0aC0tKX19LHtrZXk6InBlZWsiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5W3RoaXMuX2xlbmd0aC0xXX19LHtrZXk6InB1c2giLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9tYXAuaGFzKGUpKXt2YXIgdD10aGlzLmxlbmd0aCsrO3RoaXMuX2FycmF5W3RdPWUsdGhpcy5fbWFwLnNldChlLHQpfX19LHtrZXk6InBvcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9hcnJheVstLXRoaXMubGVuZ3RoXTtyZXR1cm4gdGhpcy5fbWFwLmRlbGV0ZShlKSxlfX0se2tleToicmVzZXJ2ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7T2JqZWN0KHZ0LmEpKGU+PTApLGU+dGhpcy5fYXJyYXkubGVuZ3RoJiYodGhpcy5fYXJyYXkubGVuZ3RoPWUpfX0se2tleToicmVzaXplIix2YWx1ZTpmdW5jdGlvbihlKXtPYmplY3QodnQuYSkoZT49MCksdGhpcy5sZW5ndGg9ZX19LHtrZXk6InRyaW0iLHZhbHVlOmZ1bmN0aW9uKGUpe251bGw9PWUmJihlPXRoaXMubGVuZ3RoKSx0aGlzLl9hcnJheS5sZW5ndGg9ZX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2FycmF5PVtdLHRoaXMuX21hcD1uZXcgTWFwLHRoaXMuX2xlbmd0aD0wfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21hcC5oYXMoZSl9fSx7a2V5OiJsZW5ndGgiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZW5ndGh9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9sZW5ndGg9ZSxlPnRoaXMuX2FycmF5Lmxlbmd0aCYmKHRoaXMuX2FycmF5Lmxlbmd0aD1lKX19LHtrZXk6InZhbHVlcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5fX1dKSxlfSgpO2Z1bmN0aW9uIHdyKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBTcihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj93cihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChEZS5hKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6d3IoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIGtyPXtsb2FkU2libGluZ3M6ITEsc2tpcExldmVsT2ZEZXRhaWw6ITEsbWF4aW11bVNjcmVlblNwYWNlRXJyb3I6Mn0sUHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe09iamVjdChGZS5hKSh0aGlzLGUpLHRoaXMub3B0aW9ucz1Tcih7fSxrcix7fSx0KSx0aGlzLl90cmF2ZXJzYWxTdGFjaz1uZXcgeHIsdGhpcy5fZW1wdHlUcmF2ZXJzYWxTdGFjaz1uZXcgeHIsdGhpcy5fZnJhbWVOdW1iZXI9bnVsbCx0aGlzLnJvb3Q9bnVsbCx0aGlzLnNlbGVjdGVkVGlsZXM9e30sdGhpcy5yZXF1ZXN0ZWRUaWxlcz17fSx0aGlzLmVtcHR5VGlsZXM9e319cmV0dXJuIE9iamVjdChOZS5hKShlLFt7a2V5OiJ0cmF2ZXJzZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMucm9vdD1lLHRoaXMub3B0aW9ucz1Tcih7fSx0aGlzLm9wdGlvbnMse30sbiksdGhpcy5yZXNldCgpLHRoaXMudXBkYXRlVGlsZShlLHQpLHRoaXMuX2ZyYW1lTnVtYmVyPXQuZnJhbWVOdW1iZXIsdGhpcy5leGVjdXRlVHJhdmVyc2FsKGUsdCl9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlcXVlc3RlZFRpbGVzPXt9LHRoaXMuc2VsZWN0ZWRUaWxlcz17fSx0aGlzLmVtcHR5VGlsZXM9e30sdGhpcy5fdHJhdmVyc2FsU3RhY2sucmVzZXQoKSx0aGlzLl9lbXB0eVRyYXZlcnNhbFN0YWNrLnJlc2V0KCl9fSx7a2V5OiJleGVjdXRlVHJhdmVyc2FsIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX3RyYXZlcnNhbFN0YWNrO2ZvcihuLnB1c2goZSk7bi5sZW5ndGg+MDspe3ZhciByPW4ucG9wKCksaT0hMTt0aGlzLmNhblRyYXZlcnNlKHIsdCkmJih0aGlzLnVwZGF0ZUNoaWxkVGlsZXMocix0KSxpPXRoaXMudXBkYXRlQW5kUHVzaENoaWxkcmVuKHIsdCxuKSk7dmFyIGE9ci5wYXJlbnQsbz1Cb29sZWFuKCFhfHxhLl9zaG91bGRSZWZpbmUpLHM9IWk7ci5oYXNSZW5kZXJDb250ZW50P3IucmVmaW5lPT09V24/KHRoaXMubG9hZFRpbGUocix0KSx0aGlzLnNlbGVjdFRpbGUocix0KSk6ci5yZWZpbmU9PT1IbiYmKHRoaXMubG9hZFRpbGUocix0KSxzJiZ0aGlzLnNlbGVjdFRpbGUocix0KSk6KHRoaXMuZW1wdHlUaWxlc1tyLmlkXT1yLHRoaXMubG9hZFRpbGUocix0KSxzJiZ0aGlzLnNlbGVjdFRpbGUocix0KSksdGhpcy50b3VjaFRpbGUocix0KSxyLl9zaG91bGRSZWZpbmU9aSYmb319fSx7a2V5OiJ1cGRhdGVDaGlsZFRpbGVzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuY2hpbGRyZW4scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7dGhpcy51cGRhdGVUaWxlKHUsdCl9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4hMH19LHtrZXk6InVwZGF0ZUFuZFB1c2hDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMub3B0aW9ucyxpPXIubG9hZFNpYmxpbmdzLGE9ci5za2lwTGV2ZWxPZkRldGFpbCxvPWUuY2hpbGRyZW47by5zb3J0KHRoaXMuY29tcGFyZURpc3RhbmNlVG9DYW1lcmEpO3ZhciBzPSFhJiZlLnJlZmluZT09PUhuJiZlLmhhc1JlbmRlckNvbnRlbnQsdT0hMSxjPSEwLGw9ITEsaD12b2lkIDA7dHJ5e2Zvcih2YXIgZixkPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEoYz0oZj1kLm5leHQoKSkuZG9uZSk7Yz0hMCl7dmFyIHY9Zi52YWx1ZTtpZih2LmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZT8obi5maW5kKHYpJiZuLmRlbGV0ZSh2KSxuLnB1c2godiksdT0hMCk6KHN8fGkpJiYodGhpcy5sb2FkVGlsZSh2LHQpLHRoaXMudG91Y2hUaWxlKHYsdCkpLHMpe3ZhciBwPXZvaWQgMDtpZighKHA9ISF2Ll9pblJlcXVlc3RWb2x1bWUmJih2Lmhhc1JlbmRlckNvbnRlbnQ/di5jb250ZW50QXZhaWxhYmxlOnRoaXMuZXhlY3V0ZUVtcHR5VHJhdmVyc2FsKHYsdCkpKSlyZXR1cm4gcH19fWNhdGNoKGUpe2w9ITAsaD1lfWZpbmFsbHl7dHJ5e2N8fG51bGw9PWQucmV0dXJufHxkLnJldHVybigpfWZpbmFsbHl7aWYobCl0aHJvdyBofX1yZXR1cm4gdX19LHtrZXk6InVwZGF0ZVRpbGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy51cGRhdGVUaWxlVmlzaWJpbGl0eShlLHQpfX0se2tleToic2VsZWN0VGlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnNob3VsZFNlbGVjdFRpbGUoZSx0KSYmKGUuX3NlbGVjdGVkRnJhbWU9dC5mcmFtZU51bWJlcix0aGlzLnNlbGVjdGVkVGlsZXNbZS5pZF09ZSl9fSx7a2V5OiJsb2FkVGlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnNob3VsZExvYWRUaWxlKGUsdCkmJihlLl9yZXF1ZXN0ZWRGcmFtZT10LmZyYW1lTnVtYmVyLGUuX3ByaW9yaXR5PXRoaXMuZ2V0UHJpb3JpdHkoZSksdGhpcy5yZXF1ZXN0ZWRUaWxlc1tlLmlkXT1lKX19LHtrZXk6InRvdWNoVGlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLnRpbGVzZXQuX2NhY2hlLnRvdWNoKGUpLGUuX3RvdWNoZWRGcmFtZT10LmZyYW1lTnVtYmVyfX0se2tleToiY2FuVHJhdmVyc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107cmV0dXJuISghciYmIWUuaXNWaXNpYmxlQW5kSW5SZXF1ZXN0Vm9sdW1lKSYmKCEhZS5oYXNDaGlsZHJlbiYmKGUuaGFzVGlsZXNldENvbnRlbnQ/IWUuY29udGVudEV4cGlyZWQ6dGhpcy5zaG91bGRSZWZpbmUoZSx0LG4pKSl9fSx7a2V5OiJzaG91bGRMb2FkVGlsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oYXNVbmxvYWRlZENvbnRlbnR8fGUuY29udGVudEV4cGlyZWR9fSx7a2V5OiJzaG91bGRTZWxlY3RUaWxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbnRlbnRBdmFpbGFibGUmJiF0aGlzLm9wdGlvbnMuc2tpcExldmVsT2ZEZXRhaWx9fSx7a2V5OiJzaG91bGRSZWZpbmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLl9zY3JlZW5TcGFjZUVycm9yO3JldHVybiBuJiYocj1lLmdldFNjcmVlblNwYWNlRXJyb3IodCwhMCkpLHI+dGhpcy5vcHRpb25zLm1heGltdW1TY3JlZW5TcGFjZUVycm9yfX0se2tleToidXBkYXRlVGlsZVZpc2liaWxpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZS51cGRhdGVWaXNpYmlsaXR5KHQpfX0se2tleToiY29tcGFyZURpc3RhbmNlVG9DYW1lcmEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmEtdC5fZGlzdGFuY2VUb0NhbWVyYX19LHtrZXk6ImdldFByaW9yaXR5Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnM7c3dpdGNoKGUucmVmaW5lKXtjYXNlIFduOnJldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhO2Nhc2UgSG46dmFyIG49ZS5wYXJlbnQscj1uJiYoIXQuc2tpcExldmVsT2ZEZXRhaWx8fDA9PT1lLl9zY3JlZW5TcGFjZUVycm9yfHxuLmhhc1RpbGVzZXRDb250ZW50KT9uLl9zY3JlZW5TcGFjZUVycm9yOmUuX3NjcmVlblNwYWNlRXJyb3I7cmV0dXJuIHRoaXMucm9vdC5fc2NyZWVuU3BhY2VFcnJvci1yO2RlZmF1bHQ6cmV0dXJuIE9iamVjdCh2dC5hKSghMSl9fX0se2tleToiYW55Q2hpbGRyZW5WaXNpYmxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPSExLHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZS5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO3UudXBkYXRlVmlzaWJpbGl0eSh0KSxuPW58fHUuaXNWaXNpYmxlQW5kSW5SZXF1ZXN0Vm9sdW1lfX1jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIG59fSx7a2V5OiJleGVjdXRlRW1wdHlUcmF2ZXJzYWwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSEwLHI9dGhpcy5fZW1wdHlUcmF2ZXJzYWxTdGFjaztyLmxlbmd0aD4wOyl7dmFyIGk9ci5wb3AoKTt0aGlzLnVwZGF0ZVRpbGUoaSx0KSxpLmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZXx8KHRoaXMubG9hZFRpbGUoaSx0KSx0aGlzLnRvdWNoVGlsZShpLHQpKTt2YXIgYT0haS5oYXNSZW5kZXJDb250ZW50JiZ0aGlzLmNhblRyYXZlcnNlKGksdCwhMSwhMCk7aWYoYXx8aS5jb250ZW50QXZhaWxhYmxlfHwobj0hMSksYSl7dmFyIG89aS5jaGlsZHJlbi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHM9ITAsdT0hMSxjPXZvaWQgMDt0cnl7Zm9yKHZhciBsLGg9b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPWgubmV4dCgpKS5kb25lKTtzPSEwKXt2YXIgZj1sLnZhbHVlO3IuZmluZChmKSYmci5kZWxldGUoZiksci5wdXNoKGYpfX1jYXRjaChlKXt1PSEwLGM9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319fX1yZXR1cm4gbn19XSksZX0oKSxqcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIE9iamVjdChGZS5hKSh0aGlzLHQpLE9iamVjdChici5hKSh0aGlzLE9iamVjdChfci5hKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBPYmplY3QoT3IuYSkodCxlKSxPYmplY3QoTmUuYSkodCxbe2tleToiY29tcGFyZURpc3RhbmNlVG9DYW1lcmEiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT10Ll9kaXN0YW5jZVRvQ2FtZXJhJiYwPT09ZS5fZGlzdGFuY2VUb0NhbWVyYT90Ll9jZW50ZXJaRGVwdGgtZS5fY2VudGVyWkRlcHRoOnQuX2Rpc3RhbmNlVG9DYW1lcmEtZS5fZGlzdGFuY2VUb0NhbWVyYX19LHtrZXk6InVwZGF0ZVRpbGVWaXNpYmlsaXR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUudXBkYXRlVmlzaWJpbGl0eSh0KSxlLmlzVmlzaWJsZUFuZEluUmVxdWVzdFZvbHVtZSl7dmFyIG49ZS5jaGlsZHJlbi5sZW5ndGg+MDtpZihlLmhhc1RpbGVzZXRDb250ZW50JiZuKXt2YXIgcj1lLmNoaWxkcmVuWzBdO3JldHVybiB0aGlzLnVwZGF0ZVRpbGVWaXNpYmlsaXR5KHIsdCksdm9pZChlLl92aXNpYmxlPXIuX3Zpc2libGUpfWlmKHRoaXMubWVldHNTY3JlZW5TcGFjZUVycm9yRWFybHkoZSx0KSllLl92aXNpYmxlPSExO2Vsc2V7dmFyIGk9ZS5yZWZpbmU9PT1IbixhPWUuX29wdGltQ2hpbGRyZW5XaXRoaW5QYXJlbnQ9PT0kbjtpJiZhJiZuJiYhdGhpcy5hbnlDaGlsZHJlblZpc2libGUoZSx0KSYmKGUuX3Zpc2libGU9ITEpfX19fSx7a2V5OiJtZWV0c1NjcmVlblNwYWNlRXJyb3JFYXJseSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnBhcmVudDtyZXR1cm4hKCFufHxuLmhhc1RpbGVzZXRDb250ZW50fHxuLnJlZmluZSE9PVduKSYmIXRoaXMuc2hvdWxkUmVmaW5lKGUsdCwhMCl9fV0pLHR9KFByKSxUcj0iUkVRVUVTVEVEIixFcj0iQ09NUExFVEVEIixBcj0iRVJST1IiLE1yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe09iamVjdChGZS5hKSh0aGlzLGUpLHRoaXMuX3N0YXR1c01hcD17fX1yZXR1cm4gT2JqZWN0KE5lLmEpKGUsW3trZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpczt0aGlzLl9zdGF0dXNNYXBbdF18fCh0aGlzLl9zdGF0dXNNYXBbdF09e3JlcXVlc3Q6ZSxjYWxsYmFjazpuLGtleTp0LG9wdGlvbnM6cixzdGF0dXM6VHJ9LGUoKS50aGVuKChmdW5jdGlvbihlKXtpLl9zdGF0dXNNYXBbdF0uc3RhdHVzPUVyLGkuX3N0YXR1c01hcFt0XS5jYWxsYmFjayhlLHIpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpLl9zdGF0dXNNYXBbdF0uc3RhdHVzPUFyLG4oZSl9KSkpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3N0YXR1c01hcFtlXSYmKHRoaXMuX3N0YXR1c01hcFtlXS5vcHRpb25zPXQpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3N0YXR1c01hcFtlXX19XSksZX0oKTtmdW5jdGlvbiBDcihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gTHIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/Q3IoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QoRGUuYSkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkNyKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfXZhciBJcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuO3JldHVybiBPYmplY3QoRmUuYSkodGhpcyx0KSwobj1PYmplY3QoYnIuYSkodGhpcyxPYmplY3QoX3IuYSkodCkuY2FsbCh0aGlzLGUpKSkuX3RpbGVNYW5hZ2VyPW5ldyBNcixufXZhciBuO3JldHVybiBPYmplY3QoT3IuYSkodCxlKSxPYmplY3QoTmUuYSkodCxbe2tleToic2hvdWxkUmVmaW5lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9sb2RKdWRnZT1mdW5jdGlvbihlLHQpe3ZhciBuPXQudmlld3BvcnQscj1uLm1ldGVyc1BlclBpeGVsLGk9ZS5oZWFkZXIubWJzWzFdLGE9ZS5oZWFkZXIubWJzWzBdLG89ZS5oZWFkZXIubWJzWzJdLHM9ZS5oZWFkZXIubWJzWzNdLHU9bi5oZWlnaHQsYz1uLndpZHRoLGw9bi5sYXRpdHVkZSxoPW4ubG9uZ2l0dWRlLGY9W2gsbF0sZD1bYSxpLG9dLHY9W2gsaV0scD1bYSxsXSxnPU1hdGguc3FydCh1KnUrYypjKSpyWzBdLHk9LjUqdStzLzYzNzgxMzcsbT0uNSpjK3MvNjM3ODEzNztpZihmcihmLGQpPmcrcy82Mzc4MTM3KXJldHVybiJPVVQiO2lmKGZyKGYsdik+eSlyZXR1cm4iT1VUIjtpZihmcihmLHApPm0pcmV0dXJuIk9VVCI7aWYoMD09PWUubG9kTWV0cmljVmFsdWUpcmV0dXJuIkRJRyI7dmFyIGI9ZHIoZSx0KTtyZXR1cm4oYio9bHIpPC41PyJPVVQiOiFlLmhlYWRlci5jaGlsZHJlbnx8Yjw9ZS5sb2RNZXRyaWNWYWx1ZT8iRFJBVyI6ZS5oZWFkZXIuY2hpbGRyZW4/IkRJRyI6Ik9VVCJ9KGUsdCksIkRJRyI9PT1lLl9sb2RKdWRnZX19LHtrZXk6InVwZGF0ZUNoaWxkVGlsZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWUuaGVhZGVyLmNoaWxkcmVufHxbXSxpPWUuY2hpbGRyZW4sYT1lLnRpbGVzZXQsbz0hMCxzPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGMsbD1mdW5jdGlvbigpe3ZhciByPWMudmFsdWUsbz1pJiZpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09ci5pZH0pKTtpZihvKW8mJm4udXBkYXRlVGlsZShvLHQpO2Vsc2V7bi5fdGlsZU1hbmFnZXIuZmluZChyLmlkKT9uLl90aWxlTWFuYWdlci51cGRhdGUoci5pZCx7ZnJhbWVOdW1iZXI6dC5mcmFtZU51bWJlcn0pOm4uX3RpbGVNYW5hZ2VyLmFkZCgoZnVuY3Rpb24oKXtyZXR1cm4gbi5fbG9hZFRpbGUoci5pZCxhKX0pLHIuaWQsKGZ1bmN0aW9uKHIpe3JldHVybiBuLl9vblRpbGVMb2FkKHIsZSx0KX0pLHtmcmFtZU51bWJlcjp0LmZyYW1lTnVtYmVyfSl9fSxoPXJbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0oYz1oLm5leHQoKSkuZG9uZSk7bz0hMClsKCl9Y2F0Y2goZSl7cz0hMCx1PWV9ZmluYWxseXt0cnl7b3x8bnVsbD09aC5yZXR1cm58fGgucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fX19LHtrZXk6Il9sb2FkVGlsZSIsdmFsdWU6KG49T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4pe3ZhciByLGksYTtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1uLmxvYWRlcixpPW4uZ2V0VGlsZVVybCgiIi5jb25jYXQobi51cmwsIi9ub2Rlcy8iKS5jb25jYXQodCkpLGE9e2kzczpMcih7fSxuLmZldGNoT3B0aW9ucyx7aXNIZWFkZXI6ITAsbG9hZENvbnRlbnQ6ITF9KX0sZS5uZXh0PTUsT2JqZWN0KEllLmEpKGkscixhKTtjYXNlIDU6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9vblRpbGVMb2FkIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5vcHRpb25zLmJhc2VQYXRoLGk9bmV3IG1yKHQudGlsZXNldCxlLHQscik7dC5jaGlsZHJlbi5wdXNoKGkpLHRoaXMudXBkYXRlVGlsZShpLG4pLHRoaXMuX2ZyYW1lTnVtYmVyPT09bi5mcmFtZU51bWJlciYmdGhpcy5leGVjdXRlVHJhdmVyc2FsKGksbil9fV0pLHR9KFByKTtmdW5jdGlvbiBScihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gRHIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/UnIoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QoRGUuYSkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlJyKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfXZhciBGcj17ZWxsaXBzb2lkOmZ0LldHUzg0LG1vZGVsTWF0cml4Om5ldyB6ZS5hLHRocm90dGxlUmVxdWVzdHM6ITEsbWF4aW11bU1lbW9yeVVzYWdlOjMyLG9uVGlsZUxvYWQ6ZnVuY3Rpb24oKXt9LG9uVGlsZVVubG9hZDpmdW5jdGlvbigpe30sb25UaWxlRXJyb3I6ZnVuY3Rpb24oZSx0LG4pe30sbWF4aW11bVNjcmVlblNwYWNlRXJyb3I6OH0sTnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3QoRmUuYSkodGhpcyxlKSxPYmplY3QodnQuYSkodCksdGhpcy5vcHRpb25zPURyKHt9LEZyLHt9LG4pLHRoaXMudGlsZXNldD10LHRoaXMubG9hZGVyPXQubG9hZGVyLHRoaXMudHlwZT10LnR5cGUsdGhpcy51cmw9dC51cmwsdGhpcy5iYXNlUGF0aD10LmJhc2VQYXRofHxwdC5hLmRpcm5hbWUodGhpcy51cmwpLHRoaXMubW9kZWxNYXRyaXg9dGhpcy5vcHRpb25zLm1vZGVsTWF0cml4LHRoaXMuZWxsaXBzb2lkPXRoaXMub3B0aW9ucy5lbGxpcHNvaWQsdGhpcy5sb2RNZXRyaWNUeXBlPXQubG9kTWV0cmljVHlwZSx0aGlzLmxvZE1ldHJpY1ZhbHVlPXQubG9kTWV0cmljVmFsdWUsdGhpcy5yZWZpbmU9dC5yb290LnJlZmluZSx0aGlzLmZldGNoT3B0aW9ucz10aGlzLm9wdGlvbnMuZmV0Y2hPcHRpb25zfHx7fSx0aGlzLm9wdGlvbnMuaGVhZGVycyYmKHRoaXMuZmV0Y2hPcHRpb25zLmhlYWRlcnM9dGhpcy5vcHRpb25zLmhlYWRlcnMpLHRoaXMub3B0aW9ucy50b2tlbiYmKHRoaXMuZmV0Y2hPcHRpb25zLnRva2VuPXRoaXMub3B0aW9ucy50b2tlbiksdGhpcy5yb290PW51bGwsdGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9bnVsbCx0aGlzLmNhcnRlc2lhbkNlbnRlcj1udWxsLHRoaXMuem9vbT0xLHRoaXMuYm91bmRpbmdWb2x1bWU9bnVsbCx0aGlzLl90cmF2ZXJzZXI9dGhpcy5faW5pdGlhbGl6ZVRyYXZlcnNlcigpLHRoaXMuX2NhY2hlPW5ldyBfdCx0aGlzLl9yZXF1ZXN0U2NoZWR1bGVyPW5ldyBndC5hKHt0aHJvdHRsZVJlcXVlc3RzOnRoaXMub3B0aW9ucy50aHJvdHRsZVJlcXVlc3RzfSksdGhpcy5fZnJhbWVOdW1iZXI9MCx0aGlzLl91cGRhdGVGcmFtZU51bWJlcj0wLHRoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuX3RpbGVzPXt9LHRoaXMuc2VsZWN0ZWRUaWxlcz1bXSx0aGlzLl9lbXB0eVRpbGVzPVtdLHRoaXMuX3JlcXVlc3RlZFRpbGVzPVtdLHRoaXMuX3NlbGVjdGVkVGlsZXNUb1N0eWxlPVtdLHRoaXMuX3F1ZXJ5UGFyYW1zPXt9LHRoaXMuX3F1ZXJ5UGFyYW1zU3RyaW5nPW51bGwsdGhpcy5tYXhpbXVtTWVtb3J5VXNhZ2U9dGhpcy5vcHRpb25zLm1heGltdW1NZW1vcnlVc2FnZSx0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcz0wLHRoaXMuc3RhdHM9bmV3IGR0LmEoe2lkOnRoaXMudXJsfSksdGhpcy5faW5pdGlhbGl6ZVN0YXRzKCksdGhpcy5faGFzTWl4ZWRDb250ZW50PSExLHRoaXMuX21heGltdW1TY3JlZW5TcGFjZUVycm9yPXRoaXMub3B0aW9ucy5tYXhpbXVtU2NyZWVuU3BhY2VFcnJvcix0aGlzLl9wcm9wZXJ0aWVzPXZvaWQgMCx0aGlzLl9leHRlbnNpb25zVXNlZD12b2lkIDAsdGhpcy5fZ2x0ZlVwQXhpcz12b2lkIDAsdGhpcy5fZHluYW1pY1NjcmVlblNwYWNlRXJyb3JDb21wdXRlZERlbnNpdHk9MCx0aGlzLmV4dHJhcz1udWxsLHRoaXMuYXNzZXQ9e30sdGhpcy5jcmVkaXRzPXt9LHRoaXMuZGVzY3JpcHRpb249dGhpcy5vcHRpb25zLmRlc2NyaXB0aW9uLHRoaXMuX2RlZmF1bHRHZW9tZXRyeVNjaGVtYT1bXSx0aGlzLl9pbml0aWFsaXplVGlsZVNldCh0LHRoaXMub3B0aW9ucyl9dmFyIHQ7cmV0dXJuIE9iamVjdChOZS5hKShlLFt7a2V5OiJpc0xvYWRlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3BlbmRpbmdDb3VudH19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jYWNoZS5yZXNldCgpLHRoaXMuX2ZyYW1lTnVtYmVyKys7dmFyIHQ9RG4oZSx0aGlzLl9mcmFtZU51bWJlcik7dGhpcy5fdHJhdmVyc2VyLnRyYXZlcnNlKHRoaXMucm9vdCx0LHRoaXMub3B0aW9ucyk7dmFyIG49T2JqZWN0LnZhbHVlcyh0aGlzLl90cmF2ZXJzZXIuc2VsZWN0ZWRUaWxlcyk7dGhpcy5fdGlsZXNDaGFuZ2VkKHRoaXMuc2VsZWN0ZWRUaWxlcyxuKSYmdGhpcy5fdXBkYXRlRnJhbWVOdW1iZXIrKyx0aGlzLnNlbGVjdGVkVGlsZXM9bjt2YXIgcj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10aGlzLnNlbGVjdGVkVGlsZXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTt0aGlzLl90aWxlc1t1LmlkXT11fX1jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIHRoaXMuX3JlcXVlc3RlZFRpbGVzPU9iamVjdC52YWx1ZXModGhpcy5fdHJhdmVyc2VyLnJlcXVlc3RlZFRpbGVzKSx0aGlzLl9lbXB0eVRpbGVzPU9iamVjdC52YWx1ZXModGhpcy5fdHJhdmVyc2VyLmVtcHR5VGlsZXMpLHRoaXMuX2xvYWRUaWxlcyh0KSx0aGlzLl91bmxvYWRUaWxlcygpLHRoaXMuX3VwZGF0ZVN0YXRzKCksdGhpcy5fdXBkYXRlRnJhbWVOdW1iZXJ9fSx7a2V5OiJnZXRUaWxlVXJsIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydHNXaXRoKCJkYXRhOiIpP2U6IiIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLnF1ZXJ5UGFyYW1zKX19LHtrZXk6Il90aWxlc0NoYW5nZWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMDt2YXIgbj1uZXcgU2V0KGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKSkscj1uZXcgU2V0KHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKSksaT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXIuaGFzKGUuaWQpfSkpLmxlbmd0aD4wO3JldHVybiBpPWl8fHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hbi5oYXMoZS5pZCl9KSkubGVuZ3RoPjB9fSx7a2V5OiJfbG9hZFRpbGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksYT10aGlzLl9yZXF1ZXN0ZWRUaWxlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgbz1pLnZhbHVlO3RoaXMuX2xvYWRUaWxlKG8sZSl9fWNhdGNoKGUpe249ITAscj1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyByfX19fSx7a2V5OiJfdW5sb2FkVGlsZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGUudW5sb2FkVGlsZXModGhpcywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fdW5sb2FkVGlsZSh0KX0pKX19LHtrZXk6Il91cGRhdGVTdGF0cyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0wLHQ9MCxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRoaXMuc2VsZWN0ZWRUaWxlc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO3MuY29udGVudEF2YWlsYWJsZSYmKGUrKyxzLmNvbnRlbnQucG9pbnRDb3VudCYmKHQrPXMuY29udGVudC5wb2ludENvdW50KSl9fWNhdGNoKGUpe3I9ITAsaT1lfWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX10aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gVmlldyIpLmNvdW50PXRoaXMuc2VsZWN0ZWRUaWxlcy5sZW5ndGgsdGhpcy5zdGF0cy5nZXQoIlRpbGVzIFRvIFJlbmRlciIpLmNvdW50PWUsdGhpcy5zdGF0cy5nZXQoIlBvaW50cyIpLmNvdW50PXR9fSx7a2V5OiJfaW5pdGlhbGl6ZVRpbGVTZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucm9vdD10aGlzLl9pbml0aWFsaXplVGlsZUhlYWRlcnMoZSxudWxsLHRoaXMuYmFzZVBhdGgpLHRoaXMudHlwZT09PVFuJiZ0aGlzLl9pbml0aWFsaXplQ2VzaXVtVGlsZXNldChlKSx0aGlzLnR5cGU9PT1LbiYmdGhpcy5faW5pdGlhbGl6ZUkzU1RpbGVzZXQoZSksdGhpcy5fY2FsY3VsYXRlVmlld1Byb3BzKCl9fSx7a2V5OiJfY2FsY3VsYXRlVmlld1Byb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucm9vdCx0PWUuYm91bmRpbmdWb2x1bWUuY2VudGVyO2lmKCF0KXJldHVybiBjb25zb2xlLndhcm4oImNlbnRlciB3YXMgbm90IHByZS1jYWxjdWxhdGVkIGZvciB0aGUgcm9vdCB0aWxlIiksdGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9bmV3IFRlLmEsdm9pZCh0aGlzLnpvb209MSk7dGhpcy5jYXJ0b2dyYXBoaWNDZW50ZXI9ZnQuV0dTODQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWModCxuZXcgVGUuYSksdGhpcy5jYXJ0ZXNpYW5DZW50ZXI9dCx0aGlzLnpvb209ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5oYWxmQXhlcyxuPWUucmFkaXVzLHI9ZS53aWR0aCxpPWUuaGVpZ2h0O2lmKHQpe3QuZ2V0Q29sdW1uKDAsRm4pO3ZhciBhPUZuLmxlbigpO3QuZ2V0Q29sdW1uKDEsRm4pO3ZhciBvPUZuLmxlbigpO3QuZ2V0Q29sdW1uKDIsRm4pO3ZhciBzPWEvMix1PW8vMixjPUZuLmxlbigpLzI7cmV0dXJuKE1hdGgubG9nMig2Mzc4MTM3L3MpK01hdGgubG9nMig2Mzc4MTM3L3UpK01hdGgubG9nMig2MzU2NzUyLjMxNDI0NTE3OS9jKSkvM31yZXR1cm4gbj9NYXRoLmxvZzIoNjM1Njc1Mi4zMTQyNDUxNzkvbik6aSYmcj8oTWF0aC5sb2cyKDYzNzgxMzcvcikrTWF0aC5sb2cyKDYzNzgxMzcvaSkpLzI6MX0oZS5ib3VuZGluZ1ZvbHVtZSl9fSx7a2V5OiJfaW5pdGlhbGl6ZVN0YXRzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdHMuZ2V0KCJUaWxlcyBJbiBUaWxlc2V0KHMpIiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIEluIFZpZXciKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgVG8gUmVuZGVyIiksdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRlZCIpLHRoaXMuc3RhdHMuZ2V0KCJUaWxlcyBVbmxvYWRlZCIpLHRoaXMuc3RhdHMuZ2V0KCJGYWlsZWQgVGlsZSBMb2FkcyIpLHRoaXMuc3RhdHMuZ2V0KCJQb2ludHMiLCJtZW1vcnkiKSx0aGlzLnN0YXRzLmdldCgiVGlsZSBNZW1vcnkgVXNlIiwibWVtb3J5Iil9fSx7a2V5OiJfaW5pdGlhbGl6ZVRpbGVIZWFkZXJzIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IG1yKHRoaXMsZS5yb290LHQsbik7aWYodCYmKHQuY2hpbGRyZW4ucHVzaChyKSxyLmRlcHRoPXQuZGVwdGgrMSksdGhpcy50eXBlPT09UW4pe3ZhciBpPVtdO2ZvcihpLnB1c2gocik7aS5sZW5ndGg+MDspe3ZhciBhPWkucG9wKCk7dGhpcy5zdGF0cy5nZXQoIlRpbGVzIEluIFRpbGVzZXQocykiKS5pbmNyZW1lbnRDb3VudCgpO3ZhciBvPWEuaGVhZGVyLmNoaWxkcmVufHxbXSxzPSEwLHU9ITEsYz12b2lkIDA7dHJ5e2Zvcih2YXIgbCxoPW9bU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0obD1oLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGY9bC52YWx1ZSxkPW5ldyBtcih0aGlzLGYsYSxuKTthLmNoaWxkcmVuLnB1c2goZCksZC5kZXB0aD1hLmRlcHRoKzEsaS5wdXNoKGQpfX1jYXRjaChlKXt1PSEwLGM9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgY319fX1yZXR1cm4gcn19LHtrZXk6Il9pbml0aWFsaXplVHJhdmVyc2VyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgUW46ZT1qcjticmVhaztjYXNlIEtuOmU9SXI7YnJlYWs7ZGVmYXVsdDplPVByfXJldHVybiBuZXcgZSh7YmFzZVBhdGg6dGhpcy5iYXNlUGF0aH0pfX0se2tleToiX2Rlc3Ryb3lUaWxlSGVhZGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZGVzdHJveVN1YnRyZWUoZSl9fSx7a2V5OiJfbG9hZFRpbGUiLHZhbHVlOih0PU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuKXt2YXIgcjtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5wcmV2PTAsdGhpcy5fb25TdGFydFRpbGVMb2FkaW5nKCksZS5uZXh0PTQsdC5sb2FkQ29udGVudChuKTtjYXNlIDQ6cj1lLnNlbnQsZS5uZXh0PTEwO2JyZWFrO2Nhc2UgNzplLnByZXY9NyxlLnQwPWUuY2F0Y2goMCksdGhpcy5fb25UaWxlTG9hZEVycm9yKHQsZS50MCk7Y2FzZSAxMDpyZXR1cm4gZS5wcmV2PTEwLHRoaXMuX29uRW5kVGlsZUxvYWRpbmcoKSx0aGlzLl9vblRpbGVMb2FkKHQsciksZS5maW5pc2goMTApO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1swLDcsMTAsMTRdXSl9KSkpLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9vblRpbGVMb2FkRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5zdGF0cy5nZXQoIkZhaWxlZCBUaWxlIExvYWRzIikuaW5jcmVtZW50Q291bnQoKTt2YXIgbj10Lm1lc3NhZ2V8fHQudG9TdHJpbmcoKSxyPWUudXJsO2NvbnNvbGUuZXJyb3IoIkEgM0QgdGlsZSBmYWlsZWQgdG8gbG9hZDogIi5jb25jYXQoZS51cmwsIiAiKS5jb25jYXQobikpLHRoaXMub3B0aW9ucy5vblRpbGVFcnJvcihlLG4scil9fSx7a2V5OiJfb25UaWxlTG9hZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0JiYoZSYmZS5jb250ZW50JiZmdW5jdGlvbihlLHQpe09iamVjdCh2dC5hKShlKSxPYmplY3QodnQuYSkodCk7dmFyIG49dC5ydGNDZW50ZXIscj10LnJvdGF0ZVl0b1osaT1lLmNvbXB1dGVkVHJhbnNmb3JtLGE9ZS5ib3VuZGluZ1ZvbHVtZS5jZW50ZXIsbz1uZXcgemUuYShpKTtpZihuJiZvLnRyYW5zbGF0ZShuKSxyKXt2YXIgcz0obmV3IHplLmEpLnJvdGF0ZVgoTWF0aC5QSS8yKTtvPW8ubXVsdGlwbHlSaWdodChzKX10LmlzUXVhbnRpemVkJiZvLnRyYW5zbGF0ZSh0LnF1YW50aXplZFZvbHVtZU9mZnNldCkuc2NhbGUodC5xdWFudGl6ZWRWb2x1bWVTY2FsZSk7dmFyIHU9bmV3IFRlLmEoYSk7dC5jYXJ0ZXNpYW5Nb2RlbE1hdHJpeD1vLHQuY2FydGVzaWFuT3JpZ2luPXU7dmFyIGM9ZnQuV0dTODQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWModSxuZXcgVGUuYSksbD1mdC5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSh1KS5pbnZlcnQoKTt0LmNhcnRvZ3JhcGhpY01vZGVsTWF0cml4PWwubXVsdGlwbHlSaWdodChvKSx0LmNhcnRvZ3JhcGhpY09yaWdpbj1jLHQubW9kZWxNYXRyaXg9dC5jYXJ0b2dyYXBoaWNNb2RlbE1hdHJpeH0oZSxlLmNvbnRlbnQpLHRoaXMuX2FkZFRpbGVUb0NhY2hlKGUpLHRoaXMub3B0aW9ucy5vblRpbGVMb2FkKGUpKX19LHtrZXk6Il9vblN0YXJ0VGlsZUxvYWRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50KyssdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKS5pbmNyZW1lbnRDb3VudCgpfX0se2tleToiX29uRW5kVGlsZUxvYWRpbmciLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50LS0sdGhpcy5zdGF0cy5nZXQoIlRpbGVzIExvYWRpbmciKS5kZWNyZW1lbnRDb3VudCgpfX0se2tleToiX2FkZFRpbGVUb0NhY2hlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jYWNoZS5hZGQodGhpcyxlLChmdW5jdGlvbih0KXtyZXR1cm4gdC5fdXBkYXRlQ2FjaGVTdGF0cyhlKX0pKX19LHtrZXk6Il91cGRhdGVDYWNoZVN0YXRzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0YXRzLmdldCgiVGlsZXMgTG9hZGVkIikuaW5jcmVtZW50Q291bnQoKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IikuaW5jcmVtZW50Q291bnQoKSx0aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcys9ZS5jb250ZW50LmJ5dGVMZW5ndGh8fDAsdGhpcy5zdGF0cy5nZXQoIlRpbGUgTWVtb3J5IFVzZSIpLmNvdW50PXRoaXMuZ3B1TWVtb3J5VXNhZ2VJbkJ5dGVzfX0se2tleToiX3VubG9hZFRpbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZ3B1TWVtb3J5VXNhZ2VJbkJ5dGVzLT1lLmNvbnRlbnQuYnl0ZUxlbmd0aHx8MCx0aGlzLnN0YXRzLmdldCgiVGlsZXMgSW4gTWVtb3J5IikuZGVjcmVtZW50Q291bnQoKSx0aGlzLnN0YXRzLmdldCgiVGlsZXMgVW5sb2FkZWQiKS5pbmNyZW1lbnRDb3VudCgpLHRoaXMuc3RhdHMuZ2V0KCJUaWxlIE1lbW9yeSBVc2UiKS5jb3VudD10aGlzLmdwdU1lbW9yeVVzYWdlSW5CeXRlcyx0aGlzLm9wdGlvbnMub25UaWxlVW5sb2FkKGUpLGUudW5sb2FkQ29udGVudCgpfX0se2tleToiX2Rlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHRoaXMucm9vdCYmZS5wdXNoKHRoaXMucm9vdCk7ZS5sZW5ndGg+MDspe3ZhciB0PWUucG9wKCksbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10LmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWU7ZS5wdXNoKHMpfX1jYXRjaChlKXtyPSEwLGk9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19dGhpcy5fZGVzdHJveVRpbGUodCl9dGhpcy5yb290PW51bGx9fSx7a2V5OiJfZGVzdHJveVN1YnRyZWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUsbj1bXTtmb3Iobi5wdXNoKHQpO24ubGVuZ3RoPjA7KXtlPW4ucG9wKCk7dmFyIHI9ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHM9ZS5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShvPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgdT1vLnZhbHVlO24ucHVzaCh1KX19Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fWUhPT10JiZ0aGlzLl9kZXN0cm95VGlsZShlKX10LmNoaWxkcmVuPVtdfX0se2tleToiX2Rlc3Ryb3lUaWxlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jYWNoZS51bmxvYWRUaWxlKHRoaXMsZSksdGhpcy5fdW5sb2FkVGlsZShlKSxlLmRlc3Ryb3koKX19LHtrZXk6Il9pbml0aWFsaXplQ2VzaXVtVGlsZXNldCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5hc3NldD1lLmFzc2V0LCF0aGlzLmFzc2V0KXRocm93IG5ldyBFcnJvcigiVGlsZXNldCBtdXN0IGhhdmUgYW4gYXNzZXQgcHJvcGVydHkuIik7aWYoIjAuMCIhPT10aGlzLmFzc2V0LnZlcnNpb24mJiIxLjAiIT09dGhpcy5hc3NldC52ZXJzaW9uKXRocm93IG5ldyBFcnJvcigiVGhlIHRpbGVzZXQgbXVzdCBiZSAzRCBUaWxlcyB2ZXJzaW9uIDAuMCBvciAxLjAuIik7InRpbGVzZXRWZXJzaW9uImluIHRoaXMuYXNzZXQmJih0aGlzLl9xdWVyeVBhcmFtcy52PXRoaXMuYXNzZXQudGlsZXNldFZlcnNpb24pLHRoaXMuY3JlZGl0cz17YXR0cmlidXRpb25zOnRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbnN8fFtdfSx0aGlzLmRlc2NyaXB0aW9uPXRoaXMub3B0aW9ucy5kZXNjcmlwdGlvbix0aGlzLnByb3BlcnRpZXM9ZS5wcm9wZXJ0aWVzLHRoaXMuZ2VvbWV0cmljRXJyb3I9ZS5nZW9tZXRyaWNFcnJvcix0aGlzLl9leHRlbnNpb25zVXNlZD1lLmV4dGVuc2lvbnNVc2VkLHRoaXMuZXh0cmFzPWUuZXh0cmFzfX0se2tleToiX2luaXRpYWxpemVJM1NUaWxlc2V0Iix2YWx1ZTpmdW5jdGlvbihlKXsidG9rZW4iaW4gdGhpcy5vcHRpb25zJiYodGhpcy5fcXVlcnlQYXJhbXMudG9rZW49dGhpcy5vcHRpb25zLnRva2VuKSx0aGlzLl9kZWZhdWx0R2VvbWV0cnlTY2hlbWE9ZS5zdG9yZS5kZWZhdWx0R2VvbWV0cnlTY2hlbWF9fSx7a2V5OiJoYXNFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKHRoaXMuX2V4dGVuc2lvbnNVc2VkJiZ0aGlzLl9leHRlbnNpb25zVXNlZC5pbmRleE9mKGUpPi0xKX19LHtrZXk6InRpbGVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLl90aWxlcyl9fSx7a2V5OiJxdWVyeVBhcmFtcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5UGFyYW1zU3RyaW5nfHwodGhpcy5fcXVlcnlQYXJhbXNTdHJpbmc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPU9iamVjdC5rZXlzKGUpO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dO3QucHVzaCgiIi5jb25jYXQoaSwiPSIpLmNvbmNhdChlW2ldKSl9c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIiI7Y2FzZSAxOnJldHVybiI/Ii5jb25jYXQodFswXSk7ZGVmYXVsdDpyZXR1cm4iPyIuY29uY2F0KHQuam9pbigiJiIpKX19KHRoaXMuX3F1ZXJ5UGFyYW1zKSksdGhpcy5fcXVlcnlQYXJhbXNTdHJpbmd9fV0pLGV9KCksenI9e0NPTVBPU0lURToiY21wdCIsUE9JTlRfQ0xPVUQ6InBudHMiLEJBVENIRURfM0RfTU9ERUw6ImIzZG0iLElOU1RBTkNFRF8zRF9NT0RFTDoiaTNkbSIsR0VPTUVUUlk6Imdlb20iLFZFQ1RPUjoidmVjdCJ9O09iamVjdC5rZXlzKHpyKTtmdW5jdGlvbiBCcihlLHQsbil7T2JqZWN0KHZ0LmEpKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7dmFyIHI9bmV3IFRleHREZWNvZGVyKCJ1dGY4IiksaT1uZXcgVWludDhBcnJheShlLHQsbik7cmV0dXJuIHIuZGVjb2RlKGkpfWZ1bmN0aW9uIFVyKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49bmV3IERhdGFWaWV3KGUpO3JldHVybiIiLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgodCswKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgodCsxKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgodCsyKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKG4uZ2V0VWludDgodCszKSkpfWZ1bmN0aW9uIFZyKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn12YXIgR3IsV3I9e0JZVEU6NTEyMCxVTlNJR05FRF9CWVRFOjUxMjEsU0hPUlQ6NTEyMixVTlNJR05FRF9TSE9SVDo1MTIzLElOVDo1MTI0LFVOU0lHTkVEX0lOVDo1MTI1LEZMT0FUOjUxMjYsRE9VQkxFOjUxMzB9LEhyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1ZyKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0KERlLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpWcihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30se1BPSU5UUzowLExJTkVTOjEsTElORV9MT09QOjIsTElORV9TVFJJUDozLFRSSUFOR0xFUzo0LFRSSUFOR0xFX1NUUklQOjUsVFJJQU5HTEVfRkFOOjZ9LHt9LFdyKSxxcj0oR3I9e30sT2JqZWN0KERlLmEpKEdyLFdyLkRPVUJMRSxGbG9hdDY0QXJyYXkpLE9iamVjdChEZS5hKShHcixXci5GTE9BVCxGbG9hdDMyQXJyYXkpLE9iamVjdChEZS5hKShHcixXci5VTlNJR05FRF9TSE9SVCxVaW50MTZBcnJheSksT2JqZWN0KERlLmEpKEdyLFdyLlVOU0lHTkVEX0lOVCxVaW50MzJBcnJheSksT2JqZWN0KERlLmEpKEdyLFdyLlVOU0lHTkVEX0JZVEUsVWludDhBcnJheSksT2JqZWN0KERlLmEpKEdyLFdyLkJZVEUsSW50OEFycmF5KSxPYmplY3QoRGUuYSkoR3IsV3IuU0hPUlQsSW50MTZBcnJheSksT2JqZWN0KERlLmEpKEdyLFdyLklOVCxJbnQzMkFycmF5KSxHciksWHI9e0RPVUJMRTpXci5ET1VCTEUsRkxPQVQ6V3IuRkxPQVQsVU5TSUdORURfU0hPUlQ6V3IuVU5TSUdORURfU0hPUlQsVU5TSUdORURfSU5UOldyLlVOU0lHTkVEX0lOVCxVTlNJR05FRF9CWVRFOldyLlVOU0lHTkVEX0JZVEUsQllURTpXci5CWVRFLFNIT1JUOldyLlNIT1JULElOVDpXci5JTlR9LFpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe09iamVjdChGZS5hKSh0aGlzLGUpfXJldHVybiBPYmplY3QoTmUuYSkoZSxudWxsLFt7a2V5OiJmcm9tVHlwZWRBcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGU9QXJyYXlCdWZmZXIuaXNWaWV3KGUpP2UuY29uc3RydWN0b3I6ZSxxcil7aWYocXJbdF09PT1lKXJldHVybiB0fXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGNvbnZlcnQgR0wgdHlwZSIpfX0se2tleToiZnJvbU5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVhyW2VdO2lmKCF0KXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGNvbnZlcnQgR0wgdHlwZSIpO3JldHVybiB0fX0se2tleToiZ2V0QXJyYXlUeXBlIix2YWx1ZTpmdW5jdGlvbihlKXthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3N3aXRjaChlKXtjYXNlIFdyLlVOU0lHTkVEX1NIT1JUXzVfNl81OmNhc2UgV3IuVU5TSUdORURfU0hPUlRfNF80XzRfNDpjYXNlIFdyLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE6cmV0dXJuIFVpbnQxNkFycmF5O2RlZmF1bHQ6dmFyIHQ9cXJbZV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gY29udmVydCBHTCB0eXBlIik7cmV0dXJuIHR9fX0se2tleToiZ2V0Qnl0ZVNpemUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmdldEFycmF5VHlwZSh0KS5CWVRFU19QRVJfRUxFTUVOVH19LHtrZXk6InZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQm9vbGVhbihlLmdldEFycmF5VHlwZSh0KSl9fSx7a2V5OiJjcmVhdGVUeXBlZEFycmF5Iix2YWx1ZTpmdW5jdGlvbih0LG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7dm9pZCAwPT09aSYmKGk9KG4uYnl0ZUxlbmd0aC1yKS9lLmdldEJ5dGVTaXplKHQpKTt2YXIgYT1lLmdldEFycmF5VHlwZSh0KTtyZXR1cm4gbmV3IGEobixyLGkpfX1dKSxlfSgpLFlyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe09iamVjdChGZS5hKSh0aGlzLGUpLHRoaXMuanNvbj10LHRoaXMuYnVmZmVyPW4sdGhpcy5mZWF0dXJlc0xlbmd0aD0wLHRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzPXt9fXJldHVybiBPYmplY3QoTmUuYSkoZSxbe2tleToiZ2V0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnMmJnRoaXMuanNvbi5leHRlbnNpb25zW2VdfX0se2tleToiaGFzUHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKHRoaXMuanNvbltlXSl9fSx7a2V5OiJnZXRHbG9iYWxQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOkhyLlVOU0lHTkVEX0lOVCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLHI9dGhpcy5qc29uW2VdO3JldHVybiByJiZOdW1iZXIuaXNGaW5pdGUoci5ieXRlT2Zmc2V0KT90aGlzLl9nZXRUeXBlZEFycmF5RnJvbUJpbmFyeShlLHQsbiwxLHIuYnl0ZU9mZnNldCk6cn19LHtrZXk6ImdldFByb3BlcnR5QXJyYXkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmpzb25bZV07cmV0dXJuIHImJk51bWJlci5pc0Zpbml0ZShyLmJ5dGVPZmZzZXQpPygiY29tcG9uZW50VHlwZSJpbiByJiYodD1aci5mcm9tTmFtZShyLmNvbXBvbmVudFR5cGUpKSx0aGlzLl9nZXRUeXBlZEFycmF5RnJvbUJpbmFyeShlLHQsbix0aGlzLmZlYXR1cmVzTGVuZ3RoLHIuYnl0ZU9mZnNldCkpOnRoaXMuX2dldFR5cGVkQXJyYXlGcm9tQXJyYXkoZSx0LHIpfX0se2tleToiZ2V0UHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIGE9dGhpcy5qc29uW2VdO2lmKCFhKXJldHVybiBhO3ZhciBvPXRoaXMuZ2V0UHJvcGVydHlBcnJheShlLHQsbik7aWYoMT09PW4pcmV0dXJuIG9bcl07Zm9yKHZhciBzPTA7czxuOysrcylpW3NdPW9bbipyK3NdO3JldHVybiBpfX0se2tleToiX2dldFR5cGVkQXJyYXlGcm9tQmluYXJ5Iix2YWx1ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBhPXRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzLG89YVtlXTtyZXR1cm4gb3x8KG89WnIuY3JlYXRlVHlwZWRBcnJheSh0LHRoaXMuYnVmZmVyLmJ1ZmZlcix0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0K2kscipuKSxhW2VdPW8pLG99fSx7a2V5OiJfZ2V0VHlwZWRBcnJheUZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2NhY2hlZFR5cGVkQXJyYXlzLGk9cltlXTtyZXR1cm4gaXx8KGk9WnIuY3JlYXRlVHlwZWRBcnJheSh0LG4pLHJbZV09aSksaX19XSksZX0oKSxLcj1uKDI3KSxRcj17U0NBTEFSOjEsVkVDMjoyLFZFQzM6MyxWRUM0OjQsTUFUMjo0LE1BVDM6OSxNQVQ0OjE2fSxKcj17U0NBTEFSOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF19LFZFQzI6ZnVuY3Rpb24oZSx0KXtyZXR1cm5bZVsyKnQrMF0sZVsyKnQrMV1dfSxWRUMzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuW2VbMyp0KzBdLGVbMyp0KzFdLGVbMyp0KzJdXX0sVkVDNDpmdW5jdGlvbihlLHQpe3JldHVybltlWzQqdCswXSxlWzQqdCsxXSxlWzQqdCsyXSxlWzQqdCszXV19LE1BVDI6ZnVuY3Rpb24oZSx0KXtyZXR1cm5bZVs0KnQrMF0sZVs0KnQrMV0sZVs0KnQrMl0sZVs0KnQrM11dfSxNQVQzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuW2VbOSp0KzBdLGVbOSp0KzFdLGVbOSp0KzJdLGVbOSp0KzNdLGVbOSp0KzRdLGVbOSp0KzVdLGVbOSp0KzZdLGVbOSp0KzddLGVbOSp0KzhdXX0sTUFUNDpmdW5jdGlvbihlLHQpe3JldHVybltlWzE2KnQrMF0sZVsxNip0KzFdLGVbMTYqdCsyXSxlWzE2KnQrM10sZVsxNip0KzRdLGVbMTYqdCs1XSxlWzE2KnQrNl0sZVsxNip0KzddLGVbMTYqdCs4XSxlWzE2KnQrOV0sZVsxNip0KzEwXSxlWzE2KnQrMTFdLGVbMTYqdCsxMl0sZVsxNip0KzEzXSxlWzE2KnQrMTRdLGVbMTYqdCsxNV1dfX0sJHI9e1NDQUxBUjpmdW5jdGlvbihlLHQsbil7dFtuXT1lfSxWRUMyOmZ1bmN0aW9uKGUsdCxuKXt0WzIqbiswXT1lWzBdLHRbMipuKzFdPWVbMV19LFZFQzM6ZnVuY3Rpb24oZSx0LG4pe3RbMypuKzBdPWVbMF0sdFszKm4rMV09ZVsxXSx0WzMqbisyXT1lWzJdfSxWRUM0OmZ1bmN0aW9uKGUsdCxuKXt0WzQqbiswXT1lWzBdLHRbNCpuKzFdPWVbMV0sdFs0Km4rMl09ZVsyXSx0WzQqbiszXT1lWzNdfSxNQVQyOmZ1bmN0aW9uKGUsdCxuKXt0WzQqbiswXT1lWzBdLHRbNCpuKzFdPWVbMV0sdFs0Km4rMl09ZVsyXSx0WzQqbiszXT1lWzNdfSxNQVQzOmZ1bmN0aW9uKGUsdCxuKXt0WzkqbiswXT1lWzBdLHRbOSpuKzFdPWVbMV0sdFs5Km4rMl09ZVsyXSx0WzkqbiszXT1lWzNdLHRbOSpuKzRdPWVbNF0sdFs5Km4rNV09ZVs1XSx0Wzkqbis2XT1lWzZdLHRbOSpuKzddPWVbN10sdFs5Km4rOF09ZVs4XSx0Wzkqbis5XT1lWzldfSxNQVQ0OmZ1bmN0aW9uKGUsdCxuKXt0WzE2Km4rMF09ZVswXSx0WzE2Km4rMV09ZVsxXSx0WzE2Km4rMl09ZVsyXSx0WzE2Km4rM109ZVszXSx0WzE2Km4rNF09ZVs0XSx0WzE2Km4rNV09ZVs1XSx0WzE2Km4rNl09ZVs2XSx0WzE2Km4rN109ZVs3XSx0WzE2Km4rOF09ZVs4XSx0WzE2Km4rOV09ZVs5XSx0WzE2Km4rMTBdPWVbMTBdLHRbMTYqbisxMV09ZVsxMV0sdFsxNipuKzEyXT1lWzEyXSx0WzE2Km4rMTNdPWVbMTNdLHRbMTYqbisxNF09ZVsxNF0sdFsxNipuKzE1XT1lWzE1XX19O3ZhciBlaT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZX07ZnVuY3Rpb24gdGkoZSx0LG4pe2lmKCF0KXJldHVybiBudWxsO3ZhciByPWUuZ2V0RXh0ZW5zaW9uKCIzRFRJTEVTX2JhdGNoX3RhYmxlX2hpZXJhcmNoeSIpLGk9dC5ISUVSQVJDSFk7cmV0dXJuIGkmJihjb25zb2xlLndhcm4oIjNEIFRpbGUgUGFyc2VyOiBISUVSQVJDSFkgaXMgZGVwcmVjYXRlZC4gVXNlIDNEVElMRVNfYmF0Y2hfdGFibGVfaGllcmFyY2h5LiIpLHQuZXh0ZW5zaW9ucz10LmV4dGVuc2lvbnN8fHt9LHQuZXh0ZW5zaW9uc1siM0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHkiXT1pLHI9aSkscj9mdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxhLG89ZS5pbnN0YW5jZXNMZW5ndGgscz1lLmNsYXNzZXMsdT1lLmNsYXNzSWRzLGM9ZS5wYXJlbnRDb3VudHMsbD1lLnBhcmVudElkcyxoPW87ZWkodS5ieXRlT2Zmc2V0KSYmKHUuY29tcG9uZW50VHlwZT1kZWZhdWx0VmFsdWUodS5jb21wb25lbnRUeXBlLEdMLlVOU0lHTkVEX1NIT1JUKSx1LnR5cGU9QXR0cmlidXRlVHlwZS5TQ0FMQVIsaT1nZXRCaW5hcnlBY2Nlc3Nvcih1KSxlcigiY2xhc3NJZHMiKSx1PWkuY3JlYXRlQXJyYXlCdWZmZXJWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCt1LmJ5dGVPZmZzZXQsbykpO2lmKGVpKGMpKWZvcihlaShjLmJ5dGVPZmZzZXQpJiYoYy5jb21wb25lbnRUeXBlPWRlZmF1bHRWYWx1ZShjLmNvbXBvbmVudFR5cGUsR0wuVU5TSUdORURfU0hPUlQpLGMudHlwZT1BdHRyaWJ1dGVUeXBlLlNDQUxBUixpPWdldEJpbmFyeUFjY2Vzc29yKGMpLGVyKCJwYXJlbnRDb3VudHMiKSxjPWkuY3JlYXRlQXJyYXlCdWZmZXJWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCtjLmJ5dGVPZmZzZXQsbykpLGE9bmV3IFVpbnQxNkFycmF5KG8pLGVyKCJwYXJlbnRJZHNMZW5ndGgiKSxoPTAsbj0wO248bzsrK24pYVtuXT1oLGgrPShlcigicGFyZW50SWRzTGVuZ3RoIiksY1tuXSk7ZWkobCkmJmVpKGwuYnl0ZU9mZnNldCkmJihsLmNvbXBvbmVudFR5cGU9ZGVmYXVsdFZhbHVlKGwuY29tcG9uZW50VHlwZSxHTC5VTlNJR05FRF9TSE9SVCksbC50eXBlPUF0dHJpYnV0ZVR5cGUuU0NBTEFSLGk9Z2V0QmluYXJ5QWNjZXNzb3IobCksZXIoInBhcmVudElkcyIpLGw9aS5jcmVhdGVBcnJheUJ1ZmZlclZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0K2wuYnl0ZU9mZnNldCxoKSk7dmFyIGY9cy5sZW5ndGg7Zm9yKG49MDtuPGY7KytuKXt2YXIgZD1zW25dLmxlbmd0aCx2PXNbbl0uaW5zdGFuY2VzLHA9Z2V0QmluYXJ5UHJvcGVydGllcyhkLHYsdCk7c1tuXS5pbnN0YW5jZXM9Y29tYmluZShwLHYpfXZhciBnPW5ldyBBcnJheShmKS5maWxsKDApLHk9bmV3IFVpbnQxNkFycmF5KG8pO2ZvcihuPTA7bjxvOysrbilyPXVbbl0seVtuXT1nW3JdLCsrZ1tyXTt2YXIgbT17Y2xhc3NlczpzLGNsYXNzSWRzOnUsY2xhc3NJbmRleGVzOnkscGFyZW50Q291bnRzOmMscGFyZW50SW5kZXhlczphLHBhcmVudElkczpsfTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY2xhc3NJZHMubGVuZ3RoLG49MDtuPHQ7KytuKXJpKGUsbixzdGFjayl9KG0pLG19KHIsbik6bnVsbH1mdW5jdGlvbiBuaShlLHQsbil7aWYoZSl7dmFyIHI9ZS5wYXJlbnRDb3VudHM7cmV0dXJuIGUucGFyZW50SWRzP24oZSx0KTpyPjA/ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuY2xhc3NJZHMsaT1lLnBhcmVudENvdW50cyxhPWUucGFyZW50SWRzLG89ZS5wYXJlbnRJbmRleGVzLHM9ci5sZW5ndGgsdT1zY3JhdGNoVmlzaXRlZDt1Lmxlbmd0aD1NYXRoLm1heCh1Lmxlbmd0aCxzKTt2YXIgYz0rK21hcmtlcixsPXNjcmF0Y2hTdGFjaztsLmxlbmd0aD0wLGwucHVzaCh0KTtmb3IoO2wubGVuZ3RoPjA7KWlmKHQ9bC5wb3AoKSx1W3RdIT09Yyl7dVt0XT1jO3ZhciBoPW4oZSx0KTtpZihlaShoKSlyZXR1cm4gaDtmb3IodmFyIGY9aVt0XSxkPW9bdF0sdj0wO3Y8ZjsrK3Ype3ZhciBwPWFbZCt2XTtwIT09dCYmbC5wdXNoKHApfX1yZXR1cm4gbnVsbH0oZSx0LG4pOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0hMDtmb3IoO3I7KXt2YXIgaT1uKGUsdCk7aWYoZWkoaSkpcmV0dXJuIGk7dmFyIGE9ZS5wYXJlbnRJZHNbdF07cj1hIT09dCx0PWF9dGhyb3cgbmV3IEVycm9yKCJ0cmF2ZXJzZUhpZXJhcmNoeVNpbmdsZVBhcmVudCIpfShlLHQsbil9fWZ1bmN0aW9uIHJpKGUsdCxuKXt2YXIgcj1lLnBhcmVudENvdW50cyxpPWUucGFyZW50SWRzLGE9ZS5wYXJlbnRJbmRleGVzLG89ZS5jbGFzc0lkcy5sZW5ndGg7aWYoZWkoaSkpe2Fzc2VydCh0PG8sIlBhcmVudCBpbmRleCAiLmNvbmNhdCh0LCIgZXhjZWVkcyB0aGUgdG90YWwgbnVtYmVyIG9mIGluc3RhbmNlczogIikuY29uY2F0KG8pKSxhc3NlcnQoLTE9PT1uLmluZGV4T2YodCksIkNpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQgaW4gdGhlIGJhdGNoIHRhYmxlIGhpZXJhcmNoeS4iKSxuLnB1c2godCk7Zm9yKHZhciBzPWVpKHIpP3JbdF06MSx1PWVpKHIpP2FbdF06dCxjPTA7YzxzOysrYyl7dmFyIGw9aVt1K2NdO2whPT10JiZyaShlLGwsbil9bi5wb3AodCl9fWZ1bmN0aW9uIGlpKGUpe3JldHVybiBudWxsIT1lfXZhciBhaT17SElFUkFSQ0hZOiEwLGV4dGVuc2lvbnM6ITAsZXh0cmFzOiEwfSxvaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTtmb3IodmFyIGEgaW4gT2JqZWN0KEZlLmEpKHRoaXMsZSksT2JqZWN0KHZ0LmEpKHI+PTApLHRoaXMuanNvbj10fHx7fSx0aGlzLmJpbmFyeT1uLHRoaXMuZmVhdHVyZUNvdW50PXIsdGhpcy5fZXh0ZW5zaW9ucz10aGlzLmpzb24mJnRoaXMuanNvbi5leHRlbnNpb25zfHx7fSx0aGlzLl9wcm9wZXJ0aWVzPXt9LHRoaXMuanNvbilhaVthXXx8KHRoaXMuX3Byb3BlcnRpZXNbYV09dGhpcy5qc29uW2FdKTt0aGlzLl9iaW5hcnlQcm9wZXJ0aWVzPXRoaXMuX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0aWVzKCksaVsiM0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHkiXSYmKHRoaXMuX2hpZXJhcmNoeT10aSh0aGlzLHRoaXMuanNvbix0aGlzLmJpbmFyeSkpfXJldHVybiBPYmplY3QoTmUuYSkoZSxbe2tleToiZ2V0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5qc29uJiZ0aGlzLmpzb24uZXh0ZW5zaW9ucyYmdGhpcy5qc29uLmV4dGVuc2lvbnNbZV19fSx7a2V5OiJtZW1vcnlTaXplSW5CeXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6ImlzQ2xhc3MiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NoZWNrQmF0Y2hJZChlKSxPYmplY3QodnQuYSkoInN0cmluZyI9PXR5cGVvZiB0LHQpLCEhdGhpcy5faGllcmFyY2h5JiZpaShuaSh0aGlzLl9oaWVyYXJjaHksZSwoZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmNsYXNzSWRzW25dO3JldHVybiBlLmNsYXNzZXNbcl0ubmFtZT09PXR9KSkpfX0se2tleToiaXNFeGFjdENsYXNzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QodnQuYSkoInN0cmluZyI9PXR5cGVvZiB0LHQpLHRoaXMuZ2V0RXhhY3RDbGFzc05hbWUoZSk9PT10fX0se2tleToiZ2V0RXhhY3RDbGFzc05hbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2NoZWNrQmF0Y2hJZChlKSx0aGlzLl9oaWVyYXJjaHkpe3ZhciB0PXRoaXMuX2hpZXJhcmNoeS5jbGFzc0lkc1tlXTtyZXR1cm4gdGhpcy5faGllcmFyY2h5LmNsYXNzZXNbdF0ubmFtZX19fSx7a2V5OiJoYXNQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fY2hlY2tCYXRjaElkKGUpLE9iamVjdCh2dC5hKSgic3RyaW5nIj09dHlwZW9mIHQsdCksaWkodGhpcy5fcHJvcGVydGllc1t0XSl8fHRoaXMuX2hhc1Byb3BlcnR5SW5IaWVyYXJjaHkoZSx0KX19LHtrZXk6ImdldFByb3BlcnR5TmFtZXMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG47dGhpcy5fY2hlY2tCYXRjaElkKGUpLCh0PWlpKHQpP3Q6W10pLmxlbmd0aD0wO3ZhciByPU9iamVjdC5rZXlzKHRoaXMuX3Byb3BlcnRpZXMpO3JldHVybihuPXQpLnB1c2guYXBwbHkobixPYmplY3QoS3IuYSkocikpLHRoaXMuX2hpZXJhcmNoeSYmdGhpcy5fZ2V0UHJvcGVydHlOYW1lc0luSGllcmFyY2h5KGUsdCksdH19LHtrZXk6ImdldFByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX2NoZWNrQmF0Y2hJZChlKSxPYmplY3QodnQuYSkoInN0cmluZyI9PXR5cGVvZiB0LHQpLHRoaXMuX2JpbmFyeVByb3BlcnRpZXMpe3ZhciBuPXRoaXMuX2JpbmFyeVByb3BlcnRpZXNbdF07aWYoaWkobikpcmV0dXJuIHRoaXMuX2dldEJpbmFyeVByb3BlcnR5KG4sZSl9dmFyIHI9dGhpcy5fcHJvcGVydGllc1t0XTtpZihpaShyKSlyZXR1cm4gcltlXTtpZih0aGlzLl9oaWVyYXJjaHkpe3ZhciBpPXRoaXMuX2dldEhpZXJhcmNoeVByb3BlcnR5KGUsdCk7aWYoaWkoaSkpcmV0dXJuIGl9fX0se2tleToic2V0UHJvcGVydHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmZlYXR1cmVDb3VudDtpZih0aGlzLl9jaGVja0JhdGNoSWQoZSxyKSxPYmplY3QodnQuYSkoInN0cmluZyI9PXR5cGVvZiB0LHQpLHRoaXMuX2JpbmFyeVByb3BlcnRpZXMpe3ZhciBpPXRoaXMuX2JpbmFyeVByb3BlcnRpZXNbdF07aWYoaSlyZXR1cm4gdm9pZCB0aGlzLl9zZXRCaW5hcnlQcm9wZXJ0eShpLGUsbil9aWYoIXRoaXMuX2hpZXJhcmNoeXx8IXRoaXMuX3NldEhpZXJhcmNoeVByb3BlcnR5KHRoaXMsZSx0LG4pKXt2YXIgYT10aGlzLl9wcm9wZXJ0aWVzW3RdO2lpKGEpfHwodGhpcy5fcHJvcGVydGllc1t0XT1uZXcgQXJyYXkociksYT10aGlzLl9wcm9wZXJ0aWVzW3RdKSxhW2VdPW59fX0se2tleToiX2NoZWNrQmF0Y2hJZCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIShlPj0wJiZlPHRoaXMuZmVhdHVyZUNvdW50KSl0aHJvdyBuZXcgRXJyb3IoImJhdGNoSWQgbm90IGluIHJhbmdlIFswLCBmZWF0dXJlQ291bnQgLSAxXS4iKX19LHtrZXk6Il9nZXRCaW5hcnlQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS51bnBhY2soZS50eXBlZEFycmF5LHQpfX0se2tleToiX3NldEJpbmFyeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQsbil7ZS5wYWNrKG4sZS50eXBlZEFycmF5LHQpfX0se2tleToiX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0aWVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW51bGw7Zm9yKHZhciB0IGluIHRoaXMuX3Byb3BlcnRpZXMpe3ZhciBuPXRoaXMuX3Byb3BlcnRpZXNbdF0scj10aGlzLl9pbml0aWFsaXplQmluYXJ5UHJvcGVydHkodCxuKTtyJiYoKGU9ZXx8e30pW3RdPXIpfXJldHVybiBlfX0se2tleToiX2luaXRpYWxpemVCaW5hcnlQcm9wZXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZigiYnl0ZU9mZnNldCJpbiB0KXt2YXIgbj10O09iamVjdCh2dC5hKSh0aGlzLmJpbmFyeSwiUHJvcGVydHkgIi5jb25jYXQoZSwiIHJlcXVpcmVzIGEgYmF0Y2ggdGFibGUgYmluYXJ5LiIpKSxPYmplY3QodnQuYSkobi50eXBlLCJQcm9wZXJ0eSAiLmNvbmNhdChlLCIgcmVxdWlyZXMgYSB0eXBlLiIpKTt2YXIgcj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1lLmNvbXBvbmVudFR5cGU7T2JqZWN0KHZ0LmEpKGUuY29tcG9uZW50VHlwZSk7dmFyIGE9InN0cmluZyI9PXR5cGVvZiBpP1pyLmZyb21OYW1lKGkpOmksbz1RcltlLnR5cGVdLHM9SnJbZS50eXBlXSx1PSRyW2UudHlwZV07cmV0dXJuIG4rPWUuYnl0ZU9mZnNldCx7dmFsdWVzOlpyLmNyZWF0ZVR5cGVkQXJyYXkoYSx0LG4sbypyKSx0eXBlOmEsc2l6ZTpvLHVucGFja2VyOnMscGFja2VyOnV9fShuLHRoaXMuYmluYXJ5LmJ1ZmZlciwwfHRoaXMuYmluYXJ5LmJ5dGVPZmZzZXQsdGhpcy5mZWF0dXJlQ291bnQpO3JldHVybnt0eXBlZEFycmF5OnIudmFsdWVzLGNvbXBvbmVudENvdW50OnIuc2l6ZSx1bnBhY2s6ci51bnBhY2tlcixwYWNrOnIucGFja2VyfX1yZXR1cm4gbnVsbH19LHtrZXk6Il9oYXNQcm9wZXJ0eUluSGllcmFyY2h5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLl9oaWVyYXJjaHkpcmV0dXJuITE7dmFyIG49bmkodGhpcy5faGllcmFyY2h5LGUsKGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5jbGFzc0lkc1tuXTtyZXR1cm4gaWkoZS5jbGFzc2VzW3JdLmluc3RhbmNlc1t0XSl9KSk7cmV0dXJuIGlpKG4pfX0se2tleToiX2dldFByb3BlcnR5TmFtZXNJbkhpZXJhcmNoeSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtuaSh0aGlzLl9oaWVyYXJjaHksZSwoZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmNsYXNzSWRzW25dLGk9ZS5jbGFzc2VzW3JdLmluc3RhbmNlcztmb3IodmFyIGEgaW4gaSlpLmhhc093blByb3BlcnR5KGEpJiYtMT09PXQuaW5kZXhPZihhKSYmdC5wdXNoKGEpfSkpfX0se2tleToiX2dldEhpZXJhcmNoeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIG5pKHRoaXMuX2hpZXJhcmNoeSxlLChmdW5jdGlvbihlLHIpe3ZhciBpPWUuY2xhc3NJZHNbcl0sYT1lLmNsYXNzZXNbaV0sbz1lLmNsYXNzSW5kZXhlc1tyXSxzPWEuaW5zdGFuY2VzW3RdO3JldHVybiBpaShzKT9paShzLnR5cGVkQXJyYXkpP24uX2dldEJpbmFyeVByb3BlcnR5KHMsbyk6c1tvXTpudWxsfSkpfX0se2tleToiX3NldEhpZXJhcmNoeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLGE9bmkodGhpcy5faGllcmFyY2h5LHQsKGZ1bmN0aW9uKGUsYSl7dmFyIG89ZS5jbGFzc0lkc1thXSxzPWUuY2xhc3Nlc1tvXSx1PWUuY2xhc3NJbmRleGVzW2FdLGM9cy5pbnN0YW5jZXNbbl07cmV0dXJuISFpaShjKSYmKE9iamVjdCh2dC5hKShhPT09dCwnSW5oZXJpdGVkIHByb3BlcnR5ICInLmNvbmNhdChuLCciIGlzIHJlYWQtb25seS4nKSksaWkoYy50eXBlZEFycmF5KT9pLl9zZXRCaW5hcnlQcm9wZXJ0eShjLHUscik6Y1t1XT1yLCEwKX0pKTtyZXR1cm4gaWkoYSl9fV0pLGV9KCk7ZnVuY3Rpb24gc2koZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxyPW5ldyBEYXRhVmlldyh0KTtpZihlLm1hZ2ljPXIuZ2V0VWludDMyKG4sITApLG4rPTQsZS52ZXJzaW9uPXIuZ2V0VWludDMyKG4sITApLG4rPTQsZS5ieXRlTGVuZ3RoPXIuZ2V0VWludDMyKG4sITApLG4rPTQsMSE9PWUudmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIjNEIFRpbGUgVmVyc2lvbiAiLmNvbmNhdChlLnZlcnNpb24sIiBub3Qgc3VwcG9ydGVkIikpO3JldHVybiBufWZ1bmN0aW9uIHVpKGUsdCxuKXt2YXIgcj1uZXcgRGF0YVZpZXcodCk7cmV0dXJuIGUuaGVhZGVyPWUuaGVhZGVyfHx7fSxlLmhlYWRlci5mZWF0dXJlVGFibGVKc29uQnl0ZUxlbmd0aD1yLmdldFVpbnQzMihuLCEwKSxuKz00LGUuaGVhZGVyLmZlYXR1cmVUYWJsZUJpbmFyeUJ5dGVMZW5ndGg9ci5nZXRVaW50MzIobiwhMCksbis9NCxlLmhlYWRlci5iYXRjaFRhYmxlSnNvbkJ5dGVMZW5ndGg9ci5nZXRVaW50MzIobiwhMCksbis9NCxlLmhlYWRlci5iYXRjaFRhYmxlQmluYXJ5Qnl0ZUxlbmd0aD1yLmdldFVpbnQzMihuLCEwKSxuKz00fWZ1bmN0aW9uIGNpKGUsdCxuLHIpe3JldHVybiBuPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPWUuaGVhZGVyLGE9aS5mZWF0dXJlVGFibGVKc29uQnl0ZUxlbmd0aCxvPWkuZmVhdHVyZVRhYmxlQmluYXJ5Qnl0ZUxlbmd0aDtpZihlLmZlYXR1cmVUYWJsZUpzb249e0JBVENIX0xFTkdUSDowfSxhPjApe3ZhciBzPUJyKHQsbixhKTtlLmZlYXR1cmVUYWJsZUpzb249SlNPTi5wYXJzZShzKX1yZXR1cm4gbis9YSxlLmZlYXR1cmVUYWJsZUJpbmFyeT1uZXcgVWludDhBcnJheSh0LG4sbyksbis9b30oZSx0LG4pLG49ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZS5oZWFkZXIsYT1pLmJhdGNoVGFibGVKc29uQnl0ZUxlbmd0aCxvPWkuYmF0Y2hUYWJsZUJpbmFyeUJ5dGVMZW5ndGg7aWYoYT4wKXt2YXIgcz1Ccih0LG4sYSk7ZS5iYXRjaFRhYmxlSnNvbj1KU09OLnBhcnNlKHMpLG4rPWEsbz4wJiYoZS5iYXRjaFRhYmxlQmluYXJ5PW5ldyBVaW50OEFycmF5KHQsbixvKSxlLmJhdGNoVGFibGVCaW5hcnk9bmV3IFVpbnQ4QXJyYXkoZS5iYXRjaFRhYmxlQmluYXJ5KSxuKz1vKX1yZXR1cm4gbn0oZSx0LG4pfWZ1bmN0aW9uIGxpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbMCwwLDBdLG49ZT4+MTEmMzEscj1lPj41JjYzLGk9MzEmZTtyZXR1cm4gdFswXT1uPDwzLHRbMV09cjw8Mix0WzJdPWk8PDMsdH1mdW5jdGlvbiBoaShlLHQsbil7aWYoISh0fHxlJiZlLmJhdGNoSWRzJiZuKSlyZXR1cm4gbnVsbDt2YXIgcj1lLmJhdGNoSWRzLGk9ZS5pc1JHQjU2NSxhPWUucG9pbnRDb3VudDtpZihyJiZuKXtmb3IodmFyIG89bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDMqYSkscz0wO3M8YTtzKyspe3ZhciB1PXJbc10sYz1uLmdldFByb3BlcnR5KHUsImRpbWVuc2lvbnMiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiAyNTUqZX0pKTtvWzMqc109Y1swXSxvWzMqcysxXT1jWzFdLG9bMypzKzJdPWNbMl19cmV0dXJue3R5cGU6SHIuVU5TSUdORURfQllURSx2YWx1ZTpvLHNpemU6Myxub3JtYWxpemVkOiEwfX1pZihpKXtmb3IodmFyIGw9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDMqYSksaD0wO2g8YTtoKyspe3ZhciBmPWxpKHRbaF0pO2xbMypoXT1mWzBdLGxbMypoKzFdPWZbMV0sbFszKmgrMl09ZlsyXX1yZXR1cm57dHlwZTpIci5VTlNJR05FRF9CWVRFLHZhbHVlOmwsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9fXJldHVybiB0JiZ0Lmxlbmd0aD09PTMqYT97dHlwZTpIci5VTlNJR05FRF9CWVRFLHZhbHVlOnQsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9Ont0eXBlOkhyLlVOU0lHTkVEX0JZVEUsdmFsdWU6dCxzaXplOjQsbm9ybWFsaXplZDohMH19ZnVuY3Rpb24gZmkoZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IoIm1hdGguZ2wgYXNzZXJ0aW9uIGZhaWxlZC4gIi5jb25jYXQodCkpfW5ldyB2ZS5kLG5ldyB2ZS5lLG5ldyB2ZS5kLG5ldyB2ZS5kLG5ldyBVaW50OEFycmF5KDEpO2Z1bmN0aW9uIGRpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyNTU7cmV0dXJuIE9iamVjdCh2ZS5pKShlLDAsdCkvdCoyLTF9ZnVuY3Rpb24gdmkoZSl7cmV0dXJuIGU8MD8tMToxfWZ1bmN0aW9uIHBpKGUsdCxuLHIpe2lmKGZpKHIpLGU8MHx8ZT5ufHx0PDB8fHQ+bil0aHJvdyBuZXcgRXJyb3IoInggYW5kIHkgbXVzdCBiZSB1bnNpZ25lZCBub3JtYWxpemVkIGludGVnZXJzIGJldHdlZW4gMCBhbmQgIi5jb25jYXQobikpO2lmKHIueD1kaShlLG4pLHIueT1kaSh0LG4pLHIuej0xLShNYXRoLmFicyhyLngpK01hdGguYWJzKHIueSkpLHIuejwwKXt2YXIgaT1yLng7ci54PSgxLU1hdGguYWJzKHIueSkpKnZpKGkpLHIueT0oMS1NYXRoLmFicyhpKSkqdmkoci55KX1yZXR1cm4gci5ub3JtYWxpemUoKX1mdW5jdGlvbiBnaShlLHQsbil7cmV0dXJuIHBpKGUsdCwyNTUsbil9dmFyIHlpPW5ldyBUZS5hO2Z1bmN0aW9uIG1pKGUsdCxuKXtyZXR1cm4gZS5pc1F1YW50aXplZD9uLmRlY29kZVF1YW50aXplZFBvc2l0aW9ucz8oZS5pc1F1YW50aXplZD0hMSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1uZXcgVGUuYSxyPW5ldyBGbG9hdDMyQXJyYXkoMyplLnBvaW50Q291bnQpLGk9MDtpPGUucG9pbnRDb3VudDtpKyspbi5zZXQodFszKmldLHRbMyppKzFdLHRbMyppKzJdKS5zY2FsZSgxL2UucXVhbnRpemVkUmFuZ2UpLm11bHRpcGx5KGUucXVhbnRpemVkVm9sdW1lU2NhbGUpLmFkZChlLnF1YW50aXplZFZvbHVtZU9mZnNldCkudG9BcnJheShyLDMqaSk7cmV0dXJuIHJ9KGUsdCkpOnt0eXBlOkhyLlVOU0lHTkVEX1NIT1JULHZhbHVlOnQsc2l6ZTozLG5vcm1hbGl6ZWQ6ITB9OnR9ZnVuY3Rpb24gYmkoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIF9pKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2JpKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0KERlLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpiaShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBPaShlLHQsbixyLGkpe3JldHVybiB4aS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geGkoKXtyZXR1cm4oeGk9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixpLGEpe3ZhciBvLHMsdTtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1zaSh0LG4scixpKSxyPXVpKHQsbixyKSxyPWNpKHQsbixyKSx3aSh0KSxvPVNpKHQpLHM9by5mZWF0dXJlVGFibGUsdT1vLmJhdGNoVGFibGUsZS5uZXh0PTcsVGkodCxzLHUsaSxhKTtjYXNlIDc6cmV0dXJuIGtpKHQscyxpKSxQaSh0LHMsdSksamkodCxzKSxlLmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDExOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gd2koZSl7ZS5hdHRyaWJ1dGVzPXtwb3NpdGlvbnM6bnVsbCxjb2xvcnM6bnVsbCxub3JtYWxzOm51bGwsYmF0Y2hJZHM6bnVsbH0sZS5pc1F1YW50aXplZD0hMSxlLmlzVHJhbnNsdWNlbnQ9ITEsZS5pc1JHQjU2NT0hMSxlLmlzT2N0RW5jb2RlZDE2UD0hMX1mdW5jdGlvbiBTaShlKXt2YXIgdD1uZXcgWXIoZS5mZWF0dXJlVGFibGVKc29uLGUuZmVhdHVyZVRhYmxlQmluYXJ5KSxuPXQuZ2V0R2xvYmFsUHJvcGVydHkoIlBPSU5UU19MRU5HVEgiKTtpZighTnVtYmVyLmlzRmluaXRlKG4pKXRocm93IG5ldyBFcnJvcigiUE9JTlRTX0xFTkdUSCBtdXN0IGJlIGRlZmluZWQiKTt0LmZlYXR1cmVzTGVuZ3RoPW4sZS5mZWF0dXJlc0xlbmd0aD1uLGUucG9pbnRzTGVuZ3RoPW4sZS5wb2ludENvdW50PW4sZS5ydGNDZW50ZXI9dC5nZXRHbG9iYWxQcm9wZXJ0eSgiUlRDX0NFTlRFUiIsSHIuRkxPQVQsMyk7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsO2lmKCFlLmJhdGNoSWRzJiZ0Lmhhc1Byb3BlcnR5KCJCQVRDSF9JRCIpJiYoZS5iYXRjaElkcz10LmdldFByb3BlcnR5QXJyYXkoIkJBVENIX0lEIixIci5VTlNJR05FRF9TSE9SVCwxKSxlLmJhdGNoSWRzKSl7dmFyIHI9dC5nZXRHbG9iYWxQcm9wZXJ0eSgiQkFUQ0hfTEVOR1RIIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJHbG9iYWwgcHJvcGVydHk6IEJBVENIX0xFTkdUSCBtdXN0IGJlIGRlZmluZWQgd2hlbiBCQVRDSF9JRCBpcyBkZWZpbmVkLiIpO3ZhciBpPWUuYmF0Y2hUYWJsZUpzb24sYT1lLmJhdGNoVGFibGVCaW5hcnk7bj1uZXcgb2koaSxhLHIpfXJldHVybiBufShlLHQpO3JldHVybntmZWF0dXJlVGFibGU6dCxiYXRjaFRhYmxlOnJ9fWZ1bmN0aW9uIGtpKGUsdCxuKXtpZighZS5hdHRyaWJ1dGVzLnBvc2l0aW9ucylpZih0Lmhhc1Byb3BlcnR5KCJQT1NJVElPTiIpKWUuYXR0cmlidXRlcy5wb3NpdGlvbnM9dC5nZXRQcm9wZXJ0eUFycmF5KCJQT1NJVElPTiIsSHIuRkxPQVQsMyk7ZWxzZSBpZih0Lmhhc1Byb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiKSl7dmFyIHI9dC5nZXRQcm9wZXJ0eUFycmF5KCJQT1NJVElPTl9RVUFOVElaRUQiLEhyLlVOU0lHTkVEX1NIT1JULDMpO2lmKGUuaXNRdWFudGl6ZWQ9ITAsZS5xdWFudGl6ZWRSYW5nZT02NTUzNSxlLnF1YW50aXplZFZvbHVtZVNjYWxlPXQuZ2V0R2xvYmFsUHJvcGVydHkoIlFVQU5USVpFRF9WT0xVTUVfU0NBTEUiLEhyLkZMT0FULDMpLCFlLnF1YW50aXplZFZvbHVtZVNjYWxlKXRocm93IG5ldyBFcnJvcigiUVVBTlRJWkVEX1ZPTFVNRV9TQ0FMRSBtdXN0IGJlIGRlZmluZWQgZm9yIHF1YW50aXplZCBwb3NpdGlvbnMuIik7aWYoZS5xdWFudGl6ZWRWb2x1bWVPZmZzZXQ9dC5nZXRHbG9iYWxQcm9wZXJ0eSgiUVVBTlRJWkVEX1ZPTFVNRV9PRkZTRVQiLEhyLkZMT0FULDMpLCFlLnF1YW50aXplZFZvbHVtZU9mZnNldCl0aHJvdyBuZXcgRXJyb3IoIlFVQU5USVpFRF9WT0xVTUVfT0ZGU0VUIG11c3QgYmUgZGVmaW5lZCBmb3IgcXVhbnRpemVkIHBvc2l0aW9ucy4iKTtlLmF0dHJpYnV0ZXMucG9zaXRpb25zPW1pKGUscixuKX1pZighZS5hdHRyaWJ1dGVzLnBvc2l0aW9ucyl0aHJvdyBuZXcgRXJyb3IoIkVpdGhlciBQT1NJVElPTiBvciBQT1NJVElPTl9RVUFOVElaRUQgbXVzdCBiZSBkZWZpbmVkLiIpfWZ1bmN0aW9uIFBpKGUsdCxuKXtpZighZS5hdHRyaWJ1dGVzLmNvbG9ycyl7dmFyIHI9bnVsbDt0Lmhhc1Byb3BlcnR5KCJSR0JBIik/KHI9dC5nZXRQcm9wZXJ0eUFycmF5KCJSR0JBIixIci5VTlNJR05FRF9CWVRFLDQpLGUuaXNUcmFuc2x1Y2VudD0hMCk6dC5oYXNQcm9wZXJ0eSgiUkdCIik/cj10LmdldFByb3BlcnR5QXJyYXkoIlJHQiIsSHIuVU5TSUdORURfQllURSwzKTp0Lmhhc1Byb3BlcnR5KCJSR0I1NjUiKSYmKHI9dC5nZXRQcm9wZXJ0eUFycmF5KCJSR0I1NjUiLEhyLlVOU0lHTkVEX1NIT1JULDEpLGUuaXNSR0I1NjU9ITApLGUuYXR0cmlidXRlcy5jb2xvcnM9aGkoZSxyLG4pfXQuaGFzUHJvcGVydHkoIkNPTlNUQU5UX1JHQkEiKSYmKGUuY29uc3RhbnRSR0JBPXQuZ2V0R2xvYmFsUHJvcGVydHkoIkNPTlNUQU5UX1JHQkEiLEhyLlVOU0lHTkVEX0JZVEUsNCkpfWZ1bmN0aW9uIGppKGUsdCl7aWYoIWUuYXR0cmlidXRlcy5ub3JtYWxzKXt2YXIgbj1udWxsO3QuaGFzUHJvcGVydHkoIk5PUk1BTCIpP249dC5nZXRQcm9wZXJ0eUFycmF5KCJOT1JNQUwiLEhyLkZMT0FULDMpOnQuaGFzUHJvcGVydHkoIk5PUk1BTF9PQ1QxNlAiKSYmKG49dC5nZXRQcm9wZXJ0eUFycmF5KCJOT1JNQUxfT0NUMTZQIixIci5VTlNJR05FRF9CWVRFLDIpLGUuaXNPY3RFbmNvZGVkMTZQPSEwKSxlLmF0dHJpYnV0ZXMubm9ybWFscz1mdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBudWxsO2lmKGUuaXNPY3RFbmNvZGVkMTZQKXtmb3IodmFyIG49bmV3IEZsb2F0MzJBcnJheSgzKmUucG9pbnRzTGVuZ3RoKSxyPTA7cjxlLnBvaW50c0xlbmd0aDtyKyspZ2kodFsyKnJdLHRbMipyKzFdLHlpKSx5aS50b0FycmF5KG4sMypyKTtyZXR1cm57dHlwZTpIci5GTE9BVCxzaXplOjIsdmFsdWU6bn19cmV0dXJue3R5cGU6SHIuRkxPQVQsc2l6ZToyLHZhbHVlOnR9fShlLG4pfX1mdW5jdGlvbiBUaShlLHQsbixyLGkpe3JldHVybiBFaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRWkoKXtyZXR1cm4oRWk9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixpLGEpe3ZhciBvLHMsdSxjLGwsaCxmLGQ7cmV0dXJuIHdlLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoKGM9ciYmci5nZXRFeHRlbnNpb24oIjNEVElMRVNfZHJhY29fcG9pbnRfY29tcHJlc3Npb24iKSkmJih1PWMucHJvcGVydGllcyksIShsPW4uZ2V0RXh0ZW5zaW9uKCIzRFRJTEVTX2RyYWNvX3BvaW50X2NvbXByZXNzaW9uIikpKXtlLm5leHQ9MTU7YnJlYWt9aWYocz1sLnByb3BlcnRpZXMsaD1sLmJ5dGVPZmZzZXQsZj1sLmJ5dGVMZW5ndGgscyYmTnVtYmVyLmlzRmluaXRlKGgpJiZmKXtlLm5leHQ9OTticmVha310aHJvdyBuZXcgRXJyb3IoIkRyYWNvIHByb3BlcnRpZXMsIGJ5dGVPZmZzZXQsIGFuZCBieXRlTGVuZ3RoIG11c3QgYmUgZGVmaW5lZCIpO2Nhc2UgOTpvPXQuZmVhdHVyZVRhYmxlQmluYXJ5LnNsaWNlKGgsaCtmKSx0Lmhhc1Bvc2l0aW9ucz1OdW1iZXIuaXNGaW5pdGUocy5QT1NJVElPTiksdC5oYXNDb2xvcnM9TnVtYmVyLmlzRmluaXRlKHMuUkdCKXx8TnVtYmVyLmlzRmluaXRlKHMuUkdCQSksdC5oYXNOb3JtYWxzPU51bWJlci5pc0Zpbml0ZShzLk5PUk1BTCksdC5oYXNCYXRjaElkcz1OdW1iZXIuaXNGaW5pdGUocy5CQVRDSF9JRCksdC5pc1RyYW5zbHVjZW50PU51bWJlci5pc0Zpbml0ZShzLlJHQkEpO2Nhc2UgMTU6aWYobyl7ZS5uZXh0PTE3O2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIiwhMCk7Y2FzZSAxNzpyZXR1cm4gZD17YnVmZmVyOm8scHJvcGVydGllczpfaSh7fSxzLHt9LHUpLGZlYXR1cmVUYWJsZVByb3BlcnRpZXM6cyxiYXRjaFRhYmxlUHJvcGVydGllczp1LGRlcXVhbnRpemVJblNoYWRlcjohMX0sZS5uZXh0PTIwLEFpKHQsZCxpLGEpO2Nhc2UgMjA6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSAyMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEFpKGUsdCxuLHIpe3JldHVybiBNaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTWkoKXtyZXR1cm4oTWk9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixpKXt2YXIgYSxvLHMsdSxjLGwsaCxmLGQsdjtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gYT1pLnBhcnNlLGUubmV4dD0zLGEobi5idWZmZXIse30pO2Nhc2UgMzpvPWUuc2VudCxzPW8uYXR0cmlidXRlcy5QT1NJVElPTiYmby5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLHU9by5hdHRyaWJ1dGVzLkNPTE9SXzAmJm8uYXR0cmlidXRlcy5DT0xPUl8wLnZhbHVlLGM9by5hdHRyaWJ1dGVzLk5PUk1BTCYmby5hdHRyaWJ1dGVzLk5PUk1BTC52YWx1ZSxsPW8uYXR0cmlidXRlcy5CQVRDSF9JRCYmby5hdHRyaWJ1dGVzLkJBVENIX0lELnZhbHVlLGg9cyYmby5hdHRyaWJ1dGVzLlBPU0lUSU9OLnZhbHVlLnF1YW50aXphdGlvbixmPWMmJm8uYXR0cmlidXRlcy5OT1JNQUwudmFsdWUucXVhbnRpemF0aW9uLGgmJihkPW8uUE9TSVRJT04uZGF0YS5xdWFudGl6YXRpb24sdj1kLnJhbmdlLHQucXVhbnRpemVkVm9sdW1lU2NhbGU9bmV3IFRlLmEodix2LHYpLHQucXVhbnRpemVkVm9sdW1lT2Zmc2V0PW5ldyBUZS5hKGQubWluVmFsdWVzKSx0LnF1YW50aXplZFJhbmdlPSgxPDxkLnF1YW50aXphdGlvbkJpdHMpLTEsdC5pc1F1YW50aXplZERyYWNvPSEwKSxmJiYodC5vY3RFbmNvZGVkUmFuZ2U9KDE8PG8uTk9STUFMLmRhdGEucXVhbnRpemF0aW9uLnF1YW50aXphdGlvbkJpdHMpLTEsdC5pc09jdEVuY29kZWREcmFjbz0hMCksdC5hdHRyaWJ1dGVzPXtwb3NpdGlvbnM6cyxjb2xvcnM6aGkodCx1KSxub3JtYWxzOmMsYmF0Y2hJZHM6bH07Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBDaT1uKDI2OCksTGk9bigxOTQpLElpPW4oMTIzKTtmdW5jdGlvbiBSaShlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0fHwiYXNzZXJ0IGZhaWxlZDogZ2x0ZiIpfWZ1bmN0aW9uIERpKGUsdCl7aWYoZS5zdGFydHNXaXRoKCJkYXRhOiIpfHxlLnN0YXJ0c1dpdGgoImh0dHA6Iil8fGUuc3RhcnRzV2l0aCgiaHR0cHM6IikpcmV0dXJuIGU7dmFyIG49dC5iYXNlVXJpfHx0LnVyaTtpZighbil0aHJvdyBuZXcgRXJyb3IoIidiYXNlVXJpJyBtdXN0IGJlIHByb3ZpZGVkIHRvIHJlc29sdmUgcmVsYXRpdmUgdXJsICIuY29uY2F0KGUpKTtyZXR1cm4gbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKCIvIikrMSkrZX1mdW5jdGlvbiBGaShlLHQsbil7dmFyIHI9ZS5idWZmZXJWaWV3c1tuXTtSaShyKTt2YXIgaT10W3IuYnVmZmVyXTtSaShpKTt2YXIgYT0oci5ieXRlT2Zmc2V0fHwwKStpLmJ5dGVPZmZzZXQ7cmV0dXJuIG5ldyBVaW50OEFycmF5KGkuYXJyYXlCdWZmZXIsYSxyLmJ5dGVMZW5ndGgpfXZhciBOaT1uKDIxMiksemk9WyJTQ0FMQVIiLCJWRUMyIiwiVkVDMyIsIlZFQzQiXSxCaT1uZXcgTWFwKFtbSW50OEFycmF5LDUxMjBdLFtVaW50OEFycmF5LDUxMjFdLFtJbnQxNkFycmF5LDUxMjJdLFtVaW50MTZBcnJheSw1MTIzXSxbVWludDMyQXJyYXksNTEyNV0sW0Zsb2F0MzJBcnJheSw1MTI2XV0pLFVpPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LFZpPXs1MTIwOjEsNTEyMToxLDUxMjI6Miw1MTIzOjIsNTEyNTo0LDUxMjY6NH0sR2k9ezUxMjA6SW50OEFycmF5LDUxMjE6VWludDhBcnJheSw1MTIyOkludDE2QXJyYXksNTEyMzpVaW50MTZBcnJheSw1MTI1OlVpbnQzMkFycmF5LDUxMjY6RmxvYXQzMkFycmF5fTtmdW5jdGlvbiBXaShlKXtyZXR1cm4gemlbZS0xXXx8emlbMF19ZnVuY3Rpb24gSGkoZSl7dmFyIHQ9QmkuZ2V0KGUuY29uc3RydWN0b3IpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiSWxsZWdhbCB0eXBlZCBhcnJheSIpO3JldHVybiB0fWZ1bmN0aW9uIHFpKGUsdCl7dmFyIG49R2lbZS5jb21wb25lbnRUeXBlXSxyPVVpW2UudHlwZV0saT1WaVtlLmNvbXBvbmVudFR5cGVdLGE9ZS5jb3VudCpyLG89ZS5jb3VudCpyKmk7cmV0dXJuIFJpKG8+PTAmJm88PXQuYnl0ZUxlbmd0aCkse0FycmF5VHlwZTpuLGxlbmd0aDphLGJ5dGVMZW5ndGg6b319dmFyIFhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZihPYmplY3QoRmUuYSkodGhpcyxlKSx0IGluc3RhbmNlb2YgZSlyZXR1cm4gdDt0fHwodD17anNvbjp7dmVyc2lvbjoyLGJ1ZmZlcnM6W119LGJ1ZmZlcnM6W119KSx0aGlzLmdsdGY9dCxSaSh0aGlzLmdsdGYuanNvbil9cmV0dXJuIE9iamVjdChOZS5hKShlLFt7a2V5OiJnZXRBcHBsaWNhdGlvbkRhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmpzb25bZV19fSx7a2V5OiJnZXRFeHRyYURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybih0aGlzLmpzb24uZXh0cmFzfHx7fSlbZV19fSx7a2V5OiJnZXRFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0VXNlZEV4dGVuc2lvbnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSksbj10aGlzLmpzb24uZXh0ZW5zaW9uc3x8e307cmV0dXJuIHQ/bltlXXx8ITA6bnVsbH19LHtrZXk6ImdldFJlcXVpcmVkRXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRSZXF1aXJlZEV4dGVuc2lvbnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSk/dGhpcy5nZXRFeHRlbnNpb24oZSk6bnVsbH19LHtrZXk6ImdldFJlcXVpcmVkRXh0ZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNSZXF1aXJlZHx8W119fSx7a2V5OiJnZXRVc2VkRXh0ZW5zaW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkfHxbXX19LHtrZXk6ImdldE9iamVjdEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5leHRlbnNpb25zfHx7fSlbdF19fSx7a2V5OiJnZXRTY2VuZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJzY2VuZXMiLGUpfX0se2tleToiZ2V0Tm9kZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJub2RlcyIsZSl9fSx7a2V5OiJnZXRTa2luIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRPYmplY3QoInNraW5zIixlKX19LHtrZXk6ImdldE1lc2giLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE9iamVjdCgibWVzaGVzIixlKX19LHtrZXk6ImdldE1hdGVyaWFsIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRPYmplY3QoIm1hdGVyaWFscyIsZSl9fSx7a2V5OiJnZXRBY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJhY2Nlc3NvcnMiLGUpfX0se2tleToiZ2V0Q2FtZXJhIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE9iamVjdCgidGV4dHVyZXMiLGUpfX0se2tleToiZ2V0U2FtcGxlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJzYW1wbGVycyIsZSl9fSx7a2V5OiJnZXRJbWFnZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJpbWFnZXMiLGUpfX0se2tleToiZ2V0QnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0KCJidWZmZXJWaWV3cyIsZSl9fSx7a2V5OiJnZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE9iamVjdCgiYnVmZmVycyIsZSl9fSx7a2V5OiJnZXRPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1PYmplY3QoTm4uYSkodCkpcmV0dXJuIHQ7dmFyIG49dGhpcy5qc29uW2VdJiZ0aGlzLmpzb25bZV1bdF07aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJnbFRGIGZpbGUgZXJyb3I6IENvdWxkIG5vdCBmaW5kICIuY29uY2F0KGUsIlsiKS5jb25jYXQodCwiXSIpKTtyZXR1cm4gbn19LHtrZXk6ImdldFR5cGVkQXJyYXlGb3JCdWZmZXJWaWV3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0oZT10aGlzLmdldEJ1ZmZlclZpZXcoZSkpLmJ1ZmZlcixuPXRoaXMuZ2x0Zi5idWZmZXJzW3RdO1JpKG4pO3ZhciByPShlLmJ5dGVPZmZzZXR8fDApK24uYnl0ZU9mZnNldDtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobi5hcnJheUJ1ZmZlcixyLGUuYnl0ZUxlbmd0aCl9fSx7a2V5OiJnZXRUeXBlZEFycmF5Rm9yQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe2U9dGhpcy5nZXRBY2Nlc3NvcihlKTt2YXIgdD10aGlzLmdldEJ1ZmZlclZpZXcoZS5idWZmZXJWaWV3KSxuPXRoaXMuZ2V0QnVmZmVyKHQuYnVmZmVyKS5kYXRhLHI9cWkoZSx0KSxpPXIuQXJyYXlUeXBlLGE9ci5sZW5ndGg7cmV0dXJuIG5ldyBpKG4sdC5ieXRlT2Zmc2V0K2UuYnl0ZU9mZnNldCxhKX19LHtrZXk6ImdldFR5cGVkQXJyYXlGb3JJbWFnZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe2U9dGhpcy5nZXRBY2Nlc3NvcihlKTt2YXIgdD10aGlzLmdldEJ1ZmZlclZpZXcoZS5idWZmZXJWaWV3KSxuPXRoaXMuZ2V0QnVmZmVyKHQuYnVmZmVyKS5kYXRhLHI9dC5ieXRlT2Zmc2V0fHwwO3JldHVybiBuZXcgVWludDhBcnJheShuLHIsdC5ieXRlTGVuZ3RoKX19LHtrZXk6ImFkZEFwcGxpY2F0aW9uRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5qc29uW2VdPXQsdGhpc319LHtrZXk6ImFkZEV4dHJhRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5qc29uLmV4dHJhcz10aGlzLmpzb24uZXh0cmFzfHx7fSx0aGlzLmpzb24uZXh0cmFzW2VdPXQsdGhpc319LHtrZXk6ImFkZE9iamVjdEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBSaShuKSxlLmV4dGVuc2lvbnM9ZS5leHRlbnNpb25zfHx7fSxlLmV4dGVuc2lvbnNbdF09bix0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbih0KSx0aGlzfX0se2tleToicmVtb3ZlT2JqZWN0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBkZWxldGUoZS5leHRlbnNpb25zfHx7fSlbdF0sdGhpc319LHtrZXk6ImFkZEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBSaSh0KSx0aGlzLmpzb24uZXh0ZW5zaW9ucz10aGlzLmpzb24uZXh0ZW5zaW9uc3x8e30sdGhpcy5qc29uLmV4dGVuc2lvbnNbZV09dCx0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbihlKSx0fX0se2tleToiYWRkUmVxdWlyZWRFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gUmkodCksdGhpcy5hZGRFeHRlbnNpb24oZSx0KSx0aGlzLnJlZ2lzdGVyUmVxdWlyZWRFeHRlbnNpb24oZSksdH19LHtrZXk6InJlZ2lzdGVyVXNlZEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkPXRoaXMuanNvbi5leHRlbnNpb25zVXNlZHx8W10sdGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pKXx8dGhpcy5qc29uLmV4dGVuc2lvbnNVc2VkLnB1c2goZSl9fSx7a2V5OiJyZWdpc3RlclJlcXVpcmVkRXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnJlZ2lzdGVyVXNlZEV4dGVuc2lvbihlKSx0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkPXRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWR8fFtdLHRoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfSkpfHx0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLnB1c2goZSl9fSx7a2V5OiJyZW1vdmVFeHRlbnNpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuanNvbi5leHRlbnNpb25zUmVxdWlyZWQmJnRoaXMuX3JlbW92ZVN0cmluZ0Zyb21BcnJheSh0aGlzLmpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLGUpLHRoaXMuanNvbi5leHRlbnNpb25zVXNlZCYmdGhpcy5fcmVtb3ZlU3RyaW5nRnJvbUFycmF5KHRoaXMuanNvbi5leHRlbnNpb25zVXNlZCxlKSx0aGlzLmpzb24uZXh0ZW5zaW9ucyYmZGVsZXRlIHRoaXMuanNvbi5leHRlbnNpb25zW2VdfX0se2tleToic2V0T2JqZWN0RXh0ZW5zaW9uIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7KGUuZXh0ZW5zaW9uc3x8e30pW3RdPW59fSx7a2V5OiJhZGRNZXNoIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo0LHI9dGhpcy5fYWRkQXR0cmlidXRlcyhlKSxpPXtwcmltaXRpdmVzOlt7YXR0cmlidXRlczpyLGluZGljZXM6dCxtb2RlOm59XX07cmV0dXJuIHRoaXMuanNvbi5tZXNoZXM9dGhpcy5qc29uLm1lc2hlc3x8W10sdGhpcy5qc29uLm1lc2hlcy5wdXNoKGkpLHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRQb2ludENsb3VkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17cHJpbWl0aXZlczpbe2F0dHJpYnV0ZXM6dGhpcy5fYWRkQXR0cmlidXRlcyhlKSxtb2RlOjB9XX07cmV0dXJuIHRoaXMuanNvbi5tZXNoZXM9dGhpcy5qc29uLm1lc2hlc3x8W10sdGhpcy5qc29uLm1lc2hlcy5wdXNoKHQpLHRoaXMuanNvbi5tZXNoZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRJbWFnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0PXR8fE9iamVjdChOaS5hKShlKTt2YXIgbj17YnVmZmVyVmlldzp0aGlzLmFkZEJ1ZmZlclZpZXcoZSksbWltZVR5cGU6dH07cmV0dXJuIHRoaXMuanNvbi5pbWFnZXM9dGhpcy5qc29uLmltYWdlc3x8W10sdGhpcy5qc29uLmltYWdlcy5wdXNoKG4pLHRoaXMuanNvbi5pbWFnZXMubGVuZ3RoLTF9fSx7a2V5OiJhZGRCdWZmZXJWaWV3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJ5dGVMZW5ndGg7UmkoTnVtYmVyLmlzRmluaXRlKHQpKSx0aGlzLnNvdXJjZUJ1ZmZlcnM9dGhpcy5zb3VyY2VCdWZmZXJzfHxbXSx0aGlzLnNvdXJjZUJ1ZmZlcnMucHVzaChlKTt2YXIgbj17YnVmZmVyOjAsYnl0ZU9mZnNldDp0aGlzLmJ5dGVMZW5ndGgsYnl0ZUxlbmd0aDp0fTtyZXR1cm4gdGhpcy5ieXRlTGVuZ3RoKz1PYmplY3QoSWkuYykodCksdGhpcy5qc29uLmJ1ZmZlclZpZXdzPXRoaXMuanNvbi5idWZmZXJWaWV3c3x8W10sdGhpcy5qc29uLmJ1ZmZlclZpZXdzLnB1c2gobiksdGhpcy5qc29uLmJ1ZmZlclZpZXdzLmxlbmd0aC0xfX0se2tleToiYWRkQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49e2J1ZmZlclZpZXc6ZSx0eXBlOldpKHQuc2l6ZSksY29tcG9uZW50VHlwZTp0LmNvbXBvbmVudFR5cGUsY291bnQ6dC5jb3VudH07cmV0dXJuIHRoaXMuanNvbi5hY2Nlc3NvcnM9dGhpcy5qc29uLmFjY2Vzc29yc3x8W10sdGhpcy5qc29uLmFjY2Vzc29ycy5wdXNoKG4pLHRoaXMuanNvbi5hY2Nlc3NvcnMubGVuZ3RoLTF9fSx7a2V5OiJhZGRCaW5hcnlCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7c2l6ZTozfSxuPXRoaXMuYWRkQnVmZmVyVmlldyhlKSxyPXtzaXplOnQuc2l6ZSxjb21wb25lbnRUeXBlOkhpKGUpLGNvdW50Ok1hdGgucm91bmQoZS5sZW5ndGgvdC5zaXplKX07cmV0dXJuIHRoaXMuYWRkQWNjZXNzb3IobixPYmplY3QuYXNzaWduKHIsdCkpfX0se2tleToiY3JlYXRlQmluYXJ5Q2h1bmsiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuYXJyYXlCdWZmZXIpe2Zvcih2YXIgZT10aGlzLmJ5dGVMZW5ndGgsdD1uZXcgQXJyYXlCdWZmZXIoZSksbj1uZXcgVWludDhBcnJheSh0KSxyPTAsaT0wO2k8dGhpcy5zb3VyY2VCdWZmZXJzLmxlbmd0aDtpKyspe3ZhciBhPXRoaXMuc291cmNlQnVmZmVyc1tpXTtyPU9iamVjdChJaS5hKShhLG4scil9dGhpcy5qc29uLmJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aD1lLHRoaXMuYXJyYXlCdWZmZXI9dCx0aGlzLnNvdXJjZUJ1ZmZlcnM9W119fX0se2tleToiX3JlbW92ZVN0cmluZ0Zyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ITA7bjspe3ZhciByPWUuaW5kZXhPZih0KTtyPi0xP2Uuc3BsaWNlKHIsMSk6bj0hMX19fSx7a2V5OiJqc29uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbHRmLmpzb259fV0pLGV9KCk7ZnVuY3Rpb24gWmkoZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpe3ZhciByPWVbbl07aWYoImluZGljZXMiIT09bil7dmFyIGk9WWkocik7dFtuXT1pfX1yZXR1cm4gdH1mdW5jdGlvbiBZaShlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZSxyPTEsaT0wO2UmJmUudmFsdWUmJihuPWUudmFsdWUscj1lLnNpemV8fDEpO24mJihBcnJheUJ1ZmZlci5pc1ZpZXcobil8fChuPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZighZSlyZXR1cm4gbnVsbDtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBuZXcgdChlKTtpZihuJiYhKGUgaW5zdGFuY2VvZiB0KSlyZXR1cm4gbmV3IHQoZSk7cmV0dXJuIGV9KG4sRmxvYXQzMkFycmF5KSksaT1uLmxlbmd0aC9yKTtyZXR1cm57YnVmZmVyOm4sc2l6ZTpyLGNvdW50Oml9fShlKSxyPW4uYnVmZmVyLGk9bi5zaXplO3JldHVybnt2YWx1ZTpyLHNpemU6aSxidWZmZXJWaWV3Om51bGwsYnl0ZU9mZnNldDowLGNvdW50Om4uY291bnQsdHlwZTpXaShpKSxjb21wb25lbnRUeXBlOkhpKHIpfX12YXIgS2k9d2UuYS5tYXJrKGlhKTtmdW5jdGlvbiBRaShlLHQsbil7cmV0dXJuIEppLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBKaSgpe3JldHVybihKaT1PYmplY3QoUmUuYSkod2UuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyKXt2YXIgaSxhLG8scyx1LGMsbCxoO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKG4uZ2x0Zi5kZWNvbXByZXNzTWVzaGVzKXtlLm5leHQ9MjticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIpO2Nhc2UgMjpmb3IoaT1uZXcgWGkodCksYT1bXSxvPSEwLHM9ITEsdT12b2lkIDAsZS5wcmV2PTcsYz1pYShpKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShsPWMubmV4dCgpKS5kb25lKTtvPSEwKWg9bC52YWx1ZSxpLmdldE9iamVjdEV4dGVuc2lvbihoLCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIpJiZhLnB1c2goZWEoaCxpLG4scikpO2UubmV4dD0xNTticmVhaztjYXNlIDExOmUucHJldj0xMSxlLnQwPWUuY2F0Y2goNykscz0hMCx1PWUudDA7Y2FzZSAxNTplLnByZXY9MTUsZS5wcmV2PTE2LG98fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpO2Nhc2UgMTg6aWYoZS5wcmV2PTE4LCFzKXtlLm5leHQ9MjE7YnJlYWt9dGhyb3cgdTtjYXNlIDIxOnJldHVybiBlLmZpbmlzaCgxOCk7Y2FzZSAyMjpyZXR1cm4gZS5maW5pc2goMTUpO2Nhc2UgMjM6cmV0dXJuIGUubmV4dD0yNSxQcm9taXNlLmFsbChhKTtjYXNlIDI1OmkucmVtb3ZlRXh0ZW5zaW9uKCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIpO2Nhc2UgMjY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1s3LDExLDE1LDIzXSxbMTYsLDE4LDIyXV0pfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uICRpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPW5ldyBYaShlKSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPShuLmpzb24ubWVzaGVzfHxbXSlbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTtuYSh1LHQpLG4uYWRkUmVxdWlyZWRFeHRlbnNpb24oIktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uIil9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX19ZnVuY3Rpb24gZWEoZSx0LG4scil7cmV0dXJuIHRhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB0YSgpe3JldHVybih0YT1PYmplY3QoUmUuYSkod2UuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyLGkpe3ZhciBhLG8scyx1LGM7cmV0dXJuIHdlLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGE9bi5nZXRPYmplY3RFeHRlbnNpb24odCwiS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24iKSxvPW4uZ2V0VHlwZWRBcnJheUZvckJ1ZmZlclZpZXcoYS5idWZmZXJWaWV3KSxzPU9iamVjdChJaS5iKShvLmJ1ZmZlcixvLmJ5dGVPZmZzZXQpLHU9aS5wYXJzZSxlLm5leHQ9Nix1KHMsW10scixpKTtjYXNlIDY6Yz1lLnNlbnQsdC5hdHRyaWJ1dGVzPVppKGMuYXR0cmlidXRlcyksYy5pbmRpY2VzJiYodC5pbmRpY2VzPVlpKGMuaW5kaWNlcykpLHJhKHQpO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBuYShlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo0LHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjQ/YXJndW1lbnRzWzRdOnZvaWQgMDtpZighci5EcmFjb1dyaXRlcnx8IXIuRHJhY29Mb2FkZXIpdGhyb3cgbmV3IEVycm9yKCJEcmFjb1dyaXRlci9EcmFjb0xvYWRlciBub3QgYXZhaWxhYmxlIik7dmFyIGE9ci5EcmFjb1dyaXRlci5lbmNvZGVTeW5jKHthdHRyaWJ1dGVzOmV9KSxvPWkucGFyc2VTeW5jLHM9byh7YXR0cmlidXRlczplfSksdT1yLl9hZGRGYXV4QXR0cmlidXRlcyhzLmF0dHJpYnV0ZXMpLGM9ci5hZGRCdWZmZXJWaWV3KGEpLGw9e3ByaW1pdGl2ZXM6W3thdHRyaWJ1dGVzOnUsbW9kZTpuLGV4dGVuc2lvbnM6T2JqZWN0KERlLmEpKHt9LCJLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbiIse2J1ZmZlclZpZXc6YyxhdHRyaWJ1dGVzOnV9KX1dfTtyZXR1cm4gbH1mdW5jdGlvbiByYShlKXtpZighZS5hdHRyaWJ1dGVzJiZPYmplY3Qua2V5cyhlLmF0dHJpYnV0ZXMpLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcigiRW1wdHkgZ2xURiBwcmltaXRpdmUgZGV0ZWN0ZWQ6IERyYWNvIGRlY29tcHJlc3Npb24gZmFpbHVyZT8iKX1mdW5jdGlvbiBpYShlKXt2YXIgdCxuLHIsaSxhLG8scyx1LGMsbCxoLGY7cmV0dXJuIHdlLmEud3JhcCgoZnVuY3Rpb24oZCl7Zm9yKDs7KXN3aXRjaChkLnByZXY9ZC5uZXh0KXtjYXNlIDA6dD0hMCxuPSExLHI9dm9pZCAwLGQucHJldj0zLGk9KGUuanNvbi5tZXNoZXN8fFtdKVtTeW1ib2wuaXRlcmF0b3JdKCk7Y2FzZSA1OmlmKHQ9KGE9aS5uZXh0KCkpLmRvbmUpe2QubmV4dD0zNjticmVha31vPWEudmFsdWUscz0hMCx1PSExLGM9dm9pZCAwLGQucHJldj0xMCxsPW8ucHJpbWl0aXZlc1tTeW1ib2wuaXRlcmF0b3JdKCk7Y2FzZSAxMjppZihzPShoPWwubmV4dCgpKS5kb25lKXtkLm5leHQ9MTk7YnJlYWt9cmV0dXJuIGY9aC52YWx1ZSxkLm5leHQ9MTYsZjtjYXNlIDE2OnM9ITAsZC5uZXh0PTEyO2JyZWFrO2Nhc2UgMTk6ZC5uZXh0PTI1O2JyZWFrO2Nhc2UgMjE6ZC5wcmV2PTIxLGQudDA9ZC5jYXRjaCgxMCksdT0hMCxjPWQudDA7Y2FzZSAyNTpkLnByZXY9MjUsZC5wcmV2PTI2LHN8fG51bGw9PWwucmV0dXJufHxsLnJldHVybigpO2Nhc2UgMjg6aWYoZC5wcmV2PTI4LCF1KXtkLm5leHQ9MzE7YnJlYWt9dGhyb3cgYztjYXNlIDMxOnJldHVybiBkLmZpbmlzaCgyOCk7Y2FzZSAzMjpyZXR1cm4gZC5maW5pc2goMjUpO2Nhc2UgMzM6dD0hMCxkLm5leHQ9NTticmVhaztjYXNlIDM2OmQubmV4dD00MjticmVhaztjYXNlIDM4OmQucHJldj0zOCxkLnQxPWQuY2F0Y2goMyksbj0hMCxyPWQudDE7Y2FzZSA0MjpkLnByZXY9NDIsZC5wcmV2PTQzLHR8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpO2Nhc2UgNDU6aWYoZC5wcmV2PTQ1LCFuKXtkLm5leHQ9NDg7YnJlYWt9dGhyb3cgcjtjYXNlIDQ4OnJldHVybiBkLmZpbmlzaCg0NSk7Y2FzZSA0OTpyZXR1cm4gZC5maW5pc2goNDIpO2Nhc2UgNTA6Y2FzZSJlbmQiOnJldHVybiBkLnN0b3AoKX19KSxLaSxudWxsLFtbMywzOCw0Miw1MF0sWzEwLDIxLDI1LDMzXSxbMjYsLDI4LDMyXSxbNDMsLDQ1LDQ5XV0pfWZ1bmN0aW9uIGFhKGUsdCl7dmFyIG49bmV3IFhpKGUpLHI9bi5qc29uLGk9bi5nZXRFeHRlbnNpb24oIktIUl9saWdodHNfcHVuY3R1YWwiKTtpJiYobi5qc29uLmxpZ2h0cz1pLmxpZ2h0cyxuLnJlbW92ZUV4dGVuc2lvbigiS0hSX2xpZ2h0c19wdW5jdHVhbCIpKTt2YXIgYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz0oci5ub2Rlc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWUsaD1uLmdldE9iamVjdEV4dGVuc2lvbihsLCJLSFJfbGlnaHRzX3B1bmN0dWFsIik7aCYmKGwubGlnaHQ9aC5saWdodCksbi5yZW1vdmVPYmplY3RFeHRlbnNpb24obCwiS0hSX2xpZ2h0c19wdW5jdHVhbCIpfX1jYXRjaChlKXtvPSEwLHM9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319fWZ1bmN0aW9uIG9hKGUsdCl7dmFyIG49bmV3IFhpKGUpLHI9bi5qc29uO2lmKHIubGlnaHRzKXt2YXIgaT1uLmFkZEV4dGVuc2lvbigiS0hSX2xpZ2h0c19wdW5jdHVhbCIpO1JpKCFpLmxpZ2h0cyksaS5saWdodHM9ci5saWdodHMsZGVsZXRlIHIubGlnaHRzfWlmKG4uanNvbi5saWdodHMpe3ZhciBhPSEwLG89ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPW4uanNvbi5saWdodHNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0odT1jLm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIGw9dS52YWx1ZSxoPWwubm9kZTtuLmFkZE9iamVjdEV4dGVuc2lvbihoLCJLSFJfbGlnaHRzX3B1bmN0dWFsIixsKX19Y2F0Y2goZSl7bz0hMCxzPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fWRlbGV0ZSBuLmpzb24ubGlnaHRzfX1mdW5jdGlvbiBzYShlLHQpe3ZhciBuPW5ldyBYaShlKSxyPW4uanNvbjtuLnJlbW92ZUV4dGVuc2lvbigiS0hSX21hdGVyaWFsc191bmxpdCIpO3ZhciBpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PShyLm1hdGVyaWFsc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9dS5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBjPXMudmFsdWU7Yy5leHRlbnNpb25zJiZjLmV4dGVuc2lvbnMuS0hSX21hdGVyaWFsc191bmxpdCYmKGMudW5saXQ9ITApLG4ucmVtb3ZlT2JqZWN0RXh0ZW5zaW9uKGMsIktIUl9tYXRlcmlhbHNfdW5saXQiKX19Y2F0Y2goZSl7YT0hMCxvPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IG99fX1mdW5jdGlvbiB1YShlLHQpe3ZhciBuPW5ldyBYaShlKSxyPW4uanNvbjtpZihuLm1hdGVyaWFscyl7dmFyIGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9ci5tYXRlcmlhbHNbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtjLnVubGl0JiYoZGVsZXRlIGMudW5saXQsbi5hZGRPYmplY3RFeHRlbnNpb24oYywiS0hSX21hdGVyaWFsc191bmxpdCIpLG4uYWRkRXh0ZW5zaW9uKCJLSFJfbWF0ZXJpYWxzX3VubGl0IikpfX1jYXRjaChlKXthPSEwLG89ZX1maW5hbGx5e3RyeXtpfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgb319fX1mdW5jdGlvbiBjYShlLHQpe3ZhciBuPW5ldyBYaShlKSxyPW4uanNvbixpPW4uZ2V0RXh0ZW5zaW9uKCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpO2lmKGkpe3ZhciBhPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5wcm9ncmFtcyxyPXZvaWQgMD09PW4/W106bixpPWUuc2hhZGVycyxhPXZvaWQgMD09PWk/W106aSxvPWUudGVjaG5pcXVlcyxzPXZvaWQgMD09PW8/W106byx1PW5ldyBUZXh0RGVjb2RlcjtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighTnVtYmVyLmlzRmluaXRlKGUuYnVmZmVyVmlldykpdGhyb3cgbmV3IEVycm9yKCJLSFJfdGVjaG5pcXVlc193ZWJnbDogbm8gc2hhZGVyIGNvZGUiKTtlLmNvZGU9dS5kZWNvZGUodC5nZXRUeXBlZEFycmF5Rm9yQnVmZmVyVmlldyhlLmJ1ZmZlclZpZXcpKX0pKSxyLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnJhZ21lbnRTaGFkZXI9YVtlLmZyYWdtZW50U2hhZGVyXSxlLnZlcnRleFNoYWRlcj1hW2UudmVydGV4U2hhZGVyXX0pKSxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucHJvZ3JhbT1yW2UucHJvZ3JhbV19KSksc30oaSxuKSxvPSEwLHM9ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYyxsPShyLm1hdGVyaWFsc3x8W10pW1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KGM9bC5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBoPWMudmFsdWUsZj1uLmdldE9iamVjdEV4dGVuc2lvbihoLCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpO2YmJihoLnRlY2huaXF1ZT1PYmplY3QuYXNzaWduKHt9LGYsYVtmLnRlY2huaXF1ZV0pLGgudGVjaG5pcXVlLnZhbHVlcz1oYShoLnRlY2huaXF1ZSxuKSksbi5yZW1vdmVPYmplY3RFeHRlbnNpb24oaCwiS0hSX3RlY2huaXF1ZXNfd2ViZ2wiKX19Y2F0Y2goZSl7cz0hMCx1PWV9ZmluYWxseXt0cnl7b3x8bnVsbD09bC5yZXR1cm58fGwucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IHV9fW4ucmVtb3ZlRXh0ZW5zaW9uKCJLSFJfdGVjaG5pcXVlc193ZWJnbCIpfX1mdW5jdGlvbiBsYShlLHQpe31mdW5jdGlvbiBoYShlLHQpe3ZhciBuPU9iamVjdC5hc3NpZ24oe30sZS52YWx1ZXMpO3JldHVybiBPYmplY3Qua2V5cyhlLnVuaWZvcm1zfHx7fSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7IWUudW5pZm9ybXNbdF0udmFsdWV8fHQgaW4gbnx8KG5bdF09ZS51bmlmb3Jtc1t0XS52YWx1ZSl9KSksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Im9iamVjdCI9PT1PYmplY3QoTm4uYSkobltlXSkmJnZvaWQgMCE9PW5bZV0uaW5kZXgmJihuW2VdLnRleHR1cmU9dC5nZXRUZXh0dXJlKG5bZV0uaW5kZXgpKX0pKSxufXZhciBmYT17S0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb246cixLSFJfbGlnaHRzX3B1bmN0dWFsOmksS0hSX21hdGVyaWFsc191bmxpdDphLEtIUl90ZWNobmlxdWVzX3dlYmdsOm99O2Z1bmN0aW9uIGRhKGUpe3JldHVybiB2YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdmEoKXtyZXR1cm4odmE9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHM9YXJndW1lbnRzO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOm49cy5sZW5ndGg+MSYmdm9pZCAwIT09c1sxXT9zWzFdOnt9LHI9cy5sZW5ndGg+Mj9zWzJdOnZvaWQgMCxuLmdsdGY9bi5nbHRmfHx7fSxlLnQwPXdlLmEua2V5cyhmYSk7Y2FzZSA0OmlmKChlLnQxPWUudDAoKSkuZG9uZSl7ZS5uZXh0PTE0O2JyZWFrfWlmKGk9ZS50MS52YWx1ZSxhPW4uZ2x0Zi5leGNsdWRlRXh0ZW5zaW9uc3x8e30saSBpbiBhJiYhYVtpXSl7ZS5uZXh0PTEyO2JyZWFrfXJldHVybiBvPWZhW2ldLGUubmV4dD0xMixvLmRlY29kZSh0LG4scik7Y2FzZSAxMjplLm5leHQ9NDticmVhaztjYXNlIDE0OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHBhO2Z1bmN0aW9uIGdhKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiIiLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKGUuZ2V0VWludDgodCswKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKGUuZ2V0VWludDgodCsxKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKGUuZ2V0VWludDgodCsyKSkpLmNvbmNhdChTdHJpbmcuZnJvbUNoYXJDb2RlKGUuZ2V0VWludDgodCszKSkpfWZ1bmN0aW9uIHlhKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LHI9bmV3IERhdGFWaWV3KGUpLGk9bi5tYWdpYyxhPXZvaWQgMD09PWk/MTczNTE1MjcxMDppLG89ci5nZXRVaW50MzIodCwhMSk7cmV0dXJuIG89PT1hfHwxNzM1MTUyNzEwPT09b31mdW5jdGlvbiBtYShlLHQsbixyKXtmb3IoO24rODw9ZS5oZWFkZXIuYnl0ZUxlbmd0aDspe3ZhciBpPXQuZ2V0VWludDMyKG4rMCwhMCksYT10LmdldFVpbnQzMihuKzQsITApO3N3aXRjaChuKz04LGEpe2Nhc2UgMTMxMzgyMTUxNDpiYShlLHQsbixpLHIpO2JyZWFrO2Nhc2UgNTEzMDU2MjpfYShlLHQsbixpLHIpO2JyZWFrO2Nhc2UgMDpyLmdsYi5zdHJpY3R8fGJhKGUsdCxuLGkscik7YnJlYWs7Y2FzZSAxOnIuZ2xiLnN0cmljdHx8X2EoZSx0LG4saSxyKX1uKz1PYmplY3QoSWkuYykoaSl9cmV0dXJuIG59ZnVuY3Rpb24gYmEoZSx0LG4scixpKXt2YXIgYT1uZXcgVWludDhBcnJheSh0LmJ1ZmZlcixuLHIpLG89bmV3IFRleHREZWNvZGVyKCJ1dGY4IikuZGVjb2RlKGEpO2UuanNvbj1KU09OLnBhcnNlKG8pfWZ1bmN0aW9uIF9hKGUsdCxuLHIsaSl7ZS5oZWFkZXIuaGFzQmluQ2h1bms9ITAsZS5iaW5DaHVua3MucHVzaCh7Ynl0ZU9mZnNldDpuLGJ5dGVMZW5ndGg6cixhcnJheUJ1ZmZlcjp0LmJ1ZmZlcn0pfWZ1bmN0aW9uIE9hKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB4YShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9PYShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChEZS5hKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6T2EoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIHdhPXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9LFNhPXs1MTIwOjEsNTEyMToxLDUxMjI6Miw1MTIzOjIsNTEyNTo0LDUxMjY6NH0sa2E9e1RFWFRVUkVfTUFHX0ZJTFRFUjoxMDI0MCxURVhUVVJFX01JTl9GSUxURVI6MTAyNDEsVEVYVFVSRV9XUkFQX1M6MTAyNDIsVEVYVFVSRV9XUkFQX1Q6MTAyNDMsUkVQRUFUOjEwNDk3LExJTkVBUjo5NzI5LE5FQVJFU1RfTUlQTUFQX0xJTkVBUjo5OTg2fSxQYT17bWFnRmlsdGVyOmthLlRFWFRVUkVfTUFHX0ZJTFRFUixtaW5GaWx0ZXI6a2EuVEVYVFVSRV9NSU5fRklMVEVSLHdyYXBTOmthLlRFWFRVUkVfV1JBUF9TLHdyYXBUOmthLlRFWFRVUkVfV1JBUF9UfSxqYT0ocGE9e30sT2JqZWN0KERlLmEpKHBhLGthLlRFWFRVUkVfTUFHX0ZJTFRFUixrYS5MSU5FQVIpLE9iamVjdChEZS5hKShwYSxrYS5URVhUVVJFX01JTl9GSUxURVIsa2EuTkVBUkVTVF9NSVBNQVBfTElORUFSKSxPYmplY3QoRGUuYSkocGEsa2EuVEVYVFVSRV9XUkFQX1Msa2EuUkVQRUFUKSxPYmplY3QoRGUuYSkocGEsa2EuVEVYVFVSRV9XUkFQXyxrYS5SRVBFQVQpLHBhKTt2YXIgVGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7T2JqZWN0KEZlLmEpKHRoaXMsZSl9cmV0dXJuIE9iamVjdChOZS5hKShlLFt7a2V5OiJwb3N0UHJvY2VzcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZS5qc29uLHI9ZS5idWZmZXJzLGk9dm9pZCAwPT09cj9bXTpyLGE9ZS5pbWFnZXMsbz12b2lkIDA9PT1hP1tdOmEscz1lLmJhc2VVcmksdT12b2lkIDA9PT1zPyIiOnM7cmV0dXJuIFJpKG4pLHRoaXMuYmFzZVVyaT11LHRoaXMuanNvbj1uLHRoaXMuYnVmZmVycz1pLHRoaXMuaW1hZ2VzPW8sdGhpcy5fcmVzb2x2ZVRyZWUodGhpcy5qc29uLHQpLHRoaXMuanNvbn19LHtrZXk6Il9yZXNvbHZlVHJlZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO2UuYnVmZmVyVmlld3MmJihlLmJ1ZmZlclZpZXdzPWUuYnVmZmVyVmlld3MubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0Ll9yZXNvbHZlQnVmZmVyVmlldyhlLG4pfSkpKSxlLmltYWdlcyYmKGUuaW1hZ2VzPWUuaW1hZ2VzLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5fcmVzb2x2ZUltYWdlKGUsbil9KSkpLGUuc2FtcGxlcnMmJihlLnNhbXBsZXJzPWUuc2FtcGxlcnMubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0Ll9yZXNvbHZlU2FtcGxlcihlLG4pfSkpKSxlLnRleHR1cmVzJiYoZS50ZXh0dXJlcz1lLnRleHR1cmVzLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5fcmVzb2x2ZVRleHR1cmUoZSxuKX0pKSksZS5hY2Nlc3NvcnMmJihlLmFjY2Vzc29ycz1lLmFjY2Vzc29ycy5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuX3Jlc29sdmVBY2Nlc3NvcihlLG4pfSkpKSxlLm1hdGVyaWFscyYmKGUubWF0ZXJpYWxzPWUubWF0ZXJpYWxzLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5fcmVzb2x2ZU1hdGVyaWFsKGUsbil9KSkpLGUubWVzaGVzJiYoZS5tZXNoZXM9ZS5tZXNoZXMubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0Ll9yZXNvbHZlTWVzaChlLG4pfSkpKSxlLm5vZGVzJiYoZS5ub2Rlcz1lLm5vZGVzLm1hcCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5fcmVzb2x2ZU5vZGUoZSxuKX0pKSksZS5za2lucyYmKGUuc2tpbnM9ZS5za2lucy5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuX3Jlc29sdmVTa2luKGUsbil9KSkpLGUuc2NlbmVzJiYoZS5zY2VuZXM9ZS5zY2VuZXMubWFwKChmdW5jdGlvbihlLG4pe3JldHVybiB0Ll9yZXNvbHZlU2NlbmUoZSxuKX0pKSksdm9pZCAwIT09ZS5zY2VuZSYmKGUuc2NlbmU9ZS5zY2VuZXNbdGhpcy5qc29uLnNjZW5lXSl9fSx7a2V5OiJnZXRTY2VuZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldCgic2NlbmVzIixlKX19LHtrZXk6ImdldE5vZGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXQoIm5vZGVzIixlKX19LHtrZXk6ImdldFNraW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXQoInNraW5zIixlKX19LHtrZXk6ImdldE1lc2giLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXQoIm1lc2hlcyIsZSl9fSx7a2V5OiJnZXRNYXRlcmlhbCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldCgibWF0ZXJpYWxzIixlKX19LHtrZXk6ImdldEFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0KCJhY2Nlc3NvcnMiLGUpfX0se2tleToiZ2V0Q2FtZXJhIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbH19LHtrZXk6ImdldFRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXQoInRleHR1cmVzIixlKX19LHtrZXk6ImdldFNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXQoInNhbXBsZXJzIixlKX19LHtrZXk6ImdldEltYWdlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0KCJpbWFnZXMiLGUpfX0se2tleToiZ2V0QnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldCgiYnVmZmVyVmlld3MiLGUpfX0se2tleToiZ2V0QnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0KCJidWZmZXJzIixlKX19LHtrZXk6Il9nZXQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1PYmplY3QoTm4uYSkodCkpcmV0dXJuIHQ7dmFyIG49dGhpcy5qc29uW2VdJiZ0aGlzLmpzb25bZV1bdF07cmV0dXJuIG58fGNvbnNvbGUud2FybigiZ2xURiBmaWxlIGVycm9yOiBDb3VsZCBub3QgZmluZCAiLmNvbmNhdChlLCJbIikuY29uY2F0KHQsIl0iKSksbn19LHtrZXk6Il9yZXNvbHZlU2NlbmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gZS5pZD1lLmlkfHwic2NlbmUtIi5jb25jYXQodCksZS5ub2Rlcz0oZS5ub2Rlc3x8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0Tm9kZShlKX0pKSxlfX0se2tleToiX3Jlc29sdmVOb2RlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIGUuaWQ9ZS5pZHx8Im5vZGUtIi5jb25jYXQodCksZS5jaGlsZHJlbiYmKGUuY2hpbGRyZW49ZS5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmdldE5vZGUoZSl9KSkpLHZvaWQgMCE9PWUubWVzaCYmKGUubWVzaD10aGlzLmdldE1lc2goZS5tZXNoKSksdm9pZCAwIT09ZS5jYW1lcmEmJihlLmNhbWVyYT10aGlzLmdldENhbWVyYShlLmNhbWVyYSkpLHZvaWQgMCE9PWUuc2tpbiYmKGUuc2tpbj10aGlzLmdldFNraW4oZS5za2luKSksZX19LHtrZXk6Il9yZXNvbHZlU2tpbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZD1lLmlkfHwic2tpbi0iLmNvbmNhdCh0KSxlLmludmVyc2VCaW5kTWF0cmljZXM9dGhpcy5nZXRBY2Nlc3NvcihlLmludmVyc2VCaW5kTWF0cmljZXMpLGV9fSx7a2V5OiJfcmVzb2x2ZU1lc2giLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gZS5pZD1lLmlkfHwibWVzaC0iLmNvbmNhdCh0KSxlLnByaW1pdGl2ZXMmJihlLnByaW1pdGl2ZXM9ZS5wcmltaXRpdmVzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9KGU9eGEoe30sZSkpLmF0dHJpYnV0ZXM7Zm9yKHZhciByIGluIGUuYXR0cmlidXRlcz17fSx0KWUuYXR0cmlidXRlc1tyXT1uLmdldEFjY2Vzc29yKHRbcl0pO3JldHVybiB2b2lkIDAhPT1lLmluZGljZXMmJihlLmluZGljZXM9bi5nZXRBY2Nlc3NvcihlLmluZGljZXMpKSx2b2lkIDAhPT1lLm1hdGVyaWFsJiYoZS5tYXRlcmlhbD1uLmdldE1hdGVyaWFsKGUubWF0ZXJpYWwpKSxlfSkpKSxlfX0se2tleToiX3Jlc29sdmVNYXRlcmlhbCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlLmlkPWUuaWR8fCJtYXRlcmlhbC0iLmNvbmNhdCh0KSxlLm5vcm1hbFRleHR1cmUmJihlLm5vcm1hbFRleHR1cmU9eGEoe30sZS5ub3JtYWxUZXh0dXJlKSxlLm5vcm1hbFRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUoZS5ub3JtYWxUZXh0dXJlLmluZGV4KSksZS5vY2NsdXNpb25UZXh0dXJlJiYoZS5vY2NsdXN0aW9uVGV4dHVyZT14YSh7fSxlLm9jY2x1c3Rpb25UZXh0dXJlKSxlLm9jY2x1c2lvblRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUoZS5vY2NsdXNpb25UZXh0dXJlLmluZGV4KSksZS5lbWlzc2l2ZVRleHR1cmUmJihlLmVtbWlzaXZlVGV4dHVyZT14YSh7fSxlLmVtbWlzaXZlVGV4dHVyZSksZS5lbWlzc2l2ZVRleHR1cmUudGV4dHVyZT10aGlzLmdldFRleHR1cmUoZS5lbWlzc2l2ZVRleHR1cmUuaW5kZXgpKSxlLnBick1ldGFsbGljUm91Z2huZXNzKXtlLnBick1ldGFsbGljUm91Z2huZXNzPXhhKHt9LGUucGJyTWV0YWxsaWNSb3VnaG5lc3MpO3ZhciBuPWUucGJyTWV0YWxsaWNSb3VnaG5lc3M7bi5iYXNlQ29sb3JUZXh0dXJlJiYobi5iYXNlQ29sb3JUZXh0dXJlPXhhKHt9LG4uYmFzZUNvbG9yVGV4dHVyZSksbi5iYXNlQ29sb3JUZXh0dXJlLnRleHR1cmU9dGhpcy5nZXRUZXh0dXJlKG4uYmFzZUNvbG9yVGV4dHVyZS5pbmRleCkpLG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJiYobi5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU9eGEoe30sbi5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUpLG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLnRleHR1cmU9dGhpcy5nZXRUZXh0dXJlKG4ubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLmluZGV4KSl9cmV0dXJuIGV9fSx7a2V5OiJfcmVzb2x2ZUFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYoZS5pZD1lLmlkfHwiYWNjZXNzb3ItIi5jb25jYXQodCksdm9pZCAwIT09ZS5idWZmZXJWaWV3JiYoZS5idWZmZXJWaWV3PXRoaXMuZ2V0QnVmZmVyVmlldyhlLmJ1ZmZlclZpZXcpKSxlLmJ5dGVzUGVyQ29tcG9uZW50PShuPWUuY29tcG9uZW50VHlwZSxTYVtuXSksZS5jb21wb25lbnRzPShyPWUudHlwZSx3YVtyXSksZS5ieXRlc1BlckVsZW1lbnQ9ZS5ieXRlc1BlckNvbXBvbmVudCplLmNvbXBvbmVudHMsZS5idWZmZXJWaWV3KXt2YXIgaT1lLmJ1ZmZlclZpZXcuYnVmZmVyLGE9cWkoZSxlLmJ1ZmZlclZpZXcpLG89YS5BcnJheVR5cGUscz1hLmxlbmd0aCx1PShlLmJ1ZmZlclZpZXcuYnl0ZU9mZnNldHx8MCkraS5ieXRlT2Zmc2V0O2UudmFsdWU9bmV3IG8oaS5hcnJheUJ1ZmZlcix1LHMpfXJldHVybiBlfX0se2tleToiX3Jlc29sdmVUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmlkPWUuaWR8fCJ0ZXh0dXJlLSIuY29uY2F0KHQpLGUuc2FtcGxlcj0ic2FtcGxlciJpbiBlP3RoaXMuZ2V0U2FtcGxlcihlLnNhbXBsZXIpOmphLGUuc291cmNlPXRoaXMuZ2V0SW1hZ2UoZS5zb3VyY2UpLGV9fSx7a2V5OiJfcmVzb2x2ZVNhbXBsZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUuaWQ9ZS5pZHx8InNhbXBsZXItIi5jb25jYXQodCksZS5wYXJhbWV0ZXJzPXt9LGUpe3ZhciByPXRoaXMuX2VudW1TYW1wbGVyUGFyYW1ldGVyKG4pO3ZvaWQgMCE9PXImJihlLnBhcmFtZXRlcnNbcl09ZVtuXSl9cmV0dXJuIGV9fSx7a2V5OiJfZW51bVNhbXBsZXJQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBQYVtlXX19LHtrZXk6Il9yZXNvbHZlSW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZS5pZD1lLmlkfHwiaW1hZ2UtIi5jb25jYXQodCksdm9pZCAwIT09ZS5idWZmZXJWaWV3JiYoZS5idWZmZXJWaWV3PXRoaXMuZ2V0QnVmZmVyVmlldyhlLmJ1ZmZlclZpZXcpKTt2YXIgbj10aGlzLmltYWdlc1t0XTtyZXR1cm4gbiYmKGUuaW1hZ2U9biksZX19LHtrZXk6Il9yZXNvbHZlQnVmZmVyVmlldyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLmlkPWUuaWR8fCJidWZmZXJWaWV3LSIuY29uY2F0KHQpO3ZhciBuPWUuYnVmZmVyO2UuYnVmZmVyPXRoaXMuYnVmZmVyc1tuXTt2YXIgcj10aGlzLmJ1ZmZlcnNbbl0uYXJyYXlCdWZmZXIsaT10aGlzLmJ1ZmZlcnNbbl0uYnl0ZU9mZnNldHx8MDtyZXR1cm4iYnl0ZU9mZnNldCJpbiBlJiYoaSs9ZS5ieXRlT2Zmc2V0KSxlLmRhdGE9bmV3IFVpbnQ4QXJyYXkocixpLGUuYnl0ZUxlbmd0aCksZX19LHtrZXk6Il9yZXNvbHZlQ2FtZXJhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmlkPWUuaWR8fCJjYW1lcmEtIi5jb25jYXQodCksZS5wZXJzcGVjdGl2ZSxlLm9ydGhvZ3JhcGhpYyxlfX1dKSxlfSgpO2Z1bmN0aW9uIEVhKGUsdCl7cmV0dXJuKG5ldyBUYSkucG9zdFByb2Nlc3MoZSx0KX1mdW5jdGlvbiBBYShlLHQpe3JldHVybiBNYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTWEoKXtyZXR1cm4oTWE9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4pe3ZhciByLGksYSxvLHMsdSxjPWFyZ3VtZW50cztyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPWMubGVuZ3RoPjImJnZvaWQgMCE9PWNbMl0/Y1syXTowLGk9Yy5sZW5ndGg+Mz9jWzNdOnZvaWQgMCxhPWMubGVuZ3RoPjQ/Y1s0XTp2b2lkIDAsQ2EodCxuLHIsaSksbz1bXSxpLmdsdGYubG9hZEltYWdlcyYmKHM9UmEodCxpLGEpLG8ucHVzaChzKSksIWkuZ2x0Zi5sb2FkQnVmZmVycyl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIGUubmV4dD05LExhKHQsaSxhKTtjYXNlIDk6cmV0dXJuIHU9ZGEodCxpLGEpLG8ucHVzaCh1KSxlLm5leHQ9MTMsUHJvbWlzZS5hbGwobyk7Y2FzZSAxMzpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsaS5nbHRmLnBvc3RQcm9jZXNzP0VhKHQsaSk6dCk7Y2FzZSAxNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIENhKGUsdCxuLHIpeyhyLnVyaSYmKGUuYmFzZVVyaT1yLnVyaSksdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYheWEodCxuLHIpKSYmKHQ9KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKHQpKTtpZigic3RyaW5nIj09dHlwZW9mIHQpZS5qc29uPU9iamVjdChMaS5hKSh0KTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFyIGk9e307bj1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LGk9bmV3IERhdGFWaWV3KHQpO2UudHlwZT1nYShpLG4rMCksZS52ZXJzaW9uPWkuZ2V0VWludDMyKG4rNCwhMCk7dmFyIGE9aS5nZXRVaW50MzIobis4LCEwKTtyZXR1cm4gZS5oZWFkZXI9e2J5dGVPZmZzZXQ6bixieXRlTGVuZ3RoOmF9LE9iamVjdCh2dC5hKSgyPT09ZS52ZXJzaW9uLCJJbnZhbGlkIEdMQiB2ZXJzaW9uICIuY29uY2F0KGUudmVyc2lvbiwiLiBPbmx5IHN1cHBvcnRzIHYyLiIpKSxPYmplY3QodnQuYSkoZS5oZWFkZXIuYnl0ZUxlbmd0aD4yMCksZS5qc29uPXt9LGUuYmluQ2h1bmtzPVtdLG1hKGUsaSxuKzEyLHIpLG4rZS5oZWFkZXIuYnl0ZUxlbmd0aH0oaSx0LG4sciksUmkoImdsVEYiPT09aS50eXBlLCJJbnZhbGlkIEdMQiBtYWdpYyBzdHJpbmcgIi5jb25jYXQoaS50eXBlKSksZS5fZ2xiPWksZS5qc29uPWkuanNvbn1lbHNlIFJpKCExLCJHTFRGOiBtdXN0IGJlIEFycmF5QnVmZmVyIG9yIHN0cmluZyIpO3ZhciBhPWUuanNvbi5idWZmZXJzfHxbXTtpZihlLmJ1ZmZlcnM9bmV3IEFycmF5KGEubGVuZ3RoKS5maWxsKG51bGwpLGUuX2dsYiYmZS5fZ2xiLmhlYWRlci5oYXNCaW5DaHVuayl7dmFyIG89ZS5fZ2xiLmJpbkNodW5rcztlLmJ1ZmZlcnNbMF09e2FycmF5QnVmZmVyOm9bMF0uYXJyYXlCdWZmZXIsYnl0ZU9mZnNldDpvWzBdLmJ5dGVPZmZzZXQsYnl0ZUxlbmd0aDpvWzBdLmJ5dGVMZW5ndGh9fXZhciBzPWUuanNvbi5pbWFnZXN8fFtdO2UuaW1hZ2VzPW5ldyBBcnJheShzLmxlbmd0aCkuZmlsbCh7fSl9ZnVuY3Rpb24gTGEoZSx0LG4pe3JldHVybiBJYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSWEoKXtyZXR1cm4oSWE9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scil7dmFyIGksYSxvLHMsdSxjO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmk9MDtjYXNlIDE6aWYoIShpPHQuanNvbi5idWZmZXJzLmxlbmd0aCkpe2UubmV4dD0xODticmVha31pZighKGE9dC5qc29uLmJ1ZmZlcnNbaV0pLnVyaSl7ZS5uZXh0PTE1O2JyZWFrfXJldHVybiBSaShvPXIuZmV0Y2gpLHM9RGkoYS51cmksbiksZS5uZXh0PTksbyhzKTtjYXNlIDk6cmV0dXJuIHU9ZS5zZW50LGUubmV4dD0xMix1LmFycmF5QnVmZmVyKCk7Y2FzZSAxMjpjPWUuc2VudCx0LmJ1ZmZlcnNbaV09e2FycmF5QnVmZmVyOmMsYnl0ZU9mZnNldDowLGJ5dGVMZW5ndGg6Yy5ieXRlTGVuZ3RofSxkZWxldGUgYS51cmk7Y2FzZSAxNTorK2ksZS5uZXh0PTE7YnJlYWs7Y2FzZSAxODpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFJhKGUsdCxuKXtyZXR1cm4gRGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIERhKCl7cmV0dXJuKERhPU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLHIpe3ZhciBpLGEsbztyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpmb3IoaT10Lmpzb24uaW1hZ2VzfHxbXSxhPVtdLG89MDtvPGkubGVuZ3RoOysrbylhLnB1c2goRmEodCxpW29dLG8sbixyKSk7cmV0dXJuIGUubmV4dD01LFByb21pc2UuYWxsKGEpO2Nhc2UgNTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBGYShlLHQsbixyLGkpe3JldHVybiBOYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTmEoKXtyZXR1cm4oTmE9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixpLGEpe3ZhciBvLHMsdSxjLGwsaCxmO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKG89YS5mZXRjaCxzPWEucGFyc2UsIW4udXJpKXtlLm5leHQ9OTticmVha31yZXR1cm4gYz1EaShuLnVyaSxpKSxlLm5leHQ9NSxvKGMpO2Nhc2UgNTpyZXR1cm4gbD1lLnNlbnQsZS5uZXh0PTgsbC5hcnJheUJ1ZmZlcigpO2Nhc2UgODp1PWUuc2VudDtjYXNlIDk6cmV0dXJuIE51bWJlci5pc0Zpbml0ZShuLmJ1ZmZlclZpZXcpJiYoaD1GaSh0Lmpzb24sdC5idWZmZXJzLG4uYnVmZmVyVmlldyksdT1PYmplY3QoSWkuYikoaC5idWZmZXIsaC5ieXRlT2Zmc2V0LGguYnl0ZUxlbmd0aCkpLFJpKHUsImdsVEYgaW1hZ2UgaGFzIG5vIGRhdGEiKSxlLm5leHQ9MTMscyh1LENpLmEse30sYSk7Y2FzZSAxMzpmPWUuc2VudCx0LmltYWdlc1tyXT1mO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB6YShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gQmEoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/emEoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QoRGUuYSkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnphKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfXZhciBVYT17aWQ6ImdsdGYiLG5hbWU6ImdsVEYiLHZlcnNpb246IjIuMS4xIixleHRlbnNpb25zOlsiZ2x0ZiIsImdsYiJdLG1pbWVUeXBlOiJtb2RlbC9nbHRmK2pzb24iLHRleHQ6ITAsYmluYXJ5OiEwLHRlc3Q6ImdsVEYiLHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBHYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9wdGlvbnM6e2dsdGY6e2xvYWRCdWZmZXJzOiEwLGxvYWRJbWFnZXM6ITAsZGVjb21wcmVzc01lc2hlczohMCxwb3N0UHJvY2VzczohMH0sdXJpOiIiLGxvZzpjb25zb2xlfX0sVmE9VWE7ZnVuY3Rpb24gR2EoKXtyZXR1cm4oR2E9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGksYSxvLHM9YXJndW1lbnRzO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBuPXMubGVuZ3RoPjEmJnZvaWQgMCE9PXNbMV0/c1sxXTp7fSxyPXMubGVuZ3RoPjI/c1syXTp2b2lkIDAsKG49QmEoe30sVWEub3B0aW9ucyx7fSxuKSkuZ2x0Zj1CYSh7fSxVYS5vcHRpb25zLmdsdGYse30sbi5nbHRmKSxXYShuKSxpPW4uYnl0ZU9mZnNldCxhPXZvaWQgMD09PWk/MDppLG89e30sZS5uZXh0PTksQWEobyx0LGEsbixyKTtjYXNlIDk6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSAxMDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFdhKGUpeyJmZXRjaEltYWdlcyJpbiBlJiYoZS5nbHRmLmxvYWRJbWFnZXM9ZS5mZXRjaEltYWdlcyksImNyZWF0ZUltYWdlcyJpbiBlJiYoZS5nbHRmLmxvYWRJbWFnZXM9ZS5jcmVhdGVJbWFnZXMpLCJmZXRjaExpbmtlZFJlc291cmNlcyJpbiBlJiYoZS5nbHRmLmZldGNoQnVmZmVycz1lLmZldGNoTGlua2VkUmVzb3VyY2VzKSwiZGVjb21wcmVzcyJpbiBlJiYoZS5nbHRmLmRlY29tcHJlc3NNZXNoZXM9ZS5kZWNvbXByZXNzKSwiZGVjb21wcmVzcyJpbiBlLmdsdGYmJihlLmdsdGYuZGVjb21wcmVzc01lc2hlcz1lLmdsdGYuZGVjb21wcmVzcyksInBvc3RQcm9jZXNzImluIGUmJihlLmdsdGYucG9zdFByb2Nlc3M9ZS5wb3N0UHJvY2Vzcyl9dmFyIEhhPTAscWE9MTtmdW5jdGlvbiBYYShlLHQsbil7ZS5yb3RhdGVZdG9aPSEwO3ZhciByPWUuYnl0ZU9mZnNldCtlLmJ5dGVMZW5ndGgtbjtpZigwPT09cil0aHJvdyBuZXcgRXJyb3IoImdsVEYgYnl0ZSBsZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMC4iKTtyZXR1cm4gZS5nbHRmQXJyYXlCdWZmZXI9T2JqZWN0KElpLmIpKHQsbixyKSxlLmdsdGZCeXRlT2Zmc2V0PTAsZS5nbHRmQnl0ZUxlbmd0aD1yLG4lND09MHx8Y29uc29sZS53YXJuKCIiLmNvbmNhdChlLnR5cGUsIjogZW1iZWRkZWQgZ2xiIGlzIG5vdCBhbGlnbmVkIHRvIGEgNC1ieXRlIGJvdW5kYXJ5LiIpKSxlLmJ5dGVPZmZzZXQrZS5ieXRlTGVuZ3RofWZ1bmN0aW9uIFphKGUsdCxuLHIpe3JldHVybiBZYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWWEoKXtyZXR1cm4oWWE9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixpKXt2YXIgYSxvO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKEthKHQsbixyKSwhci5sb2FkR0xURil7ZS5uZXh0PTE1O2JyZWFrfWlmKGE9aS5wYXJzZSxvPWkuZmV0Y2gsIXQuZ2x0ZlVybCl7ZS5uZXh0PTg7YnJlYWt9cmV0dXJuIGUubmV4dD02LG8odC5nbHRmVXJsLHIpO2Nhc2UgNjp0LmdsdGZBcnJheUJ1ZmZlcj1lLnNlbnQsdC5nbHRmQnl0ZU9mZnNldD0wO2Nhc2UgODppZighdC5nbHRmQXJyYXlCdWZmZXIpe2UubmV4dD0xNTticmVha31yZXR1cm4gZS5uZXh0PTExLGEodC5nbHRmQXJyYXlCdWZmZXIsVmEscixpKTtjYXNlIDExOnQuZ2x0Zj1lLnNlbnQsZGVsZXRlIHQuZ2x0ZkFycmF5QnVmZmVyLGRlbGV0ZSB0LmdsdGZCeXRlT2Zmc2V0LGRlbGV0ZSB0LmdsdGZCeXRlTGVuZ3RoO2Nhc2UgMTU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBLYShlLHQsbil7c3dpdGNoKHQpe2Nhc2UgSGE6dmFyIHI9bmV3IFVpbnQ4QXJyYXkoZS5nbHRmQXJyYXlCdWZmZXIsZS5nbHRmQnl0ZU9mZnNldCksaT0obmV3IFRleHREZWNvZGVyKS5kZWNvZGUocik7ZS5nbHRmVXJsPWkucmVwbGFjZSgvW1xzXDBdKyQvLCIiKSxkZWxldGUgZS5nbHRmQXJyYXlCdWZmZXIsZGVsZXRlIGUuZ2x0ZkJ5dGVPZmZzZXQsZGVsZXRlIGUuZ2x0ZkJ5dGVMZW5ndGg7YnJlYWs7Y2FzZSBxYTpicmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiYjNkbTogSWxsZWdhbCBnbFRGIGZvcm1hdCBmaWVsZCIpfX1mdW5jdGlvbiBRYShlLHQsbixyLGkpe3JldHVybiBKYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSmEoKXtyZXR1cm4oSmE9T2JqZWN0KFJlLmEpKHdlLmEubWFyaygoZnVuY3Rpb24gZSh0LG4scixpLGEpe3ZhciBvLHM7cmV0dXJuIHdlLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9JGEodCxuLHIsaSxhKSxlLm5leHQ9MyxaYSh0LHFhLGksYSk7Y2FzZSAzOnJldHVybiBvPXQuZ2x0Znx8e30sKHM9by5leHRlbnNpb25zKSYmcy5DRVNJVU1fUlRDJiYodC5ydGNDZW50ZXI9cy5DRVNJVU1fUlRDLmNlbnRlciksZS5hYnJ1cHQoInJldHVybiIscik7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gJGEoZSx0LG4scixpKXtuPVhhKGUsdCxuPWNpKGUsdCxuPXVpKGUsdCxuPXNpKGUsdCxuLHIpKSkpO3ZhciBhPW5ldyBZcihlLmZlYXR1cmVUYWJsZUpzb24sZS5mZWF0dXJlVGFibGVCaW5hcnkpO3JldHVybiBlLnJ0Y0NlbnRlcj1hLmdldEdsb2JhbFByb3BlcnR5KCJSVENfQ0VOVEVSIixIci5GTE9BVCwzKSxufXZhciBlbz1uKDIwNSk7ZnVuY3Rpb24gdG8oZSx0LG4scixpKXtyZXR1cm4gbm8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG5vKCl7cmV0dXJuKG5vPU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLHIsaSxhKXtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gcj1ybyh0LG4scixpLGEpLGUubmV4dD0zLFphKHQsdC5nbHRmRm9ybWF0LGksYSk7Y2FzZSAzOnJldHVybiBlLmFicnVwdCgicmV0dXJuIixyKTtjYXNlIDQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBybyhlLHQsbixyLGkpe2lmKG49c2koZSx0LG4sciksMSE9PWUudmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIkluc3RhbmNlZCAzRCBNb2RlbCB2ZXJzaW9uICIuY29uY2F0KGUudmVyc2lvbiwiIGlzIG5vdCBzdXBwb3J0ZWQiKSk7bj11aShlLHQsbik7dmFyIGE9bmV3IERhdGFWaWV3KHQpO2lmKGUuZ2x0ZkZvcm1hdD1hLmdldFVpbnQzMihuLCEwKSxuPVhhKGUsdCxuPWNpKGUsdCxuKz00KSksMD09PWUuZmVhdHVyZVRhYmxlSnNvbkJ5dGVMZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJpM2RtIHBhcnNlcjogZmVhdHVyZVRhYmxlSnNvbkJ5dGVMZW5ndGggaXMgemVyby4iKTt2YXIgbz1uZXcgWXIoZS5mZWF0dXJlVGFibGVKc29uLGUuZmVhdHVyZVRhYmxlQmluYXJ5KSxzPW8uZ2V0R2xvYmFsUHJvcGVydHkoIklOU1RBTkNFU19MRU5HVEgiKTtpZihvLmZlYXR1cmVzTGVuZ3RoPXMsIU51bWJlci5pc0Zpbml0ZShzKSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBJTlNUQU5DRVNfTEVOR1RIIG11c3QgYmUgZGVmaW5lZCIpO2UuZWFzdE5vcnRoVXA9by5nZXRHbG9iYWxQcm9wZXJ0eSgiRUFTVF9OT1JUSF9VUCIpLGUucnRjQ2VudGVyPW8uZ2V0R2xvYmFsUHJvcGVydHkoIlJUQ19DRU5URVIiLEhyLkZMT0FULDMpO25ldyBvaShlLmJhdGNoVGFibGVKc29uLGUuYmF0Y2hUYWJsZUJpbmFyeSxzKTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPVtuZXcgQXJyYXkociksZS5fYmF0Y2hUYWJsZV1bMF0sYT1uZXcgVGUuYSxvPShuZXcgVGUuYSxuZXcgVGUuYSxuZXcgVGUuYSxuZXcgdHIuYSkscz1uZXcgZW8uYSx1PW5ldyBUZS5hLGM9e30sbD1uZXcgemUuYSxoPVtdLGY9W10sZD1uZXcgVGUuYSx2PW5ldyBUZS5hLHA9MDtwPHI7cCsrKXt2YXIgZz12b2lkIDA7aWYodC5oYXNQcm9wZXJ0eSgiUE9TSVRJT04iKSlnPXQuZ2V0UHJvcGVydHkoIlBPU0lUSU9OIixIci5GTE9BVCwzLHAsYSk7ZWxzZSBpZih0Lmhhc1Byb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiKSl7Zz10LmdldFByb3BlcnR5KCJQT1NJVElPTl9RVUFOVElaRUQiLEhyLlVOU0lHTkVEX1NIT1JULDMscCxhKTt2YXIgeT10LmdldEdsb2JhbFByb3BlcnR5KCJRVUFOVElaRURfVk9MVU1FX09GRlNFVCIsSHIuRkxPQVQsMyxkKTtpZigheSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBRVUFOVElaRURfVk9MVU1FX09GRlNFVCBtdXN0IGJlIGRlZmluZWQgZm9yIHF1YW50aXplZCBwb3NpdGlvbnMuIik7dmFyIG09dC5nZXRHbG9iYWxQcm9wZXJ0eSgiUVVBTlRJWkVEX1ZPTFVNRV9TQ0FMRSIsSHIuRkxPQVQsMyx2KTtpZighbSl0aHJvdyBuZXcgRXJyb3IoImkzZG0gcGFyc2VyOiBRVUFOVElaRURfVk9MVU1FX1NDQUxFIG11c3QgYmUgZGVmaW5lZCBmb3IgcXVhbnRpemVkIHBvc2l0aW9ucy4iKTtmb3IodmFyIGI9MDtiPDM7YisrKWdbYl09Z1tiXS82NTUzNSptW2JdK3lbYl19aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJpM2RtOiBQT1NJVElPTiBvciBQT1NJVElPTl9RVUFOVElaRUQgbXVzdCBiZSBkZWZpbmVkIGZvciBlYWNoIGluc3RhbmNlLiIpO2EuY29weShnKSxjLnRyYW5zbGF0aW9uPWEsZS5ub3JtYWxVcD10LmdldFByb3BlcnR5KCJOT1JNQUxfVVAiLEhyLkZMT0FULDMscCxoKSxlLm5vcm1hbFJpZ2h0PXQuZ2V0UHJvcGVydHkoIk5PUk1BTF9SSUdIVCIsSHIuRkxPQVQsMyxwLGYpO2lmKGUubm9ybWFsVXApe2lmKCFlLm5vcm1hbFJpZ2h0KXRocm93IG5ldyBFcnJvcigiaTNkbTogQ3VzdG9tIG9yaWVudGF0aW9uIHJlcXVpcmVzIGJvdGggTk9STUFMX1VQIGFuZCBOT1JNQUxfUklHSFQuIik7ZS5oYXNDdXN0b21PcmllbnRhdGlvbj0hMH1lbHNle2lmKGUub2N0Tm9ybWFsVXA9dC5nZXRQcm9wZXJ0eSgiTk9STUFMX1VQX09DVDMyUCIsSHIuVU5TSUdORURfU0hPUlQsMixoKSxlLm9jdE5vcm1hbFJpZ2h0PXQuZ2V0UHJvcGVydHkoIk5PUk1BTF9SSUdIVF9PQ1QzMlAiLEhyLlVOU0lHTkVEX1NIT1JULDIsZiksZS5vY3ROb3JtYWxVcCl7aWYoIWUub2N0Tm9ybWFsUmlnaHQpdGhyb3cgbmV3IEVycm9yKCJpM2RtOiBvY3QtZW5jb2RlZCBvcmllbnRhdGlvbiByZXF1aXJlcyBOT1JNQUxfVVBfT0NUMzJQIGFuZCBOT1JNQUxfUklHSFRfT0NUMzJQIik7dGhyb3cgbmV3IEVycm9yKCJpM2RtOiBvY3QtZW5jb2RlZCBvcmllbnRhdGlvbiBub3QgaW1wbGVtZW50ZWQiKX1lLmVhc3ROb3J0aFVwPyhmdC5XR1M4NC5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShhLGwpLGwuZ2V0Um90YXRpb25NYXRyaXgzKG8pKTpvLmlkZW50aXR5KCl9ITEscy5mcm9tTWF0cml4MyhvKSxjLnJvdGF0aW9uPXMsdS5zZXQoMSwxLDEpO3ZhciBfPXQuZ2V0UHJvcGVydHkoIlNDQUxFIixIci5GTE9BVCwxLHApO051bWJlci5pc0Zpbml0ZShfKSYmdS5tdWx0aXBseUJ5U2NhbGFyKF8pO3ZhciBPPXQuZ2V0UHJvcGVydHkoIlNDQUxFX05PTl9VTklGT1JNIixIci5GTE9BVCwzLHAsaCk7TyYmdS5zY2FsZShPKSxjLnNjYWxlPXU7dmFyIHg9dC5nZXRQcm9wZXJ0eSgiQkFUQ0hfSUQiLEhyLlVOU0lHTkVEX1NIT1JULDEscCk7dm9pZCAwPT09eCYmKHg9cCk7dmFyIHc9KG5ldyB6ZS5hKS5mcm9tUXVhdGVybmlvbihjLnJvdGF0aW9uKTtsLmlkZW50aXR5KCksbC50cmFuc2xhdGUoYy50cmFuc2xhdGlvbiksbC5tdWx0aXBseVJpZ2h0KHcpLGwuc2NhbGUoYy5zY2FsZSk7dmFyIFM9bC5jbG9uZSgpO2lbcF09e21vZGVsTWF0cml4OlMsYmF0Y2hJZDp4fX1lLmluc3RhbmNlcz1pfShlLG8sMCxzKSxufWZ1bmN0aW9uIGlvKGUsdCxuLHIsaSxhKXtyZXR1cm4gYW8uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGFvKCl7cmV0dXJuKGFvPU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLHIsaSxhLG8pe3ZhciBzLHU7cmV0dXJuIHdlLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cj1zaSh0LG4scixpKSxzPW5ldyBEYXRhVmlldyhuKSx0LnRpbGVzTGVuZ3RoPXMuZ2V0VWludDMyKHIsITApLHIrPTQsdC50aWxlcz1bXTtjYXNlIDU6aWYoISh0LnRpbGVzLmxlbmd0aDx0LnRpbGVzTGVuZ3RoJiZ0LmJ5dGVMZW5ndGgtcj4xMikpe2UubmV4dD0xMzticmVha31yZXR1cm4gdT17fSx0LnRpbGVzLnB1c2godSksZS5uZXh0PTEwLG8obixyLGksYSx1KTtjYXNlIDEwOnI9ZS5zZW50LGUubmV4dD01O2JyZWFrO2Nhc2UgMTM6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHIpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBvbyhlKXtyZXR1cm4gc28uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHNvKCl7cmV0dXJuKHNvPU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLGEsbz1hcmd1bWVudHM7cmV0dXJuIHdlLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6bj1vLmxlbmd0aD4xJiZ2b2lkIDAhPT1vWzFdP29bMV06MCxyPW8ubGVuZ3RoPjI/b1syXTp2b2lkIDAsaT1vLmxlbmd0aD4zP29bM106dm9pZCAwLGE9by5sZW5ndGg+NCYmdm9pZCAwIT09b1s0XT9vWzRdOnt9LHI9clsiM2QtdGlsZXMiXXx8e30sYS5ieXRlT2Zmc2V0PW4sYS50eXBlPVVyKHQsbiksZS50MD1hLnR5cGUsZS5uZXh0PWUudDA9PT16ci5DT01QT1NJVEU/MTA6ZS50MD09PXpyLkJBVENIRURfM0RfTU9ERUw/MTM6ZS50MD09PXpyLklOU1RBTkNFRF8zRF9NT0RFTD8xNjplLnQwPT09enIuUE9JTlRfQ0xPVUQ/MTk6MjI7YnJlYWs7Y2FzZSAxMDpyZXR1cm4gZS5uZXh0PTEyLGlvKGEsdCxuLHIsaSxvbyk7Y2FzZSAxMjpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDEzOnJldHVybiBlLm5leHQ9MTUsUWEoYSx0LG4scixpKTtjYXNlIDE1OnJldHVybiBlLmFicnVwdCgicmV0dXJuIixlLnNlbnQpO2Nhc2UgMTY6cmV0dXJuIGUubmV4dD0xOCx0byhhLHQsbixyLGkpO2Nhc2UgMTg6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSAxOTpyZXR1cm4gZS5uZXh0PTIxLE9pKGEsdCxuLHIsaSk7Y2FzZSAyMTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDIyOnRocm93IG5ldyBFcnJvcigiM0RUaWxlTG9hZGVyOiB1bmtub3duIHR5cGUgIi5jb25jYXQoYS50eXBlKSk7Y2FzZSAyMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHVvKGUsdCl7cmV0dXJuIGUuY29udGVudCYmKGUuY29udGVudFVybD0iIi5jb25jYXQodC5iYXNlUGF0aCwiLyIpLmNvbmNhdChlLmNvbnRlbnQudXJpKSksZS5pZD1lLmNvbnRlbnRVcmwsZS5sb2RNZXRyaWNUeXBlPUpuLGUubG9kTWV0cmljVmFsdWU9ZS5nZW9tZXRyaWNFcnJvcixlLnRyYW5zZm9ybU1hdHJpeD1lLnRyYW5zZm9ybSxlLnR5cGU9ZnVuY3Rpb24oZSl7aWYoIWUuY29udGVudFVybClyZXR1cm4gcW47dmFyIHQ9ZS5jb250ZW50VXJsLnNwbGl0KCIuIikucG9wKCk7c3dpdGNoKHQpe2Nhc2UicG50cyI6cmV0dXJuIFpuO2Nhc2UiaTNkbSI6Y2FzZSJiM2RtIjpyZXR1cm4gWG47ZGVmYXVsdDpyZXR1cm4gdH19KGUpLGUucmVmaW5lPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIlJFUExBQ0UiOmNhc2UicmVwbGFjZSI6cmV0dXJuIEhuO2Nhc2UiQUREIjpjYXNlImFkZCI6cmV0dXJuIFduO2RlZmF1bHQ6cmV0dXJuIGV9fShlLnJlZmluZSksZX1mdW5jdGlvbiBjbyhlKXt2YXIgdD1lLmJhc2VQYXRoLG49dW8oZS5yb290LGUpLHI9W107Zm9yKHIucHVzaChuKTtyLmxlbmd0aD4wOyl7dmFyIGk9ci5wb3AoKS5jaGlsZHJlbnx8W10sYT0hMCxvPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHUsYz1pW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9Yy5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBsPXUudmFsdWU7dW8obCx7YmFzZVBhdGg6dH0pLHIucHVzaChsKX19Y2F0Y2goZSl7bz0hMCxzPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fX1yZXR1cm4gbn1mdW5jdGlvbiBsbyhlKXtyZXR1cm4gcHQuYS5kaXJuYW1lKGUudXJsKX1mdW5jdGlvbiBobyhlLHQsbil7cmV0dXJuIGZvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmbygpe3JldHVybihmbz1PYmplY3QoUmUuYSkod2UuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyKXt2YXIgaTtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4oaT17fSkuY29udGVudD1pLmNvbnRlbnR8fHt9LDAsZS5uZXh0PTUsb28odCwwLG4scixpLmNvbnRlbnQpO2Nhc2UgNTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsaS5jb250ZW50KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB2byhlLHQsbil7cmV0dXJuIHBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBwbygpe3JldHVybihwbz1PYmplY3QoUmUuYSkod2UuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyKXt2YXIgaTtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4oaT1KU09OLnBhcnNlKChuZXcgVGV4dERlY29kZXIpLmRlY29kZSh0KSkpLmxvYWRlcj1uLmxvYWRlcnx8eW8saS51cmw9ci51cmwsaS5iYXNlUGF0aD1sbyhpKSxpLnJvb3Q9Y28oaSksaS50eXBlPVFuLGkubG9kTWV0cmljVHlwZT1KbixpLmxvZE1ldHJpY1ZhbHVlPWkucm9vdC5sb2RNZXRyaWNWYWx1ZSxlLmFicnVwdCgicmV0dXJuIixpKTtjYXNlIDk6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBnbygpe3JldHVybihnbz1PYmplY3QoUmUuYSkod2UuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyLGkpe3ZhciBhO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKGE9blsiM2QtdGlsZXMiXXx8e30sISgiaXNUaWxlc2V0ImluIGE/bi5pc1RpbGVzZXQ6ci51cmwmJi0xIT09ci51cmwuaW5kZXhPZigiLmpzb24iKSkpe2UubmV4dD04O2JyZWFrfXJldHVybiBlLm5leHQ9NSx2byh0LG4scixpKTtjYXNlIDU6dD1lLnNlbnQsZS5uZXh0PTExO2JyZWFrO2Nhc2UgODpyZXR1cm4gZS5uZXh0PTEwLGhvKHQsbixyKTtjYXNlIDEwOnQ9ZS5zZW50O2Nhc2UgMTE6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgMTI6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgeW89e2lkOiIzZC10aWxlcyIsbmFtZToiM0QgVGlsZXMiLHZlcnNpb246IjIuMS4xIixleHRlbnNpb25zOlsianNvbiIsImNtcHQiLCJwbnRzIiwiYjNkbSIsImkzZG0iXSxtaW1lVHlwZToiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIix0ZXN0OlsianNvbiIsImNtcHQiLCJwbnRzIiwiYjNkbSIsImkzZG0iXSxwYXJzZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gZ28uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvcHRpb25zOnsiM2QtdGlsZXMiOntsb2FkR0xURjohMCxkZWNvZGVRdWFudGl6ZWRQb3NpdGlvbnM6ITF9fX0sbW89eW87ZnVuY3Rpb24gYm8oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIF9vKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2JvKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7a2UoKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6Ym8oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIE9vPW5ldyBUZS5hLHhvPXtnZXRQb2ludENvbG9yOlswLDAsMF0scG9pbnRTaXplOjEsZGF0YTpudWxsLGxvYWRPcHRpb25zOnt9LGxvYWRlcjptbyxvblRpbGVzZXRMb2FkOmZ1bmN0aW9uKGUpe30sb25UaWxlTG9hZDpmdW5jdGlvbihlKXt9LG9uVGlsZVVubG9hZDpmdW5jdGlvbihlKXt9LG9uVGlsZUVycm9yOmZ1bmN0aW9uKGUsdCxuKXt9fSx3bz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXZhciBuO3JldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpeyJvblRpbGVMb2FkRmFpbCJpbiB0aGlzLnByb3BzJiZVLmEucmVtb3ZlZCgib25UaWxlTG9hZEZhaWwiLCJvblRpbGVFcnJvciIpKCksdGhpcy5zdGF0ZT17bGF5ZXJNYXA6e30sdGlsZXNldDNkOm51bGx9fX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPWUub2xkUHJvcHMscj1lLmNoYW5nZUZsYWdzO2lmKHQuZGF0YSYmdC5kYXRhIT09bi5kYXRhJiZ0aGlzLl9sb2FkVGlsZXNldCh0LmRhdGEpLHIudmlld3BvcnRDaGFuZ2VkKXt2YXIgaT10aGlzLnN0YXRlLnRpbGVzZXQzZDt0aGlzLl91cGRhdGVUaWxlc2V0KGkpfX19LHtrZXk6ImdldFBpY2tpbmdJbmZvIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmluZm8sbj1lLnNvdXJjZUxheWVyLHI9dGhpcy5zdGF0ZS5sYXllck1hcCxpPW4mJm4uaWQ7aWYoaSl7dmFyIGE9aS5zdWJzdHJpbmcodGhpcy5pZC5sZW5ndGgrMSksbz1hLnN1YnN0cmluZyhhLmluZGV4T2YoIi0iKSsxKTt0Lm9iamVjdD1yW29dJiZyW29dLnRpbGV9cmV0dXJuIHR9fSx7a2V5OiJfbG9hZFRpbGVzZXQiLHZhbHVlOihuPWplKCkod2UuYS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsaSxhLG8scyx1O3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKG49dGhpcy5wcm9wcyxyPW4ubG9hZGVyLGk9bi5sb2FkT3B0aW9ucyxhPV9vKHt9LGkpLCFyLnByZWxvYWQpe2UubmV4dD03O2JyZWFrfXJldHVybiBlLm5leHQ9NSxyLnByZWxvYWQodCxpKTtjYXNlIDU6bz1lLnNlbnQsT2JqZWN0LmFzc2lnbihhLG8pO2Nhc2UgNzpyZXR1cm4gZS5uZXh0PTksT2JqZWN0KEllLmEpKHQscixhKTtjYXNlIDk6cz1lLnNlbnQsdT1uZXcgTnIocyxfbyh7b25UaWxlTG9hZDp0aGlzLl9vblRpbGVMb2FkLmJpbmQodGhpcyksb25UaWxlVW5sb2FkOnRoaXMuX29uVGlsZVVubG9hZC5iaW5kKHRoaXMpLG9uVGlsZUxvYWRGYWlsOnRoaXMucHJvcHMub25UaWxlRXJyb3J9LGEpKSx0aGlzLnNldFN0YXRlKHt0aWxlc2V0M2Q6dSxsYXllck1hcDp7fX0pLHRoaXMuX3VwZGF0ZVRpbGVzZXQodSksdGhpcy5wcm9wcy5vblRpbGVzZXRMb2FkKHUpO2Nhc2UgMTQ6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlKXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiX29uVGlsZUxvYWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJvcHMub25UaWxlTG9hZChlKSx0aGlzLl91cGRhdGVUaWxlc2V0KHRoaXMuc3RhdGUudGlsZXNldDNkKSx0aGlzLnNldE5lZWRzVXBkYXRlKCl9fSx7a2V5OiJfb25UaWxlVW5sb2FkIix2YWx1ZTpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5zdGF0ZS5sYXllck1hcFtlLmlkXSx0aGlzLnByb3BzLm9uVGlsZVVubG9hZChlKX19LHtrZXk6Il91cGRhdGVUaWxlc2V0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbnRleHQsbj10LnRpbWVsaW5lLHI9dC52aWV3cG9ydDtpZihuJiZyJiZlKXt2YXIgaT1lLnVwZGF0ZShyKTt0aGlzLnN0YXRlLmZyYW1lTnVtYmVyIT09aSYmdGhpcy5zZXRTdGF0ZSh7ZnJhbWVOdW1iZXI6aX0pfX19LHtrZXk6Il9jcmVhdGUzRFRpbGVMYXllciIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUuY29udGVudClyZXR1cm4gbnVsbDtzd2l0Y2goZS50eXBlKXtjYXNlIFpuOnJldHVybiB0aGlzLl9jcmVhdGVQb2ludENsb3VkVGlsZUxheWVyKGUpO2Nhc2UgWG46cmV0dXJuIHRoaXMuX2NyZWF0ZTNETW9kZWxUaWxlTGF5ZXIoZSk7Y2FzZSBZbjpyZXR1cm4gdGhpcy5fY3JlYXRlU2ltcGxlTWVzaExheWVyKGUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJUaWxlM0RMYXllcjogRmFpbGVkIHRvIHJlbmRlciBsYXllciBvZiB0eXBlICIuY29uY2F0KGUuY29udGVudC50eXBlKSl9fX0se2tleToiX2NyZWF0ZVBvaW50Q2xvdWRUaWxlTGF5ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGVudCxuPXQuYXR0cmlidXRlcyxyPXQucG9pbnRDb3VudCxpPXQuY29uc3RhbnRSR0JBLGE9dC5jYXJ0b2dyYXBoaWNPcmlnaW4sbz10Lm1vZGVsTWF0cml4LHM9bi5wb3NpdGlvbnMsdT1uLm5vcm1hbHMsYz1uLmNvbG9ycztpZighcylyZXR1cm4gbnVsbDt2YXIgbD10aGlzLnByb3BzLGg9bC5wb2ludFNpemUsZj1sLmdldFBvaW50Q29sb3I7cmV0dXJuIG5ldyh0aGlzLmdldFN1YkxheWVyQ2xhc3MoInBvaW50Y2xvdWQiLE1lLmEpKSh7cG9pbnRTaXplOmh9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InBvaW50Y2xvdWQifSkse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItcG9pbnRjbG91ZC0iKS5jb25jYXQoZS5pZCksZGF0YTp7aGVhZGVyOnt2ZXJ0ZXhDb3VudDpyfSxhdHRyaWJ1dGVzOntQT1NJVElPTjpzLE5PUk1BTDp1LENPTE9SXzA6Y319LGNvb3JkaW5hdGVTeXN0ZW06QWUuYS5NRVRFUl9PRkZTRVRTLGNvb3JkaW5hdGVPcmlnaW46YSxtb2RlbE1hdHJpeDpvLGdldENvbG9yOml8fGZ9KX19LHtrZXk6Il9jcmVhdGUzRE1vZGVsVGlsZUxheWVyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRlbnQsbj10LmdsdGYscj10Lmluc3RhbmNlcyxpPXQuY2FydG9ncmFwaGljT3JpZ2luLGE9dC5tb2RlbE1hdHJpeDtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygic2NlbmVncmFwaCIsQ2UuYSkpKHtfbGlnaHRpbmc6InBiciJ9LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InNjZW5lZ3JhcGgifSkse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItc2NlbmVncmFwaC0iKS5jb25jYXQoZS5pZCksZGF0YTpyfHxbe31dLHNjZW5lZ3JhcGg6bixjb29yZGluYXRlU3lzdGVtOkFlLmEuTUVURVJfT0ZGU0VUUyxjb29yZGluYXRlT3JpZ2luOmksbW9kZWxNYXRyaXg6YSxnZXRUcmFuc2Zvcm1NYXRyaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubW9kZWxNYXRyaXh9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVyblswLDAsMF19fSl9fSx7a2V5OiJfY3JlYXRlU2ltcGxlTWVzaExheWVyIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5jb250ZW50LG49dC5hdHRyaWJ1dGVzLHI9dC5tb2RlbE1hdHJpeCxpPXQuY2FydG9ncmFwaGljT3JpZ2luLGE9dC50ZXh0dXJlLG89bi5ub3JtYWxzLHM9bi50ZXhDb29yZHMsdT1uZXcgRmxvYXQzMkFycmF5KG4ucG9zaXRpb25zLnZhbHVlLmxlbmd0aCksYz0wO2M8dS5sZW5ndGg7Yys9MylPby5jb3B5KG4ucG9zaXRpb25zLnZhbHVlLnN1YmFycmF5KGMsYyszKSksdS5zZXQoT28sYyk7dmFyIGw9bmV3IEVlLmEoe2RyYXdNb2RlOjQsYXR0cmlidXRlczp7cG9zaXRpb25zOnUsbm9ybWFsczpvLHRleENvb3JkczpzfX0pO3JldHVybiBuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixMZS5hKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoibWVzaCJ9KSx7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi1tZXNoLSIpLmNvbmNhdChlLmlkKSxtZXNoOmwsZGF0YTpbe31dLGdldFBvc2l0aW9uOlswLDAsMF0sZ2V0Q29sb3I6WzI1NSwyNTUsMjU1XSx0ZXh0dXJlOmEsbW9kZWxNYXRyaXg6cixjb29yZGluYXRlT3JpZ2luOmksY29vcmRpbmF0ZVN5c3RlbTpBZS5hLk1FVEVSX09GRlNFVFN9KX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5zdGF0ZSxuPXQudGlsZXNldDNkLHI9dC5sYXllck1hcDtyZXR1cm4gbj9uLnRpbGVzLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49clt0LmlkXSYmclt0LmlkXS5sYXllcjtyZXR1cm4gdC5zZWxlY3RlZD8obnx8KG49ZS5fY3JlYXRlM0RUaWxlTGF5ZXIodCksclt0LmlkXT17bGF5ZXI6bix0aWxlOnR9KSxuJiZuLnByb3BzJiYhbi5wcm9wcy52aXNpYmxlJiYobj1uLmNsb25lKHt2aXNpYmxlOiEwfSksclt0LmlkXS5sYXllcj1uKSxuKToobiYmbi5wcm9wcyYmbi5wcm9wcy52aXNpYmxlJiYobj1uLmNsb25lKHt2aXNpYmxlOiExfSksclt0LmlkXS5sYXllcj1uKSxuKX0pKS5maWx0ZXIoQm9vbGVhbik6bnVsbH19XSksdH0ody5hKTt3by5sYXllck5hbWU9IlRpbGUzRExheWVyIix3by5kZWZhdWx0UHJvcHM9eG87dmFyIFNvPW4oMTM3KTtjbGFzcyBrb3tjb25zdHJ1Y3RvcihlPTI1Nyl7dGhpcy5ncmlkU2l6ZT1lO2NvbnN0IHQ9ZS0xO2lmKHQmdC0xKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgZ3JpZCBzaXplIHRvIGJlIDJebisxLCBnb3QgJHtlfS5gKTt0aGlzLm51bVRyaWFuZ2xlcz10KnQqMi0yLHRoaXMubnVtUGFyZW50VHJpYW5nbGVzPXRoaXMubnVtVHJpYW5nbGVzLXQqdCx0aGlzLmluZGljZXM9bmV3IFVpbnQzMkFycmF5KHRoaXMuZ3JpZFNpemUqdGhpcy5ncmlkU2l6ZSksdGhpcy5jb29yZHM9bmV3IFVpbnQxNkFycmF5KDQqdGhpcy5udW1UcmlhbmdsZXMpO2ZvcihsZXQgZT0wO2U8dGhpcy5udW1UcmlhbmdsZXM7ZSsrKXtsZXQgbj1lKzIscj0wLGk9MCxhPTAsbz0wLHM9MCx1PTA7Zm9yKDEmbj9hPW89cz10OnI9aT11PXQ7KG4+Pj0xKT4xOyl7Y29uc3QgZT1yK2E+PjEsdD1pK28+PjE7MSZuPyhhPXIsbz1pLHI9cyxpPXUpOihyPWEsaT1vLGE9cyxvPXUpLHM9ZSx1PXR9Y29uc3QgYz00KmU7dGhpcy5jb29yZHNbYyswXT1yLHRoaXMuY29vcmRzW2MrMV09aSx0aGlzLmNvb3Jkc1tjKzJdPWEsdGhpcy5jb29yZHNbYyszXT1vfX1jcmVhdGVUaWxlKGUpe3JldHVybiBuZXcgUG8oZSx0aGlzKX19Y2xhc3MgUG97Y29uc3RydWN0b3IoZSx0KXtjb25zdCBuPXQuZ3JpZFNpemU7aWYoZS5sZW5ndGghPT1uKm4pdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB0ZXJyYWluIGRhdGEgb2YgbGVuZ3RoICR7bipufSAoJHtufSB4ICR7bn0pLCBnb3QgJHtlLmxlbmd0aH0uYCk7dGhpcy50ZXJyYWluPWUsdGhpcy5tYXJ0aW5pPXQsdGhpcy5lcnJvcnM9bmV3IEZsb2F0MzJBcnJheShlLmxlbmd0aCksdGhpcy51cGRhdGUoKX11cGRhdGUoKXtjb25zdHtudW1UcmlhbmdsZXM6ZSxudW1QYXJlbnRUcmlhbmdsZXM6dCxjb29yZHM6bixncmlkU2l6ZTpyfT10aGlzLm1hcnRpbmkse3RlcnJhaW46aSxlcnJvcnM6YX09dGhpcztmb3IobGV0IG89ZS0xO28+PTA7by0tKXtjb25zdCBlPTQqbyxzPW5bZSswXSx1PW5bZSsxXSxjPW5bZSsyXSxsPW5bZSszXSxoPXMrYz4+MSxmPXUrbD4+MSxkPWgrZi11LHY9ZitzLWgscD0oaVt1KnIrc10raVtsKnIrY10pLzIsZz1mKnIraCx5PU1hdGguYWJzKHAtaVtnXSk7aWYoYVtnXT1NYXRoLm1heChhW2ddLHkpLG88dCl7Y29uc3QgZT0odSt2Pj4xKSpyKyhzK2Q+PjEpLHQ9KGwrdj4+MSkqcisoYytkPj4xKTthW2ddPU1hdGgubWF4KGFbZ10sYVtlXSxhW3RdKX19fWdldE1lc2goZT0wKXtjb25zdHtncmlkU2l6ZTp0LGluZGljZXM6bn09dGhpcy5tYXJ0aW5pLHtlcnJvcnM6cn09dGhpcztsZXQgaT0wLGE9MDtjb25zdCBvPXQtMTtmdW5jdGlvbiBzKG8sdSxjLGwsaCxmKXtjb25zdCBkPW8rYz4+MSx2PXUrbD4+MTtNYXRoLmFicyhvLWgpK01hdGguYWJzKHUtZik+MSYmclt2KnQrZF0+ZT8ocyhoLGYsbyx1LGQsdikscyhjLGwsaCxmLGQsdikpOihuW3UqdCtvXT1uW3UqdCtvXXx8KytpLG5bbCp0K2NdPW5bbCp0K2NdfHwrK2ksbltmKnQraF09bltmKnQraF18fCsraSxhKyspfW4uZmlsbCgwKSxzKDAsMCxvLG8sbywwKSxzKG8sbywwLDAsMCxvKTtjb25zdCB1PW5ldyBVaW50MTZBcnJheSgyKmkpLGM9bmV3IFVpbnQzMkFycmF5KDMqYSk7bGV0IGw9MDtmdW5jdGlvbiBoKGksYSxvLHMsZixkKXtjb25zdCB2PWkrbz4+MSxwPWErcz4+MTtpZihNYXRoLmFicyhpLWYpK01hdGguYWJzKGEtZCk+MSYmcltwKnQrdl0+ZSloKGYsZCxpLGEsdixwKSxoKG8scyxmLGQsdixwKTtlbHNle2NvbnN0IGU9blthKnQraV0tMSxyPW5bcyp0K29dLTEsaD1uW2QqdCtmXS0xO3VbMiplXT1pLHVbMiplKzFdPWEsdVsyKnJdPW8sdVsyKnIrMV09cyx1WzIqaF09Zix1WzIqaCsxXT1kLGNbbCsrXT1lLGNbbCsrXT1yLGNbbCsrXT1ofX1yZXR1cm4gaCgwLDAsbyxvLG8sMCksaChvLG8sMCwwLDAsbykse3ZlcnRpY2VzOnUsdHJpYW5nbGVzOmN9fX12YXIgam89bigxNjgpO2Z1bmN0aW9uIFRvKGUsdCl7aWYobnVsbD09PWUpcmV0dXJuIG51bGw7dmFyIG49dC5tZXNoTWF4RXJyb3Iscj10LmJvdW5kcyxpPXQuZWxldmF0aW9uRGVjb2RlcixhPWUuZGF0YSxvPWUud2lkdGgscz1vKzEsdT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW4uclNjYWxlcixpPW4uYlNjYWxlcixhPW4uZ1NjYWxlcixvPW4ub2Zmc2V0LHM9dCsxLHU9bmV3IEZsb2F0MzJBcnJheShzKnMpLGM9MCxsPTA7bDx0O2wrKylmb3IodmFyIGg9MDtoPHQ7aCsrLGMrKyl7dmFyIGY9NCpjLGQ9ZVtmKzBdLHY9ZVtmKzFdLHA9ZVtmKzJdO3VbYytsXT1kKnIrdiphK3AqaStvfWZvcih2YXIgZz1zKihzLTEpLHk9MDt5PHMtMTt5KyssZysrKXVbZ109dVtnLXNdO2Zvcih2YXIgbT1zLTEsYj0wO2I8cztiKyssbSs9cyl1W21dPXVbbS0xXTtyZXR1cm4gdX0oYSxvLGkpLGM9bmV3IGtvKHMpLmNyZWF0ZVRpbGUodSkuZ2V0TWVzaChuKSxsPWMudmVydGljZXMsaD1jLnRyaWFuZ2xlcyxmPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgaT1uKzEsYT1lLmxlbmd0aC8yLG89bmV3IEZsb2F0MzJBcnJheSgzKmEpLHM9bmV3IEZsb2F0MzJBcnJheSgyKmEpLHU9cnx8WzAsMCxuLG5dLGM9T2JqZWN0KEJlLmEpKHUsNCksbD1jWzBdLGg9Y1sxXSxmPWNbMl0sZD1jWzNdLHY9KGYtbCkvbixwPShkLWgpL24sZz0wO2c8YTtnKyspe3ZhciB5PWVbMipnXSxtPWVbMipnKzFdLGI9bSppK3k7b1szKmcrMF09eSp2K2wsb1szKmcrMV09LW0qcCtkLG9bMypnKzJdPXRbYl0sc1syKmcrMF09eS9uLHNbMipnKzFdPW0vbn1yZXR1cm57UE9TSVRJT046e3ZhbHVlOm8sc2l6ZTozfSxURVhDT09SRF8wOnt2YWx1ZTpzLHNpemU6Mn19fShsLHUsbyxyKTtyZXR1cm57bG9hZGVyRGF0YTp7aGVhZGVyOnt9fSxoZWFkZXI6e3ZlcnRleENvdW50OmgubGVuZ3RoLGJvdW5kaW5nQm94Ok9iamVjdChqby5hKShmKX0sbW9kZTo0LGluZGljZXM6e3ZhbHVlOmgsc2l6ZToxfSxhdHRyaWJ1dGVzOmZ9fWZ1bmN0aW9uIEVvKCl7cmV0dXJuKEVvPU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLHIpe3ZhciBpO3JldHVybiB3ZS5hLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBuLmltYWdlPW4uaW1hZ2V8fHt9LG4uaW1hZ2UudHlwZT0iZGF0YSIsZS5uZXh0PTQsci5wYXJzZSh0LG4sbi5iYXNlVXJpKTtjYXNlIDQ6cmV0dXJuIGk9ZS5zZW50LGUuYWJydXB0KCJyZXR1cm4iLFRvKGksbi50ZXJyYWluKSk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gQW8oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBNbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9BbyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChEZS5hKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6QW8oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LHtpZDoidGVycmFpbiIsbmFtZToiVGVycmFpbiIsdmVyc2lvbjoiMi4xLjEiLGV4dGVuc2lvbnM6WyJwbmciLCJwbmdyYXciXSxtaW1lVHlwZToiaW1hZ2UvcG5nIixvcHRpb25zOnt0ZXJyYWluOnt3b3JrZXJVcmw6Imh0dHBzOi8vdW5wa2cuY29tL0Bsb2FkZXJzLmdsL3RlcnJhaW5AIi5jb25jYXQoIjIuMS4xIiwiL2Rpc3QvdGVycmFpbi1sb2FkZXIud29ya2VyLmpzIiksbWVzaE1heEVycm9yOjEwLGVsZXZhdGlvbkRlY29kZXI6e3JTY2FsZXI6MSxnU2NhbGVyOjAsYlNjYWxlcjowLG9mZnNldDowfX19fSx7cGFyc2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBFby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSk7ZnVuY3Rpb24gQ28oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBMbz1bMV0sSW89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/Q28oT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtrZSgpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpDbyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sb2UuZGVmYXVsdFByb3BzLHtlbGV2YXRpb25EYXRhOlcsdGV4dHVyZTpXLG1lc2hNYXhFcnJvcjp7dHlwZToibnVtYmVyIix2YWx1ZTo0fSxib3VuZHM6e3R5cGU6ImFycmF5Iix2YWx1ZTpudWxsLG9wdGlvbmFsOiEwLGNvbXBhcmU6ITB9LGNvbG9yOnt0eXBlOiJjb2xvciIsdmFsdWU6WzI1NSwyNTUsMjU1XX0sZWxldmF0aW9uRGVjb2Rlcjp7dHlwZToib2JqZWN0Iix2YWx1ZTp7clNjYWxlcjoxLGdTY2FsZXI6MCxiU2NhbGVyOjAsb2Zmc2V0OjB9fSx3b3JrZXJVcmw6e3R5cGU6InN0cmluZyIsdmFsdWU6bnVsbH0sd2lyZWZyYW1lOiExLG1hdGVyaWFsOiEwfSk7ZnVuY3Rpb24gUm8oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5qb2luKCI7Iik6ZX12YXIgRG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB1KCkodGhpcyx0KSxmKCkodGhpcyx2KCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKHQsZSksbCgpKHQsW3trZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3BzLG49ZS5vbGRQcm9wcyxyPXQuZWxldmF0aW9uRGF0YSE9PW4uZWxldmF0aW9uRGF0YTtpZihyKXt2YXIgaT10LmVsZXZhdGlvbkRhdGEsYT1pJiYoQXJyYXkuaXNBcnJheShpKXx8aS5pbmNsdWRlcygie3h9IikmJmkuaW5jbHVkZXMoInt5fSIpKTt0aGlzLnNldFN0YXRlKHtpc1RpbGVkOmF9KX12YXIgbz1yfHx0Lm1lc2hNYXhFcnJvciE9PW4ubWVzaE1heEVycm9yfHx0LmVsZXZhdGlvbkRlY29kZXIhPT1uLmVsZXZhdGlvbkRlY29kZXJ8fHQuYm91bmRzIT09bi5ib3VuZHM7aWYoIXRoaXMuc3RhdGUuaXNUaWxlZCYmbyl7dmFyIHM9dGhpcy5sb2FkVGVycmFpbih0KTt0aGlzLnNldFN0YXRlKHt0ZXJyYWluOnN9KX19fSx7a2V5OiJsb2FkVGVycmFpbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbGV2YXRpb25EYXRhLG49ZS5ib3VuZHMscj1lLmVsZXZhdGlvbkRlY29kZXIsaT1lLm1lc2hNYXhFcnJvcixhPWUud29ya2VyVXJsO2lmKCF0KXJldHVybiBudWxsO3ZhciBvPXt0ZXJyYWluOntib3VuZHM6bixtZXNoTWF4RXJyb3I6aSxlbGV2YXRpb25EZWNvZGVyOnJ9fTtyZXR1cm4gbnVsbCE9PWEmJihvLnRlcnJhaW4ud29ya2VyVXJsPWEpLE9iamVjdChJZS5hKSh0LE1vLG8pfX0se2tleToiZ2V0VGlsZWRUZXJyYWluRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wcm9wcyxuPXQuZWxldmF0aW9uRGF0YSxyPXQudGV4dHVyZSxpPXQuZWxldmF0aW9uRGVjb2RlcixhPXQubWVzaE1heEVycm9yLG89dC53b3JrZXJVcmwscz1IKG4sZSksdT1IKHIsZSksYz1lLmJib3gsbD1lLnosaD1uZXcgU28uYSh7bG9uZ2l0dWRlOihjLndlc3QrYy5lYXN0KS8yLGxhdGl0dWRlOihjLm5vcnRoK2Muc291dGgpLzIsem9vbTpsfSksZj1oLnByb2plY3RGbGF0KFtjLndlc3QsYy5zb3V0aF0pLGQ9aC5wcm9qZWN0RmxhdChbYy5lYXN0LGMubm9ydGhdKSx2PVtmWzBdLGZbMV0sZFswXSxkWzFdXSxwPXRoaXMubG9hZFRlcnJhaW4oe2VsZXZhdGlvbkRhdGE6cyxib3VuZHM6dixlbGV2YXRpb25EZWNvZGVyOmksbWVzaE1heEVycm9yOmEsd29ya2VyVXJsOm99KSxnPXU/T2JqZWN0KEllLmEpKHUpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbH0pKTpQcm9taXNlLnJlc29sdmUobnVsbCk7cmV0dXJuIFByb21pc2UuYWxsKFtwLGddKX19LHtrZXk6InJlbmRlclN1YkxheWVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixMZS5hKSxuPWUuZGF0YSxyPWUuY29sb3IsaT1udWxsLGE9bnVsbDtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT8oaT1uWzBdLGE9blsxXSk6biYmKGk9bi50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZVswXX0pKSxhPW4udGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbMV19KSkpLG5ldyB0KGUse2RhdGE6TG8sbWVzaDppLHRleHR1cmU6YSxjb29yZGluYXRlU3lzdGVtOkFlLmEuQ0FSVEVTSUFOLGdldFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVyblswLDAsMF19LGdldENvbG9yOnJ9KX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5jb2xvcixuPWUubWF0ZXJpYWwscj1lLmVsZXZhdGlvbkRhdGEsaT1lLnRleHR1cmUsYT1lLndpcmVmcmFtZSxvPWUubWVzaE1heEVycm9yLHM9ZS5lbGV2YXRpb25EZWNvZGVyO3JldHVybiB0aGlzLnN0YXRlLmlzVGlsZWQ/bmV3IG9lKHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6InRpbGVzIn0pLHt3aXJlZnJhbWU6YSxjb2xvcjp0LG1hdGVyaWFsOm4sZ2V0VGlsZURhdGE6dGhpcy5nZXRUaWxlZFRlcnJhaW5EYXRhLmJpbmQodGhpcykscmVuZGVyU3ViTGF5ZXJzOnRoaXMucmVuZGVyU3ViTGF5ZXJzLmJpbmQodGhpcyksdXBkYXRlVHJpZ2dlcnM6e2dldFRpbGVEYXRhOntlbGV2YXRpb25EYXRhOlJvKHIpLHRleHR1cmU6Um8oaSksbWVzaE1heEVycm9yOm8sZWxldmF0aW9uRGVjb2RlcjpzfX19KTpuZXcodGhpcy5nZXRTdWJMYXllckNsYXNzKCJtZXNoIixMZS5hKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoibWVzaCJ9KSx7ZGF0YTpMbyxtZXNoOnRoaXMuc3RhdGUudGVycmFpbix0ZXh0dXJlOmksX2luc3RhbmNlZDohMSxnZXRQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm5bMCwwLDBdfSxnZXRDb2xvcjp0LG1hdGVyaWFsOm4sd2lyZWZyYW1lOmF9KX19XSksdH0ody5hKTtEby5sYXllck5hbWU9IlRlcnJhaW5MYXllciIsRG8uZGVmYXVsdFByb3BzPUlvO3ZhciBGbz1uKDg3KSxObz1uLm4oRm8pLHpvPW4oMjE1KSxCbz1uKDIxNiksVW89bi5uKEJvKSxWbz1bIlVua25vd24iLCJQb2ludCIsIkxpbmVTdHJpbmciLCJQb2x5Z29uIl07ZnVuY3Rpb24gR28oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtlW25dPVtyLngvdC5leHRlbnQsci55L3QuZXh0ZW50XX19ZnVuY3Rpb24gV28oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV9O3JldHVybiBmdW5jdGlvbigpe3ZhciBuPVZvW2UudHlwZV0scj1lLmxvYWRHZW9tZXRyeSgpO3N3aXRjaChlLnR5cGUpe2Nhc2UgMTpmb3IodmFyIGk9W10sYT0wO2E8ci5sZW5ndGg7YSsrKWlbYV09clthXVswXTt0KHI9aSxlKTticmVhaztjYXNlIDI6Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspdChyW29dLGUpO2JyZWFrO2Nhc2UgMzpyPXFvKHIpO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKWZvcih2YXIgdT0wO3U8cltzXS5sZW5ndGg7dSsrKXQocltzXVt1XSxlKX1yZXR1cm4gSG8obixlLHIpfSgpfWZ1bmN0aW9uIEhvKGUsdCxuKXt2YXIgcj1lOzE9PT1uLmxlbmd0aD9uPW5bMF06cj0iTXVsdGkiLmNvbmNhdChlKTt2YXIgaT17dHlwZToiRmVhdHVyZSIsZ2VvbWV0cnk6e3R5cGU6cixjb29yZGluYXRlczpufSxwcm9wZXJ0aWVzOnQucHJvcGVydGllc3x8e319O3JldHVybiJpZCJpbiB0JiYoaS5pZD10LmlkKSxpfWZ1bmN0aW9uIHFvKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PTEpcmV0dXJuW2VdO2Zvcih2YXIgbixyLGk9W10sYT0wO2E8dDthKyspe3ZhciBvPVhvKGVbYV0pOzAhPT1vJiYodm9pZCAwPT09ciYmKHI9bzwwKSxyPT09bzwwPyhuJiZpLnB1c2gobiksbj1bZVthXV0pOm4ucHVzaChlW2FdKSl9cmV0dXJuIG4mJmkucHVzaChuKSxpfWZ1bmN0aW9uIFhvKGUpe2Zvcih2YXIgdCxuLHI9ZS5sZW5ndGgsaT0wLGE9MCxvPXItMTthPHI7bz1hKyspdD1lW2FdLGkrPSgobj1lW29dKS54LXQueCkqKHQueStuLnkpO3JldHVybiBpfWZ1bmN0aW9uIFpvKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBZbyhlLHQpe2lmKDA9PT1lLmJ5dGVMZW5ndGgpcmV0dXJuW107dmFyIG49bmV3IHpvLlZlY3RvclRpbGUobmV3IFVvLmEoZSkpLHI9dC5tdnQsaT1bXTtyZXR1cm4oQXJyYXkuaXNBcnJheShyLmxheWVycyk/ci5sYXllcnM6T2JqZWN0LmtleXMobi5sYXllcnMpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1uLmxheWVyc1tlXSxhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1pvKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0KERlLmEpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpabyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30scix7bGF5ZXJOYW1lOmV9KTtpZih0KWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXt2YXIgcz1Lbyh0LmZlYXR1cmUobyksYSk7aS5wdXNoKHMpfX0pKSxpfWZ1bmN0aW9uIEtvKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPSJ3Z3M4NCI9PT10LmNvb3JkaW5hdGVzLHI9dC50aWxlSW5kZXgmJnQudGlsZUluZGV4LngmJnQudGlsZUluZGV4LnkmJnQudGlsZUluZGV4Lno7aWYobiYmIXIpdGhyb3cgbmV3IEVycm9yKCJNVlQgTG9hZGVyOiBXR1M4NCBjb29yZGluYXRlcyBuZWVkIHRpbGVJbmRleCBwcm9wZXJ0eS4gQ2hlY2sgZG9jdW1lbnRhdGlvbi4iKTt2YXIgaT1uJiZyP2UudG9HZW9KU09OKHQudGlsZUluZGV4LngsdC50aWxlSW5kZXgueSx0LnRpbGVJbmRleC56KTpXbyhlLEdvKTtyZXR1cm4gdC5sYXllclByb3BlcnR5JiYoaS5wcm9wZXJ0aWVzW3QubGF5ZXJQcm9wZXJ0eV09dC5sYXllck5hbWUpLGl9ZnVuY3Rpb24gUW8oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBKbywkbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9RbyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChEZS5hKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6UW8oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LHtpZDoibXZ0IixuYW1lOiJNYXBib3ggVmVjdG9yIFRpbGUiLHZlcnNpb246IjIuMS4xIixleHRlbnNpb25zOlsibXZ0Il0sbWltZVR5cGU6ImFwcGxpY2F0aW9uL3gtcHJvdG9idWYiLGNhdGVnb3J5OiJnZW9tZXRyeSIsb3B0aW9uczp7bXZ0Ontjb29yZGluYXRlczoibG9jYWwiLGxheWVyUHJvcGVydHk6ImxheWVyTmFtZSIsbGF5ZXJzOm51bGwsdGlsZUluZGV4Om51bGwsd29ya2VyVXJsOiJodHRwczovL3VucGtnLmNvbS9AbG9hZGVycy5nbC9tdnRAIi5jb25jYXQoIjIuMS4xIiwiL2Rpc3QvbXZ0LWxvYWRlci53b3JrZXIuanMiKX19fSx7cGFyc2U6KEpvPU9iamVjdChSZS5hKSh3ZS5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gd2UuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsWW8odCxuKSk7Y2FzZSAxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEpvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHBhcnNlU3luYzpZbyxiaW5hcnk6ITB9KSxlcz1uKDE5MCksdHM9e2NsaXBCb3VuZHM6WzAsMCwxLDFdfSxucz0iXG51bmlmb3JtIHZlYzQgY2xpcF9ib3VuZHM7XG5cbmJvb2wgY2xpcF9pc0luQm91bmRzKHZlYzIgcG9zaXRpb24pIHtcbiAgcmV0dXJuIHBvc2l0aW9uLnggPj0gY2xpcF9ib3VuZHNbMF0gJiYgcG9zaXRpb24ueSA+PSBjbGlwX2JvdW5kc1sxXSAmJiBwb3NpdGlvbi54IDwgY2xpcF9ib3VuZHNbMl0gJiYgcG9zaXRpb24ueSA8IGNsaXBfYm91bmRzWzNdO1xufVxuIixycz17bmFtZToiY2xpcC12cyIsdnM6bnN9LGlzPXsidnM6I2RlY2wiOiJcbnZhcnlpbmcgZmxvYXQgY2xpcF9pc1Zpc2libGU7XG4iLCJ2czpERUNLR0xfRklMVEVSX0dMX1BPU0lUSU9OIjoiXG4gIGNsaXBfaXNWaXNpYmxlID0gZmxvYXQoY2xpcF9pc0luQm91bmRzKGdlb21ldHJ5LnBvc2l0aW9uLnh5KSk7XG4iLCJmczojZGVjbCI6IlxudmFyeWluZyBmbG9hdCBjbGlwX2lzVmlzaWJsZTtcbiIsImZzOkRFQ0tHTF9GSUxURVJfQ09MT1IiOiJcbiAgaWYgKGNsaXBfaXNWaXNpYmxlIDwgMC41KSBkaXNjYXJkO1xuIn0sYXM9e25hbWU6ImNsaXAtZnMiLGZzOm5zfSxvcz17InZzOiNkZWNsIjoiXG52YXJ5aW5nIHZlYzIgY2xpcF9jb21tb25Qb3NpdGlvbjtcbiIsInZzOkRFQ0tHTF9GSUxURVJfR0xfUE9TSVRJT04iOiJcbiAgY2xpcF9jb21tb25Qb3NpdGlvbiA9IGdlb21ldHJ5LnBvc2l0aW9uLnh5O1xuIiwiZnM6I2RlY2wiOiJcbnZhcnlpbmcgdmVjMiBjbGlwX2NvbW1vblBvc2l0aW9uO1xuIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICBpZiAoIWNsaXBfaXNJbkJvdW5kcyhjbGlwX2NvbW1vblBvc2l0aW9uKSkgZGlzY2FyZDtcbiJ9LHNzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdSgpKHRoaXMsdCksZigpKHRoaXMsdigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKSh0LGUpLGwoKSh0LFt7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4iaW5zdGFuY2VQb3NpdGlvbnMiaW4gdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYXR0cmlidXRlcz97bW9kdWxlczpbcnNdLGluamVjdDppc306e21vZHVsZXM6W2FzXSxpbmplY3Q6b3N9fX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51bmlmb3JtcyxuPXRoaXMucHJvcHMuY2xpcEJvdW5kcyxyPXZvaWQgMD09PW4/dHMuY2xpcEJvdW5kczpuLGk9dGhpcy5wcm9qZWN0UG9zaXRpb24oW3JbMF0sclsxXSwwXSksYT10aGlzLnByb2plY3RQb3NpdGlvbihbclsyXSxyWzNdLDBdKTt0LmNsaXBfYm91bmRzPVtNYXRoLm1pbihpWzBdLGFbMF0pLE1hdGgubWluKGlbMV0sYVsxXSksTWF0aC5tYXgoaVswXSxhWzBdKSxNYXRoLm1heChpWzFdLGFbMV0pXX19XSksdH0oZXMuYSk7c3MuZXh0ZW5zaW9uTmFtZT0iQ2xpcEV4dGVuc2lvbiIsc3MuZGVmYXVsdFByb3BzPXRzO3ZhciB1cz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiZ2V0VGlsZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PUgodGhpcy5wcm9wcy5kYXRhLGUpO3JldHVybiB0P09iamVjdChJZS5hKSh0LCRvLHRoaXMuZ2V0TG9hZE9wdGlvbnMoKSk6UHJvbWlzZS5yZWplY3QoIkludmFsaWQgVVJMIil9fSx7a2V5OiJyZW5kZXJTdWJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUudGlsZSxyPU1hdGgucG93KDIsbi56KSxpPTUxMi9yLGE9LWksbz01MTIqbi54L3Iscz01MTIqKDEtbi55L3IpLHU9KG5ldyB2ZS5iKS50cmFuc2xhdGUoW28scywwXSkuc2NhbGUoW2ksYSwxXSk7cmV0dXJuIGUubW9kZWxNYXRyaXg9dSxlLmNvb3JkaW5hdGVTeXN0ZW09QWUuYS5DQVJURVNJQU4sZS5leHRlbnNpb25zPVtdLmNvbmNhdChObygpKGUuZXh0ZW5zaW9uc3x8W10pLFtuZXcgc3NdKSxnKCkodigpKHQucHJvdG90eXBlKSwicmVuZGVyU3ViTGF5ZXJzIix0aGlzKS5jYWxsKHRoaXMsZSl9fV0pLHR9KG9lKTt1cy5sYXllck5hbWU9Ik1WVExheWVyIixuLmQodCwiR3JlYXRDaXJjbGVMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsIlMyTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBOfSkpLG4uZCh0LCJUaWxlTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBvZX0pKSxuLmQodCwiVHJpcHNMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNlfSkpLG4uZCh0LCJIM0NsdXN0ZXJMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGhlfSkpLG4uZCh0LCJIM0hleGFnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9lfSkpLG4uZCh0LCJUaWxlM0RMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIHdvfSkpLG4uZCh0LCJUZXJyYWluTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBEb30pKSxuLmQodCwiTVZUTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiB1c30pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnIodCk7dmFyIHIsaSxhPW4oNyksbz1uLm4oYSkscz1uKDIpLHU9bi5uKHMpLGM9bigzKSxsPW4ubihjKSxoPW4oOSksZj1uLm4oaCksZD1uKDQpLHY9bi5uKGQpLHA9bigxMiksZz1uLm4ocCkseT1uKDEwKSxtPW4ubih5KSxiPW4oMjMpLF89bigxNzMpLE89bigyNTQpLHg9bigxMSksdz1uKDE3NyksUz1uKDE2MSksaz1uKDI3MCksUD1uKDI3MSksaj1uKDE0MiksVD1uKDE4OSksRT17U1VNOjEsTUVBTjoyLE1JTjozLE1BWDo0fTtmdW5jdGlvbiBBKGUsdCl7cmV0dXJuIGUrdH1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIHQ+ZT90OmV9ZnVuY3Rpb24gQyhlLHQpe3JldHVybiB0PGU/dDplfWZ1bmN0aW9uIEwoZSx0KXtzd2l0Y2goRVtlXXx8RS5TVU0pe2Nhc2UgRS5NSU46cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPWUubWFwKHQpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShDLDEvMCk6bnVsbH0oZSx0KX07Y2FzZSBFLlNVTTpyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5tYXAodCkuZmlsdGVyKE51bWJlci5pc0Zpbml0ZSk7cmV0dXJuIG4ubGVuZ3RoP24ucmVkdWNlKEEsMCk6bnVsbH0oZSx0KX07Y2FzZSBFLk1FQU46cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPWUubWFwKHQpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShBLDApL24ubGVuZ3RoOm51bGx9KGUsdCl9O2Nhc2UgRS5NQVg6cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPWUubWFwKHQpLmZpbHRlcihOdW1iZXIuaXNGaW5pdGUpO3JldHVybiBuLmxlbmd0aD9uLnJlZHVjZShNLC0xLzApOm51bGx9KGUsdCl9O2RlZmF1bHQ6cmV0dXJuIG51bGx9fXZhciBJLFI9e3Byb2plY3RQb2ludHM6ITEsdmlld3BvcnQ6bnVsbCxjcmVhdGVCdWZmZXJPYmplY3RzOiEwLG1vZHVsZVNldHRpbmdzOnt9fSxEPVszMjc3NSwzMjc3NF0sRj1bMzI3NzYsMzI3NzRdLE49WzMyNzc2LDMyNzc1XSx6PShyPXt9LG8oKShyLEUuU1VNLDMyNzc0KSxvKCkocixFLk1FQU4sMzI3NzQpLG8oKShyLEUuTUlOLEQpLG8oKShyLEUuTUFYLEYpLHIpLEI9e3NpemU6MSxvcGVyYXRpb246RS5TVU0sbmVlZE1pbjohMSxuZWVkTWF4OiExLGNvbWJpbmVNYXhNaW46ITF9LFU9KGk9e30sbygpKGksMTAyNDAsOTcyOCksbygpKGksMTAyNDEsOTcyOCksbigxMTYpKSxWPW4oNzEpLEc9KEk9e30sbygpKEksMTAyNDAsOTcyOCksbygpKEksMTAyNDEsOTcyOCksSSk7ZnVuY3Rpb24gVyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LndpZHRoLHI9dm9pZCAwPT09bj8xOm4saT10LmhlaWdodCxhPXZvaWQgMD09PWk/MTppLG89dC5kYXRhLHM9dm9pZCAwPT09bz9udWxsOm8sdT10LnVucGFja0ZsaXBZLGM9dm9pZCAwPT09dXx8dSxsPXQucGFyYW1ldGVycyxoPXZvaWQgMD09PWw/RzpsLGY9bmV3IFUuYShlLHtkYXRhOnMsZm9ybWF0Ok9iamVjdCh4LmcpKGUpPzM0ODM2OjY0MDgsdHlwZTo1MTI2LGJvcmRlcjowLG1pcG1hcHM6ITEscGFyYW1ldGVyczpoLGRhdGFGb3JtYXQ6NjQwOCx3aWR0aDpyLGhlaWdodDphLHVucGFja0ZsaXBZOmN9KTtyZXR1cm4gZn1mdW5jdGlvbiBIKGUsdCl7dmFyIG49dC5pZCxyPXQud2lkdGgsaT12b2lkIDA9PT1yPzE6cixhPXQuaGVpZ2h0LHM9dm9pZCAwPT09YT8xOmEsdT10LnRleHR1cmU7cmV0dXJuIG5ldyBWLmEoZSx7aWQ6bix3aWR0aDppLGhlaWdodDpzLGF0dGFjaG1lbnRzOm8oKSh7fSwzNjA2NCx1KX0pfWZ1bmN0aW9uIHEoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBYPVsiYWdncmVnYXRpb25CdWZmZXIiLCJtYXhNaW5CdWZmZXIiLCJtaW5CdWZmZXIiLCJtYXhCdWZmZXIiXSxaPXttYXhEYXRhOiJtYXhCdWZmZXIiLG1pbkRhdGE6Im1pbkJ1ZmZlciIsbWF4TWluRGF0YToibWF4TWluQnVmZmVyIn0sWT1bXy5hLldFQkdMMixfLmEuQ09MT1JfQVRUQUNITUVOVF9SR0JBMzJGLF8uYS5CTEVORF9FUVVBVElPTl9NSU5NQVgsXy5hLkZMT0FUX0JMRU5ELF8uYS5URVhUVVJFX0ZMT0FUXSxLPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dSgpKHRoaXMsZSksdGhpcy5pZD1uLmlkfHwiZ3B1LWdyaWQtYWdncmVnYXRvciIsdGhpcy5nbD10LHRoaXMuc3RhdGU9e3dlaWdodEF0dHJpYnV0ZXM6e30sdGV4dHVyZXM6e30sbWVhblRleHR1cmVzOnt9LGJ1ZmZlcnM6e30sZnJhbWVidWZmZXJzOnt9LG1heE1pbkZyYW1lYnVmZmVyczp7fSxtaW5GcmFtZWJ1ZmZlcnM6e30sbWF4RnJhbWVidWZmZXJzOnt9LGVxdWF0aW9uczp7fSxyZXNvdXJjZXM6e30scmVzdWx0czp7fX0sdGhpcy5faGFzR1BVU3VwcG9ydD1PYmplY3QoeC5nKSh0KSYmT2JqZWN0KE8uYykodGhpcy5nbCxfLmEuQkxFTkRfRVFVQVRJT05fTUlOTUFYLF8uYS5DT0xPUl9BVFRBQ0hNRU5UX1JHQkEzMkYsXy5hLlRFWFRVUkVfRkxPQVQpLHRoaXMuX2hhc0dQVVN1cHBvcnQmJnRoaXMuX3NldHVwTW9kZWxzKCl9cmV0dXJuIGwoKShlLG51bGwsW3trZXk6ImdldEFnZ3JlZ2F0aW9uRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZ2dyZWdhdGlvbkRhdGEsbj1lLm1heERhdGEscj1lLm1pbkRhdGEsaT1lLm1heE1pbkRhdGEsYT00KmUucGl4ZWxJbmRleCxvPXt9O3JldHVybiB0JiYoby5jZWxsQ291bnQ9dFthKzNdLG8uY2VsbFdlaWdodD10W2FdKSxpPyhvLm1heENlbGxXaWVnaHQ9aVswXSxvLm1pbkNlbGxXZWlnaHQ9aVszXSk6KG4mJihvLm1heENlbGxXaWVnaHQ9blswXSxvLnRvdGFsQ291bnQ9blszXSksciYmKG8ubWluQ2VsbFdlaWdodD1yWzBdLG8udG90YWxDb3VudD1uWzNdKSksb319LHtrZXk6ImdldENlbGxEYXRhIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5jb3VudHNEYXRhLG49ZS5zaXplLHI9dm9pZCAwPT09bj8xOm4saT10Lmxlbmd0aC80LGE9bmV3IEZsb2F0MzJBcnJheShpKnIpLG89bmV3IFVpbnQzMkFycmF5KGkpLHM9MDtzPGk7cysrKXtmb3IodmFyIHU9MDt1PHI7dSsrKWFbcypyK3VdPXRbNCpzK3VdO29bc109dFs0KnMrM119cmV0dXJue2NlbGxDb3VudHM6byxjZWxsV2VpZ2h0czphfX19LHtrZXk6ImlzU3VwcG9ydGVkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KE8uYykoZSxZKX19XSksbCgpKGUsW3trZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsLHQ9dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsLG49dGhpcy5tZWFuVHJhbnNmb3JtLHI9dGhpcy5zdGF0ZSxpPXIudGV4dHVyZXMsYT1yLmZyYW1lYnVmZmVycyxvPXIubWF4TWluRnJhbWVidWZmZXJzLHM9ci5taW5GcmFtZWJ1ZmZlcnMsdT1yLm1heEZyYW1lYnVmZmVycyxjPXIubWVhblRleHR1cmVzLGw9ci5yZXNvdXJjZXM7ZSYmZS5kZWxldGUoKSx0JiZ0LmRlbGV0ZSgpLG4mJm4uZGVsZXRlKCksZnVuY3Rpb24oZSl7KGU9QXJyYXkuaXNBcnJheShlKT9lOltlXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpZVt0XS5kZWxldGUoKX0pKX0oW2EsaSxvLHMsdSxjLGxdKX19LHtrZXk6InJ1biIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5zZXRTdGF0ZSh7cmVzdWx0czp7fX0pO3ZhciB0PXRoaXMuX25vcm1hbGl6ZUFnZ3JlZ2F0aW9uUGFyYW1zKGUpO3JldHVybiB0aGlzLl9oYXNHUFVTdXBwb3J0fHxiLmEubG9nKDEsIkdQVUdyaWRBZ2dyZWdhdG9yOiBub3Qgc3VwcG9ydGVkIikoKSx0aGlzLl9ydW5BZ2dyZWdhdGlvbih0KX19LHtrZXk6ImdldERhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49dGhpcy5zdGF0ZS5yZXN1bHRzO2Zvcih2YXIgciBpbiBuW2VdLmFnZ3JlZ2F0aW9uRGF0YXx8KG5bZV0uYWdncmVnYXRpb25EYXRhPW5bZV0uYWdncmVnYXRpb25CdWZmZXIuZ2V0RGF0YSgpKSx0LmFnZ3JlZ2F0aW9uRGF0YT1uW2VdLmFnZ3JlZ2F0aW9uRGF0YSxaKXt2YXIgaT1aW3JdOyhuW2VdW3JdfHxuW2VdW2ldKSYmKG5bZV1bcl09bltlXVtyXXx8bltlXVtpXS5nZXREYXRhKCksdFtyXT1uW2VdW3JdKX1yZXR1cm4gdH19LHtrZXk6InVwZGF0ZVNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuc2V0U3RhdGUoe3NoYWRlck9wdGlvbnM6ZSxtb2RlbERpcnR5OiEwfSl9fSx7a2V5OiJfbm9ybWFsaXplQWdncmVnYXRpb25QYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5hc3NpZ24oe30sUixlKSxuPXQud2VpZ2h0cztyZXR1cm4gbiYmKHQud2VpZ2h0cz1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl0W25dPU9iamVjdC5hc3NpZ24oe30sQixlW25dKTtyZXR1cm4gdH0obikpLHR9fSx7a2V5OiJzZXRTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7T2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLGUpfX0se2tleToiX2dldEFnZ3JlZ2F0ZURhdGEiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49dGhpcy5zdGF0ZSxyPW4udGV4dHVyZXMsaT1uLmZyYW1lYnVmZmVycyxhPW4ubWF4TWluRnJhbWVidWZmZXJzLG89bi5taW5GcmFtZWJ1ZmZlcnMscz1uLm1heEZyYW1lYnVmZmVycyx1PW4ucmVzb3VyY2VzLGM9ZS53ZWlnaHRzO2Zvcih2YXIgbCBpbiBjKXt0W2xdPXt9O3ZhciBoPWNbbF0sZj1oLm5lZWRNaW4sZD1oLm5lZWRNYXgsdj1oLmNvbWJpbmVNYXhNaW47dFtsXS5hZ2dyZWdhdGlvblRleHR1cmU9cltsXSx0W2xdLmFnZ3JlZ2F0aW9uQnVmZmVyPU9iamVjdCh3LmQpKGlbbF0se3RhcmdldDpjW2xdLmFnZ3JlZ2F0aW9uQnVmZmVyLHNvdXJjZVR5cGU6NTEyNn0pLGYmJmQmJnY/KHRbbF0ubWF4TWluQnVmZmVyPU9iamVjdCh3LmQpKGFbbF0se3RhcmdldDpjW2xdLm1heE1pbkJ1ZmZlcixzb3VyY2VUeXBlOjUxMjZ9KSx0W2xdLm1heE1pblRleHR1cmU9dVsiIi5jb25jYXQobCwiLW1heE1pblRleHR1cmUiKV0pOihmJiYodFtsXS5taW5CdWZmZXI9T2JqZWN0KHcuZCkob1tsXSx7dGFyZ2V0OmNbbF0ubWluQnVmZmVyLHNvdXJjZVR5cGU6NTEyNn0pLHRbbF0ubWluVGV4dHVyZT11WyIiLmNvbmNhdChsLCItbWluVGV4dHVyZSIpXSksZCYmKHRbbF0ubWF4QnVmZmVyPU9iamVjdCh3LmQpKHNbbF0se3RhcmdldDpjW2xdLm1heEJ1ZmZlcixzb3VyY2VUeXBlOjUxMjZ9KSx0W2xdLm1heFRleHR1cmU9dVsiIi5jb25jYXQobCwiLW1heFRleHR1cmUiKV0pKX1yZXR1cm4gdGhpcy5fdHJhY2tHUFVSZXN1bHRCdWZmZXJzKHQsYyksdH19LHtrZXk6Il9yZW5kZXJBZ2dyZWdhdGVEYXRhIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNlbGxTaXplLG49ZS5wcm9qZWN0UG9pbnRzLHI9ZS5hdHRyaWJ1dGVzLGk9ZS5tb2R1bGVTZXR0aW5ncyxhPWUubnVtQ29sLG89ZS5udW1Sb3cscz1lLndlaWdodHMsdT1lLnRyYW5zbGF0aW9uLGM9ZS5zY2FsaW5nLGw9dGhpcy5zdGF0ZSxoPWwubWF4TWluRnJhbWVidWZmZXJzLGY9bC5taW5GcmFtZWJ1ZmZlcnMsZD1sLm1heEZyYW1lYnVmZmVycyx2PVthLG9dLHA9e2JsZW5kOiEwLGRlcHRoVGVzdDohMSxibGVuZEZ1bmM6WzEsMV19LGc9e2NlbGxTaXplOnQsZ3JpZFNpemU6dixwcm9qZWN0UG9pbnRzOm4sdHJhbnNsYXRpb246dSxzY2FsaW5nOmN9O2Zvcih2YXIgeSBpbiBzKXt2YXIgbT1zW3ldLGI9bS5uZWVkTWluLF89bS5uZWVkTWF4LE89YiYmXyYmc1t5XS5jb21iaW5lTWF4TWluO3RoaXMuX3JlbmRlclRvV2VpZ2h0c1RleHR1cmUoe2lkOnkscGFyYW1ldGVyczpwLG1vZHVsZVNldHRpbmdzOmksdW5pZm9ybXM6ZyxncmlkU2l6ZTp2LGF0dHJpYnV0ZXM6cix3ZWlnaHRzOnN9KSxPP3RoaXMuX3JlbmRlclRvTWF4TWluVGV4dHVyZSh7aWQ6eSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe30scCx7YmxlbmRFcXVhdGlvbjpOfSksZ3JpZFNpemU6dixtaW5Pck1heEZiOmhbeV0sY2xlYXJQYXJhbXM6e2NsZWFyQ29sb3I6WzAsMCwwLDM0MDI4MjM0NjZlMjldfSxjb21iaW5lTWF4TWluOk99KTooYiYmdGhpcy5fcmVuZGVyVG9NYXhNaW5UZXh0dXJlKHtpZDp5LHBhcmFtZXRlcnM6T2JqZWN0LmFzc2lnbih7fSxwLHtibGVuZEVxdWF0aW9uOkR9KSxncmlkU2l6ZTp2LG1pbk9yTWF4RmI6Zlt5XSxjbGVhclBhcmFtczp7Y2xlYXJDb2xvcjpbMzQwMjgyMzQ2NmUyOSwzNDAyODIzNDY2ZTI5LDM0MDI4MjM0NjZlMjksMF19LGNvbWJpbmVNYXhNaW46T30pLF8mJnRoaXMuX3JlbmRlclRvTWF4TWluVGV4dHVyZSh7aWQ6eSxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe30scCx7YmxlbmRFcXVhdGlvbjpGfSksZ3JpZFNpemU6dixtaW5Pck1heEZiOmRbeV0sY2xlYXJQYXJhbXM6e2NsZWFyQ29sb3I6WzAsMCwwLDBdfSxjb21iaW5lTWF4TWluOk99KSl9fX0se2tleToiX3JlbmRlclRvTWF4TWluVGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZCxuPWUucGFyYW1ldGVycyxyPWUuZ3JpZFNpemUsaT1lLm1pbk9yTWF4RmIsYT1lLmNvbWJpbmVNYXhNaW4sbz1lLmNsZWFyUGFyYW1zLHM9dm9pZCAwPT09bz97fTpvLHU9dGhpcy5zdGF0ZS5mcmFtZWJ1ZmZlcnMsYz10aGlzLmdsLGw9dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsO2kuYmluZCgpLGMudmlld3BvcnQoMCwwLHJbMF0sclsxXSksT2JqZWN0KHgubCkoYyxzLChmdW5jdGlvbigpe2MuY2xlYXIoMTYzODQpfSkpLGwuZHJhdyh7cGFyYW1ldGVyczpuLHVuaWZvcm1zOnt1U2FtcGxlcjp1W3RdLnRleHR1cmUsZ3JpZFNpemU6cixjb21iaW5lTWF4TWluOmF9fSksaS51bmJpbmQoKX19LHtrZXk6Il9yZW5kZXJUb1dlaWdodHNUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmlkLG49ZS5wYXJhbWV0ZXJzLHI9ZS5tb2R1bGVTZXR0aW5ncyxpPWUudW5pZm9ybXMsYT1lLmdyaWRTaXplLHM9ZS53ZWlnaHRzLHU9dGhpcy5zdGF0ZSxjPXUuZnJhbWVidWZmZXJzLGw9dS5lcXVhdGlvbnMsaD11LndlaWdodEF0dHJpYnV0ZXMsZj10aGlzLmdsLGQ9dGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbCx2PXNbdF0ub3BlcmF0aW9uO2NbdF0uYmluZCgpLGYudmlld3BvcnQoMCwwLGFbMF0sYVsxXSk7dmFyIHA9dj09PUUuTUlOP1szNDAyODIzNDY2ZTI5LDM0MDI4MjM0NjZlMjksMzQwMjgyMzQ2NmUyOSwwXTpbMCwwLDAsMF07T2JqZWN0KHgubCkoZix7Y2xlYXJDb2xvcjpwfSwoZnVuY3Rpb24oKXtmLmNsZWFyKDE2Mzg0KX0pKTt2YXIgZz17d2VpZ2h0czpoW3RdfTtpZihkLmRyYXcoe3BhcmFtZXRlcnM6T2JqZWN0LmFzc2lnbih7fSxuLHtibGVuZEVxdWF0aW9uOmxbdF19KSxtb2R1bGVTZXR0aW5nczpyLHVuaWZvcm1zOmksYXR0cmlidXRlczpnfSksY1t0XS51bmJpbmQoKSx2PT09RS5NRUFOKXt2YXIgeT10aGlzLnN0YXRlLG09eS5tZWFuVGV4dHVyZXMsYj15LnRleHR1cmVzLF89e19zb3VyY2VUZXh0dXJlczp7YWdncmVnYXRpb25WYWx1ZXM6bVt0XX0sX3RhcmdldFRleHR1cmU6Ylt0XSxlbGVtZW50Q291bnQ6Ylt0XS53aWR0aCpiW3RdLmhlaWdodH07dGhpcy5tZWFuVHJhbnNmb3JtP3RoaXMubWVhblRyYW5zZm9ybS51cGRhdGUoXyk6dGhpcy5tZWFuVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBrLmEoZSxPYmplY3QuYXNzaWduKHt9LHt2czoiI2RlZmluZSBTSEFERVJfTkFNRSBncHUtYWdncmVnYXRpb24tdHJhbnNmb3JtLW1lYW4tdnNcbmF0dHJpYnV0ZSB2ZWM0IGFnZ3JlZ2F0aW9uVmFsdWVzO1xudmFyeWluZyB2ZWM0IG1lYW5WYWx1ZXM7XG5cbnZvaWQgbWFpbigpXG57XG4gIGJvb2wgaXNDZWxsVmFsaWQgPSBib29sKGFnZ3JlZ2F0aW9uVmFsdWVzLncgPiAwLik7XG4gIG1lYW5WYWx1ZXMueHl6ID0gaXNDZWxsVmFsaWQgPyBhZ2dyZWdhdGlvblZhbHVlcy54eXovYWdncmVnYXRpb25WYWx1ZXMudyA6IHZlYzMoMCwgMCwgMCk7XG4gIG1lYW5WYWx1ZXMudyA9IGFnZ3JlZ2F0aW9uVmFsdWVzLnc7XG59XG4iLF90YXJnZXRUZXh0dXJlVmFyeWluZzoibWVhblZhbHVlcyJ9LHQpKX0oZixfKSx0aGlzLm1lYW5UcmFuc2Zvcm0ucnVuKHtwYXJhbWV0ZXJzOntibGVuZDohMSxkZXB0aFRlc3Q6ITF9fSksY1t0XS5hdHRhY2gobygpKHt9LDM2MDY0LGJbdF0pKX19fSx7a2V5OiJfcnVuQWdncmVnYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3VwZGF0ZU1vZGVscyhlKSx0aGlzLl9zZXR1cEZyYW1lYnVmZmVycyhlKSx0aGlzLl9yZW5kZXJBZ2dyZWdhdGVEYXRhKGUpO3ZhciB0PXRoaXMuX2dldEFnZ3JlZ2F0ZURhdGEoZSk7cmV0dXJuIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdHM6dH0pLHR9fSx7a2V5OiJfc2V0dXBGcmFtZWJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhdGUsbj10LnRleHR1cmVzLHI9dC5mcmFtZWJ1ZmZlcnMsaT10Lm1heE1pbkZyYW1lYnVmZmVycyxhPXQubWluRnJhbWVidWZmZXJzLHM9dC5tYXhGcmFtZWJ1ZmZlcnMsdT10Lm1lYW5UZXh0dXJlcyxjPXQuZXF1YXRpb25zLGw9ZS53ZWlnaHRzLGg9ZS5udW1Db2wsZj1lLm51bVJvdyxkPXt3aWR0aDpoLGhlaWdodDpmfTtmb3IodmFyIHYgaW4gbCl7dmFyIHA9bFt2XSxnPXAubmVlZE1pbix5PXAubmVlZE1heCxtPXAuY29tYmluZU1heE1pbixiPXAub3BlcmF0aW9uO25bdl09bFt2XS5hZ2dyZWdhdGlvblRleHR1cmV8fG5bdl18fFcodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi10ZXh0dXJlIiksd2lkdGg6aCxoZWlnaHQ6Zn0pLG5bdl0ucmVzaXplKGQpO3ZhciBfPW5bdl07Yj09PUUuTUVBTiYmKHVbdl09dVt2XXx8Vyh0aGlzLmdsLHtpZDoiIi5jb25jYXQodiwiLW1lYW4tdGV4dHVyZSIpLHdpZHRoOmgsaGVpZ2h0OmZ9KSx1W3ZdLnJlc2l6ZShkKSxfPXVbdl0pLHJbdl0/clt2XS5hdHRhY2gobygpKHt9LDM2MDY0LF8pKTpyW3ZdPUgodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi1mYiIpLHdpZHRoOmgsaGVpZ2h0OmYsdGV4dHVyZTpffSksclt2XS5yZXNpemUoZCksY1t2XT16W2JdfHx6LlNVTSwoZ3x8eSkmJihnJiZ5JiZtP2lbdl18fChfPWxbdl0ubWF4TWluVGV4dHVyZXx8dGhpcy5fZ2V0TWluTWF4VGV4dHVyZSgiIi5jb25jYXQodiwiLW1heE1pblRleHR1cmUiKSksaVt2XT1IKHRoaXMuZ2wse2lkOiIiLmNvbmNhdCh2LCItbWF4TWluRmIiKSx0ZXh0dXJlOl99KSk6KGcmJihhW3ZdfHwoXz1sW3ZdLm1pblRleHR1cmV8fHRoaXMuX2dldE1pbk1heFRleHR1cmUoIiIuY29uY2F0KHYsIi1taW5UZXh0dXJlIikpLGFbdl09SCh0aGlzLmdsLHtpZDoiIi5jb25jYXQodiwiLW1pbkZiIiksdGV4dHVyZTpffSkpKSx5JiYoc1t2XXx8KF89bFt2XS5tYXhUZXh0dXJlfHx0aGlzLl9nZXRNaW5NYXhUZXh0dXJlKCIiLmNvbmNhdCh2LCItbWF4VGV4dHVyZSIpKSxzW3ZdPUgodGhpcy5nbCx7aWQ6IiIuY29uY2F0KHYsIi1tYXhGYiIpLHRleHR1cmU6X30pKSkpKX19fSx7a2V5OiJfZ2V0TWluTWF4VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZS5yZXNvdXJjZXM7cmV0dXJuIHRbZV18fCh0W2VdPVcodGhpcy5nbCx7aWQ6InJlc291cmNlTmFtZSJ9KSksdFtlXX19LHtrZXk6Il9zZXR1cE1vZGVscyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLm51bUNvbCxuPXZvaWQgMD09PXQ/MDp0LHI9ZS5udW1Sb3csaT12b2lkIDA9PT1yPzA6cixhPXRoaXMuZ2wsbz10aGlzLnN0YXRlLnNoYWRlck9wdGlvbnM7aWYodGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbCYmdGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbC5kZWxldGUoKSx0aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsPVEoYSxvKSwhdGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsKXt2YXIgcz1uKmk7dGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsPUooYSxzKX19fSx7a2V5OiJfc2V0dXBXZWlnaHRBdHRyaWJ1dGVzIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLndlaWdodEF0dHJpYnV0ZXMsbj1lLndlaWdodHM7Zm9yKHZhciByIGluIG4pdFtyXT1lLmF0dHJpYnV0ZXNbcl19fSx7a2V5OiJfdHJhY2tHUFVSZXN1bHRCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc3RhdGUucmVzb3VyY2VzO2Zvcih2YXIgciBpbiBlKWlmKGVbcl0pe3ZhciBpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PVhbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz11Lm5leHQoKSkuZG9uZSk7aT0hMCl7dmFyIGM9cy52YWx1ZTtpZihlW3JdW2NdJiZ0W3JdW2NdIT09ZVtyXVtjXSl7dmFyIGw9ImdwdS1yZXN1bHQtIi5jb25jYXQociwiLSIpLmNvbmNhdChjKTtuW2xdJiZuW2xdLmRlbGV0ZSgpLG5bbF09ZVtyXVtjXX19fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19fX0se2tleToiX3VwZGF0ZU1vZGVscyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52ZXJ0ZXhDb3VudCxuPWUuYXR0cmlidXRlcyxyPWUubnVtQ29sLGk9ZS5udW1Sb3c7dGhpcy5zdGF0ZS5tb2RlbERpcnR5JiYodGhpcy5fc2V0dXBNb2RlbHMoZSksdGhpcy5zZXRTdGF0ZSh7bW9kZWxEaXJ0eTohMX0pKSx0aGlzLl9zZXR1cFdlaWdodEF0dHJpYnV0ZXMoZSksdGhpcy5ncmlkQWdncmVnYXRpb25Nb2RlbC5zZXRWZXJ0ZXhDb3VudCh0KSx0aGlzLmdyaWRBZ2dyZWdhdGlvbk1vZGVsLnNldEF0dHJpYnV0ZXMobiksdGhpcy5hbGxBZ2dyZWdhdGlvbk1vZGVsLnNldEluc3RhbmNlQ291bnQocippKX19XSksZX0oKTtmdW5jdGlvbiBRKGUsdCl7dmFyIG49T2JqZWN0KGouYSkoe3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIGdwdS1hZ2dyZWdhdGlvbi10by1ncmlkLXZzXG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uczY0TG93O1xuYXR0cmlidXRlIHZlYzMgd2VpZ2h0cztcbnVuaWZvcm0gdmVjMiBjZWxsU2l6ZTtcbnVuaWZvcm0gdmVjMiBncmlkU2l6ZTtcbnVuaWZvcm0gYm9vbCBwcm9qZWN0UG9pbnRzO1xudW5pZm9ybSB2ZWMyIHRyYW5zbGF0aW9uO1xudW5pZm9ybSB2ZWMzIHNjYWxpbmc7XG5cbnZhcnlpbmcgdmVjMyB2V2VpZ2h0cztcblxudmVjMiBwcm9qZWN0X3RvX3BpeGVsKHZlYzQgcG9zKSB7XG4gIHZlYzQgcmVzdWx0O1xuICBwb3MueHkgPSBwb3MueHkvcG9zLnc7XG4gIHJlc3VsdCA9IHBvcyArIHZlYzQodHJhbnNsYXRpb24sIDAuLCAwLik7XG4gIHJlc3VsdC54eSA9IHNjYWxpbmcueiA+IDAuID8gcmVzdWx0Lnh5ICogc2NhbGluZy54eSA6IHJlc3VsdC54eTtcbiAgcmV0dXJuIHJlc3VsdC54eTtcbn1cblxudm9pZCBtYWluKHZvaWQpIHtcblxuICB2V2VpZ2h0cyA9IHdlaWdodHM7XG5cbiAgdmVjNCB3aW5kb3dQb3MgPSB2ZWM0KHBvc2l0aW9ucywgMS4pO1xuICBpZiAocHJvamVjdFBvaW50cykge1xuICAgIHdpbmRvd1BvcyA9IHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKHBvc2l0aW9ucywgcG9zaXRpb25zNjRMb3csIHZlYzMoMCkpO1xuICB9XG5cbiAgdmVjMiBwb3MgPSBwcm9qZWN0X3RvX3BpeGVsKHdpbmRvd1Bvcyk7XG5cbiAgdmVjMiBwaXhlbFhZNjRbMl07XG4gIHBpeGVsWFk2NFswXSA9IHZlYzIocG9zLngsIDAuKTtcbiAgcGl4ZWxYWTY0WzFdID0gdmVjMihwb3MueSwgMC4pO1xuICB2ZWMyIGdyaWRYWTY0WzJdO1xuICBncmlkWFk2NFswXSA9IGRpdl9mcDY0KHBpeGVsWFk2NFswXSwgdmVjMihjZWxsU2l6ZS54LCAwKSk7XG4gIGdyaWRYWTY0WzFdID0gZGl2X2ZwNjQocGl4ZWxYWTY0WzFdLCB2ZWMyKGNlbGxTaXplLnksIDApKTtcbiAgZmxvYXQgeCA9IGZsb29yKGdyaWRYWTY0WzBdLngpO1xuICBmbG9hdCB5ID0gZmxvb3IoZ3JpZFhZNjRbMV0ueCk7XG4gIHBvcyA9IHZlYzIoeCwgeSk7XG4gIHBvcyA9IChwb3MgKiAoMi4sIDIuKSAvIChncmlkU2l6ZSkpIC0gKDEuLCAxLik7XG4gIHZlYzIgb2Zmc2V0ID0gMS4wIC8gZ3JpZFNpemU7XG4gIHBvcyA9IHBvcyArIG9mZnNldDtcblxuICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zLCAwLjAsIDEuMCk7XG4gIGdsX1BvaW50U2l6ZSA9IDEuMDtcbn1cbiIsZnM6IiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLXRvLWdyaWQtZnNcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG52YXJ5aW5nIHZlYzMgdldlaWdodHM7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodldlaWdodHMsIDEuMCk7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iLG1vZHVsZXM6W1AuYixULmFdfSx0KTtyZXR1cm4gbmV3IFMuYShlLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3EoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvKCkoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHtpZDoiR2lyZC1BZ2dyZWdhdGlvbi1Nb2RlbCIsdmVydGV4Q291bnQ6MSxkcmF3TW9kZTowfSxuKSl9ZnVuY3Rpb24gSihlLHQpe3JldHVybiBuZXcgUy5hKGUse2lkOiJBbGwtQWdncmVnYXRpb24tTW9kZWwiLHZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLWFsbC12cy02NFxuXG5pbiB2ZWMyIHBvc2l0aW9uO1xudW5pZm9ybSBpdmVjMiBncmlkU2l6ZTtcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIHZlYzIgcG9zID0gdmVjMigtMS4wLCAtMS4wKTtcbiAgdmVjMiBvZmZzZXQgPSAxLjAgLyB2ZWMyKGdyaWRTaXplKTtcbiAgcG9zID0gcG9zICsgb2Zmc2V0O1xuXG4gIGdsX1Bvc2l0aW9uID0gdmVjNChwb3MsIDAuMCwgMS4wKTtcblxuICBpbnQgeUluZGV4ID0gZ2xfSW5zdGFuY2VJRCAvIGdyaWRTaXplWzBdO1xuICBpbnQgeEluZGV4ID0gZ2xfSW5zdGFuY2VJRCAtICh5SW5kZXggKiBncmlkU2l6ZVswXSk7XG5cbiAgdmVjMiB5SW5kZXhGUDY0ID0gdmVjMihmbG9hdCh5SW5kZXgpLCAwLik7XG4gIHZlYzIgeEluZGV4RlA2NCA9IHZlYzIoZmxvYXQoeEluZGV4KSwgMC4pO1xuICB2ZWMyIGdyaWRTaXplWUZQNjQgPSB2ZWMyKGdyaWRTaXplWzFdLCAwLik7XG4gIHZlYzIgZ3JpZFNpemVYRlA2NCA9IHZlYzIoZ3JpZFNpemVbMF0sIDAuKTtcblxuICB2ZWMyIHRleENvb3JkWEZQNjQgPSBkaXZfZnA2NCh5SW5kZXhGUDY0LCBncmlkU2l6ZVlGUDY0KTtcbiAgdmVjMiB0ZXhDb29yZFlGUDY0ID0gZGl2X2ZwNjQoeEluZGV4RlA2NCwgZ3JpZFNpemVYRlA2NCk7XG5cbiAgdlRleHR1cmVDb29yZCA9IHZlYzIodGV4Q29vcmRZRlA2NC54LCB0ZXhDb29yZFhGUDY0LngpO1xuICBnbF9Qb2ludFNpemUgPSAxLjA7XG59XG4iLGZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWFnZ3JlZ2F0aW9uLWFsbC1mc1xuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbmluIHZlYzIgdlRleHR1cmVDb29yZDtcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xudW5pZm9ybSBib29sIGNvbWJpbmVNYXhNaW47XG5vdXQgdmVjNCBmcmFnQ29sb3I7XG52b2lkIG1haW4odm9pZCkge1xuICB2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC5zLCB2VGV4dHVyZUNvb3JkLnQpKTtcbiAgaWYgKHRleHR1cmVDb2xvci5hID09IDAuKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuICBmcmFnQ29sb3IucmdiID0gdGV4dHVyZUNvbG9yLnJnYjtcbiAgZnJhZ0NvbG9yLmEgPSBjb21iaW5lTWF4TWluID8gdGV4dHVyZUNvbG9yLnIgOiB0ZXh0dXJlQ29sb3IuYTtcbn1cbiIsbW9kdWxlczpbUC5iXSx2ZXJ0ZXhDb3VudDoxLGRyYXdNb2RlOjAsaXNJbnN0YW5jZWQ6ITAsaW5zdGFuY2VDb3VudDp0LGF0dHJpYnV0ZXM6e3Bvc2l0aW9uOlswLDBdfX0pfXZhciAkPW4oNjApLGVlPW4oMjA2KSx0ZT1uKDEwOCksbmU9W1syNTUsMjU1LDE3OF0sWzI1NCwyMTcsMTE4XSxbMjU0LDE3OCw3Nl0sWzI1MywxNDEsNjBdLFsyNDAsNTksMzJdLFsxODksMCwzOF1dO2Z1bmN0aW9uIHJlKGUpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpGbG9hdDMyQXJyYXk7aWYoTnVtYmVyLmlzRmluaXRlKGVbMF0pKXQ9bmV3IHIoZSk7ZWxzZXt0PW5ldyByKDQqZS5sZW5ndGgpO2Zvcih2YXIgaT0wLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIG89ZVthXTt0W2krK109b1swXSx0W2krK109b1sxXSx0W2krK109b1syXSx0W2krK109TnVtYmVyLmlzRmluaXRlKG9bM10pP29bM106MjU1fX1pZihuKWZvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXRbc10vPTI1NTtyZXR1cm4gdH12YXIgaWU9WzAsMCwwLDBdLGFlPVswLDI1NSwwLDI1NV0sb2U9WyJtaW5Db2xvciIsIm1heENvbG9yIiwiY29sb3JSYW5nZSIsImNvbG9yRG9tYWluIl0sc2U9e2NlbGxTaXplUGl4ZWxzOnt2YWx1ZToxMDAsbWluOjF9LGNlbGxNYXJnaW5QaXhlbHM6e3ZhbHVlOjIsbWluOjAsbWF4OjV9LGNvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpuZX0sdWU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB1KCkodGhpcyx0KSxmKCkodGhpcyx2KCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKHQsZSksbCgpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3ZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjcmVlbi1ncmlkLWxheWVyLXZlcnRleC1zaGFkZXJcbiNkZWZpbmUgUkFOR0VfQ09VTlQgNlxuXG5hdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbnM7XG5hdHRyaWJ1dGUgdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ291bnRzO1xuYXR0cmlidXRlIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xuXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIHZlYzMgY2VsbFNjYWxlO1xudW5pZm9ybSB2ZWM0IG1pbkNvbG9yO1xudW5pZm9ybSB2ZWM0IG1heENvbG9yO1xudW5pZm9ybSB2ZWM0IGNvbG9yUmFuZ2VbUkFOR0VfQ09VTlRdO1xudW5pZm9ybSB2ZWMyIGNvbG9yRG9tYWluO1xudW5pZm9ybSBib29sIHNob3VsZFVzZU1pbk1heDtcbnVuaWZvcm0gc2FtcGxlcjJEIG1heFRleHR1cmU7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IHZTYW1wbGVDb3VudDtcblxudmVjNCBxdWFudGl6ZVNjYWxlKHZlYzIgZG9tYWluLCB2ZWM0IHJhbmdlW1JBTkdFX0NPVU5UXSwgZmxvYXQgdmFsdWUpIHtcbiAgdmVjNCBvdXRDb2xvciA9IHZlYzQoMC4sIDAuLCAwLiwgMC4pO1xuICBpZiAodmFsdWUgPj0gZG9tYWluLnggJiYgdmFsdWUgPD0gZG9tYWluLnkpIHtcbiAgICBmbG9hdCBkb21haW5SYW5nZSA9IGRvbWFpbi55IC0gZG9tYWluLng7XG4gICAgaWYgKGRvbWFpblJhbmdlIDw9IDAuKSB7XG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb2F0IHJhbmdlQ291bnQgPSBmbG9hdChSQU5HRV9DT1VOVCk7XG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XG4gICAgICBmbG9hdCBpZHggPSBmbG9vcigodmFsdWUgLSBkb21haW4ueCkgLyByYW5nZVN0ZXApO1xuICAgICAgaWR4ID0gY2xhbXAoaWR4LCAwLiwgcmFuZ2VDb3VudCAtIDEuKTtcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcbiAgICAgIG91dENvbG9yID0gY29sb3JSYW5nZVtpbnRJZHhdO1xuICAgIH1cbiAgfVxuICBvdXRDb2xvciA9IG91dENvbG9yIC8gMjU1LjtcbiAgcmV0dXJuIG91dENvbG9yO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuICB2U2FtcGxlQ291bnQgPSBpbnN0YW5jZUNvdW50cy5hO1xuXG4gIGZsb2F0IHdlaWdodCA9IGluc3RhbmNlQ291bnRzLnI7XG4gIGZsb2F0IG1heFdlaWdodCA9IHRleHR1cmUyRChtYXhUZXh0dXJlLCB2ZWMyKDAuNSkpLnI7XG5cbiAgZmxvYXQgc3RlcCA9IHdlaWdodCAvIG1heFdlaWdodDtcbiAgdmVjNCBtaW5NYXhDb2xvciA9IG1peChtaW5Db2xvciwgbWF4Q29sb3IsIHN0ZXApIC8gMjU1LjtcblxuICB2ZWMyIGRvbWFpbiA9IGNvbG9yRG9tYWluO1xuICBmbG9hdCBkb21haW5NYXhWYWxpZCA9IGZsb2F0KGNvbG9yRG9tYWluLnkgIT0gMC4pO1xuICBkb21haW4ueSA9IG1peChtYXhXZWlnaHQsIGNvbG9yRG9tYWluLnksIGRvbWFpbk1heFZhbGlkKTtcbiAgdmVjNCByYW5nZUNvbG9yID0gcXVhbnRpemVTY2FsZShkb21haW4sIGNvbG9yUmFuZ2UsIHdlaWdodCk7XG5cbiAgZmxvYXQgcmFuZ2VNaW5NYXggPSBmbG9hdChzaG91bGRVc2VNaW5NYXgpO1xuICB2ZWM0IGNvbG9yID0gbWl4KHJhbmdlQ29sb3IsIG1pbk1heENvbG9yLCByYW5nZU1pbk1heCk7XG4gIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSk7XG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XG5cbiAgZ2xfUG9zaXRpb24gPSB2ZWM0KGluc3RhbmNlUG9zaXRpb25zICsgcG9zaXRpb25zICogY2VsbFNjYWxlLCAxLik7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHNjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52YXJ5aW5nIGZsb2F0IHZTYW1wbGVDb3VudDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgaWYgKHZTYW1wbGVDb3VudCA8PSAwLjApIHtcbiAgICBkaXNjYXJkO1xuICB9XG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcblxuICBERUNLR0xfRklMVEVSX0NPTE9SKGdsX0ZyYWdDb2xvciwgZ2VvbWV0cnkpO1xufVxuIixtb2R1bGVzOltlZS5hXX19fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VQb3NpdGlvbnM6e3NpemU6Myx1cGRhdGU6dGhpcy5jYWxjdWxhdGVJbnN0YW5jZVBvc2l0aW9uc30saW5zdGFuY2VDb3VudHM6e3NpemU6NCxub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKGUpfSl9fSx7a2V5OiJzaG91bGRVcGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhbmdlRmxhZ3Muc29tZXRoaW5nQ2hhbmdlZH19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1lLm9sZFByb3BzLHI9ZS5wcm9wcyxpPWUuY2hhbmdlRmxhZ3M7ZygpKHYoKSh0LnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMse29sZFByb3BzOm4scHJvcHM6cixjaGFuZ2VGbGFnczppfSk7dmFyIGE9dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7ci5udW1JbnN0YW5jZXMhPT1uLm51bUluc3RhbmNlcz9hLmludmFsaWRhdGVBbGwoKTpuLmNlbGxTaXplUGl4ZWxzIT09ci5jZWxsU2l6ZVBpeGVscyYmYS5pbnZhbGlkYXRlKCJpbnN0YW5jZVBvc2l0aW9ucyIpLHRoaXMuX3VwZGF0ZVVuaWZvcm1zKG4scixpKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudW5pZm9ybXMsbj10aGlzLnByb3BzLHI9bi5wYXJhbWV0ZXJzLGk9bi5tYXhUZXh0dXJlLGE9dGhpcy5wcm9wcy5taW5Db2xvcnx8aWUsbz10aGlzLnByb3BzLm1heENvbG9yfHxhZSxzPXRoaXMucHJvcHMuY29sb3JEb21haW58fFsxLDBdLHU9dGhpcy5zdGF0ZS5tb2RlbCxjPXttaW5Db2xvcjphLG1heENvbG9yOm8sbWF4VGV4dHVyZTppLGNvbG9yRG9tYWluOnN9O3Q9T2JqZWN0LmFzc2lnbihjLHQpLHUuZHJhdyh7dW5pZm9ybXM6dCxwYXJhbWV0ZXJzOk9iamVjdC5hc3NpZ24oe2RlcHRoVGVzdDohMSxkZXB0aE1hc2s6ITF9LHIpfSl9fSx7a2V5OiJjYWxjdWxhdGVJbnN0YW5jZVBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5udW1JbnN0YW5jZXMscj10aGlzLmNvbnRleHQudmlld3BvcnQsaT1yLndpZHRoLGE9ci5oZWlnaHQsbz10aGlzLnByb3BzLmNlbGxTaXplUGl4ZWxzLHM9TWF0aC5jZWlsKGkvbyksdT1lLnZhbHVlLGM9ZS5zaXplLGw9MDtsPG47bCsrKXt2YXIgaD1sJXMsZj1NYXRoLmZsb29yKGwvcyk7dVtsKmMrMF09aCpvL2kqMi0xLHVbbCpjKzFdPTEtZipvL2EqMix1W2wqYysyXT0wfX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTLmEoZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyAkLmEoe2RyYXdNb2RlOjYsYXR0cmlidXRlczp7cG9zaXRpb25zOm5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDEsMCwwLDEsMSwwLDAsMSwwXSl9fSksaXNJbnN0YW5jZWQ6ITB9KSl9fSx7a2V5OiJfc2hvdWxkVXNlTWluTWF4Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLm1pbkNvbG9yLG49ZS5tYXhDb2xvcixyPWUuY29sb3JEb21haW4saT1lLmNvbG9yUmFuZ2U7cmV0dXJuIHR8fG4/KGIuYS5kZXByZWNhdGVkKCJTY3JlZW5HcmlkTGF5ZXIgcHJvcHM6IG1pbkNvbG9yIGFuZCBtYXhDb2xvciIsImNvbG9yUmFuZ2UsIGNvbG9yRG9tYWluIikoKSwhMCk6IXImJiFpfX0se2tleToiX3VwZGF0ZVVuaWZvcm1zIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5zdGF0ZS5tb2RlbDtpZihvZS5zb21lKChmdW5jdGlvbihuKXtyZXR1cm4gZVtuXSE9PXRbbl19KSkmJnIuc2V0VW5pZm9ybXMoe3Nob3VsZFVzZU1pbk1heDp0aGlzLl9zaG91bGRVc2VNaW5NYXgoKX0pLGUuY29sb3JSYW5nZSE9PXQuY29sb3JSYW5nZSYmci5zZXRVbmlmb3Jtcyh7Y29sb3JSYW5nZTpyZSh0LmNvbG9yUmFuZ2UpfSksZS5jZWxsTWFyZ2luUGl4ZWxzIT09dC5jZWxsTWFyZ2luUGl4ZWxzfHxlLmNlbGxTaXplUGl4ZWxzIT09dC5jZWxsU2l6ZVBpeGVsc3x8bi52aWV3cG9ydENoYW5nZWQpe3ZhciBpPXRoaXMuY29udGV4dC52aWV3cG9ydCxhPWkud2lkdGgsbz1pLmhlaWdodCxzPXRoaXMucHJvcHMsdT1zLmNlbGxTaXplUGl4ZWxzLGM9cy5jZWxsTWFyZ2luUGl4ZWxzLGw9dT5jP2M6MCxoPW5ldyBGbG9hdDMyQXJyYXkoWyh1LWwpL2EqMiwtKHUtbCkvbyoyLDFdKTtyLnNldFVuaWZvcm1zKHtjZWxsU2NhbGU6aH0pfX19XSxbe2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoTy5jKShlLFtfLmEuVEVYVFVSRV9GTE9BVF0pfX1dKSx0fSh0ZS5hKTt1ZS5sYXllck5hbWU9IlNjcmVlbkdyaWRDZWxsTGF5ZXIiLHVlLmRlZmF1bHRQcm9wcz1zZTt2YXIgY2U9bigxMjYpLGxlPW4oMTQ0KSxoZT1uKDE3MSk7ZnVuY3Rpb24gZmUoZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSl0LmluY2x1ZGVzKHIpfHwobltyXT1lW3JdKTtyZXR1cm4gbn12YXIgZGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB1KCkodGhpcyx0KSxmKCkodGhpcyx2KCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKHQsZSksbCgpKHQsW3trZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZygpKHYoKSh0LnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnNldFN0YXRlKHtpZ25vcmVQcm9wczpmZSh0aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXMsZS5kYXRhLnByb3BzKSxkaW1lbnNpb25zOmV9KX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtpZihnKCkodigpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyxlKSxlLmNoYW5nZUZsYWdzLmV4dGVuc2lvbnNDaGFuZ2VkKXt2YXIgbj10aGlzLmdldFNoYWRlcnMoe30pO24mJm4uZGVmaW5lcyYmKG4uZGVmaW5lcy5OT05fSU5TVEFOQ0VEX01PREVMPTEpLHRoaXMudXBkYXRlU2hhZGVycyhuKX10aGlzLl91cGRhdGVBdHRyaWJ1dGVzKGUucHJvcHMpfX0se2tleToidXBkYXRlQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zZXRTdGF0ZSh7Y2hhbmdlZEF0dHJpYnV0ZXM6ZX0pfX0se2tleToiZ2V0QXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuZ2V0U2hhZGVyQXR0cmlidXRlcygpfX0se2tleToiZ2V0TW9kdWxlU2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LHQ9ZS52aWV3cG9ydCxuPWUubW91c2VQb3NpdGlvbixyPWUuZ2w7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh0aGlzLnByb3BzKSx7dmlld3BvcnQ6dCxtb3VzZVBvc2l0aW9uOm4scGlja2luZ0FjdGl2ZTowLGRldmljZVBpeGVsUmF0aW86T2JqZWN0KHguYykocil9KX19LHtrZXk6InVwZGF0ZVNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6ImlzQWdncmVnYXRpb25EaXJ0eSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49ZS5wcm9wcyxyPWUub2xkUHJvcHMsaT1lLmNoYW5nZUZsYWdzLGE9dC5jb21wYXJlQWxsLG89dm9pZCAwIT09YSYmYSxzPXQuZGltZW5zaW9uLHU9dGhpcy5zdGF0ZS5pZ25vcmVQcm9wcyxjPXMucHJvcHMsbD1zLmFjY2Vzc29ycyxoPXZvaWQgMD09PWw/W106bCxmPWkudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkO2lmKGYpe2lmKGYuYWxsKXJldHVybiEwO3ZhciBkPSEwLHY9ITEscD12b2lkIDA7dHJ5e2Zvcih2YXIgZyx5PWhbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZD0oZz15Lm5leHQoKSkuZG9uZSk7ZD0hMCl7dmFyIG09Zy52YWx1ZTtpZihmW21dKXJldHVybiEwfX1jYXRjaChlKXt2PSEwLHA9ZX1maW5hbGx5e3RyeXtkfHxudWxsPT15LnJldHVybnx8eS5yZXR1cm4oKX1maW5hbGx5e2lmKHYpdGhyb3cgcH19fWlmKG8pcmV0dXJuISFpLmV4dGVuc2lvbnNDaGFuZ2VkfHxPYmplY3QoY2UuYSkoe29sZFByb3BzOnIsbmV3UHJvcHM6bixpZ25vcmVQcm9wczp1LHByb3BUeXBlczp0aGlzLmNvbnN0cnVjdG9yLl9wcm9wVHlwZXN9KTt2YXIgYj0hMCxfPSExLE89dm9pZCAwO3RyeXtmb3IodmFyIHgsdz1jW1N5bWJvbC5pdGVyYXRvcl0oKTshKGI9KHg9dy5uZXh0KCkpLmRvbmUpO2I9ITApe3ZhciBTPXgudmFsdWU7aWYobltTXSE9PXJbU10pcmV0dXJuITB9fWNhdGNoKGUpe189ITAsTz1lfWZpbmFsbHl7dHJ5e2J8fG51bGw9PXcucmV0dXJufHx3LnJldHVybigpfWZpbmFsbHl7aWYoXyl0aHJvdyBPfX1yZXR1cm4hMX19LHtrZXk6ImlzQXR0cmlidXRlQ2hhbmdlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZS5jaGFuZ2VkQXR0cmlidXRlcztyZXR1cm4gZT90JiZ2b2lkIDAhPT10W2VdOiFmdW5jdGlvbihlKXt2YXIgdD0hMDtmb3IodmFyIG4gaW4gZSl7dD0hMTticmVha31yZXR1cm4gdH0odCl9fSx7a2V5OiJfZ2V0QXR0cmlidXRlTWFuYWdlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGxlLmEodGhpcy5jb250ZXh0LmdsLHtpZDp0aGlzLnByb3BzLmlkLHN0YXRzOnRoaXMuY29udGV4dC5zdGF0c30pfX1dKSx0fShoZS5hKTtkZS5sYXllck5hbWU9IkFnZ3JlZ2F0aW9uTGF5ZXIiO3ZhciB2ZT1uKDQ2KSxwZT1uKDE4KSxnZT1uLm4ocGUpO2Z1bmN0aW9uIHllKGUsdCxuKXt2YXIgcj1uO3JldHVybiByLmRvbWFpbj1mdW5jdGlvbigpe3JldHVybiBlfSxyLnJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LHJ9ZnVuY3Rpb24gbWUoZSx0KXtyZXR1cm4geWUoZSx0LChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByPWVbMV0tZVswXTtpZihyPD0wKXJldHVybiBiLmEud2FybigicXVhbnRpemVTY2FsZTogaW52YWxpZCBkb21haW4sIHJldHVybmluZyByYW5nZVswXSIpKCksdFswXTt2YXIgaT1yL3QubGVuZ3RoLGE9TWF0aC5mbG9vcigobi1lWzBdKS9pKSxvPU1hdGgubWF4KE1hdGgubWluKGEsdC5sZW5ndGgtMSksMCk7cmV0dXJuIHRbb119KGUsdCxuKX0pKX1mdW5jdGlvbiBiZShlLHQpe3JldHVybiB5ZShlLHQsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuKG4tZVswXSkvKGVbMV0tZVswXSkqKHRbMV0tdFswXSkrdFswXX0oZSx0LG4pfSkpfWZ1bmN0aW9uIF9lKGUsdCl7Zm9yKHZhciBuPWUuc29ydChPZSkscj0wLGk9TWF0aC5tYXgoMSx0Lmxlbmd0aCksYT1uZXcgQXJyYXkoaS0xKTsrK3I8aTspYVtyLTFdPXhlKG4sci9pKTt2YXIgbz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0W2Z1bmN0aW9uKGUsdCl7dmFyIG49MCxyPWUubGVuZ3RoO2Zvcig7bjxyOyl7dmFyIGk9bityPj4+MTtPZShlW2ldLHQpPjA/cj1pOm49aSsxfXJldHVybiBufShlLG4pXX0oYSx0LGUpfTtyZXR1cm4gby50aHJlc2hvbGRzPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LHllKGUsdCxvKX1mdW5jdGlvbiBPZShlLHQpe3JldHVybiBlLXR9ZnVuY3Rpb24geGUoZSx0KXt2YXIgbj1lLmxlbmd0aDtpZih0PD0wfHxuPDIpcmV0dXJuIGVbMF07aWYodD49MSlyZXR1cm4gZVtuLTFdO3ZhciByPShuLTEpKnQsaT1NYXRoLmZsb29yKHIpLGE9ZVtpXTtyZXR1cm4gYSsoZVtpKzFdLWEpKihyLWkpfWZ1bmN0aW9uIHdlKGUsdCl7dmFyIG49bmV3IE1hcCxyPVtdLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlLGw9IiIuY29uY2F0KGMpO24uaGFzKGwpfHxuLnNldChsLHIucHVzaChjKSl9fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX1yZXR1cm4geWUoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9IiIuY29uY2F0KHIpLGE9dC5nZXQoaSk7cmV0dXJuIHZvaWQgMD09PWEmJihhPWUucHVzaChyKSx0LnNldChpLGEpKSxuWyhhLTEpJW4ubGVuZ3RoXX0ocixuLHQsZSl9KSl9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIG51bGwhPWV9ZnVuY3Rpb24ga2UoZSx0KXtyZXR1cm4oImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZS5tYXAodCk6ZSkuZmlsdGVyKFNlKX1mdW5jdGlvbiBQZShlLHQpe3JldHVybiBrZShlLHQpfWZ1bmN0aW9uIGplKGUsdCl7cmV0dXJuIG49a2UoZSx0KSxyPVtdLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7IXIuaW5jbHVkZXMoZSkmJlNlKGUpJiZyLnB1c2goZSl9KSkscjt2YXIgbixyfXZhciBUZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGh9LEVlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnBvaW50c30sQWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5kZXh9LE1lPXtnZXRWYWx1ZTpUZSxnZXRQb2ludHM6RWUsZ2V0SW5kZXg6QWUsZmlsdGVyRGF0YTpudWxsfSxDZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TWU7dSgpKHRoaXMsZSksdGhpcy5hZ2dyZWdhdGVkQmlucz10aGlzLmdldEFnZ3JlZ2F0ZWRCaW5zKHQsbiksdGhpcy5fdXBkYXRlTWluTWF4VmFsdWVzKCksdGhpcy5iaW5NYXA9dGhpcy5nZXRCaW5NYXAoKX1yZXR1cm4gbCgpKGUsW3trZXk6ImdldEFnZ3JlZ2F0ZWRCaW5zIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10LmdldFZhbHVlLHI9dm9pZCAwPT09bj9UZTpuLGk9dC5nZXRQb2ludHMsYT12b2lkIDA9PT1pP0VlOmksbz10LmdldEluZGV4LHM9dm9pZCAwPT09bz9BZTpvLHU9dC5maWx0ZXJEYXRhLGM9ImZ1bmN0aW9uIj09dHlwZW9mIHUsbD1lLmxlbmd0aCxoPVtdLGY9MCxkPTA7ZDxsO2QrKyl7dmFyIHY9ZVtkXSxwPWEodiksZz1zKHYpLHk9Yz9wLmZpbHRlcih1KTpwO3YuZmlsdGVyZWRQb2ludHM9Yz95Om51bGw7dmFyIG09eS5sZW5ndGg/cih5KTpudWxsO251bGwhPW0mJihoW2ZdPXtpOk51bWJlci5pc0Zpbml0ZShnKT9nOmQsdmFsdWU6bSxjb3VudHM6eS5sZW5ndGh9LGYrKyl9cmV0dXJuIGh9fSx7a2V5OiJfcGVyY2VudGlsZVRvSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc29ydGVkQmlucy5sZW5ndGg7aWYodDwyKXJldHVyblswLDBdO3ZhciBuPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdD1lLG49MCxyPTEwMCxNYXRoLm1heChuLE1hdGgubWluKHIsdCkpO3ZhciB0LG4scn0pKSxyPWdlKCkobiwyKSxpPXJbMF0sYT1yWzFdO3JldHVybltNYXRoLmNlaWwoaS8xMDAqKHQtMSkpLE1hdGguZmxvb3IoYS8xMDAqKHQtMSkpXX19LHtrZXk6ImdldEJpbk1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT17fSx0PSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxhPXRoaXMuYWdncmVnYXRlZEJpbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oaT1hLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIG89aS52YWx1ZTtlW28uaV09b319Y2F0Y2goZSl7bj0hMCxyPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiBlfX0se2tleToiX3VwZGF0ZU1pbk1heFZhbHVlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0wLHQ9MCxuPTM0MDI4MjM0NjZlMjkscj0wLGk9ITAsYT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBzLHU9dGhpcy5hZ2dyZWdhdGVkQmluc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShzPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1zLnZhbHVlO2U9ZT5jLmNvdW50cz9lOmMuY291bnRzLHQ9dD5jLnZhbHVlP3Q6Yy52YWx1ZSxuPW48Yy52YWx1ZT9uOmMudmFsdWUscis9Yy5jb3VudHN9fWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX10aGlzLm1heENvdW50PWUsdGhpcy5tYXhWYWx1ZT10LHRoaXMubWluVmFsdWU9bix0aGlzLnRvdGFsQ291bnQ9cn19LHtrZXk6ImdldFZhbHVlUmFuZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuc29ydGVkQmluc3x8KHRoaXMuc29ydGVkQmlucz10aGlzLmFnZ3JlZ2F0ZWRCaW5zLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudmFsdWUtdC52YWx1ZX0pKSksIXRoaXMuc29ydGVkQmlucy5sZW5ndGgpcmV0dXJuW107dmFyIHQ9MCxuPXRoaXMuc29ydGVkQmlucy5sZW5ndGgtMTtpZihBcnJheS5pc0FycmF5KGUpKXt2YXIgcj10aGlzLl9wZXJjZW50aWxlVG9JbmRleChlKTt0PXJbMF0sbj1yWzFdfXJldHVyblt0aGlzLnNvcnRlZEJpbnNbdF0udmFsdWUsdGhpcy5zb3J0ZWRCaW5zW25dLnZhbHVlXX19LHtrZXk6ImdldFZhbHVlRG9tYWluQnlTY2FsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49Z2UoKSh0LDIpLHI9blswXSxpPXZvaWQgMD09PXI/MDpyLGE9blsxXSxvPXZvaWQgMD09PWE/MTAwOmE7aWYodGhpcy5zb3J0ZWRCaW5zfHwodGhpcy5zb3J0ZWRCaW5zPXRoaXMuYWdncmVnYXRlZEJpbnMuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS52YWx1ZS10LnZhbHVlfSkpKSwhdGhpcy5zb3J0ZWRCaW5zLmxlbmd0aClyZXR1cm5bXTt2YXIgcz10aGlzLl9wZXJjZW50aWxlVG9JbmRleChbaSxvXSk7cmV0dXJuIHRoaXMuX2dldFNjYWxlRG9tYWluKGUscyl9fSx7a2V5OiJfZ2V0U2NhbGVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49Z2UoKSh0LDIpLHI9blswXSxpPW5bMV0sYT10aGlzLnNvcnRlZEJpbnM7c3dpdGNoKGUpe2Nhc2UicXVhbnRpemUiOmNhc2UibGluZWFyIjpyZXR1cm5bYVtyXS52YWx1ZSxhW2ldLnZhbHVlXTtjYXNlInF1YW50aWxlIjpyZXR1cm4gUGUoYS5zbGljZShyLGkrMSksKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSkpO2Nhc2Uib3JkaW5hbCI6cmV0dXJuIGplKGEsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSkpO2RlZmF1bHQ6cmV0dXJuW2Fbcl0udmFsdWUsYVtpXS52YWx1ZV19fX1dKSxlfSgpLExlPW4oNTQpLEllPW4oMjIpO2Z1bmN0aW9uIFJlKGUpe3JldHVybiBOdW1iZXIuaXNGaW5pdGUoZSk/ZTowfWZ1bmN0aW9uIERlKGUsdCl7Zm9yKHZhciBuLHIsaT1lLnBvc2l0aW9ucy52YWx1ZSxhPTEvMCxvPS0xLzAscz0xLzAsdT0tMS8wLGM9MDtjPHQ7YysrKXI9aVszKmNdLGE9KG49aVszKmMrMV0pPGE/bjphLG89bj5vP246byxzPXI8cz9yOnMsdT1yPnU/cjp1O3JldHVybnt4TWluOlJlKHMpLHhNYXg6UmUodSkseU1pbjpSZShhKSx5TWF4OlJlKG8pfX1mdW5jdGlvbiBGZShlLHQpe3ZhciBuPWU8MD8tMToxLHI9bjwwP01hdGguYWJzKGUpK3Q6TWF0aC5hYnMoZSk7cmV0dXJuKHI9TWF0aC5mbG9vcihyL3QpKnQpKm59ZnVuY3Rpb24gTmUoZSx0KXt2YXIgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdO2lmKCFuKXJldHVybnt4T2Zmc2V0OnQseU9mZnNldDp0fTt2YXIgcj1lLnlNaW4saT1lLnlNYXgsYT0ocitpKS8yO3JldHVybiBCZSh0LGEpfWZ1bmN0aW9uIHplKGUsdCxuLHIpe3ZhciBpPU5lKGUsdCxyIT09SWUuYS5DQVJURVNJQU4pLGE9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ci53aWR0aCxhPXIuaGVpZ2h0LG89bj09PUllLmEuQ0FSVEVTSUFOP1staS8yLC1hLzJdOlstMTgwLC05MF07Yi5hLmFzc2VydChbSWUuYS5DQVJURVNJQU4sSWUuYS5MTkdMQVQsSWUuYS5ERUZBVUxUXS5pbmNsdWRlcyhuKSk7dmFyIHM9ZS54TWluLHU9ZS55TWluO3JldHVyblstMSooRmUocy1vWzBdLHQueE9mZnNldCkrb1swXSksLTEqKEZlKHUtb1sxXSx0LnlPZmZzZXQpK29bMV0pXX0oZSxpLHIsbiksbz1lLnhNaW4scz1lLnlNaW4sdT1lLnhNYXgsYz1lLnlNYXgsbD11LW8raS54T2Zmc2V0LGg9Yy1zK2kueU9mZnNldDtyZXR1cm57Z3JpZE9mZnNldDppLHRyYW5zbGF0aW9uOmEsd2lkdGg6bCxoZWlnaHQ6aCxudW1Db2w6TWF0aC5jZWlsKGwvaS54T2Zmc2V0KSxudW1Sb3c6TWF0aC5jZWlsKGgvaS55T2Zmc2V0KX19ZnVuY3Rpb24gQmUoZSx0KXt2YXIgbjtyZXR1cm57eU9mZnNldDplLzYzNzhlMyooMTgwL01hdGguUEkpLHhPZmZzZXQ6KG49dCxlLzYzNzhlMyooMTgwL01hdGguUEkpL01hdGguY29zKG4qTWF0aC5QSS8xODApKX19ZnVuY3Rpb24gVWUoZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZGF0YSxyPXZvaWQgMD09PW4/W106bixpPWUuY2VsbFNpemUsYT10LmF0dHJpYnV0ZXMsbz10LnZpZXdwb3J0LHM9dC5wcm9qZWN0UG9pbnRzLHU9dC5udW1JbnN0YW5jZXMsYz1hLnBvc2l0aW9ucy52YWx1ZSxsPWEucG9zaXRpb25zLmdldEFjY2Vzc29yKCkuc2l6ZSxoPXQuYm91bmRpbmdCb3h8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsaT1lLnZhbHVlLGE9ZS5nZXRBY2Nlc3NvcigpLnNpemUsbz0xLzAscz0tMS8wLHU9MS8wLGM9LTEvMCxsPTA7bDx0O2wrKylyPWlbbCphXSxuPWlbbCphKzFdLE51bWJlci5pc0Zpbml0ZShyKSYmTnVtYmVyLmlzRmluaXRlKG4pJiYobz1uPG8/bjpvLHM9bj5zP246cyx1PXI8dT9yOnUsYz1yPmM/cjpjKTtyZXR1cm57eE1pbjp1LHhNYXg6Yyx5TWluOm8seU1heDpzfX0oYS5wb3NpdGlvbnMsdSksZj10LnBvc09mZnNldHx8WzE4MCw5MF0sZD10LmdyaWRPZmZzZXR8fE5lKGgsaSk7aWYoZC54T2Zmc2V0PD0wfHxkLnlPZmZzZXQ8PTApcmV0dXJue2dyaWRIYXNoOnt9LGdyaWRPZmZzZXQ6ZH07dmFyIHY9by53aWR0aCxwPW8uaGVpZ2h0LGc9TWF0aC5jZWlsKHYvZC54T2Zmc2V0KSx5PU1hdGguY2VpbChwL2QueU9mZnNldCksbT17fSxiPU9iamVjdChMZS5hKShyKSxfPWIuaXRlcmFibGUsTz1iLm9iamVjdEluZm8seD1uZXcgQXJyYXkoMyksdz0hMCxTPSExLGs9dm9pZCAwO3RyeXtmb3IodmFyIFAsaj1fW1N5bWJvbC5pdGVyYXRvcl0oKTshKHc9KFA9ai5uZXh0KCkpLmRvbmUpO3c9ITApe3ZhciBUPVAudmFsdWU7Ty5pbmRleCsrLHhbMF09Y1tPLmluZGV4KmxdLHhbMV09Y1tPLmluZGV4KmwrMV0seFsyXT1sPj0zP2NbTy5pbmRleCpsKzJdOjA7dmFyIEU9cz9vLnByb2plY3QoeCk6eCxBPWdlKCkoRSwyKSxNPUFbMF0sQz1BWzFdO2lmKE51bWJlci5pc0Zpbml0ZShNKSYmTnVtYmVyLmlzRmluaXRlKEMpKXt2YXIgTD1NYXRoLmZsb29yKChDK2ZbMV0pL2QueU9mZnNldCksST1NYXRoLmZsb29yKChNK2ZbMF0pL2QueE9mZnNldCk7aWYoIXN8fEk+PTAmJkk8ZyYmTD49MCYmTDx5KXt2YXIgUj0iIi5jb25jYXQoTCwiLSIpLmNvbmNhdChJKTttW1JdPW1bUl18fHtjb3VudDowLHBvaW50czpbXSxsb25JZHg6SSxsYXRJZHg6TH0sbVtSXS5jb3VudCs9MSxtW1JdLnBvaW50cy5wdXNoKFQpfX19fWNhdGNoKGUpe1M9ITAsaz1lfWZpbmFsbHl7dHJ5e3d8fG51bGw9PWoucmV0dXJufHxqLnJldHVybigpfWZpbmFsbHl7aWYoUyl0aHJvdyBrfX1yZXR1cm57Z3JpZEhhc2g6bSxncmlkT2Zmc2V0OmQsb2Zmc2V0czpbLTEqZlswXSwtMSpmWzFdXX19KGUsdCkscj1mdW5jdGlvbihlKXt2YXIgdD1lLmdyaWRIYXNoLG49ZS5ncmlkT2Zmc2V0LHI9ZS5vZmZzZXRzLGk9bmV3IEFycmF5KE9iamVjdC5rZXlzKHQpLmxlbmd0aCksYT0wO2Zvcih2YXIgbyBpbiB0KXt2YXIgcz1vLnNwbGl0KCItIiksdT1wYXJzZUludChzWzBdLDEwKSxjPXBhcnNlSW50KHNbMV0sMTApLGw9YSsrO2lbbF09T2JqZWN0LmFzc2lnbih7aW5kZXg6bCxwb3NpdGlvbjpbclswXStuLnhPZmZzZXQqYyxyWzFdK24ueU9mZnNldCp1XX0sdFtvXSl9cmV0dXJuIGl9KG4pO3JldHVybntncmlkSGFzaDpuLmdyaWRIYXNoLGdyaWRPZmZzZXQ6bi5ncmlkT2Zmc2V0LGRhdGE6cn19dmFyIFZlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdSgpKHRoaXMsdCksZigpKHRoaXMsdigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKSh0LGUpLGwoKSh0LFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPWUuZGltZW5zaW9ucyxyPXRoaXMuY29udGV4dC5nbDtnKCkodigpKHQucHJvdG90eXBlKSwiaW5pdGlhbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsbiksdGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOnt9LGdwdUdyaWRBZ2dyZWdhdG9yOm5ldyBLKHIse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItZ3B1LWFnZ3JlZ2F0b3IiKX0pLGNwdUdyaWRBZ2dyZWdhdG9yOlVlfSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZygpKHYoKSh0LnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy51cGRhdGVBZ2dyZWdhdGlvblN0YXRlKGUpO3ZhciBuPXRoaXMuc3RhdGUscj1uLmFnZ3JlZ2F0aW9uRGF0YURpcnR5LGk9bi5hZ2dyZWdhdGlvbldlaWdodHNEaXJ0eSxhPW4uZ3B1QWdncmVnYXRpb247aWYoISh0aGlzLmdldE51bUluc3RhbmNlcygpPD0wKSl7dmFyIG89ITE7KHJ8fGEmJmkpJiYodGhpcy5fdXBkYXRlQWdncmVnYXRpb24oZSksbz0hMCksYXx8IXImJiFpfHwodGhpcy5fdXBkYXRlV2VpZ2h0QmlucygpLHRoaXMuX3VwbG9hZEFnZ3JlZ2F0aW9uUmVzdWx0cygpLG89ITApLHRoaXMuc2V0U3RhdGUoe2FnZ3JlZ2F0aW9uRGlydHk6b30pfX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50O2UmJmUuYWdncmVnYXRpb25CdWZmZXImJmUuYWdncmVnYXRpb25CdWZmZXIuZGVsZXRlKCk7dmFyIG49dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvcjtuJiZuLmRlbGV0ZSgpLGcoKSh2KCkodC5wcm90b3R5cGUpLCJmaW5hbGl6ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleToidXBkYXRlU2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZS5ncHVBZ2dyZWdhdGlvbiYmdGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvci51cGRhdGVTaGFkZXJzKGUpfX0se2tleToidXBkYXRlQWdncmVnYXRpb25TdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7Yi5hLmFzc2VydCghMSl9fSx7a2V5OiJhbGxvY2F0ZVJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnN0YXRlLm51bVJvdyE9PWV8fHRoaXMuc3RhdGUubnVtQ29sIT09dCl7dmFyIG49dCplKjQqNCxyPXRoaXMuY29udGV4dC5nbCxpPXRoaXMuc3RhdGUud2VpZ2h0cztmb3IodmFyIGEgaW4gaSl7dmFyIG89aVthXTtvLmFnZ3JlZ2F0aW9uQnVmZmVyJiZvLmFnZ3JlZ2F0aW9uQnVmZmVyLmRlbGV0ZSgpLG8uYWdncmVnYXRpb25CdWZmZXI9bmV3IHZlLmEocix7Ynl0ZUxlbmd0aDpuLGFjY2Vzc29yOntzaXplOjQsdHlwZTo1MTI2LGRpdmlzb3I6MX19KX19fX0se2tleToidXBkYXRlUmVzdWx0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZ2dyZWdhdGlvbkRhdGEsbj1lLm1heE1pbkRhdGEscj1lLm1heERhdGEsaT1lLm1pbkRhdGEsYT10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7YSYmKGEuYWdncmVnYXRpb25EYXRhPXQsYS5tYXhNaW5EYXRhPW4sYS5tYXhEYXRhPXIsYS5taW5EYXRhPWkpfX0se2tleToiX3VwZGF0ZUFnZ3JlZ2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLG49dC5jcHVHcmlkQWdncmVnYXRvcixyPXQuZ3B1R3JpZEFnZ3JlZ2F0b3IsaT10LmdyaWRPZmZzZXQsYT10LnBvc09mZnNldCxvPXQudHJhbnNsYXRpb24scz12b2lkIDA9PT1vP1swLDBdOm8sdT10LnNjYWxpbmcsYz12b2lkIDA9PT11P1swLDAsMF06dSxsPXQuYm91bmRpbmdCb3gsaD10LnByb2plY3RQb2ludHMsZj10LmdwdUFnZ3JlZ2F0aW9uLGQ9dC5udW1Db2wsdj10Lm51bVJvdyxwPWUucHJvcHMsZz10aGlzLmNvbnRleHQudmlld3BvcnQseT10aGlzLmdldEF0dHJpYnV0ZXMoKSxtPXRoaXMuZ2V0TnVtSW5zdGFuY2VzKCk7aWYoZil7dmFyIGI9dGhpcy5zdGF0ZS53ZWlnaHRzO3IucnVuKHt3ZWlnaHRzOmIsY2VsbFNpemU6W2kueE9mZnNldCxpLnlPZmZzZXRdLG51bUNvbDpkLG51bVJvdzp2LHRyYW5zbGF0aW9uOnMsc2NhbGluZzpjLHZlcnRleENvdW50Om0scHJvamVjdFBvaW50czpoLGF0dHJpYnV0ZXM6eSxtb2R1bGVTZXR0aW5nczp0aGlzLmdldE1vZHVsZVNldHRpbmdzKCl9KX1lbHNle3ZhciBfPW4ocCx7Z3JpZE9mZnNldDppLHByb2plY3RQb2ludHM6aCxhdHRyaWJ1dGVzOnksdmlld3BvcnQ6Zyxwb3NPZmZzZXQ6YSxib3VuZGluZ0JveDpsfSk7dGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOl99KX19fSx7a2V5OiJfdXBkYXRlV2VpZ2h0QmlucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLmdldFZhbHVlLHQ9bmV3IENlKHRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGF8fFtdLHtnZXRWYWx1ZTplfSk7dGhpcy5zZXRTdGF0ZSh7c29ydGVkQmluczp0fSl9fSx7a2V5OiJfdXBsb2FkQWdncmVnYXRpb25SZXN1bHRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUsdD1lLm51bUNvbCxuPWUubnVtUm93LHI9dGhpcy5zdGF0ZS5sYXllckRhdGEuZGF0YSxpPXRoaXMuc3RhdGUuc29ydGVkQmlucyxhPWkuYWdncmVnYXRlZEJpbnMsbz1pLm1pblZhbHVlLHM9aS5tYXhWYWx1ZSx1PWkudG90YWxDb3VudCxjPW5ldyBGbG9hdDMyQXJyYXkodCpuKjQpLmZpbGwoMCksbD0hMCxoPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIGQsdj1hW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGQ9di5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciBwPWQudmFsdWUsZz1yW3AuaV0seT1nLmxvbklkeCxtPWcubGF0SWR4LGI9cC52YWx1ZSxfPXAuY291bnRzLE89NCooeSttKnQpO2NbT109YixjW08rNC0xXT1ffX1jYXRjaChlKXtoPSEwLGY9ZX1maW5hbGx5e3RyeXtsfHxudWxsPT12LnJldHVybnx8di5yZXR1cm4oKX1maW5hbGx5e2lmKGgpdGhyb3cgZn19dmFyIHg9bmV3IEZsb2F0MzJBcnJheShbcywwLDAsb10pLHc9bmV3IEZsb2F0MzJBcnJheShbcywwLDAsdV0pLFM9bmV3IEZsb2F0MzJBcnJheShbbywwLDAsdV0pO3RoaXMudXBkYXRlUmVzdWx0cyh7YWdncmVnYXRpb25EYXRhOmMsbWF4TWluRGF0YTp4LG1heERhdGE6dyxtaW5EYXRhOlN9KX19XSksdH0oZGUpO1ZlLmxheWVyTmFtZT0iR3JpZEFnZ3JlZ2F0aW9uTGF5ZXIiO3ZhciBHZT1PYmplY3QuYXNzaWduKHt9LHVlLmRlZmF1bHRQcm9wcyx7Z2V0UG9zaXRpb246e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wb3NpdGlvbn19LGdldFdlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAxfX0sZ3B1QWdncmVnYXRpb246ITAsYWdncmVnYXRpb246IlNVTSJ9KSxXZT17ZGF0YTp7cHJvcHM6WyJjZWxsU2l6ZVBpeGVscyJdfSx3ZWlnaHRzOntwcm9wczpbImFnZ3JlZ2F0aW9uIl0sYWNjZXNzb3JzOlsiZ2V0V2VpZ2h0Il19fSxIZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLG49dGhpcy5jb250ZXh0LmdsO2lmKCF1ZS5pc1N1cHBvcnRlZChuKSlyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7c3VwcG9ydGVkOiExfSksdm9pZCBiLmEuZXJyb3IoIlNjcmVlbkdyaWRMYXllcjogIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyIikpKCk7ZygpKHYoKSh0LnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLHtkaW1lbnNpb25zOldlLGdldENlbGxTaXplOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNlbGxTaXplUGl4ZWxzfX0pO3ZhciByPXtjb3VudDp7c2l6ZToxLG9wZXJhdGlvbjpFLlNVTSxuZWVkTWF4OiEwLG1heFRleHR1cmU6VyhuLHtpZDoiIi5jb25jYXQodGhpcy5pZCwiLW1heC10ZXh0dXJlIil9KX19O3RoaXMuc2V0U3RhdGUoe3N1cHBvcnRlZDohMCxwcm9qZWN0UG9pbnRzOiEwLHdlaWdodHM6cixzdWJMYXllckRhdGE6e2F0dHJpYnV0ZXM6e319LG1heFRleHR1cmU6ci5jb3VudC5tYXhUZXh0dXJlLHBvc2l0aW9uQXR0cmlidXRlTmFtZToicG9zaXRpb25zIixwb3NPZmZzZXQ6WzAsMF0sdHJhbnNsYXRpb246WzEsLTFdfSksdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKChlPXt9LG8oKShlLCJwb3NpdGlvbnMiLHtzaXplOjMsYWNjZXNzb3I6ImdldFBvc2l0aW9uIix0eXBlOjUxMzAsZnA2NDp0aGlzLnVzZTY0Yml0UG9zaXRpb25zKCl9KSxvKCkoZSwiY291bnQiLHtzaXplOjMsYWNjZXNzb3I6ImdldFdlaWdodCJ9KSxlKSl9fSx7a2V5OiJzaG91bGRVcGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFuZ2VGbGFncztyZXR1cm4gdGhpcy5zdGF0ZS5zdXBwb3J0ZWQmJnQuc29tZXRoaW5nQ2hhbmdlZH19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtnKCkodigpKHQucHJvdG90eXBlKSwidXBkYXRlU3RhdGUiLHRoaXMpLmNhbGwodGhpcyxlKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5zdGF0ZS5zdXBwb3J0ZWQpcmV0dXJuW107dmFyIGU9dGhpcy5zdGF0ZSx0PWUubWF4VGV4dHVyZSxuPWUubnVtUm93LHI9ZS5udW1Db2wsaT1lLndlaWdodHMsYT10aGlzLnByb3BzLnVwZGF0ZVRyaWdnZXJzLG89aS5jb3VudC5hZ2dyZWdhdGlvbkJ1ZmZlcjtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiY2VsbHMiLHVlKSkodGhpcy5wcm9wcyx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJjZWxsLWxheWVyIix1cGRhdGVUcmlnZ2VyczphfSkse2RhdGE6e2F0dHJpYnV0ZXM6e2luc3RhbmNlQ291bnRzOm99fSxtYXhUZXh0dXJlOnQsbnVtSW5zdGFuY2VzOm4qcn0pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtnKCkodigpKHQucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzLnN0YXRlLG49ZS5hZ2dyZWdhdGlvbkJ1ZmZlcixyPWUubWF4QnVmZmVyLGk9ZS5ncHVHcmlkQWdncmVnYXRvcixhPWUubWF4VGV4dHVyZTtpLmRlbGV0ZSgpLG4mJm4uZGVsZXRlKCksciYmci5kZWxldGUoKSxhJiZhLmRlbGV0ZSgpfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5mbyxuPShlLm1vZGUsdC5pbmRleCk7aWYobj49MCl7dmFyIHI9dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvci5nZXREYXRhKCJjb3VudCIpO3Qub2JqZWN0PUsuZ2V0QWdncmVnYXRpb25EYXRhKE9iamVjdC5hc3NpZ24oe3BpeGVsSW5kZXg6bn0scikpfXJldHVybiB0fX0se2tleToidXBkYXRlUmVzdWx0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZ2dyZWdhdGlvbkRhdGEsbj1lLm1heERhdGEscj10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7ci5hZ2dyZWdhdGlvbkRhdGE9dCxyLmFnZ3JlZ2F0aW9uQnVmZmVyLnNldERhdGEoe2RhdGE6dH0pLHIubWF4RGF0YT1uLHIubWF4VGV4dHVyZS5zZXRJbWFnZURhdGEoe2RhdGE6bn0pfX0se2tleToidXBkYXRlQWdncmVnYXRpb25TdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcy5jZWxsU2l6ZVBpeGVscyxuPWUub2xkUHJvcHMuY2VsbFNpemVQaXhlbHMhPT10LHI9ZS5jaGFuZ2VGbGFncy52aWV3cG9ydENoYW5nZWQsaT1lLnByb3BzLmdwdUFnZ3JlZ2F0aW9uO3RoaXMuc3RhdGUuZ3B1QWdncmVnYXRpb24hPT1lLnByb3BzLmdwdUFnZ3JlZ2F0aW9uJiZpJiYhSy5pc1N1cHBvcnRlZCh0aGlzLmNvbnRleHQuZ2wpJiYoYi5hLndhcm4oIkdQVSBHcmlkIEFnZ3JlZ2F0aW9uIG5vdCBzdXBwb3J0ZWQsIGZhbGxpbmcgYmFjayB0byBDUFUiKSgpLGk9ITEpO3ZhciBhPWkhPT10aGlzLnN0YXRlLmdwdUFnZ3JlZ2F0aW9uO3RoaXMuc2V0U3RhdGUoe2dwdUFnZ3JlZ2F0aW9uOml9KTt2YXIgbz10aGlzLmlzQXR0cmlidXRlQ2hhbmdlZCgicG9zaXRpb25zIikscz10aGlzLnN0YXRlLmRpbWVuc2lvbnMsdT1zLmRhdGEsYz1zLndlaWdodHMsbD1vfHxhfHxyfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eShlLHtjb21wYXJlQWxsOmksZGltZW5zaW9uOnV9KSxoPXRoaXMuaXNBZ2dyZWdhdGlvbkRpcnR5KGUse2RpbWVuc2lvbjpjfSk7dGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EYXRhRGlydHk6bCxhZ2dyZWdhdGlvbldlaWdodHNEaXJ0eTpofSk7dmFyIGY9dGhpcy5jb250ZXh0LnZpZXdwb3J0O2lmKHJ8fG4pe3ZhciBkPWYud2lkdGgsdj1mLmhlaWdodCxwPU1hdGguY2VpbChkL3QpLGc9TWF0aC5jZWlsKHYvdCk7dGhpcy5hbGxvY2F0ZVJlc291cmNlcyhnLHApLHRoaXMuc2V0U3RhdGUoe3NjYWxpbmc6W2QvMiwtdi8yLDFdLGdyaWRPZmZzZXQ6e3hPZmZzZXQ6dCx5T2Zmc2V0OnR9LHdpZHRoOmQsaGVpZ2h0OnYsbnVtQ29sOnAsbnVtUm93Omd9KX1oJiZ0aGlzLl91cGRhdGVBY2Nlc3NvcnMoZSksKGx8fGgpJiZ0aGlzLl9yZXNldFJlc3VsdHMoKX19LHtrZXk6Il91cGRhdGVBY2Nlc3NvcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcHMsbj10LmdldFdlaWdodCxyPXQuYWdncmVnYXRpb24saT10aGlzLnN0YXRlLndlaWdodHMuY291bnQ7aSYmKGkuZ2V0V2VpZ2h0PW4saS5vcGVyYXRpb249RVtyXSksdGhpcy5zZXRTdGF0ZSh7Z2V0VmFsdWU6TChyLG4pfSl9fSx7a2V5OiJfcmVzZXRSZXN1bHRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUud2VpZ2h0cy5jb3VudDtlJiYoZS5hZ2dyZWdhdGlvbkRhdGE9bnVsbCl9fV0pLHR9KFZlKTtIZS5sYXllck5hbWU9IlNjcmVlbkdyaWRMYXllciIsSGUuZGVmYXVsdFByb3BzPUdlO3ZhciBxZT1uKDE5MiksWGU9bigzNyksWmU9bi5uKFhlKTtmdW5jdGlvbiBZZSgpe312YXIgS2U9WyJnZXRCaW5zIiwiZ2V0RG9tYWluIiwiZ2V0U2NhbGVGdW5jIl0sUWU9W3trZXk6ImZpbGxDb2xvciIsYWNjZXNzb3I6ImdldEZpbGxDb2xvciIscGlja2luZ0luZm86ImNvbG9yVmFsdWUiLGdldEJpbnM6e3RyaWdnZXJzOnt2YWx1ZTp7cHJvcDoiZ2V0Q29sb3JWYWx1ZSIsdXBkYXRlVHJpZ2dlcjoiZ2V0Q29sb3JWYWx1ZSJ9LHdlaWdodDp7cHJvcDoiZ2V0Q29sb3JXZWlnaHQiLHVwZGF0ZVRyaWdnZXI6ImdldENvbG9yV2VpZ2h0In0sYWdncmVnYXRpb246e3Byb3A6ImNvbG9yQWdncmVnYXRpb24ifSxmaWx0ZXJEYXRhOntwcm9wOiJfZmlsdGVyRGF0YSIsdXBkYXRlVHJpZ2dlcjoiX2ZpbHRlckRhdGEifX19LGdldERvbWFpbjp7dHJpZ2dlcnM6e2xvd2VyUGVyY2VudGlsZTp7cHJvcDoibG93ZXJQZXJjZW50aWxlIn0sdXBwZXJQZXJjZW50aWxlOntwcm9wOiJ1cHBlclBlcmNlbnRpbGUifSxzY2FsZVR5cGU6e3Byb3A6ImNvbG9yU2NhbGVUeXBlIn19fSxnZXRTY2FsZUZ1bmM6e3RyaWdnZXJzOntkb21haW46e3Byb3A6ImNvbG9yRG9tYWluIn0scmFuZ2U6e3Byb3A6ImNvbG9yUmFuZ2UifX0sb25TZXQ6e3Byb3BzOiJvblNldENvbG9yRG9tYWluIn19LG51bGxWYWx1ZTpbMCwwLDAsMF19LHtrZXk6ImVsZXZhdGlvbiIsYWNjZXNzb3I6ImdldEVsZXZhdGlvbiIscGlja2luZ0luZm86ImVsZXZhdGlvblZhbHVlIixnZXRCaW5zOnt0cmlnZ2Vyczp7dmFsdWU6e3Byb3A6ImdldEVsZXZhdGlvblZhbHVlIix1cGRhdGVUcmlnZ2VyOiJnZXRFbGV2YXRpb25WYWx1ZSJ9LHdlaWdodDp7cHJvcDoiZ2V0RWxldmF0aW9uV2VpZ2h0Iix1cGRhdGVUcmlnZ2VyOiJnZXRFbGV2YXRpb25XZWlnaHQifSxhZ2dyZWdhdGlvbjp7cHJvcDoiZWxldmF0aW9uQWdncmVnYXRpb24ifSxmaWx0ZXJEYXRhOntwcm9wOiJfZmlsdGVyRGF0YSIsdXBkYXRlVHJpZ2dlcjoiX2ZpbHRlckRhdGEifX19LGdldERvbWFpbjp7dHJpZ2dlcnM6e2xvd2VyUGVyY2VudGlsZTp7cHJvcDoiZWxldmF0aW9uTG93ZXJQZXJjZW50aWxlIn0sdXBwZXJQZXJjZW50aWxlOntwcm9wOiJlbGV2YXRpb25VcHBlclBlcmNlbnRpbGUifSxzY2FsZVR5cGU6e3Byb3A6ImVsZXZhdGlvblNjYWxlVHlwZSJ9fX0sZ2V0U2NhbGVGdW5jOnt0cmlnZ2Vyczp7ZG9tYWluOntwcm9wOiJlbGV2YXRpb25Eb21haW4ifSxyYW5nZTp7cHJvcDoiZWxldmF0aW9uUmFuZ2UifX0sb25TZXQ6e3Byb3BzOiJvblNldEVsZXZhdGlvbkRvbWFpbiJ9fSxudWxsVmFsdWU6LTF9XSxKZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5jZWxsU2l6ZX0sJGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3UoKSh0aGlzLGUpLHRoaXMuc3RhdGU9e2xheWVyRGF0YTp7fSxkaW1lbnNpb25zOnt9fSx0aGlzLmNoYW5nZUZsYWdzPXt9LHRoaXMuZGltZW5zaW9uVXBkYXRlcnM9e30sdGhpcy5fZ2V0Q2VsbFNpemU9dC5nZXRDZWxsU2l6ZXx8SmUsdGhpcy5fZ2V0QWdncmVnYXRvcj10LmdldEFnZ3JlZ2F0b3IsdGhpcy5fYWRkRGltZW5zaW9uKHQuZGltZW5zaW9uc3x8UWUpfXJldHVybiBsKCkoZSxbe2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5vbGRQcm9wcyxyPWUucHJvcHMsaT1lLmNoYW5nZUZsYWdzO3RoaXMudXBkYXRlR2V0VmFsdWVGdW5jcyhuLHIsaSk7dmFyIGE9dGhpcy5uZWVkc1JlUHJvamVjdFBvaW50cyhuLHIsaSksbz0hMTtpLmRhdGFDaGFuZ2VkfHxhPyh0aGlzLmdldEFnZ3JlZ2F0ZWREYXRhKHIsdCksbz0hMCk6KCh0aGlzLmdldERpbWVuc2lvbkNoYW5nZXMobixyLGkpfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUoKX0pKSxvPSEwKTtyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EaXJ0eTpvfSksdGhpcy5zdGF0ZX19LHtrZXk6InNldFN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0YXRlPU9iamVjdC5hc3NpZ24oe30sdGhpcy5zdGF0ZSxlKX19LHtrZXk6InNldERpbWVuc2lvblN0YXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuc2V0U3RhdGUoe2RpbWVuc2lvbnM6T2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlLmRpbWVuc2lvbnMsbygpKHt9LGUsT2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlLmRpbWVuc2lvbnNbZV0sdCkpKX0pfX0se2tleToibm9ybWFsaXplUmVzdWx0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZS5oZXhhZ29ucz9PYmplY3QuYXNzaWduKHtkYXRhOmUuaGV4YWdvbnN9LGUpOmUubGF5ZXJEYXRhP09iamVjdC5hc3NpZ24oe2RhdGE6ZS5sYXllckRhdGF9LGUpOmV9fSx7a2V5OiJnZXRBZ2dyZWdhdGVkRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9nZXRBZ2dyZWdhdG9yKGUpKGUsdCk7dGhpcy5zZXRTdGF0ZSh7bGF5ZXJEYXRhOnRoaXMubm9ybWFsaXplUmVzdWx0KG4pfSksdGhpcy5jaGFuZ2VGbGFncz17bGF5ZXJEYXRhOiEwfSx0aGlzLmdldFNvcnRlZEJpbnMoZSl9fSx7a2V5OiJ1cGRhdGVHZXRWYWx1ZUZ1bmNzIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpe3ZhciBpPXRoaXMuZGltZW5zaW9uVXBkYXRlcnNbcl0uZ2V0Qmlucy50cmlnZ2VycyxhPWkudmFsdWUsbz1pLndlaWdodCxzPWkuYWdncmVnYXRpb24sdT10W2EucHJvcF07dGhpcy5uZWVkVXBkYXRlRGltZW5zaW9uU3RlcCh0aGlzLmRpbWVuc2lvblVwZGF0ZXJzW3JdLmdldEJpbnMsZSx0LG4pJiZudWxsPT09dSYmKHU9TCh0W3MucHJvcF0sdFtvLnByb3BdKSksdSYmdGhpcy5zZXREaW1lbnNpb25TdGF0ZShyLHtnZXRWYWx1ZTp1fSl9fX0se2tleToibmVlZHNSZVByb2plY3RQb2ludHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5fZ2V0Q2VsbFNpemUoZSkhPT10aGlzLl9nZXRDZWxsU2l6ZSh0KXx8dGhpcy5fZ2V0QWdncmVnYXRvcihlKSE9PXRoaXMuX2dldEFnZ3JlZ2F0b3IodCl8fG4udXBkYXRlVHJpZ2dlcnNDaGFuZ2VkJiYobi51cGRhdGVUcmlnZ2Vyc0NoYW5nZWQuYWxsfHxuLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZC5nZXRQb3NpdGlvbil9fSx7a2V5OiJhZGREaW1lbnNpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2FkZERpbWVuc2lvbihlKX19LHtrZXk6Il9hZGREaW1lbnNpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXQua2V5O2UuZGltZW5zaW9uVXBkYXRlcnNbbl09ZS5nZXREaW1lbnNpb25VcGRhdGVycyh0KSxlLnN0YXRlLmRpbWVuc2lvbnNbbl09e2dldFZhbHVlOm51bGwsZG9tYWluOm51bGwsc29ydGVkQmluczpudWxsLHNjYWxlRnVuYzpZZX19KSl9fSx7a2V5OiJnZXREaW1lbnNpb25VcGRhdGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXksbj1lLmFjY2Vzc29yLHI9ZS5waWNraW5nSW5mbyxpPWUuZ2V0QmlucyxhPWUuZ2V0RG9tYWluLG89ZS5nZXRTY2FsZUZ1bmMscz1lLm51bGxWYWx1ZTtyZXR1cm57a2V5OnQsYWNjZXNzb3I6bixwaWNraW5nSW5mbzpyLGdldEJpbnM6T2JqZWN0LmFzc2lnbih7dXBkYXRlcjp0aGlzLmdldERpbWVuc2lvblNvcnRlZEJpbnN9LGkpLGdldERvbWFpbjpPYmplY3QuYXNzaWduKHt1cGRhdGVyOnRoaXMuZ2V0RGltZW5zaW9uVmFsdWVEb21haW59LGEpLGdldFNjYWxlRnVuYzpPYmplY3QuYXNzaWduKHt1cGRhdGVyOnRoaXMuZ2V0RGltZW5zaW9uU2NhbGV9LG8pLGF0dHJpYnV0ZUFjY2Vzc29yOnRoaXMuZ2V0U3ViTGF5ZXJEaW1lbnNpb25BdHRyaWJ1dGUodCxzKX19fSx7a2V5OiJuZWVkVXBkYXRlRGltZW5zaW9uU3RlcCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIE9iamVjdC52YWx1ZXMoZS50cmlnZ2Vycykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXBkYXRlVHJpZ2dlcj9yLnVwZGF0ZVRyaWdnZXJzQ2hhbmdlZCYmKHIudXBkYXRlVHJpZ2dlcnNDaGFuZ2VkLmFsbHx8ci51cGRhdGVUcmlnZ2Vyc0NoYW5nZWRbZS51cGRhdGVUcmlnZ2VyXSk6dFtlLnByb3BdIT09bltlLnByb3BdfSkpfX0se2tleToiZ2V0RGltZW5zaW9uQ2hhbmdlcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsaT1bXSxhPWZ1bmN0aW9uKGEpe3ZhciBvPUtlLmZpbmQoKGZ1bmN0aW9uKGkpe3JldHVybiByLm5lZWRVcGRhdGVEaW1lbnNpb25TdGVwKHIuZGltZW5zaW9uVXBkYXRlcnNbYV1baV0sZSx0LG4pfSkpO28mJmkucHVzaChyLmRpbWVuc2lvblVwZGF0ZXJzW2FdW29dLnVwZGF0ZXIuYmluZChyLHQsci5kaW1lbnNpb25VcGRhdGVyc1thXSkpfTtmb3IodmFyIG8gaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycylhKG8pO3JldHVybiBpLmxlbmd0aD9pOm51bGx9fSx7a2V5OiJnZXRVcGRhdGVUcmlnZ2VycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUudXBkYXRlVHJpZ2dlcnN8fHt9LHI9e30saT1mdW5jdGlvbihpKXt2YXIgYT10LmRpbWVuc2lvblVwZGF0ZXJzW2ldLmFjY2Vzc29yO3JbYV09e30sS2UuZm9yRWFjaCgoZnVuY3Rpb24obyl7T2JqZWN0LnZhbHVlcyh0LmRpbWVuc2lvblVwZGF0ZXJzW2ldW29dLnRyaWdnZXJzKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgaT10LnByb3Asbz10LnVwZGF0ZVRyaWdnZXI7aWYobyl7dmFyIHM9bltvXTsib2JqZWN0IiE9PVplKCkocyl8fEFycmF5LmlzQXJyYXkocyk/dm9pZCAwIT09cyYmKHJbYV1baV09cyk6T2JqZWN0LmFzc2lnbihyW2FdLHMpfWVsc2UgclthXVtpXT1lW2ldfSkpfSkpfTtmb3IodmFyIGEgaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycylpKGEpO3JldHVybiByfX0se2tleToiZ2V0U29ydGVkQmlucyIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpdGhpcy5nZXREaW1lbnNpb25Tb3J0ZWRCaW5zKGUsdGhpcy5kaW1lbnNpb25VcGRhdGVyc1t0XSl9fSx7a2V5OiJnZXREaW1lbnNpb25Tb3J0ZWRCaW5zIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQua2V5LHI9dGhpcy5zdGF0ZS5kaW1lbnNpb25zW25dLmdldFZhbHVlLGk9bmV3IENlKHRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGF8fFtdLHtnZXRWYWx1ZTpyLGZpbHRlckRhdGE6ZS5fZmlsdGVyRGF0YX0pO3RoaXMuc2V0RGltZW5zaW9uU3RhdGUobix7c29ydGVkQmluczppfSksdGhpcy5nZXREaW1lbnNpb25WYWx1ZURvbWFpbihlLHQpfX0se2tleToiZ2V0RGltZW5zaW9uVmFsdWVEb21haW4iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5nZXREb21haW4scj10LmtleSxpPW4udHJpZ2dlcnMsYT1pLmxvd2VyUGVyY2VudGlsZSxvPWkudXBwZXJQZXJjZW50aWxlLHM9aS5zY2FsZVR5cGUsdT10aGlzLnN0YXRlLmRpbWVuc2lvbnNbcl0uc29ydGVkQmlucy5nZXRWYWx1ZURvbWFpbkJ5U2NhbGUoZVtzLnByb3BdLFtlW2EucHJvcF0sZVtvLnByb3BdXSk7dGhpcy5zZXREaW1lbnNpb25TdGF0ZShyLHt2YWx1ZURvbWFpbjp1fSksdGhpcy5nZXREaW1lbnNpb25TY2FsZShlLHQpfX0se2tleToiZ2V0RGltZW5zaW9uU2NhbGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5rZXkscj10LmdldFNjYWxlRnVuYyxpPXQuZ2V0RG9tYWluLGE9ci50cmlnZ2VycyxvPWEuZG9tYWluLHM9YS5yYW5nZSx1PWkudHJpZ2dlcnMuc2NhbGVUeXBlLGM9ci5vblNldCxsPWVbcy5wcm9wXSxoPWVbby5wcm9wXXx8dGhpcy5zdGF0ZS5kaW1lbnNpb25zW25dLnZhbHVlRG9tYWluLGY9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UicXVhbnRpemUiOnJldHVybiBtZTtjYXNlImxpbmVhciI6cmV0dXJuIGJlO2Nhc2UicXVhbnRpbGUiOnJldHVybiBfZTtjYXNlIm9yZGluYWwiOnJldHVybiB3ZTtkZWZhdWx0OnJldHVybiBtZX19KHUmJmVbdS5wcm9wXSkoaCxsKTsib2JqZWN0Ij09PVplKCkoYykmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW2MucHJvcHNdJiZlW2MucHJvcHNdKGYuZG9tYWluKCkpLHRoaXMuc2V0RGltZW5zaW9uU3RhdGUobix7c2NhbGVGdW5jOmZ9KX19LHtrZXk6ImdldFN1YkxheWVyRGltZW5zaW9uQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPW4uc3RhdGUuZGltZW5zaW9uc1tlXSxhPWkuc29ydGVkQmlucyxvPWkuc2NhbGVGdW5jLHM9YS5iaW5NYXBbci5pbmRleF07aWYocyYmMD09PXMuY291bnRzKXJldHVybiB0O3ZhciB1PXMmJnMudmFsdWUsYz1vLmRvbWFpbigpO3JldHVybiB1Pj1jWzBdJiZ1PD1jW2MubGVuZ3RoLTFdP28odSk6dH19fSx7a2V5OiJnZXRTdWJMYXllckFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIHRoaXMuZGltZW5zaW9uVXBkYXRlcnMpe3RbdGhpcy5kaW1lbnNpb25VcGRhdGVyc1tuXS5hY2Nlc3Nvcl09dGhpcy5nZXRTdWJMYXllckRpbWVuc2lvbkF0dHJpYnV0ZShlLG4pfXJldHVybiB0fX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5mbyxuPW51bGw7aWYodC5waWNrZWQmJnQuaW5kZXg+LTEpe3ZhciByPXRoaXMuc3RhdGUubGF5ZXJEYXRhLmRhdGFbdC5pbmRleF0saT17fTtmb3IodmFyIGEgaW4gdGhpcy5kaW1lbnNpb25VcGRhdGVycyl7dmFyIG89dGhpcy5kaW1lbnNpb25VcGRhdGVyc1thXS5waWNraW5nSW5mbyxzPXRoaXMuc3RhdGUuZGltZW5zaW9uc1thXS5zb3J0ZWRCaW5zLHU9cy5iaW5NYXBbci5pbmRleF0mJnMuYmluTWFwW3IuaW5kZXhdLnZhbHVlO2lbb109dX1uPU9iamVjdC5hc3NpZ24oaSxyLHtwb2ludHM6ci5maWx0ZXJlZFBvaW50c3x8ci5wb2ludHN9KX1yZXR1cm4gT2JqZWN0LmFzc2lnbih0LHtwaWNrZWQ6Qm9vbGVhbihuKSxvYmplY3Q6bn0pfX0se2tleToiZ2V0QWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpbWVuc2lvblVwZGF0ZXJzLmhhc093blByb3BlcnR5KGUpP3RoaXMuZGltZW5zaW9uVXBkYXRlcnNbZV0uYXR0cmlidXRlQWNjZXNzb3I6WWV9fV0sW3trZXk6ImRlZmF1bHREaW1lbnNpb25zIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBRZX19XSksZX0oKTtmdW5jdGlvbiBldCgpe312YXIgdHQ9e2NvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpuZSxnZXRDb2xvclZhbHVlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bnVsbH0sZ2V0Q29sb3JXZWlnaHQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gMX19LGNvbG9yQWdncmVnYXRpb246IlNVTSIsbG93ZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MH0sdXBwZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MTAwfSxjb2xvclNjYWxlVHlwZToicXVhbnRpemUiLG9uU2V0Q29sb3JEb21haW46ZXQsZWxldmF0aW9uRG9tYWluOm51bGwsZWxldmF0aW9uUmFuZ2U6WzAsMWUzXSxnZXRFbGV2YXRpb25WYWx1ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOm51bGx9LGdldEVsZXZhdGlvbldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAxfX0sZWxldmF0aW9uQWdncmVnYXRpb246IlNVTSIsZWxldmF0aW9uTG93ZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MH0sZWxldmF0aW9uVXBwZXJQZXJjZW50aWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxMDAsdmFsdWU6MTAwfSxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxlbGV2YXRpb25TY2FsZVR5cGU6ImxpbmVhciIsb25TZXRFbGV2YXRpb25Eb21haW46ZXQsZ3JpZEFnZ3JlZ2F0b3I6VWUsY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjFlMyx2YWx1ZToxZTN9LGNvdmVyYWdlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucG9zaXRpb259fSxleHRydWRlZDohMSxtYXRlcmlhbDohMCxfZmlsdGVyRGF0YTp7dHlwZToiZnVuY3Rpb24iLHZhbHVlOm51bGwsb3B0aW9uYWw6ITB9fSxudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW5ldyAkZSh7Z2V0QWdncmVnYXRvcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5ncmlkQWdncmVnYXRvcn0sZ2V0Q2VsbFNpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2VsbFNpemV9fSk7dGhpcy5zdGF0ZT17Y3B1QWdncmVnYXRvcjplLGFnZ3JlZ2F0b3JTdGF0ZTplLnN0YXRlfSx0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGQoe3Bvc2l0aW9uczp7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9fSl9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7ZygpKHYoKSh0LnByb3RvdHlwZSksInVwZGF0ZVN0YXRlIix0aGlzKS5jYWxsKHRoaXMsZSksdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRvclN0YXRlOnRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci51cGRhdGVTdGF0ZShlLHt2aWV3cG9ydDp0aGlzLmNvbnRleHQudmlld3BvcnQsYXR0cmlidXRlczp0aGlzLmdldEF0dHJpYnV0ZXMoKSxudW1JbnN0YW5jZXM6dGhpcy5nZXROdW1JbnN0YW5jZXMoZS5wcm9wcyl9KX0pfX0se2tleToiZ2V0UGlja2luZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5mbztyZXR1cm4gdGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLmdldFBpY2tpbmdJbmZvKHtpbmZvOnR9KX19LHtrZXk6Il9vbkdldFN1YmxheWVyQ29sb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0QWNjZXNzb3IoImZpbGxDb2xvciIpKGUpfX0se2tleToiX29uR2V0U3VibGF5ZXJFbGV2YXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0QWNjZXNzb3IoImVsZXZhdGlvbiIpKGUpfX0se2tleToiX2dldFN1YmxheWVyVXBkYXRlVHJpZ2dlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRVcGRhdGVUcmlnZ2Vycyh0aGlzLnByb3BzKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5lbGV2YXRpb25TY2FsZSxuPWUuZXh0cnVkZWQscj1lLmNlbGxTaXplLGk9ZS5jb3ZlcmFnZSxhPWUubWF0ZXJpYWwsbz1lLnRyYW5zaXRpb25zLHM9dGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLHU9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJncmlkLWNlbGwiLHFlLmEpLGM9dGhpcy5fZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycygpO3JldHVybiBuZXcgdSh7Y2VsbFNpemU6cixjb3ZlcmFnZTppLG1hdGVyaWFsOmEsZWxldmF0aW9uU2NhbGU6dCxleHRydWRlZDpuLGdldEZpbGxDb2xvcjp0aGlzLl9vbkdldFN1YmxheWVyQ29sb3IuYmluZCh0aGlzKSxnZXRFbGV2YXRpb246dGhpcy5fb25HZXRTdWJsYXllckVsZXZhdGlvbi5iaW5kKHRoaXMpLHRyYW5zaXRpb25zOm8mJntnZXRGaWxsQ29sb3I6by5nZXRDb2xvclZhbHVlfHxvLmdldENvbG9yV2VpZ2h0LGdldEVsZXZhdGlvbjpvLmdldEVsZXZhdGlvblZhbHVlfHxvLmdldEVsZXZhdGlvbldlaWdodH19LHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImdyaWQtY2VsbCIsdXBkYXRlVHJpZ2dlcnM6Y30pLHtkYXRhOnMuc3RhdGUubGF5ZXJEYXRhLmRhdGF9KX19XSksdH0oZGUpO250LmxheWVyTmFtZT0iQ1BVR3JpZExheWVyIixudC5kZWZhdWx0UHJvcHM9dHQ7dmFyIHJ0PW4oMTQ1KSxpdD1NYXRoLlBJLzMsYXQ9WzAsaXQsMippdCwzKml0LDQqaXQsNSppdF07ZnVuY3Rpb24gb3QoZSl7cmV0dXJuIGVbMF19ZnVuY3Rpb24gc3QoZSl7cmV0dXJuIGVbMV19ZnVuY3Rpb24gdXQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGN0KCl7fXZhciBsdD17Y29sb3JEb21haW46bnVsbCxjb2xvclJhbmdlOm5lLGdldENvbG9yVmFsdWU6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTpudWxsfSxnZXRDb2xvcldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAxfX0sY29sb3JBZ2dyZWdhdGlvbjoiU1VNIixsb3dlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MCxtaW46MCxtYXg6MTAwfSx1cHBlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MTAwLG1pbjowLG1heDoxMDB9LGNvbG9yU2NhbGVUeXBlOiJxdWFudGl6ZSIsb25TZXRDb2xvckRvbWFpbjpjdCxlbGV2YXRpb25Eb21haW46bnVsbCxlbGV2YXRpb25SYW5nZTpbMCwxZTNdLGdldEVsZXZhdGlvblZhbHVlOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6bnVsbH0sZ2V0RWxldmF0aW9uV2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIDF9fSxlbGV2YXRpb25BZ2dyZWdhdGlvbjoiU1VNIixlbGV2YXRpb25Mb3dlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MCxtaW46MCxtYXg6MTAwfSxlbGV2YXRpb25VcHBlclBlcmNlbnRpbGU6e3R5cGU6Im51bWJlciIsdmFsdWU6MTAwLG1pbjowLG1heDoxMDB9LGVsZXZhdGlvblNjYWxlOnt0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjF9LGVsZXZhdGlvblNjYWxlVHlwZToibGluZWFyIixvblNldEVsZXZhdGlvbkRvbWFpbjpjdCxyYWRpdXM6e3R5cGU6Im51bWJlciIsdmFsdWU6MWUzLG1pbjoxfSxjb3ZlcmFnZTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxleHRydWRlZDohMSxoZXhhZ29uQWdncmVnYXRvcjpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZGF0YSxyPWUucmFkaXVzLGk9dC52aWV3cG9ydCxhPXQuYXR0cmlidXRlcyxvPW4ubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7dmFyIG4scj10LmF0dHJpYnV0ZXMsaT1yLnBvc2l0aW9ucy52YWx1ZSxhPXIucG9zaXRpb25zLmdldEFjY2Vzc29yKCkuc2l6ZSxvPTEvMCxzPTEvMCx1PS0xLzAsYz0tMS8wO2ZvcihuPTA7bjxhKmUubGVuZ3RoO24rPWEpe3ZhciBsPWlbbl0saD1pW24rMV07TnVtYmVyLmlzRmluaXRlKGwpJiZOdW1iZXIuaXNGaW5pdGUoaCkmJihvPU1hdGgubWluKGwsbyksdT1NYXRoLm1heChsLHUpLHM9TWF0aC5taW4oaCxzKSxjPU1hdGgubWF4KGgsYykpfXJldHVybltvLHMsdSxjXS5ldmVyeShOdW1iZXIuaXNGaW5pdGUpP1sobyt1KS8yLChzK2MpLzJdOm51bGx9KG4sdCk6bnVsbCxzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LmdldERpc3RhbmNlU2NhbGVzKG4pLnVuaXRzUGVyTWV0ZXI7cmV0dXJuIGUqclswXX0ocixpLG8pLHU9W10sYz1PYmplY3QoTGUuYSkobiksbD1jLml0ZXJhYmxlLGg9Yy5vYmplY3RJbmZvLGY9YS5wb3NpdGlvbnMudmFsdWUsZD1hLnBvc2l0aW9ucy5nZXRBY2Nlc3NvcigpLnNpemUsdj0hMCxwPSExLGc9dm9pZCAwO3RyeXtmb3IodmFyIHksbT1sW1N5bWJvbC5pdGVyYXRvcl0oKTshKHY9KHk9bS5uZXh0KCkpLmRvbmUpO3Y9ITApe3ZhciBfPXkudmFsdWU7aC5pbmRleCsrO3ZhciBPPWguaW5kZXgqZCx4PVtmW09dLGZbTysxXV07TnVtYmVyLmlzRmluaXRlKHhbMF0pJiZOdW1iZXIuaXNGaW5pdGUoeFsxXSk/dS5wdXNoKE9iamVjdC5hc3NpZ24oe3NjcmVlbkNvb3JkOmkucHJvamVjdEZsYXQoeCl9LF8pKTpiLmEud2FybigiSGV4YWdvbkxheWVyOiBpbnZhbGlkIHBvc2l0aW9uIikoKX19Y2F0Y2goZSl7cD0hMCxnPWV9ZmluYWxseXt0cnl7dnx8bnVsbD09bS5yZXR1cm58fG0ucmV0dXJuKCl9ZmluYWxseXtpZihwKXRocm93IGd9fXJldHVybntoZXhhZ29uczpmdW5jdGlvbigpe3ZhciBlLHQsbixyPTAsaT0wLGE9MSxvPTEscz1vdCx1PXN0O2Z1bmN0aW9uIGMoZSl7dmFyIHIsaT17fSxhPVtdLG89ZS5sZW5ndGg7Zm9yKHI9MDtyPG87KytyKWlmKCFpc05hTihsPStzLmNhbGwobnVsbCxjPWVbcl0scixlKSkmJiFpc05hTihoPSt1LmNhbGwobnVsbCxjLHIsZSkpKXt2YXIgYyxsLGgsZj1NYXRoLnJvdW5kKGgvPW4pLGQ9TWF0aC5yb3VuZChsPWwvdC0oMSZmKS8yKSx2PWgtZjtpZigzKk1hdGguYWJzKHYpPjEpe3ZhciBwPWwtZCxnPWQrKGw8ZD8tMToxKS8yLHk9ZisoaDxmPy0xOjEpLG09bC1nLGI9aC15O3AqcCt2KnY+bSptK2IqYiYmKGQ9ZysoMSZmPzE6LTEpLzIsZj15KX12YXIgXz1kKyItIitmLE89aVtfXTtPP08ucHVzaChjKTooYS5wdXNoKE89aVtfXT1bY10pLE8ueD0oZCsoMSZmKS8yKSp0LE8ueT1mKm4pfXJldHVybiBhfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9MCxuPTA7cmV0dXJuIGF0Lm1hcCgoZnVuY3Rpb24ocil7dmFyIGk9TWF0aC5zaW4ocikqZSxhPS1NYXRoLmNvcyhyKSplLG89aS10LHM9YS1uO3JldHVybiB0PWksbj1hLFtvLHNdfSkpfXJldHVybiBjLmhleGFnb249ZnVuY3Rpb24odCl7cmV0dXJuIm0iK2wobnVsbD09dD9lOit0KS5qb2luKCJsIikrInoifSxjLmNlbnRlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIHM9W10sdT1NYXRoLnJvdW5kKGkvbiksYz1NYXRoLnJvdW5kKHIvdCksbD11Km47bDxvK2U7bCs9biwrK3UpZm9yKHZhciBoPWMqdCsoMSZ1KSp0LzI7aDxhK3QvMjtoKz10KXMucHVzaChbaCxsXSk7cmV0dXJuIHN9LGMubWVzaD1mdW5jdGlvbigpe3ZhciB0PWwoZSkuc2xpY2UoMCw0KS5qb2luKCJsIik7cmV0dXJuIGMuY2VudGVycygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIk0iK2UrIm0iK3R9KSkuam9pbigiIil9LGMueD1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz1lLGMpOnN9LGMueT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1lLGMpOnV9LGMucmFkaXVzPWZ1bmN0aW9uKHIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PTIqKGU9K3IpKk1hdGguc2luKGl0KSxuPTEuNSplLGMpOmV9LGMuc2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1pPTAsYT0rZVswXSxvPStlWzFdLGMpOlthLXIsby1pXX0sYy5leHRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9K2VbMF1bMF0saT0rZVswXVsxXSxhPStlWzFdWzBdLG89K2VbMV1bMV0sYyk6W1tyLGldLFthLG9dXX0sYy5yYWRpdXMoMSl9KCkucmFkaXVzKHMpLngoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjcmVlbkNvb3JkWzBdfSkpLnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjcmVlbkNvb3JkWzFdfSkpKHUpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm57cG9zaXRpb246aS51bnByb2plY3RGbGF0KFtlLngsZS55XSkscG9pbnRzOmUsaW5kZXg6dH19KSkscmFkaXVzQ29tbW9uOnN9fSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvc2l0aW9ufX0sbWF0ZXJpYWw6ITAsX2ZpbHRlckRhdGE6e3R5cGU6ImZ1bmN0aW9uIix2YWx1ZTpudWxsLG9wdGlvbmFsOiEwfX0saHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB1KCkodGhpcyx0KSxmKCkodGhpcyx2KCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKHQsZSksbCgpKHQsW3trZXk6InNob3VsZFVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFuZ2VGbGFncy5zb21ldGhpbmdDaGFuZ2VkfX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW5ldyAkZSh7Z2V0QWdncmVnYXRvcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5oZXhhZ29uQWdncmVnYXRvcn0sZ2V0Q2VsbFNpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmFkaXVzfX0pO3RoaXMuc3RhdGU9e2NwdUFnZ3JlZ2F0b3I6ZSxhZ2dyZWdhdG9yU3RhdGU6ZS5zdGF0ZSxoZXhhZ29uVmVydGljZXM6bnVsbH0sdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKHtwb3NpdGlvbnM6e3NpemU6MyxhY2Nlc3NvcjoiZ2V0UG9zaXRpb24ifX0pfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2coKSh2KCkodC5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLGUpO3ZhciBuPXRoaXMuc3RhdGUscj1uLmNwdUFnZ3JlZ2F0b3IsaT1uLmhleGFnb25WZXJ0aWNlcztlLmNoYW5nZUZsYWdzLnByb3BzT3JEYXRhQ2hhbmdlZCYmdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRvclN0YXRlOnIudXBkYXRlU3RhdGUoZSx7dmlld3BvcnQ6dGhpcy5jb250ZXh0LnZpZXdwb3J0LGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCl9KX0pO3ZhciBhPShyLnN0YXRlLmxheWVyRGF0YXx8e30pLmhleGFnb25WZXJ0aWNlcztpZihhJiZpIT09YSl7dmFyIG89dGhpcy5jb252ZXJ0TGF0TG5nVG9NZXRlck9mZnNldChhKTtvJiZ0aGlzLnNldFN0YXRlKHtoZXhhZ29uVmVydGljZXM6YSx2ZXJ0aWNlczpvfSl9ZWxzZSB0aGlzLnVwZGF0ZVJhZGl1c0FuZ2xlKCl9fSx7a2V5OiJ1cGRhdGVSYWRpdXNBbmdsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb250ZXh0LnZpZXdwb3J0LmdldERpc3RhbmNlU2NhbGVzKCkudW5pdHNQZXJNZXRlcixuPXRoaXMuc3RhdGUuY3B1QWdncmVnYXRvcjtpZihuLnN0YXRlLmxheWVyRGF0YSYmbi5zdGF0ZS5sYXllckRhdGEucmFkaXVzQ29tbW9uKXt2YXIgcj1uLnN0YXRlLmxheWVyRGF0YS5yYWRpdXNDb21tb24vdFswXTt0aGlzLnNldFN0YXRlKHthbmdsZTo5MCxyYWRpdXM6cn0pfX19LHtrZXk6ImNvbnZlcnRMYXRMbmdUb01ldGVyT2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbnRleHQudmlld3BvcnQ7aWYoQXJyYXkuaXNBcnJheShlKSYmNj09PWUubGVuZ3RoKXt2YXIgbj1lWzBdLHI9ZVszXSxpPVsoblswXStyWzBdKS8yLChuWzFdK3JbMV0pLzJdLGE9dC5wcm9qZWN0RmxhdChpKSxvPXQuZ2V0RGlzdGFuY2VTY2FsZXMoaSkubWV0ZXJzUGVyVW5pdDtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPXQucHJvamVjdEZsYXQoZSk7cmV0dXJuWyhuWzBdLWFbMF0pKm9bMF0sKG5bMV0tYVsxXSkqb1sxXV19KSl9cmV0dXJuIGIuYS5lcnJvcigiSGV4YWdvbkxheWVyOiBoZXhhZ29uVmVydGljZXMgbmVlZHMgdG8gYmUgYW4gYXJyYXkgb2YgNiBwb2ludHMiKSgpLG51bGx9fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmZvO3JldHVybiB0aGlzLnN0YXRlLmNwdUFnZ3JlZ2F0b3IuZ2V0UGlja2luZ0luZm8oe2luZm86dH0pfX0se2tleToiX29uR2V0U3VibGF5ZXJDb2xvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRBY2Nlc3NvcigiZmlsbENvbG9yIikoZSl9fSx7a2V5OiJfb25HZXRTdWJsYXllckVsZXZhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdGUuY3B1QWdncmVnYXRvci5nZXRBY2Nlc3NvcigiZWxldmF0aW9uIikoZSl9fSx7a2V5OiJfZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS5jcHVBZ2dyZWdhdG9yLmdldFVwZGF0ZVRyaWdnZXJzKHRoaXMucHJvcHMpfX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmVsZXZhdGlvblNjYWxlLG49ZS5leHRydWRlZCxyPWUuY292ZXJhZ2UsaT1lLm1hdGVyaWFsLGE9ZS50cmFuc2l0aW9ucyxzPXRoaXMuc3RhdGUsdT1zLmFuZ2xlLGM9cy5yYWRpdXMsbD1zLmNwdUFnZ3JlZ2F0b3IsaD1zLnZlcnRpY2VzLGY9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJoZXhhZ29uLWNlbGwiLHJ0LmEpLGQ9dGhpcy5fZ2V0U3VibGF5ZXJVcGRhdGVUcmlnZ2VycygpO3JldHVybiBuZXcgZihmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj91dChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe28oKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6dXQoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9KHt9LGgmJmgubGVuZ3RoP3t2ZXJ0aWNlczpoLHJhZGl1czoxfTp7cmFkaXVzOmMsYW5nbGU6dX0se2Rpc2tSZXNvbHV0aW9uOjYsZWxldmF0aW9uU2NhbGU6dCxleHRydWRlZDpuLGNvdmVyYWdlOnIsbWF0ZXJpYWw6aSxnZXRGaWxsQ29sb3I6dGhpcy5fb25HZXRTdWJsYXllckNvbG9yLmJpbmQodGhpcyksZ2V0RWxldmF0aW9uOnRoaXMuX29uR2V0U3VibGF5ZXJFbGV2YXRpb24uYmluZCh0aGlzKSx0cmFuc2l0aW9uczphJiZ7Z2V0RmlsbENvbG9yOmEuZ2V0Q29sb3JWYWx1ZXx8YS5nZXRDb2xvcldlaWdodCxnZXRFbGV2YXRpb246YS5nZXRFbGV2YXRpb25WYWx1ZXx8YS5nZXRFbGV2YXRpb25XZWlnaHR9fSksdGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoiaGV4YWdvbi1jZWxsIix1cGRhdGVUcmlnZ2VyczpkfSkse2RhdGE6bC5zdGF0ZS5sYXllckRhdGEuZGF0YX0pfX1dKSx0fShkZSk7aHQubGF5ZXJOYW1lPSJIZXhhZ29uTGF5ZXIiLGh0LmRlZmF1bHRQcm9wcz1sdDt2YXIgZnQsZHQ9bigyMDEpLHZ0PW4oMTA5KSxwdD17TjpbMCwuNV0sRTpbLjUsMF0sUzpbMCwtLjVdLFc6Wy0uNSwwXSxORTpbLjUsLjVdLE5XOlstLjUsLjVdLFNFOlsuNSwtLjVdLFNXOlstLjUsLS41XX0sZ3Q9W3B0LlcscHQuU1cscHQuU10seXQ9W3B0LlMscHQuU0UscHQuRV0sbXQ9W3B0LkUscHQuTkUscHQuTl0sYnQ9W3B0Lk5XLHB0LlcscHQuTl0sX3Q9W1stLjUsMS82XSxbLS41LC0xLzZdLFstMS82LC0uNV0sWzEvNiwtLjVdXSxPdD1bWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdXSx4dD1bWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sd3Q9W1stLjUsMS82XSxbLS41LC0xLzZdLFsxLzYsLjVdLFstMS82LC41XV0sU3Q9W3B0LlcscHQuU1cscHQuU0UscHQuRV0sa3Q9W3B0LlMscHQuU0UscHQuTkUscHQuTl0sUHQ9W3B0Lk5XLHB0LlcscHQuRSxwdC5ORV0sanQ9W3B0Lk5XLHB0LlNXLHB0LlMscHQuTl0sVHQ9W1stLjUsMS82XSxbLS41LC0xLzZdLFsuNSwtMS82XSxbLjUsMS82XV0sRXQ9W1stMS82LC0uNV0sWzEvNiwtLjVdLFsxLzYsLjVdLFstMS82LC41XV0sQXQ9W3B0Lk5XLHB0LlNXLHB0LlNFLHB0Lk5FXSxNdD1bcHQuTlcscHQuU1cscHQuU0UscHQuRSxwdC5OXSxDdD1bcHQuVyxwdC5TVyxwdC5TRSxwdC5ORSxwdC5OXSxMdD1bcHQuTlcscHQuVyxwdC5TLHB0LlNFLHB0Lk5FXSxJdD1bcHQuTlcscHQuU1cscHQuUyxwdC5FLHB0Lk5FXSxSdD1bcHQuTlcscHQuVyxbLjUsLTEvNl0sWy41LDEvNl0scHQuTl0sRHQ9W1stMS82LC0uNV0sWzEvNiwtLjVdLHB0LkUscHQuTkUscHQuTl0sRnQ9W1stLjUsMS82XSxbLS41LC0xLzZdLHB0LlMscHQuU0UscHQuRV0sTnQ9W3B0LlcscHQuU1cscHQuUyxbMS82LC41XSxbLTEvNiwuNV1dLHp0PVtwdC5OVyxwdC5XLFstMS82LC0uNV0sWzEvNiwtLjVdLHB0Lk5dLEJ0PVtbLS41LDEvNl0sWy0uNSwtMS82XSxwdC5FLHB0Lk5FLHB0Lk5dLFV0PVtwdC5TLHB0LlNFLHB0LkUsWzEvNiwuNV0sWy0xLzYsLjVdXSxWdD1bcHQuVyxwdC5TVyxwdC5TLFsuNSwtMS82XSxbLjUsMS82XV0sR3Q9W3B0LlcscHQuU1cscHQuU0UscHQuRSxbMS82LC41XSxbLTEvNiwuNV1dLFd0PVtbLS41LDEvNl0sWy0uNSwtMS82XSxwdC5TLHB0LlNFLHB0Lk5FLHB0Lk5dLEh0PVtwdC5OVyxwdC5XLFstMS82LC0uNV0sWzEvNiwtLjVdLHB0LkUscHQuTkVdLHF0PVtwdC5OVyxwdC5TVyxwdC5TLFsuNSwtMS82XSxbLjUsMS82XSxwdC5OXSxYdD1bcHQuVyxwdC5TVyxwdC5TLHB0LkUscHQuTkUscHQuTl0sWnQ9W3B0Lk5XLHB0LlcscHQuUyxwdC5TRSxwdC5FLHB0Lk5dLFl0PVtbLS41LDEvNl0sWy0uNSwtMS82XSxbLTEvNiwtLjVdLFsxLzYsLS41XSxwdC5FLHB0Lk5FLHB0Lk5dLEt0PVtwdC5XLHB0LlNXLHB0LlMsWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sUXQ9W3B0Lk5XLHB0LlcsWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdLHB0Lk5dLEp0PVtbLS41LDEvNl0sWy0uNSwtMS82XSxwdC5TLHB0LlNFLHB0LkUsWzEvNiwuNV0sWy0xLzYsLjVdXSwkdD1bWy0uNSwxLzZdLFstLjUsLTEvNl0sWy0xLzYsLS41XSxbMS82LC0uNV0sWy41LC0xLzZdLFsuNSwxLzZdLFsxLzYsLjVdLFstMS82LC41XV0sZW49ezA6W10sMTpbW3B0LlcscHQuU11dLDI6W1twdC5TLHB0LkVdXSwzOltbcHQuVyxwdC5FXV0sNDpbW3B0Lk4scHQuRV1dLDU6ezA6W1twdC5XLHB0LlNdLFtwdC5OLHB0LkVdXSwxOltbcHQuVyxwdC5OXSxbcHQuUyxwdC5FXV19LDY6W1twdC5OLHB0LlNdXSw3OltbcHQuVyxwdC5OXV0sODpbW3B0LlcscHQuTl1dLDk6W1twdC5OLHB0LlNdXSwxMDp7MDpbW3B0LlcscHQuTl0sW3B0LlMscHQuRV1dLDE6W1twdC5XLHB0LlNdLFtwdC5OLHB0LkVdXX0sMTE6W1twdC5OLHB0LkVdXSwxMjpbW3B0LlcscHQuRV1dLDEzOltbcHQuUyxwdC5FXV0sMTQ6W1twdC5XLHB0LlNdXSwxNTpbXX07ZnVuY3Rpb24gdG4oZSl7cmV0dXJuIHBhcnNlSW50KGUsNCl9dmFyIG5uPShmdD17fSxvKCkoZnQsdG4oIjAwMDAiKSxbXSksbygpKGZ0LHRuKCIyMjIyIiksW10pLG8oKShmdCx0bigiMjIyMSIpLFtndF0pLG8oKShmdCx0bigiMjIxMiIpLFt5dF0pLG8oKShmdCx0bigiMjEyMiIpLFttdF0pLG8oKShmdCx0bigiMTIyMiIpLFtidF0pLG8oKShmdCx0bigiMDAwMSIpLFtndF0pLG8oKShmdCx0bigiMDAxMCIpLFt5dF0pLG8oKShmdCx0bigiMDEwMCIpLFttdF0pLG8oKShmdCx0bigiMTAwMCIpLFtidF0pLG8oKShmdCx0bigiMjIyMCIpLFtfdF0pLG8oKShmdCx0bigiMjIwMiIpLFtPdF0pLG8oKShmdCx0bigiMjAyMiIpLFt4dF0pLG8oKShmdCx0bigiMDIyMiIpLFt3dF0pLG8oKShmdCx0bigiMDAwMiIpLFtfdF0pLG8oKShmdCx0bigiMDAyMCIpLFtPdF0pLG8oKShmdCx0bigiMDIwMCIpLFt4dF0pLG8oKShmdCx0bigiMjAwMCIpLFt3dF0pLG8oKShmdCx0bigiMDAxMSIpLFtTdF0pLG8oKShmdCx0bigiMDExMCIpLFtrdF0pLG8oKShmdCx0bigiMTEwMCIpLFtQdF0pLG8oKShmdCx0bigiMTAwMSIpLFtqdF0pLG8oKShmdCx0bigiMjIxMSIpLFtTdF0pLG8oKShmdCx0bigiMjExMiIpLFtrdF0pLG8oKShmdCx0bigiMTEyMiIpLFtQdF0pLG8oKShmdCx0bigiMTIyMSIpLFtqdF0pLG8oKShmdCx0bigiMjIwMCIpLFtUdF0pLG8oKShmdCx0bigiMjAwMiIpLFtFdF0pLG8oKShmdCx0bigiMDAyMiIpLFtUdF0pLG8oKShmdCx0bigiMDIyMCIpLFtFdF0pLG8oKShmdCx0bigiMTExMSIpLFtBdF0pLG8oKShmdCx0bigiMTIxMSIpLFtNdF0pLG8oKShmdCx0bigiMjExMSIpLFtDdF0pLG8oKShmdCx0bigiMTExMiIpLFtMdF0pLG8oKShmdCx0bigiMTEyMSIpLFtJdF0pLG8oKShmdCx0bigiMTAxMSIpLFtNdF0pLG8oKShmdCx0bigiMDExMSIpLFtDdF0pLG8oKShmdCx0bigiMTExMCIpLFtMdF0pLG8oKShmdCx0bigiMTEwMSIpLFtJdF0pLG8oKShmdCx0bigiMTIwMCIpLFtSdF0pLG8oKShmdCx0bigiMDEyMCIpLFtEdF0pLG8oKShmdCx0bigiMDAxMiIpLFtGdF0pLG8oKShmdCx0bigiMjAwMSIpLFtOdF0pLG8oKShmdCx0bigiMTAyMiIpLFtSdF0pLG8oKShmdCx0bigiMjEwMiIpLFtEdF0pLG8oKShmdCx0bigiMjIxMCIpLFtGdF0pLG8oKShmdCx0bigiMDIyMSIpLFtOdF0pLG8oKShmdCx0bigiMTAwMiIpLFt6dF0pLG8oKShmdCx0bigiMjEwMCIpLFtCdF0pLG8oKShmdCx0bigiMDIxMCIpLFtVdF0pLG8oKShmdCx0bigiMDAyMSIpLFtWdF0pLG8oKShmdCx0bigiMTIyMCIpLFt6dF0pLG8oKShmdCx0bigiMDEyMiIpLFtCdF0pLG8oKShmdCx0bigiMjAxMiIpLFtVdF0pLG8oKShmdCx0bigiMjIwMSIpLFtWdF0pLG8oKShmdCx0bigiMDIxMSIpLFtHdF0pLG8oKShmdCx0bigiMjExMCIpLFtXdF0pLG8oKShmdCx0bigiMTEwMiIpLFtIdF0pLG8oKShmdCx0bigiMTAyMSIpLFtxdF0pLG8oKShmdCx0bigiMjAxMSIpLFtHdF0pLG8oKShmdCx0bigiMDExMiIpLFtXdF0pLG8oKShmdCx0bigiMTEyMCIpLFtIdF0pLG8oKShmdCx0bigiMTIwMSIpLFtxdF0pLG8oKShmdCx0bigiMjEwMSIpLFtYdF0pLG8oKShmdCx0bigiMDEyMSIpLFtYdF0pLG8oKShmdCx0bigiMTAxMiIpLFtadF0pLG8oKShmdCx0bigiMTIxMCIpLFtadF0pLG8oKShmdCx0bigiMDEwMSIpLHswOltndCxtdF0sMTpbWHRdLDI6W1h0XX0pLG8oKShmdCx0bigiMTAxMCIpLHswOltidCx5dF0sMTpbWnRdLDI6W1p0XX0pLG8oKShmdCx0bigiMjEyMSIpLHswOltYdF0sMTpbWHRdLDI6W2d0LG10XX0pLG8oKShmdCx0bigiMTIxMiIpLHswOltadF0sMTpbWnRdLDI6W2J0LHl0XX0pLG8oKShmdCx0bigiMjEyMCIpLHswOltZdF0sMTpbWXRdLDI6W190LG10XX0pLG8oKShmdCx0bigiMjAyMSIpLHswOltLdF0sMTpbS3RdLDI6W2d0LHh0XX0pLG8oKShmdCx0bigiMTIwMiIpLHswOltRdF0sMTpbUXRdLDI6W2J0LE90XX0pLG8oKShmdCx0bigiMDIxMiIpLHswOltKdF0sMTpbSnRdLDI6W3l0LHd0XX0pLG8oKShmdCx0bigiMDEwMiIpLHswOltfdCxtdF0sMTpbWXRdLDI6W1l0XX0pLG8oKShmdCx0bigiMDIwMSIpLHswOltndCx4dF0sMTpbS3RdLDI6W0t0XX0pLG8oKShmdCx0bigiMTAyMCIpLHswOltidCxPdF0sMTpbUXRdLDI6W1F0XX0pLG8oKShmdCx0bigiMjAxMCIpLHswOlt5dCx3dF0sMTpbSnRdLDI6W0p0XX0pLG8oKShmdCx0bigiMjAyMCIpLHswOlt3dCxPdF0sMTpbJHRdLDI6W190LHh0XX0pLG8oKShmdCx0bigiMDIwMiIpLHswOlt4dCxfdF0sMTpbJHRdLDI6W3d0LE90XX0pLGZ0KSxybj0xLGFuPTIsb249e3pJbmRleDowLHpPZmZzZXQ6LjAwNX07ZnVuY3Rpb24gc24oZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9lPHRbMF0/MDplPHRbMV0/MToyOmU+PXQ/MTowfWZ1bmN0aW9uIHVuKGUpe3ZhciB0PWUuY2VsbFdlaWdodHMsbj1lLngscj1lLnksaT1lLndpZHRoLGE9ZS5oZWlnaHQsbz1lLnRocmVzaG9sZDtlLnRocmVzaG9sZFZhbHVlJiYoYi5hLmRlcHJlY2F0ZWQoInRocmVzaG9sZFZhbHVlIiwidGhyZXNob2xkIikoKSxvPWUudGhyZXNob2xkVmFsdWUpO3ZhciBzPW48MCx1PW4+PWktMSxjPXI8MCxsPXI+PWEtMSxoPXN8fHV8fGN8fGwsZj17fSxkPXt9O3N8fGw/ZC50b3A9MDooZi50b3A9dFsocisxKSppK25dLGQudG9wPXNuKGYudG9wLG8pKSx1fHxsP2QudG9wUmlnaHQ9MDooZi50b3BSaWdodD10WyhyKzEpKmkrbisxXSxkLnRvcFJpZ2h0PXNuKGYudG9wUmlnaHQsbykpLHV8fGM/ZC5yaWdodD0wOihmLnJpZ2h0PXRbcippK24rMV0sZC5yaWdodD1zbihmLnJpZ2h0LG8pKSxzfHxjP2QuY3VycmVudD0wOihmLmN1cnJlbnQ9dFtyKmkrbl0sZC5jdXJyZW50PXNuKGYuY3VycmVudCxvKSk7dmFyIHY9ZC50b3AscD1kLnRvcFJpZ2h0LGc9ZC5yaWdodCx5PWQuY3VycmVudCxtPS0xO051bWJlci5pc0Zpbml0ZShvKSYmKG09djw8M3xwPDwyfGc8PDF8eSksQXJyYXkuaXNBcnJheShvKSYmKG09djw8NnxwPDw0fGc8PDJ8eSk7dmFyIF89MDtyZXR1cm4gaHx8KF89c24oKGYudG9wK2YudG9wUmlnaHQrZi5yaWdodCtmLmN1cnJlbnQpLzQsbykpLHtjb2RlOm0sbWVhbkNvZGU6X319ZnVuY3Rpb24gY24oZSl7dmFyIHQ9ZS5ncmlkT3JpZ2luLG49ZS5jZWxsU2l6ZSxyPWUueCxpPWUueSxhPWUuY29kZSxvPWUubWVhbkNvZGUscz1lLnR5cGUsdT12b2lkIDA9PT1zP3JuOnMsYz1PYmplY3QuYXNzaWduKHt9LG9uLGUudGhyZXNob2xkRGF0YSksbD11PT09YW4/bm5bYV06ZW5bYV07QXJyYXkuaXNBcnJheShsKXx8KGw9bFtvXSk7dmFyIGg9Yy56SW5kZXgqYy56T2Zmc2V0LGY9KHIrMSkqblswXSxkPShpKzEpKm5bMV0sdj10WzBdK2YscD10WzFdK2Q7aWYodT09PWFuKXt2YXIgZz1bXTtyZXR1cm4gbC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1bXTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPXYrZVswXSpuWzBdLGk9cCtlWzFdKm5bMV07dC5wdXNoKFtyLGksaF0pfSkpLGcucHVzaCh0KX0pKSxnfXZhciB5PVtdO3JldHVybiBsLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ditlWzBdKm5bMF0scj1wK2VbMV0qblsxXTt5LnB1c2goW3QscixoXSl9KSl9KSkseX12YXIgbG49WzI1NSwyNTUsMjU1LDI1NV0saG49e2NlbGxTaXplOnt0eXBlOiJudW1iZXIiLG1pbjoxLG1heDoxZTMsdmFsdWU6MWUzfSxnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvc2l0aW9ufX0sZ2V0V2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIDF9fSxncHVBZ2dyZWdhdGlvbjohMCxhZ2dyZWdhdGlvbjoiU1VNIixjb250b3Vyczpbe3RocmVzaG9sZDoxfV0sek9mZnNldDouMDA1fSxmbj17ZGF0YTp7cHJvcHM6WyJjZWxsU2l6ZSJdfSx3ZWlnaHRzOntwcm9wczpbImFnZ3JlZ2F0aW9uIl0sYWNjZXNzb3JzOlsiZ2V0V2VpZ2h0Il19fSxkbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO2coKSh2KCkodC5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7ZGltZW5zaW9uczpmbn0pLHRoaXMuc2V0U3RhdGUoe2NvbnRvdXJEYXRhOnt9LHByb2plY3RQb2ludHM6ITEsd2VpZ2h0czp7Y291bnQ6e3NpemU6MSxvcGVyYXRpb246RS5TVU19fX0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCgoZT17fSxvKCkoZSwicG9zaXRpb25zIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiIsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpfSksbygpKGUsImNvdW50Iix7c2l6ZTozLGFjY2Vzc29yOiJnZXRXZWlnaHQifSksZSkpfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2coKSh2KCkodC5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLGUpO3ZhciBuPSExLHI9ZS5vbGRQcm9wcyxpPWUucHJvcHMsYT10aGlzLnN0YXRlLmFnZ3JlZ2F0aW9uRGlydHk7ci5jb250b3Vycz09PWkuY29udG91cnMmJnIuek9mZnNldD09PWkuek9mZnNldHx8KG49ITAsdGhpcy5fdXBkYXRlVGhyZXNob2xkRGF0YShlLnByb3BzKSksdGhpcy5nZXROdW1JbnN0YW5jZXMoKT4wJiYoYXx8bikmJnRoaXMuX2dlbmVyYXRlQ29udG91cnMoKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLmNvbnRvdXJEYXRhLHQ9ZS5jb250b3VyU2VnbWVudHMsbj1lLmNvbnRvdXJQb2x5Z29ucyxyPXRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygibGluZXMiLGR0LmEpLGk9dGhpcy5nZXRTdWJMYXllckNsYXNzKCJiYW5kcyIsdnQuYSk7cmV0dXJuW3QmJnQubGVuZ3RoPjAmJm5ldyByKHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImxpbmVzIn0pLHtkYXRhOnRoaXMuc3RhdGUuY29udG91ckRhdGEuY29udG91clNlZ21lbnRzLGdldFNvdXJjZVBvc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXJ0fSxnZXRUYXJnZXRQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gZS5lbmR9LGdldENvbG9yOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRvdXIuY29sb3J8fGxufSxnZXRXaWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250b3VyLnN0cm9rZVdpZHRofHwxfX0pLG4mJm4ubGVuZ3RoPjAmJm5ldyBpKHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7aWQ6ImJhbmRzIn0pLHtkYXRhOnRoaXMuc3RhdGUuY29udG91ckRhdGEuY29udG91clBvbHlnb25zLGdldFBvbHlnb246ZnVuY3Rpb24oZSl7cmV0dXJuIGUudmVydGljZXN9LGdldEZpbGxDb2xvcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250b3VyLmNvbG9yfHxsbn19KV19fSx7a2V5OiJ1cGRhdGVBZ2dyZWdhdGlvblN0YXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3BzLG49ZS5vbGRQcm9wcyxyPXQuY2VsbFNpemUsaT10LmNvb3JkaW5hdGVTeXN0ZW0sYT10aGlzLmNvbnRleHQudmlld3BvcnQsbz1uLmNlbGxTaXplIT09cixzPXQuZ3B1QWdncmVnYXRpb247dGhpcy5zdGF0ZS5ncHVBZ2dyZWdhdGlvbiE9PXQuZ3B1QWdncmVnYXRpb24mJnMmJiFLLmlzU3VwcG9ydGVkKHRoaXMuY29udGV4dC5nbCkmJihiLmEud2FybigiR1BVIEdyaWQgQWdncmVnYXRpb24gbm90IHN1cHBvcnRlZCwgZmFsbGluZyBiYWNrIHRvIENQVSIpKCkscz0hMSk7dmFyIHU9cyE9PXRoaXMuc3RhdGUuZ3B1QWdncmVnYXRpb247dGhpcy5zZXRTdGF0ZSh7Z3B1QWdncmVnYXRpb246c30pO3ZhciBjPXRoaXMuc3RhdGUuZGltZW5zaW9ucyxsPXRoaXMuaXNBdHRyaWJ1dGVDaGFuZ2VkKCJwb3NpdGlvbnMiKSxoPWMuZGF0YSxmPWMud2VpZ2h0cyxkPXRoaXMuc3RhdGUuYm91bmRpbmdCb3g7aWYobCYmKGQ9RGUodGhpcy5nZXRBdHRyaWJ1dGVzKCksdGhpcy5nZXROdW1JbnN0YW5jZXMoKSksdGhpcy5zZXRTdGF0ZSh7Ym91bmRpbmdCb3g6ZH0pKSxsfHxvKXt2YXIgdj16ZShkLHIsYSxpKSxwPXYuZ3JpZE9mZnNldCxnPXYudHJhbnNsYXRpb24seT12LndpZHRoLG09di5oZWlnaHQsXz12Lm51bUNvbCxPPXYubnVtUm93O3RoaXMuYWxsb2NhdGVSZXNvdXJjZXMoTyxfKSx0aGlzLnNldFN0YXRlKHtncmlkT2Zmc2V0OnAsYm91bmRpbmdCb3g6ZCx0cmFuc2xhdGlvbjpnLHBvc09mZnNldDpnLnNsaWNlKCksZ3JpZE9yaWdpbjpbLTEqZ1swXSwtMSpnWzFdXSx3aWR0aDp5LGhlaWdodDptLG51bUNvbDpfLG51bVJvdzpPfSl9dmFyIHg9bHx8dXx8dGhpcy5pc0FnZ3JlZ2F0aW9uRGlydHkoZSx7ZGltZW5zaW9uOmgsY29tcGFyZUFsbDpzfSksdz10aGlzLmlzQWdncmVnYXRpb25EaXJ0eShlLHtkaW1lbnNpb246Zn0pO3cmJnRoaXMuX3VwZGF0ZUFjY2Vzc29ycyhlKSwoeHx8dykmJnRoaXMuX3Jlc2V0UmVzdWx0cygpLHRoaXMuc2V0U3RhdGUoe2FnZ3JlZ2F0aW9uRGF0YURpcnR5OngsYWdncmVnYXRpb25XZWlnaHRzRGlydHk6d30pfX0se2tleToiX3VwZGF0ZUFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPXQuZ2V0V2VpZ2h0LHI9dC5hZ2dyZWdhdGlvbixpPXRoaXMuc3RhdGUud2VpZ2h0cy5jb3VudDtpJiYoaS5nZXRXZWlnaHQ9bixpLm9wZXJhdGlvbj1FW3JdKSx0aGlzLnNldFN0YXRlKHtnZXRWYWx1ZTpMKHIsbil9KX19LHtrZXk6Il9yZXNldFJlc3VsdHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50O2UmJihlLmFnZ3JlZ2F0aW9uRGF0YT1udWxsKX19LHtrZXk6Il9nZW5lcmF0ZUNvbnRvdXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUsdD1lLm51bUNvbCxuPWUubnVtUm93LHI9ZS5ncmlkT3JpZ2luLGk9ZS5ncmlkT2Zmc2V0LGE9ZS50aHJlc2hvbGREYXRhLG89dGhpcy5zdGF0ZS53ZWlnaHRzLmNvdW50LHM9by5hZ2dyZWdhdGlvbkRhdGE7c3x8KHM9by5hZ2dyZWdhdGlvbkJ1ZmZlci5nZXREYXRhKCksby5hZ2dyZWdhdGlvbkRhdGE9cyk7dmFyIHU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aHJlc2hvbGREYXRhLG49KGUuY29sb3JzLGUuY2VsbFdlaWdodHMpLHI9ZS5ncmlkU2l6ZSxpPWUuZ3JpZE9yaWdpbixhPWUuY2VsbFNpemUsbz1bXSxzPVtdLHU9clswXSxjPXJbMV0sbD0wLGg9MCxmPSEwLGQ9ITEsdj12b2lkIDA7dHJ5e2Zvcih2YXIgcCxnPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEoZj0ocD1nLm5leHQoKSkuZG9uZSk7Zj0hMClmb3IodmFyIHk9cC52YWx1ZSxtPXkuY29udG91cixiPW0udGhyZXNob2xkLF89LTE7Xzx1O18rKylmb3IodmFyIE89LTE7TzxjO08rKyl7dmFyIHg9dW4oe2NlbGxXZWlnaHRzOm4sdGhyZXNob2xkOmIseDpfLHk6Tyx3aWR0aDp1LGhlaWdodDpjfSksdz17Z3JpZE9yaWdpbjppLGNlbGxTaXplOmEseDpfLHk6Tyx3aWR0aDp1LGhlaWdodDpjLGNvZGU6eC5jb2RlLG1lYW5Db2RlOngubWVhbkNvZGUsdGhyZXNob2xkRGF0YTp5fTtpZihBcnJheS5pc0FycmF5KGIpKXt3LnR5cGU9YW47dmFyIFM9Y24odyksaz0hMCxQPSExLGo9dm9pZCAwO3RyeXtmb3IodmFyIFQsRT1TW1N5bWJvbC5pdGVyYXRvcl0oKTshKGs9KFQ9RS5uZXh0KCkpLmRvbmUpO2s9ITApe3ZhciBBPVQudmFsdWU7c1toKytdPXt2ZXJ0aWNlczpBLGNvbnRvdXI6bX19fWNhdGNoKGUpe1A9ITAsaj1lfWZpbmFsbHl7dHJ5e2t8fG51bGw9PUUucmV0dXJufHxFLnJldHVybigpfWZpbmFsbHl7aWYoUCl0aHJvdyBqfX19ZWxzZXt3LnR5cGU9cm47Zm9yKHZhciBNPWNuKHcpLEM9MDtDPE0ubGVuZ3RoO0MrPTIpb1tsKytdPXtzdGFydDpNW0NdLGVuZDpNW0MrMV0sY29udG91cjptfX19fWNhdGNoKGUpe2Q9ITAsdj1lfWZpbmFsbHl7dHJ5e2Z8fG51bGw9PWcucmV0dXJufHxnLnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyB2fX1yZXR1cm57Y29udG91clNlZ21lbnRzOm8sY29udG91clBvbHlnb25zOnN9fSh7dGhyZXNob2xkRGF0YTphLGNlbGxXZWlnaHRzOksuZ2V0Q2VsbERhdGEoe2NvdW50c0RhdGE6c30pLmNlbGxXZWlnaHRzLGdyaWRTaXplOlt0LG5dLGdyaWRPcmlnaW46cixjZWxsU2l6ZTpbaS54T2Zmc2V0LGkueU9mZnNldF19KTt0aGlzLnNldFN0YXRlKHtjb250b3VyRGF0YTp1fSl9fSx7a2V5OiJfdXBkYXRlVGhyZXNob2xkRGF0YSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY29udG91cnMsbj1lLnpPZmZzZXQscj10Lmxlbmd0aCxpPW5ldyBBcnJheShyKSxhPTA7YTxyO2ErKyl7dmFyIG89dFthXTtpW2FdPXtjb250b3VyOm8sekluZGV4Om8uekluZGV4fHxhLHpPZmZzZXQ6bn19dGhpcy5zZXRTdGF0ZSh7dGhyZXNob2xkRGF0YTppfSl9fV0pLHR9KFZlKTtkbi5sYXllck5hbWU9IkNvbnRvdXJMYXllciIsZG4uZGVmYXVsdFByb3BzPWhuO3ZhciB2bj1uKDI3MikscG49big0NyksZ249bigyNTYpLHluPXtjb2xvckRvbWFpbjpudWxsLGNvbG9yUmFuZ2U6bmUsZWxldmF0aW9uRG9tYWluOm51bGwsZWxldmF0aW9uUmFuZ2U6WzAsMWUzXSxlbGV2YXRpb25TY2FsZTp7dHlwZToibnVtYmVyIixtaW46MCx2YWx1ZToxfSxncmlkU2l6ZTp7dHlwZToiYXJyYXkiLG1pbjowLHZhbHVlOlsxLDFdfSxncmlkT3JpZ2luOnt0eXBlOiJhcnJheSIsbWluOjAsdmFsdWU6WzAsMF19LGdyaWRPZmZzZXQ6e3R5cGU6ImFycmF5IixtaW46MCx2YWx1ZTpbMCwwXX0sY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjAsbWF4OjFlMyx2YWx1ZToxZTN9LG9mZnNldDp7dHlwZToiYXJyYXkiLG1pbjowLHZhbHVlOlsxLDFdfSxjb3ZlcmFnZTp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZToxfSxleHRydWRlZDohMCxtYXRlcmlhbDohMH0sbW49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB1KCkodGhpcyx0KSxmKCkodGhpcyx2KCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbSgpKHQsZSksbCgpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSh2KCkodC5wcm90b3R5cGUpLCJnZXRTaGFkZXJzIix0aGlzKS5jYWxsKHRoaXMse3ZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWdyaWQtY2VsbC1sYXllci12ZXJ0ZXgtc2hhZGVyXG4jZGVmaW5lIFJBTkdFX0NPVU5UIDZcblxuaW4gdmVjMyBwb3NpdGlvbnM7XG5pbiB2ZWMzIG5vcm1hbHM7XG5cbmluIHZlYzQgY29sb3JzO1xuaW4gdmVjNCBlbGV2YXRpb25zO1xuaW4gdmVjMyBpbnN0YW5jZVBpY2tpbmdDb2xvcnM7XG51bmlmb3JtIHZlYzIgb2Zmc2V0O1xudW5pZm9ybSBib29sIGV4dHJ1ZGVkO1xudW5pZm9ybSBmbG9hdCBjZWxsU2l6ZTtcbnVuaWZvcm0gZmxvYXQgY292ZXJhZ2U7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IGVsZXZhdGlvblNjYWxlO1xuXG51bmlmb3JtIGl2ZWMyIGdyaWRTaXplO1xudW5pZm9ybSB2ZWMyIGdyaWRPcmlnaW47XG51bmlmb3JtIHZlYzIgZ3JpZE9yaWdpbkxvdztcbnVuaWZvcm0gdmVjMiBncmlkT2Zmc2V0O1xudW5pZm9ybSB2ZWMyIGdyaWRPZmZzZXRMb3c7XG51bmlmb3JtIHZlYzQgY29sb3JSYW5nZVtSQU5HRV9DT1VOVF07XG51bmlmb3JtIHZlYzIgZWxldmF0aW9uUmFuZ2U7XG51bmlmb3JtIHZlYzIgY29sb3JEb21haW47XG51bmlmb3JtIGJvb2wgY29sb3JEb21haW5WYWxpZDtcbnVuaWZvcm0gdmVjMiBlbGV2YXRpb25Eb21haW47XG51bmlmb3JtIGJvb2wgZWxldmF0aW9uRG9tYWluVmFsaWQ7XG5cbmxheW91dChzdGQxNDApIHVuaWZvcm07XG51bmlmb3JtIENvbG9yRGF0YVxue1xuICB2ZWM0IG1heE1pbkNvdW50O1xufSBjb2xvckRhdGE7XG51bmlmb3JtIEVsZXZhdGlvbkRhdGFcbntcbiAgdmVjNCBtYXhNaW5Db3VudDtcbn0gZWxldmF0aW9uRGF0YTtcblxuI2RlZmluZSBFUFNJTE9OIDAuMDAwMDFcbm91dCB2ZWM0IHZDb2xvcjtcblxudmVjNCBxdWFudGl6ZVNjYWxlKHZlYzIgZG9tYWluLCB2ZWM0IHJhbmdlW1JBTkdFX0NPVU5UXSwgZmxvYXQgdmFsdWUpIHtcbiAgdmVjNCBvdXRDb2xvciA9IHZlYzQoMC4sIDAuLCAwLiwgMC4pO1xuICBpZiAodmFsdWUgPj0gKGRvbWFpbi54IC0gRVBTSUxPTikgJiYgdmFsdWUgPD0gKGRvbWFpbi55ICsgRVBTSUxPTikpIHtcbiAgICBmbG9hdCBkb21haW5SYW5nZSA9IGRvbWFpbi55IC0gZG9tYWluLng7XG4gICAgaWYgKGRvbWFpblJhbmdlIDw9IDAuKSB7XG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsb2F0IHJhbmdlQ291bnQgPSBmbG9hdChSQU5HRV9DT1VOVCk7XG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XG4gICAgICBmbG9hdCBpZHggPSBmbG9vcigodmFsdWUgLSBkb21haW4ueCkgLyByYW5nZVN0ZXApO1xuICAgICAgaWR4ID0gY2xhbXAoaWR4LCAwLiwgcmFuZ2VDb3VudCAtIDEuKTtcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcbiAgICAgIG91dENvbG9yID0gY29sb3JSYW5nZVtpbnRJZHhdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0Q29sb3I7XG59XG5cbmZsb2F0IGxpbmVhclNjYWxlKHZlYzIgZG9tYWluLCB2ZWMyIHJhbmdlLCBmbG9hdCB2YWx1ZSkge1xuICBpZiAodmFsdWUgPj0gKGRvbWFpbi54IC0gRVBTSUxPTikgJiYgdmFsdWUgPD0gKGRvbWFpbi55ICsgRVBTSUxPTikpIHtcbiAgICByZXR1cm4gKCh2YWx1ZSAtIGRvbWFpbi54KSAvIChkb21haW4ueSAtIGRvbWFpbi54KSkgKiAocmFuZ2UueSAtIHJhbmdlLngpICsgcmFuZ2UueDtcbiAgfVxuICByZXR1cm4gLTEuO1xufVxuXG52b2lkIG1haW4odm9pZCkge1xuXG4gIHZlYzIgY2xyRG9tYWluID0gY29sb3JEb21haW5WYWxpZCA/IGNvbG9yRG9tYWluIDogdmVjMihjb2xvckRhdGEubWF4TWluQ291bnQuYSwgY29sb3JEYXRhLm1heE1pbkNvdW50LnIpO1xuICB2ZWM0IGNvbG9yID0gcXVhbnRpemVTY2FsZShjbHJEb21haW4sIGNvbG9yUmFuZ2UsIGNvbG9ycy5yKTtcblxuICBmbG9hdCBlbGV2YXRpb24gPSAwLjA7XG5cbiAgaWYgKGV4dHJ1ZGVkKSB7XG4gICAgdmVjMiBlbHZEb21haW4gPSBlbGV2YXRpb25Eb21haW5WYWxpZCA/IGVsZXZhdGlvbkRvbWFpbiA6IHZlYzIoZWxldmF0aW9uRGF0YS5tYXhNaW5Db3VudC5hLCBlbGV2YXRpb25EYXRhLm1heE1pbkNvdW50LnIpO1xuICAgIGVsZXZhdGlvbiA9IGxpbmVhclNjYWxlKGVsdkRvbWFpbiwgZWxldmF0aW9uUmFuZ2UsIGVsZXZhdGlvbnMucik7XG4gICAgZWxldmF0aW9uID0gZWxldmF0aW9uICAqIChwb3NpdGlvbnMueiArIDEuMCkgLyAyLjAgKiBlbGV2YXRpb25TY2FsZTtcbiAgfVxuICBmbG9hdCBzaG91bGRSZW5kZXIgPSBmbG9hdChjb2xvci5yID4gMC4wICYmIGVsZXZhdGlvbnMuciA+PSAwLjApO1xuICBmbG9hdCBkb3RSYWRpdXMgPSBjZWxsU2l6ZSAvIDIuICogY292ZXJhZ2UgKiBzaG91bGRSZW5kZXI7XG5cbiAgaW50IHlJbmRleCA9IChnbF9JbnN0YW5jZUlEIC8gZ3JpZFNpemVbMF0pO1xuICBpbnQgeEluZGV4ID0gZ2xfSW5zdGFuY2VJRCAtICh5SW5kZXggKiBncmlkU2l6ZVswXSk7XG5cbiAgdmVjMiBpbnN0YW5jZVBvc2l0aW9uWEZQNjQgPSBtdWxfZnA2NCh2ZWMyKGdyaWRPZmZzZXRbMF0sIGdyaWRPZmZzZXRMb3dbMF0pLCB2ZWMyKGZsb2F0KHhJbmRleCksIDAuKSk7XG4gIGluc3RhbmNlUG9zaXRpb25YRlA2NCA9IHN1bV9mcDY0KGluc3RhbmNlUG9zaXRpb25YRlA2NCwgdmVjMihncmlkT3JpZ2luWzBdLCBncmlkT3JpZ2luTG93WzBdKSk7XG4gIHZlYzIgaW5zdGFuY2VQb3NpdGlvbllGUDY0ID0gbXVsX2ZwNjQodmVjMihncmlkT2Zmc2V0WzFdLCBncmlkT2Zmc2V0TG93WzFdKSwgdmVjMihmbG9hdCh5SW5kZXgpLCAwLikpO1xuICBpbnN0YW5jZVBvc2l0aW9uWUZQNjQgPSBzdW1fZnA2NChpbnN0YW5jZVBvc2l0aW9uWUZQNjQsIHZlYzIoZ3JpZE9yaWdpblsxXSwgZ3JpZE9yaWdpbkxvd1sxXSkpO1xuXG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbiA9IHZlYzMoaW5zdGFuY2VQb3NpdGlvblhGUDY0WzBdLCBpbnN0YW5jZVBvc2l0aW9uWUZQNjRbMF0sIGVsZXZhdGlvbik7XG4gIHZlYzMgY2VudHJvaWRQb3NpdGlvbjY0TG93ID0gdmVjMyhpbnN0YW5jZVBvc2l0aW9uWEZQNjRbMV0sIGluc3RhbmNlUG9zaXRpb25ZRlA2NFsxXSwgMC4wKTtcbiAgdmVjMyBwb3MgPSB2ZWMzKHByb2plY3Rfc2l6ZShwb3NpdGlvbnMueHkgKyBvZmZzZXQpICogZG90UmFkaXVzLCAwLik7XG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XG5cbiAgdmVjNCBwb3NpdGlvbl9jb21tb25zcGFjZTtcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShjZW50cm9pZFBvc2l0aW9uLCBjZW50cm9pZFBvc2l0aW9uNjRMb3csIHBvcywgcG9zaXRpb25fY29tbW9uc3BhY2UpO1xuXG4gIHZlYzMgbm9ybWFsc19jb21tb25zcGFjZSA9IHByb2plY3Rfbm9ybWFsKG5vcm1hbHMpO1xuXG4gICBpZiAoZXh0cnVkZWQpIHtcbiAgICB2ZWMzIGxpZ2h0Q29sb3IgPSBsaWdodGluZ19nZXRMaWdodENvbG9yKGNvbG9yLnJnYiwgcHJvamVjdF91Q2FtZXJhUG9zaXRpb24sIHBvc2l0aW9uX2NvbW1vbnNwYWNlLnh5eiwgbm9ybWFsc19jb21tb25zcGFjZSk7XG4gICAgdkNvbG9yID0gdmVjNChsaWdodENvbG9yLCBjb2xvci5hICogb3BhY2l0eSkgLyAyNTUuO1xuICB9IGVsc2Uge1xuICAgIHZDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogb3BhY2l0eSkgLyAyNTUuO1xuICB9XG59XG4iLGZzOiIjdmVyc2lvbiAzMDAgZXNcbiNkZWZpbmUgU0hBREVSX05BTUUgZ3B1LWdyaWQtY2VsbC1sYXllci1mcmFnbWVudC1zaGFkZXJcblxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG5pbiB2ZWM0IHZDb2xvcjtcblxub3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBmcmFnQ29sb3IgPSB2Q29sb3I7XG4gIGZyYWdDb2xvciA9IHBpY2tpbmdfZmlsdGVyQ29sb3IoZnJhZ0NvbG9yKTtcbn1cbiIsbW9kdWxlczpbVC5hLHZuLmEsZWUuYSxQLmJdfSl9fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3RoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZEluc3RhbmNlZCh7Y29sb3JzOntzaXplOjQsbm9BbGxvYzohMH0sZWxldmF0aW9uczp7c2l6ZTo0LG5vQWxsb2M6ITB9fSk7dmFyIHQ9dGhpcy5fZ2V0TW9kZWwoZSk7dGhpcy5fc2V0dXBVbmlmb3JtQnVmZmVyKHQpLHRoaXMuc2V0U3RhdGUoe21vZGVsOnR9KX19LHtrZXk6Il9nZXRNb2RlbCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBTLmEoZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyBnbi5hLGlzSW5zdGFuY2VkOiEwfSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51bmlmb3JtcyxuPXRoaXMucHJvcHMscj1uLmNlbGxTaXplLGk9bi5vZmZzZXQsYT1uLmV4dHJ1ZGVkLG89bi5lbGV2YXRpb25TY2FsZSxzPW4uY292ZXJhZ2UsdT1uLmdyaWRTaXplLGM9bi5ncmlkT3JpZ2luLGw9bi5ncmlkT2Zmc2V0LGg9bi5lbGV2YXRpb25SYW5nZSxmPW4uY29sb3JNYXhNaW5CdWZmZXIsZD1uLmVsZXZhdGlvbk1heE1pbkJ1ZmZlcix2PVtPYmplY3QocG4uYykoY1swXSksT2JqZWN0KHBuLmMpKGNbMV0pXSxwPVtPYmplY3QocG4uYykobFswXSksT2JqZWN0KHBuLmMpKGxbMV0pXSxnPXRoaXMuZ2V0RG9tYWluVW5pZm9ybXMoKSx5PXJlKHRoaXMucHJvcHMuY29sb3JSYW5nZSk7dGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcnMoZixkKSx0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKE9iamVjdC5hc3NpZ24oe30sdCxnLHtjZWxsU2l6ZTpyLG9mZnNldDppLGV4dHJ1ZGVkOmEsZWxldmF0aW9uU2NhbGU6byxjb3ZlcmFnZTpzLGdyaWRTaXplOnUsZ3JpZE9yaWdpbjpjLGdyaWRPcmlnaW5Mb3c6dixncmlkT2Zmc2V0OmwsZ3JpZE9mZnNldExvdzpwLGNvbG9yUmFuZ2U6eSxlbGV2YXRpb25SYW5nZTpofSkpLmRyYXcoKSx0aGlzLnVuYmluZFVuaWZvcm1CdWZmZXJzKGYsZCl9fSx7a2V5OiJiaW5kVW5pZm9ybUJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZS5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MH0pLHQuYmluZCh7dGFyZ2V0OjM1MzQ1LGluZGV4OjF9KX19LHtrZXk6InVuYmluZFVuaWZvcm1CdWZmZXJzIix2YWx1ZTpmdW5jdGlvbihlLHQpe2UudW5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MH0pLHQudW5iaW5kKHt0YXJnZXQ6MzUzNDUsaW5kZXg6MX0pfX0se2tleToiZ2V0RG9tYWluVW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuY29sb3JEb21haW4sbj1lLmVsZXZhdGlvbkRvbWFpbixyPXt9O3JldHVybiBudWxsIT09dD8oci5jb2xvckRvbWFpblZhbGlkPSEwLHIuY29sb3JEb21haW49dCk6ci5jb2xvckRvbWFpblZhbGlkPSExLG51bGwhPT1uPyhyLmVsZXZhdGlvbkRvbWFpblZhbGlkPSEwLHIuZWxldmF0aW9uRG9tYWluPW4pOnIuZWxldmF0aW9uRG9tYWluVmFsaWQ9ITEscn19LHtrZXk6Il9zZXR1cFVuaWZvcm1CdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29udGV4dC5nbCxuPWUucHJvZ3JhbS5oYW5kbGUscj10LmdldFVuaWZvcm1CbG9ja0luZGV4KG4sIkNvbG9yRGF0YSIpLGk9dC5nZXRVbmlmb3JtQmxvY2tJbmRleChuLCJFbGV2YXRpb25EYXRhIik7dC51bmlmb3JtQmxvY2tCaW5kaW5nKG4sciwwKSx0LnVuaWZvcm1CbG9ja0JpbmRpbmcobixpLDEpfX1dKSx0fSh0ZS5hKTttbi5sYXllck5hbWU9IkdQVUdyaWRDZWxsTGF5ZXIiLG1uLmRlZmF1bHRQcm9wcz15bjt2YXIgYm49e2NvbG9yRG9tYWluOm51bGwsY29sb3JSYW5nZTpuZSxnZXRDb2xvcldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAxfX0sY29sb3JBZ2dyZWdhdGlvbjoiU1VNIixlbGV2YXRpb25Eb21haW46bnVsbCxlbGV2YXRpb25SYW5nZTpbMCwxZTNdLGdldEVsZXZhdGlvbldlaWdodDp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAxfX0sZWxldmF0aW9uQWdncmVnYXRpb246IlNVTSIsZWxldmF0aW9uU2NhbGU6e3R5cGU6Im51bWJlciIsbWluOjAsdmFsdWU6MX0sY2VsbFNpemU6e3R5cGU6Im51bWJlciIsbWluOjEsbWF4OjFlMyx2YWx1ZToxZTN9LGNvdmVyYWdlOnt0eXBlOiJudW1iZXIiLG1pbjowLG1heDoxLHZhbHVlOjF9LGdldFBvc2l0aW9uOnt0eXBlOiJhY2Nlc3NvciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucG9zaXRpb259fSxleHRydWRlZDohMSxtYXRlcmlhbDohMH0sX249e2RhdGE6e3Byb3BzOlsiY2VsbFNpemUiLCJjb2xvckFnZ3JlZ2F0aW9uIiwiZWxldmF0aW9uQWdncmVnYXRpb24iXX19LE9uPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdSgpKHRoaXMsdCksZigpKHRoaXMsdigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKSh0LGUpLGwoKSh0LFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsbj10aGlzLmNvbnRleHQuZ2wscj1LLmlzU3VwcG9ydGVkKG4pO3J8fGIuYS5lcnJvcigiR1BVR3JpZExheWVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLCB1c2UgR3JpZExheWVyIGluc3RlYWQiKSgpLGcoKSh2KCkodC5wcm90b3R5cGUpLCJpbml0aWFsaXplU3RhdGUiLHRoaXMpLmNhbGwodGhpcyx7ZGltZW5zaW9uczpfbn0pLHRoaXMuc2V0U3RhdGUoe2dwdUFnZ3JlZ2F0aW9uOiEwLHByb2plY3RQb2ludHM6ITEsaXNTdXBwb3J0ZWQ6cix3ZWlnaHRzOntjb2xvcjp7bmVlZE1pbjohMCxuZWVkTWF4OiEwLGNvbWJpbmVNYXhNaW46ITAsbWF4TWluQnVmZmVyOm5ldyB2ZS5hKG4se2J5dGVMZW5ndGg6MTYsYWNjZXNzb3I6e3NpemU6NCx0eXBlOjUxMjYsZGl2aXNvcjoxfX0pfSxlbGV2YXRpb246e25lZWRNaW46ITAsbmVlZE1heDohMCxjb21iaW5lTWF4TWluOiEwLG1heE1pbkJ1ZmZlcjpuZXcgdmUuYShuLHtieXRlTGVuZ3RoOjE2LGFjY2Vzc29yOntzaXplOjQsdHlwZTo1MTI2LGRpdmlzb3I6MX19KX19LHBvc2l0aW9uQXR0cmlidXRlTmFtZToicG9zaXRpb25zIn0pLHRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpLmFkZCgoZT17fSxvKCkoZSwicG9zaXRpb25zIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiIsdHlwZTo1MTMwLGZwNjQ6dGhpcy51c2U2NGJpdFBvc2l0aW9ucygpfSksbygpKGUsImNvbG9yIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRDb2xvcldlaWdodCJ9KSxvKCkoZSwiZWxldmF0aW9uIix7c2l6ZTozLGFjY2Vzc29yOiJnZXRFbGV2YXRpb25XZWlnaHQifSksZSkpfX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpeyExIT09dGhpcy5zdGF0ZS5pc1N1cHBvcnRlZCYmKGcoKSh2KCkodC5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLGUpLHRoaXMuc3RhdGUuYWdncmVnYXRpb25EaXJ0eSYmdGhpcy5zZXRTdGF0ZSh7Z3JpZEhhc2g6bnVsbH0pKX19LHtrZXk6ImdldEhhc2hLZXlGb3JJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZSxuPXQubnVtUm93LHI9dC5udW1Db2wsaT10LmJvdW5kaW5nQm94LGE9dC5ncmlkT2Zmc2V0LG89W3Isbl0scz1baS54TWluLGkueU1pbl0sdT1bYS54T2Zmc2V0LGEueU9mZnNldF0sYz1NYXRoLmZsb29yKGUvb1swXSksbD1lLWMqb1swXSxoPU1hdGguZmxvb3IoKGMqdVsxXStzWzFdKzkwK3VbMV0vMikvdVsxXSksZj1NYXRoLmZsb29yKChsKnVbMF0rc1swXSsxODArdVswXS8yKS91WzBdKTtyZXR1cm4iIi5jb25jYXQoaCwiLSIpLmNvbmNhdChmKX19LHtrZXk6ImdldFBvc2l0aW9uRm9ySW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhdGUsbj10Lm51bVJvdyxyPXQubnVtQ29sLGk9dC5ib3VuZGluZ0JveCxhPXQuZ3JpZE9mZnNldCxvPVtyLG5dLHM9W2kueE1pbixpLnlNaW5dLHU9W2EueE9mZnNldCxhLnlPZmZzZXRdLGM9TWF0aC5mbG9vcihlL29bMF0pO3JldHVyblsoZS1jKm9bMF0pKnVbMF0rc1swXSxjKnVbMV0rc1sxXV19fSx7a2V5OiJnZXRQaWNraW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmZvLG49ZS5tb2RlLHI9dC5pbmRleCxpPW51bGw7aWYocj49MCl7dmFyIGE9dGhpcy5zdGF0ZS5ncHVHcmlkQWdncmVnYXRvcixvPXRoaXMuZ2V0UG9zaXRpb25Gb3JJbmRleChyKSxzPUsuZ2V0QWdncmVnYXRpb25EYXRhKE9iamVjdC5hc3NpZ24oe3BpeGVsSW5kZXg6cn0sYS5nZXREYXRhKCJjb2xvciIpKSksdT1LLmdldEFnZ3JlZ2F0aW9uRGF0YShPYmplY3QuYXNzaWduKHtwaXhlbEluZGV4OnJ9LGEuZ2V0RGF0YSgiZWxldmF0aW9uIikpKTtpZihpPXtjb2xvclZhbHVlOnMuY2VsbFdlaWdodCxlbGV2YXRpb25WYWx1ZTp1LmNlbGxXZWlnaHQsY291bnQ6cy5jZWxsQ291bnR8fHUuY2VsbENvdW50LHBvc2l0aW9uOm8sdG90YWxDb3VudDpzLnRvdGFsQ291bnR8fHUudG90YWxDb3VudH0sImhvdmVyIiE9PW4pe3ZhciBjPXRoaXMucHJvcHMsbD10aGlzLnN0YXRlLmdyaWRIYXNoO2lmKCFsKXt2YXIgaD10aGlzLnN0YXRlLGY9aC5ncmlkT2Zmc2V0LGQ9aC50cmFuc2xhdGlvbix2PWguYm91bmRpbmdCb3gscD10aGlzLmNvbnRleHQudmlld3BvcnQ7bD1VZShjLHtncmlkT2Zmc2V0OmYsYXR0cmlidXRlczp0aGlzLmdldEF0dHJpYnV0ZXMoKSx2aWV3cG9ydDpwLHRyYW5zbGF0aW9uOmQsYm91bmRpbmdCb3g6dn0pLmdyaWRIYXNoLHRoaXMuc2V0U3RhdGUoe2dyaWRIYXNoOmx9KX12YXIgZz1sW3RoaXMuZ2V0SGFzaEtleUZvckluZGV4KHIpXTtPYmplY3QuYXNzaWduKGksZyl9fXJldHVybiBPYmplY3QuYXNzaWduKHQse3BpY2tlZDpCb29sZWFuKGkpLG9iamVjdDppfSl9fSx7a2V5OiJyZW5kZXJMYXllcnMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc3RhdGUuaXNTdXBwb3J0ZWQpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5wcm9wcyx0PWUuZWxldmF0aW9uU2NhbGUsbj1lLmV4dHJ1ZGVkLHI9ZS5jZWxsU2l6ZSxpPWUuY292ZXJhZ2UsYT1lLm1hdGVyaWFsLG89ZS5lbGV2YXRpb25SYW5nZSxzPWUuY29sb3JEb21haW4sdT1lLmVsZXZhdGlvbkRvbWFpbixjPXRoaXMuc3RhdGUsbD1jLndlaWdodHMsaD1jLm51bVJvdyxmPWMubnVtQ29sLGQ9Yy5ncmlkT3JpZ2luLHY9Yy5ncmlkT2Zmc2V0LHA9bC5jb2xvcixnPWwuZWxldmF0aW9uLHk9cmUodGhpcy5wcm9wcy5jb2xvclJhbmdlKTtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiZ3B1LWdyaWQtY2VsbCIsbW4pKSh7Z3JpZFNpemU6W2YsaF0sZ3JpZE9yaWdpbjpkLGdyaWRPZmZzZXQ6W3YueE9mZnNldCx2LnlPZmZzZXRdLGNvbG9yUmFuZ2U6eSxlbGV2YXRpb25SYW5nZTpvLGNvbG9yRG9tYWluOnMsZWxldmF0aW9uRG9tYWluOnUsY2VsbFNpemU6cixjb3ZlcmFnZTppLG1hdGVyaWFsOmEsZWxldmF0aW9uU2NhbGU6dCxleHRydWRlZDpufSx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOiJncHUtZ3JpZC1jZWxsIn0pLHtkYXRhOnthdHRyaWJ1dGVzOntjb2xvcnM6cC5hZ2dyZWdhdGlvbkJ1ZmZlcixlbGV2YXRpb25zOmcuYWdncmVnYXRpb25CdWZmZXJ9fSxjb2xvck1heE1pbkJ1ZmZlcjpwLm1heE1pbkJ1ZmZlcixlbGV2YXRpb25NYXhNaW5CdWZmZXI6Zy5tYXhNaW5CdWZmZXIsbnVtSW5zdGFuY2VzOmYqaH0pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLndlaWdodHM7W2UuY29sb3IsZS5lbGV2YXRpb25dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYWdncmVnYXRpb25CdWZmZXI7ZS5tYXhNaW5CdWZmZXIuZGVsZXRlKCksdCYmdC5kZWxldGUoKX0pKSxnKCkodigpKHQucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKX19LHtrZXk6InVwZGF0ZUFnZ3JlZ2F0aW9uU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvcHMsbj1lLm9sZFByb3BzLHI9dC5jZWxsU2l6ZSxpPXQuY29vcmRpbmF0ZVN5c3RlbSxhPXRoaXMuY29udGV4dC52aWV3cG9ydCxvPW4uY2VsbFNpemUhPT1yLHM9dGhpcy5zdGF0ZS5kaW1lbnNpb25zLHU9dGhpcy5pc0F0dHJpYnV0ZUNoYW5nZWQoInBvc2l0aW9ucyIpLGM9dXx8dGhpcy5pc0F0dHJpYnV0ZUNoYW5nZWQoKSxsPXRoaXMuc3RhdGUuYm91bmRpbmdCb3g7aWYodSYmKGw9RGUodGhpcy5nZXRBdHRyaWJ1dGVzKCksdGhpcy5nZXROdW1JbnN0YW5jZXMoKSksdGhpcy5zZXRTdGF0ZSh7Ym91bmRpbmdCb3g6bH0pKSx1fHxvKXt2YXIgaD16ZShsLHIsYSxpKSxmPWguZ3JpZE9mZnNldCxkPWgudHJhbnNsYXRpb24sdj1oLndpZHRoLHA9aC5oZWlnaHQsZz1oLm51bUNvbCx5PWgubnVtUm93O3RoaXMuYWxsb2NhdGVSZXNvdXJjZXMoeSxnKSx0aGlzLnNldFN0YXRlKHtncmlkT2Zmc2V0OmYsdHJhbnNsYXRpb246ZCxncmlkT3JpZ2luOlstMSpkWzBdLC0xKmRbMV1dLHdpZHRoOnYsaGVpZ2h0OnAsbnVtQ29sOmcsbnVtUm93Onl9KX12YXIgbT1jfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eShlLHtkaW1lbnNpb246cy5kYXRhLGNvbXBhcmVBbGw6ITB9KTttJiZ0aGlzLl91cGRhdGVBY2Nlc3NvcnMoZSksdGhpcy5zZXRTdGF0ZSh7YWdncmVnYXRpb25EYXRhRGlydHk6bX0pfX0se2tleToiX3VwZGF0ZUFjY2Vzc29ycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPXQuY29sb3JBZ2dyZWdhdGlvbixyPXQuZWxldmF0aW9uQWdncmVnYXRpb24saT10aGlzLnN0YXRlLndlaWdodHMsYT1pLmNvbG9yLG89aS5lbGV2YXRpb247YS5vcGVyYXRpb249RVtuXSxvLm9wZXJhdGlvbj1FW3JdfX1dKSx0fShWZSk7T24ubGF5ZXJOYW1lPSJHUFVHcmlkTGF5ZXIiLE9uLmRlZmF1bHRQcm9wcz1ibjt2YXIgeG49T2JqZWN0LmFzc2lnbih7fSxPbi5kZWZhdWx0UHJvcHMsbnQuZGVmYXVsdFByb3BzLHtncHVBZ2dyZWdhdGlvbjohMX0pLHduPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdSgpKHRoaXMsdCksZigpKHRoaXMsdigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKSh0LGUpLGwoKSh0LFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT17dXNlR1BVQWdncmVnYXRpb246ITB9fX0se2tleToidXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe2Uub2xkUHJvcHM7dmFyIHQ9ZS5wcm9wcyxuPShlLmNoYW5nZUZsYWdzLHt9KTtuLnVzZUdQVUFnZ3JlZ2F0aW9uPXRoaXMuY2FuVXNlR1BVQWdncmVnYXRpb24odCksdGhpcy5zZXRTdGF0ZShuKX19LHtrZXk6InJlbmRlckxheWVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5kYXRhLG49ZS51cGRhdGVUcmlnZ2VycyxyPXRoaXMuc3RhdGUudXNlR1BVQWdncmVnYXRpb24/IkdQVSI6IkNQVSI7cmV0dXJuIG5ldyh0aGlzLnN0YXRlLnVzZUdQVUFnZ3JlZ2F0aW9uP3RoaXMuZ2V0U3ViTGF5ZXJDbGFzcygiR1BVIixPbik6dGhpcy5nZXRTdWJMYXllckNsYXNzKCJDUFUiLG50KSkodGhpcy5wcm9wcyx0aGlzLmdldFN1YkxheWVyUHJvcHMoe2lkOnIsdXBkYXRlVHJpZ2dlcnM6bn0pLHtkYXRhOnR9KX19LHtrZXk6ImNhblVzZUdQVUFnZ3JlZ2F0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmdwdUFnZ3JlZ2F0aW9uLG49ZS5sb3dlclBlcmNlbnRpbGUscj1lLnVwcGVyUGVyY2VudGlsZSxpPWUuZ2V0Q29sb3JWYWx1ZSxhPWUuZ2V0RWxldmF0aW9uVmFsdWUsbz1lLmNvbG9yU2NhbGVUeXBlO3JldHVybiEhdCYmKCEhSy5pc1N1cHBvcnRlZCh0aGlzLmNvbnRleHQuZ2wpJiYoMD09PW4mJjEwMD09PXImJihudWxsPT09aSYmbnVsbD09PWEmJigicXVhbnRpbGUiIT09byYmIm9yZGluYWwiIT09bykpKSl9fV0pLHR9KGhlLmEpO2Z1bmN0aW9uIFNuKGUpe3ZhciB0PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXX0pKSxuPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVsxXX0pKSxyPU1hdGgubWluLmFwcGx5KG51bGwsdCksaT1NYXRoLm1heC5hcHBseShudWxsLHQpO3JldHVybltyLE1hdGgubWluLmFwcGx5KG51bGwsbiksaSxNYXRoLm1heC5hcHBseShudWxsLG4pXX1mdW5jdGlvbiBrbihlLHQpe3JldHVybiB0WzBdPj1lWzBdJiZ0WzJdPD1lWzJdJiZ0WzFdPj1lWzFdJiZ0WzNdPD1lWzNdfXduLmxheWVyTmFtZT0iR3JpZExheWVyIix3bi5kZWZhdWx0UHJvcHM9eG47dmFyIFBuPW5ldyBGbG9hdDMyQXJyYXkoMTIpO2Z1bmN0aW9uIGpuKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyLG49MCxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMClmb3IodmFyIHU9by52YWx1ZSxjPTA7Yzx0O2MrKylQbltuKytdPXVbY118fDB9Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiBQbn1mdW5jdGlvbiBUbihlLHQsbil7dmFyIHI9Z2UoKShlLDQpLGk9clswXSxhPXJbMV0sbz1yWzJdLHM9clszXSx1PW8taSxjPXMtYSxsPXUsaD1jO3UvYzx0L24/bD10L24qYzpoPW4vdCp1LGw8dCYmKGw9dCxoPW4pO3ZhciBmPShvK2kpLzIsZD0ocythKS8yO3JldHVybltmLWwvMixkLWgvMixmK2wvMixkK2gvMl19ZnVuY3Rpb24gRW4oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufXZhciBBbj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIHUoKSh0aGlzLHQpLGYoKSh0aGlzLHYoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBtKCkodCxlKSxsKCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57dnM6IiNkZWZpbmUgU0hBREVSX05BTUUgaGVhdHAtbWFwLWxheWVyLXZlcnRleC1zaGFkZXJcblxudW5pZm9ybSBzYW1wbGVyMkQgbWF4VGV4dHVyZTtcbnVuaWZvcm0gZmxvYXQgaW50ZW5zaXR5O1xudW5pZm9ybSB2ZWMyIGNvbG9yRG9tYWluO1xudW5pZm9ybSBmbG9hdCB0aHJlc2hvbGQ7XG5cbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSB2ZWMyIHRleENvb3JkcztcblxudmFyeWluZyB2ZWMyIHZUZXhDb29yZHM7XG52YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHlNaW47XG52YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHlNYXg7XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdF9wb3NpdGlvbl90b19jbGlwc3BhY2UocG9zaXRpb25zLCB2ZWMzKDAuMCksIHZlYzMoMC4wKSk7XG4gIHZUZXhDb29yZHMgPSB0ZXhDb29yZHM7XG4gIGZsb2F0IG1heFZhbHVlID0gdGV4dHVyZTJEKG1heFRleHR1cmUsIHZlYzIoMC41KSkucjtcbiAgZmxvYXQgbWluVmFsdWUgPSBtYXhWYWx1ZSAqIHRocmVzaG9sZDtcbiAgaWYgKGNvbG9yRG9tYWluWzFdID4gMC4pIHtcbiAgICBtYXhWYWx1ZSA9IGNvbG9yRG9tYWluWzFdO1xuICAgIG1pblZhbHVlID0gY29sb3JEb21haW5bMF07XG4gIH1cbiAgdkludGVuc2l0eU1heCA9IGludGVuc2l0eSAvIG1heFZhbHVlO1xuICB2SW50ZW5zaXR5TWluID0gaW50ZW5zaXR5IC8gbWluVmFsdWU7XG59XG4iLGZzOiIjZGVmaW5lIFNIQURFUl9OQU1FIHRyaWFuZ2xlLWxheWVyLWZyYWdtZW50LXNoYWRlclxuXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XG52YXJ5aW5nIHZlYzIgdlRleENvb3JkcztcbnVuaWZvcm0gc2FtcGxlcjJEIGNvbG9yVGV4dHVyZTtcblxudmFyeWluZyBmbG9hdCB2SW50ZW5zaXR5TWluO1xudmFyeWluZyBmbG9hdCB2SW50ZW5zaXR5TWF4O1xuXG52ZWM0IGdldExpbmVhckNvbG9yKGZsb2F0IHZhbHVlKSB7XG4gIGZsb2F0IGZhY3RvciA9IGNsYW1wKHZhbHVlICogdkludGVuc2l0eU1heCwgMC4sIDEuKTtcbiAgdmVjNCBjb2xvciA9IHRleHR1cmUyRChjb2xvclRleHR1cmUsIHZlYzIoZmFjdG9yLCAwLjUpKTtcbiAgY29sb3IuYSAqPSBtaW4odmFsdWUgKiB2SW50ZW5zaXR5TWluLCAxLjApO1xuICByZXR1cm4gY29sb3I7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIGZsb2F0IHdlaWdodCA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmRzKS5yO1xuICBpZiAod2VpZ2h0IDw9IDAuKSB7XG4gICAgIGRpc2NhcmQ7XG4gIH1cblxuICB2ZWM0IGxpbmVhckNvbG9yID0gZ2V0TGluZWFyQ29sb3Iod2VpZ2h0KTtcbiAgbGluZWFyQ29sb3IuYSAqPSBvcGFjaXR5O1xuICBnbF9GcmFnQ29sb3IgPWxpbmVhckNvbG9yO1xufVxuIixtb2R1bGVzOltULmFdfX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCkuYWRkKHtwb3NpdGlvbnM6e3NpemU6Myxub0FsbG9jOiEwfSx0ZXhDb29yZHM6e3NpemU6Mixub0FsbG9jOiEwfX0pLHRoaXMuc2V0U3RhdGUoe21vZGVsOnRoaXMuX2dldE1vZGVsKGUpfSl9fSx7a2V5OiJfZ2V0TW9kZWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHJvcHMudmVydGV4Q291bnQ7cmV0dXJuIG5ldyBTLmEoZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuZ2V0U2hhZGVycygpLHtpZDp0aGlzLnByb3BzLmlkLGdlb21ldHJ5Om5ldyAkLmEoe2RyYXdNb2RlOjYsdmVydGV4Q291bnQ6dH0pfSkpfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51bmlmb3JtcyxuPXRoaXMuc3RhdGUubW9kZWwscj10aGlzLnByb3BzLGk9ci50ZXh0dXJlLGE9ci5tYXhUZXh0dXJlLHM9ci5jb2xvclRleHR1cmUsdT1yLmludGVuc2l0eSxjPXIudGhyZXNob2xkLGw9ci5jb2xvckRvbWFpbjtuLnNldFVuaWZvcm1zKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0VuKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bygpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpFbihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0oe30sdCx7dGV4dHVyZTppLG1heFRleHR1cmU6YSxjb2xvclRleHR1cmU6cyxpbnRlbnNpdHk6dSx0aHJlc2hvbGQ6Yyxjb2xvckRvbWFpbjpsfSkpLmRyYXcoKX19XSksdH0odGUuYSk7QW4ubGF5ZXJOYW1lPSJUcmlhbmdsZUxheWVyIixBbi5kZWZhdWx0UHJvcHM9e2NvdW50OjAsdGV4dHVyZTpudWxsfTt2YXIgTW4sQ249ImF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ucztcbmF0dHJpYnV0ZSBmbG9hdCB3ZWlnaHRzO1xudmFyeWluZyB2ZWM0IHdlaWdodHNUZXh0dXJlO1xudW5pZm9ybSBmbG9hdCByYWRpdXNQaXhlbHM7XG51bmlmb3JtIGZsb2F0IHRleHR1cmVXaWR0aDtcbnVuaWZvcm0gdmVjNCBjb21tb25Cb3VuZHM7XG51bmlmb3JtIGZsb2F0IHdlaWdodHNTY2FsZTtcbnZvaWQgbWFpbigpXG57XG4gIHdlaWdodHNUZXh0dXJlID0gdmVjNCh3ZWlnaHRzICogd2VpZ2h0c1NjYWxlLCAwLiwgMC4sIDEuKTtcblxuICBmbG9hdCByYWRpdXNUZXhlbHMgID0gcHJvamVjdF9waXhlbF9zaXplKHJhZGl1c1BpeGVscykgKiB0ZXh0dXJlV2lkdGggLyAoY29tbW9uQm91bmRzLnogLSBjb21tb25Cb3VuZHMueCk7XG4gIGdsX1BvaW50U2l6ZSA9IHJhZGl1c1RleGVscyAqIDIuO1xuXG4gIHZlYzMgY29tbW9uUG9zaXRpb24gPSBwcm9qZWN0X3Bvc2l0aW9uKHBvc2l0aW9ucyk7XG4gIGdsX1Bvc2l0aW9uLnh5ID0gKGNvbW1vblBvc2l0aW9uLnh5IC0gY29tbW9uQm91bmRzLnh5KSAvIChjb21tb25Cb3VuZHMuencgLSBjb21tb25Cb3VuZHMueHkpIDtcbiAgZ2xfUG9zaXRpb24ueHkgPSAoZ2xfUG9zaXRpb24ueHkgKiAyLikgLSAoMS4pO1xufVxuIixMbj0idmFyeWluZyB2ZWM0IHdlaWdodHNUZXh0dXJlO1xuZmxvYXQgZ2F1c3NpYW5LREUoZmxvYXQgdSl7XG4gIHJldHVybiBwb3coMi43MTgyOCwgLXUqdS8wLjA1NTU1KS8oMS43NzI0NTM4NSowLjE2NjY2Nik7XG59XG52b2lkIG1haW4oKVxue1xuICBmbG9hdCBkaXN0ID0gbGVuZ3RoKGdsX1BvaW50Q29vcmQgLSB2ZWMyKDAuNSwgMC41KSk7XG4gIGlmIChkaXN0ID4gMC41KSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuICBnbF9GcmFnQ29sb3IucmdiID0gd2VpZ2h0c1RleHR1cmUucmdiICogZ2F1c3NpYW5LREUoMi4gKiBkaXN0KTtcbiAgZ2xfRnJhZ0NvbG9yLmEgPSAxLjA7XG4gIERFQ0tHTF9GSUxURVJfQ09MT1IoZ2xfRnJhZ0NvbG9yLCBnZW9tZXRyeSk7XG59XG4iO2Z1bmN0aW9uIEluKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBSbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9JbihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe28oKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6SW4oT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIERuPXttaXBtYXBzOiExLHBhcmFtZXRlcnM6KE1uPXt9LG8oKShNbiwxMDI0MCw5NzI5KSxvKCkoTW4sMTAyNDEsOTcyOSksbygpKE1uLDEwMjQyLDMzMDcxKSxvKCkoTW4sMTAyNDMsMzMwNzEpLE1uKSxkYXRhRm9ybWF0OjY0MDh9LEZuPVswLDBdLE5uPXtnZXRQb3NpdGlvbjp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBvc2l0aW9ufX0sZ2V0V2VpZ2h0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6MX0saW50ZW5zaXR5Ont0eXBlOiJudW1iZXIiLG1pbjowLHZhbHVlOjF9LHJhZGl1c1BpeGVsczp7dHlwZToibnVtYmVyIixtaW46MSxtYXg6MTAwLHZhbHVlOjUwfSxjb2xvclJhbmdlOm5lLHRocmVzaG9sZDp7dHlwZToibnVtYmVyIixtaW46MCxtYXg6MSx2YWx1ZTouMDV9LGNvbG9yRG9tYWluOnt0eXBlOiJhcnJheSIsdmFsdWU6bnVsbCxvcHRpb25hbDohMH19LHpuPVtfLmEuQkxFTkRfRVFVQVRJT05fTUlOTUFYLF8uYS5URVhUVVJFX0ZMT0FUXSxCbj17ZGF0YTp7cHJvcHM6WyJyYWRpdXNQaXhlbHMiXX19LFVuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdSgpKHRoaXMsdCksZigpKHRoaXMsdigpKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG0oKSh0LGUpLGwoKSh0LFt7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO2lmKCFPYmplY3QoTy5jKShlLHpuKSlyZXR1cm4gdGhpcy5zZXRTdGF0ZSh7c3VwcG9ydGVkOiExfSksdm9pZCBiLmEuZXJyb3IoIkhlYXRtYXBMYXllcjogIi5jb25jYXQodGhpcy5pZCwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyIikpKCk7ZygpKHYoKSh0LnByb3RvdHlwZSksImluaXRpYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLEJuKSx0aGlzLnNldFN0YXRlKHtzdXBwb3J0ZWQ6ITB9KSx0aGlzLl9zZXR1cFRleHR1cmVQYXJhbXMoKSx0aGlzLl9zZXR1cEF0dHJpYnV0ZXMoKSx0aGlzLl9zZXR1cFJlc291cmNlcygpfX0se2tleToic2hvdWxkVXBkYXRlU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWR9fSx7a2V5OiJ1cGRhdGVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5zdGF0ZS5zdXBwb3J0ZWQpe2coKSh2KCkodC5wcm90b3R5cGUpLCJ1cGRhdGVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzLGUpO3ZhciBuPWUucHJvcHMscj1lLm9sZFByb3BzLGk9dGhpcy5fZ2V0Q2hhbmdlRmxhZ3MoZSk7aWYoaS52aWV3cG9ydENoYW5nZWQmJihpLmJvdW5kc0NoYW5nZWQ9dGhpcy5fdXBkYXRlQm91bmRzKCkpLGkuZGF0YUNoYW5nZWR8fGkuYm91bmRzQ2hhbmdlZD90aGlzLl91cGRhdGVXZWlnaHRtYXAoKTppLnZpZXdwb3J0Wm9vbUNoYW5nZWQmJnRoaXMuX2RlYm91bmNlZFVwZGF0ZVdlaWdodG1hcCgpLG4uY29sb3JSYW5nZSE9PXIuY29sb3JSYW5nZSYmdGhpcy5fdXBkYXRlQ29sb3JUZXh0dXJlKGUpLGkudmlld3BvcnRDaGFuZ2VkJiZ0aGlzLl91cGRhdGVUZXh0dXJlUmVuZGVyaW5nQm91bmRzKCksci5jb2xvckRvbWFpbiE9PW4uY29sb3JEb21haW58fGkudmlld3BvcnRDaGFuZ2VkKXt2YXIgYT10aGlzLmNvbnRleHQudmlld3BvcnQsbz10aGlzLnN0YXRlLndlaWdodHNTY2FsZSxzPShhPzEwMjQvYS5zY2FsZToxKSpvLHU9bi5jb2xvckRvbWFpbj9uLmNvbG9yRG9tYWluLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUqc30pKTpGbjtpZih1WzFdPjAmJm88MSl7dmFyIGM9TWF0aC5taW4odVsxXSwxKTt1WzBdKj1jL3VbMV0sdVsxXT1jfXRoaXMuc2V0U3RhdGUoe2NvbG9yRG9tYWluOnV9KX10aGlzLnNldFN0YXRlKHt6b29tOmUuY29udGV4dC52aWV3cG9ydC56b29tfSl9fX0se2tleToicmVuZGVyTGF5ZXJzIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnN0YXRlLnN1cHBvcnRlZClyZXR1cm5bXTt2YXIgZT10aGlzLnN0YXRlLHQ9ZS53ZWlnaHRzVGV4dHVyZSxuPWUudHJpUG9zaXRpb25CdWZmZXIscj1lLnRyaVRleENvb3JkQnVmZmVyLGk9ZS5tYXhXZWlnaHRzVGV4dHVyZSxhPWUuY29sb3JUZXh0dXJlLG89ZS5jb2xvckRvbWFpbixzPXRoaXMucHJvcHMsdT1zLnVwZGF0ZVRyaWdnZXJzLGM9cy5pbnRlbnNpdHksbD1zLnRocmVzaG9sZDtyZXR1cm4gbmV3KHRoaXMuZ2V0U3ViTGF5ZXJDbGFzcygidHJpYW5nbGUiLEFuKSkodGhpcy5nZXRTdWJMYXllclByb3BzKHtpZDoidHJpYW5nbGUtbGF5ZXIiLHVwZGF0ZVRyaWdnZXJzOnV9KSx7ZGF0YTp7YXR0cmlidXRlczp7cG9zaXRpb25zOm4sdGV4Q29vcmRzOnJ9fSx2ZXJ0ZXhDb3VudDo0LG1heFRleHR1cmU6aSxjb2xvclRleHR1cmU6YSx0ZXh0dXJlOnQsaW50ZW5zaXR5OmMsdGhyZXNob2xkOmwsY29sb3JEb21haW46b30pfX0se2tleToiZmluYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtnKCkodigpKHQucHJvdG90eXBlKSwiZmluYWxpemVTdGF0ZSIsdGhpcykuY2FsbCh0aGlzKTt2YXIgZT10aGlzLnN0YXRlLG49ZS53ZWlnaHRzVHJhbnNmb3JtLHI9ZS53ZWlnaHRzVGV4dHVyZSxpPWUubWF4V2VpZ2h0VHJhbnNmb3JtLGE9ZS5tYXhXZWlnaHRzVGV4dHVyZSxvPWUudHJpUG9zaXRpb25CdWZmZXIscz1lLnRyaVRleENvb3JkQnVmZmVyLHU9ZS5jb2xvclRleHR1cmUsYz1lLnVwZGF0ZVRpbWVyO24mJm4uZGVsZXRlKCksciYmci5kZWxldGUoKSxpJiZpLmRlbGV0ZSgpLGEmJmEuZGVsZXRlKCksbyYmby5kZWxldGUoKSxzJiZzLmRlbGV0ZSgpLHUmJnUuZGVsZXRlKCksYyYmY2xlYXJUaW1lb3V0KGMpfX0se2tleToiX2dldEF0dHJpYnV0ZU1hbmFnZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsZS5hKHRoaXMuY29udGV4dC5nbCx7aWQ6dGhpcy5wcm9wcy5pZCxzdGF0czp0aGlzLmNvbnRleHQuc3RhdHN9KX19LHtrZXk6Il9nZXRDaGFuZ2VGbGFncyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj10aGlzLnN0YXRlLmRpbWVuc2lvbnM7dC5kYXRhQ2hhbmdlZD10aGlzLmlzQXR0cmlidXRlQ2hhbmdlZCgpfHx0aGlzLmlzQWdncmVnYXRpb25EaXJ0eShlLHtjb21wYXJlQWxsOiEwLGRpbWVuc2lvbjpuLmRhdGF9KSx0LnZpZXdwb3J0Q2hhbmdlZD1lLmNoYW5nZUZsYWdzLnZpZXdwb3J0Q2hhbmdlZDt2YXIgcj10aGlzLnN0YXRlLnpvb207cmV0dXJuIGUuY29udGV4dC52aWV3cG9ydCYmZS5jb250ZXh0LnZpZXdwb3J0Lnpvb209PT1yfHwodC52aWV3cG9ydFpvb21DaGFuZ2VkPSEwKSx0fX0se2tleToiX2NyZWF0ZVRleHR1cmVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dC5nbCx0PXRoaXMuc3RhdGUsbj10LnRleHR1cmVTaXplLHI9dC5mb3JtYXQsaT10LnR5cGU7dGhpcy5zZXRTdGF0ZSh7d2VpZ2h0c1RleHR1cmU6bmV3IFUuYShlLFJuKHt3aWR0aDpuLGhlaWdodDpuLGZvcm1hdDpyLHR5cGU6aX0sRG4pKSxtYXhXZWlnaHRzVGV4dHVyZTpuZXcgVS5hKGUsUm4oe2Zvcm1hdDpyLHR5cGU6aX0sRG4pKX0pfX0se2tleToiX3NldHVwQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKS5hZGQoe3Bvc2l0aW9uczp7c2l6ZTozLGFjY2Vzc29yOiJnZXRQb3NpdGlvbiJ9LHdlaWdodHM6e3NpemU6MSxhY2Nlc3NvcjoiZ2V0V2VpZ2h0In19KSx0aGlzLnNldFN0YXRlKHtwb3NpdGlvbkF0dHJpYnV0ZU5hbWU6InBvc2l0aW9ucyJ9KX19LHtrZXk6Il9zZXR1cFRleHR1cmVQYXJhbXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsLHQ9TWF0aC5taW4oMjA0OCxPYmplY3QoeC5kKShlLDMzNzkpKSxuPU9iamVjdChPLmMpKGUsXy5hLkNPTE9SX0FUVEFDSE1FTlRfUkdCQTMyRikscj1mdW5jdGlvbihlKXt2YXIgdD1lLmdsLG49ZS5mbG9hdFRhcmdldFN1cHBvcnQ7cmV0dXJue2Zvcm1hdDpPYmplY3QoeC5nKSh0KT8zNDgzNjo2NDA4LHR5cGU6bj81MTI2OjUxMjF9fSh7Z2w6ZSxmbG9hdFRhcmdldFN1cHBvcnQ6bn0pLGk9ci5mb3JtYXQsYT1yLnR5cGUsbz1uPzE6MS8yNTU7dGhpcy5zZXRTdGF0ZSh7dGV4dHVyZVNpemU6dCxmb3JtYXQ6aSx0eXBlOmEsd2VpZ2h0c1NjYWxlOm99KSxufHxiLmEud2FybigiSGVhdG1hcExheWVyOiAiLmNvbmNhdCh0aGlzLmlkLCIgcmVuZGVyaW5nIHRvIGZsb2F0IHRleHR1cmUgbm90IHN1cHBvcnRlZCwgZmFsbGluZ2JhY2sgdG8gbG93IHByZWNlc3Npb24gZm9ybWF0IikpKCl9fSx7a2V5OiJfY3JlYXRlV2VpZ2h0c1RyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD10aGlzLmNvbnRleHQuZ2wsbj10aGlzLnN0YXRlLndlaWdodHNUcmFuc2Zvcm0scj10aGlzLnN0YXRlLndlaWdodHNUZXh0dXJlO24mJm4uZGVsZXRlKCk7dmFyIGk9T2JqZWN0KGouYSkoe3ZzOkNuLF9mczpMbixtb2R1bGVzOltULmFdfSxlKTtuPW5ldyBrLmEodCxSbih7aWQ6IiIuY29uY2F0KHRoaXMuaWQsIi13ZWlnaHRzLXRyYW5zZm9ybSIpLGVsZW1lbnRDb3VudDoxLF90YXJnZXRUZXh0dXJlOnIsX3RhcmdldFRleHR1cmVWYXJ5aW5nOiJ3ZWlnaHRzVGV4dHVyZSJ9LGkpKSx0aGlzLnNldFN0YXRlKHt3ZWlnaHRzVHJhbnNmb3JtOm59KX19LHtrZXk6Il9zZXR1cFJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5fY3JlYXRlVGV4dHVyZXMoKTt2YXIgdD10aGlzLnN0YXRlLG49dC50ZXh0dXJlU2l6ZSxyPXQud2VpZ2h0c1RleHR1cmUsaT10Lm1heFdlaWdodHNUZXh0dXJlO3RoaXMuX2NyZWF0ZVdlaWdodHNUcmFuc2Zvcm0oKTt2YXIgYT1uZXcgay5hKGUse2lkOiIiLmNvbmNhdCh0aGlzLmlkLCItbWF4LXdlaWdodHMtdHJhbnNmb3JtIiksX3NvdXJjZVRleHR1cmVzOntpblRleHR1cmU6cn0sX3RhcmdldFRleHR1cmU6aSxfdGFyZ2V0VGV4dHVyZVZhcnlpbmc6Im91dFRleHR1cmUiLHZzOiJhdHRyaWJ1dGUgdmVjNCBpblRleHR1cmU7XG52YXJ5aW5nIHZlYzQgb3V0VGV4dHVyZTtcblxudm9pZCBtYWluKClcbntcbm91dFRleHR1cmUgPSBpblRleHR1cmU7XG5nbF9Qb3NpdGlvbiA9IHZlYzQoMCwgMCwgMCwgMS4pO1xuZ2xfUG9pbnRTaXplID0gMS4wO1xufVxuIixlbGVtZW50Q291bnQ6bipufSk7dGhpcy5zZXRTdGF0ZSh7d2VpZ2h0c1RleHR1cmU6cixtYXhXZWlnaHRzVGV4dHVyZTppLG1heFdlaWdodFRyYW5zZm9ybTphLHpvb206bnVsbCx0cmlQb3NpdGlvbkJ1ZmZlcjpuZXcgdmUuYShlLHtieXRlTGVuZ3RoOjQ4LGFjY2Vzc29yOntzaXplOjN9fSksdHJpVGV4Q29vcmRCdWZmZXI6bmV3IHZlLmEoZSx7Ynl0ZUxlbmd0aDo0OCxhY2Nlc3Nvcjp7c2l6ZToyfX0pfSl9fSx7a2V5OiJ1cGRhdGVTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jcmVhdGVXZWlnaHRzVHJhbnNmb3JtKGUpfX0se2tleToiX3VwZGF0ZU1heFdlaWdodFZhbHVlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGUubWF4V2VpZ2h0VHJhbnNmb3JtLnJ1bih7cGFyYW1ldGVyczp7YmxlbmQ6ITAsZGVwdGhUZXN0OiExLGJsZW5kRnVuYzpbMSwxXSxibGVuZEVxdWF0aW9uOjMyNzc2fX0pfX0se2tleToiX3VwZGF0ZUJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9dGhpcy5jb250ZXh0LnZpZXdwb3J0LG49W3QudW5wcm9qZWN0KFswLDBdKSx0LnVucHJvamVjdChbdC53aWR0aCwwXSksdC51bnByb2plY3QoW3Qud2lkdGgsdC5oZWlnaHRdKSx0LnVucHJvamVjdChbMCx0LmhlaWdodF0pXSxyPVNuKG4pLGk9e3Zpc2libGVXb3JsZEJvdW5kczpyLHZpZXdwb3J0Q29ybmVyczpufSxhPSExO2lmKGV8fCF0aGlzLnN0YXRlLndvcmxkQm91bmRzfHwha24odGhpcy5zdGF0ZS53b3JsZEJvdW5kcyxyKSl7dmFyIG89dGhpcy5fd29ybGRUb0NvbW1vbkJvdW5kcyhyKSxzPXRoaXMuX2NvbW1vblRvV29ybGRCb3VuZHMobyk7dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtPT09SWUuYS5MTkdMQVQmJihzWzFdPU1hdGgubWF4KHNbMV0sLTg1LjA1MTEyOSksc1szXT1NYXRoLm1pbihzWzNdLDg1LjA1MTEyOSksc1swXT1NYXRoLm1heChzWzBdLC0zNjApLHNbMl09TWF0aC5taW4oc1syXSwzNjApKTt2YXIgdT10aGlzLl93b3JsZFRvQ29tbW9uQm91bmRzKHMpO2kud29ybGRCb3VuZHM9cyxpLm5vcm1hbGl6ZWRDb21tb25Cb3VuZHM9dSxhPSEwfXJldHVybiB0aGlzLnNldFN0YXRlKGkpLGF9fSx7a2V5OiJfdXBkYXRlVGV4dHVyZVJlbmRlcmluZ0JvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLHQ9ZS50cmlQb3NpdGlvbkJ1ZmZlcixuPWUudHJpVGV4Q29vcmRCdWZmZXIscj1lLm5vcm1hbGl6ZWRDb21tb25Cb3VuZHMsaT1lLnZpZXdwb3J0Q29ybmVycyxhPXRoaXMuY29udGV4dC52aWV3cG9ydDt0LnN1YkRhdGEoam4oaSwzKSk7dmFyIG89aS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0PWEucHJvamVjdFBvc2l0aW9uKGUpLG49cixpPWdlKCkobiw0KSxvPWlbMF0scz1pWzFdLHU9aVsyXSxjPWlbM10sWyh0WzBdLW8pLyh1LW8pLCh0WzFdLXMpLyhjLXMpXTt2YXIgdCxuLGksbyxzLHUsY30pKTtuLnN1YkRhdGEoam4obywyKSl9fSx7a2V5OiJfdXBkYXRlQ29sb3JUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByb3BzLmNvbG9yUmFuZ2Usbj10aGlzLnN0YXRlLmNvbG9yVGV4dHVyZSxyPXJlKHQsITApO24/bi5zZXRJbWFnZURhdGEoe2RhdGE6cix3aWR0aDp0Lmxlbmd0aH0pOm49bmV3IFUuYSh0aGlzLmNvbnRleHQuZ2wsUm4oe2RhdGE6cix3aWR0aDp0Lmxlbmd0aCxoZWlnaHQ6MSxmb3JtYXQ6T2JqZWN0KHguZykodGhpcy5jb250ZXh0LmdsKT8zNDgzNjo2NDA4LHR5cGU6NTEyNn0sRG4pKSx0aGlzLnNldFN0YXRlKHtjb2xvclRleHR1cmU6bn0pfX0se2tleToiX3VwZGF0ZVdlaWdodG1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucHJvcHMucmFkaXVzUGl4ZWxzLG49dGhpcy5zdGF0ZSxyPW4ud2VpZ2h0c1RyYW5zZm9ybSxpPW4ud29ybGRCb3VuZHMsYT1uLnRleHR1cmVTaXplLHM9bi53ZWlnaHRzVGV4dHVyZSx1PW4ud2VpZ2h0c1NjYWxlLGM9e3JhZGl1c1BpeGVsczp0LGNvbW1vbkJvdW5kczp0aGlzLl93b3JsZFRvQ29tbW9uQm91bmRzKGkse3VzZUxheWVyQ29vcmRpbmF0ZVN5c3RlbTohMH0pLHRleHR1cmVXaWR0aDphLHdlaWdodHNTY2FsZTp1fTtyLnVwZGF0ZSh7ZWxlbWVudENvdW50OnRoaXMuZ2V0TnVtSW5zdGFuY2VzKCl9KSxyLnJ1bih7dW5pZm9ybXM6YyxwYXJhbWV0ZXJzOntibGVuZDohMCxkZXB0aFRlc3Q6ITEsYmxlbmRGdW5jOlsxLDFdLGJsZW5kRXF1YXRpb246MzI3NzR9LGNsZWFyUmVuZGVyVGFyZ2V0OiEwLGF0dHJpYnV0ZXM6dGhpcy5nZXRBdHRyaWJ1dGVzKCksbW9kdWxlU2V0dGluZ3M6dGhpcy5nZXRNb2R1bGVTZXR0aW5ncygpfSksdGhpcy5fdXBkYXRlTWF4V2VpZ2h0VmFsdWUoKSxzLnNldFBhcmFtZXRlcnMoKGU9e30sbygpKGUsMTAyNDAsOTcyOSksbygpKGUsMTAyNDEsOTcyOSksZSkpLHRoaXMuc2V0U3RhdGUoe2xhc3RVcGRhdGU6RGF0ZS5ub3coKX0pfX0se2tleToiX2RlYm91bmNlZFVwZGF0ZVdlaWdodG1hcCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9dGhpcy5zdGF0ZS51cGRhdGVUaW1lcixuPURhdGUubm93KCktdGhpcy5zdGF0ZS5sYXN0VXBkYXRlO2UmJih0PW51bGwpLG4+PTUwMD8odGhpcy5fdXBkYXRlQm91bmRzKCEwKSx0aGlzLl91cGRhdGVXZWlnaHRtYXAoKSx0aGlzLl91cGRhdGVUZXh0dXJlUmVuZGVyaW5nQm91bmRzKCkpOnR8fCh0PXNldFRpbWVvdXQodGhpcy5fZGVib3VuY2VkVXBkYXRlV2VpZ2h0bWFwLmJpbmQodGhpcywhMCksNTAwLW4pKSx0aGlzLnNldFN0YXRlKHt1cGRhdGVUaW1lcjp0fSl9fSx7a2V5OiJfd29ybGRUb0NvbW1vbkJvdW5kcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxpPXIudXNlTGF5ZXJDb29yZGluYXRlU3lzdGVtLGE9dm9pZCAwIT09aSYmaSxvPWdlKCkoZSw0KSxzPW9bMF0sdT1vWzFdLGM9b1syXSxsPW9bM10saD10aGlzLmNvbnRleHQudmlld3BvcnQsZj10aGlzLnN0YXRlLnRleHR1cmVTaXplLGQ9MipmL2guc2NhbGU7YT8odD10aGlzLnByb2plY3RQb3NpdGlvbihbcyx1LDBdKSxuPXRoaXMucHJvamVjdFBvc2l0aW9uKFtjLGwsMF0pKToodD1oLnByb2plY3RQb3NpdGlvbihbcyx1LDBdKSxuPWgucHJvamVjdFBvc2l0aW9uKFtjLGwsMF0pKTt2YXIgdj10LnNsaWNlKDAsMikuY29uY2F0KG4uc2xpY2UoMCwyKSk7cmV0dXJuIHY9VG4odixkLGQpfX0se2tleToiX2NvbW1vblRvV29ybGRCb3VuZHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWdlKCkoZSw0KSxuPXRbMF0scj10WzFdLGk9dFsyXSxhPXRbM10sbz10aGlzLmNvbnRleHQudmlld3BvcnQscz1vLnVucHJvamVjdFBvc2l0aW9uKFtuLHJdKSx1PW8udW5wcm9qZWN0UG9zaXRpb24oW2ksYV0pO3JldHVybiBzLnNsaWNlKDAsMikuY29uY2F0KHUuc2xpY2UoMCwyKSl9fV0pLHR9KGRlKTtVbi5sYXllck5hbWU9IkhlYXRtYXBMYXllciIsVW4uZGVmYXVsdFByb3BzPU5uLG4uZCh0LCJTY3JlZW5HcmlkTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBIZX0pKSxuLmQodCwiQ1BVR3JpZExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gbnR9KSksbi5kKHQsIkhleGFnb25MYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh0fSkpLG4uZCh0LCJDb250b3VyTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBkbn0pKSxuLmQodCwiR3JpZExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gd259KSksbi5kKHQsIkdQVUdyaWRMYXllciIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9ufSkpLG4uZCh0LCJBR0dSRUdBVElPTl9PUEVSQVRJT04iLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZCh0LCJIZWF0bWFwTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBVbn0pKSxuLmQodCwiX0dQVUdyaWRBZ2dyZWdhdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKSxuLmQodCwiX0NQVUFnZ3JlZ2F0b3IiLChmdW5jdGlvbigpe3JldHVybiAkZX0pKSxuLmQodCwiX0FnZ3JlZ2F0aW9uTGF5ZXIiLChmdW5jdGlvbigpe3JldHVybiBkZX0pKSxuLmQodCwiX0JpblNvcnRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIENlfSkpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24ucih0KTt2YXIgcj1uKDIpLGk9bi5uKHIpLGE9bigzKSxvPW4ubihhKSxzPW4oOSksdT1uLm4ocyksYz1uKDQpLGw9bi5uKGMpLGg9bigxMCksZj1uLm4oaCksZD1uKDE5MCksdj1uKDEwMSkscD17c291cmNlOjAsdGFyZ2V0OjEsY3VzdG9tOjIsc291cmNlX3RhcmdldDozfSxnPXtuYW1lOiJicnVzaGluZyIsZGVwZW5kZW5jaWVzOlt2LmFdLHZzOiJcbiAgdW5pZm9ybSBib29sIGJydXNoaW5nX2VuYWJsZWQ7XG4gIHVuaWZvcm0gaW50IGJydXNoaW5nX3RhcmdldDtcbiAgdW5pZm9ybSB2ZWMyIGJydXNoaW5nX21vdXNlUG9zO1xuICB1bmlmb3JtIGZsb2F0IGJydXNoaW5nX3JhZGl1cztcblxuICAjaWZkZWYgTk9OX0lOU1RBTkNFRF9NT0RFTFxuICBhdHRyaWJ1dGUgdmVjMiBicnVzaGluZ1RhcmdldHM7XG4gICNlbHNlXG4gIGF0dHJpYnV0ZSB2ZWMyIGluc3RhbmNlQnJ1c2hpbmdUYXJnZXRzO1xuICAjZW5kaWZcblxuICB2YXJ5aW5nIGZsb2F0IGJydXNoaW5nX2lzVmlzaWJsZTtcblxuICBib29sIGJydXNoaW5nX2lzUG9pbnRJblJhbmdlKHZlYzIgcG9zaXRpb24pIHtcbiAgICBpZiAoIWJydXNoaW5nX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2ZWMyIHNvdXJjZV9jb21tb25zcGFjZSA9IHByb2plY3RfcG9zaXRpb24ocG9zaXRpb24pO1xuICAgIHZlYzIgdGFyZ2V0X2NvbW1vbnNwYWNlID0gcHJvamVjdF9wb3NpdGlvbihicnVzaGluZ19tb3VzZVBvcyk7XG4gICAgZmxvYXQgZGlzdGFuY2UgPSBsZW5ndGgoKHRhcmdldF9jb21tb25zcGFjZSAtIHNvdXJjZV9jb21tb25zcGFjZSkgLyBwcm9qZWN0X3VDb21tb25Vbml0c1Blck1ldGVyLnh5KTtcblxuICAgIHJldHVybiBkaXN0YW5jZSA8PSBicnVzaGluZ19yYWRpdXM7XG4gIH1cblxuICBib29sIGJydXNoaW5nX2FyZVBvaW50c0luUmFuZ2UodmVjMiBzb3VyY2VQb3MsIHZlYzIgdGFyZ2V0UG9zKSB7XG4gICAgcmV0dXJuIGJydXNoaW5nX2lzUG9pbnRJblJhbmdlKHNvdXJjZVBvcykgfHwgYnJ1c2hpbmdfaXNQb2ludEluUmFuZ2UodGFyZ2V0UG9zKTtcbiAgfVxuXG4gIHZvaWQgYnJ1c2hpbmdfc2V0VmlzaWJsZShib29sIHZpc2libGUpIHtcbiAgICBicnVzaGluZ19pc1Zpc2libGUgPSBmbG9hdCh2aXNpYmxlKTtcbiAgfVxuIixmczoiXG4gIHVuaWZvcm0gYm9vbCBicnVzaGluZ19lbmFibGVkO1xuICB2YXJ5aW5nIGZsb2F0IGJydXNoaW5nX2lzVmlzaWJsZTtcbiIsaW5qZWN0OnsidnM6REVDS0dMX0ZJTFRFUl9HTF9QT1NJVElPTiI6IlxuICAgIHZlYzIgYnJ1c2hpbmdUYXJnZXQ7XG4gICAgdmVjMiBicnVzaGluZ1NvdXJjZTtcbiAgICBpZiAoYnJ1c2hpbmdfdGFyZ2V0ID09IDMpIHtcbiAgICAgIGJydXNoaW5nVGFyZ2V0ID0gZ2VvbWV0cnkud29ybGRQb3NpdGlvbkFsdC54eTtcbiAgICAgIGJydXNoaW5nU291cmNlID0gZ2VvbWV0cnkud29ybGRQb3NpdGlvbi54eTtcbiAgICB9IGVsc2UgaWYgKGJydXNoaW5nX3RhcmdldCA9PSAwKSB7XG4gICAgICBicnVzaGluZ1RhcmdldCA9IGdlb21ldHJ5LndvcmxkUG9zaXRpb24ueHk7XG4gICAgfSBlbHNlIGlmIChicnVzaGluZ190YXJnZXQgPT0gMSkge1xuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBnZW9tZXRyeS53b3JsZFBvc2l0aW9uQWx0Lnh5O1xuICAgIH0gZWxzZSB7XG4gICAgICAjaWZkZWYgTk9OX0lOU1RBTkNFRF9NT0RFTFxuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBicnVzaGluZ1RhcmdldHM7XG4gICAgICAjZWxzZVxuICAgICAgYnJ1c2hpbmdUYXJnZXQgPSBpbnN0YW5jZUJydXNoaW5nVGFyZ2V0cztcbiAgICAgICNlbmRpZlxuICAgIH1cbiAgICBib29sIHZpc2libGU7XG4gICAgaWYgKGJydXNoaW5nX3RhcmdldCA9PSAzKSB7XG4gICAgICB2aXNpYmxlID0gYnJ1c2hpbmdfYXJlUG9pbnRzSW5SYW5nZShicnVzaGluZ1NvdXJjZSwgYnJ1c2hpbmdUYXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aXNpYmxlID0gYnJ1c2hpbmdfaXNQb2ludEluUmFuZ2UoYnJ1c2hpbmdUYXJnZXQpO1xuICAgIH1cbiAgICBicnVzaGluZ19zZXRWaXNpYmxlKHZpc2libGUpO1xuICAiLCJmczpERUNLR0xfRklMVEVSX0NPTE9SIjoiXG4gICAgaWYgKGJydXNoaW5nX2VuYWJsZWQgJiYgYnJ1c2hpbmdfaXNWaXNpYmxlIDwgMC41KSB7XG4gICAgICBkaXNjYXJkO1xuICAgIH1cbiAgIn0sZ2V0VW5pZm9ybXM6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnZpZXdwb3J0KXJldHVybnt9O3ZhciB0PWUuYnJ1c2hpbmdFbmFibGVkLG49dm9pZCAwPT09dHx8dCxyPWUuYnJ1c2hpbmdSYWRpdXMsaT12b2lkIDA9PT1yPzFlNDpyLGE9ZS5icnVzaGluZ1RhcmdldCxvPXZvaWQgMD09PWE/InNvdXJjZSI6YSxzPWUubW91c2VQb3NpdGlvbix1PWUudmlld3BvcnQ7cmV0dXJue2JydXNoaW5nX2VuYWJsZWQ6Qm9vbGVhbihuJiZzJiZ1LmNvbnRhaW5zUGl4ZWwocykpLGJydXNoaW5nX3JhZGl1czppLGJydXNoaW5nX3RhcmdldDpwW29dfHwwLGJydXNoaW5nX21vdXNlUG9zOnM/dS51bnByb2plY3QoW3MueC11Lngscy55LXUueV0pOlswLDBdfX19LHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKCkodGhpcyx0KSx1KCkodGhpcyxsKCkodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gZigpKHQsZSksbygpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybnttb2R1bGVzOltnXX19fSx7a2V5OiJpbml0aWFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO3ImJnIuYWRkKHticnVzaGluZ1RhcmdldHM6e3NpemU6MixhY2Nlc3NvcjoiZ2V0QnJ1c2hpbmdUYXJnZXQiLHVwZGF0ZTohdGhpcy5wcm9wcy5nZXRCcnVzaGluZ1RhcmdldCYmdC51c2VDb25zdGFudFRhcmdldFBvc2l0aW9ucyxzaGFkZXJBdHRyaWJ1dGVzOnticnVzaGluZ1RhcmdldHM6e2Rpdmlzb3I6MH0saW5zdGFuY2VCcnVzaGluZ1RhcmdldHM6e2Rpdmlzb3I6MX19fX0pLHQub25Nb3VzZU1vdmU9ZnVuY3Rpb24oKXtuLmdldEN1cnJlbnRMYXllcigpLnNldE5lZWRzUmVkcmF3KCl9LHRoaXMuY29udGV4dC5kZWNrJiZ0aGlzLmNvbnRleHQuZGVjay5ldmVudE1hbmFnZXIub24oe3BvaW50ZXJtb3ZlOnQub25Nb3VzZU1vdmUscG9pbnRlcmxlYXZlOnQub25Nb3VzZU1vdmV9KX19LHtrZXk6ImZpbmFsaXplU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY29udGV4dC5kZWNrJiZ0aGlzLmNvbnRleHQuZGVjay5ldmVudE1hbmFnZXIub2ZmKHtwb2ludGVybW92ZTplLm9uTW91c2VNb3ZlLHBvaW50ZXJsZWF2ZTplLm9uTW91c2VNb3ZlfSl9fSx7a2V5OiJ1c2VDb25zdGFudFRhcmdldFBvc2l0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5jb25zdGFudD0hMCxlLnZhbHVlPW5ldyBGbG9hdDMyQXJyYXkoMil9fV0pLHR9KGQuYSk7eS5leHRlbnNpb25OYW1lPSJCcnVzaGluZ0V4dGVuc2lvbiIseS5kZWZhdWx0UHJvcHM9e2dldEJydXNoaW5nVGFyZ2V0Ont0eXBlOiJhY2Nlc3NvciIsdmFsdWU6WzAsMF19LGJydXNoaW5nVGFyZ2V0OiJzb3VyY2UiLGJydXNoaW5nRW5hYmxlZDohMCxicnVzaGluZ1JhZGl1czoxZTR9O3ZhciBtPSJcbnVuaWZvcm0gREFUQUZJTFRFUl9UWVBFIGZpbHRlcl9taW47XG51bmlmb3JtIERBVEFGSUxURVJfVFlQRSBmaWx0ZXJfc29mdE1pbjtcbnVuaWZvcm0gREFUQUZJTFRFUl9UWVBFIGZpbHRlcl9zb2Z0TWF4O1xudW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21heDtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdXNlU29mdE1hcmdpbjtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfZW5hYmxlZDtcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdHJhbnNmb3JtU2l6ZTtcblxuI2lmZGVmIE5PTl9JTlNUQU5DRURfTU9ERUxcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQiBmaWx0ZXJWYWx1ZXNcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQl82NExPVyBmaWx0ZXJWYWx1ZXM2NExvd1xuI2Vsc2VcbiAgI2RlZmluZSBEQVRBRklMVEVSX0FUVFJJQiBpbnN0YW5jZUZpbHRlclZhbHVlc1xuICAjZGVmaW5lIERBVEFGSUxURVJfQVRUUklCXzY0TE9XIGluc3RhbmNlRmlsdGVyVmFsdWVzNjRMb3dcbiNlbmRpZlxuXG5hdHRyaWJ1dGUgREFUQUZJTFRFUl9UWVBFIERBVEFGSUxURVJfQVRUUklCO1xuI2lmZGVmIERBVEFGSUxURVJfRE9VQkxFXG4gIGF0dHJpYnV0ZSBEQVRBRklMVEVSX1RZUEUgREFUQUZJTFRFUl9BVFRSSUJfNjRMT1c7XG5cbiAgdW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21pbjY0SGlnaDtcbiAgdW5pZm9ybSBEQVRBRklMVEVSX1RZUEUgZmlsdGVyX21heDY0SGlnaDtcbiNlbmRpZlxuXG52YXJ5aW5nIGZsb2F0IGRhdGFGaWx0ZXJfdmFsdWU7XG5cbmZsb2F0IGRhdGFGaWx0ZXJfcmVkdWNlVmFsdWUoZmxvYXQgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuZmxvYXQgZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZSh2ZWMyIHZhbHVlKSB7XG4gIHJldHVybiBtaW4odmFsdWUueCwgdmFsdWUueSk7XG59XG5mbG9hdCBkYXRhRmlsdGVyX3JlZHVjZVZhbHVlKHZlYzMgdmFsdWUpIHtcbiAgcmV0dXJuIG1pbihtaW4odmFsdWUueCwgdmFsdWUueSksIHZhbHVlLnopO1xufVxuZmxvYXQgZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZSh2ZWM0IHZhbHVlKSB7XG4gIHJldHVybiBtaW4obWluKHZhbHVlLngsIHZhbHVlLnkpLCBtaW4odmFsdWUueiwgdmFsdWUudykpO1xufVxudm9pZCBkYXRhRmlsdGVyX3NldFZhbHVlKERBVEFGSUxURVJfVFlQRSB2YWx1ZUZyb21NaW4sIERBVEFGSUxURVJfVFlQRSB2YWx1ZUZyb21NYXgpIHtcbiAgaWYgKGZpbHRlcl9lbmFibGVkKSB7XG4gICAgaWYgKGZpbHRlcl91c2VTb2Z0TWFyZ2luKSB7XG4gICAgICBkYXRhRmlsdGVyX3ZhbHVlID0gZGF0YUZpbHRlcl9yZWR1Y2VWYWx1ZShcbiAgICAgICAgc21vb3Roc3RlcChmaWx0ZXJfbWluLCBmaWx0ZXJfc29mdE1pbiwgdmFsdWVGcm9tTWluKSAqXG4gICAgICAgICgxLjAgLSBzbW9vdGhzdGVwKGZpbHRlcl9zb2Z0TWF4LCBmaWx0ZXJfbWF4LCB2YWx1ZUZyb21NYXgpKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YUZpbHRlcl92YWx1ZSA9IGRhdGFGaWx0ZXJfcmVkdWNlVmFsdWUoXG4gICAgICAgIHN0ZXAoZmlsdGVyX21pbiwgdmFsdWVGcm9tTWluKSAqIHN0ZXAodmFsdWVGcm9tTWF4LCBmaWx0ZXJfbWF4KVxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0YUZpbHRlcl92YWx1ZSA9IDEuMDtcbiAgfVxufVxuIixiPSJcbnVuaWZvcm0gYm9vbCBmaWx0ZXJfdHJhbnNmb3JtQ29sb3I7XG52YXJ5aW5nIGZsb2F0IGRhdGFGaWx0ZXJfdmFsdWU7XG4iLF89ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLmV4dGVuc2lvbnMpcmV0dXJue307dmFyIHQ9ZS5maWx0ZXJSYW5nZSxuPXZvaWQgMD09PXQ/Wy0xLDFdOnQscj1lLmZpbHRlckVuYWJsZWQsaT12b2lkIDA9PT1yfHxyLGE9ZS5maWx0ZXJUcmFuc2Zvcm1TaXplLG89dm9pZCAwPT09YXx8YSxzPWUuZmlsdGVyVHJhbnNmb3JtQ29sb3IsdT12b2lkIDA9PT1zfHxzLGM9ZS5maWx0ZXJTb2Z0UmFuZ2V8fG4sbD1OdW1iZXIuaXNGaW5pdGUoblswXSk/e2ZpbHRlcl9taW46blswXSxmaWx0ZXJfc29mdE1pbjpjWzBdLGZpbHRlcl9zb2Z0TWF4OmNbMV0sZmlsdGVyX21heDpuWzFdfTp7ZmlsdGVyX21pbjpuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF19KSksZmlsdGVyX3NvZnRNaW46Yy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSkpLGZpbHRlcl9zb2Z0TWF4OmMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVsxXX0pKSxmaWx0ZXJfbWF4Om4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVsxXX0pKX07cmV0dXJuIGwuZmlsdGVyX2VuYWJsZWQ9aSxsLmZpbHRlcl91c2VTb2Z0TWFyZ2luPUJvb2xlYW4oZS5maWx0ZXJTb2Z0UmFuZ2UpLGwuZmlsdGVyX3RyYW5zZm9ybVNpemU9aSYmbyxsLmZpbHRlcl90cmFuc2Zvcm1Db2xvcj1pJiZ1LGx9LE89eyJ2czojbWFpbi1zdGFydCI6IlxuICAgICNpZmRlZiBEQVRBRklMVEVSX0RPVUJMRVxuICAgICAgZGF0YUZpbHRlcl9zZXRWYWx1ZShcbiAgICAgICAgREFUQUZJTFRFUl9BVFRSSUIgLSBmaWx0ZXJfbWluNjRIaWdoICsgREFUQUZJTFRFUl9BVFRSSUJfNjRMT1csXG4gICAgICAgIERBVEFGSUxURVJfQVRUUklCIC0gZmlsdGVyX21heDY0SGlnaCArIERBVEFGSUxURVJfQVRUUklCXzY0TE9XXG4gICAgICApO1xuICAgICNlbHNlXG4gICAgICBkYXRhRmlsdGVyX3NldFZhbHVlKERBVEFGSUxURVJfQVRUUklCLCBEQVRBRklMVEVSX0FUVFJJQik7XG4gICAgI2VuZGlmXG4gICIsInZzOkRFQ0tHTF9GSUxURVJfU0laRSI6IlxuICAgIGlmIChmaWx0ZXJfdHJhbnNmb3JtU2l6ZSkge1xuICAgICAgc2l6ZSA9IHNpemUgKiBkYXRhRmlsdGVyX3ZhbHVlO1xuICAgIH1cbiAgIiwiZnM6REVDS0dMX0ZJTFRFUl9DT0xPUiI6IlxuICAgIGlmIChkYXRhRmlsdGVyX3ZhbHVlID09IDAuMCkgZGlzY2FyZDtcbiAgICBpZiAoZmlsdGVyX3RyYW5zZm9ybUNvbG9yKSB7XG4gICAgICBjb2xvci5hICo9IGRhdGFGaWx0ZXJfdmFsdWU7XG4gICAgfVxuICAifSx4PXtuYW1lOiJkYXRhLWZpbHRlciIsdnM6bSxmczpiLGluamVjdDpPLGdldFVuaWZvcm1zOl99LHc9e25hbWU6ImRhdGEtZmlsdGVyLWZwNjQiLHZzOm0sZnM6YixpbmplY3Q6TyxnZXRVbmlmb3JtczpmdW5jdGlvbihlKXtpZighZXx8IWUuZXh0ZW5zaW9ucylyZXR1cm57fTt2YXIgdD1fKGUpO2lmKE51bWJlci5pc0Zpbml0ZSh0LmZpbHRlcl9taW4pKXt2YXIgbj1NYXRoLmZyb3VuZCh0LmZpbHRlcl9taW4pO3QuZmlsdGVyX21pbi09bix0LmZpbHRlcl9zb2Z0TWluLT1uLHQuZmlsdGVyX21pbjY0SGlnaD1uO3ZhciByPU1hdGguZnJvdW5kKHQuZmlsdGVyX21heCk7dC5maWx0ZXJfbWF4LT1yLHQuZmlsdGVyX3NvZnRNYXgtPXIsdC5maWx0ZXJfbWF4NjRIaWdoPXJ9ZWxzZXt2YXIgaT10LmZpbHRlcl9taW4ubWFwKE1hdGguZnJvdW5kKTt0LmZpbHRlcl9taW49dC5maWx0ZXJfbWluLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS1pW3RdfSkpLHQuZmlsdGVyX3NvZnRNaW49dC5maWx0ZXJfc29mdE1pbi5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtaVt0XX0pKSx0LmZpbHRlcl9taW42NEhpZ2g9aTt2YXIgYT10LmZpbHRlcl9tYXgubWFwKE1hdGguZnJvdW5kKTt0LmZpbHRlcl9tYXg9dC5maWx0ZXJfbWF4Lm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS1hW3RdfSkpLHQuZmlsdGVyX3NvZnRNYXg9dC5maWx0ZXJfc29mdE1heC5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtYVt0XX0pKSx0LmZpbHRlcl9tYXg2NEhpZ2g9YX1yZXR1cm4gdH19LFM9ezE6ImZsb2F0IiwyOiJ2ZWMyIiwzOiJ2ZWMzIiw0OiJ2ZWM0In0saz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ZS5maWx0ZXJTaXplLHI9dm9pZCAwPT09bj8xOm4sYT1lLmZwNjQsbz12b2lkIDAhPT1hJiZhO2lmKGkoKSh0aGlzLHQpLCFTW3JdKXRocm93IG5ldyBFcnJvcigiZmlsdGVyU2l6ZSBvdXQgb2YgcmFuZ2UiKTtyZXR1cm4gdSgpKHRoaXMsbCgpKHQpLmNhbGwodGhpcyx7ZmlsdGVyU2l6ZTpyLGZwNjQ6b30pKX1yZXR1cm4gZigpKHQsZSksbygpKHQsW3trZXk6ImdldFNoYWRlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUub3B0cyxuPXQuZmlsdGVyU2l6ZSxyPXQuZnA2NDtyZXR1cm57bW9kdWxlczpbcj93OnhdLGRlZmluZXM6e0RBVEFGSUxURVJfVFlQRTpTW25dLERBVEFGSUxURVJfRE9VQkxFOkJvb2xlYW4ocil9fX19LHtrZXk6ImluaXRpYWxpemVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtuJiZuLmFkZCh7ZmlsdGVyVmFsdWVzOntzaXplOnQub3B0cy5maWx0ZXJTaXplLHR5cGU6dC5vcHRzLmZwNjQ/NTEzMDo1MTI2LGFjY2Vzc29yOiJnZXRGaWx0ZXJWYWx1ZSIsc2hhZGVyQXR0cmlidXRlczp7ZmlsdGVyVmFsdWVzOntkaXZpc29yOjB9LGluc3RhbmNlRmlsdGVyVmFsdWVzOntkaXZpc29yOjF9fX19KX19XSksdH0oZC5hKTtrLmV4dGVuc2lvbk5hbWU9IkRhdGFGaWx0ZXJFeHRlbnNpb24iLGsuZGVmYXVsdFByb3BzPXtnZXRGaWx0ZXJWYWx1ZTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOjB9LGZpbHRlckVuYWJsZWQ6ITAsZmlsdGVyUmFuZ2U6Wy0xLDFdLGZpbHRlclNvZnRSYW5nZTpudWxsLGZpbHRlclRyYW5zZm9ybVNpemU6ITAsZmlsdGVyVHJhbnNmb3JtQ29sb3I6ITB9O3ZhciBQPW4oMjIpLGo9bigyNzEpLFQ9big5OCksRT1qLmEuZnA2NGlmeSxBPWouYS5mcDY0aWZ5TWF0cml4NCxNPXtuYW1lOiJwcm9qZWN0NjQiLGRlcGVuZGVuY2llczpbdi5hLGouYV0sdnM6IlxuY29uc3QgdmVjMiBXT1JMRF9TQ0FMRV9GUDY0ID0gdmVjMig4MS40ODczMjc1NzU2ODM2LCAwLjAwMDAwMzI4NzM2NjgyMzIwMTQwOTcpO1xuXG51bmlmb3JtIHZlYzIgcHJvamVjdF91Vmlld1Byb2plY3Rpb25NYXRyaXhGUDY0WzE2XTtcbnZvaWQgbWVyY2F0b3JQcm9qZWN0X2ZwNjQodmVjNCBsbmdsYXRfZnA2NCwgb3V0IHZlYzIgb3V0X3ZhbFsyXSkge1xuXG4jaWYgZGVmaW5lZChOVklESUFfRlA2NF9XT1JLQVJPVU5EKVxuICBvdXRfdmFsWzBdID0gc3VtX2ZwNjQocmFkaWFuc19mcDY0KGxuZ2xhdF9mcDY0Lnh5KSwgUElfRlA2NCAqIE9ORSk7XG4jZWxzZVxuICBvdXRfdmFsWzBdID0gc3VtX2ZwNjQocmFkaWFuc19mcDY0KGxuZ2xhdF9mcDY0Lnh5KSwgUElfRlA2NCk7XG4jZW5kaWZcbiAgb3V0X3ZhbFsxXSA9IHN1bV9mcDY0KFBJX0ZQNjQsXG4gICAgbG9nX2ZwNjQodGFuX2ZwNjQoc3VtX2ZwNjQoUElfNF9GUDY0LCByYWRpYW5zX2ZwNjQobG5nbGF0X2ZwNjQuencpIC8gMi4wKSkpKTtcbiAgcmV0dXJuO1xufVxuXG52b2lkIHByb2plY3RfcG9zaXRpb25fZnA2NCh2ZWM0IHBvc2l0aW9uX2ZwNjQsIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcbiAgdmVjMiBwb3NfZnA2NFsyXTtcbiAgbWVyY2F0b3JQcm9qZWN0X2ZwNjQocG9zaXRpb25fZnA2NCwgcG9zX2ZwNjQpO1xuICBvdXRfdmFsWzBdID0gbXVsX2ZwNjQocG9zX2ZwNjRbMF0sIFdPUkxEX1NDQUxFX0ZQNjQpO1xuICBvdXRfdmFsWzFdID0gbXVsX2ZwNjQocG9zX2ZwNjRbMV0sIFdPUkxEX1NDQUxFX0ZQNjQpO1xuXG4gIHJldHVybjtcbn1cblxudm9pZCBwcm9qZWN0X3Bvc2l0aW9uX2ZwNjQodmVjMiBwb3NpdGlvbiwgdmVjMiBwb3NpdGlvbjY0eHlMb3csIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcbiAgdmVjNCBwb3NpdGlvbjY0eHkgPSB2ZWM0KFxuICAgIHBvc2l0aW9uLngsIHBvc2l0aW9uNjR4eUxvdy54LFxuICAgIHBvc2l0aW9uLnksIHBvc2l0aW9uNjR4eUxvdy55KTtcblxuICBwcm9qZWN0X3Bvc2l0aW9uX2ZwNjQocG9zaXRpb242NHh5LCBvdXRfdmFsKTtcbn1cblxudmVjNCBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2VfZnA2NCh2ZWMyIHZlcnRleF9wb3NfbW9kZWxzcGFjZVs0XSkge1xuICB2ZWMyIHZlcnRleF9wb3NfY2xpcHNwYWNlWzRdO1xuICBtYXQ0X3ZlYzRfbXVsX2ZwNjQocHJvamVjdF91Vmlld1Byb2plY3Rpb25NYXRyaXhGUDY0LCB2ZXJ0ZXhfcG9zX21vZGVsc3BhY2UsXG4gICAgdmVydGV4X3Bvc19jbGlwc3BhY2UpO1xuICByZXR1cm4gdmVjNChcbiAgICB2ZXJ0ZXhfcG9zX2NsaXBzcGFjZVswXS54LFxuICAgIHZlcnRleF9wb3NfY2xpcHNwYWNlWzFdLngsXG4gICAgdmVydGV4X3Bvc19jbGlwc3BhY2VbMl0ueCxcbiAgICB2ZXJ0ZXhfcG9zX2NsaXBzcGFjZVszXS54XG4gICAgKTtcbn1cblxudmVjNCBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShcbiAgdmVjMyBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0eHlMb3csIHZlYzMgb2Zmc2V0LCBvdXQgdmVjNCBjb21tb25Qb3NpdGlvblxuKSB7XG4gIHZlYzIgb2Zmc2V0NjRbNF07XG4gIHZlYzRfZnA2NCh2ZWM0KG9mZnNldCwgMC4wKSwgb2Zmc2V0NjQpO1xuXG4gIGZsb2F0IHogPSBwcm9qZWN0X3NpemUocG9zaXRpb24ueik7XG4gIHZlYzIgcHJvamVjdGVkUG9zaXRpb242NHh5WzJdO1xuICBwcm9qZWN0X3Bvc2l0aW9uX2ZwNjQocG9zaXRpb24ueHksIHBvc2l0aW9uNjR4eUxvdy54eSwgcHJvamVjdGVkUG9zaXRpb242NHh5KTtcblxuICB2ZWMyIGNvbW1vblBvc2l0aW9uNjRbNF07XG4gIGNvbW1vblBvc2l0aW9uNjRbMF0gPSBzdW1fZnA2NChvZmZzZXQ2NFswXSwgcHJvamVjdGVkUG9zaXRpb242NHh5WzBdKTtcbiAgY29tbW9uUG9zaXRpb242NFsxXSA9IHN1bV9mcDY0KG9mZnNldDY0WzFdLCBwcm9qZWN0ZWRQb3NpdGlvbjY0eHlbMV0pO1xuICBjb21tb25Qb3NpdGlvbjY0WzJdID0gc3VtX2ZwNjQob2Zmc2V0NjRbMl0sIHZlYzIoeiwgMC4wKSk7XG4gIGNvbW1vblBvc2l0aW9uNjRbM10gPSB2ZWMyKDEuMCwgMC4wKTtcblxuICBjb21tb25Qb3NpdGlvbiA9IHZlYzQocHJvamVjdGVkUG9zaXRpb242NHh5WzBdLngsIHByb2plY3RlZFBvc2l0aW9uNjR4eVsxXS54LCB6LCAxLjApO1xuXG4gIHJldHVybiBwcm9qZWN0X2NvbW1vbl9wb3NpdGlvbl90b19jbGlwc3BhY2VfZnA2NChjb21tb25Qb3NpdGlvbjY0KTtcbn1cblxudmVjNCBwcm9qZWN0X3Bvc2l0aW9uX3RvX2NsaXBzcGFjZShcbiAgdmVjMyBwb3NpdGlvbiwgdmVjMyBwb3NpdGlvbjY0eHlMb3csIHZlYzMgb2Zmc2V0XG4pIHtcbiAgdmVjNCBjb21tb25Qb3NpdGlvbjtcbiAgcmV0dXJuIHByb2plY3RfcG9zaXRpb25fdG9fY2xpcHNwYWNlKFxuICAgIHBvc2l0aW9uLCBwb3NpdGlvbjY0eHlMb3csIG9mZnNldCwgY29tbW9uUG9zaXRpb25cbiAgKTtcbn1cbiIsZ2V0VW5pZm9ybXM6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06QztpZihlLnZpZXdwb3J0KXt2YXIgdD1lLnZpZXdwb3J0LG49dC52aWV3UHJvamVjdGlvbk1hdHJpeCxyPXQuc2NhbGU7cmV0dXJuIEwoe3ZpZXdQcm9qZWN0aW9uTWF0cml4Om4sc2NhbGU6cn0pfXJldHVybnt9fX0sQz17fSxMPU9iamVjdChULmEpKChmdW5jdGlvbihlKXt2YXIgdD1lLnZpZXdQcm9qZWN0aW9uTWF0cml4LG49ZS5zY2FsZSxyPUEodCksaT1FKG4pO3JldHVybntwcm9qZWN0X3VWaWV3UHJvamVjdGlvbk1hdHJpeEZQNjQ6cixwcm9qZWN0NjRfdVZpZXdQcm9qZWN0aW9uTWF0cml4OnIscHJvamVjdDY0X3VTY2FsZTppfX0pKTt2YXIgST1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBmKCkodCxlKSxvKCkodCxbe2tleToiZ2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wcm9wcy5jb29yZGluYXRlU3lzdGVtO2lmKHQhPT1QLmEuTE5HTEFUJiZ0IT09UC5hLkRFRkFVTFQpdGhyb3cgbmV3IEVycm9yKCJmcDY0OiBjb29yZGluYXRlU3lzdGVtIG11c3QgYmUgTE5HTEFUIik7cmV0dXJue21vZHVsZXM6W01dfX19XSksdH0oZC5hKTtJLmV4dGVuc2lvbk5hbWU9IkZwNjRFeHRlbnNpb24iO3ZhciBSPW4oMTQyKSxEPXtpbmplY3Q6eyJ2czojZGVjbCI6IlxuYXR0cmlidXRlIHZlYzIgaW5zdGFuY2VEYXNoQXJyYXlzO1xudmFyeWluZyB2ZWMyIHZEYXNoQXJyYXk7XG4iLCJ2czojbWFpbi1lbmQiOiJcbnZEYXNoQXJyYXkgPSBpbnN0YW5jZURhc2hBcnJheXM7XG4iLCJmczojZGVjbCI6IlxudW5pZm9ybSBmbG9hdCBkYXNoQWxpZ25Nb2RlO1xudmFyeWluZyB2ZWMyIHZEYXNoQXJyYXk7XG5mbG9hdCBtb2QyKGZsb2F0IGEsIGZsb2F0IGIpIHtcbiAgcmV0dXJuIGEgLSBmbG9vcihhIC8gYikgKiBiO1xufVxuXG5mbG9hdCByb3VuZChmbG9hdCB4KSB7XG4gIHJldHVybiBmbG9vcih4ICsgMC41KTtcbn1cbiIsImZzOiNtYWluLXN0YXJ0IjoiXG4gIGZsb2F0IHNvbGlkTGVuZ3RoID0gdkRhc2hBcnJheS54O1xuICBmbG9hdCBnYXBMZW5ndGggPSB2RGFzaEFycmF5Lnk7XG4gIGZsb2F0IHVuaXRMZW5ndGggPSBzb2xpZExlbmd0aCArIGdhcExlbmd0aDtcblxuICBpZiAodW5pdExlbmd0aCA+IDAuMCkge1xuICAgIHVuaXRMZW5ndGggPSBtaXgoXG4gICAgICB1bml0TGVuZ3RoLFxuICAgICAgdlBhdGhMZW5ndGggLyByb3VuZCh2UGF0aExlbmd0aCAvIHVuaXRMZW5ndGgpLFxuICAgICAgZGFzaEFsaWduTW9kZVxuICAgICk7XG5cbiAgICBmbG9hdCBvZmZzZXQgPSBkYXNoQWxpZ25Nb2RlICogc29saWRMZW5ndGggLyAyLjA7XG5cbiAgICBpZiAoXG4gICAgICBnYXBMZW5ndGggPiAwLjAgJiZcbiAgICAgIHZQYXRoUG9zaXRpb24ueSA+PSAwLjAgJiZcbiAgICAgIHZQYXRoUG9zaXRpb24ueSA8PSB2UGF0aExlbmd0aCAmJlxuICAgICAgbW9kMih2UGF0aFBvc2l0aW9uLnkgKyBvZmZzZXQsIHVuaXRMZW5ndGgpID4gc29saWRMZW5ndGhcbiAgICApIHtcbiAgICAgIGRpc2NhcmQ7XG4gICAgfVxuICB9ICBcbiJ9fSxGPXtpbmplY3Q6eyJ2czojZGVjbCI6IlxuYXR0cmlidXRlIGZsb2F0IGluc3RhbmNlT2Zmc2V0cztcbiIsInZzOkRFQ0tHTF9GSUxURVJfU0laRSI6IlxuICBmbG9hdCBvZmZzZXRXaWR0aCA9IGFicyhpbnN0YW5jZU9mZnNldHMgKiAyLjApICsgMS4wO1xuICBzaXplICo9IG9mZnNldFdpZHRoO1xuIiwidkNvcm5lck9mZnNldCA9IG9mZnNldFZlYzsiOiJcbiAgZmxvYXQgb2Zmc2V0V2lkdGggPSBhYnMoaW5zdGFuY2VPZmZzZXRzICogMi4wKSArIDEuMDtcbiAgdmVjMiBvZmZzZXRDZW50ZXIgPSAtaW5zdGFuY2VPZmZzZXRzICogKGlzQ2FwID8gcGVycCA6IG1pdGVyVmVjICogbWl0ZXJTaXplKSAqIDIuMDtcbiAgdkNvcm5lck9mZnNldCA9IHZDb3JuZXJPZmZzZXQgKiBvZmZzZXRXaWR0aCAtIG9mZnNldENlbnRlcjtcbiIsImZzOiNtYWluLXN0YXJ0IjoiXG4gIGZsb2F0IGlzSW5zaWRlO1xuICBpc0luc2lkZSA9IHN0ZXAoLTEuMCwgdlBhdGhQb3NpdGlvbi54KSAqIHN0ZXAodlBhdGhQb3NpdGlvbi54LCAxLjApO1xuICBpZiAoaXNJbnNpZGUgPT0gMC4wKSB7XG4gICAgZGlzY2FyZDtcbiAgfVxuIn19LE49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPWUuZGFzaCxyPXZvaWQgMCE9PW4mJm4sYT1lLm9mZnNldCxvPXZvaWQgMCE9PWEmJmE7cmV0dXJuIGkoKSh0aGlzLHQpLHUoKSh0aGlzLGwoKSh0KS5jYWxsKHRoaXMse2Rhc2g6cixvZmZzZXQ6b30pKX1yZXR1cm4gZigpKHQsZSksbygpKHQsW3trZXk6ImlzRW5hYmxlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdGUucGF0aFRlc3NlbGF0b3J9fSx7a2V5OiJnZXRTaGFkZXJzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5pc0VuYWJsZWQodGhpcykpcmV0dXJuIG51bGw7dmFyIHQ9e307cmV0dXJuIGUub3B0cy5kYXNoJiYodD1PYmplY3QoUi5hKSh0LEQpKSxlLm9wdHMub2Zmc2V0JiYodD1PYmplY3QoUi5hKSh0LEYpKSx0fX0se2tleToiaW5pdGlhbGl6ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0QXR0cmlidXRlTWFuYWdlcigpO24mJnQuaXNFbmFibGVkKHRoaXMpJiYodC5lbmFibGVkPSEwLHQub3B0cy5kYXNoJiZuLmFkZEluc3RhbmNlZCh7aW5zdGFuY2VEYXNoQXJyYXlzOntzaXplOjIsYWNjZXNzb3I6ImdldERhc2hBcnJheSJ9fSksdC5vcHRzLm9mZnNldCYmbi5hZGRJbnN0YW5jZWQoe2luc3RhbmNlT2Zmc2V0czp7c2l6ZToxLGFjY2Vzc29yOiJnZXRPZmZzZXQifX0pKX19LHtrZXk6InVwZGF0ZVN0YXRlIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHQuaXNFbmFibGVkKHRoaXMpKXt2YXIgbj17fTt0Lm9wdHMuZGFzaCYmKG4uZGFzaEFsaWduTW9kZT10aGlzLnByb3BzLmRhc2hKdXN0aWZpZWQ/MTowKSx0aGlzLnN0YXRlLm1vZGVsLnNldFVuaWZvcm1zKG4pfX19XSksdH0oZC5hKTtOLmV4dGVuc2lvbk5hbWU9IlBhdGhTdHlsZUV4dGVuc2lvbiIsTi5kZWZhdWx0UHJvcHM9e2dldERhc2hBcnJheTp7dHlwZToiYWNjZXNzb3IiLHZhbHVlOlswLDBdfSxnZXRPZmZzZXQ6e3R5cGU6ImFjY2Vzc29yIix2YWx1ZTowfSxkYXNoSnVzdGlmaWVkOiExfSxuLmQodCwiQnJ1c2hpbmdFeHRlbnNpb24iLChmdW5jdGlvbigpe3JldHVybiB5fSkpLG4uZCh0LCJEYXRhRmlsdGVyRXh0ZW5zaW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQodCwiRnA2NEV4dGVuc2lvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksbi5kKHQsIlBhdGhTdHlsZUV4dGVuc2lvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKHQsInByb2plY3Q2NCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE19KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpO3ZhciByPW4oMTYxKSxpPW4oMjcwKSxhPW4oMjE3KSxvPW4oMjU1KSxzPW4oMTEpLHU9bigxNzMpLGM9bigyNTQpLGw9bigxNzcpLGg9bigyMDcpLGY9big0NiksZD1uKDI2OSksdj1uKDcxKSxwPW4oMTA0KSxnPW4oMTE2KSx5PW4oMjA4KSxtPW4oMjA5KSxiPW4oMjY3KSxfPW4oNjApLE89big0MykseD1uKDUpLHc9bigxNiksUz1uKDE1KSxrPW4oMTcpLFA9bigxMDUpLGo9e3g6WzIsMCwxXSx5OlswLDEsMl0sejpbMSwyLDBdfSxUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KHguYSkodGhpcyx0KTt2YXIgbj1lLmlkLHI9dm9pZCAwPT09bj9PYmplY3QoUC5jKSgidHJ1bmNhdGVkLWNvZGUtZ2VvbWV0cnkiKTpuLGk9RShlKSxhPWkuaW5kaWNlcyxvPWkuYXR0cmlidXRlcztyZXR1cm4gT2JqZWN0KHcuYSkodGhpcyxPYmplY3QoUy5hKSh0KS5jYWxsKHRoaXMsT2JqZWN0KE8uYSkoe30sZSx7aWQ6cixpbmRpY2VzOmEsYXR0cmlidXRlczpPYmplY3QoTy5hKSh7fSxvLGUuYXR0cmlidXRlcyl9KSkpfXJldHVybiBPYmplY3Qoay5hKSh0LGUpLHR9KF8uYSk7ZnVuY3Rpb24gRShlKXtmb3IodmFyIHQ9ZS5ib3R0b21SYWRpdXMsbj12b2lkIDA9PT10PzA6dCxyPWUudG9wUmFkaXVzLGk9dm9pZCAwPT09cj8wOnIsYT1lLmhlaWdodCxvPXZvaWQgMD09PWE/MTphLHM9ZS5ucmFkaWFsLHU9dm9pZCAwPT09cz8xMDpzLGM9ZS5udmVydGljYWwsbD12b2lkIDA9PT1jPzEwOmMsaD1lLnZlcnRpY2FsQXhpcyxmPXZvaWQgMD09PWg/InkiOmgsZD1lLnRvcENhcCx2PXZvaWQgMCE9PWQmJmQscD1lLmJvdHRvbUNhcCxnPXZvaWQgMCE9PXAmJnAseT0odj8yOjApKyhnPzI6MCksbT0odSsxKSoobCsxK3kpLGI9TWF0aC5hdGFuMihuLWksbyksXz1NYXRoLnNpbixPPU1hdGguY29zLHg9TWF0aC5QSSx3PU8oYiksUz1fKGIpLGs9dj8tMjowLFA9bCsoZz8yOjApLFQ9dSsxLEU9bmV3IFVpbnQxNkFycmF5KHUqKGwreSkqNiksQT1qW2ZdLE09bmV3IEZsb2F0MzJBcnJheSgzKm0pLEM9bmV3IEZsb2F0MzJBcnJheSgzKm0pLEw9bmV3IEZsb2F0MzJBcnJheSgyKm0pLEk9MCxSPTAsRD1rO0Q8PVA7RCsrKXt2YXIgRj1EL2wsTj1vKkYsej12b2lkIDA7RDwwPyhOPTAsRj0xLHo9bik6RD5sPyhOPW8sRj0xLHo9aSk6ej1uK0QvbCooaS1uKSwtMiE9PUQmJkQhPT1sKzJ8fCh6PTAsRj0wKSxOLT1vLzI7Zm9yKHZhciBCPTA7QjxUO0IrKyl7dmFyIFU9XyhCKngqMi91KSxWPU8oQip4KjIvdSk7TVtJK0FbMF1dPVUqeixNW0krQVsxXV09TixNW0krQVsyXV09Vip6LENbSStBWzBdXT1EPDB8fEQ+bD8wOlUqdyxDW0krQVsxXV09RDwwPy0xOkQ+bD8xOlMsQ1tJK0FbMl1dPUQ8MHx8RD5sPzA6Vip3LExbUiswXT1CL3UsTFtSKzFdPUYsUis9MixJKz0zfX1mb3IodmFyIEc9MDtHPGwreTtHKyspZm9yKHZhciBXPTA7Vzx1O1crKyl7dmFyIEg9NiooRyp1K1cpO0VbSCswXT1UKihHKzApKzArVyxFW0grMV09VCooRyswKSsxK1csRVtIKzJdPVQqKEcrMSkrMStXLEVbSCszXT1UKihHKzApKzArVyxFW0grNF09VCooRysxKSsxK1csRVtIKzVdPVQqKEcrMSkrMCtXfXJldHVybntpbmRpY2VzOkUsYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpNfSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpDfSxURVhDT09SRF8wOntzaXplOjIsdmFsdWU6TH19fX12YXIgQT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdCh4LmEpKHRoaXMsdCk7dmFyIG49ZS5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KFAuYykoImNvbmUtZ2VvbWV0cnkiKTpuLGk9ZS5yYWRpdXMsYT12b2lkIDA9PT1pPzE6aSxvPWUuY2FwLHM9dm9pZCAwPT09b3x8bztyZXR1cm4gT2JqZWN0KHcuYSkodGhpcyxPYmplY3QoUy5hKSh0KS5jYWxsKHRoaXMsT2JqZWN0KE8uYSkoe30sZSx7aWQ6cix0b3BSYWRpdXM6MCx0b3BDYXA6Qm9vbGVhbihzKSxib3R0b21DYXA6Qm9vbGVhbihzKSxib3R0b21SYWRpdXM6YX0pKSl9cmV0dXJuIE9iamVjdChrLmEpKHQsZSksdH0oVCksTT1uKDI1NiksQz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdCh4LmEpKHRoaXMsdCk7dmFyIG49ZS5pZCxyPXZvaWQgMD09PW4/T2JqZWN0KFAuYykoImN5bGluZGVyLWdlb21ldHJ5Iik6bixpPWUucmFkaXVzLGE9dm9pZCAwPT09aT8xOmk7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KFMuYSkodCkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LGUse2lkOnIsYm90dG9tUmFkaXVzOmEsdG9wUmFkaXVzOmF9KSkpfXJldHVybiBPYmplY3Qoay5hKSh0LGUpLHR9KFQpLEw9bigxKSxJPVstMSwwLDAsMCwxLDAsMCwwLC0xLDAsMCwxLDAsLTEsMCwxLDAsMF0sUj1bMyw0LDUsMyw1LDEsMywxLDAsMywwLDQsNCwwLDIsNCwyLDUsMiwwLDEsNSwyLDFdLEQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3QoeC5hKSh0aGlzLHQpO3ZhciBuPWUuaWQscj12b2lkIDA9PT1uP09iamVjdChQLmMpKCJpY28tc3BoZXJlLWdlb21ldHJ5Iik6bixpPUYoZSksYT1pLmluZGljZXMsbz1pLmF0dHJpYnV0ZXM7cmV0dXJuIE9iamVjdCh3LmEpKHRoaXMsT2JqZWN0KFMuYSkodCkuY2FsbCh0aGlzLE9iamVjdChPLmEpKHt9LGUse2lkOnIsaW5kaWNlczphLGF0dHJpYnV0ZXM6T2JqZWN0KE8uYSkoe30sbyxlLmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KGsuYSkodCxlKSx0fShfLmEpO2Z1bmN0aW9uIEYoZSl7dmFyIHQ9ZS5pdGVyYXRpb25zLG49dm9pZCAwPT09dD8wOnQscj1NYXRoLlBJLGk9MipyLGE9W10uY29uY2F0KEkpLG89W10uY29uY2F0KFIpO2EucHVzaCgpLG8ucHVzaCgpO2Zvcih2YXIgcyx1PShzPXt9LGZ1bmN0aW9uKGUsdCl7dmFyIG49KGUqPTMpPih0Kj0zKT9lOnQscj0iIi5jb25jYXQoZTx0P2U6dCwifCIpLmNvbmNhdChuKTtpZihyIGluIHMpcmV0dXJuIHNbcl07dmFyIGk9YVtlXSxvPWFbZSsxXSx1PWFbZSsyXSxjPShpK2FbdF0pLzIsbD0obythW3QrMV0pLzIsaD0odSthW3QrMl0pLzIsZj1NYXRoLnNxcnQoYypjK2wqbCtoKmgpO3JldHVybiBjLz1mLGwvPWYsaC89ZixhLnB1c2goYyxsLGgpLHNbcl09YS5sZW5ndGgvMy0xfSksYz0wO2M8bjtjKyspe2Zvcih2YXIgbD1bXSxoPTA7aDxvLmxlbmd0aDtoKz0zKXt2YXIgZj11KG9baCswXSxvW2grMV0pLGQ9dShvW2grMV0sb1toKzJdKSx2PXUob1toKzJdLG9baCswXSk7bC5wdXNoKHYsb1toKzBdLGYsZixvW2grMV0sZCxkLG9baCsyXSx2LGYsZCx2KX1vPWx9Zm9yKHZhciBwPW5ldyBBcnJheShhLmxlbmd0aCksZz1uZXcgQXJyYXkoYS5sZW5ndGgvMyoyKSx5PW8ubGVuZ3RoLTM7eT49MDt5LT0zKXt2YXIgbT1vW3krMF0sYj1vW3krMV0sXz1vW3krMl0sTz0zKm0seD0zKmIsdz0zKl8sUz0yKm0saz0yKmIsUD0yKl8saj1hW08rMF0sVD1hW08rMV0sRT1hW08rMl0sQT1NYXRoLmFjb3MoRS9NYXRoLnNxcnQoaipqK1QqVCtFKkUpKS9yLE09MS0oTWF0aC5hdGFuMihULGopK3IpL2ksQz1hW3grMF0sRD1hW3grMV0sRj1hW3grMl0sTj1NYXRoLmFjb3MoRi9NYXRoLnNxcnQoQypDK0QqRCtGKkYpKS9yLHo9MS0oTWF0aC5hdGFuMihELEMpK3IpL2ksQj1hW3crMF0sVT1hW3crMV0sVj1hW3crMl0sRz1NYXRoLmFjb3MoVi9NYXRoLnNxcnQoQipCK1UqVStWKlYpKS9yLFc9MS0oTWF0aC5hdGFuMihVLEIpK3IpL2ksSD1bQi1DLFUtRCxWLUZdLHE9W2otQyxULUQsRS1GXSxYPW5ldyBMLmUoSCkuY3Jvc3MocSkubm9ybWFsaXplKCksWj12b2lkIDA7KDA9PT1NfHwwPT09enx8MD09PVcpJiYoMD09PU18fE0+LjUpJiYoMD09PXp8fHo+LjUpJiYoMD09PVd8fFc+LjUpJiYoYS5wdXNoKGFbTyswXSxhW08rMV0sYVtPKzJdKSxaPWEubGVuZ3RoLzMtMSxvLnB1c2goWiksZ1syKlorMF09MSxnWzIqWisxXT1BLHBbMypaKzBdPVgueCxwWzMqWisxXT1YLnkscFszKlorMl09WC56LGEucHVzaChhW3grMF0sYVt4KzFdLGFbeCsyXSksWj1hLmxlbmd0aC8zLTEsby5wdXNoKFopLGdbMipaKzBdPTEsZ1syKlorMV09TixwWzMqWiswXT1YLngscFszKlorMV09WC55LHBbMypaKzJdPVgueixhLnB1c2goYVt3KzBdLGFbdysxXSxhW3crMl0pLFo9YS5sZW5ndGgvMy0xLG8ucHVzaChaKSxnWzIqWiswXT0xLGdbMipaKzFdPUcscFszKlorMF09WC54LHBbMypaKzFdPVgueSxwWzMqWisyXT1YLnopLHBbTyswXT1wW3grMF09cFt3KzBdPVgueCxwW08rMV09cFt4KzFdPXBbdysxXT1YLnkscFtPKzJdPXBbeCsyXT1wW3crMl09WC56LGdbUyswXT1NLGdbUysxXT1BLGdbayswXT16LGdbaysxXT1OLGdbUCswXT1XLGdbUCsxXT1HfXJldHVybntpbmRpY2VzOntzaXplOjEsdmFsdWU6bmV3IFVpbnQxNkFycmF5KG8pfSxhdHRyaWJ1dGVzOntQT1NJVElPTjp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoYSl9LE5PUk1BTDp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkocCl9LFRFWENPT1JEXzA6e3NpemU6Mix2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KGcpfX19fXZhciBOPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307T2JqZWN0KHguYSkodGhpcyx0KTt2YXIgbj1lLmlkLHI9dm9pZCAwPT09bj9PYmplY3QoUC5jKSgicGxhbmUtZ2VvbWV0cnkiKTpuLGk9eihlKSxhPWkuaW5kaWNlcyxvPWkuYXR0cmlidXRlcztyZXR1cm4gT2JqZWN0KHcuYSkodGhpcyxPYmplY3QoUy5hKSh0KS5jYWxsKHRoaXMsT2JqZWN0KE8uYSkoe30sZSx7aWQ6cixpbmRpY2VzOmEsYXR0cmlidXRlczpPYmplY3QoTy5hKSh7fSxvLGUuYXR0cmlidXRlcyl9KSkpfXJldHVybiBPYmplY3Qoay5hKSh0LGUpLHR9KF8uYSk7ZnVuY3Rpb24geihlKXt2YXIgdD1lLnR5cGUsbj12b2lkIDA9PT10PyJ4LHkiOnQscj1lLm9mZnNldCxpPXZvaWQgMD09PXI/MDpyLGE9ZS5mbGlwQ3VsbCxvPXZvaWQgMCE9PWEmJmEscz1lLnVucGFjayx1PXZvaWQgMCE9PXMmJnMsYz1uLnNwbGl0KCIsIiksbD1lWyIiLmNvbmNhdChjWzBdLCJsZW4iKV18fDEsaD1lWyIiLmNvbmNhdChjWzFdLCJsZW4iKV18fDEsZj1lWyJuIi5jb25jYXQoY1swXSldfHwxLGQ9ZVsibiIuY29uY2F0KGNbMV0pXXx8MSx2PShmKzEpKihkKzEpLHA9bmV3IEZsb2F0MzJBcnJheSgzKnYpLGc9bmV3IEZsb2F0MzJBcnJheSgzKnYpLHk9bmV3IEZsb2F0MzJBcnJheSgyKnYpO28mJihsPS1sKTtmb3IodmFyIG09MCxiPTAsXz0wO188PWQ7XysrKWZvcih2YXIgTz0wO088PWY7TysrKXt2YXIgeD1PL2Ysdz1fL2Q7c3dpdGNoKHlbbSswXT1vPzEteDp4LHlbbSsxXT13LG4pe2Nhc2UieCx5IjpwW2IrMF09bCp4LS41KmwscFtiKzFdPWgqdy0uNSpoLHBbYisyXT1pLGdbYiswXT0wLGdbYisxXT0wLGdbYisyXT1vPzE6LTE7YnJlYWs7Y2FzZSJ4LHoiOnBbYiswXT1sKngtLjUqbCxwW2IrMV09aSxwW2IrMl09aCp3LS41KmgsZ1tiKzBdPTAsZ1tiKzFdPW8/MTotMSxnW2IrMl09MDticmVhaztjYXNlInkseiI6cFtiKzBdPWkscFtiKzFdPWwqeC0uNSpsLHBbYisyXT1oKnctLjUqaCxnW2IrMF09bz8xOi0xLGdbYisxXT0wLGdbYisyXT0wO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJQbGFuZUdlb21ldHJ5OiB1bmtub3duIHR5cGUiKX1tKz0yLGIrPTN9Zm9yKHZhciBTPWYrMSxrPW5ldyBVaW50MTZBcnJheShmKmQqNiksUD0wO1A8ZDtQKyspZm9yKHZhciBqPTA7ajxmO2orKyl7dmFyIFQ9NiooUCpmK2opO2tbVCswXT0oUCswKSpTK2osa1tUKzFdPShQKzEpKlMraixrW1QrMl09KFArMCkqUytqKzEsa1tUKzNdPShQKzEpKlMraixrW1QrNF09KFArMSkqUytqKzEsa1tUKzVdPShQKzApKlMraisxfXZhciBFPXtpbmRpY2VzOntzaXplOjEsdmFsdWU6a30sYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpwfSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpnfSxURVhDT09SRF8wOntzaXplOjIsdmFsdWU6eX19fTtyZXR1cm4gdT9mdW5jdGlvbihlKXt2YXIgdD1lLmluZGljZXMsbj1lLmF0dHJpYnV0ZXM7aWYoIXQpcmV0dXJuIGU7dmFyIHI9dC52YWx1ZS5sZW5ndGgsaT17fTtmb3IodmFyIGEgaW4gbil7dmFyIG89blthXSxzPW8uY29uc3RhbnQsdT1vLnZhbHVlLGM9by5zaXplO2lmKCFzJiZjKXtmb3IodmFyIGw9bmV3IHUuY29uc3RydWN0b3IocipjKSxoPTA7aDxyOysraClmb3IodmFyIGY9dC52YWx1ZVtoXSxkPTA7ZDxjO2QrKylsW2gqYytkXT11W2YqYytkXTtpW2FdPXtzaXplOmMsdmFsdWU6bH19fXJldHVybnthdHRyaWJ1dGVzOk9iamVjdC5hc3NpZ24oe30sbixpKX19KEUpOkV9dmFyIEI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtPYmplY3QoeC5hKSh0aGlzLHQpO3ZhciBuPWUuaWQscj12b2lkIDA9PT1uP09iamVjdChQLmMpKCJzcGhlcmUtZ2VvbWV0cnkiKTpuLGk9VShlKSxhPWkuaW5kaWNlcyxvPWkuYXR0cmlidXRlcztyZXR1cm4gT2JqZWN0KHcuYSkodGhpcyxPYmplY3QoUy5hKSh0KS5jYWxsKHRoaXMsT2JqZWN0KE8uYSkoe30sZSx7aWQ6cixpbmRpY2VzOmEsYXR0cmlidXRlczpPYmplY3QoTy5hKSh7fSxvLGUuYXR0cmlidXRlcyl9KSkpfXJldHVybiBPYmplY3Qoay5hKSh0LGUpLHR9KF8uYSk7ZnVuY3Rpb24gVShlKXt2YXIgdD1lLm5sYXQsbj12b2lkIDA9PT10PzEwOnQscj1lLm5sb25nLGk9dm9pZCAwPT09cj8xMDpyLGE9ZS5yYWRpdXMsbz12b2lkIDA9PT1hPzE6YSxzPU1hdGguUEktMCx1PTIqTWF0aC5QSS0wLGM9KG4rMSkqKGkrMSk7aWYoIm51bWJlciI9PXR5cGVvZiBvKXt2YXIgbD1vO289ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gbH19Zm9yKHZhciBoPW5ldyBGbG9hdDMyQXJyYXkoMypjKSxmPW5ldyBGbG9hdDMyQXJyYXkoMypjKSxkPW5ldyBGbG9hdDMyQXJyYXkoMipjKSx2PW5ldyhjPjY1NTM1P1VpbnQzMkFycmF5OlVpbnQxNkFycmF5KShuKmkqNikscD0wO3A8PW47cCsrKWZvcih2YXIgZz0wO2c8PWk7ZysrKXt2YXIgeT1nL2ksbT1wL24sYj1nK3AqKGkrMSksXz0yKmIsTz0zKmIseD11Knksdz1zKm0sUz1NYXRoLnNpbih4KSxrPU1hdGguY29zKHgpLFA9TWF0aC5zaW4odyksaj1rKlAsVD1NYXRoLmNvcyh3KSxFPVMqUCxBPW8oaixULEUseSxtKTtoW08rMF09QSpqLGhbTysxXT1BKlQsaFtPKzJdPUEqRSxmW08rMF09aixmW08rMV09VCxmW08rMl09RSxkW18rMF09eSxkW18rMV09MS1tfWZvcih2YXIgTT1pKzEsQz0wO0M8aTtDKyspZm9yKHZhciBMPTA7TDxuO0wrKyl7dmFyIEk9NiooQypuK0wpO3ZbSSswXT1MKk0rQyx2W0krMV09TCpNK0MrMSx2W0krMl09KEwrMSkqTStDLHZbSSszXT0oTCsxKSpNK0MsdltJKzRdPUwqTStDKzEsdltJKzVdPShMKzEpKk0rQysxfXJldHVybntpbmRpY2VzOntzaXplOjEsdmFsdWU6dn0sYXR0cmlidXRlczp7UE9TSVRJT046e3NpemU6Myx2YWx1ZTpofSxOT1JNQUw6e3NpemU6Myx2YWx1ZTpmfSxURVhDT09SRF8wOntzaXplOjIsdmFsdWU6ZH19fX1uLmQodCwiTW9kZWwiLChmdW5jdGlvbigpe3JldHVybiByLmF9KSksbi5kKHQsIlRyYW5zZm9ybSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKSxuLmQodCwiUHJvZ3JhbU1hbmFnZXIiLChmdW5jdGlvbigpe3JldHVybiBhLmF9KSksbi5kKHQsIlRpbWVsaW5lIiwoZnVuY3Rpb24oKXtyZXR1cm4gby5hfSkpLG4uZCh0LCJpbnN0cnVtZW50R0xDb250ZXh0IiwoZnVuY3Rpb24oKXtyZXR1cm4gcy5lfSkpLG4uZCh0LCJpc1dlYkdMMiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuZ30pKSxuLmQodCwiRkVBVFVSRVMiLChmdW5jdGlvbigpe3JldHVybiB1LmF9KSksbi5kKHQsImhhc0ZlYXR1cmVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gYy5jfSkpLG4uZCh0LCJnZXRQYXJhbWV0ZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gcy5kfSkpLG4uZCh0LCJzZXRQYXJhbWV0ZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gcy5rfSkpLG4uZCh0LCJ3aXRoUGFyYW1ldGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMubH0pKSxuLmQodCwiY3NzVG9EZXZpY2VSYXRpbyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHMuY30pKSxuLmQodCwicmVhZFBpeGVsc1RvQnVmZmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gbC5kfSkpLG4uZCh0LCJjb3B5VG9UZXh0dXJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gbC5ifSkpLG4uZCh0LCJjbG9uZVRleHR1cmVGcm9tIiwoZnVuY3Rpb24oKXtyZXR1cm4gaC5hfSkpLG4uZCh0LCJCdWZmZXIiLChmdW5jdGlvbigpe3JldHVybiBmLmF9KSksbi5kKHQsIlByb2dyYW0iLChmdW5jdGlvbigpe3JldHVybiBkLmF9KSksbi5kKHQsIkZyYW1lYnVmZmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gdi5hfSkpLG4uZCh0LCJSZW5kZXJidWZmZXIiLChmdW5jdGlvbigpe3JldHVybiBwLmF9KSksbi5kKHQsIlRleHR1cmUyRCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGcuYX0pKSxuLmQodCwiVGV4dHVyZUN1YmUiLChmdW5jdGlvbigpe3JldHVybiB5LmF9KSksbi5kKHQsIlRleHR1cmUzRCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG0uYX0pKSxuLmQodCwiVHJhbnNmb3JtRmVlZGJhY2siLChmdW5jdGlvbigpe3JldHVybiBiLmF9KSksbi5kKHQsIkdlb21ldHJ5IiwoZnVuY3Rpb24oKXtyZXR1cm4gXy5hfSkpLG4uZCh0LCJDb25lR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LCJDdWJlR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBNLmF9KSksbi5kKHQsIkN5bGluZGVyR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJJY29TcGhlcmVHZW9tZXRyeSIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKHQsIlBsYW5lR2VvbWV0cnkiLChmdW5jdGlvbigpe3JldHVybiBOfSkpLG4uZCh0LCJTcGhlcmVHZW9tZXRyeSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKHQsIlRydW5jYXRlZENvbmVHZW9tZXRyeSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9bigxOTgpO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5nZXRQYW5lcygpLm92ZXJsYXlMYXllcixuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiBPYmplY3QuYXNzaWduKG4uc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSJ9KSx0LmFwcGVuZENoaWxkKG4pLG59ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLnByb3BzLnVzZXJEYXRhLl9ldmVudExpc3RlbmVycztmb3IodmFyIG4gaW4gdCl0W25dLnJlbW92ZSgpO2UuZmluYWxpemUoKSxlLmNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUuY2FudmFzKX12YXIgbD1mdW5jdGlvbigpe3JldHVybiExfSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKCkodGhpcyxlKSx0aGlzLnByb3BzPXt9LHRoaXMuX21hcD1udWxsO3ZhciBuPW5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldztuLm9uQWRkPXRoaXMuX29uQWRkLmJpbmQodGhpcyksbi5vblJlbW92ZT10aGlzLl9vblJlbW92ZS5iaW5kKHRoaXMpLG4uZHJhdz10aGlzLl9kcmF3LmJpbmQodGhpcyksdGhpcy5fb3ZlcmxheT1uLHRoaXMuc2V0UHJvcHModCl9cmV0dXJuIG8oKShlLFt7a2V5OiJzZXRNYXAiLHZhbHVlOmZ1bmN0aW9uKGUpe2UhPT10aGlzLl9tYXAmJih0aGlzLl9tYXAmJih0aGlzLl9vdmVybGF5LnNldE1hcChudWxsKSx0aGlzLl9tYXA9bnVsbCksZSYmKHRoaXMuX21hcD1lLHRoaXMuX292ZXJsYXkuc2V0TWFwKGUpKSl9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7T2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLGUpLHRoaXMuX2RlY2smJnRoaXMuX2RlY2suc2V0UHJvcHModGhpcy5wcm9wcyl9fSx7a2V5OiJwaWNrT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGVjayYmdGhpcy5fZGVjay5waWNrT2JqZWN0KGUpfX0se2tleToicGlja011bHRpcGxlT2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RlY2smJnRoaXMuX2RlY2sucGlja011bHRpcGxlT2JqZWN0cyhlKX19LHtrZXk6InBpY2tPYmplY3RzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGVjayYmdGhpcy5fZGVjay5waWNrT2JqZWN0cyhlKX19LHtrZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0TWFwKG51bGwpLHRoaXMuX2RlY2smJihjKHRoaXMuX2RlY2spLHRoaXMuX2RlY2s9bnVsbCl9fSx7a2V5OiJfb25BZGQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVjaz1mdW5jdGlvbihlLHQsbil7aWYobil7aWYobi5wcm9wcy51c2VyRGF0YS5fZ29vZ2xlTWFwPT09ZSlyZXR1cm4gbjtjKG4pfXZhciByPXtjbGljazpudWxsLG1vdXNlbW92ZTpudWxsLG1vdXNlb3V0Om51bGx9O249bmV3IHMuYSh7Y2FudmFzOnUodCksaW5pdGlhbFZpZXdTdGF0ZTp7bG9uZ2l0dWRlOjAsbGF0aXR1ZGU6MCx6b29tOjF9LGNvbnRyb2xsZXI6ITEsdXNlckRhdGE6e19nb29nbGVNYXA6ZSxfZXZlbnRMaXN0ZW5lcnM6cn19KTt2YXIgaT1mdW5jdGlvbih0KXtyW3RdPWUuYWRkTGlzdGVuZXIodCwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtzd2l0Y2godCl7Y2FzZSJjbGljayI6ZS5fbGFzdFBvaW50ZXJEb3duSW5mbz1lLnBpY2tPYmplY3Qoe3g6bi5waXhlbC54LHk6bi5waXhlbC55fSkscj1lLl9vbkV2ZW50O2JyZWFrO2Nhc2UibW91c2Vtb3ZlIjp0PSJwb2ludGVybW92ZSIscj1lLl9vblBvaW50ZXJNb3ZlO2JyZWFrO2Nhc2UibW91c2VvdXQiOnQ9InBvaW50ZXJsZWF2ZSIscj1lLl9vblBvaW50ZXJNb3ZlO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXIoe3R5cGU6dCxvZmZzZXRDZW50ZXI6bi5waXhlbCxzcmNFdmVudDpufSl9KG4sdCxlKX0pKX07Zm9yKHZhciBhIGluIHIpaShhKTtyZXR1cm4gbn0odGhpcy5fbWFwLHRoaXMuX292ZXJsYXksdGhpcy5fZGVjayksdGhpcy5fZGVjay5zZXRQcm9wcyh0aGlzLnByb3BzKX19LHtrZXk6Il9vblJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9kZWNrLnNldFByb3BzKHtsYXllckZpbHRlcjpsfSl9fSx7a2V5OiJfZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kZWNrLHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldERpdigpLmZpcnN0Q2hpbGQscj1uLm9mZnNldFdpZHRoLGk9bi5vZmZzZXRIZWlnaHQsYT10LmdldFByb2plY3Rpb24oKSxvPWUuZ2V0Qm91bmRzKCkscz1vLmdldE5vcnRoRWFzdCgpLHU9by5nZXRTb3V0aFdlc3QoKSxjPWEuZnJvbUxhdExuZ1RvRGl2UGl4ZWwocyksbD1hLmZyb21MYXRMbmdUb0RpdlBpeGVsKHUpLGg9bmV3IGdvb2dsZS5tYXBzLlBvaW50KDAsMCksZj1hLmZyb21Db250YWluZXJQaXhlbFRvTGF0TG5nKGgpLGQ9YS5mcm9tTGF0TG5nVG9EaXZQaXhlbChmKSx2PWQueCxwPWQueSxnPWEuZ2V0V29ybGRXaWR0aCgpLHk9TWF0aC5jZWlsKHIvZyk7di09TWF0aC5mbG9vcih5LzIpKmc7dmFyIG09aT8obC55LWMueSkvaToxLGI9TWF0aC5sb2cyKG18fDEpK2UuZ2V0Wm9vbSgpLTEsXz1uZXcgZ29vZ2xlLm1hcHMuUG9pbnQoci8yLGkvMiksTz1hLmZyb21Db250YWluZXJQaXhlbFRvTGF0TG5nKF8pLHg9Ty5sYXQoKSx3PU8ubG5nKCk7aWYoTWF0aC5hYnMoeCk+ODUuMDUxMTMpe3g9eD4wPzg1LjA1MTEzOi04NS4wNTExMzt2YXIgUz1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHgsdyk7cCs9KF89YS5mcm9tTGF0TG5nVG9Db250YWluZXJQaXhlbChTKSkueS1pLzJ9cmV0dXJue3dpZHRoOnIsaGVpZ2h0OmksbGVmdDp2LHRvcDpwLHpvb206YixwaXRjaDplLmdldFRpbHQoKSxsYXRpdHVkZTp4LGxvbmdpdHVkZTp3fX0odGhpcy5fbWFwLHRoaXMuX292ZXJsYXkpLG49dC53aWR0aCxyPXQuaGVpZ2h0LGk9dC5sZWZ0LGE9dC50b3Asbz10Lnpvb20scz10LnBpdGNoLHU9dC5sYXRpdHVkZSxjPXQubG9uZ2l0dWRlLGg9MD09PXM7ZS5jYW52YXMuc3R5bGUubGVmdD0iIi5jb25jYXQoaSwicHgiKSxlLmNhbnZhcy5zdHlsZS50b3A9IiIuY29uY2F0KGEsInB4IiksZS5zZXRQcm9wcyh7d2lkdGg6bixoZWlnaHQ6cix2aWV3U3RhdGU6e2xhdGl0dWRlOnUsbG9uZ2l0dWRlOmMsem9vbTpvLHJlcGVhdDohMH0sbGF5ZXJGaWx0ZXI6aD90aGlzLnByb3BzLmxheWVyRmlsdGVyOmx9KSxlLnJlZHJhdygpfX1dKSxlfSgpO24uZCh0LCJHb29nbGVNYXBzT3ZlcmxheSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpO3ZhciByPW4oMiksaT1uLm4ociksYT1uKDMpLG89bi5uKGEpLHM9bigxOCksdT1uLm4ocyksYz1uKDE5OCksbD1uKDEzNyk7ZnVuY3Rpb24gaChlKXt2YXIgdD1lLm1hcCxuPWUuZ2wscj1lLmRlY2s7aWYodC5fX2RlY2spcmV0dXJuIHQuX19kZWNrO3ZhciBpPXImJnIucHJvcHMuX2N1c3RvbVJlbmRlcixhPXt1c2VEZXZpY2VQaXhlbHM6ITAsX2N1c3RvbVJlbmRlcjpmdW5jdGlvbigpe3QudHJpZ2dlclJlcGFpbnQoKSxpJiZpKCl9LHBhcmFtZXRlcnM6e2RlcHRoTWFzazohMCxkZXB0aFRlc3Q6ITAsYmxlbmRGdW5jOls3NzAsNzcxLDEsNzcxXSxibGVuZEVxdWF0aW9uOjMyNzc0fSx1c2VyRGF0YTp7aXNFeHRlcm5hbDohMSxtYXBib3hMYXllcnM6bmV3IFNldH19O3JldHVybiByPyhyLnNldFByb3BzKGEpLHIucHJvcHMudXNlckRhdGEuaXNFeHRlcm5hbD0hMCk6KE9iamVjdC5hc3NpZ24oYSx7Z2w6bix3aWR0aDohMSxoZWlnaHQ6ITEsdmlld1N0YXRlOmYodCl9KSxyPW5ldyBjLmEoYSksdC5vbigibW92ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7ZS5zZXRQcm9wcyh7dmlld1N0YXRlOmYodCl9KSxlLm5lZWRzUmVkcmF3KHtjbGVhclJlZHJhd0ZsYWdzOiEwfSl9KHIsdCl9KSksdC5vbigicmVtb3ZlIiwoZnVuY3Rpb24oKXtyLmZpbmFsaXplKCksdC5fX2RlY2s9bnVsbH0pKSksci5wcm9wcy51c2VyRGF0YS5tYXBib3hWZXJzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PTAsbj0wO2lmKGUudmVyc2lvbil7dmFyIHI9ZS52ZXJzaW9uLnNwbGl0KCIuIikuc2xpY2UoMCwyKS5tYXAoTnVtYmVyKSxpPXUoKShyLDIpO3Q9aVswXSxuPWlbMV19cmV0dXJue21ham9yOnQsbWlub3I6bn19KHQpLHQuX19kZWNrPXIsdC5vbigicmVuZGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnByb3BzLnVzZXJEYXRhLHI9bi5tYXBib3hMYXllcnM7aWYobi5pc0V4dGVybmFsKXt2YXIgaT1BcnJheS5mcm9tKHIsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpLGE9dihlLChmdW5jdGlvbihlKXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1pW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGE9by5uZXh0KCkpLmRvbmUpO3Q9ITApe2lmKHAoYS52YWx1ZSxlKSlyZXR1cm4hMX19Y2F0Y2goZSl7bj0hMCxyPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiEwfSkpO2EubGVuZ3RoPjAmJmUuX2RyYXdMYXllcnMoIm1hcGJveC1yZXBhaW50Iix7dmlld3BvcnRzOltkKGUsdCwhMSldLGxheWVyczphLGNsZWFyQ2FudmFzOiExfSl9ZS5wcm9wcy51c2VyRGF0YS5jdXJyZW50Vmlld3BvcnQ9bnVsbH0ocix0KX0pKSxyfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZS5nZXRDZW50ZXIoKTtyZXR1cm57bG9uZ2l0dWRlOnQubG5nLGxhdGl0dWRlOnQubGF0LHpvb206ZS5nZXRab29tKCksYmVhcmluZzplLmdldEJlYXJpbmcoKSxwaXRjaDplLmdldFBpdGNoKCl9fWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdLHI9ZS5wcm9wcy51c2VyRGF0YS5tYXBib3hWZXJzaW9uO3JldHVybiBuZXcgbC5hKE9iamVjdC5hc3NpZ24oe3g6MCx5OjAsd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQscmVwZWF0OiEwfSxmKHQpLG4/e25lYXJaTXVsdGlwbGllcjoxPT09ci5tYWpvciYmci5taW5vcj49M3x8ci5tYWpvcj49Mj8uMDI6MS8oZS5oZWlnaHR8fDEpfTp7bmVhclpNdWx0aXBsaWVyOi4xfSkpfWZ1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZS5sYXllck1hbmFnZXIuZ2V0TGF5ZXJzKCkuZmlsdGVyKHQpfWZ1bmN0aW9uIHAoZSx0KXtmb3IodmFyIG49dDtuOyl7aWYobi5pZD09PWUpcmV0dXJuITA7bj1uLnBhcmVudH1yZXR1cm4hMX1mdW5jdGlvbiBnKGUpe2lmKCFlLnByb3BzLnVzZXJEYXRhLmlzRXh0ZXJuYWwpe3ZhciB0PVtdO2UucHJvcHMudXNlckRhdGEubWFwYm94TGF5ZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldygwLGUucHJvcHMudHlwZSkoZS5wcm9wcyk7dC5wdXNoKG4pfSkpLGUuc2V0UHJvcHMoe2xheWVyczp0fSl9fXZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZihpKCkodGhpcyxlKSwhdC5pZCl0aHJvdyBuZXcgRXJyb3IoIkxheWVyIG11c3QgaGF2ZSBhbiB1bmlxdWUgaWQiKTt0aGlzLmlkPXQuaWQsdGhpcy50eXBlPSJjdXN0b20iLHRoaXMucmVuZGVyaW5nTW9kZT10LnJlbmRlcmluZ01vZGV8fCIzZCIsdGhpcy5tYXA9bnVsbCx0aGlzLmRlY2s9bnVsbCx0aGlzLnByb3BzPXR9cmV0dXJuIG8oKShlLFt7a2V5OiJvbkFkZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3RoaXMubWFwPWUsdGhpcy5kZWNrPWgoe21hcDplLGdsOnQsZGVjazp0aGlzLnByb3BzLmRlY2t9KSxuPXRoaXMuZGVjayxyPXRoaXMsbi5wcm9wcy51c2VyRGF0YS5tYXBib3hMYXllcnMuYWRkKHIpLGcobil9fSx7a2V5OiJvblJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0O2U9dGhpcy5kZWNrLHQ9dGhpcyxlLnByb3BzLnVzZXJEYXRhLm1hcGJveExheWVycy5kZWxldGUodCksZyhlKX19LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXtPYmplY3QuYXNzaWduKHRoaXMucHJvcHMsZSx7aWQ6dGhpcy5pZH0pLHRoaXMuZGVjayYmZyh0aGlzLmRlY2spfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxhO249dGhpcy5kZWNrLHI9dGhpcy5tYXAsaT10aGlzLChhPW4ucHJvcHMudXNlckRhdGEuY3VycmVudFZpZXdwb3J0KXx8KGE9ZChuLHIsITApLG4ucHJvcHMudXNlckRhdGEuY3VycmVudFZpZXdwb3J0PWEpLG4uX2RyYXdMYXllcnMoIm1hcGJveC1yZXBhaW50Iix7dmlld3BvcnRzOlthXSxsYXllcnM6dihuLChmdW5jdGlvbihlKXtyZXR1cm4gcChpLmlkLGUpfSkpLGNsZWFyQ2FudmFzOiExfSl9fV0pLGV9KCk7bi5kKHQsIk1hcGJveExheWVyIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnIodCk7dmFyIHI9big3KSxpPW4ubihyKSxhPW4oMiksbz1uLm4oYSkscz1uKDMpLHU9bi5uKHMpLGM9big5KSxsPW4ubihjKSxoPW4oNCksZj1uLm4oaCksZD1uKDEyKSx2PW4ubihkKSxwPW4oMTApLGc9bi5uKHApLHk9big1KSxtPW4oNiksYj1uKDApLF89bigzNiksTz1uLm4oXykseD0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Omdsb2JhbCwidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6d2luZG93LCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6e30pO3ZhciB3PXtjb250YWluZXI6Ty5hLm9iamVjdCxnbDpPLmEub2JqZWN0LG1hcGJveEFwaUFjY2Vzc1Rva2VuOk8uYS5zdHJpbmcsbWFwYm94QXBpVXJsOk8uYS5zdHJpbmcsYXR0cmlidXRpb25Db250cm9sOk8uYS5ib29sLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpPLmEuYm9vbCxyZXVzZU1hcHM6Ty5hLmJvb2wsdHJhbnNmb3JtUmVxdWVzdDpPLmEuZnVuYyxtYXBPcHRpb25zOk8uYS5vYmplY3QsbWFwU3R5bGU6Ty5hLm9uZU9mVHlwZShbTy5hLnN0cmluZyxPLmEub2JqZWN0XSksdmlzaWJsZTpPLmEuYm9vbCxhc3luY1JlbmRlcjpPLmEuYm9vbCxvbkxvYWQ6Ty5hLmZ1bmMsb25FcnJvcjpPLmEuZnVuYyx3aWR0aDpPLmEubnVtYmVyLGhlaWdodDpPLmEubnVtYmVyLHZpZXdTdGF0ZTpPLmEub2JqZWN0LGxvbmdpdHVkZTpPLmEubnVtYmVyLGxhdGl0dWRlOk8uYS5udW1iZXIsem9vbTpPLmEubnVtYmVyLGJlYXJpbmc6Ty5hLm51bWJlcixwaXRjaDpPLmEubnVtYmVyLGFsdGl0dWRlOk8uYS5udW1iZXJ9LFM9e2NvbnRhaW5lcjp4LmJvZHksbWFwYm94QXBpQWNjZXNzVG9rZW46ZnVuY3Rpb24oKXt2YXIgZT1udWxsO2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb24pe3ZhciB0PXdpbmRvdy5sb2NhdGlvbi5zZWFyY2gubWF0Y2goL2FjY2Vzc190b2tlbj0oW14mXC9dKikvKTtlPXQmJnRbMV19ZXx8InVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzfHwoZT1lfHxwcm9jZXNzLmVudi5NYXBib3hBY2Nlc3NUb2tlbnx8cHJvY2Vzcy5lbnYuUkVBQ1RfQVBQX01BUEJPWF9BQ0NFU1NfVE9LRU4pO3JldHVybiBlfHwibm8tdG9rZW4ifSgpLG1hcGJveEFwaVVybDoiaHR0cHM6Ly9hcGkubWFwYm94LmNvbSIscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLGF0dHJpYnV0aW9uQ29udHJvbDohMCxyZXVzZU1hcHM6ITEsbWFwT3B0aW9uczp7fSxtYXBTdHlsZToibWFwYm94Oi8vc3R5bGVzL21hcGJveC9saWdodC12OCIsdmlzaWJsZTohMCxhc3luY1JlbmRlcjohMSxvbkxvYWQ6ZnVuY3Rpb24oKXt9LG9uRXJyb3I6ZnVuY3Rpb24oZSl7ZSYmY29uc29sZS5lcnJvcihlLmVycm9yKX0sd2lkdGg6MCxoZWlnaHQ6MCxsb25naXR1ZGU6MCxsYXRpdHVkZTowLHpvb206MCxiZWFyaW5nOjAscGl0Y2g6MCxhbHRpdHVkZToxLjV9O2Z1bmN0aW9uIGsoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJjb21wb25lbnQiO2UuZGVidWcmJk8uYS5jaGVja1Byb3BUeXBlcyh3LGUsInByb3AiLHQpfXZhciBQPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO2lmKE9iamVjdCh5LmEpKHRoaXMsZSksT2JqZWN0KGIuYSkodGhpcywibWFwYm94Z2wiLHZvaWQgMCksT2JqZWN0KGIuYSkodGhpcywicHJvcHMiLFMpLE9iamVjdChiLmEpKHRoaXMsIl9tYXAiLG51bGwpLE9iamVjdChiLmEpKHRoaXMsIndpZHRoIiwwKSxPYmplY3QoYi5hKSh0aGlzLCJoZWlnaHQiLDApLE9iamVjdChiLmEpKHRoaXMsIl9maXJlTG9hZEV2ZW50IiwoZnVuY3Rpb24oKXtuLnByb3BzLm9uTG9hZCh7dHlwZToibG9hZCIsdGFyZ2V0Om4uX21hcH0pfSkpLCF0Lm1hcGJveGdsKXRocm93IG5ldyBFcnJvcigiTWFwYm94IG5vdCBhdmFpbGFibGUiKTt0aGlzLm1hcGJveGdsPXQubWFwYm94Z2wsZS5pbml0aWFsaXplZHx8KGUuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5fY2hlY2tTdHlsZVNoZWV0KHRoaXMubWFwYm94Z2wudmVyc2lvbikpLHRoaXMuX2luaXRpYWxpemUodCl9cmV0dXJuIE9iamVjdChtLmEpKGUsW3trZXk6ImZpbmFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXN0cm95KCksdGhpc319LHtrZXk6InNldFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKHRoaXMucHJvcHMsZSksdGhpc319LHtrZXk6InJlc2l6ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwLnJlc2l6ZSgpLHRoaXN9fSx7a2V5OiJyZWRyYXciLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbWFwO2Uuc3R5bGUmJihlLl9mcmFtZSYmKGUuX2ZyYW1lLmNhbmNlbCgpLGUuX2ZyYW1lPW51bGwpLGUuX3JlbmRlcigpKX19LHtrZXk6ImdldE1hcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwfX0se2tleToiX3JldXNlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9ZS5zYXZlZE1hcDt2YXIgbj10aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkscj10LmNvbnRhaW5lcjtmb3Ioci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1tYXAiKTtuLmNoaWxkTm9kZXMubGVuZ3RoPjA7KXIuYXBwZW5kQ2hpbGQobi5jaGlsZE5vZGVzWzBdKTt0aGlzLl9tYXAuX2NvbnRhaW5lcj1yLGUuc2F2ZWRNYXA9bnVsbCx0Lm1hcFN0eWxlJiZ0aGlzLl9tYXAuc2V0U3R5bGUodC5tYXBTdHlsZSx7ZGlmZjohMX0pLHRoaXMuX21hcC5pc1N0eWxlTG9hZGVkKCk/dGhpcy5fZmlyZUxvYWRFdmVudCgpOnRoaXMuX21hcC5vbmNlKCJzdHlsZWRhdGEiLHRoaXMuX2ZpcmVMb2FkRXZlbnQpfX0se2tleToiX2NyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodC5yZXVzZU1hcHMmJmUuc2F2ZWRNYXApdGhpcy5fcmV1c2UodCk7ZWxzZXtpZih0LmdsKXt2YXIgbj1IVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuZ2V0Q29udGV4dDtIVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuZ2V0Q29udGV4dD1mdW5jdGlvbigpe3JldHVybiBIVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuZ2V0Q29udGV4dD1uLHQuZ2x9fXZhciByPXtjb250YWluZXI6dC5jb250YWluZXIsY2VudGVyOlswLDBdLHpvb206OCxwaXRjaDowLGJlYXJpbmc6MCxtYXhab29tOjI0LHN0eWxlOnQubWFwU3R5bGUsaW50ZXJhY3RpdmU6ITEsdHJhY2tSZXNpemU6ITEsYXR0cmlidXRpb25Db250cm9sOnQuYXR0cmlidXRpb25Db250cm9sLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjp0LnByZXNlcnZlRHJhd2luZ0J1ZmZlcn07dC50cmFuc2Zvcm1SZXF1ZXN0JiYoci50cmFuc2Zvcm1SZXF1ZXN0PXQudHJhbnNmb3JtUmVxdWVzdCksdGhpcy5fbWFwPW5ldyB0aGlzLm1hcGJveGdsLk1hcChPYmplY3QuYXNzaWduKHt9LHIsdC5tYXBPcHRpb25zKSksdGhpcy5fbWFwLm9uY2UoImxvYWQiLHQub25Mb2FkKSx0aGlzLl9tYXAub24oImVycm9yIix0Lm9uRXJyb3IpfXJldHVybiB0aGlzfX0se2tleToiX2Rlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYoZS5zYXZlZE1hcD90aGlzLl9tYXAucmVtb3ZlKCk6KGUuc2F2ZWRNYXA9dGhpcy5fbWFwLHRoaXMuX21hcC5vZmYoImxvYWQiLHRoaXMucHJvcHMub25Mb2FkKSx0aGlzLl9tYXAub2ZmKCJlcnJvciIsdGhpcy5wcm9wcy5vbkVycm9yKSx0aGlzLl9tYXAub2ZmKCJzdHlsZWRhdGEiLHRoaXMuX2ZpcmVMb2FkRXZlbnQpKSx0aGlzLl9tYXA9bnVsbCl9fSx7a2V5OiJfaW5pdGlhbGl6ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztrKGU9T2JqZWN0LmFzc2lnbih7fSxTLGUpLCJNYXBib3giKSx0aGlzLm1hcGJveGdsLmFjY2Vzc1Rva2VuPWUubWFwYm94QXBpQWNjZXNzVG9rZW58fFMubWFwYm94QXBpQWNjZXNzVG9rZW4sdGhpcy5tYXBib3hnbC5iYXNlQXBpVXJsPWUubWFwYm94QXBpVXJsLHRoaXMuX2NyZWF0ZShlKTt2YXIgbj1lLmNvbnRhaW5lcjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwib2Zmc2V0V2lkdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC53aWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiY2xpZW50V2lkdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC53aWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwib2Zmc2V0SGVpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaGVpZ2h0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJjbGllbnRIZWlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5oZWlnaHR9fSk7dmFyIHI9dGhpcy5fbWFwLmdldENhbnZhcygpO3ImJihyLnN0eWxlLm91dGxpbmU9Im5vbmUiKSx0aGlzLl91cGRhdGVNYXBWaWV3cG9ydCh7fSxlKSx0aGlzLl91cGRhdGVNYXBTaXplKHt9LGUpLHRoaXMucHJvcHM9ZX19LHtrZXk6Il91cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fbWFwKXtrKHQ9T2JqZWN0LmFzc2lnbih7fSx0aGlzLnByb3BzLHQpLCJNYXBib3giKTt2YXIgbj10aGlzLl91cGRhdGVNYXBWaWV3cG9ydChlLHQpLHI9dGhpcy5fdXBkYXRlTWFwU2l6ZShlLHQpO3QuYXN5bmNSZW5kZXJ8fCFuJiYhcnx8dGhpcy5yZWRyYXcoKSx0aGlzLnByb3BzPXR9fX0se2tleToiX3VwZGF0ZU1hcFNpemUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS53aWR0aCE9PXQud2lkdGh8fGUuaGVpZ2h0IT09dC5oZWlnaHQ7cmV0dXJuIG4mJih0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpcy5yZXNpemUoKSksbn19LHtrZXk6Il91cGRhdGVNYXBWaWV3cG9ydCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9nZXRWaWV3U3RhdGUoZSkscj10aGlzLl9nZXRWaWV3U3RhdGUodCksaT1yLmxhdGl0dWRlIT09bi5sYXRpdHVkZXx8ci5sb25naXR1ZGUhPT1uLmxvbmdpdHVkZXx8ci56b29tIT09bi56b29tfHxyLnBpdGNoIT09bi5waXRjaHx8ci5iZWFyaW5nIT09bi5iZWFyaW5nfHxyLmFsdGl0dWRlIT09bi5hbHRpdHVkZTtyZXR1cm4gaSYmKHRoaXMuX21hcC5qdW1wVG8odGhpcy5fdmlld1N0YXRlVG9NYXBib3hQcm9wcyhyKSksci5hbHRpdHVkZSE9PW4uYWx0aXR1ZGUmJih0aGlzLl9tYXAudHJhbnNmb3JtLmFsdGl0dWRlPXIuYWx0aXR1ZGUpKSxpfX0se2tleToiX2dldFZpZXdTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52aWV3U3RhdGV8fGUsbj10LmxvbmdpdHVkZSxyPXQubGF0aXR1ZGUsaT10Lnpvb20sYT10LnBpdGNoLG89dm9pZCAwPT09YT8wOmEscz10LmJlYXJpbmcsdT12b2lkIDA9PT1zPzA6cyxjPXQuYWx0aXR1ZGU7cmV0dXJue2xvbmdpdHVkZTpuLGxhdGl0dWRlOnIsem9vbTppLHBpdGNoOm8sYmVhcmluZzp1LGFsdGl0dWRlOnZvaWQgMD09PWM/MS41OmN9fX0se2tleToiX2NoZWNrU3R5bGVTaGVldCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06IjAuNDcuMCI7aWYodm9pZCAwIT09eCl0cnl7dmFyIHQ9eC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LmNsYXNzTmFtZT0ibWFwYm94Z2wtbWFwIix0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHguYm9keS5hcHBlbmQodCk7dmFyIG49InN0YXRpYyIhPT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5wb3NpdGlvbjtpZighbil7dmFyIHI9eC5jcmVhdGVFbGVtZW50KCJsaW5rIik7ci5zZXRBdHRyaWJ1dGUoInJlbCIsInN0eWxlc2hlZXQiKSxyLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIiksci5zZXRBdHRyaWJ1dGUoImhyZWYiLCJodHRwczovL2FwaS50aWxlcy5tYXBib3guY29tL21hcGJveC1nbC1qcy92Ii5jb25jYXQoZSwiL21hcGJveC1nbC5jc3MiKSkseC5oZWFkLmFwcGVuZChyKX19Y2F0Y2goZSl7fX19LHtrZXk6Il92aWV3U3RhdGVUb01hcGJveFByb3BzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm57Y2VudGVyOltlLmxvbmdpdHVkZSxlLmxhdGl0dWRlXSx6b29tOmUuem9vbSxiZWFyaW5nOmUuYmVhcmluZyxwaXRjaDplLnBpdGNofX19XSksZX0oKTtPYmplY3QoYi5hKShQLCJpbml0aWFsaXplZCIsITEpLE9iamVjdChiLmEpKFAsInByb3BUeXBlcyIsdyksT2JqZWN0KGIuYSkoUCwiZGVmYXVsdFByb3BzIixTKSxPYmplY3QoYi5hKShQLCJzYXZlZE1hcCIsbnVsbCk7dmFyIGo9bigxOTgpO2Z1bmN0aW9uIFQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIEUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2koKShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6VChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1uLmQodCwiZGVmYXVsdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIEE9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDowLHRvcDowLHdpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUifTtmdW5jdGlvbiBNKGUpe3ZhciB0PWUuY29udGFpbmVyLG49dm9pZCAwPT09dD9kb2N1bWVudC5ib2R5OnQ7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYobj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSksIW4pdGhyb3cgRXJyb3IoIkRlY2s6IGNvbnRhaW5lciBub3QgZm91bmQiKTsic3RhdGljIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG4pLnBvc2l0aW9uJiYobi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLmFwcGVuZENoaWxkKHIpLE9iamVjdC5hc3NpZ24oci5zdHlsZSxBKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gbi5hcHBlbmRDaGlsZChpKSxPYmplY3QuYXNzaWduKGkuc3R5bGUsQSkse2NvbnRhaW5lcjpuLG1hcENhbnZhczpyLGRlY2tDYW52YXM6aX19dmFyIEM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKG8oKSh0aGlzLHQpLCJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgRXJyb3IoIkRlY2sgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgYnJvd3NlciIpO3ZhciByPU0obiksaT1yLm1hcENhbnZhcyxhPXIuZGVja0NhbnZhcyxzPW4udmlld1N0YXRlfHxuLmluaXRpYWxWaWV3U3RhdGUsdT1OdW1iZXIuaXNGaW5pdGUocyYmcy5sYXRpdHVkZSksYz1uLm1hcCxoPXZvaWQgMD09PWM/d2luZG93Lm1hcGJveGdsOmM7cmV0dXJuIGU9bCgpKHRoaXMsZigpKHQpLmNhbGwodGhpcyxFKHtjYW52YXM6YX0sbikpKSxoJiZoLk1hcD9lLl9tYXA9dSYmbmV3IFAoT2JqZWN0LmFzc2lnbih7fSxuLHt2aWV3U3RhdGU6cyxjb250YWluZXI6aSxtYXBib3hnbDpofSkpOmUuX21hcD1oLGUuX29uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKHQpe2lmKGUub25CZWZvcmVSZW5kZXIodCksZS5fbWFwKXt2YXIgbj1lLmdldFZpZXdwb3J0cygpWzBdO2UuX21hcC5zZXRQcm9wcyh7d2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHQsdmlld1N0YXRlOm59KX19LGV9cmV0dXJuIGcoKSh0LGUpLHUoKSh0LFt7a2V5OiJnZXRNYXBib3hNYXAiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmdGhpcy5fbWFwLmdldE1hcCgpfX0se2tleToiZmluYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiZ0aGlzLl9tYXAuZmluYWxpemUoKSx2KCkoZigpKHQucHJvdG90eXBlKSwiZmluYWxpemUiLHRoaXMpLmNhbGwodGhpcyl9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7Im9uQmVmb3JlUmVuZGVyImluIGUmJnRoaXMuX29uQmVmb3JlUmVuZGVyJiZlLm9uQmVmb3JlUmVuZGVyIT09dGhpcy5fb25CZWZvcmVSZW5kZXImJih0aGlzLm9uQmVmb3JlUmVuZGVyPWUub25CZWZvcmVSZW5kZXIsZS5vbkJlZm9yZVJlbmRlcj10aGlzLl9vbkJlZm9yZVJlbmRlciksdigpKGYoKSh0LnByb3RvdHlwZSksInNldFByb3BzIix0aGlzKS5jYWxsKHRoaXMsZSl9fV0pLHR9KGouYSl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciByPW4oMTEpO2Z1bmN0aW9uIGkoZSx0LG4saSl7dmFyIGE9IlNlZSBsdW1hLmdsICIuY29uY2F0KG4sIiBVcGdyYWRlIEd1aWRlIGF0IGh0dHA6Ly91YmVyLmdpdGh1Yi5pby9sdW1hLmdsLyMvZG9jdW1lbnRhdGlvbi9vdmVydmlldy91cGdyYWRlLWd1aWRlIiksbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLm1ldGhvZE5hbWV8fChvW2VdPWZ1bmN0aW9uKCl7dGhyb3cgci5oLnJlbW92ZWQoIkNhbGxpbmcgcmVtb3ZlZCBtZXRob2QgIi5jb25jYXQodCwiLiIpLmNvbmNhdChlLCI6ICIpLGEpKCksbmV3IEVycm9yKGUpfSl9KSl9fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMTczKSxpPW4oMTEpLGE9bigyOSk7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBzKGUsdCl9ZnVuY3Rpb24gcyhlLHQpe3JldHVybih0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0pLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gYyhlLHQpfSkpfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0IGluIGUubHVtYT1lLmx1bWF8fHt9LGUubHVtYS5jYXBzPWUubHVtYS5jYXBzfHx7fSxyLmIpdm9pZCAwPT09ZS5sdW1hLmNhcHNbdF0mJihlLmx1bWEuY2Fwc1t0XT1jKGUsdCkpO3JldHVybiBlLmx1bWEuY2Fwc31mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGUubHVtYT1lLmx1bWF8fHt9LGUubHVtYS5jYXBzPWUubHVtYS5jYXBzfHx7fSx2b2lkIDA9PT1lLmx1bWEuY2Fwc1t0XSYmKGUubHVtYS5jYXBzW3RdPWZ1bmN0aW9uKGUsdCl7dmFyIG4sbz1yLmJbdF07T2JqZWN0KGEuYSkobyx0KTt2YXIgcz1PYmplY3QoaS5nKShlKSYmb1sxXXx8b1swXTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyluPXMoZSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHMpKXtuPSEwO3ZhciB1PSEwLGM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgaCxmPXNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0oaD1mLm5leHQoKSkuZG9uZSk7dT0hMCl7dmFyIGQ9aC52YWx1ZTtuPW4mJkJvb2xlYW4oZS5nZXRFeHRlbnNpb24oZCkpfX1jYXRjaChlKXtjPSEwLGw9ZX1maW5hbGx5e3RyeXt1fHxudWxsPT1mLnJldHVybnx8Zi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgbH19fWVsc2Uic3RyaW5nIj09dHlwZW9mIHM/bj1Cb29sZWFuKGUuZ2V0RXh0ZW5zaW9uKHMpKToiYm9vbGVhbiI9PXR5cGVvZiBzP249czpPYmplY3QoYS5hKSghMSk7cmV0dXJuIG59KGUsdCkpLGUubHVtYS5jYXBzW3RdfHxpLmgubG9nKDIsIkZlYXR1cmU6ICIuY29uY2F0KHQsIiBub3Qgc3VwcG9ydGVkIikpKCksZS5sdW1hLmNhcHNbdF19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDIxKSxpPW4oNSksYT1uKDYpLG89MSxzPTEsdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtPYmplY3QoaS5hKSh0aGlzLGUpLHRoaXMudGltZT0wLHRoaXMuY2hhbm5lbHM9bmV3IE1hcCx0aGlzLmFuaW1hdGlvbnM9bmV3IE1hcCx0aGlzLnBsYXlpbmc9ITEsdGhpcy5sYXN0RW5naW5lVGltZT0tMX1yZXR1cm4gT2JqZWN0KGEuYSkoZSxbe2tleToiYWRkQ2hhbm5lbCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZWxheSxuPXZvaWQgMD09PXQ/MDp0LHI9ZS5kdXJhdGlvbixpPXZvaWQgMD09PXI/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOnIsYT1lLnJhdGUscz12b2lkIDA9PT1hPzE6YSx1PWUucmVwZWF0LGM9bysrLGw9e3RpbWU6MCxkZWxheTpuLGR1cmF0aW9uOmkscmF0ZTpzLHJlcGVhdDp2b2lkIDA9PT11PzE6dX07cmV0dXJuIHRoaXMuX3NldENoYW5uZWxUaW1lKGwsdGhpcy50aW1lKSx0aGlzLmNoYW5uZWxzLnNldChjLGwpLGN9fSx7a2V5OiJyZW1vdmVDaGFubmVsIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNoYW5uZWxzLmRlbGV0ZShlKTt2YXIgdD0hMCxuPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10aGlzLmFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpOyEodD0oYT1vLm5leHQoKSkuZG9uZSk7dD0hMCl7dmFyIHM9T2JqZWN0KHIuYSkoYS52YWx1ZSwyKSx1PXNbMF07c1sxXS5jaGFubmVsPT09ZSYmdGhpcy5kZXRhY2hBbmltYXRpb24odSl9fWNhdGNoKGUpe249ITAsaT1lfWZpbmFsbHl7dHJ5e3R8fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBpfX19fSx7a2V5OiJpc0ZpbmlzaGVkIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoYW5uZWxzLmdldChlKTtyZXR1cm4gdm9pZCAwIT09dCYmdGhpcy50aW1lPj10LmRlbGF5K3QuZHVyYXRpb24qdC5yZXBlYXR9fSx7a2V5OiJnZXRUaW1lIix2YWx1ZTpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnRpbWU7dmFyIHQ9dGhpcy5jaGFubmVscy5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PXQ/LTE6dC50aW1lfX0se2tleToic2V0VGltZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy50aW1lPU1hdGgubWF4KDAsZSk7dmFyIHQ9dGhpcy5jaGFubmVscy52YWx1ZXMoKSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxvPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT1vLm5leHQoKSkuZG9uZSk7bj0hMCl7dmFyIHM9YS52YWx1ZTt0aGlzLl9zZXRDaGFubmVsVGltZShzLHRoaXMudGltZSl9fWNhdGNoKGUpe3I9ITAsaT1lfWZpbmFsbHl7dHJ5e258fG51bGw9PW8ucmV0dXJufHxvLnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX12YXIgdT10aGlzLmFuaW1hdGlvbnMudmFsdWVzKCksYz0hMCxsPSExLGg9dm9pZCAwO3RyeXtmb3IodmFyIGYsZD11W1N5bWJvbC5pdGVyYXRvcl0oKTshKGM9KGY9ZC5uZXh0KCkpLmRvbmUpO2M9ITApe3ZhciB2PWYudmFsdWUscD12LmFuaW1hdGlvbixnPXYuY2hhbm5lbDtwLnNldFRpbWUodGhpcy5nZXRUaW1lKGcpKX19Y2F0Y2goZSl7bD0hMCxoPWV9ZmluYWxseXt0cnl7Y3x8bnVsbD09ZC5yZXR1cm58fGQucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IGh9fX19LHtrZXk6InBsYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nPSEwfX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGF5aW5nPSExLHRoaXMubGFzdEVuZ2luZVRpbWU9LTF9fSx7a2V5OiJyZXNldCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldFRpbWUoMCl9fSx7a2V5OiJhdHRhY2hBbmltYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49cysrO3JldHVybiB0aGlzLmFuaW1hdGlvbnMuc2V0KG4se2FuaW1hdGlvbjplLGNoYW5uZWw6dH0pLGUuc2V0VGltZSh0aGlzLmdldFRpbWUodCkpLG59fSx7a2V5OiJkZXRhY2hBbmltYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuYW5pbWF0aW9ucy5kZWxldGUoZSl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucGxheWluZyYmKC0xPT09dGhpcy5sYXN0RW5naW5lVGltZSYmKHRoaXMubGFzdEVuZ2luZVRpbWU9ZSksdGhpcy5zZXRUaW1lKHRoaXMudGltZSsoZS10aGlzLmxhc3RFbmdpbmVUaW1lKSksdGhpcy5sYXN0RW5naW5lVGltZT1lKX19LHtrZXk6Il9zZXRDaGFubmVsVGltZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LWUuZGVsYXk7bj49ZS5kdXJhdGlvbiplLnJlcGVhdD9lLnRpbWU9ZS5kdXJhdGlvbiplLnJhdGU6KGUudGltZT1NYXRoLm1heCgwLG4pJWUuZHVyYXRpb24sZS50aW1lKj1lLnJhdGUpfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDQzKSxpPW4oNSksYT1uKDE2KSxvPW4oMTUpLHM9bigxNyksdT1uKDYwKSxjPW4oMTA1KSxsPW5ldyBVaW50MTZBcnJheShbMCwxLDIsMCwyLDMsNCw1LDYsNCw2LDcsOCw5LDEwLDgsMTAsMTEsMTIsMTMsMTQsMTIsMTQsMTUsMTYsMTcsMTgsMTYsMTgsMTksMjAsMjEsMjIsMjAsMjIsMjNdKSxoPW5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwtMSwtMSwxLC0xLDEsMSwtMSwxLC0xLC0xLC0xLDEsLTEsLTEsMSwxLDEsMSwxLDEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsLTEsMSwtMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLDEsLTEsMSwtMSwtMSwtMSwtMSwtMSwxLC0xLDEsMSwtMSwxLC0xXSksZj1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMF0pLGQ9bmV3IEZsb2F0MzJBcnJheShbMCwwLDEsMCwxLDEsMCwxLDEsMCwxLDEsMCwxLDAsMCwwLDEsMCwwLDEsMCwxLDEsMSwxLDAsMSwwLDAsMSwwLDEsMCwxLDEsMCwxLDAsMCwwLDAsMSwwLDEsMSwwLDFdKSx2PXtQT1NJVElPTjp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoaCl9LE5PUk1BTDp7c2l6ZTozLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoZil9LFRFWENPT1JEXzA6e3NpemU6Mix2YWx1ZTpuZXcgRmxvYXQzMkFycmF5KGQpfX0scD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O09iamVjdChpLmEpKHRoaXMsdCk7dmFyIG49ZS5pZCxzPXZvaWQgMD09PW4/T2JqZWN0KGMuYykoImN1YmUtZ2VvbWV0cnkiKTpuO3JldHVybiBPYmplY3QoYS5hKSh0aGlzLE9iamVjdChvLmEpKHQpLmNhbGwodGhpcyxPYmplY3Qoci5hKSh7fSxlLHtpZDpzLGluZGljZXM6e3NpemU6MSx2YWx1ZTpuZXcgVWludDE2QXJyYXkobCl9LGF0dHJpYnV0ZXM6T2JqZWN0KHIuYSkoe30sdixlLmF0dHJpYnV0ZXMpfSkpKX1yZXR1cm4gT2JqZWN0KHMuYSkodCxlKSx0fSh1LmEpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjYpLGk9bigyNyksYT1uKDApLG89big1KSxzPW4oNiksdT1uKDE1MSksYz1PYmplY3QodS5hKSgpO2Z1bmN0aW9uIGwoZSl7dHJ5e3ZhciB0PXdpbmRvd1tlXSxuPSJfX3N0b3JhZ2VfdGVzdF9fIjtyZXR1cm4gdC5zZXRJdGVtKG4sbiksdC5yZW1vdmVJdGVtKG4pLHR9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fXZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToic2Vzc2lvblN0b3JhZ2UiO09iamVjdChvLmEpKHRoaXMsZSksdGhpcy5zdG9yYWdlPWwociksdGhpcy5pZD10LHRoaXMuY29uZmlnPXt9LE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsbiksdGhpcy5fbG9hZENvbmZpZ3VyYXRpb24oKX1yZXR1cm4gT2JqZWN0KHMuYSkoZSxbe2tleToiZ2V0Q29uZmlndXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWd9fSx7a2V5OiJzZXRDb25maWd1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25maWc9e30sdGhpcy51cGRhdGVDb25maWd1cmF0aW9uKGUpfX0se2tleToidXBkYXRlQ29uZmlndXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZyxlKSx0aGlzLnN0b3JhZ2Upe3ZhciB0PUpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnKTt0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLHQpfXJldHVybiB0aGlzfX0se2tleToiX2xvYWRDb25maWd1cmF0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O2lmKHRoaXMuc3RvcmFnZSl7dmFyIHQ9dGhpcy5zdG9yYWdlLmdldEl0ZW0odGhpcy5pZCk7ZT10P0pTT04ucGFyc2UodCk6e319cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsZSksdGhpc319XSksZX0oKTtmdW5jdGlvbiBmKGUsdCxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NjAwLGk9ZS5zcmMucmVwbGFjZSgvXCgvZywiJTI4IikucmVwbGFjZSgvXCkvZywiJTI5Iik7ZS53aWR0aD5yJiYobj1NYXRoLm1pbihuLHIvZS53aWR0aCkpO3ZhciBhPWUud2lkdGgqbixvPWUuaGVpZ2h0Km4scz1bImZvbnQtc2l6ZToxcHg7IiwicGFkZGluZzoiLmNvbmNhdChNYXRoLmZsb29yKG8vMiksInB4ICIpLmNvbmNhdChNYXRoLmZsb29yKGEvMiksInB4OyIpLCJsaW5lLWhlaWdodDoiLmNvbmNhdChvLCJweDsiKSwiYmFja2dyb3VuZDp1cmwoIi5jb25jYXQoaSwiKTsiKSwiYmFja2dyb3VuZC1zaXplOiIuY29uY2F0KGEsInB4ICIpLmNvbmNhdChvLCJweDsiKSwiY29sb3I6dHJhbnNwYXJlbnQ7Il0uam9pbigiIik7cmV0dXJuWyIiLmNvbmNhdCh0LCIgJWMrIiksc119dmFyIGQ9e0JMQUNLOjMwLFJFRDozMSxHUkVFTjozMixZRUxMT1c6MzMsQkxVRTozNCxNQUdFTlRBOjM1LENZQU46MzYsV0hJVEU6MzcsQlJJR0hUX0JMQUNLOjkwLEJSSUdIVF9SRUQ6OTEsQlJJR0hUX0dSRUVOOjkyLEJSSUdIVF9ZRUxMT1c6OTMsQlJJR0hUX0JMVUU6OTQsQlJJR0hUX01BR0VOVEE6OTUsQlJJR0hUX0NZQU46OTYsQlJJR0hUX1dISVRFOjk3fTtmdW5jdGlvbiB2KGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9kW2UudG9VcHBlckNhc2UoKV18fGQuV0hJVEU6ZX1mdW5jdGlvbiBwKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbImNvbnN0cnVjdG9yIl0sbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkscj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKSxpPSEwLGE9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgcyx1PWZ1bmN0aW9uKCl7dmFyIG49cy52YWx1ZTsiZnVuY3Rpb24iPT10eXBlb2YgZVtuXSYmKHQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIG49PT1lfSkpfHwoZVtuXT1lW25dLmJpbmQoZSkpKX0sYz1yW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9Yy5uZXh0KCkpLmRvbmUpO2k9ITApdSgpfWNhdGNoKGUpe2E9ITAsbz1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBvfX19ZnVuY3Rpb24gZyhlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0fHwiQXNzZXJ0aW9uIGZhaWxlZCIpfXZhciB5PW4oNTkpO2Z1bmN0aW9uIG0oKXt2YXIgZTtpZihjJiZ5LmIucGVyZm9ybWFuY2UpZT15LmIucGVyZm9ybWFuY2Uubm93KCk7ZWxzZSBpZih5LmEuaHJ0aW1lKXt2YXIgdD15LmEuaHJ0aW1lKCk7ZT0xZTMqdFswXSt0WzFdLzFlNn1lbHNlIGU9RGF0ZS5ub3coKTtyZXR1cm4gZX1uLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSk7dmFyIGI9e2RlYnVnOmMmJmNvbnNvbGUuZGVidWd8fGNvbnNvbGUubG9nLGxvZzpjb25zb2xlLmxvZyxpbmZvOmNvbnNvbGUuaW5mbyx3YXJuOmNvbnNvbGUud2FybixlcnJvcjpjb25zb2xlLmVycm9yfSxfPXtlbmFibGVkOiEwLGxldmVsOjB9O2Z1bmN0aW9uIE8oKXt9dmFyIHg9e30sdz17b25jZTohMH07ZnVuY3Rpb24gUyhlKXtmb3IodmFyIHQgaW4gZSlmb3IodmFyIG4gaW4gZVt0XSlyZXR1cm4gbnx8InVudGl0bGVkIjtyZXR1cm4iZW1wdHkifXZhciBrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPXQuaWQ7T2JqZWN0KG8uYSkodGhpcyxlKSx0aGlzLmlkPW4sdGhpcy5WRVJTSU9OPSI4LjEuMCIsdGhpcy5fc3RhcnRUcz1tKCksdGhpcy5fZGVsdGFUcz1tKCksdGhpcy5MT0dfVEhST1RUTEVfVElNRU9VVD0wLHRoaXMuX3N0b3JhZ2U9bmV3IGgoIl9fcHJvYmUtIi5jb25jYXQodGhpcy5pZCwiX18iKSxfKSx0aGlzLnVzZXJEYXRhPXt9LHRoaXMudGltZVN0YW1wKCIiLmNvbmNhdCh0aGlzLmlkLCIgc3RhcnRlZCIpKSxwKHRoaXMpLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3Qocy5hKShlLFt7a2V5OiJpc0VuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2UuY29uZmlnLmVuYWJsZWR9fSx7a2V5OiJnZXRMZXZlbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5jb25maWcubGV2ZWx9fSx7a2V5OiJnZXRUb3RhbCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTnVtYmVyKChtKCktdGhpcy5fc3RhcnRUcykudG9QcmVjaXNpb24oMTApKX19LHtrZXk6ImdldERlbHRhIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBOdW1iZXIoKG0oKS10aGlzLl9kZWx0YVRzKS50b1ByZWNpc2lvbigxMCkpfX0se2tleToiZ2V0UHJpb3JpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGV2ZWx9fSx7a2V5OiJlbmFibGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5fc3RvcmFnZS51cGRhdGVDb25maWd1cmF0aW9uKHtlbmFibGVkOmV9KSx0aGlzfX0se2tleToic2V0TGV2ZWwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdG9yYWdlLnVwZGF0ZUNvbmZpZ3VyYXRpb24oe2xldmVsOmV9KSx0aGlzfX0se2tleToiYXNzZXJ0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2coZSx0KX19LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbigwLGUsYi53YXJuLGFyZ3VtZW50cyx3KX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oMCxlLGIuZXJyb3IsYXJndW1lbnRzKX19LHtrZXk6ImRlcHJlY2F0ZWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMud2FybigiYCIuY29uY2F0KGUsImAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgbGF0ZXIgdmVyc2lvbi4gVXNlIGAiKS5jb25jYXQodCwiYCBpbnN0ZWFkIikpfX0se2tleToicmVtb3ZlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lcnJvcigiYCIuY29uY2F0KGUsImAgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGAiKS5jb25jYXQodCwiYCBpbnN0ZWFkIikpfX0se2tleToicHJvYmUiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2dldExvZ0Z1bmN0aW9uKGUsdCxiLmxvZyxhcmd1bWVudHMse3RpbWU6ITAsb25jZTohMH0pfX0se2tleToibG9nIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihlLHQsYi5kZWJ1Zyxhcmd1bWVudHMpfX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oZSx0LGNvbnNvbGUuaW5mbyxhcmd1bWVudHMpfX0se2tleToib25jZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oZSx0LGIuZGVidWd8fGIuaW5mbyxhcmd1bWVudHMsdyl9fSx7a2V5OiJ0YWJsZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0P3RoaXMuX2dldExvZ0Z1bmN0aW9uKGUsdCxjb25zb2xlLnRhYmxlfHxPLG4mJltuXSx7dGFnOlModCl9KTpPfX0se2tleToiaW1hZ2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUubG9nTGV2ZWwscj1lLnByaW9yaXR5LGE9ZS5pbWFnZSxvPWUubWVzc2FnZSxzPXZvaWQgMD09PW8/IiI6byx1PWUuc2NhbGUsbD12b2lkIDA9PT11PzE6dTtyZXR1cm4gdGhpcy5fc2hvdWxkTG9nKHR8fHIpP2M/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbWFnZSxuPWUubWVzc2FnZSxyPXZvaWQgMD09PW4/IiI6bixhPWUuc2NhbGUsbz12b2lkIDA9PT1hPzE6YTtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBzPW5ldyBJbWFnZTtyZXR1cm4gcy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZSx0PWYocyxyLG8pOyhlPWNvbnNvbGUpLmxvZy5hcHBseShlLE9iamVjdChpLmEpKHQpKX0scy5zcmM9dCxPfXZhciB1PXQubm9kZU5hbWV8fCIiO2lmKCJpbWciPT09dS50b0xvd2VyQ2FzZSgpKXt2YXIgYztyZXR1cm4oYz1jb25zb2xlKS5sb2cuYXBwbHkoYyxPYmplY3QoaS5hKShmKHQscixvKSkpLE99aWYoImNhbnZhcyI9PT11LnRvTG93ZXJDYXNlKCkpe3ZhciBsPW5ldyBJbWFnZTtyZXR1cm4gbC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT1jb25zb2xlKS5sb2cuYXBwbHkoZSxPYmplY3QoaS5hKShmKGwscixvKSkpfSxsLnNyYz10LnRvRGF0YVVSTCgpLE99cmV0dXJuIE99KHtpbWFnZTphLG1lc3NhZ2U6cyxzY2FsZTpsfSk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbWFnZSxyPShlLm1lc3NhZ2UsZS5zY2FsZSksaT12b2lkIDA9PT1yPzE6cixhPW51bGw7dHJ5e2E9bigyMzApfWNhdGNoKGUpe31pZihhKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhKHQse2ZpdDoiYm94Iix3aWR0aDoiIi5jb25jYXQoTWF0aC5yb3VuZCg4MCppKSwiJSIpfSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUubG9nKGUpfSkpfTtyZXR1cm4gT30oe2ltYWdlOmEsbWVzc2FnZTpzLHNjYWxlOmx9KTpPfX0se2tleToic2V0dGluZ3MiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKHRoaXMuX3N0b3JhZ2UuY29uZmlnKTpjb25zb2xlLmxvZyh0aGlzLl9zdG9yYWdlLmNvbmZpZyl9fSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdG9yYWdlLmNvbmZpZ1tlXX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9zdG9yYWdlLnVwZGF0ZUNvbmZpZ3VyYXRpb24oT2JqZWN0KGEuYSkoe30sZSx0KSl9fSx7a2V5OiJ0aW1lIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9nZXRMb2dGdW5jdGlvbihlLHQsY29uc29sZS50aW1lP2NvbnNvbGUudGltZTpjb25zb2xlLmluZm8pfX0se2tleToidGltZUVuZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oZSx0LGNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQ6Y29uc29sZS5pbmZvKX19LHtrZXk6InRpbWVTdGFtcCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oZSx0LGNvbnNvbGUudGltZVN0YW1wfHxPKX19LHtrZXk6Imdyb3VwIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7Y29sbGFwc2VkOiExfSxyPW49aih7bG9nTGV2ZWw6ZSxtZXNzYWdlOnQsb3B0czpufSksaT1yLmNvbGxhcHNlZDtyZXR1cm4gbi5tZXRob2Q9KGk/Y29uc29sZS5ncm91cENvbGxhcHNlZDpjb25zb2xlLmdyb3VwKXx8Y29uc29sZS5pbmZvLHRoaXMuX2dldExvZ0Z1bmN0aW9uKG4pfX0se2tleToiZ3JvdXBDb2xsYXBzZWQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiB0aGlzLmdyb3VwKGUsdCxPYmplY3QuYXNzaWduKHt9LG4se2NvbGxhcHNlZDohMH0pKX19LHtrZXk6Imdyb3VwRW5kIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0TG9nRnVuY3Rpb24oZSwiIixjb25zb2xlLmdyb3VwRW5kfHxPKX19LHtrZXk6IndpdGhHcm91cCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZ3JvdXAoZSx0KSgpO3RyeXtuKCl9ZmluYWxseXt0aGlzLmdyb3VwRW5kKGUpKCl9fX0se2tleToidHJhY2UiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpfX0se2tleToiX3Nob3VsZExvZyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ2V0TGV2ZWwoKT49UChlKX19LHtrZXk6Il9nZXRMb2dGdW5jdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpbXSxhPWFyZ3VtZW50cy5sZW5ndGg+ND9hcmd1bWVudHNbNF06dm9pZCAwO2lmKHRoaXMuX3Nob3VsZExvZyhlKSl7dmFyIG87YT1qKHtsb2dMZXZlbDplLG1lc3NhZ2U6dCxhcmdzOnIsb3B0czphfSksZyhuPW58fGEubWV0aG9kKSxhLnRvdGFsPXRoaXMuZ2V0VG90YWwoKSxhLmRlbHRhPXRoaXMuZ2V0RGVsdGEoKSx0aGlzLl9kZWx0YVRzPW0oKTt2YXIgcz1hLnRhZ3x8YS5tZXNzYWdlO2lmKGEub25jZSl7aWYoeFtzXSlyZXR1cm4gTzt4W3NdPW0oKX1yZXR1cm4gdD1UKHRoaXMuaWQsYS5tZXNzYWdlLGEpLChvPW4pLmJpbmQuYXBwbHkobyxbY29uc29sZSx0XS5jb25jYXQoT2JqZWN0KGkuYSkoYS5hcmdzKSkpfXJldHVybiBPfX0se2tleToibGV2ZWwiLHNldDpmdW5jdGlvbihlKXt0aGlzLnNldExldmVsKGUpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMZXZlbCgpfX0se2tleToicHJpb3JpdHkiLHNldDpmdW5jdGlvbihlKXt0aGlzLmxldmVsPWV9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxldmVsfX1dKSxlfSgpO2Z1bmN0aW9uIFAoZSl7aWYoIWUpcmV0dXJuIDA7dmFyIHQ7c3dpdGNoKE9iamVjdChyLmEpKGUpKXtjYXNlIm51bWJlciI6dD1lO2JyZWFrO2Nhc2Uib2JqZWN0Ijp0PWUubG9nTGV2ZWx8fGUucHJpb3JpdHl8fDA7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gMH1yZXR1cm4gZyhOdW1iZXIuaXNGaW5pdGUodCkmJnQ+PTApLHR9ZnVuY3Rpb24gaihlKXt2YXIgdD1lLmxvZ0xldmVsLG49ZS5tZXNzYWdlO2UubG9nTGV2ZWw9UCh0KTtmb3IodmFyIGk9ZS5hcmdzP0FycmF5LmZyb20oZS5hcmdzKTpbXTtpLmxlbmd0aCYmaS5zaGlmdCgpIT09bjspO3N3aXRjaChlLmFyZ3M9aSxPYmplY3Qoci5hKSh0KSl7Y2FzZSJzdHJpbmciOmNhc2UiZnVuY3Rpb24iOnZvaWQgMCE9PW4mJmkudW5zaGlmdChuKSxlLm1lc3NhZ2U9dDticmVhaztjYXNlIm9iamVjdCI6T2JqZWN0LmFzc2lnbihlLHQpfSJmdW5jdGlvbiI9PXR5cGVvZiBlLm1lc3NhZ2UmJihlLm1lc3NhZ2U9ZS5tZXNzYWdlKCkpO3ZhciBhPU9iamVjdChyLmEpKGUubWVzc2FnZSk7cmV0dXJuIGcoInN0cmluZyI9PT1hfHwib2JqZWN0Ij09PWEpLE9iamVjdC5hc3NpZ24oZSxlLm9wdHMpfWZ1bmN0aW9uIFQoZSx0LG4pe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIHI9bi50aW1lP2Z1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo4LG49TWF0aC5tYXgodC1lLmxlbmd0aCwwKTtyZXR1cm4iIi5jb25jYXQoIiAiLnJlcGVhdChuKSkuY29uY2F0KGUpfSgocz1uLnRvdGFsKTwxMD8iIi5jb25jYXQocy50b0ZpeGVkKDIpLCJtcyIpOnM8MTAwPyIiLmNvbmNhdChzLnRvRml4ZWQoMSksIm1zIik6czwxZTM/IiIuY29uY2F0KHMudG9GaXhlZCgwKSwibXMiKToiIi5jb25jYXQoKHMvMWUzKS50b0ZpeGVkKDIpLCJzIikpOiIiO3Q9bi50aW1lPyIiLmNvbmNhdChlLCI6ICIpLmNvbmNhdChyLCIgICIpLmNvbmNhdCh0KToiIi5jb25jYXQoZSwiOiAiKS5jb25jYXQodCksaT10LGE9bi5jb2xvcixvPW4uYmFja2dyb3VuZCxjfHwic3RyaW5nIiE9dHlwZW9mIGl8fChhJiYoYT12KGEpLGk9IhtbIi5jb25jYXQoYSwibSIpLmNvbmNhdChpLCIbWzM5bSIpKSxvJiYoYT12KG8pLGk9IhtbIi5jb25jYXQobysxMCwibSIpLmNvbmNhdChpLCIbWzQ5bSIpKSksdD1pfXZhciBpLGEsbyxzO3JldHVybiB0fWsuVkVSU0lPTj0iOC4xLjAifSwsLCwsLCwsLCxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgcj1uKDUpLGk9bigxNiksYT1uKDE1KSxvPW4oMzgpLHM9big2KSx1PW4oMTcpLGM9bigxMSksbD1uKDQ4KSxoPW4oNDYpLGY9big2NSksZD1uKDEwNSksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBPYmplY3Qoci5hKSh0aGlzLHQpLE9iamVjdChmLmEpKGUpLChuPU9iamVjdChpLmEpKHRoaXMsT2JqZWN0KGEuYSkodCkuY2FsbCh0aGlzLGUscykpKS5pbml0aWFsaXplKHMpLG4uc3R1YlJlbW92ZWRNZXRob2RzKCJUcmFuc2Zvcm1GZWVkYmFjayIsInY2LjAiLFsicGF1c2UiLCJyZXN1bWUiXSksT2JqZWN0LnNlYWwoT2JqZWN0KG8uYSkobikpLG59cmV0dXJuIE9iamVjdCh1LmEpKHQsZSksT2JqZWN0KHMuYSkodCxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChjLmcpKGUpfX1dKSxPYmplY3Qocy5hKSh0LFt7a2V5OiJpbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuYnVmZmVycz17fSx0aGlzLnVudXNlZD17fSx0aGlzLmNvbmZpZ3VyYXRpb249bnVsbCx0aGlzLmJpbmRPblVzZT0hMCxPYmplY3QoZC5hKSh0aGlzLmJ1ZmZlcnMpfHx0aGlzLmJpbmQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3VuYmluZEJ1ZmZlcnMoKX0pKSx0aGlzLnNldFByb3BzKHQpLHRoaXN9fSx7a2V5OiJzZXRQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7InByb2dyYW0iaW4gZSYmKHRoaXMuY29uZmlndXJhdGlvbj1lLnByb2dyYW0mJmUucHJvZ3JhbS5jb25maWd1cmF0aW9uKSwiY29uZmlndXJhdGlvbiJpbiBlJiYodGhpcy5jb25maWd1cmF0aW9uPWUuY29uZmlndXJhdGlvbiksImJpbmRPblVzZSJpbiBlJiYoZT1lLmJpbmRPblVzZSksImJ1ZmZlcnMiaW4gZSYmdGhpcy5zZXRCdWZmZXJzKGUuYnVmZmVycyl9fSx7a2V5OiJzZXRCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuYmluZCgoZnVuY3Rpb24oKXtmb3IodmFyIG4gaW4gdCllLnNldEJ1ZmZlcihuLHRbbl0pfSkpLHRoaXN9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMuX2dldFZhcnlpbmdJbmRleChlKSxpPXRoaXMuX2dldEJ1ZmZlclBhcmFtcyh0KSxhPWkuYnVmZmVyLG89aS5ieXRlU2l6ZSxzPWkuYnl0ZU9mZnNldDtyZXR1cm4gcjwwPyh0aGlzLnVudXNlZFtlXT1hLGMuaC53YXJuKChmdW5jdGlvbigpe3JldHVybiIiLmNvbmNhdChuLmlkLCIgdW51c2VkIHZhcnlpbmcgYnVmZmVyICIpLmNvbmNhdChlKX0pKSgpLHRoaXMpOih0aGlzLmJ1ZmZlcnNbcl09dCx0aGlzLmJpbmRPblVzZXx8dGhpcy5fYmluZEJ1ZmZlcihyLGEscyxvKSx0aGlzKX19LHtrZXk6ImJlZ2luIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiB0aGlzLmdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjaygzNjM4Nix0aGlzLmhhbmRsZSksdGhpcy5fYmluZEJ1ZmZlcnMoKSx0aGlzLmdsLmJlZ2luVHJhbnNmb3JtRmVlZGJhY2soZSksdGhpc319LHtrZXk6ImVuZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpLHRoaXMuX3VuYmluZEJ1ZmZlcnMoKSx0aGlzLmdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjaygzNjM4NixudWxsKSx0aGlzfX0se2tleToiX2dldEJ1ZmZlclBhcmFtcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiBlIGluc3RhbmNlb2YgaC5hPT0hMT8ocj1lLmJ1ZmZlcixuPWUuYnl0ZVNpemUsdD1lLmJ5dGVPZmZzZXQpOnI9ZSx2b2lkIDA9PT10JiZ2b2lkIDA9PT1ufHwodD10fHwwLG49bnx8ci5ieXRlTGVuZ3RoLXQpLHtidWZmZXI6cixieXRlT2Zmc2V0OnQsYnl0ZVNpemU6bn19fSx7a2V5OiJfZ2V0VmFyeWluZ0luZm8iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24mJnRoaXMuY29uZmlndXJhdGlvbi5nZXRWYXJ5aW5nSW5mbyhlKX19LHtrZXk6Il9nZXRWYXJ5aW5nSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuY29uZmlndXJhdGlvbilyZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLmdldFZhcnlpbmdJbmZvKGUpLmxvY2F0aW9uO3ZhciB0PU51bWJlcihlKTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQpP3Q6LTF9fSx7a2V5OiJfYmluZEJ1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5iaW5kT25Vc2UpZm9yKHZhciBlIGluIHRoaXMuYnVmZmVycyl7dmFyIHQ9dGhpcy5fZ2V0QnVmZmVyUGFyYW1zKHRoaXMuYnVmZmVyc1tlXSksbj10LmJ1ZmZlcixyPXQuYnl0ZVNpemUsaT10LmJ5dGVPZmZzZXQ7dGhpcy5fYmluZEJ1ZmZlcihlLG4saSxyKX19fSx7a2V5OiJfdW5iaW5kQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmJpbmRPblVzZSlmb3IodmFyIGUgaW4gdGhpcy5idWZmZXJzKXRoaXMuX2JpbmRCdWZmZXIoZSxudWxsKX19LHtrZXk6Il9iaW5kQnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsaT10JiZ0LmhhbmRsZTtyZXR1cm4gaSYmdm9pZCAwIT09cj90aGlzLmdsLmJpbmRCdWZmZXJSYW5nZSgzNTk4MixlLGksbixyKTp0aGlzLmdsLmJpbmRCdWZmZXJCYXNlKDM1OTgyLGUsaSksdGhpc319LHtrZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKX19LHtrZXk6Il9kZWxldGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0aGlzLmhhbmRsZSl9fSx7a2V5OiJfYmluZEhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5nbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soMzYzODYsdGhpcy5oYW5kbGUpfX1dKSx0fShsLmEpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOCksaT1uLm4ociksYT1uKDEzKTtmdW5jdGlvbiBvKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKHQpfXZhciBzPW4oMjYpLHU9e3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmLHdpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LGdsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLGRvY3VtZW50OiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50fSxjPXUuZ2xvYmFsfHx1LnNlbGZ8fHUud2luZG93LGw9Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiBwcm9jZXNzPyJ1bmRlZmluZWQiOk9iamVjdChzLmEpKHByb2Nlc3MpKXx8IltvYmplY3QgcHJvY2Vzc10iIT09U3RyaW5nKHByb2Nlc3MpfHxwcm9jZXNzLmJyb3dzZXIsaD0idW5kZWZpbmVkIiE9dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MudmVyc2lvbiYmcHJvY2Vzcy52ZXJzaW9uLm1hdGNoKC92KFswLTldKikvKSxmPShoJiZwYXJzZUZsb2F0KGhbMV0pLGMuX3BhcnNlSW1hZ2VOb2RlKSxkPSJ1bmRlZmluZWQiIT10eXBlb2YgSW1hZ2Usdj0idW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwLHA9Qm9vbGVhbihmKTtmdW5jdGlvbiBnKGUpe3N3aXRjaChlKXtjYXNlImF1dG8iOnJldHVybiB2fHxkfHxwO2Nhc2UiaW1hZ2ViaXRtYXAiOnJldHVybiB2O2Nhc2UiaHRtbCI6Y2FzZSJpbWFnZSI6cmV0dXJuIGQ7Y2FzZSJuZGFycmF5IjpjYXNlImRhdGEiOnJldHVybiEhbHx8cDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiQGxvYWRlcnMuZ2wvaW1hZ2VzOiBpbWFnZSAiLmNvbmNhdChlLCIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50IikpfX1mdW5jdGlvbiB5KGUpe3ZhciB0PWIoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJOb3QgYW4gaW1hZ2UiKTtyZXR1cm4gdH1mdW5jdGlvbiBtKGUpe3N3aXRjaCh5KGUpKXtjYXNlImRhdGEiOnJldHVybiBlO2Nhc2UiaW1hZ2UiOmNhc2UiaW1hZ2ViaXRtYXAiOnZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLG49dC5nZXRDb250ZXh0KCIyZCIpO3JldHVybiB0LndpZHRoPWUud2lkdGgsdC5oZWlnaHQ9ZS5oZWlnaHQsbi5kcmF3SW1hZ2UoZSwwLDApLG4uZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtkZWZhdWx0OnJldHVybiBvKCExKX19ZnVuY3Rpb24gYihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/ImltYWdlYml0bWFwIjoidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlJiZlIGluc3RhbmNlb2YgSW1hZ2U/ImltYWdlIjplJiYib2JqZWN0Ij09PU9iamVjdChzLmEpKGUpJiZlLmRhdGEmJmUud2lkdGgmJmUuaGVpZ2h0PyJkYXRhIjpudWxsfXZhciBfPS9eZGF0YTppbWFnZVwvc3ZnXCt4bWwvLE89L1wuc3ZnKChcP3wjKS4qKT8kLztmdW5jdGlvbiB4KGUsdCl7cmV0dXJuIFModCk/KGNvbnNvbGUud2FybigiU1ZHIGNhbm5vdCBiZSBwYXJzZWQgdG8gaW1hZ2ViaXRtYXAiKSxuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoZSldLHt0eXBlOiJpbWFnZS9zdmcreG1sIn0pKTpuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoZSldKX1mdW5jdGlvbiB3KGUsdCl7aWYoUyh0KSl7dmFyIG49KG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGUpO3JldHVybiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIuY29uY2F0KGJ0b2EobikpfXJldHVybiB4KGUsdCl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gZSYmKF8udGVzdChlKXx8Ty50ZXN0KGUpKX1mdW5jdGlvbiBrKGUsdCxuKXtyZXR1cm4gUC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gUCgpe3JldHVybihQPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyKXt2YXIgYSxvLHM7cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gYT13KHQsciksbz1zZWxmLlVSTHx8c2VsZi53ZWJraXRVUkwscz0ic3RyaW5nIiE9dHlwZW9mIGEmJm8uY3JlYXRlT2JqZWN0VVJMKGEpLGUucHJldj0zLGUubmV4dD02LGooc3x8YSxuKTtjYXNlIDY6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSA3OnJldHVybiBlLnByZXY9NyxzJiZvLnJldm9rZU9iamVjdFVSTChzKSxlLmZpbmlzaCg3KTtjYXNlIDEwOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSxudWxsLFtbMywsNywxMF1dKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBqKGUsdCl7cmV0dXJuIFQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFQoKXtyZXR1cm4oVD1PYmplY3QoYS5hKShpLmEubWFyaygoZnVuY3Rpb24gZSh0LG4pe3ZhciByO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoKHI9bmV3IEltYWdlKS5zcmM9dCwhKG4uaW1hZ2UmJm4uaW1hZ2UuZGVjb2RlJiZyLmRlY29kZSkpe2UubmV4dD02O2JyZWFrfXJldHVybiBlLm5leHQ9NSxyLmRlY29kZSgpO2Nhc2UgNTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIscik7Y2FzZSA2OnJldHVybiBlLm5leHQ9OCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXt0cnl7ci5vbmxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZShyKX0sci5vbmVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBuKG5ldyBFcnJvcigiQ291bGQgbm90IGxvYWQgaW1hZ2UgIi5jb25jYXQodCwiOiAiKS5jb25jYXQoZSkpKX19Y2F0Y2goZSl7bihlKX19KSk7Y2FzZSA4OnJldHVybiBlLmFicnVwdCgicmV0dXJuIixlLnNlbnQpO2Nhc2UgOTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBFPSEwO2Z1bmN0aW9uIEEoZSx0LG4pe3JldHVybiBNLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBNKCl7cmV0dXJuKE09T2JqZWN0KGEuYSkoaS5hLm1hcmsoKGZ1bmN0aW9uIGUodCxuLHIpe3ZhciBhLG87cmV0dXJuIGkuYS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihhPXgodCxyKSwhTChvPW4mJm4uaW1hZ2ViaXRtYXApJiZFfHwobz1udWxsKSwhbyl7ZS5uZXh0PTE0O2JyZWFrfXJldHVybiBlLnByZXY9NCxlLm5leHQ9NyxjcmVhdGVJbWFnZUJpdG1hcChhLG8pO2Nhc2UgNzpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZS5zZW50KTtjYXNlIDEwOmUucHJldj0xMCxlLnQwPWUuY2F0Y2goNCksY29uc29sZS53YXJuKGUudDApLEU9ITE7Y2FzZSAxNDpyZXR1cm4gZS5uZXh0PTE2LGNyZWF0ZUltYWdlQml0bWFwKGEpO2Nhc2UgMTY6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLGUuc2VudCk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsbnVsbCxbWzQsMTBdXSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEM9e307ZnVuY3Rpb24gTChlKXtmb3IodmFyIHQgaW4gZXx8QylyZXR1cm4hMDtyZXR1cm4hMX12YXIgST1uKDIxMik7ZnVuY3Rpb24gUihlLHQpe3ZhciBuPU9iamVjdChJLmEpKGUpLHI9Yy5fcGFyc2VJbWFnZU5vZGU7cmV0dXJuIG8ocikscihlLG4sdCl9ZnVuY3Rpb24gRCgpe3JldHVybihEPU9iamVjdChhLmEpKGkuYS5tYXJrKChmdW5jdGlvbiBlKHQsbixyKXt2YXIgYSxzLHUsYyxsO3JldHVybiBpLmEud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6YT0obj1ufHx7fSkuaW1hZ2V8fHt9LHM9YS50eXBlfHwiYXV0byIsdT0ocnx8e30pLnVybCxjPUYocyksZS50MD1jLGUubmV4dD0iaW1hZ2ViaXRtYXAiPT09ZS50MD84OiJpbWFnZSI9PT1lLnQwPzEyOiJkYXRhIj09PWUudDA/MTY6MjA7YnJlYWs7Y2FzZSA4OnJldHVybiBlLm5leHQ9MTAsQSh0LG4sdSk7Y2FzZSAxMDpyZXR1cm4gbD1lLnNlbnQsZS5hYnJ1cHQoImJyZWFrIiwyMSk7Y2FzZSAxMjpyZXR1cm4gZS5uZXh0PTE0LGsodCxuLHUpO2Nhc2UgMTQ6cmV0dXJuIGw9ZS5zZW50LGUuYWJydXB0KCJicmVhayIsMjEpO2Nhc2UgMTY6cmV0dXJuIGUubmV4dD0xOCxSKHQsbik7Y2FzZSAxODpyZXR1cm4gbD1lLnNlbnQsZS5hYnJ1cHQoImJyZWFrIiwyMSk7Y2FzZSAyMDpvKCExKTtjYXNlIDIxOnJldHVybiJkYXRhIj09PXMmJihsPW0obCkpLGUuYWJydXB0KCJyZXR1cm4iLGwpO2Nhc2UgMjM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBGKGUpe3N3aXRjaChlKXtjYXNlImF1dG8iOmNhc2UiZGF0YSI6cmV0dXJuIGZ1bmN0aW9uKCl7aWYoZygiaW1hZ2UiKSlyZXR1cm4iaW1hZ2UiO2lmKGcoImltYWdlYml0bWFwIikpcmV0dXJuImltYWdlYml0bWFwIjtpZihnKCJkYXRhIikpcmV0dXJuImRhdGEiO3Rocm93IG5ldyBFcnJvcigiSW5zdGFsbCAnQGxvYWRlcnMuZ2wvcG9seWZpbGxzJyB0byBwYXJzZSBpbWFnZXMgdW5kZXIgTm9kZS5qcyIpfSgpO2RlZmF1bHQ6cmV0dXJuIGcoZSksZX19dmFyIE49big4OCksej17bmFtZToiSW1hZ2VzIix2ZXJzaW9uOiIyLjEuMSIsbWltZVR5cGVzOlsiaW1hZ2UvcG5nIiwiaW1hZ2UvanBlZyIsImltYWdlL2dpZiIsImltYWdlL3dlYnAiLCJpbWFnZS9ibXAiLCJpbWFnZS92bmRtaWNyb3NvZnRpY29uIiwiaW1hZ2Uvc3ZnK3htbCJdLGV4dGVuc2lvbnM6WyJwbmciLCJqcGciLCJqcGVnIiwiZ2lmIiwid2VicCIsImJtcCIsImljbyIsInN2ZyJdLHBhcnNlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGFWaWV3KGUpO3JldHVybiBPYmplY3QoTi5jKSh0KXx8T2JqZWN0KE4uYSkodCl8fE9iamVjdChOLmIpKHQpfHxPYmplY3QoTi5kKSh0KX0sb3B0aW9uczp7aW1hZ2U6e2Zvcm1hdDoiYXV0byIsZGVjb2RlOiEwfX19O3QuYT16fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLGk9big1KSxhPW4oNiksbz1uKDE2KSxzPW4oMzgpLHU9bigxNSksYz1uKDc3KSxsPW4oMTcpLGg9big0OCksZj1uKDU2KSxkPW4oNzEpLHY9bigwKSxwPW4oMTEpLGc9bigxMDQpLHk9bigyOSksbT0ocj17fSxPYmplY3Qodi5hKShyLDUxMjYsTC5iaW5kKG51bGwsInVuaWZvcm0xZnYiLFMsMSxJKSksT2JqZWN0KHYuYSkociwzNTY2NCxMLmJpbmQobnVsbCwidW5pZm9ybTJmdiIsUywyLEkpKSxPYmplY3Qodi5hKShyLDM1NjY1LEwuYmluZChudWxsLCJ1bmlmb3JtM2Z2IixTLDMsSSkpLE9iamVjdCh2LmEpKHIsMzU2NjYsTC5iaW5kKG51bGwsInVuaWZvcm00ZnYiLFMsNCxJKSksT2JqZWN0KHYuYSkociw1MTI0LEwuYmluZChudWxsLCJ1bmlmb3JtMWl2IixrLDEsSSkpLE9iamVjdCh2LmEpKHIsMzU2NjcsTC5iaW5kKG51bGwsInVuaWZvcm0yaXYiLGssMixJKSksT2JqZWN0KHYuYSkociwzNTY2OCxMLmJpbmQobnVsbCwidW5pZm9ybTNpdiIsaywzLEkpKSxPYmplY3Qodi5hKShyLDM1NjY5LEwuYmluZChudWxsLCJ1bmlmb3JtNGl2IixrLDQsSSkpLE9iamVjdCh2LmEpKHIsMzU2NzAsTC5iaW5kKG51bGwsInVuaWZvcm0xaXYiLGssMSxJKSksT2JqZWN0KHYuYSkociwzNTY3MSxMLmJpbmQobnVsbCwidW5pZm9ybTJpdiIsaywyLEkpKSxPYmplY3Qodi5hKShyLDM1NjcyLEwuYmluZChudWxsLCJ1bmlmb3JtM2l2IixrLDMsSSkpLE9iamVjdCh2LmEpKHIsMzU2NzMsTC5iaW5kKG51bGwsInVuaWZvcm00aXYiLGssNCxJKSksT2JqZWN0KHYuYSkociwzNTY3NCxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDJmdiIsUyw0LFIpKSxPYmplY3Qodi5hKShyLDM1Njc1LEwuYmluZChudWxsLCJ1bmlmb3JtTWF0cml4M2Z2IixTLDksUikpLE9iamVjdCh2LmEpKHIsMzU2NzYsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXg0ZnYiLFMsMTYsUikpLE9iamVjdCh2LmEpKHIsMzU2NzgsQyksT2JqZWN0KHYuYSkociwzNTY4MCxDKSxPYmplY3Qodi5hKShyLDUxMjUsTC5iaW5kKG51bGwsInVuaWZvcm0xdWl2IixQLDEsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTQsTC5iaW5kKG51bGwsInVuaWZvcm0ydWl2IixQLDIsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTUsTC5iaW5kKG51bGwsInVuaWZvcm0zdWl2IixQLDMsSSkpLE9iamVjdCh2LmEpKHIsMzYyOTYsTC5iaW5kKG51bGwsInVuaWZvcm00dWl2IixQLDQsSSkpLE9iamVjdCh2LmEpKHIsMzU2ODUsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXgyeDNmdiIsUyw2LFIpKSxPYmplY3Qodi5hKShyLDM1Njg2LEwuYmluZChudWxsLCJ1bmlmb3JtTWF0cml4Mng0ZnYiLFMsOCxSKSksT2JqZWN0KHYuYSkociwzNTY4NyxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDN4MmZ2IixTLDYsUikpLE9iamVjdCh2LmEpKHIsMzU2ODgsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXgzeDRmdiIsUywxMixSKSksT2JqZWN0KHYuYSkociwzNTY4OSxMLmJpbmQobnVsbCwidW5pZm9ybU1hdHJpeDR4MmZ2IixTLDgsUikpLE9iamVjdCh2LmEpKHIsMzU2OTAsTC5iaW5kKG51bGwsInVuaWZvcm1NYXRyaXg0eDNmdiIsUywxMixSKSksT2JqZWN0KHYuYSkociwzNTY3OSxDKSxPYmplY3Qodi5hKShyLDM1NjgyLEMpLE9iamVjdCh2LmEpKHIsMzYyODksQyksT2JqZWN0KHYuYSkociwzNjI5MixDKSxPYmplY3Qodi5hKShyLDM2MjkzLEMpLE9iamVjdCh2LmEpKHIsMzYyOTgsQyksT2JqZWN0KHYuYSkociwzNjI5OSxDKSxPYmplY3Qodi5hKShyLDM2MzAwLEMpLE9iamVjdCh2LmEpKHIsMzYzMDMsQyksT2JqZWN0KHYuYSkociwzNjMwNixDKSxPYmplY3Qodi5hKShyLDM2MzA3LEMpLE9iamVjdCh2LmEpKHIsMzYzMDgsQyksT2JqZWN0KHYuYSkociwzNjMxMSxDKSxyKSxiPXt9LF89e30sTz17fSx4PVswXTtmdW5jdGlvbiB3KGUsdCxuLHIpezE9PT10JiYiYm9vbGVhbiI9PXR5cGVvZiBlJiYoZT1lPzE6MCksTnVtYmVyLmlzRmluaXRlKGUpJiYoeFswXT1lLGU9eCk7dmFyIGk9ZS5sZW5ndGg7aWYoaSV0JiZwLmgud2FybigiVW5pZm9ybSBzaXplIHNob3VsZCBiZSBtdWx0aXBsZXMgb2YgIi5jb25jYXQodCksZSkoKSxlIGluc3RhbmNlb2YgbilyZXR1cm4gZTt2YXIgYT1yW2ldO2F8fChhPW5ldyBuKGkpLHJbaV09YSk7Zm9yKHZhciBvPTA7bzxpO28rKylhW29dPWVbb107cmV0dXJuIGF9ZnVuY3Rpb24gUyhlLHQpe3JldHVybiB3KGUsdCxGbG9hdDMyQXJyYXksYil9ZnVuY3Rpb24gayhlLHQpe3JldHVybiB3KGUsdCxJbnQzMkFycmF5LF8pfWZ1bmN0aW9uIFAoZSx0KXtyZXR1cm4gdyhlLHQsVWludDMyQXJyYXksTyl9ZnVuY3Rpb24gaihlKXtpZigiXSIhPT1lW2UubGVuZ3RoLTFdKXJldHVybntuYW1lOmUsbGVuZ3RoOjEsaXNBcnJheTohMX07dmFyIHQ9ZS5tYXRjaCgvKFteW10qKShcW1swLTldK1xdKT8vKTtpZighdHx8dC5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBwYXJzZSBHTFNMIHVuaWZvcm0gbmFtZSAiLmNvbmNhdChlKSk7cmV0dXJue25hbWU6dFsxXSxsZW5ndGg6dFsyXXx8MSxpc0FycmF5OkJvb2xlYW4odFsyXSl9fWZ1bmN0aW9uIFQoZSx0LG4pe3ZhciByPW1bbi50eXBlXTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gR0xTTCB1bmlmb3JtIHR5cGUgIi5jb25jYXQobi50eXBlKSk7cmV0dXJuIHIoKS5iaW5kKG51bGwsZSx0KX1mdW5jdGlvbiBFKGUsdCxuKXtmb3IodmFyIHIgaW4gZSl7dmFyIGk9ZVtyXTtpZigoIW58fEJvb2xlYW4obltyXSkpJiYhQShpKSl0aHJvdyB0PXQ/IiIuY29uY2F0KHQsIiAiKToiIixjb25zb2xlLmVycm9yKCIiLmNvbmNhdCh0LCIgQmFkIHVuaWZvcm0gIikuY29uY2F0KHIpLGkpLG5ldyBFcnJvcigiIi5jb25jYXQodCwiIEJhZCB1bmlmb3JtICIpLmNvbmNhdChyKSl9cmV0dXJuITB9ZnVuY3Rpb24gQShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpP2Z1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHQ9TWF0aC5taW4oZS5sZW5ndGgsMTYpLG49MDtuPHQ7KytuKWlmKCFOdW1iZXIuaXNGaW5pdGUoZVtuXSkpcmV0dXJuITE7cmV0dXJuITB9KGUpOiEhaXNGaW5pdGUoZSl8fCghMD09PWV8fCExPT09ZXx8KGUgaW5zdGFuY2VvZiBmLmF8fChlIGluc3RhbmNlb2YgZy5hfHxlIGluc3RhbmNlb2YgZC5hJiZCb29sZWFuKGUudGV4dHVyZSkpKSl9ZnVuY3Rpb24gTShlLHQsbil7aWYoQXJyYXkuaXNBcnJheShuKXx8QXJyYXlCdWZmZXIuaXNWaWV3KG4pKWlmKGVbdF0pZm9yKHZhciByPWVbdF0saT0wLGE9bi5sZW5ndGg7aTxhOysraSlyW2ldPW5baV07ZWxzZSBlW3RdPW4uc2xpY2UoKTtlbHNlIGVbdF09bn1mdW5jdGlvbiBDKCl7dmFyIGU9bnVsbDtyZXR1cm4gZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUhPT1yO3JldHVybiBpJiYodC51bmlmb3JtMWkobixyKSxlPXIpLGl9fWZ1bmN0aW9uIEwoZSx0LG4scil7dmFyIGk9bnVsbCxhPW51bGw7cmV0dXJuIGZ1bmN0aW9uKG8scyx1KXt2YXIgYz10KHUsbiksbD1jLmxlbmd0aCxoPSExO2lmKG51bGw9PT1pKWk9bmV3IEZsb2F0MzJBcnJheShsKSxhPWwsaD0hMDtlbHNle09iamVjdCh5LmEpKGE9PT1sLCJVbmlmb3JtIGxlbmd0aCBjYW5ub3QgY2hhbmdlLiIpO2Zvcih2YXIgZj0wO2Y8bDsrK2YpaWYoY1tmXSE9PWlbZl0pe2g9ITA7YnJlYWt9fXJldHVybiBoJiYocihvLGUscyxjKSxpLnNldChjKSksaH19ZnVuY3Rpb24gSShlLHQsbixyKXtlW3RdKG4scil9ZnVuY3Rpb24gUihlLHQsbixyKXtlW3RdKG4sITEscil9ZnVuY3Rpb24gRChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06InVubmFtZWQiLG49LyNkZWZpbmVbXHMqXVNIQURFUl9OQU1FW1xzKl0oW0EtWmEtejAtOV8tXSspW1xzKl0vLHI9ZS5tYXRjaChuKTtyZXR1cm4gcj9yWzFdOnR9ZnVuY3Rpb24gRihlLHQsbixyKXtmb3IodmFyIGk9ZS5zcGxpdCgvXHI/XG4vKSxhPXt9LG89e30scz1yfHxEKHQpfHwiKHVubmFtZWQpIix1PSIiLmNvbmNhdChmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAzNTYzMjpyZXR1cm4iZnJhZ21lbnQiO2Nhc2UgMzU2MzM6cmV0dXJuInZlcnRleCI7ZGVmYXVsdDpyZXR1cm4idW5rbm93biB0eXBlIn19KG4pLCIgc2hhZGVyICIpLmNvbmNhdChzKSxjPTA7YzxpLmxlbmd0aDtjKyspe3ZhciBsPWlbY107aWYoIShsLmxlbmd0aDw9MSkpe3ZhciBoPWwuc3BsaXQoIjoiKSxmPWhbMF0sZD1wYXJzZUludChoWzJdLDEwKTtpZihpc05hTihkKSl0aHJvdyBuZXcgRXJyb3IoIkdMU0wgY29tcGlsYXRpb24gZXJyb3IgaW4gIi5jb25jYXQodSwiOiAiKS5jb25jYXQoZSkpOyJXQVJOSU5HIiE9PWY/YVtkXT1sOm9bZF09bH19dmFyIHY9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IjogIixyPWUuc3BsaXQoL1xyP1xuLyksaT1TdHJpbmcoci5sZW5ndGgrdC0xKS5sZW5ndGg7cmV0dXJuIHIubWFwKChmdW5jdGlvbihlLHIpe3ZhciBhPXIrdCxvPVN0cmluZyhhKS5sZW5ndGg7cmV0dXJuIHooYSxpLW8pK24rZX0pKX0odCk7cmV0dXJue3NoYWRlck5hbWU6dSxlcnJvcnM6TihhLHYpLHdhcm5pbmdzOk4obyx2KX19ZnVuY3Rpb24gTihlLHQpe2Zvcih2YXIgbj0iIixyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aWYoKGVbciszXXx8ZVtyKzJdfHxlW3IrMV0pJiYobis9IiIuY29uY2F0KGksIlxuIiksZVtyKzFdKSl7dmFyIGE9ZVtyKzFdLG89YS5zcGxpdCgiOiIsMykscz1vWzBdLHU9cGFyc2VJbnQob1sxXSwxMCl8fDAsYz1hLnN1YnN0cmluZyhvLmpvaW4oIjoiKS5sZW5ndGgrMSkudHJpbSgpO24rPXooIl5eXiAiLmNvbmNhdChzLCI6ICIpLmNvbmNhdChjLCJcblxuIiksdSl9fXJldHVybiBufWZ1bmN0aW9uIHooZSx0KXtmb3IodmFyIG49IiIscj0wO3I8dDsrK3Ipbis9IiAiO3JldHVybiIiLmNvbmNhdChuKS5jb25jYXQoZSl9dmFyIEI9big2NSksVT1uKDEwNSksVj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7dmFyIHI7T2JqZWN0KGkuYSkodGhpcyx0KSxPYmplY3QoQi5iKShlKSxPYmplY3QoeS5hKSgic3RyaW5nIj09dHlwZW9mIG4uc291cmNlLCJTaGFkZXI6IEdMU0wgc291cmNlIGNvZGUgbXVzdCBiZSBhIEphdmFTY3JpcHQgc3RyaW5nIik7dmFyIGE9RChuLnNvdXJjZSxudWxsKXx8bi5pZHx8T2JqZWN0KFUuYykoInVubmFtZWQgIi5jb25jYXQodC5nZXRUeXBlTmFtZShuLnNoYWRlclR5cGUpKSk7cmV0dXJuKHI9T2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKSh0KS5jYWxsKHRoaXMsZSx7aWQ6YX0pKSkuc2hhZGVyVHlwZT1uLnNoYWRlclR5cGUsci5zb3VyY2U9bi5zb3VyY2Usci5pbml0aWFsaXplKG4pLHJ9cmV0dXJuIE9iamVjdChsLmEpKHQsZSksT2JqZWN0KGEuYSkodCxudWxsLFt7a2V5OiJnZXRUeXBlTmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMzU2MzM6cmV0dXJuInZlcnRleC1zaGFkZXIiO2Nhc2UgMzU2MzI6cmV0dXJuImZyYWdtZW50LXNoYWRlciI7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KHkuYSkoITEpLCJ1bmtub3duIn19fV0pLE9iamVjdChhLmEpKHQsW3trZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlLG49RCh0LG51bGwpO24mJih0aGlzLmlkPU9iamVjdChVLmMpKG4pKSx0aGlzLl9jb21waWxlKHQpfX0se2tleToiZ2V0UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nbC5nZXRTaGFkZXJQYXJhbWV0ZXIodGhpcy5oYW5kbGUsZSl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iIi5jb25jYXQodC5nZXRUeXBlTmFtZSh0aGlzLnNoYWRlclR5cGUpLCI6IikuY29uY2F0KHRoaXMuaWQpfX0se2tleToiZ2V0TmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gRCh0aGlzLnNvdXJjZSl8fCJ1bm5hbWVkLXNoYWRlciJ9fSx7a2V5OiJnZXRTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0U2hhZGVyU291cmNlKHRoaXMuaGFuZGxlKX19LHtrZXk6ImdldFRyYW5zbGF0ZWRTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbC5nZXRFeHRlbnNpb24oIldFQkdMLmRlYnVnX3NoYWRlcnMiKTtyZXR1cm4gZT9lLmdldFRyYW5zbGF0ZWRTaGFkZXJTb3VyY2UodGhpcy5oYW5kbGUpOiJObyB0cmFuc2xhdGVkIHNvdXJjZSBhdmFpbGFibGUuIFdFQkdMLmRlYnVnX3NoYWRlcnMgbm90IGltcGxlbWVudGVkIn19LHtrZXk6Il9jb21waWxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLnNvdXJjZTtlLnN0YXJ0c1dpdGgoIiN2ZXJzaW9uICIpfHwoZT0iI3ZlcnNpb24gMTAwXG4iLmNvbmNhdChlKSksdGhpcy5zb3VyY2U9ZSx0aGlzLmdsLnNoYWRlclNvdXJjZSh0aGlzLmhhbmRsZSx0aGlzLnNvdXJjZSksdGhpcy5nbC5jb21waWxlU2hhZGVyKHRoaXMuaGFuZGxlKTt2YXIgdD10aGlzLmdldFBhcmFtZXRlcigzNTcxMyk7aWYoIXQpe3ZhciBuPXRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyh0aGlzLmhhbmRsZSkscj1GKG4sdGhpcy5zb3VyY2UsdGhpcy5zaGFkZXJUeXBlLHRoaXMuaWQpLGk9ci5zaGFkZXJOYW1lLGE9ci5lcnJvcnMsbz1yLndhcm5pbmdzO3Rocm93IHAuaC5lcnJvcigiR0xTTCBjb21waWxhdGlvbiBlcnJvcnMgaW4gIi5jb25jYXQoaSwiXG4iKS5jb25jYXQoYSkpKCkscC5oLndhcm4oIkdMU0wgY29tcGlsYXRpb24gd2FybmluZ3MgaW4gIi5jb25jYXQoaSwiXG4iKS5jb25jYXQobykpKCksbmV3IEVycm9yKCJHTFNMIGNvbXBpbGF0aW9uIGVycm9ycyBpbiAiLmNvbmNhdChpKSl9fX0se2tleToiX2RlbGV0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVNoYWRlcih0aGlzLmhhbmRsZSl9fSx7a2V5OiJfZ2V0T3B0c0Zyb21IYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6dGhpcy5nZXRQYXJhbWV0ZXIoMzU2NjMpLHNvdXJjZTp0aGlzLmdldFNvdXJjZSgpfX19XSksdH0oaC5hKSxHPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxuKXtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyx0KSwic3RyaW5nIj09dHlwZW9mIG4mJihuPXtzb3VyY2U6bn0pLE9iamVjdChvLmEpKHRoaXMsT2JqZWN0KHUuYSkodCkuY2FsbCh0aGlzLGUsT2JqZWN0LmFzc2lnbih7fSxuLHtzaGFkZXJUeXBlOjM1NjMzfSkpKX1yZXR1cm4gT2JqZWN0KGwuYSkodCxlKSxPYmplY3QoYS5hKSh0LFt7a2V5OiJfY3JlYXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLmNyZWF0ZVNoYWRlcigzNTYzMyl9fV0pLHR9KFYpLFc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4pe3JldHVybiBPYmplY3QoaS5hKSh0aGlzLHQpLCJzdHJpbmciPT10eXBlb2YgbiYmKG49e3NvdXJjZTpufSksT2JqZWN0KG8uYSkodGhpcyxPYmplY3QodS5hKSh0KS5jYWxsKHRoaXMsZSxPYmplY3QuYXNzaWduKHt9LG4se3NoYWRlclR5cGU6MzU2MzJ9KSkpfXJldHVybiBPYmplY3QobC5hKSh0LGUpLE9iamVjdChhLmEpKHQsW3trZXk6Il9jcmVhdGVIYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuY3JlYXRlU2hhZGVyKDM1NjMyKX19XSksdH0oViksSD1uKDYxKSxxPW4oODMpLFg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe09iamVjdChpLmEpKHRoaXMsZSksdGhpcy5pZD10LmlkLHRoaXMuYXR0cmlidXRlSW5mb3M9W10sdGhpcy5hdHRyaWJ1dGVJbmZvc0J5TmFtZT17fSx0aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvbj1bXSx0aGlzLnZhcnlpbmdJbmZvcz1bXSx0aGlzLnZhcnlpbmdJbmZvc0J5TmFtZT17fSxPYmplY3Quc2VhbCh0aGlzKSx0aGlzLl9yZWFkQXR0cmlidXRlc0Zyb21Qcm9ncmFtKHQpLHRoaXMuX3JlYWRWYXJ5aW5nc0Zyb21Qcm9ncmFtKHQpfXJldHVybiBPYmplY3QoYS5hKShlLFt7a2V5OiJnZXRBdHRyaWJ1dGVJbmZvIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1OdW1iZXIoZSk7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0KT90aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvblt0XTp0aGlzLmF0dHJpYnV0ZUluZm9zQnlOYW1lW2VdfHxudWxsfX0se2tleToiZ2V0QXR0cmlidXRlTG9jYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0QXR0cmlidXRlSW5mbyhlKTtyZXR1cm4gdD90LmxvY2F0aW9uOi0xfX0se2tleToiZ2V0QXR0cmlidXRlQWNjZXNzb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0QXR0cmlidXRlSW5mbyhlKTtyZXR1cm4gdD90LmFjY2Vzc29yOm51bGx9fSx7a2V5OiJnZXRWYXJ5aW5nSW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9TnVtYmVyKGUpO3JldHVybiBOdW1iZXIuaXNGaW5pdGUodCk/dGhpcy52YXJ5aW5nSW5mb3NbdF06dGhpcy52YXJ5aW5nSW5mb3NCeU5hbWVbZV18fG51bGx9fSx7a2V5OiJnZXRWYXJ5aW5nSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0VmFyeWluZ0luZm8oKTtyZXR1cm4gdD90LmxvY2F0aW9uOi0xfX0se2tleToiZ2V0VmFyeWluZ0FjY2Vzc29yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFZhcnlpbmdJbmZvKCk7cmV0dXJuIHQ/dC5hY2Nlc3NvcjpudWxsfX0se2tleToiX3JlYWRBdHRyaWJ1dGVzRnJvbVByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmdsLG49dC5nZXRQcm9ncmFtUGFyYW1ldGVyKGUuaGFuZGxlLDM1NzIxKSxyPTA7cjxuO3IrKyl7dmFyIGk9dC5nZXRBY3RpdmVBdHRyaWIoZS5oYW5kbGUsciksYT1pLm5hbWUsbz1pLnR5cGUscz1pLnNpemUsdT10LmdldEF0dHJpYkxvY2F0aW9uKGUuaGFuZGxlLGEpO3U+PTAmJnRoaXMuX2FkZEF0dHJpYnV0ZSh1LGEsbyxzKX10aGlzLmF0dHJpYnV0ZUluZm9zLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubG9jYXRpb24tdC5sb2NhdGlvbn0pKX19LHtrZXk6Il9yZWFkVmFyeWluZ3NGcm9tUHJvZ3JhbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nbDtpZihPYmplY3QocC5nKSh0KSl7Zm9yKHZhciBuPXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLmhhbmRsZSwzNTk3MSkscj0wO3I8bjtyKyspe3ZhciBpPXQuZ2V0VHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nKGUuaGFuZGxlLHIpLGE9aS5uYW1lLG89aS50eXBlLHM9aS5zaXplO3RoaXMuX2FkZFZhcnlpbmcocixhLG8scyl9dGhpcy52YXJ5aW5nSW5mb3Muc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5sb2NhdGlvbi10LmxvY2F0aW9ufSkpfX19LHtrZXk6Il9hZGRBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPU9iamVjdChxLmEpKG4pLGE9e3R5cGU6aS50eXBlLHNpemU6cippLmNvbXBvbmVudHN9O3RoaXMuX2luZmVyUHJvcGVydGllcyhlLHQsYSk7dmFyIG89e2xvY2F0aW9uOmUsbmFtZTp0LGFjY2Vzc29yOm5ldyBILmEoYSl9O3RoaXMuYXR0cmlidXRlSW5mb3MucHVzaChvKSx0aGlzLmF0dHJpYnV0ZUluZm9zQnlMb2NhdGlvbltlXT1vLHRoaXMuYXR0cmlidXRlSW5mb3NCeU5hbWVbby5uYW1lXT1vfX0se2tleToiX2luZmVyUHJvcGVydGllcyIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pey9pbnN0YW5jZS9pLnRlc3QodCkmJihuLmRpdmlzb3I9MSl9fSx7a2V5OiJfYWRkVmFyeWluZyIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9T2JqZWN0KHEuYSkobiksYT1pLnR5cGUsbz1pLmNvbXBvbmVudHMscz17bG9jYXRpb246ZSxuYW1lOnQsYWNjZXNzb3I6bmV3IEguYSh7dHlwZTphLHNpemU6cipvfSl9O3RoaXMudmFyeWluZ0luZm9zLnB1c2gocyksdGhpcy52YXJ5aW5nSW5mb3NCeU5hbWVbcy5uYW1lXT1zfX1dKSxlfSgpLFo9big5NSk7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBLfSkpO3ZhciBZPVsic2V0VmVydGV4QXJyYXkiLCJzZXRBdHRyaWJ1dGVzIiwic2V0QnVmZmVycyIsInVuc2V0QnVmZmVycyIsInVzZSIsImdldFVuaWZvcm1Db3VudCIsImdldFVuaWZvcm1JbmZvIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZ2V0VW5pZm9ybVZhbHVlIiwiZ2V0VmFyeWluZyIsImdldEZyYWdEYXRhTG9jYXRpb24iLCJnZXRBdHRhY2hlZFNoYWRlcnMiLCJnZXRBdHRyaWJ1dGVDb3VudCIsImdldEF0dHJpYnV0ZUxvY2F0aW9uIiwiZ2V0QXR0cmlidXRlSW5mbyJdLEs9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gT2JqZWN0KGkuYSkodGhpcyx0KSwobj1PYmplY3Qoby5hKSh0aGlzLE9iamVjdCh1LmEpKHQpLmNhbGwodGhpcyxlLHIpKSkuc3R1YlJlbW92ZWRNZXRob2RzKCJQcm9ncmFtIiwidjYuMCIsWSksbi5faXNDYWNoZWQ9ITEsbi5pbml0aWFsaXplKHIpLE9iamVjdC5zZWFsKE9iamVjdChzLmEpKG4pKSxuLl9zZXRJZChyLmlkKSxufXJldHVybiBPYmplY3QobC5hKSh0LGUpLE9iamVjdChhLmEpKHQsW3trZXk6ImluaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5oYXNoLG49ZS52cyxyPWUuZnMsaT1lLnZhcnlpbmdzLGE9ZS5idWZmZXJNb2RlLG89dm9pZCAwPT09YT8zNTk4MTphO3JldHVybiB0aGlzLmhhc2g9dHx8IiIsdGhpcy52cz0ic3RyaW5nIj09dHlwZW9mIG4/bmV3IEcodGhpcy5nbCx7aWQ6IiIuY29uY2F0KGUuaWQsIi12cyIpLHNvdXJjZTpufSk6bix0aGlzLmZzPSJzdHJpbmciPT10eXBlb2Ygcj9uZXcgVyh0aGlzLmdsLHtpZDoiIi5jb25jYXQoZS5pZCwiLWZzIiksc291cmNlOnJ9KTpyLE9iamVjdCh5LmEpKHRoaXMudnMgaW5zdGFuY2VvZiBHKSxPYmplY3QoeS5hKSh0aGlzLmZzIGluc3RhbmNlb2YgVyksdGhpcy51bmlmb3Jtcz17fSx0aGlzLl90ZXh0dXJlVW5pZm9ybXM9e30sdGhpcy5fdGV4dHVyZXNSZW5kZXJhYmxlPSEwLGkmJmkubGVuZ3RoPjAmJihPYmplY3QoQi5hKSh0aGlzLmdsKSx0aGlzLnZhcnlpbmdzPWksdGhpcy5nbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHRoaXMuaGFuZGxlLGksbykpLHRoaXMuX2NvbXBpbGVBbmRMaW5rKCksdGhpcy5fcmVhZFVuaWZvcm1Mb2NhdGlvbnNGcm9tTGlua2VkUHJvZ3JhbSgpLHRoaXMuY29uZmlndXJhdGlvbj1uZXcgWCh0aGlzKSx0aGlzLnNldFByb3BzKGUpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gdGhpcy5faXNDYWNoZWQ/dGhpczpPYmplY3QoYy5hKShPYmplY3QodS5hKSh0LnByb3RvdHlwZSksImRlbGV0ZSIsdGhpcykuY2FsbCh0aGlzLGUpfX0se2tleToic2V0UHJvcHMiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiJ1bmlmb3JtcyJpbiBlJiZ0aGlzLnNldFVuaWZvcm1zKGUudW5pZm9ybXMpLHRoaXN9fSx7a2V5OiJkcmF3Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5sb2dQcmlvcml0eSxyPWUuZHJhd01vZGUsaT12b2lkIDA9PT1yPzQ6cixhPWUudmVydGV4Q291bnQsbz1lLm9mZnNldCxzPXZvaWQgMD09PW8/MDpvLHU9ZS5zdGFydCxjPWUuZW5kLGw9ZS5pc0luZGV4ZWQsaD12b2lkIDAhPT1sJiZsLGY9ZS5pbmRleFR5cGUsZD12b2lkIDA9PT1mPzUxMjM6Zix2PWUuaW5zdGFuY2VDb3VudCxnPXZvaWQgMD09PXY/MDp2LG09ZS5pc0luc3RhbmNlZCxiPXZvaWQgMD09PW0/Zz4wOm0sXz1lLnZlcnRleEFycmF5LE89dm9pZCAwPT09Xz9udWxsOl8seD1lLnRyYW5zZm9ybUZlZWRiYWNrLHc9ZS5mcmFtZWJ1ZmZlcixTPWUucGFyYW1ldGVycyxrPXZvaWQgMD09PVM/e306UyxQPWUudW5pZm9ybXMsaj1lLnNhbXBsZXJzO2lmKChQfHxqKSYmKHAuaC5kZXByZWNhdGVkKCJQcm9ncmFtLmRyYXcoe3VuaWZvcm1zfSkiLCJQcm9ncmFtLnNldFVuaWZvcm1zKHVuaWZvcm1zKSIpKCksdGhpcy5zZXRVbmlmb3JtcyhQfHx7fSkpLHAuaC5wcmlvcml0eT49bil7dmFyIFQ9dz93LmlkOiJkZWZhdWx0IixFPSJtb2RlPSIuY29uY2F0KE9iamVjdChaLmEpKHRoaXMuZ2wsaSksIiB2ZXJ0cz0iKS5jb25jYXQoYSwiICIpKyJpbnN0YW5jZXM9Ii5jb25jYXQoZywiIGluZGV4VHlwZT0iKS5jb25jYXQoT2JqZWN0KFouYSkodGhpcy5nbCxkKSwiICIpKyJpc0luc3RhbmNlZD0iLmNvbmNhdChiLCIgaXNJbmRleGVkPSIpLmNvbmNhdChoLCIgIikrIkZyYW1lYnVmZmVyPSIuY29uY2F0KFQpO3AuaC5sb2cobixFKSgpfXJldHVybiBPYmplY3QoeS5hKShPKSx0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5oYW5kbGUpLCEoIXRoaXMuX2FyZVRleHR1cmVzUmVuZGVyYWJsZSgpfHwwPT09YXx8YiYmMD09PWcpJiYoTy5iaW5kRm9yRHJhdyhhLGcsKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dyYmKGs9T2JqZWN0LmFzc2lnbih7fSxrLHtmcmFtZWJ1ZmZlcjp3fSkpLHgpe3ZhciBlPU9iamVjdChxLmMpKGkpO3guYmVnaW4oZSl9dC5fYmluZFRleHR1cmVzKCksT2JqZWN0KHAubCkodC5nbCxrLChmdW5jdGlvbigpe2gmJmI/dC5nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQoaSxhLGQscyxnKTpoJiZPYmplY3QocC5nKSh0LmdsKSYmIWlzTmFOKHUpJiYhaXNOYU4oYyk/dC5nbC5kcmF3UmFuZ2VFbGVtZW50cyhpLHUsYyxhLGQscyk6aD90LmdsLmRyYXdFbGVtZW50cyhpLGEsZCxzKTpiP3QuZ2wuZHJhd0FycmF5c0luc3RhbmNlZChpLHMsYSxnKTp0LmdsLmRyYXdBcnJheXMoaSxzLGEpfSkpLHgmJnguZW5kKCl9KSksITApfX0se2tleToic2V0VW5pZm9ybXMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2Zvcih2YXIgdCBpbiBwLmgucHJpb3JpdHk+PTImJkUoZSx0aGlzLmlkLHRoaXMuX3VuaWZvcm1TZXR0ZXJzKSx0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5oYW5kbGUpLGUpe3ZhciBuPWVbdF0scj10aGlzLl91bmlmb3JtU2V0dGVyc1t0XTtpZihyKXt2YXIgaT1uLGE9ITE7aWYoaSBpbnN0YW5jZW9mIGQuYSYmKGk9aS50ZXh0dXJlKSxpIGluc3RhbmNlb2YgZi5hKWlmKGE9dGhpcy51bmlmb3Jtc1t0XSE9PW4pe3ZvaWQgMD09PXIudGV4dHVyZUluZGV4JiYoci50ZXh0dXJlSW5kZXg9dGhpcy5fdGV4dHVyZUluZGV4Q291bnRlcisrKTt2YXIgbz1pLHM9ci50ZXh0dXJlSW5kZXg7by5iaW5kKHMpLGk9cyxvLmxvYWRlZHx8KHRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZT0hMSksdGhpcy5fdGV4dHVyZVVuaWZvcm1zW3RdPW99ZWxzZSBpPXIudGV4dHVyZUluZGV4O2Vsc2UgdGhpcy5fdGV4dHVyZVVuaWZvcm1zW3RdJiZkZWxldGUgdGhpcy5fdGV4dHVyZVVuaWZvcm1zW3RdOyhyKGkpfHxhKSYmTSh0aGlzLnVuaWZvcm1zLHQsbil9fXJldHVybiB0aGlzfX0se2tleToiX2FyZVRleHR1cmVzUmVuZGVyYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXh0dXJlc1JlbmRlcmFibGUpcmV0dXJuITA7Zm9yKHZhciBlIGluIHRoaXMuX3RleHR1cmVzUmVuZGVyYWJsZT0hMCx0aGlzLl90ZXh0dXJlVW5pZm9ybXMpe3ZhciB0PXRoaXMuX3RleHR1cmVVbmlmb3Jtc1tlXTt0aGlzLl90ZXh0dXJlc1JlbmRlcmFibGU9dGhpcy5fdGV4dHVyZXNSZW5kZXJhYmxlJiZ0LmxvYWRlZH1yZXR1cm4gdGhpcy5fdGV4dHVyZXNSZW5kZXJhYmxlfX0se2tleToiX2JpbmRUZXh0dXJlcyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fdGV4dHVyZVVuaWZvcm1zKXt2YXIgdD10aGlzLl91bmlmb3JtU2V0dGVyc1tlXS50ZXh0dXJlSW5kZXg7dGhpcy5fdGV4dHVyZVVuaWZvcm1zW2VdLmJpbmQodCl9fX0se2tleToiX2NyZWF0ZUhhbmRsZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5jcmVhdGVQcm9ncmFtKCl9fSx7a2V5OiJfZGVsZXRlSGFuZGxlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLmhhbmRsZSl9fSx7a2V5OiJfZ2V0T3B0aW9uc0Zyb21IYW5kbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKGUpLG49e30scj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIG8scz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KG89cy5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciB1PW8udmFsdWU7c3dpdGNoKHRoaXMuZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuaGFuZGxlLDM1NjYzKSl7Y2FzZSAzNTYzMzpuLnZzPW5ldyBHKHtoYW5kbGU6dX0pO2JyZWFrO2Nhc2UgMzU2MzI6bi5mcz1uZXcgVyh7aGFuZGxlOnV9KX19fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4gbn19LHtrZXk6Il9nZXRQYXJhbWV0ZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5oYW5kbGUsZSl9fSx7a2V5OiJfc2V0SWQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXt2YXIgdD10aGlzLl9nZXROYW1lKCk7dGhpcy5pZD1PYmplY3QoVS5jKSh0KX19fSx7a2V5OiJfZ2V0TmFtZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZzLmdldE5hbWUoKXx8dGhpcy5mcy5nZXROYW1lKCk7cmV0dXJuIGU9KGU9ZS5yZXBsYWNlKC9zaGFkZXIvaSwiIikpPyIiLmNvbmNhdChlLCItcHJvZ3JhbSIpOiJwcm9ncmFtIn19LHtrZXk6Il9jb21waWxlQW5kTGluayIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO2lmKChlLmF0dGFjaFNoYWRlcih0aGlzLmhhbmRsZSx0aGlzLnZzLmhhbmRsZSksZS5hdHRhY2hTaGFkZXIodGhpcy5oYW5kbGUsdGhpcy5mcy5oYW5kbGUpLHAuaC50aW1lKDQsImxpbmtQcm9ncmFtIGZvciAiLmNvbmNhdCh0aGlzLl9nZXROYW1lKCkpKSgpLGUubGlua1Byb2dyYW0odGhpcy5oYW5kbGUpLHAuaC50aW1lRW5kKDQsImxpbmtQcm9ncmFtIGZvciAiLmNvbmNhdCh0aGlzLl9nZXROYW1lKCkpKSgpLGUuZGVidWd8fHAuaC5sZXZlbD4wKSYmKGUudmFsaWRhdGVQcm9ncmFtKHRoaXMuaGFuZGxlKSwhZS5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuaGFuZGxlLDM1NzE0KSkpdGhyb3cgbmV3IEVycm9yKCJFcnJvciBsaW5raW5nOiAiLmNvbmNhdChlLmdldFByb2dyYW1JbmZvTG9nKHRoaXMuaGFuZGxlKSkpfX0se2tleToiX3JlYWRVbmlmb3JtTG9jYXRpb25zRnJvbUxpbmtlZFByb2dyYW0iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbDt0aGlzLl91bmlmb3JtU2V0dGVycz17fSx0aGlzLl91bmlmb3JtQ291bnQ9dGhpcy5fZ2V0UGFyYW1ldGVyKDM1NzE4KTtmb3IodmFyIHQ9MDt0PHRoaXMuX3VuaWZvcm1Db3VudDt0Kyspe3ZhciBuPXRoaXMuZ2wuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLmhhbmRsZSx0KSxyPWoobi5uYW1lKSxpPXIubmFtZSxhPShyLmlzQXJyYXksZS5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5oYW5kbGUsaSkpO2lmKHRoaXMuX3VuaWZvcm1TZXR0ZXJzW2ldPVQoZSxhLG4pLG4uc2l6ZT4xKWZvcih2YXIgbz0wO288bi5zaXplO28rKylhPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuaGFuZGxlLCIiLmNvbmNhdChpLCJbIikuY29uY2F0KG8sIl0iKSksdGhpcy5fdW5pZm9ybVNldHRlcnNbIiIuY29uY2F0KGksIlsiKS5jb25jYXQobywiXSIpXT1UKGUsYSxuKX10aGlzLl90ZXh0dXJlSW5kZXhDb3VudGVyPTB9fSx7a2V5OiJnZXRBY3RpdmVVbmlmb3JtcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nbC5nZXRBY3RpdmVVbmlmb3Jtcyh0aGlzLmhhbmRsZSxlLHQpfX0se2tleToiZ2V0VW5pZm9ybUJsb2NrSW5kZXgiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdsLmdldFVuaWZvcm1CbG9ja0luZGV4KHRoaXMuaGFuZGxlLGUpfX0se2tleToiZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmdsLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcih0aGlzLmhhbmRsZSxlLHQpfX0se2tleToidW5pZm9ybUJsb2NrQmluZGluZyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmdsLnVuaWZvcm1CbG9ja0JpbmRpbmcodGhpcy5oYW5kbGUsZSx0KX19XSksdH0oaC5hKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDUpLGk9big2KSxhPW4oMjEpLG89bigxNjIpLHM9InZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3IgPSB2ZWM0KDApO30iLHU9Im91dCB2ZWM0IHRyYW5zZm9ybV9vdXRwdXQ7XG52b2lkIG1haW4oKSB7XG4gIHRyYW5zZm9ybV9vdXRwdXQgPSB2ZWM0KDApO1xufSIsYz0iI3ZlcnNpb24gMzAwIGVzXG4iLmNvbmNhdCh1KTtmdW5jdGlvbiBsKGUsdCl7dD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdO3ZhciBuPWUucmVwbGFjZSgvXlxzKy8sIiIpLnNwbGl0KC9ccysvKSxyPU9iamVjdChhLmEpKG4sMyksaT1yWzBdLG89clsxXSxzPXJbMl07cmV0dXJuIHQuaW5jbHVkZXMoaSkmJm8mJnM/e3F1YWxpZmllcjppLHR5cGU6byxuYW1lOnMuc3BsaXQoIjsiKVswXX06bnVsbH1mdW5jdGlvbiBoKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS52ZXJzaW9uLG49dm9pZCAwPT09dD8xMDA6dCxyPWUuaW5wdXQsaT1lLmlucHV0VHlwZSxhPWUub3V0cHV0O2lmKCFyKXJldHVybiAzMDA9PT1uP2M6bj4zMDA/IiN2ZXJzaW9uICIuY29uY2F0KG4sIlxuIikuY29uY2F0KHUpOnM7dmFyIG89ZChyLGkpO3JldHVybiBuPj0zMDA/IiN2ZXJzaW9uICIuY29uY2F0KG4sIiAiKS5jb25jYXQoMzAwPT09bj8iZXMiOiIiLCJcbmluICIpLmNvbmNhdChpLCIgIikuY29uY2F0KHIsIjtcbm91dCB2ZWM0ICIpLmNvbmNhdChhLCI7XG52b2lkIG1haW4oKSB7XG4gICIpLmNvbmNhdChhLCIgPSAiKS5jb25jYXQobywiO1xufSIpOiJ2YXJ5aW5nICIuY29uY2F0KGksIiAiKS5jb25jYXQociwiO1xudm9pZCBtYWluKCkge1xuICBnbF9GcmFnQ29sb3IgPSAiKS5jb25jYXQobywiO1xufSIpfWZ1bmN0aW9uIGYoZSl7c3dpdGNoKGUpe2Nhc2UiZmxvYXQiOnJldHVybiAxO2Nhc2UidmVjMiI6cmV0dXJuIDI7Y2FzZSJ2ZWMzIjpyZXR1cm4gMztjYXNlInZlYzQiOnJldHVybiA0O2RlZmF1bHQ6cmV0dXJuIE9iamVjdChvLmEpKCExKSxudWxsfX1mdW5jdGlvbiBkKGUsdCl7c3dpdGNoKHQpe2Nhc2UiZmxvYXQiOnJldHVybiJ2ZWM0KCIuY29uY2F0KGUsIiwgMC4wLCAwLjAsIDEuMCkiKTtjYXNlInZlYzIiOnJldHVybiJ2ZWM0KCIuY29uY2F0KGUsIiwgMC4wLCAxLjApIik7Y2FzZSJ2ZWMzIjpyZXR1cm4idmVjNCgiLmNvbmNhdChlLCIsIDEuMCkiKTtjYXNlInZlYzQiOnJldHVybiBlO2RlZmF1bHQ6cmV0dXJuIE9iamVjdChvLmEpKCExKSxudWxsfX12YXIgdj1uKDExKSxwPW4oNDYpLGc9bigyNjcpLHk9bigyOSksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O09iamVjdChyLmEpKHRoaXMsZSksdGhpcy5nbD10LHRoaXMuY3VycmVudEluZGV4PTAsdGhpcy5mZWVkYmFja01hcD17fSx0aGlzLnZhcnlpbmdzPW51bGwsdGhpcy5iaW5kaW5ncz1bXSx0aGlzLnJlc291cmNlcz17fSx0aGlzLl9pbml0aWFsaXplKG4pLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3QoaS5hKShlLFt7a2V5OiJzZXR1cFJlc291cmNlcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBpLGE9dGhpcy5iaW5kaW5nc1tTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShpPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgbz1pLnZhbHVlO3RoaXMuX3NldHVwVHJhbnNmb3JtRmVlZGJhY2sobyxlKX19Y2F0Y2goZSl7bj0hMCxyPWV9ZmluYWxseXt0cnl7dHx8bnVsbD09YS5yZXR1cm58fGEucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19LHtrZXk6InVwZGF0ZU1vZGVsUHJvcHMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9dGhpcy52YXJ5aW5ncztyZXR1cm4gdC5sZW5ndGg+MCYmKGU9T2JqZWN0LmFzc2lnbih7fSxlLHt2YXJ5aW5nczp0fSkpLGV9fSx7a2V5OiJnZXREcmF3T3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD10aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSxuPXQuc291cmNlQnVmZmVycyxyPXQudHJhbnNmb3JtRmVlZGJhY2ssaT1PYmplY3QuYXNzaWduKHt9LG4sZS5hdHRyaWJ1dGVzKTtyZXR1cm57YXR0cmlidXRlczppLHRyYW5zZm9ybUZlZWRiYWNrOnJ9fX0se2tleToic3dhcCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZmVlZGJhY2tNYXAmJih0aGlzLmN1cnJlbnRJbmRleD10aGlzLl9nZXROZXh0SW5kZXgoKSwhMCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuX3NldHVwQnVmZmVycyhlKX19LHtrZXk6ImdldEJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0uZmVlZGJhY2tCdWZmZXJzLG49ZT90W2VdOm51bGw7cmV0dXJuIG4/biBpbnN0YW5jZW9mIHAuYT9uOm4uYnVmZmVyOm51bGx9fSx7a2V5OiJnZXREYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUudmFyeWluZ05hbWUsbj10aGlzLmdldEJ1ZmZlcih0KTtyZXR1cm4gbj9uLmdldERhdGEoKTpudWxsfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLnJlc291cmNlcyl0aGlzLnJlc291cmNlc1tlXS5kZWxldGUoKX19LHtrZXk6Il9pbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLl9zZXR1cEJ1ZmZlcnMoZSksdGhpcy52YXJ5aW5ncz1lLnZhcnlpbmdzfHxPYmplY3Qua2V5cyh0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XS5mZWVkYmFja0J1ZmZlcnMpLHRoaXMudmFyeWluZ3MubGVuZ3RoPjAmJk9iamVjdCh5LmEpKE9iamVjdCh2LmcpKHRoaXMuZ2wpKX19LHtrZXk6Il9nZXRGZWVkYmFja0J1ZmZlcnMiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlQnVmZmVycyxuPXZvaWQgMD09PXQ/e306dCxyPXt9O2lmKHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdJiZPYmplY3QuYXNzaWduKHIsdGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0uZmVlZGJhY2tCdWZmZXJzKSx0aGlzLmZlZWRiYWNrTWFwKWZvcih2YXIgaSBpbiB0aGlzLmZlZWRiYWNrTWFwKXt2YXIgYT10aGlzLmZlZWRiYWNrTWFwW2ldO2kgaW4gbiYmKHJbYV09aSl9Zm9yKHZhciBvIGluIE9iamVjdC5hc3NpZ24ocixlLmZlZWRiYWNrQnVmZmVycykscil7dmFyIHM9cltvXTtpZigic3RyaW5nIj09dHlwZW9mIHMpe3ZhciB1PW5bc10sYz11LmJ5dGVMZW5ndGgsbD11LnVzYWdlLGg9dS5hY2Nlc3NvcjtyW29dPXRoaXMuX2NyZWF0ZU5ld0J1ZmZlcihvLHtieXRlTGVuZ3RoOmMsdXNhZ2U6bCxhY2Nlc3NvcjpofSl9fXJldHVybiByfX0se2tleToiX3NldHVwQnVmZmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLnNvdXJjZUJ1ZmZlcnMsbj12b2lkIDA9PT10P251bGw6dDtPYmplY3QuYXNzaWduKHRoaXMuZmVlZGJhY2tNYXAsZS5mZWVkYmFja01hcCk7dmFyIHI9dGhpcy5fZ2V0RmVlZGJhY2tCdWZmZXJzKGUpO3RoaXMuX3VwZGF0ZUJpbmRpbmdzKHtzb3VyY2VCdWZmZXJzOm4sZmVlZGJhY2tCdWZmZXJzOnJ9KX19LHtrZXk6Il9zZXR1cFRyYW5zZm9ybUZlZWRiYWNrIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQubW9kZWwucHJvZ3JhbTtlLnRyYW5zZm9ybUZlZWRiYWNrPW5ldyBnLmEodGhpcy5nbCx7cHJvZ3JhbTpuLGJ1ZmZlcnM6ZS5mZWVkYmFja0J1ZmZlcnN9KX19LHtrZXk6Il91cGRhdGVCaW5kaW5ncyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF09dGhpcy5fdXBkYXRlQmluZGluZyh0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSxlKSx0aGlzLmZlZWRiYWNrTWFwKXt2YXIgdD10aGlzLl9zd2FwQnVmZmVycyh0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSksbj10LnNvdXJjZUJ1ZmZlcnMscj10LmZlZWRiYWNrQnVmZmVycyxpPXRoaXMuX2dldE5leHRJbmRleCgpO3RoaXMuYmluZGluZ3NbaV09dGhpcy5fdXBkYXRlQmluZGluZyh0aGlzLmJpbmRpbmdzW2ldLHtzb3VyY2VCdWZmZXJzOm4sZmVlZGJhY2tCdWZmZXJzOnJ9KX19fSx7a2V5OiJfdXBkYXRlQmluZGluZyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oT2JqZWN0LmFzc2lnbihlLnNvdXJjZUJ1ZmZlcnMsdC5zb3VyY2VCdWZmZXJzKSxPYmplY3QuYXNzaWduKGUuZmVlZGJhY2tCdWZmZXJzLHQuZmVlZGJhY2tCdWZmZXJzKSxlLnRyYW5zZm9ybUZlZWRiYWNrJiZlLnRyYW5zZm9ybUZlZWRiYWNrLnNldEJ1ZmZlcnMoZS5mZWVkYmFja0J1ZmZlcnMpLGUpOntzb3VyY2VCdWZmZXJzOk9iamVjdC5hc3NpZ24oe30sdC5zb3VyY2VCdWZmZXJzKSxmZWVkYmFja0J1ZmZlcnM6T2JqZWN0LmFzc2lnbih7fSx0LmZlZWRiYWNrQnVmZmVycyl9fX0se2tleToiX3N3YXBCdWZmZXJzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5mZWVkYmFja01hcClyZXR1cm4gbnVsbDt2YXIgdD1PYmplY3QuYXNzaWduKHt9LGUuc291cmNlQnVmZmVycyksbj1PYmplY3QuYXNzaWduKHt9LGUuZmVlZGJhY2tCdWZmZXJzKTtmb3IodmFyIHIgaW4gdGhpcy5mZWVkYmFja01hcCl7dmFyIGk9dGhpcy5mZWVkYmFja01hcFtyXTt0W3JdPWUuZmVlZGJhY2tCdWZmZXJzW2ldLG5baV09ZS5zb3VyY2VCdWZmZXJzW3JdLE9iamVjdCh5LmEpKG5baV1pbnN0YW5jZW9mIHAuYSl9cmV0dXJue3NvdXJjZUJ1ZmZlcnM6dCxmZWVkYmFja0J1ZmZlcnM6bn19fSx7a2V5OiJfY3JlYXRlTmV3QnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBwLmEodGhpcy5nbCx0KTtyZXR1cm4gdGhpcy5yZXNvdXJjZXNbZV0mJnRoaXMucmVzb3VyY2VzW2VdLmRlbGV0ZSgpLHRoaXMucmVzb3VyY2VzW2VdPW4sbn19LHtrZXk6Il9nZXROZXh0SW5kZXgiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuY3VycmVudEluZGV4KzEpJTJ9fV0pLGV9KCksYj1uKDApLF89bigxNzcpLE89bigxMTYpLHg9big3MSksdz1uKDIwNyk7ZnVuY3Rpb24gUyhlKXt2YXIgdD0xMDAsbj1lLm1hdGNoKC9bXlxzXSsvZyk7aWYobi5sZW5ndGg+PTImJiIjdmVyc2lvbiI9PT1uWzBdKXt2YXIgcj1wYXJzZUludChuWzFdLDEwKTtOdW1iZXIuaXNGaW5pdGUocikmJih0PXIpfXJldHVybiB0fXZhciBrLFA9bigxNjQpLGo9e25hbWU6InRyYW5zZm9ybSIsdnM6ImF0dHJpYnV0ZSBmbG9hdCB0cmFuc2Zvcm1fZWxlbWVudElEO1xudmVjMiB0cmFuc2Zvcm1fZ2V0UGl4ZWxTaXplSGFsZih2ZWMyIHNpemUpIHtcbiAgcmV0dXJuIHZlYzIoMS4pIC8gKDIuICogc2l6ZSk7XG59XG5cbnZlYzIgdHJhbnNmb3JtX2dldFBpeGVsSW5kaWNlcyh2ZWMyIHRleFNpemUsIHZlYzIgcGl4ZWxTaXplSGFsZikge1xuICBmbG9hdCB5SW5kZXggPSBmbG9vcigodHJhbnNmb3JtX2VsZW1lbnRJRCAvIHRleFNpemVbMF0pICsgcGl4ZWxTaXplSGFsZlsxXSk7XG4gIGZsb2F0IHhJbmRleCA9IHRyYW5zZm9ybV9lbGVtZW50SUQgLSAoeUluZGV4ICogdGV4U2l6ZVswXSk7XG4gIHJldHVybiB2ZWMyKHhJbmRleCwgeUluZGV4KTtcbn1cbnZlYzIgdHJhbnNmb3JtX2dldFRleENvb3JkKHZlYzIgc2l6ZSkge1xuICB2ZWMyIHBpeGVsU2l6ZUhhbGYgPSB0cmFuc2Zvcm1fZ2V0UGl4ZWxTaXplSGFsZihzaXplKTtcbiAgdmVjMiBpbmRpY2VzID0gdHJhbnNmb3JtX2dldFBpeGVsSW5kaWNlcyhzaXplLCBwaXhlbFNpemVIYWxmKTtcbiAgdmVjMiBjb29yZCA9IGluZGljZXMgLyBzaXplICsgcGl4ZWxTaXplSGFsZjtcbiAgcmV0dXJuIGNvb3JkO1xufVxudmVjMiB0cmFuc2Zvcm1fZ2V0UG9zKHZlYzIgc2l6ZSkge1xuICB2ZWMyIHRleENvb3JkID0gdHJhbnNmb3JtX2dldFRleENvb3JkKHNpemUpO1xuICB2ZWMyIHBvcyA9ICh0ZXhDb29yZCAqICgyLjAsIDIuMCkpIC0gKDEuLCAxLik7XG4gIHJldHVybiBwb3M7XG59XG52ZWM0IHRyYW5zZm9ybV9nZXRJbnB1dChzYW1wbGVyMkQgdGV4U2FtcGxlciwgdmVjMiBzaXplKSB7XG4gIHZlYzIgdGV4Q29vcmQgPSB0cmFuc2Zvcm1fZ2V0VGV4Q29vcmQoc2l6ZSk7XG4gIHZlYzQgdGV4dHVyZUNvbG9yID0gdGV4dHVyZTJEKHRleFNhbXBsZXIsIHRleENvb3JkKTtcbiAgcmV0dXJuIHRleHR1cmVDb2xvcjtcbn1cbiIsZnM6bnVsbH07ZnVuY3Rpb24gVChlKXt2YXIgdD1lLnZzLG49ZS5zb3VyY2VUZXh0dXJlTWFwLHI9ZS50YXJnZXRUZXh0dXJlVmFyeWluZyxpPWUudGFyZ2V0VGV4dHVyZSxhPU9iamVjdC5rZXlzKG4pLmxlbmd0aCxzPW51bGwsdT17fSxjPXQsaD17fTtpZihhPjB8fHIpe3ZhciBmPWMuc3BsaXQoIlxuIiksZD1mLnNsaWNlKCk7aWYoZi5mb3JFYWNoKChmdW5jdGlvbihlLHQsaSl7aWYoYT4wKXt2YXIgYz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSxbImF0dHJpYnV0ZSIsImluIl0pfShlKTtpZighcilyZXR1cm4gbnVsbDt2YXIgaT1yLnR5cGUsYT1yLm5hbWU7aWYoYSYmdFthXSl7dmFyIHM9Ii8vICIuY29uY2F0KGUsIiA9PiBSZXBsYWNlZCBieSBUcmFuc2Zvcm0gd2l0aCBhIHNhbXBsZXIiKSx1PWZ1bmN0aW9uKGUpe3ZhciB0PSIiLmNvbmNhdCgidHJhbnNmb3JtX3VTYW1wbGVyXyIpLmNvbmNhdChlKSxuPSIiLmNvbmNhdCgidHJhbnNmb3JtX3VTaXplXyIpLmNvbmNhdChlKSxyPSIgIHVuaWZvcm0gc2FtcGxlcjJEICIuY29uY2F0KHQsIjtcbiAgdW5pZm9ybSB2ZWMyICIpLmNvbmNhdChuLCI7Iik7cmV0dXJue3NhbXBsZXJOYW1lOnQsc2l6ZU5hbWU6bix1bmlmb3JtRGVjbGVyYXRpb25zOnJ9fShhKSxjPXUuc2FtcGxlck5hbWUsaD11LnNpemVOYW1lLGY9dS51bmlmb3JtRGVjbGVyYXRpb25zLGQ9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UiZmxvYXQiOnJldHVybiJ4IjtjYXNlInZlYzIiOnJldHVybiJ4eSI7Y2FzZSJ2ZWMzIjpyZXR1cm4ieHl6IjtjYXNlInZlYzQiOnJldHVybiJ4eXp3IjtkZWZhdWx0OnJldHVybiBPYmplY3Qoby5hKSghMSksbnVsbH19KGkpLHY9IiAgIi5jb25jYXQoaSwiICIpLmNvbmNhdChhLCIgPSB0cmFuc2Zvcm1fZ2V0SW5wdXQoIikuY29uY2F0KGMsIiwgIikuY29uY2F0KGgsIikuIikuY29uY2F0KGQsIjtcbiIpO3JldHVybiBuW2NdPWEse3VwZGF0ZWRMaW5lOnMsaW5qZWN0OnsidnM6I2RlY2wiOmYsInZzOiNtYWluLXN0YXJ0Ijp2fSxzYW1wbGVyVGV4dHVyZU1hcDpufX1yZXR1cm4gbnVsbH0oZSxuKTtpZihjKXt2YXIgZj1jLnVwZGF0ZWRMaW5lLHY9Yy5pbmplY3Q7ZFt0XT1mLGg9T2JqZWN0KFAuYikoW2gsdl0pLE9iamVjdC5hc3NpZ24odSxjLnNhbXBsZXJUZXh0dXJlTWFwKSxhLS19fXImJiFzJiYocz1mdW5jdGlvbihlLHQpe3ZhciBuPWwoZSxbInZhcnlpbmciLCJvdXQiXSk7aWYoIW4pcmV0dXJuIG51bGw7cmV0dXJuIG4ubmFtZT09PXQ/bi50eXBlOm51bGx9KGUscikpfSkpLHIpe09iamVjdCh5LmEpKGkpO3ZhciB2PSIiLmNvbmNhdCgidHJhbnNmb3JtX3VTaXplXyIpLmNvbmNhdChyKSxwPXsidnM6I2RlY2wiOiJ1bmlmb3JtIHZlYzIgIi5jb25jYXQodiwiO1xuIiksInZzOiNtYWluLXN0YXJ0IjoiICAgICB2ZWMyICIuY29uY2F0KCJ0cmFuc2Zvcm1fcG9zaXRpb24iLCIgPSB0cmFuc2Zvcm1fZ2V0UG9zKCIpLmNvbmNhdCh2LCIpO1xuICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoIikuY29uY2F0KCJ0cmFuc2Zvcm1fcG9zaXRpb24iLCIsIDAsIDEuKTtcbiIpfTtoPU9iamVjdChQLmIpKFtoLHBdKX1jPWQuam9pbigiXG4iKX1yZXR1cm57dnM6Yyx0YXJnZXRUZXh0dXJlVHlwZTpzLGluamVjdDpoLHNhbXBsZXJUZXh0dXJlTWFwOnV9fWZ1bmN0aW9uIEUoZSl7dmFyIHQsbixyPWUuc291cmNlVGV4dHVyZU1hcCxpPWUudGFyZ2V0VGV4dHVyZVZhcnlpbmcsYT1lLnRhcmdldFRleHR1cmUsbz17fTtmb3IodmFyIHMgaW4gaSYmKHQ9YS53aWR0aCxuPWEuaGVpZ2h0LG9bIiIuY29uY2F0KCJ0cmFuc2Zvcm1fdVNpemVfIikuY29uY2F0KGkpXT1bdCxuXSkscil7dmFyIHU9cltzXTt0PXUud2lkdGgsbj11LmhlaWdodCxvWyIiLmNvbmNhdCgidHJhbnNmb3JtX3VTaXplXyIpLmNvbmNhdChzKV09W3Qsbl19cmV0dXJuIG99dmFyIEE9KGs9e30sT2JqZWN0KGIuYSkoaywxMDI0MSw5NzI4KSxPYmplY3QoYi5hKShrLDEwMjQwLDk3MjgpLE9iamVjdChiLmEpKGssMTAyNDIsMzMwNzEpLE9iamVjdChiLmEpKGssMTAyNDMsMzMwNzEpLGspLE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoci5hKSh0aGlzLGUpLHRoaXMuZ2w9dCx0aGlzLmN1cnJlbnRJbmRleD0wLHRoaXMuX3N3YXBUZXh0dXJlPW51bGwsdGhpcy50YXJnZXRUZXh0dXJlVmFyeWluZz1udWxsLHRoaXMudGFyZ2V0VGV4dHVyZVR5cGU9bnVsbCx0aGlzLnNhbXBsZXJUZXh0dXJlTWFwPW51bGwsdGhpcy5iaW5kaW5ncz1bXSx0aGlzLnJlc291cmNlcz17fSx0aGlzLl9pbml0aWFsaXplKG4pLE9iamVjdC5zZWFsKHRoaXMpfXJldHVybiBPYmplY3QoaS5hKShlLFt7a2V5OiJ1cGRhdGVNb2RlbFByb3BzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PXRoaXMuX3Byb2Nlc3NWZXJ0ZXhTaGFkZXIoZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx0KX19LHtrZXk6ImdldERyYXdPcHRpb25zIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PXRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdLG49dC5zb3VyY2VCdWZmZXJzLHI9dC5zb3VyY2VUZXh0dXJlcyxpPXQuZnJhbWVidWZmZXIsYT10LnRhcmdldFRleHR1cmUsbz1PYmplY3QuYXNzaWduKHt9LG4sZS5hdHRyaWJ1dGVzKSxzPU9iamVjdC5hc3NpZ24oe30sZS51bmlmb3JtcyksdT1PYmplY3QuYXNzaWduKHt9LGUucGFyYW1ldGVycyksYz1lLmRpc2NhcmQ7aWYodGhpcy5oYXNTb3VyY2VUZXh0dXJlc3x8dGhpcy5oYXNUYXJnZXRUZXh0dXJlKXtmb3IodmFyIGwgaW4gby50cmFuc2Zvcm1fZWxlbWVudElEPXRoaXMuZWxlbWVudElEQnVmZmVyLHRoaXMuc2FtcGxlclRleHR1cmVNYXApe3ZhciBoPXRoaXMuc2FtcGxlclRleHR1cmVNYXBbbF07c1tsXT1yW2hdfXRoaXMuX3NldFNvdXJjZVRleHR1cmVQYXJhbWV0ZXJzKCk7dmFyIGY9RSh7c291cmNlVGV4dHVyZU1hcDpyLHRhcmdldFRleHR1cmVWYXJ5aW5nOnRoaXMudGFyZ2V0VGV4dHVyZVZhcnlpbmcsdGFyZ2V0VGV4dHVyZTphfSk7T2JqZWN0LmFzc2lnbihzLGYpfXJldHVybiB0aGlzLmhhc1RhcmdldFRleHR1cmUmJihjPSExLHUudmlld3BvcnQ9WzAsMCxpLndpZHRoLGkuaGVpZ2h0XSkse2F0dHJpYnV0ZXM6byxmcmFtZWJ1ZmZlcjppLHVuaWZvcm1zOnMsZGlzY2FyZDpjLHBhcmFtZXRlcnM6dX19fSx7a2V5OiJzd2FwIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fc3dhcFRleHR1cmUmJih0aGlzLmN1cnJlbnRJbmRleD10aGlzLl9nZXROZXh0SW5kZXgoKSwhMCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuX3NldHVwVGV4dHVyZXMoZSl9fSx7a2V5OiJnZXRUYXJnZXRUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XS50YXJnZXRUZXh0dXJlfX0se2tleToiZ2V0RGF0YSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLnBhY2tlZCxuPXZvaWQgMCE9PXQmJnQscj10aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XS5mcmFtZWJ1ZmZlcixpPU9iamVjdChfLmMpKHIpO2lmKCFuKXJldHVybiBpO2Zvcih2YXIgYT1pLmNvbnN0cnVjdG9yLG89Zih0aGlzLnRhcmdldFRleHR1cmVUeXBlKSxzPW5ldyBhKGkubGVuZ3RoKm8vNCksdT0wLGM9MDtjPGkubGVuZ3RoO2MrPTQpZm9yKHZhciBsPTA7bDxvO2wrKylzW3UrK109aVtjK2xdO3JldHVybiBzfX0se2tleToiZ2V0RnJhbWVidWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdLmZyYW1lYnVmZmVyfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3duVGV4dHVyZSYmdGhpcy5vd25UZXh0dXJlLmRlbGV0ZSgpLHRoaXMuZWxlbWVudElEQnVmZmVyJiZ0aGlzLmVsZW1lbnRJREJ1ZmZlci5kZWxldGUoKX19LHtrZXk6Il9pbml0aWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuX3RhcmdldFRleHR1cmVWYXJ5aW5nLG49ZS5fc3dhcFRleHR1cmU7dGhpcy5fc3dhcFRleHR1cmU9bix0aGlzLnRhcmdldFRleHR1cmVWYXJ5aW5nPXQsdGhpcy5oYXNUYXJnZXRUZXh0dXJlPXQsdGhpcy5fc2V0dXBUZXh0dXJlcyhlKX19LHtrZXk6Il9jcmVhdGVUYXJnZXRUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZVRleHR1cmVzLG49ZS50ZXh0dXJlT3JSZWZlcmVuY2U7aWYobiBpbnN0YW5jZW9mIE8uYSlyZXR1cm4gbjt2YXIgcj10W25dO3JldHVybiByPyh0aGlzLl90YXJnZXRSZWZUZXhOYW1lPW4sdGhpcy5fY3JlYXRlTmV3VGV4dHVyZShyKSk6bnVsbH19LHtrZXk6Il9zZXR1cFRleHR1cmVzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuc291cmNlQnVmZmVycyxuPWUuX3NvdXJjZVRleHR1cmVzLHI9dm9pZCAwPT09bj97fTpuLGk9ZS5fdGFyZ2V0VGV4dHVyZSxhPXRoaXMuX2NyZWF0ZVRhcmdldFRleHR1cmUoe3NvdXJjZVRleHR1cmVzOnIsdGV4dHVyZU9yUmVmZXJlbmNlOml9KTt0aGlzLmhhc1NvdXJjZVRleHR1cmVzPXRoaXMuaGFzU291cmNlVGV4dHVyZXN8fHImJk9iamVjdC5rZXlzKHIpLmxlbmd0aD4wLHRoaXMuX3VwZGF0ZUJpbmRpbmdzKHtzb3VyY2VCdWZmZXJzOnQsc291cmNlVGV4dHVyZXM6cix0YXJnZXRUZXh0dXJlOmF9KSwiZWxlbWVudENvdW50ImluIGUmJnRoaXMuX3VwZGF0ZUVsZW1lbnRJREJ1ZmZlcihlLmVsZW1lbnRDb3VudCl9fSx7a2V5OiJfdXBkYXRlRWxlbWVudElEQnVmZmVyIix2YWx1ZTpmdW5jdGlvbihlKXtpZighKCJudW1iZXIiIT10eXBlb2YgZXx8dGhpcy5lbGVtZW50Q291bnQ+PWUpKXt2YXIgdD1uZXcgRmxvYXQzMkFycmF5KGUpO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSx0LG4pe25bdF09dH0pKSx0aGlzLmVsZW1lbnRJREJ1ZmZlcj90aGlzLmVsZW1lbnRJREJ1ZmZlci5zZXREYXRhKHtkYXRhOnR9KTp0aGlzLmVsZW1lbnRJREJ1ZmZlcj1uZXcgcC5hKHRoaXMuZ2wse2RhdGE6dCxhY2Nlc3Nvcjp7c2l6ZToxfX0pLHRoaXMuZWxlbWVudENvdW50PWV9fX0se2tleToiX3VwZGF0ZUJpbmRpbmdzIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XT10aGlzLl91cGRhdGVCaW5kaW5nKHRoaXMuYmluZGluZ3NbdGhpcy5jdXJyZW50SW5kZXhdLGUpLHRoaXMuX3N3YXBUZXh0dXJlKXt2YXIgdD10aGlzLl9zd2FwVGV4dHVyZXModGhpcy5iaW5kaW5nc1t0aGlzLmN1cnJlbnRJbmRleF0pLG49dC5zb3VyY2VUZXh0dXJlcyxyPXQudGFyZ2V0VGV4dHVyZSxpPXRoaXMuX2dldE5leHRJbmRleCgpO3RoaXMuYmluZGluZ3NbaV09dGhpcy5fdXBkYXRlQmluZGluZyh0aGlzLmJpbmRpbmdzW2ldLHtzb3VyY2VUZXh0dXJlczpuLHRhcmdldFRleHR1cmU6cn0pfX19LHtrZXk6Il91cGRhdGVCaW5kaW5nIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQuc291cmNlQnVmZmVycyxyPXQuc291cmNlVGV4dHVyZXMsaT10LnRhcmdldFRleHR1cmU7aWYoZXx8KGU9e3NvdXJjZUJ1ZmZlcnM6e30sc291cmNlVGV4dHVyZXM6e30sdGFyZ2V0VGV4dHVyZTpudWxsfSksT2JqZWN0LmFzc2lnbihlLnNvdXJjZVRleHR1cmVzLHIpLE9iamVjdC5hc3NpZ24oZS5zb3VyY2VCdWZmZXJzLG4pLGkpe2UudGFyZ2V0VGV4dHVyZT1pO3ZhciBhPWkud2lkdGgsbz1pLmhlaWdodCxzPWUuZnJhbWVidWZmZXI7cz8ocy51cGRhdGUoe2F0dGFjaG1lbnRzOk9iamVjdChiLmEpKHt9LDM2MDY0LGkpLHJlc2l6ZUF0dGFjaG1lbnRzOiExfSkscy5yZXNpemUoe3dpZHRoOmEsaGVpZ2h0Om99KSk6ZS5mcmFtZWJ1ZmZlcj1uZXcgeC5hKHRoaXMuZ2wse2lkOiIiLmNvbmNhdCh0aGlzLmlkfHwidHJhbnNmb3JtIiwiLWZyYW1lYnVmZmVyIiksd2lkdGg6YSxoZWlnaHQ6byxhdHRhY2htZW50czpPYmplY3QoYi5hKSh7fSwzNjA2NCxpKX0pfXJldHVybiBlfX0se2tleToiX3NldFNvdXJjZVRleHR1cmVQYXJhbWV0ZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY3VycmVudEluZGV4LHQ9dGhpcy5iaW5kaW5nc1tlXS5zb3VyY2VUZXh0dXJlcztmb3IodmFyIG4gaW4gdCl0W25dLnNldFBhcmFtZXRlcnMoQSl9fSx7a2V5OiJfc3dhcFRleHR1cmVzIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5fc3dhcFRleHR1cmUpcmV0dXJuIG51bGw7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxlLnNvdXJjZVRleHR1cmVzKTtyZXR1cm4gdFt0aGlzLl9zd2FwVGV4dHVyZV09ZS50YXJnZXRUZXh0dXJlLHtzb3VyY2VUZXh0dXJlczp0LHRhcmdldFRleHR1cmU6ZS5zb3VyY2VUZXh0dXJlc1t0aGlzLl9zd2FwVGV4dHVyZV19fX0se2tleToiX2NyZWF0ZU5ld1RleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LG49T2JqZWN0KHcuYSkoZSx7cGFyYW1ldGVyczoodD17fSxPYmplY3QoYi5hKSh0LDEwMjQxLDk3MjgpLE9iamVjdChiLmEpKHQsMTAyNDAsOTcyOCksT2JqZWN0KGIuYSkodCwxMDI0MiwzMzA3MSksT2JqZWN0KGIuYSkodCwxMDI0MywzMzA3MSksdCkscGl4ZWxTdG9yZTpPYmplY3QoYi5hKSh7fSwzNzQ0MCwhMSl9KTtyZXR1cm4gdGhpcy5vd25UZXh0dXJlJiZ0aGlzLm93blRleHR1cmUuZGVsZXRlKCksdGhpcy5vd25UZXh0dXJlPW4sbn19LHtrZXk6Il9nZXROZXh0SW5kZXgiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuY3VycmVudEluZGV4KzEpJTJ9fSx7a2V5OiJfcHJvY2Vzc1ZlcnRleFNoYWRlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD10aGlzLmJpbmRpbmdzW3RoaXMuY3VycmVudEluZGV4XSxuPXQuc291cmNlVGV4dHVyZXMscj10LnRhcmdldFRleHR1cmUsaT1UKHt2czplLnZzLHNvdXJjZVRleHR1cmVNYXA6bix0YXJnZXRUZXh0dXJlVmFyeWluZzp0aGlzLnRhcmdldFRleHR1cmVWYXJ5aW5nLHRhcmdldFRleHR1cmU6cn0pLGE9aS52cyxvPWkudW5pZm9ybXMscz1pLnRhcmdldFRleHR1cmVUeXBlLHU9aS5pbmplY3QsYz1pLnNhbXBsZXJUZXh0dXJlTWFwLGw9T2JqZWN0KFAuYikoW2UuaW5qZWN0fHx7fSx1XSk7dGhpcy50YXJnZXRUZXh0dXJlVHlwZT1zLHRoaXMuc2FtcGxlclRleHR1cmVNYXA9Yzt2YXIgZj1lLl9mc3x8aCh7dmVyc2lvbjpTKGEpLGlucHV0OnRoaXMudGFyZ2V0VGV4dHVyZVZhcnlpbmcsaW5wdXRUeXBlOnMsb3V0cHV0OiJ0cmFuc2Zvcm1fb3V0cHV0In0pLGQ9dGhpcy5oYXNTb3VyY2VUZXh0dXJlc3x8dGhpcy50YXJnZXRUZXh0dXJlVmFyeWluZz9bal0uY29uY2F0KGUubW9kdWxlc3x8W10pOmUubW9kdWxlcztyZXR1cm57dnM6YSxmczpmLG1vZHVsZXM6ZCx1bmlmb3JtczpvLGluamVjdDpsfX19XSksZX0oKSxDPW4oMTA1KSxMPW4oMTYxKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSk7dmFyIEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtPYmplY3Qoci5hKSh0aGlzLGUpLHRoaXMuZ2w9dCx0aGlzLm1vZGVsPW51bGwsdGhpcy5lbGVtZW50Q291bnQ9MCx0aGlzLmJ1ZmZlclRyYW5zZm9ybT1udWxsLHRoaXMudGV4dHVyZVRyYW5zZm9ybT1udWxsLHRoaXMuZWxlbWVudElEQnVmZmVyPW51bGwsdGhpcy5faW5pdGlhbGl6ZShuKSxPYmplY3Quc2VhbCh0aGlzKX1yZXR1cm4gT2JqZWN0KGkuYSkoZSxudWxsLFt7a2V5OiJpc1N1cHBvcnRlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdCh2LmcpKGUpfX1dKSxPYmplY3QoaS5hKShlLFt7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tb2RlbCx0PXRoaXMuYnVmZmVyVHJhbnNmb3JtLG49dGhpcy50ZXh0dXJlVHJhbnNmb3JtO2UmJmUuZGVsZXRlKCksdCYmdC5kZWxldGUoKSxuJiZuLmRlbGV0ZSgpfX0se2tleToicnVuIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuY2xlYXJSZW5kZXJUYXJnZXQsbj12b2lkIDA9PT10fHx0LHI9dGhpcy5fdXBkYXRlRHJhd09wdGlvbnMoZSk7biYmci5mcmFtZWJ1ZmZlciYmci5mcmFtZWJ1ZmZlci5jbGVhcih7Y29sb3I6ITB9KSx0aGlzLm1vZGVsLnRyYW5zZm9ybShyKX19LHtrZXk6InN3YXAiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ITEsdD1bdGhpcy5idWZmZXJUcmFuc2Zvcm0sdGhpcy50ZXh0dXJlVHJhbnNmb3JtXS5maWx0ZXIoQm9vbGVhbiksbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWU7ZT1lfHxzLnN3YXAoKX19Y2F0Y2goZSl7cj0hMCxpPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fU9iamVjdCh5LmEpKGUsIk5vdGhpbmcgdG8gc3dhcCIpfX0se2tleToiZ2V0QnVmZmVyIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3JldHVybiB0aGlzLmJ1ZmZlclRyYW5zZm9ybSYmdGhpcy5idWZmZXJUcmFuc2Zvcm0uZ2V0QnVmZmVyKGUpfX0se2tleToiZ2V0RGF0YSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1bdGhpcy5idWZmZXJUcmFuc2Zvcm0sdGhpcy50ZXh0dXJlVHJhbnNmb3JtXS5maWx0ZXIoQm9vbGVhbiksbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPWEudmFsdWUsdT1zLmdldERhdGEoZSk7aWYodSlyZXR1cm4gdX19Y2F0Y2goZSl7cj0hMCxpPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihyKXRocm93IGl9fXJldHVybiBudWxsfX0se2tleToiZ2V0RnJhbWVidWZmZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dHVyZVRyYW5zZm9ybSYmdGhpcy50ZXh0dXJlVHJhbnNmb3JtLmdldEZyYW1lYnVmZmVyKCl9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9OyJlbGVtZW50Q291bnQiaW4gZSYmdGhpcy5tb2RlbC5zZXRWZXJ0ZXhDb3VudChlLmVsZW1lbnRDb3VudCk7dmFyIHQ9W3RoaXMuYnVmZmVyVHJhbnNmb3JtLHRoaXMudGV4dHVyZVRyYW5zZm9ybV0uZmlsdGVyKEJvb2xlYW4pLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBhLG89dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShhPW8ubmV4dCgpKS5kb25lKTtuPSEwKXt2YXIgcz1hLnZhbHVlO3MudXBkYXRlKGUpfX1jYXRjaChlKXtyPSEwLGk9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19fX0se2tleToiX2luaXRpYWxpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9dGhpcy5nbDt0aGlzLl9idWlsZFJlc291cmNlVHJhbnNmb3Jtcyh0LGUpLGU9dGhpcy5fdXBkYXRlTW9kZWxQcm9wcyhlKSx0aGlzLm1vZGVsPW5ldyBMLmEodCxPYmplY3QuYXNzaWduKHt9LGUse2ZzOmUuZnN8fGgoe3ZlcnNpb246UyhlLnZzKX0pLGlkOmUuaWR8fCJ0cmFuc2Zvcm0tbW9kZWwiLGRyYXdNb2RlOmUuZHJhd01vZGV8fDAsdmVydGV4Q291bnQ6ZS5lbGVtZW50Q291bnR9KSksdGhpcy5idWZmZXJUcmFuc2Zvcm0mJnRoaXMuYnVmZmVyVHJhbnNmb3JtLnNldHVwUmVzb3VyY2VzKHttb2RlbDp0aGlzLm1vZGVsfSl9fSx7a2V5OiJfdXBkYXRlTW9kZWxQcm9wcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxlKSxuPVt0aGlzLmJ1ZmZlclRyYW5zZm9ybSx0aGlzLnRleHR1cmVUcmFuc2Zvcm1dLmZpbHRlcihCb29sZWFuKSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPW5bU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dD1vLnZhbHVlLnVwZGF0ZU1vZGVsUHJvcHModCl9fWNhdGNoKGUpe2k9ITAsYT1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PXMucmV0dXJufHxzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBhfX1yZXR1cm4gdH19LHtrZXk6Il9idWlsZFJlc291cmNlVHJhbnNmb3JtcyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChDLmEpKGUuZmVlZGJhY2tCdWZmZXJzKXx8IU9iamVjdChDLmEpKGUuZmVlZGJhY2tNYXApfHxlLnZhcnlpbmdzJiZlLnZhcnlpbmdzLmxlbmd0aD4wKXJldHVybiEwO3JldHVybiExfSkodCkmJih0aGlzLmJ1ZmZlclRyYW5zZm9ybT1uZXcgbShlLHQpKSxmdW5jdGlvbihlKXtpZighT2JqZWN0KEMuYSkoZS5fc291cmNlVGV4dHVyZXMpfHxlLl90YXJnZXRUZXh0dXJlfHxlLl90YXJnZXRUZXh0dXJlVmFyeWluZylyZXR1cm4hMDtyZXR1cm4hMX0odCkmJih0aGlzLnRleHR1cmVUcmFuc2Zvcm09bmV3IE0oZSx0KSksT2JqZWN0KHkuYSkodGhpcy5idWZmZXJUcmFuc2Zvcm18fHRoaXMudGV4dHVyZVRyYW5zZm9ybSwibXVzdCBwcm92aWRlIHNvdXJjZS9mZWVkYmFjayBidWZmZXJzIG9yIHNvdXJjZS90YXJnZXQgdGV4dHVyZXMiKX19LHtrZXk6Il91cGRhdGVEcmF3T3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxlKSxuPVt0aGlzLmJ1ZmZlclRyYW5zZm9ybSx0aGlzLnRleHR1cmVUcmFuc2Zvcm1dLmZpbHRlcihCb29sZWFuKSxyPSEwLGk9ITEsYT12b2lkIDA7dHJ5e2Zvcih2YXIgbyxzPW5bU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0obz1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIHU9by52YWx1ZTt0PU9iamVjdC5hc3NpZ24odCx1LmdldERyYXdPcHRpb25zKHQpKX19Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiB0fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAscj1NYXRoLmZyb3VuZChlKSxpPWUtcjtyZXR1cm4gdFtuXT1yLHRbbisxXT1pLHR9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS1NYXRoLmZyb3VuZChlKX1uLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIGE9e09ORToxfTt2YXIgbz17bmFtZToiZnA2NC1hcml0aG1ldGljIix2czoidW5pZm9ybSBmbG9hdCBPTkU7XG52ZWMyIHNwbGl0KGZsb2F0IGEpIHtcbiAgY29uc3QgZmxvYXQgU1BMSVQgPSA0MDk3LjA7XG4gIGZsb2F0IHQgPSBhICogU1BMSVQ7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICBmbG9hdCBhX2hpID0gdCAqIE9ORSAtICh0IC0gYSk7XG4gIGZsb2F0IGFfbG8gPSBhICogT05FIC0gYV9oaTtcbiNlbHNlXG4gIGZsb2F0IGFfaGkgPSB0IC0gKHQgLSBhKTtcbiAgZmxvYXQgYV9sbyA9IGEgLSBhX2hpO1xuI2VuZGlmXG4gIHJldHVybiB2ZWMyKGFfaGksIGFfbG8pO1xufVxudmVjMiBzcGxpdDIodmVjMiBhKSB7XG4gIHZlYzIgYiA9IHNwbGl0KGEueCk7XG4gIGIueSArPSBhLnk7XG4gIHJldHVybiBiO1xufVxudmVjMiBxdWlja1R3b1N1bShmbG9hdCBhLCBmbG9hdCBiKSB7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICBmbG9hdCBzdW0gPSAoYSArIGIpICogT05FO1xuICBmbG9hdCBlcnIgPSBiIC0gKHN1bSAtIGEpICogT05FO1xuI2Vsc2VcbiAgZmxvYXQgc3VtID0gYSArIGI7XG4gIGZsb2F0IGVyciA9IGIgLSAoc3VtIC0gYSk7XG4jZW5kaWZcbiAgcmV0dXJuIHZlYzIoc3VtLCBlcnIpO1xufVxudmVjMiB0d29TdW0oZmxvYXQgYSwgZmxvYXQgYikge1xuICBmbG9hdCBzID0gKGEgKyBiKTtcbiNpZiBkZWZpbmVkKExVTUFfRlA2NF9DT0RFX0VMSU1JTkFUSU9OX1dPUktBUk9VTkQpXG4gIGZsb2F0IHYgPSAocyAqIE9ORSAtIGEpICogT05FO1xuICBmbG9hdCBlcnIgPSAoYSAtIChzIC0gdikgKiBPTkUpICogT05FICogT05FICogT05FICsgKGIgLSB2KTtcbiNlbHNlXG4gIGZsb2F0IHYgPSBzIC0gYTtcbiAgZmxvYXQgZXJyID0gKGEgLSAocyAtIHYpKSArIChiIC0gdik7XG4jZW5kaWZcbiAgcmV0dXJuIHZlYzIocywgZXJyKTtcbn1cblxudmVjMiB0d29TdWIoZmxvYXQgYSwgZmxvYXQgYikge1xuICBmbG9hdCBzID0gKGEgLSBiKTtcbiNpZiBkZWZpbmVkKExVTUFfRlA2NF9DT0RFX0VMSU1JTkFUSU9OX1dPUktBUk9VTkQpXG4gIGZsb2F0IHYgPSAocyAqIE9ORSAtIGEpICogT05FO1xuICBmbG9hdCBlcnIgPSAoYSAtIChzIC0gdikgKiBPTkUpICogT05FICogT05FICogT05FIC0gKGIgKyB2KTtcbiNlbHNlXG4gIGZsb2F0IHYgPSBzIC0gYTtcbiAgZmxvYXQgZXJyID0gKGEgLSAocyAtIHYpKSAtIChiICsgdik7XG4jZW5kaWZcbiAgcmV0dXJuIHZlYzIocywgZXJyKTtcbn1cblxudmVjMiB0d29TcXIoZmxvYXQgYSkge1xuICBmbG9hdCBwcm9kID0gYSAqIGE7XG4gIHZlYzIgYV9mcDY0ID0gc3BsaXQoYSk7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICBmbG9hdCBlcnIgPSAoKGFfZnA2NC54ICogYV9mcDY0LnggLSBwcm9kKSAqIE9ORSArIDIuMCAqIGFfZnA2NC54ICpcbiAgICBhX2ZwNjQueSAqIE9ORSAqIE9ORSkgKyBhX2ZwNjQueSAqIGFfZnA2NC55ICogT05FICogT05FICogT05FO1xuI2Vsc2VcbiAgZmxvYXQgZXJyID0gKChhX2ZwNjQueCAqIGFfZnA2NC54IC0gcHJvZCkgKyAyLjAgKiBhX2ZwNjQueCAqIGFfZnA2NC55KSArIGFfZnA2NC55ICogYV9mcDY0Lnk7XG4jZW5kaWZcbiAgcmV0dXJuIHZlYzIocHJvZCwgZXJyKTtcbn1cblxudmVjMiB0d29Qcm9kKGZsb2F0IGEsIGZsb2F0IGIpIHtcbiAgZmxvYXQgcHJvZCA9IGEgKiBiO1xuICB2ZWMyIGFfZnA2NCA9IHNwbGl0KGEpO1xuICB2ZWMyIGJfZnA2NCA9IHNwbGl0KGIpO1xuICBmbG9hdCBlcnIgPSAoKGFfZnA2NC54ICogYl9mcDY0LnggLSBwcm9kKSArIGFfZnA2NC54ICogYl9mcDY0LnkgK1xuICAgIGFfZnA2NC55ICogYl9mcDY0LngpICsgYV9mcDY0LnkgKiBiX2ZwNjQueTtcbiAgcmV0dXJuIHZlYzIocHJvZCwgZXJyKTtcbn1cblxudmVjMiBzdW1fZnA2NCh2ZWMyIGEsIHZlYzIgYikge1xuICB2ZWMyIHMsIHQ7XG4gIHMgPSB0d29TdW0oYS54LCBiLngpO1xuICB0ID0gdHdvU3VtKGEueSwgYi55KTtcbiAgcy55ICs9IHQueDtcbiAgcyA9IHF1aWNrVHdvU3VtKHMueCwgcy55KTtcbiAgcy55ICs9IHQueTtcbiAgcyA9IHF1aWNrVHdvU3VtKHMueCwgcy55KTtcbiAgcmV0dXJuIHM7XG59XG5cbnZlYzIgc3ViX2ZwNjQodmVjMiBhLCB2ZWMyIGIpIHtcbiAgdmVjMiBzLCB0O1xuICBzID0gdHdvU3ViKGEueCwgYi54KTtcbiAgdCA9IHR3b1N1YihhLnksIGIueSk7XG4gIHMueSArPSB0Lng7XG4gIHMgPSBxdWlja1R3b1N1bShzLngsIHMueSk7XG4gIHMueSArPSB0Lnk7XG4gIHMgPSBxdWlja1R3b1N1bShzLngsIHMueSk7XG4gIHJldHVybiBzO1xufVxuXG52ZWMyIG11bF9mcDY0KHZlYzIgYSwgdmVjMiBiKSB7XG4gIHZlYzIgcHJvZCA9IHR3b1Byb2QoYS54LCBiLngpO1xuICBwcm9kLnkgKz0gYS54ICogYi55O1xuI2lmIGRlZmluZWQoTFVNQV9GUDY0X0hJR0hfQklUU19PVkVSRkxPV19XT1JLQVJPVU5EKVxuICBwcm9kID0gc3BsaXQyKHByb2QpO1xuI2VuZGlmXG4gIHByb2QgPSBxdWlja1R3b1N1bShwcm9kLngsIHByb2QueSk7XG4gIHByb2QueSArPSBhLnkgKiBiLng7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfSElHSF9CSVRTX09WRVJGTE9XX1dPUktBUk9VTkQpXG4gIHByb2QgPSBzcGxpdDIocHJvZCk7XG4jZW5kaWZcbiAgcHJvZCA9IHF1aWNrVHdvU3VtKHByb2QueCwgcHJvZC55KTtcbiAgcmV0dXJuIHByb2Q7XG59XG5cbnZlYzIgZGl2X2ZwNjQodmVjMiBhLCB2ZWMyIGIpIHtcbiAgZmxvYXQgeG4gPSAxLjAgLyBiLng7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfSElHSF9CSVRTX09WRVJGTE9XX1dPUktBUk9VTkQpXG4gIHZlYzIgeW4gPSBtdWxfZnA2NChhLCB2ZWMyKHhuLCAwKSk7XG4jZWxzZVxuICB2ZWMyIHluID0gYSAqIHhuO1xuI2VuZGlmXG4gIGZsb2F0IGRpZmYgPSAoc3ViX2ZwNjQoYSwgbXVsX2ZwNjQoYiwgeW4pKSkueDtcbiAgdmVjMiBwcm9kID0gdHdvUHJvZCh4biwgZGlmZik7XG4gIHJldHVybiBzdW1fZnA2NCh5biwgcHJvZCk7XG59XG5cbnZlYzIgc3FydF9mcDY0KHZlYzIgYSkge1xuICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSByZXR1cm4gdmVjMigwLjAsIDAuMCk7XG4gIGlmIChhLnggPCAwLjApIHJldHVybiB2ZWMyKDAuMCAvIDAuMCwgMC4wIC8gMC4wKTtcblxuICBmbG9hdCB4ID0gMS4wIC8gc3FydChhLngpO1xuICBmbG9hdCB5biA9IGEueCAqIHg7XG4jaWYgZGVmaW5lZChMVU1BX0ZQNjRfQ09ERV9FTElNSU5BVElPTl9XT1JLQVJPVU5EKVxuICB2ZWMyIHluX3NxciA9IHR3b1Nxcih5bikgKiBPTkU7XG4jZWxzZVxuICB2ZWMyIHluX3NxciA9IHR3b1Nxcih5bik7XG4jZW5kaWZcbiAgZmxvYXQgZGlmZiA9IHN1Yl9mcDY0KGEsIHluX3NxcikueDtcbiAgdmVjMiBwcm9kID0gdHdvUHJvZCh4ICogMC41LCBkaWZmKTtcbiNpZiBkZWZpbmVkKExVTUFfRlA2NF9ISUdIX0JJVFNfT1ZFUkZMT1dfV09SS0FST1VORClcbiAgcmV0dXJuIHN1bV9mcDY0KHNwbGl0KHluKSwgcHJvZCk7XG4jZWxzZVxuICByZXR1cm4gc3VtX2ZwNjQodmVjMih5biwgMC4wKSwgcHJvZCk7XG4jZW5kaWZcbn1cbiIsZnM6bnVsbCxnZXRVbmlmb3JtczpmdW5jdGlvbigpe3JldHVybiBhfSxmcDY0aWZ5OnIsZnA2NExvd1BhcnQ6aX07dC5hPXtuYW1lOiJmcDY0Iix2czoiY29uc3QgdmVjMiBFX0ZQNjQgPSB2ZWMyKDIuNzE4MjgxNzQ1OTEwNjQ0NWUrMDAsIDguMjU0ODQwMzY2ODE3MDA3ZS0wOCk7XG5jb25zdCB2ZWMyIExPRzJfRlA2NCA9IHZlYzIoMC42OTMxNDcxODI0NjQ1OTk2ZSswMCwgLTEuOTA0NjU0MjEyMTI1OTMzNmUtMDkpO1xuY29uc3QgdmVjMiBQSV9GUDY0ID0gdmVjMigzLjE0MTU5Mjc0MTAxMjU3MzIsIC04Ljc0MjI3ODAxMjYxODk1NGUtOCk7XG5jb25zdCB2ZWMyIFRXT19QSV9GUDY0ID0gdmVjMig2LjI4MzE4NTQ4MjAyNTE0NjUsIC0xLjc0ODQ1NTYwMjUyMzc5MDdlLTcpO1xuY29uc3QgdmVjMiBQSV8yX0ZQNjQgPSB2ZWMyKDEuNTcwNzk2MzcwNTA2Mjg2NiwgLTQuMzcxMTM5MDA2MzA5NDc3ZS04KTtcbmNvbnN0IHZlYzIgUElfNF9GUDY0ID0gdmVjMigwLjc4NTM5ODE4NTI1MzE0MzMsIC0yLjE4NTU2OTUwMzE1NDczODRlLTgpO1xuY29uc3QgdmVjMiBQSV8xNl9GUDY0ID0gdmVjMigwLjE5NjM0OTU0NjMxMzI4NTgzLCAtNS40NjM5MjM3NTc4ODY4NDZlLTkpO1xuY29uc3QgdmVjMiBQSV8xNl8yX0ZQNjQgPSB2ZWMyKDAuMzkyNjk5MDkyNjI2NTcxNjYsIC0xLjA5Mjc4NDc1MTU3NzM2OTJlLTgpO1xuY29uc3QgdmVjMiBQSV8xNl8zX0ZQNjQgPSB2ZWMyKDAuNTg5MDQ4NjI0MDM4Njk2MywgLTEuNDkwNjEwMDc5ODEyODgxOGUtOSk7XG5jb25zdCB2ZWMyIFBJXzE4MF9GUDY0ID0gdmVjMigwLjAxNzQ1MzI5MjM4NDc0MzY5LCAxLjM1MTk5NjA0OTgzNjQ5MDJlLTEwKTtcblxuY29uc3QgdmVjMiBTSU5fVEFCTEVfMF9GUDY0ID0gdmVjMigwLjE5NTA5MDMyMzY4NjU5OTczLCAtMS42NzA0NzE0ODMzNjE1MjQyZS05KTtcbmNvbnN0IHZlYzIgU0lOX1RBQkxFXzFfRlA2NCA9IHZlYzIoMC4zODI2ODM0MjYxNDE3Mzg5LCA2LjIyMzM1MDg5MDE3NzY3ZS05KTtcbmNvbnN0IHZlYzIgU0lOX1RBQkxFXzJfRlA2NCA9IHZlYzIoMC41NTU1NzAyNDQ3ODkxMjM1LCAtMS4xNzY5NTIxMzU3NTA3NTI5ZS04KTtcbmNvbnN0IHZlYzIgU0lOX1RBQkxFXzNfRlA2NCA9IHZlYzIoMC43MDcxMDY3NjkwODQ5MzA0LCAxLjIxMDE2MTcwNDE3OTMxMzNlLTgpO1xuXG5jb25zdCB2ZWMyIENPU19UQUJMRV8wX0ZQNjQgPSB2ZWMyKDAuOTgwNzg1MjUwNjYzNzU3MywgMi45NzM5NDczMTA2MzYwNDkyZS04KTtcbmNvbnN0IHZlYzIgQ09TX1RBQkxFXzFfRlA2NCA9IHZlYzIoMC45MjM4Nzk1MDQyMDM3OTY0LCAyLjgzMDc0OTAzNTE3NjQzODZlLTgpO1xuY29uc3QgdmVjMiBDT1NfVEFCTEVfMl9GUDY0ID0gdmVjMigwLjgzMTQ2OTU5NTQzMjI4MTUsIDEuNjg3MDI2Mzc0MTUzMDc3OGUtOCk7XG5jb25zdCB2ZWMyIENPU19UQUJMRV8zX0ZQNjQgPSB2ZWMyKDAuNzA3MTA2NzY5MDg0OTMwNCwgMS4yMTAxNjE3MTUyODE1NDM2ZS04KTtcblxuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF8zX0ZQNjQgPSB2ZWMyKDEuNjY2NjY2NzE2MzM3MjA0ZS0wMSwgLTQuOTY3MDUzODc5MzEyMjg5ZS0wOSk7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzRfRlA2NCA9IHZlYzIoNC4xNjY2NjY3OTA4NDMwMWUtMDIsIC0xLjI0MTc2MzQ2OTgyODA3MjJlLTA5KTtcbmNvbnN0IHZlYzIgSU5WRVJTRV9GQUNUT1JJQUxfNV9GUDY0ID0gdmVjMig4LjMzMzMzMzc2Nzk1MDUzNWUtMDMsIC00LjM0NjE3MjAzMzM3NTk1ZS0xMCk7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzZfRlA2NCA9IHZlYzIoMS4zODg4ODg5MjI1MTk5ODE5ZS0wMywgLTMuMzYzMTA5NDQzNzEwMzIxNWUtMTEpO1xuY29uc3QgdmVjMiBJTlZFUlNFX0ZBQ1RPUklBTF83X0ZQNjQgPSB2ZWMyKDEuOTg0MTI3MDExMzgyOTUyM2UtMDQsICAtMi43MjU1OTY4NzQ5MzM0NTZlLTEyKTtcbmNvbnN0IHZlYzIgSU5WRVJTRV9GQUNUT1JJQUxfOF9GUDY0ID0gdmVjMigyLjQ4MDE1ODc2NDIyODY5MDRlLTA1LCAtMy40MDY5OTYwMjU5MDQxODRlLTEzKTtcbmNvbnN0IHZlYzIgSU5WRVJTRV9GQUNUT1JJQUxfOV9GUDY0ID0gdmVjMigyLjc1NTczMTg4NDQ2Mjg3NTMzZS0wNiwgMy43OTM1NzEzOTM3MDM4MTg2ZS0xNCk7XG5jb25zdCB2ZWMyIElOVkVSU0VfRkFDVE9SSUFMXzEwX0ZQNjQgPSB2ZWMyKDIuNzU1NzMxOTk4MTQ5NzEzZS0wNywgLTcuNTc1MTEyMzY3ODY5ODczZS0xNSk7XG5cbmZsb2F0IG5pbnQoZmxvYXQgZCkge1xuICAgIGlmIChkID09IGZsb29yKGQpKSByZXR1cm4gZDtcbiAgICByZXR1cm4gZmxvb3IoZCArIDAuNSk7XG59XG5cbnZlYzIgbmludF9mcDY0KHZlYzIgYSkge1xuICAgIGZsb2F0IGhpID0gbmludChhLngpO1xuICAgIGZsb2F0IGxvO1xuICAgIHZlYzIgdG1wO1xuICAgIGlmIChoaSA9PSBhLngpIHtcbiAgICAgICAgbG8gPSBuaW50KGEueSk7XG4gICAgICAgIHRtcCA9IHF1aWNrVHdvU3VtKGhpLCBsbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG8gPSAwLjA7XG4gICAgICAgIGlmIChhYnMoaGkgLSBhLngpID09IDAuNSAmJiBhLnkgPCAwLjApIHtcbiAgICAgICAgICAgIGhpIC09IDEuMDtcbiAgICAgICAgfVxuICAgICAgICB0bXAgPSB2ZWMyKGhpLCBsbyk7XG4gICAgfVxuICAgIHJldHVybiB0bXA7XG59XG5cbnZlYzIgZXhwX2ZwNjQodmVjMiBhKSB7XG5cbiAgY29uc3QgaW50IGtfcG93ZXIgPSA0O1xuICBjb25zdCBmbG9hdCBrID0gMTYuMDtcblxuICBjb25zdCBmbG9hdCBpbnZfayA9IDEuMCAvIGs7XG5cbiAgaWYgKGEueCA8PSAtODguMCkgcmV0dXJuIHZlYzIoMC4wLCAwLjApO1xuICBpZiAoYS54ID49IDg4LjApIHJldHVybiB2ZWMyKDEuMCAvIDAuMCwgMS4wIC8gMC4wKTtcbiAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkgcmV0dXJuIHZlYzIoMS4wLCAwLjApO1xuICBpZiAoYS54ID09IDEuMCAmJiBhLnkgPT0gMC4wKSByZXR1cm4gRV9GUDY0O1xuXG4gIGZsb2F0IG0gPSBmbG9vcihhLnggLyBMT0cyX0ZQNjQueCArIDAuNSk7XG4gIHZlYzIgciA9IHN1Yl9mcDY0KGEsIG11bF9mcDY0KExPRzJfRlA2NCwgdmVjMihtLCAwLjApKSkgKiBpbnZfaztcbiAgdmVjMiBzLCB0LCBwO1xuXG4gIHAgPSBtdWxfZnA2NChyLCByKTtcbiAgcyA9IHN1bV9mcDY0KHIsIHAgKiAwLjUpO1xuICBwID0gbXVsX2ZwNjQocCwgcik7XG4gIHQgPSBtdWxfZnA2NChwLCBJTlZFUlNFX0ZBQ1RPUklBTF8zX0ZQNjQpO1xuXG4gIHMgPSBzdW1fZnA2NChzLCB0KTtcbiAgcCA9IG11bF9mcDY0KHAsIHIpO1xuICB0ID0gbXVsX2ZwNjQocCwgSU5WRVJTRV9GQUNUT1JJQUxfNF9GUDY0KTtcblxuICBzID0gc3VtX2ZwNjQocywgdCk7XG4gIHAgPSBtdWxfZnA2NChwLCByKTtcbiAgdCA9IG11bF9mcDY0KHAsIElOVkVSU0VfRkFDVE9SSUFMXzVfRlA2NCk7XG5cblxuXG5cblxuXG4gIHMgPSBzdW1fZnA2NChzLCB0KTtcbiAgZm9yIChpbnQgaSA9IDA7IGkgPCBrX3Bvd2VyOyBpKyspIHtcbiAgICBzID0gc3VtX2ZwNjQocyAqIDIuMCwgbXVsX2ZwNjQocywgcykpO1xuICB9XG5cbiNpZiBkZWZpbmVkKE5WSURJQV9GUDY0X1dPUktBUk9VTkQpIHx8IGRlZmluZWQoSU5URUxfRlA2NF9XT1JLQVJPVU5EKVxuICBzID0gc3VtX2ZwNjQocywgdmVjMihPTkUsIDAuMCkpO1xuI2Vsc2VcbiAgcyA9IHN1bV9mcDY0KHMsIHZlYzIoMS4wLCAwLjApKTtcbiNlbmRpZlxuXG4gIHJldHVybiBzICogcG93KDIuMCwgbSk7XG59XG5cbnZlYzIgbG9nX2ZwNjQodmVjMiBhKVxue1xuICBpZiAoYS54ID09IDEuMCAmJiBhLnkgPT0gMC4wKSByZXR1cm4gdmVjMigwLjAsIDAuMCk7XG4gIGlmIChhLnggPD0gMC4wKSByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG4gIHZlYzIgeCA9IHZlYzIobG9nKGEueCksIDAuMCk7XG4gIHZlYzIgcztcbiNpZiBkZWZpbmVkKE5WSURJQV9GUDY0X1dPUktBUk9VTkQpIHx8IGRlZmluZWQoSU5URUxfRlA2NF9XT1JLQVJPVU5EKVxuICBzID0gdmVjMihPTkUsIDAuMCk7XG4jZWxzZVxuICBzID0gdmVjMigxLjAsIDAuMCk7XG4jZW5kaWZcblxuICB4ID0gc3ViX2ZwNjQoc3VtX2ZwNjQoeCwgbXVsX2ZwNjQoYSwgZXhwX2ZwNjQoLXgpKSksIHMpO1xuICByZXR1cm4geDtcbn1cblxudmVjMiBzaW5fdGF5bG9yX2ZwNjQodmVjMiBhKSB7XG4gIHZlYzIgciwgcywgdCwgeDtcblxuICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSB7XG4gICAgcmV0dXJuIHZlYzIoMC4wLCAwLjApO1xuICB9XG5cbiAgeCA9IC1tdWxfZnA2NChhLCBhKTtcbiAgcyA9IGE7XG4gIHIgPSBhO1xuXG4gIHIgPSBtdWxfZnA2NChyLCB4KTtcbiAgdCA9IG11bF9mcDY0KHIsIElOVkVSU0VfRkFDVE9SSUFMXzNfRlA2NCk7XG4gIHMgPSBzdW1fZnA2NChzLCB0KTtcblxuICByID0gbXVsX2ZwNjQociwgeCk7XG4gIHQgPSBtdWxfZnA2NChyLCBJTlZFUlNFX0ZBQ1RPUklBTF81X0ZQNjQpO1xuICBzID0gc3VtX2ZwNjQocywgdCk7XG5cblxuXG5cblxuXG4gIHJldHVybiBzO1xufVxuXG52ZWMyIGNvc190YXlsb3JfZnA2NCh2ZWMyIGEpIHtcbiAgdmVjMiByLCBzLCB0LCB4O1xuXG4gIGlmIChhLnggPT0gMC4wICYmIGEueSA9PSAwLjApIHtcbiAgICByZXR1cm4gdmVjMigxLjAsIDAuMCk7XG4gIH1cblxuICB4ID0gLW11bF9mcDY0KGEsIGEpO1xuICByID0geDtcbiAgcyA9IHN1bV9mcDY0KHZlYzIoMS4wLCAwLjApLCByICogMC41KTtcblxuICByID0gbXVsX2ZwNjQociwgeCk7XG4gIHQgPSBtdWxfZnA2NChyLCBJTlZFUlNFX0ZBQ1RPUklBTF80X0ZQNjQpO1xuICBzID0gc3VtX2ZwNjQocywgdCk7XG5cbiAgciA9IG11bF9mcDY0KHIsIHgpO1xuICB0ID0gbXVsX2ZwNjQociwgSU5WRVJTRV9GQUNUT1JJQUxfNl9GUDY0KTtcbiAgcyA9IHN1bV9mcDY0KHMsIHQpO1xuXG5cblxuXG5cblxuICByZXR1cm4gcztcbn1cblxudm9pZCBzaW5jb3NfdGF5bG9yX2ZwNjQodmVjMiBhLCBvdXQgdmVjMiBzaW5fdCwgb3V0IHZlYzIgY29zX3QpIHtcbiAgaWYgKGEueCA9PSAwLjAgJiYgYS55ID09IDAuMCkge1xuICAgIHNpbl90ID0gdmVjMigwLjAsIDAuMCk7XG4gICAgY29zX3QgPSB2ZWMyKDEuMCwgMC4wKTtcbiAgfVxuXG4gIHNpbl90ID0gc2luX3RheWxvcl9mcDY0KGEpO1xuICBjb3NfdCA9IHNxcnRfZnA2NChzdWJfZnA2NCh2ZWMyKDEuMCwgMC4wKSwgbXVsX2ZwNjQoc2luX3QsIHNpbl90KSkpO1xufVxuXG52ZWMyIHNpbl9mcDY0KHZlYzIgYSkge1xuICAgIGlmIChhLnggPT0gMC4wICYmIGEueSA9PSAwLjApIHtcbiAgICAgICAgcmV0dXJuIHZlYzIoMC4wLCAwLjApO1xuICAgIH1cbiAgICB2ZWMyIHogPSBuaW50X2ZwNjQoZGl2X2ZwNjQoYSwgVFdPX1BJX0ZQNjQpKTtcbiAgICB2ZWMyIHIgPSBzdWJfZnA2NChhLCBtdWxfZnA2NChUV09fUElfRlA2NCwgeikpO1xuXG4gICAgdmVjMiB0O1xuICAgIGZsb2F0IHEgPSBmbG9vcihyLnggLyBQSV8yX0ZQNjQueCArIDAuNSk7XG4gICAgaW50IGogPSBpbnQocSk7XG5cbiAgICBpZiAoaiA8IC0yIHx8IGogPiAyKSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCAvIDAuMCwgMC4wIC8gMC4wKTtcbiAgICB9XG5cbiAgICB0ID0gc3ViX2ZwNjQociwgbXVsX2ZwNjQoUElfMl9GUDY0LCB2ZWMyKHEsIDAuMCkpKTtcblxuICAgIHEgPSBmbG9vcih0LnggLyBQSV8xNl9GUDY0LnggKyAwLjUpO1xuICAgIGludCBrID0gaW50KHEpO1xuXG4gICAgaWYgKGsgPT0gMCkge1xuICAgICAgICBpZiAoaiA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc2luX3RheWxvcl9mcDY0KHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvc190YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gLWNvc190YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtc2luX3RheWxvcl9mcDY0KHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW50IGFic19rID0gaW50KGFicyhmbG9hdChrKSkpO1xuXG4gICAgaWYgKGFic19rID4gNCkge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdCA9IHN1Yl9mcDY0KHQsIG11bF9mcDY0KFBJXzE2X0ZQNjQsIHZlYzIocSwgMC4wKSkpO1xuICAgIH1cblxuICAgIHZlYzIgdSA9IHZlYzIoMC4wLCAwLjApO1xuICAgIHZlYzIgdiA9IHZlYzIoMC4wLCAwLjApO1xuXG4jaWYgZGVmaW5lZChOVklESUFfRlA2NF9XT1JLQVJPVU5EKSB8fCBkZWZpbmVkKElOVEVMX0ZQNjRfV09SS0FST1VORClcbiAgICBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDEuMCkgPCAwLjUpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8wX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMF9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDIuMCkgPCAwLjUpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMV9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDMuMCkgPCAwLjUpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8yX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMl9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzKGZsb2F0KGFic19rKSAtIDQuMCkgPCAwLjUpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8zX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfM19GUDY0O1xuICAgIH1cbiNlbHNlXG4gICAgaWYgKGFic19rID09IDEpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8wX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMF9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gMikge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzFfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8xX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnNfayA9PSAzKSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMl9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzJfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFic19rID09IDQpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8zX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfM19GUDY0O1xuICAgIH1cbiNlbmRpZlxuXG4gICAgdmVjMiBzaW5fdCwgY29zX3Q7XG4gICAgc2luY29zX3RheWxvcl9mcDY0KHQsIHNpbl90LCBjb3NfdCk7XG5cblxuXG4gICAgdmVjMiByZXN1bHQgPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICBpZiAoaiA9PSAwKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChqID09IDEpIHtcbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzdWJfZnA2NChtdWxfZnA2NCh1LCBjb3NfdCksIG11bF9mcDY0KHYsIHNpbl90KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzdW1fZnA2NChtdWxfZnA2NCh1LCBjb3NfdCksIG11bF9mcDY0KHYsIHNpbl90KSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGogPT0gLTEpIHtcbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzdWJfZnA2NChtdWxfZnA2NCh2LCBzaW5fdCksIG11bF9mcDY0KHUsIGNvc190KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSAtc3VtX2ZwNjQobXVsX2ZwNjQodiwgc2luX3QpLCBtdWxfZnA2NCh1LCBjb3NfdCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSAtc3VtX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodiwgY29zX3QpLCBtdWxfZnA2NCh1LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmVjMiBjb3NfZnA2NCh2ZWMyIGEpIHtcbiAgICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDEuMCwgMC4wKTtcbiAgICB9XG4gICAgdmVjMiB6ID0gbmludF9mcDY0KGRpdl9mcDY0KGEsIFRXT19QSV9GUDY0KSk7XG4gICAgdmVjMiByID0gc3ViX2ZwNjQoYSwgbXVsX2ZwNjQoVFdPX1BJX0ZQNjQsIHopKTtcblxuICAgIHZlYzIgdDtcbiAgICBmbG9hdCBxID0gZmxvb3Ioci54IC8gUElfMl9GUDY0LnggKyAwLjUpO1xuICAgIGludCBqID0gaW50KHEpO1xuXG4gICAgaWYgKGogPCAtMiB8fCBqID4gMikge1xuICAgICAgICByZXR1cm4gdmVjMigwLjAgLyAwLjAsIDAuMCAvIDAuMCk7XG4gICAgfVxuXG4gICAgdCA9IHN1Yl9mcDY0KHIsIG11bF9mcDY0KFBJXzJfRlA2NCwgdmVjMihxLCAwLjApKSk7XG5cbiAgICBxID0gZmxvb3IodC54IC8gUElfMTZfRlA2NC54ICsgMC41KTtcbiAgICBpbnQgayA9IGludChxKTtcblxuICAgIGlmIChrID09IDApIHtcbiAgICAgICAgaWYgKGogPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvc190YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChqID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAtc2luX3RheWxvcl9mcDY0KHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBzaW5fdGF5bG9yX2ZwNjQodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLWNvc190YXlsb3JfZnA2NCh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludCBhYnNfayA9IGludChhYnMoZmxvYXQoaykpKTtcblxuICAgIGlmIChhYnNfayA+IDQpIHtcbiAgICAgICAgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSBzdWJfZnA2NCh0LCBtdWxfZnA2NChQSV8xNl9GUDY0LCB2ZWMyKHEsIDAuMCkpKTtcbiAgICB9XG5cbiAgICB2ZWMyIHUgPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICB2ZWMyIHYgPSB2ZWMyKDAuMCwgMC4wKTtcblxuI2lmIGRlZmluZWQoTlZJRElBX0ZQNjRfV09SS0FST1VORCkgfHwgZGVmaW5lZChJTlRFTF9GUDY0X1dPUktBUk9VTkQpXG4gICAgaWYgKGFicyhmbG9hdChhYnNfaykgLSAxLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzBfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSAyLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMV9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzFfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSAzLjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMl9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzJfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFicyhmbG9hdChhYnNfaykgLSA0LjApIDwgMC41KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzNfRlA2NDtcbiAgICB9XG4jZWxzZVxuICAgIGlmIChhYnNfayA9PSAxKSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzBfRlA2NDtcbiAgICB9IGVsc2UgaWYgKGFic19rID09IDIpIHtcbiAgICAgICAgdSA9IENPU19UQUJMRV8xX0ZQNjQ7XG4gICAgICAgIHYgPSBTSU5fVEFCTEVfMV9GUDY0O1xuICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gMykge1xuICAgICAgICB1ID0gQ09TX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgdiA9IFNJTl9UQUJMRV8yX0ZQNjQ7XG4gICAgfSBlbHNlIGlmIChhYnNfayA9PSA0KSB7XG4gICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICB2ID0gU0lOX1RBQkxFXzNfRlA2NDtcbiAgICB9XG4jZW5kaWZcblxuICAgIHZlYzIgc2luX3QsIGNvc190O1xuICAgIHNpbmNvc190YXlsb3JfZnA2NCh0LCBzaW5fdCwgY29zX3QpO1xuXG4gICAgdmVjMiByZXN1bHQgPSB2ZWMyKDAuMCwgMC4wKTtcbiAgICBpZiAoaiA9PSAwKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChqID09IDEpIHtcbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSAtc3VtX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodiwgY29zX3QpLCBtdWxfZnA2NCh1LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChqID09IC0xKSB7XG4gICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3VtX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3ViX2ZwNjQobXVsX2ZwNjQodSwgc2luX3QpLCBtdWxfZnA2NCh2LCBjb3NfdCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGsgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzdWJfZnA2NChtdWxfZnA2NCh2LCBzaW5fdCksIG11bF9mcDY0KHUsIGNvc190KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSAtc3VtX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmVjMiB0YW5fZnA2NCh2ZWMyIGEpIHtcbiAgICB2ZWMyIHNpbl9hO1xuICAgIHZlYzIgY29zX2E7XG5cbiAgICBpZiAoYS54ID09IDAuMCAmJiBhLnkgPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCwgMC4wKTtcbiAgICB9XG4gICAgdmVjMiB6ID0gbmludF9mcDY0KGRpdl9mcDY0KGEsIFRXT19QSV9GUDY0KSk7XG4gICAgdmVjMiByID0gc3ViX2ZwNjQoYSwgbXVsX2ZwNjQoVFdPX1BJX0ZQNjQsIHopKTtcblxuICAgIHZlYzIgdDtcbiAgICBmbG9hdCBxID0gZmxvb3Ioci54IC8gUElfMl9GUDY0LnggKyAwLjUpO1xuICAgIGludCBqID0gaW50KHEpO1xuXG5cbiAgICBpZiAoaiA8IC0yIHx8IGogPiAyKSB7XG4gICAgICAgIHJldHVybiB2ZWMyKDAuMCAvIDAuMCwgMC4wIC8gMC4wKTtcbiAgICB9XG5cbiAgICB0ID0gc3ViX2ZwNjQociwgbXVsX2ZwNjQoUElfMl9GUDY0LCB2ZWMyKHEsIDAuMCkpKTtcblxuICAgIHEgPSBmbG9vcih0LnggLyBQSV8xNl9GUDY0LnggKyAwLjUpO1xuICAgIGludCBrID0gaW50KHEpO1xuICAgIGludCBhYnNfayA9IGludChhYnMoZmxvYXQoaykpKTtcblxuICAgIGlmIChhYnNfayA+IDQpIHtcbiAgICAgICAgcmV0dXJuIHZlYzIoMC4wIC8gMC4wLCAwLjAgLyAwLjApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSBzdWJfZnA2NCh0LCBtdWxfZnA2NChQSV8xNl9GUDY0LCB2ZWMyKHEsIDAuMCkpKTtcbiAgICB9XG5cblxuICAgIHZlYzIgdSA9IHZlYzIoMC4wLCAwLjApO1xuICAgIHZlYzIgdiA9IHZlYzIoMC4wLCAwLjApO1xuXG4gICAgdmVjMiBzaW5fdCwgY29zX3Q7XG4gICAgdmVjMiBzLCBjO1xuICAgIHNpbmNvc190YXlsb3JfZnA2NCh0LCBzaW5fdCwgY29zX3QpO1xuXG4gICAgaWYgKGsgPT0gMCkge1xuICAgICAgICBzID0gc2luX3Q7XG4gICAgICAgIGMgPSBjb3NfdDtcbiAgICB9IGVsc2Uge1xuI2lmIGRlZmluZWQoTlZJRElBX0ZQNjRfV09SS0FST1VORCkgfHwgZGVmaW5lZChJTlRFTF9GUDY0X1dPUktBUk9VTkQpXG4gICAgICAgIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMS4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8wX0ZQNjQ7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzBfRlA2NDtcbiAgICAgICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMi4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8xX0ZQNjQ7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzFfRlA2NDtcbiAgICAgICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gMy4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8yX0ZQNjQ7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgfSBlbHNlIGlmIChhYnMoZmxvYXQoYWJzX2spIC0gNC4wKSA8IDAuNSkge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8zX0ZQNjQ7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzNfRlA2NDtcbiAgICAgICAgfVxuI2Vsc2VcbiAgICAgICAgaWYgKGFic19rID09IDEpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfMF9GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8wX0ZQNjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoYWJzX2sgPT0gMikge1xuICAgICAgICAgICAgdSA9IENPU19UQUJMRV8xX0ZQNjQ7XG4gICAgICAgICAgICB2ID0gU0lOX1RBQkxFXzFfRlA2NDtcbiAgICAgICAgfSBlbHNlIGlmIChhYnNfayA9PSAzKSB7XG4gICAgICAgICAgICB1ID0gQ09TX1RBQkxFXzJfRlA2NDtcbiAgICAgICAgICAgIHYgPSBTSU5fVEFCTEVfMl9GUDY0O1xuICAgICAgICB9IGVsc2UgaWYgKGFic19rID09IDQpIHtcbiAgICAgICAgICAgIHUgPSBDT1NfVEFCTEVfM19GUDY0O1xuICAgICAgICAgICAgdiA9IFNJTl9UQUJMRV8zX0ZQNjQ7XG4gICAgICAgIH1cbiNlbmRpZlxuICAgICAgICBpZiAoayA+IDApIHtcbiAgICAgICAgICAgIHMgPSBzdW1fZnA2NChtdWxfZnA2NCh1LCBzaW5fdCksIG11bF9mcDY0KHYsIGNvc190KSk7XG4gICAgICAgICAgICBjID0gc3ViX2ZwNjQobXVsX2ZwNjQodSwgY29zX3QpLCBtdWxfZnA2NCh2LCBzaW5fdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9IHN1Yl9mcDY0KG11bF9mcDY0KHUsIHNpbl90KSwgbXVsX2ZwNjQodiwgY29zX3QpKTtcbiAgICAgICAgICAgIGMgPSBzdW1fZnA2NChtdWxfZnA2NCh1LCBjb3NfdCksIG11bF9mcDY0KHYsIHNpbl90KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaiA9PSAwKSB7XG4gICAgICAgIHNpbl9hID0gcztcbiAgICAgICAgY29zX2EgPSBjO1xuICAgIH0gZWxzZSBpZiAoaiA9PSAxKSB7XG4gICAgICAgIHNpbl9hID0gYztcbiAgICAgICAgY29zX2EgPSAtcztcbiAgICB9IGVsc2UgaWYgKGogPT0gLTEpIHtcbiAgICAgICAgc2luX2EgPSAtYztcbiAgICAgICAgY29zX2EgPSBzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNpbl9hID0gLXM7XG4gICAgICAgIGNvc19hID0gLWM7XG4gICAgfVxuICAgIHJldHVybiBkaXZfZnA2NChzaW5fYSwgY29zX2EpO1xufVxuXG52ZWMyIHJhZGlhbnNfZnA2NCh2ZWMyIGRlZ3JlZSkge1xuICByZXR1cm4gbXVsX2ZwNjQoZGVncmVlLCBQSV8xODBfRlA2NCk7XG59XG5cbnZlYzIgbWl4X2ZwNjQodmVjMiBhLCB2ZWMyIGIsIGZsb2F0IHgpIHtcbiAgdmVjMiByYW5nZSA9IHN1Yl9mcDY0KGIsIGEpO1xuICByZXR1cm4gc3VtX2ZwNjQoYSwgbXVsX2ZwNjQocmFuZ2UsIHZlYzIoeCwgMC4wKSkpO1xufVxuXG52b2lkIHZlYzJfc3VtX2ZwNjQodmVjMiBhWzJdLCB2ZWMyIGJbMl0sIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcbiAgICBvdXRfdmFsWzBdID0gc3VtX2ZwNjQoYVswXSwgYlswXSk7XG4gICAgb3V0X3ZhbFsxXSA9IHN1bV9mcDY0KGFbMV0sIGJbMV0pO1xufVxuXG52b2lkIHZlYzJfc3ViX2ZwNjQodmVjMiBhWzJdLCB2ZWMyIGJbMl0sIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcbiAgICBvdXRfdmFsWzBdID0gc3ViX2ZwNjQoYVswXSwgYlswXSk7XG4gICAgb3V0X3ZhbFsxXSA9IHN1Yl9mcDY0KGFbMV0sIGJbMV0pO1xufVxuXG52b2lkIHZlYzJfbXVsX2ZwNjQodmVjMiBhWzJdLCB2ZWMyIGJbMl0sIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcbiAgICBvdXRfdmFsWzBdID0gbXVsX2ZwNjQoYVswXSwgYlswXSk7XG4gICAgb3V0X3ZhbFsxXSA9IG11bF9mcDY0KGFbMV0sIGJbMV0pO1xufVxuXG52b2lkIHZlYzJfZGl2X2ZwNjQodmVjMiBhWzJdLCB2ZWMyIGJbMl0sIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcbiAgICBvdXRfdmFsWzBdID0gZGl2X2ZwNjQoYVswXSwgYlswXSk7XG4gICAgb3V0X3ZhbFsxXSA9IGRpdl9mcDY0KGFbMV0sIGJbMV0pO1xufVxuXG52b2lkIHZlYzJfbWl4X2ZwNjQodmVjMiB4WzJdLCB2ZWMyIHlbMl0sIGZsb2F0IGEsIG91dCB2ZWMyIG91dF92YWxbMl0pIHtcbiAgdmVjMiByYW5nZVsyXTtcbiAgdmVjMl9zdWJfZnA2NCh5LCB4LCByYW5nZSk7XG4gIHZlYzIgcG9ydGlvblsyXTtcbiAgcG9ydGlvblswXSA9IHJhbmdlWzBdICogYTtcbiAgcG9ydGlvblsxXSA9IHJhbmdlWzFdICogYTtcbiAgdmVjMl9zdW1fZnA2NCh4LCBwb3J0aW9uLCBvdXRfdmFsKTtcbn1cblxudmVjMiB2ZWMyX2xlbmd0aF9mcDY0KHZlYzIgeFsyXSkge1xuICByZXR1cm4gc3FydF9mcDY0KHN1bV9mcDY0KG11bF9mcDY0KHhbMF0sIHhbMF0pLCBtdWxfZnA2NCh4WzFdLCB4WzFdKSkpO1xufVxuXG52b2lkIHZlYzJfbm9ybWFsaXplX2ZwNjQodmVjMiB4WzJdLCBvdXQgdmVjMiBvdXRfdmFsWzJdKSB7XG4gIHZlYzIgbGVuZ3RoID0gdmVjMl9sZW5ndGhfZnA2NCh4KTtcbiAgdmVjMiBsZW5ndGhfdmVjMlsyXTtcbiAgbGVuZ3RoX3ZlYzJbMF0gPSBsZW5ndGg7XG4gIGxlbmd0aF92ZWMyWzFdID0gbGVuZ3RoO1xuXG4gIHZlYzJfZGl2X2ZwNjQoeCwgbGVuZ3RoX3ZlYzIsIG91dF92YWwpO1xufVxuXG52ZWMyIHZlYzJfZGlzdGFuY2VfZnA2NCh2ZWMyIHhbMl0sIHZlYzIgeVsyXSkge1xuICB2ZWMyIGRpZmZbMl07XG4gIHZlYzJfc3ViX2ZwNjQoeCwgeSwgZGlmZik7XG4gIHJldHVybiB2ZWMyX2xlbmd0aF9mcDY0KGRpZmYpO1xufVxuXG52ZWMyIHZlYzJfZG90X2ZwNjQodmVjMiBhWzJdLCB2ZWMyIGJbMl0pIHtcbiAgdmVjMiB2WzJdO1xuXG4gIHZbMF0gPSBtdWxfZnA2NChhWzBdLCBiWzBdKTtcbiAgdlsxXSA9IG11bF9mcDY0KGFbMV0sIGJbMV0pO1xuXG4gIHJldHVybiBzdW1fZnA2NCh2WzBdLCB2WzFdKTtcbn1cbnZvaWQgdmVjM19zdWJfZnA2NCh2ZWMyIGFbM10sIHZlYzIgYlszXSwgb3V0IHZlYzIgb3V0X3ZhbFszXSkge1xuICBmb3IgKGludCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIG91dF92YWxbaV0gPSBzdW1fZnA2NChhW2ldLCBiW2ldKTtcbiAgfVxufVxuXG52b2lkIHZlYzNfc3VtX2ZwNjQodmVjMiBhWzNdLCB2ZWMyIGJbM10sIG91dCB2ZWMyIG91dF92YWxbM10pIHtcbiAgZm9yIChpbnQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBvdXRfdmFsW2ldID0gc3VtX2ZwNjQoYVtpXSwgYltpXSk7XG4gIH1cbn1cblxudmVjMiB2ZWMzX2xlbmd0aF9mcDY0KHZlYzIgeFszXSkge1xuICByZXR1cm4gc3FydF9mcDY0KHN1bV9mcDY0KHN1bV9mcDY0KG11bF9mcDY0KHhbMF0sIHhbMF0pLCBtdWxfZnA2NCh4WzFdLCB4WzFdKSksXG4gICAgbXVsX2ZwNjQoeFsyXSwgeFsyXSkpKTtcbn1cblxudmVjMiB2ZWMzX2Rpc3RhbmNlX2ZwNjQodmVjMiB4WzNdLCB2ZWMyIHlbM10pIHtcbiAgdmVjMiBkaWZmWzNdO1xuICB2ZWMzX3N1Yl9mcDY0KHgsIHksIGRpZmYpO1xuICByZXR1cm4gdmVjM19sZW5ndGhfZnA2NChkaWZmKTtcbn1cbnZvaWQgdmVjNF9mcDY0KHZlYzQgYSwgb3V0IHZlYzIgb3V0X3ZhbFs0XSkge1xuICBvdXRfdmFsWzBdLnggPSBhWzBdO1xuICBvdXRfdmFsWzBdLnkgPSAwLjA7XG5cbiAgb3V0X3ZhbFsxXS54ID0gYVsxXTtcbiAgb3V0X3ZhbFsxXS55ID0gMC4wO1xuXG4gIG91dF92YWxbMl0ueCA9IGFbMl07XG4gIG91dF92YWxbMl0ueSA9IDAuMDtcblxuICBvdXRfdmFsWzNdLnggPSBhWzNdO1xuICBvdXRfdmFsWzNdLnkgPSAwLjA7XG59XG5cbnZvaWQgdmVjNF9zY2FsYXJfbXVsX2ZwNjQodmVjMiBhWzRdLCB2ZWMyIGIsIG91dCB2ZWMyIG91dF92YWxbNF0pIHtcbiAgb3V0X3ZhbFswXSA9IG11bF9mcDY0KGFbMF0sIGIpO1xuICBvdXRfdmFsWzFdID0gbXVsX2ZwNjQoYVsxXSwgYik7XG4gIG91dF92YWxbMl0gPSBtdWxfZnA2NChhWzJdLCBiKTtcbiAgb3V0X3ZhbFszXSA9IG11bF9mcDY0KGFbM10sIGIpO1xufVxuXG52b2lkIHZlYzRfc3VtX2ZwNjQodmVjMiBhWzRdLCB2ZWMyIGJbNF0sIG91dCB2ZWMyIG91dF92YWxbNF0pIHtcbiAgZm9yIChpbnQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBvdXRfdmFsW2ldID0gc3VtX2ZwNjQoYVtpXSwgYltpXSk7XG4gIH1cbn1cblxudm9pZCB2ZWM0X2RvdF9mcDY0KHZlYzIgYVs0XSwgdmVjMiBiWzRdLCBvdXQgdmVjMiBvdXRfdmFsKSB7XG4gIHZlYzIgdls0XTtcblxuICB2WzBdID0gbXVsX2ZwNjQoYVswXSwgYlswXSk7XG4gIHZbMV0gPSBtdWxfZnA2NChhWzFdLCBiWzFdKTtcbiAgdlsyXSA9IG11bF9mcDY0KGFbMl0sIGJbMl0pO1xuICB2WzNdID0gbXVsX2ZwNjQoYVszXSwgYlszXSk7XG5cbiAgb3V0X3ZhbCA9IHN1bV9mcDY0KHN1bV9mcDY0KHZbMF0sIHZbMV0pLCBzdW1fZnA2NCh2WzJdLCB2WzNdKSk7XG59XG5cbnZvaWQgbWF0NF92ZWM0X211bF9mcDY0KHZlYzIgYlsxNl0sIHZlYzIgYVs0XSwgb3V0IHZlYzIgb3V0X3ZhbFs0XSkge1xuICB2ZWMyIHRtcFs0XTtcblxuICBmb3IgKGludCBpID0gMDsgaSA8IDQ7IGkrKylcbiAge1xuICAgIGZvciAoaW50IGogPSAwOyBqIDwgNDsgaisrKVxuICAgIHtcbiAgICAgIHRtcFtqXSA9IGJbaiArIGkgKiA0XTtcbiAgICB9XG4gICAgdmVjNF9kb3RfZnA2NChhLCB0bXAsIG91dF92YWxbaV0pO1xuICB9XG59XG4iLGZzOm51bGwsZGVwZW5kZW5jaWVzOltvXSxmcDY0aWZ5OnIsZnA2NExvd1BhcnQ6aSxmcDY0aWZ5TWF0cml4NDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IEZsb2F0MzJBcnJheSgzMiksbj0wO248NDsrK24pZm9yKHZhciBpPTA7aTw0OysraSl7dmFyIGE9NCpuK2k7cihlWzQqaStuXSx0LDIqYSl9cmV0dXJuIHR9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEyOSksaT0iXG51bmlmb3JtIGZsb2F0IGxpZ2h0aW5nX3VBbWJpZW50O1xudW5pZm9ybSBmbG9hdCBsaWdodGluZ191RGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgbGlnaHRpbmdfdVNoaW5pbmVzcztcbnVuaWZvcm0gdmVjMyAgbGlnaHRpbmdfdVNwZWN1bGFyQ29sb3I7XG5cbnZlYzMgbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcih2ZWMzIHN1cmZhY2VDb2xvciwgdmVjMyBsaWdodF9kaXJlY3Rpb24sIHZlYzMgdmlld19kaXJlY3Rpb24sIHZlYzMgbm9ybWFsX3dvcmxkc3BhY2UsIHZlYzMgY29sb3IpIHtcbiAgICB2ZWMzIGhhbGZ3YXlfZGlyZWN0aW9uID0gbm9ybWFsaXplKGxpZ2h0X2RpcmVjdGlvbiArIHZpZXdfZGlyZWN0aW9uKTtcbiAgICBmbG9hdCBsYW1iZXJ0aWFuID0gZG90KGxpZ2h0X2RpcmVjdGlvbiwgbm9ybWFsX3dvcmxkc3BhY2UpO1xuICAgIGZsb2F0IHNwZWN1bGFyID0gMC4wO1xuICAgIGlmIChsYW1iZXJ0aWFuID4gMC4wKSB7XG4gICAgICBmbG9hdCBzcGVjdWxhcl9hbmdsZSA9IG1heChkb3Qobm9ybWFsX3dvcmxkc3BhY2UsIGhhbGZ3YXlfZGlyZWN0aW9uKSwgMC4wKTtcbiAgICAgIHNwZWN1bGFyID0gcG93KHNwZWN1bGFyX2FuZ2xlLCBsaWdodGluZ191U2hpbmluZXNzKTtcbiAgICB9XG4gICAgbGFtYmVydGlhbiA9IG1heChsYW1iZXJ0aWFuLCAwLjApO1xuICAgIHJldHVybiAobGFtYmVydGlhbiAqIGxpZ2h0aW5nX3VEaWZmdXNlICogc3VyZmFjZUNvbG9yICsgc3BlY3VsYXIgKiBsaWdodGluZ191U3BlY3VsYXJDb2xvcikgKiBjb2xvcjtcbn1cblxudmVjMyBsaWdodGluZ19nZXRMaWdodENvbG9yKHZlYzMgc3VyZmFjZUNvbG9yLCB2ZWMzIGNhbWVyYVBvc2l0aW9uLCB2ZWMzIHBvc2l0aW9uX3dvcmxkc3BhY2UsIHZlYzMgbm9ybWFsX3dvcmxkc3BhY2UpIHtcbiAgdmVjMyBsaWdodENvbG9yID0gc3VyZmFjZUNvbG9yO1xuXG4gIGlmIChsaWdodGluZ191RW5hYmxlZCkge1xuICAgIHZlYzMgdmlld19kaXJlY3Rpb24gPSBub3JtYWxpemUoY2FtZXJhUG9zaXRpb24gLSBwb3NpdGlvbl93b3JsZHNwYWNlKTtcbiAgICBsaWdodENvbG9yID0gbGlnaHRpbmdfdUFtYmllbnQgKiBzdXJmYWNlQ29sb3IgKiBsaWdodGluZ191QW1iaWVudExpZ2h0LmNvbG9yO1xuXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCBNQVhfTElHSFRTOyBpKyspIHtcbiAgICAgIGlmIChpID49IGxpZ2h0aW5nX3VQb2ludExpZ2h0Q291bnQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBQb2ludExpZ2h0IHBvaW50TGlnaHQgPSBsaWdodGluZ191UG9pbnRMaWdodFtpXTtcbiAgICAgIHZlYzMgbGlnaHRfcG9zaXRpb25fd29ybGRzcGFjZSA9IHBvaW50TGlnaHQucG9zaXRpb247XG4gICAgICB2ZWMzIGxpZ2h0X2RpcmVjdGlvbiA9IG5vcm1hbGl6ZShsaWdodF9wb3NpdGlvbl93b3JsZHNwYWNlIC0gcG9zaXRpb25fd29ybGRzcGFjZSk7XG4gICAgICBsaWdodENvbG9yICs9IGxpZ2h0aW5nX2dldExpZ2h0Q29sb3Ioc3VyZmFjZUNvbG9yLCBsaWdodF9kaXJlY3Rpb24sIHZpZXdfZGlyZWN0aW9uLCBub3JtYWxfd29ybGRzcGFjZSwgcG9pbnRMaWdodC5jb2xvcik7XG4gICAgfVxuXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCBNQVhfTElHSFRTOyBpKyspIHtcbiAgICAgIGlmIChpID49IGxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0Q291bnQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQgPSBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodFtpXTtcbiAgICAgIGxpZ2h0Q29sb3IgKz0gbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcihzdXJmYWNlQ29sb3IsIC1kaXJlY3Rpb25hbExpZ2h0LmRpcmVjdGlvbiwgdmlld19kaXJlY3Rpb24sIG5vcm1hbF93b3JsZHNwYWNlLCBkaXJlY3Rpb25hbExpZ2h0LmNvbG9yKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpZ2h0Q29sb3I7XG59XG5cbnZlYzMgbGlnaHRpbmdfZ2V0U3BlY3VsYXJMaWdodENvbG9yKHZlYzMgY2FtZXJhUG9zaXRpb24sIHZlYzMgcG9zaXRpb25fd29ybGRzcGFjZSwgdmVjMyBub3JtYWxfd29ybGRzcGFjZSkge1xuICB2ZWMzIGxpZ2h0Q29sb3IgPSB2ZWMzKDAsIDAsIDApO1xuICB2ZWMzIHN1cmZhY2VDb2xvciA9IHZlYzMoMCwgMCwgMCk7XG5cbiAgaWYgKGxpZ2h0aW5nX3VFbmFibGVkKSB7XG4gICAgdmVjMyB2aWV3X2RpcmVjdGlvbiA9IG5vcm1hbGl6ZShjYW1lcmFQb3NpdGlvbiAtIHBvc2l0aW9uX3dvcmxkc3BhY2UpO1xuXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCBNQVhfTElHSFRTOyBpKyspIHtcbiAgICAgIGlmIChpID49IGxpZ2h0aW5nX3VQb2ludExpZ2h0Q291bnQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBQb2ludExpZ2h0IHBvaW50TGlnaHQgPSBsaWdodGluZ191UG9pbnRMaWdodFtpXTtcbiAgICAgIHZlYzMgbGlnaHRfcG9zaXRpb25fd29ybGRzcGFjZSA9IHBvaW50TGlnaHQucG9zaXRpb247XG4gICAgICB2ZWMzIGxpZ2h0X2RpcmVjdGlvbiA9IG5vcm1hbGl6ZShsaWdodF9wb3NpdGlvbl93b3JsZHNwYWNlIC0gcG9zaXRpb25fd29ybGRzcGFjZSk7XG4gICAgICBsaWdodENvbG9yICs9IGxpZ2h0aW5nX2dldExpZ2h0Q29sb3Ioc3VyZmFjZUNvbG9yLCBsaWdodF9kaXJlY3Rpb24sIHZpZXdfZGlyZWN0aW9uLCBub3JtYWxfd29ybGRzcGFjZSwgcG9pbnRMaWdodC5jb2xvcik7XG4gICAgfVxuXG4gICAgZm9yIChpbnQgaSA9IDA7IGkgPCBNQVhfTElHSFRTOyBpKyspIHtcbiAgICAgIGlmIChpID49IGxpZ2h0aW5nX3VEaXJlY3Rpb25hbExpZ2h0Q291bnQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBEaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQgPSBsaWdodGluZ191RGlyZWN0aW9uYWxMaWdodFtpXTtcbiAgICAgIGxpZ2h0Q29sb3IgKz0gbGlnaHRpbmdfZ2V0TGlnaHRDb2xvcihzdXJmYWNlQ29sb3IsIC1kaXJlY3Rpb25hbExpZ2h0LmRpcmVjdGlvbiwgdmlld19kaXJlY3Rpb24sIG5vcm1hbF93b3JsZHNwYWNlLCBkaXJlY3Rpb25hbExpZ2h0LmNvbG9yKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpZ2h0Q29sb3I7XG59XG4iO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIGE9e25hbWU6ImdvdXJhdWQtbGlnaHRpbmciLGRlcGVuZGVuY2llczpbci5hXSx2czppLGRlZmluZXM6e0xJR0hUSU5HX1ZFUlRFWDoxfSxnZXRVbmlmb3JtczpjfSxvPXtuYW1lOiJwaG9uZy1saWdodGluZyIsZGVwZW5kZW5jaWVzOltyLmFdLGZzOmksZGVmaW5lczp7TElHSFRJTkdfRlJBR01FTlQ6MX0sZ2V0VW5pZm9ybXM6Y30scz17fTtmdW5jdGlvbiB1KGUpe3ZhciB0PWUuYW1iaWVudCxuPXZvaWQgMD09PXQ/LjM1OnQscj1lLmRpZmZ1c2UsaT12b2lkIDA9PT1yPy42OnIsYT1lLnNoaW5pbmVzcyxvPXZvaWQgMD09PWE/MzI6YSxzPWUuc3BlY3VsYXJDb2xvcjtyZXR1cm57bGlnaHRpbmdfdUFtYmllbnQ6bixsaWdodGluZ191RGlmZnVzZTppLGxpZ2h0aW5nX3VTaGluaW5lc3M6byxsaWdodGluZ191U3BlY3VsYXJDb2xvcjoodm9pZCAwPT09cz9bMzAsMzAsMzBdOnMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUvMjU1fSkpfX1mdW5jdGlvbiBjKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnM7aWYoISgibWF0ZXJpYWwiaW4gZSkpcmV0dXJue307dmFyIHQ9ZS5tYXRlcmlhbDtyZXR1cm4gdD91KHQpOntsaWdodGluZ191RW5hYmxlZDohMX19fV0pfSkpOwo="></script>
<script src="data:application/x-javascript;base64,Ci8vaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQwNDc1MzYyLzU5NzcyMTUKZnVuY3Rpb24gbWRfY29sb3VyX2RvbWFpbiggeCwgY29sb3VyX3JhbmdlLCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgbGVnZW5kLCBmb3JtYXQgKSB7CglpZiggbGVnZW5kLmxlZ2VuZCApIHsKCgkJLy9jb25zb2xlLmxvZyggIm1kX2NvbG91cl9kb21haW4iICk7CgkJLy9jb25zb2xlLmxvZyggeCApOwoJCXZhciBjZCA9IG1kX21ha2VfbGVnZW5kX3JhbmdlKHhbMF0sIHhbMV0sIGNvbG91cl9yYW5nZS5sZW5ndGgsIGxlZ2VuZC5kaWdpdHMgKTsKCgkJLy9jb25zb2xlLmxvZyggY2QgKTsKCgkJdmFyIGxlZGdlID0gewogIAlmaWxsX2NvbG91cjogewogIAkJY29sb3VyOiBjb2xvdXJfcmFuZ2UsCiAgCQl2YXJpYWJsZTogY2QsCiAgCQljb2xvdXJUeXBlOiBbImZpbGxfY29sb3VyIl0sCiAgCQl0eXBlOiBbImdyYWRpZW50Il0sCiAgCQl0aXRsZTogbGVnZW5kLnRpdGxlLCAgICAgICAgLy8gVE9ETzogdGhlICdjb2xvdXInIGFyZ3VtZW50LCBvciBpZiBub3Qgc3VwcGxpZWQgc2ltcGx5ICd2YWx1ZScgPwogIAkJY3NzOiBsZWdlbmQuY3NzCiAgCX0KICB9OwogIG1kX2FkZF9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWRnZSwgZm9ybWF0ICk7Cgl9Cgp9CgpmdW5jdGlvbiBtZF9tYWtlX2xlZ2VuZF9yYW5nZShzdGFydFZhbHVlLCBzdG9wVmFsdWUsIGNhcmRpbmFsaXR5LCBkaWdpdHMgKSB7CgogIHZhciBhcnIgPSBbXTsKICB2YXIgY3VyclZhbHVlID0gc3RhcnRWYWx1ZTsKICB2YXIgc3RlcCA9IChzdG9wVmFsdWUgLSBzdGFydFZhbHVlKSAvIChjYXJkaW5hbGl0eSAtIDEpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgY2FyZGluYWxpdHk7IGkrKykgewogICAgLy9hcnIucHVzaChjdXJyVmFsdWUgKyAoc3RlcCAqIGkpKTsKICAgIGFyci5wdXNoKHBhcnNlRmxvYXQoKGN1cnJWYWx1ZSArIChzdGVwICogaSkpLnRvRml4ZWQoIGRpZ2l0cyApKSk7CiAgfQogIHJldHVybiBhcnI7Cn0KCgpmdW5jdGlvbiBtZF9hZGRfbGVnZW5kKG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWdlbmRWYWx1ZXMsIGZvcm1hdCApIHsKCiAgaWYoICFtZF9kaXZfZXhpc3RzKCAnbGVnZW5kQ29udGFpbmVyJyttYXBfaWQgKSApIHsKICAJbWRfc2V0dXBfbGVnZW5kKCBtYXBfaWQgKTsKICB9CgogICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgdGhpc19sZWdlbmQ7CiAgICBPYmplY3Qua2V5cyggbGVnZW5kVmFsdWVzICkuZm9yRWFjaCggZnVuY3Rpb24oa2V5KSB7CgogICAgICAgIHRoaXNfbGVnZW5kID0gbGVnZW5kVmFsdWVzWyBrZXkgXTsKCiAgICAgICAgaWYgKCB0aGlzX2xlZ2VuZC5jb2xvdXIgIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgaWYgKCB0aGlzX2xlZ2VuZC50eXBlWzBdID09PSAiY2F0ZWdvcnkiIHx8IHRoaXNfbGVnZW5kLmNvbG91ci5sZW5ndGggPT0gMSApIHsKICAgICAgICAgICAgICAgIG1kX2FkZF9sZWdlbmRfY2F0ZWdvcnkoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCB0aGlzX2xlZ2VuZCwgZm9ybWF0ICk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBtZF9hZGRfbGVnZW5kX2dyYWRpZW50KCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgdGhpc19sZWdlbmQsIGZvcm1hdCApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cgp9CgpmdW5jdGlvbiBtZF9hZGRfbGVnZW5kX2dyYWRpZW50KG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCBsZWdlbmRWYWx1ZXMsIGZvcm1hdCApIHsKICAgIC8vIGZpbGwgZ3JhZGllbnQKICAgIC8vIG51bWVyaWMgdmFsdWVzOyBmb3JtYXQgbnVtYmVycyBhY2NvcmRpbmcgdG8gbGVnZW5kVmFsdWVzLmRpZ2l0cwoKICAgIC8vY29uc29sZS5sb2coICJsZWdlbmQgZGlnaXRzIiApOwogICAgLy9jb25zb2xlLmxvZyggbGVnZW5kVmFsdWVzICk7CgogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIGxlZ2VuZENvbnRlbnQsCiAgICAgICAgbGVnZW5kVGl0bGUsCiAgICAgICAgdGlja0NvbnRhaW5lciwKICAgICAgICBsYWJlbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgIGxlZ2VuZENvbG91cnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgICAgICBqc0NvbG91cnMgPSBbXSwKICAgICAgICBjb2xvdXJzID0gJycsCiAgICAgICAgaSA9IDAsCiAgICAgICAgbGVnZW5kVGV4dENvbG91ciA9ICcjODI4MjgyJywKICAgICAgICBzdHlsZSA9ICcnLAogICAgICAgIGlzVXBkYXRpbmcgPSBmYWxzZTsKCiAgICBpZiAod2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0gPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdpZCcsIG1hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSk7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdjbGFzcycsICdsZWdlbmQnKTsKICAgIH0gIGVsc2UgewogICAgICAgIGlzVXBkYXRpbmcgPSB0cnVlOwoKICAgICAgICB3aGlsZSAoIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmhhc0NoaWxkTm9kZXMoKSApIHsKICAgICAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ucmVtb3ZlQ2hpbGQoCiAgICAgICAgICAgIAl3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5sYXN0Q2hpbGQKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgbGVnZW5kQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgbGVnZW5kVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgIHRpY2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgIGxhYmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksCiAgICBsZWdlbmRDb2xvdXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCgogICAgbGVnZW5kQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xlZ2VuZENvbnRlbnQnKTsKICAgIGxlZ2VuZFRpdGxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVnZW5kVGl0bGUnKTsKICAgIGxlZ2VuZFRpdGxlLmlubmVySFRNTCA9IGxlZ2VuZFZhbHVlcy50aXRsZTsKCiAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5hcHBlbmRDaGlsZCggbGVnZW5kVGl0bGUgKTsKCiAgICB0aWNrQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGlja0NvbnRhaW5lcicpOwogICAgbGFiZWxDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdsYWJlbENvbnRhaW5lcicpOwoKICAgIGlmIChsZWdlbmRWYWx1ZXMuY3NzICE9PSBudWxsKSB7CiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uc2V0QXR0cmlidXRlKCdzdHlsZScsIGxlZ2VuZFZhbHVlcy5jc3MpOwogICAgfQoKICAgIC8vY29uc29sZS5sb2coIGxlZ2VuZFZhbHVlcy5jb2xvdXIgKTsKCiAgICBpZiggZm9ybWF0ID09PSAiaGV4IikgewoJICAgIGZvciAoaSA9IDA7IGkgPCBsZWdlbmRWYWx1ZXMuY29sb3VyLmxlbmd0aDsgaSsrKSB7CgkgICAgICBqc0NvbG91cnMucHVzaCggbGVnZW5kVmFsdWVzLmNvbG91cltpXS5zdWJzdHJpbmcoMCw3KSApOwoJICAgIH0KICAgIH0gZWxzZSB7CiAgICAJZm9yIChpID0gMDsgaSA8IGxlZ2VuZFZhbHVlcy5jb2xvdXIubGVuZ3RoOyBpKyspIHsKCiAgICAJCXZhciBoZXggPSBtZF9SR0JUb0hleCggbGVnZW5kVmFsdWVzLmNvbG91cltpXSApOwoKCSAgICAgIGpzQ29sb3Vycy5wdXNoKCBoZXggKTsKCSAgICB9CiAgICB9CgogICAgY29sb3VycyA9ICcoJyArIGpzQ29sb3Vycy5qb2luKCkgKyAnKSc7CgogICAgc3R5bGUgPSAnZGlzcGxheTogaW5saW5lLWJsb2NrOyBoZWlnaHQ6ICcgKyBqc0NvbG91cnMubGVuZ3RoICogMjAgKyAncHg7IHdpZHRoOiAxNXB4Oyc7CiAgICBzdHlsZSArPSAnYmFja2dyb3VuZDogJyArIGpzQ29sb3Vyc1sxXSArICc7JzsKICAgIHN0eWxlICs9ICdiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCcgKyBjb2xvdXJzICsgJzsnOwogICAgc3R5bGUgKz0gJ2JhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCcgKyBjb2xvdXJzICsgJzsnOwogICAgc3R5bGUgKz0gJ2JhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50JyArIGNvbG91cnMgKyAnOyc7CiAgICBzdHlsZSArPSAnYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50JyArIGNvbG91cnMgKyAnOyc7CgogICAgbGVnZW5kQ29sb3Vycy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgc3R5bGUpOwogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZChsZWdlbmRDb2xvdXJzKTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbGVnZW5kVmFsdWVzLmNvbG91ci5sZW5ndGg7IGkrKykgewoKICAgICAgICB2YXIgbGVnZW5kVmFsdWUgPSAndGV4dC1hbGlnbjogbGVmdDsgY29sb3I6ICcgKyBsZWdlbmRUZXh0Q29sb3VyICsgJzsgZm9udC1zaXplOiAxMnB4OyBoZWlnaHQ6IDIwcHg7JywKICAgICAgICAgICAgZGl2VGlja3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKICAgICAgICAgICAgZGl2VmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICAgIGRpdlRpY2tzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBsZWdlbmRWYWx1ZSk7CiAgICAgICAgZGl2VGlja3MuaW5uZXJIVE1MID0gJy0nOwogICAgICAgIHRpY2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2VGlja3MpOwoKICAgICAgICBkaXZWYWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGxlZ2VuZFZhbHVlKTsKICAgICAgICBkaXZWYWwuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnZhcmlhYmxlW2ldOwogICAgICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlZhbCk7CiAgICB9CgogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZCh0aWNrQ29udGFpbmVyKTsKICAgIGxlZ2VuZENvbnRlbnQuYXBwZW5kQ2hpbGQobGFiZWxDb250YWluZXIpOwoKICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmFwcGVuZENoaWxkKGxlZ2VuZENvbnRlbnQpOwoKICAgIGlmIChpc1VwZGF0aW5nID09PSBmYWxzZSkgewogICAgICAgIG1kX3BsYWNlQ29udHJvbChtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXSApOwogICAgfQp9CgpmdW5jdGlvbiBtZF9nZW5lcmF0ZUNvbG91ckJveChjb2xvdXJUeXBlLCBjb2xvdXIpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBpZiAoY29sb3VyVHlwZVswXSA9PT0gImZpbGxfY29sb3VyIikgewogICAgICAgIHJldHVybiAoJ2hlaWdodDogMjBweDsgd2lkdGg6IDE1cHg7IGJhY2tncm91bmQ6ICcgKyBjb2xvdXIpOwogICAgfSBlbHNlIHsKICAgICAgICAvLyBodHRwOi8vanNmaWRkbGUubmV0L1VFUzZVLzIvCiAgICAgICAgcmV0dXJuICgnaGVpZ2h0OiAyMHB4OyB3aWR0aDogMTVweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgd2hpdGUgMjUlLCAnICsgY29sb3VyICsgJyAyNSUsICcgKyBjb2xvdXIgKyAnIDQ1JSwgJyArICd3aGl0ZSA0NSUpJyk7CiAgICB9Cn0KCmZ1bmN0aW9uIG1kX2FkZF9sZWdlbmRfY2F0ZWdvcnkobWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxlZ2VuZFZhbHVlcywgZm9ybWF0ICkgewoKICAgICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgbGVnZW5kQ29udGVudCwKICAgICAgICBsZWdlbmRUaXRsZSwKICAgICAgICBjb2xvdXJDb250YWluZXIsCiAgICAgICAgdGlja0NvbnRhaW5lciwKICAgICAgICBsYWJlbENvbnRhaW5lciwKICAgICAgICBsZWdlbmRDb2xvdXJzLAogICAgICAgIGNvbG91ckJveCA9ICcnLAogICAgICAgIC8vY29sb3VyQXR0cmlidXRlID0gJycsCiAgICAgICAgaSA9IDAsCiAgICAgICAgbGVnZW5kVGV4dENvbG91ciA9ICcjODI4MjgyJywKICAgICAgICBpc1VwZGF0aW5nID0gZmFsc2U7CgogICAgLy8gY2F0Y2ggdW5kZWZpbmVkIE9SIG51bGwKICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2NDc4NjcvaG93LXRvLWRldGVybWluZS1pZi12YXJpYWJsZS1pcy11bmRlZmluZWQtb3ItbnVsbAogICAgaWYgKHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdID09IG51bGwpIHsKCiAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlKTsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xlZ2VuZCcpOwoKICAgIH0gZWxzZSB7CiAgICAgICAgaXNVcGRhdGluZyA9IHRydWU7CgogICAgICAgIHdoaWxlICh3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgICAgICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ucmVtb3ZlQ2hpbGQod2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0ubGFzdENoaWxkKTsKICAgICAgICB9CiAgICB9CgogICAgbGVnZW5kQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbGVnZW5kVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGNvbG91ckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdGlja0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbGFiZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGxlZ2VuZENvbG91cnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICBsZWdlbmRDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVnZW5kQ29udGVudCcpOwogICAgbGVnZW5kQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2xlZ2VuZENvbnRlbnRJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgbGVnZW5kVGl0bGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdsZWdlbmRUaXRsZScpOwogICAgbGVnZW5kVGl0bGUuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnRpdGxlOwogICAgd2luZG93W21hcF9pZCArICdsZWdlbmQnICsgbGF5ZXJfaWQgKyBsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZV0uYXBwZW5kQ2hpbGQobGVnZW5kVGl0bGUpOwoKICAgIGNvbG91ckNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2xhYmVsQ29udGFpbmVyJyk7CiAgICBjb2xvdXJDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdjb2xvdXJDb250YWluZXJJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgdGlja0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpY2tDb250YWluZXInKTsKICAgIHRpY2tDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0aWNrQ29udGFpbmVySWQnICsgbWFwX2lkICsgbGF5ZXJfaWQpOwoKICAgIGxhYmVsQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGFiZWxDb250YWluZXInKTsKICAgIGxhYmVsQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnbGFiZWxDb250YWluZXJJZCcgKyBtYXBfaWQgKyBsYXllcl9pZCk7CgogICAgaWYgKGxlZ2VuZFZhbHVlcy5jc3MgIT09IG51bGwpIHsKICAgICAgICB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgbGVnZW5kVmFsdWVzLmNzcyk7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IGxlZ2VuZFZhbHVlcy5jb2xvdXIubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgdmFyIHRpY2tWYWwgPSAndGV4dC1sZWZ0OiBjZW50ZXI7IGNvbG9yOiAnICsgbGVnZW5kVGV4dENvbG91ciArICc7IGZvbnQtc2l6ZTogMTJweDsgaGVpZ2h0OiAyMHB4OycsCiAgICAgICAgICAgIGRpdkNvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICBkaXZUaWNrcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICBkaXZWYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICAgICAgLy9jb2xvdXJCb3ggPSAnaGVpZ2h0OiAyMHB4OyB3aWR0aDogMTVweDsgYmFja2dyb3VuZDogJyArIGxlZ2VuZFZhbHVlcy5sZWdlbmQuY29sb3VyW2ldOwogICAgICAgIGlmKCBmb3JtYXQgPT09ICJoZXgiICkgewogICAgICAgIAljb2xvdXJCb3ggPSBtZF9nZW5lcmF0ZUNvbG91ckJveChsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSwgbGVnZW5kVmFsdWVzLmNvbG91cltpXS5zdWJzdHJpbmcoMCw3KSApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgCXZhciBoZXggPSBtZF9SR0JUb0hleCggbGVnZW5kVmFsdWVzLmNvbG91cltpXSApOwogICAgICAgIAljb2xvdXJCb3ggPSBtZF9nZW5lcmF0ZUNvbG91ckJveChsZWdlbmRWYWx1ZXMuY29sb3VyVHlwZSwgaGV4ICk7CiAgICAgICAgfQogICAgICAgIGRpdkNvbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY29sb3VyQm94KTsKICAgICAgICBjb2xvdXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2Q29sKTsKCiAgICAgICAgZGl2VGlja3Muc2V0QXR0cmlidXRlKCdzdHlsZScsIHRpY2tWYWwpOwogICAgICAgIGRpdlRpY2tzLmlubmVySFRNTCA9ICctJzsKICAgICAgICB0aWNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlRpY2tzKTsKCiAgICAgICAgZGl2VmFsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aWNrVmFsKTsKICAgICAgICBkaXZWYWwuaW5uZXJIVE1MID0gbGVnZW5kVmFsdWVzLnZhcmlhYmxlW2ldOwogICAgICAgIGxhYmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdlZhbCk7CiAgICB9CgogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZChjb2xvdXJDb250YWluZXIpOwogICAgbGVnZW5kQ29udGVudC5hcHBlbmRDaGlsZCh0aWNrQ29udGFpbmVyKTsKICAgIGxlZ2VuZENvbnRlbnQuYXBwZW5kQ2hpbGQobGFiZWxDb250YWluZXIpOwoKICAgIHdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgbGVnZW5kVmFsdWVzLmNvbG91clR5cGVdLmFwcGVuZENoaWxkKGxlZ2VuZENvbnRlbnQpOwoKICAgIGlmIChpc1VwZGF0aW5nID09PSBmYWxzZSkgewogICAgICAgIG1kX3BsYWNlQ29udHJvbChtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZCcgKyBsYXllcl9pZCArIGxlZ2VuZFZhbHVlcy5jb2xvdXJUeXBlXSApOwogICAgfQoKfQoKCmZ1bmN0aW9uIG1kX2ZpbmRfYnlfaWQoIHNvdXJjZSwgaWQsIHJldHVyblR5cGUgKSB7CiAgICB2YXIgaSA9IDA7CiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHNvdXJjZVtpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgaWYgKHJldHVyblR5cGUgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlW2ldOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm47Cn0KCmZ1bmN0aW9uIG1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgY29sb3VyX3R5cGUgKSB7CgkvLyBmaW5kIHJlZmVyZW5jZSB0byB0aGlzIGxheWVyIGluIHRoZSBsZWdlbmRzCgl2YXIgaWQgPSBtYXBfaWQgKyAnbGVnZW5kJyArIGxheWVyX2lkICsgY29sb3VyX3R5cGU7Cgl2YXIgb2JqSW5kZXggPSBtZF9maW5kX2J5X2lkKCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZFBvc2l0aW9ucyddLCBpZCwgImluZGV4IiApOwoKCWlmKCBvYmpJbmRleCAhPT0gdW5kZWZpbmVkICkgewoJCW1kX3JlbW92ZUNvbnRyb2woIG1hcF9pZCwgbWFwX3R5cGUsIGlkLCB3aW5kb3dbbWFwX2lkICsgJ2xlZ2VuZFBvc2l0aW9ucyddW29iakluZGV4XS5wb3NpdGlvbiApOwoJCXdpbmRvd1ttYXBfaWQgKyAnbGVnZW5kUG9zaXRpb25zJ10uc3BsaWNlKG9iakluZGV4LCAxKTsKCSAgd2luZG93W2lkXSA9IG51bGw7Cgl9Cn0KCmZ1bmN0aW9uIG1kX2NsZWFyX2xlZ2VuZCggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQgKSB7CgoJbWRfdHJ5X3JlbW92ZV9sZWdlbmQoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCAiZmlsbF9jb2xvdXIiKTsKCW1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgInN0cm9rZV9jb2xvdXIiKTsKCW1kX3RyeV9yZW1vdmVfbGVnZW5kKCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgInN0cm9rZV9mcm9tIik7CgltZF90cnlfcmVtb3ZlX2xlZ2VuZCggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsICJzdHJva2VfdG8iKTsKfQoKCmZ1bmN0aW9uIG1kX3BsYWNlQ29udHJvbCggbWFwX2lkLCBtYXBfdHlwZSwgb2JqZWN0ICkgewoKICAgIHZhciBtYXBib3hfY3RybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAibGVnZW5kQ29udGFpbmVyIittYXBfaWQpOwogICAgbWFwYm94X2N0cmwuYXBwZW5kQ2hpbGQoIG9iamVjdCApOwoKICAgIHZhciBsZWRnZSA9IHt9OwogICAgdmFyIHBvc2l0aW9uID0gIkJPVFRPTV9SSUdIVCI7CgogICAgaWYoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIikgewogICAgCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkJPVFRPTV9MRUZUXS5wdXNoKCBvYmplY3QgKTsKICAgIH0KCiAgICBsZWRnZSA9IHsKICAgICAgICBpZDogb2JqZWN0LmdldEF0dHJpYnV0ZSgnaWQnKSwKICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24KICAgIH07CgogICAgd2luZG93W21hcF9pZCArICdsZWdlbmRQb3NpdGlvbnMnXS5wdXNoKCBsZWRnZSApOwp9CgoKZnVuY3Rpb24gbWRfcmVtb3ZlQ29udHJvbCggbWFwX2lkLCBtYXBfdHlwZSwgbGVnZW5kX2lkLCBwb3NpdGlvbiApIHsKCgl2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBsZWdlbmRfaWQgKTsKCWVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWxlbWVudCApOwoKCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIpIHsKCSAgbWRfY2xlYXJfY29udHJvbCggd2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uQk9UVE9NX0xFRlRdLCBsZWdlbmRfaWQgKTsKCX0KCi8qCiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7CiAgICBjYXNlICdUT1BfTEVGVCc6CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIlRPUF9MRUZUIl0sIGxlZ2VuZF9pZCk7CiAgICAgICAgYnJlYWs7CiAgICBjYXNlICdUT1BfUklHSFQnOgogICAgICAgIGNsZWFyQ29udHJvbCh3aW5kb3dbbWFwX2lkICsgJ21hcCddLmNvbnRyb2xzWyJUT1BfUklHSFQiXSwgbGVnZW5kX2lkKTsKICAgICAgICBicmVhazsKICAgIGNhc2UgJ0JPVFRPTV9MRUZUJzoKICAgICAgICBjbGVhckNvbnRyb2wod2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1siQk9UVE9NX0xFRlQiXSwgbGVnZW5kX2lkKTsKICAgICAgICBicmVhazsKICAgIGNhc2UgJ0JPVFRPTV9SSUdIVCc6CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIkJPVFRPTV9SSUdIVCJdLCBsZWdlbmRfaWQpOwogICAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgICBwb3NpdGlvbiA9ICJCT1RUT01fTEVGVCI7CiAgICAgICAgY2xlYXJDb250cm9sKHdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uY29udHJvbHNbIkxFRlRfQk9UVE9NIl0sIGxlZ2VuZF9pZCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiovCn0KCmZ1bmN0aW9uIG1kX2NsZWFyX2NvbnRyb2woY29udHJvbCwgbGVnZW5kX2lkKSB7CgogIGlmIChjb250cm9sICE9PSB1bmRlZmluZWQgKSB7CiAgICBjb250cm9sLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIGlmIChpdGVtICE9PSB1bmRlZmluZWQgKSB7CiAgICAgICAgaWYgKGl0ZW0uZ2V0QXR0cmlidXRlKCdpZCcpID09PSBsZWdlbmRfaWQpIHsKICAgICAgICAgIGNvbnRyb2wucmVtb3ZlQXQoaW5kZXgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQp9Cg=="></script>
<script src="data:application/x-javascript;base64,ZnVuY3Rpb24gYWRkX3RpdGxlKG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkLCB0aXRsZV9kYXRhKSB7CgogICAgLy8gdGVzdAogICAgJ3VzZSBzdHJpY3QnOwoKICBpZiggIW1kX2Rpdl9leGlzdHMoICdtYXBUaXRsZUNvbnRhaW5lcicrbWFwX2lkICkgKSB7CiAgCW1kX3NldHVwX3RpdGxlKCBtYXBfaWQgKTsKCiAgCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIgKSB7CiAgCQl2YXIgbWFwYm94X2N0cmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggIm1hcFRpdGxlQ29udGFpbmVyIittYXBfaWQpOwogICAgCS8vIGlmIHRoZSB0aXRsZUNvbnRhaW5lciBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgZWxlbWVudCwgd2UgZG9uJ3QgbmVlZCB0byBwdXNoIGl0IHRvIHRoZSBtYXAKICAgIAl3aW5kb3dbbWFwX2lkICsgJ21hcCddLmNvbnRyb2xzW2dvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbi5UT1BfQ0VOVEVSXS5wdXNoKCBtYXBib3hfY3RybCApOwogICAgIH0KCiAgfQoKICAgIHZhciB0aXRsZSwKICAgICAgICBzdHlsZSA9ICcnLAogICAgICAgIGlzVXBkYXRpbmcgPSBmYWxzZTsKCiAgICBpZiAod2luZG93W21hcF9pZCArICdtYXBUaXRsZScgKyBsYXllcl9pZF0gPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB9CiAgICB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkKTsKICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbWFwVGl0bGUnKTsKICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLmlubmVySFRNTCA9IHRpdGxlX2RhdGEudGl0bGU7CgoKICAgIGlmICh0aXRsZV9kYXRhLmNzcyAhPT0gbnVsbCkgewogICAgICAgIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWRdLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aXRsZV9kYXRhLmNzcyk7CiAgICB9CgogICAgaWYgKGlzVXBkYXRpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgbWRfcGxhY2VUaXRsZShtYXBfaWQsIG1hcF90eXBlLCB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXSApOwogICAgfQp9CgoKZnVuY3Rpb24gY2xlYXJfdGl0bGUoIG1hcF9pZCwgbWFwX3R5cGUsIGxheWVyX2lkICkgewoJLyoKCS8vIGZpbmQgcmVmZXJlbmNlIHRvIHRoaXMgbGF5ZXIgaW4gdGhlIGxlZ2VuZHMKCXZhciBpZCA9IG1hcF9pZCArICdtYXBUaXRsZScgKyBsYXllcl9pZDsKCXZhciBvYmpJbmRleCA9IG1kX2ZpbmRfYnlfaWQoIHdpbmRvd1ttYXBfaWQgKyAnbWFwVGl0bGUnXSwgaWQsICJpbmRleCIgKTsKCglpZiggb2JqSW5kZXggIT09IHVuZGVmaW5lZCApIHsKCQltZF9yZW1vdmVDb250cm9sKCBtYXBfaWQsIGlkLCB3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXVtvYmpJbmRleF0ucG9zaXRpb24gKTsKCQl3aW5kb3dbbWFwX2lkICsgJ21hcFRpdGxlJyArIGxheWVyX2lkXS5zcGxpY2Uob2JqSW5kZXgsIDEpOwoJICB3aW5kb3dbaWRdID0gbnVsbDsKCX0KCSovCiAgLy9jb25zb2xlLmxvZyggImNsZXJpbmcgdGl0bGUgZWxlbWVudCIgKTsKCgl2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXBfaWQgKyAnbWFwVGl0bGUnICsgbGF5ZXJfaWQgKTsKCS8vY29uc29sZS5sb2coIGVsZW1lbnQgKTsKCglpZiggZWxlbWVudCAhPT0gbnVsbCApIHsKCSAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbGVtZW50ICk7Cgl9CgoKCWlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIpIHsKCSAgbWRfY2xlYXJfdGl0bGVfY29udHJvbCggd2luZG93W21hcF9pZCArICdtYXAnXS5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uVE9QX0NFTlRFUl0sIGxheWVyX2lkICk7Cgl9Cn0KCgpmdW5jdGlvbiBtZF9wbGFjZVRpdGxlKCBtYXBfaWQsIG1hcF90eXBlLCBvYmplY3QgKSB7CgogICAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBUaXRsZUNvbnRhaW5lciIrbWFwX2lkKTsKICAgIG1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCBvYmplY3QgKTsKfQoKCmZ1bmN0aW9uIG1kX2NsZWFyX3RpdGxlX2NvbnRyb2woY29udHJvbCwgbGF5ZXJfaWQpIHsKCiAgLy9jb25zb2xlLmxvZygiY2xlYXJpbmcgdGl0bGUgY29udHJvbCIpOwogIC8vY29uc29sZS5sb2coIGNvbnRyb2wgKTsKCiAgaWYgKGNvbnRyb2wgIT09IHVuZGVmaW5lZCApIHsKICAgIGNvbnRyb2wuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgaWYgKGl0ZW0gIT09IHVuZGVmaW5lZCApIHsKICAgICAgICBpZiAoaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09IGxheWVyX2lkKSB7CiAgICAgICAgCS8vY29uc29sZS5sb2coICJyZW1vdmluZyBjb250cm9sIGF0IGluZGV4OiAiICsgaW5kZXgpOwogICAgICAgICAgY29udHJvbC5yZW1vdmVBdChpbmRleCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn0K"></script>
<script src="data:application/x-javascript;base64,CmZ1bmN0aW9uIG1kX2NoYW5nZV9sb2NhdGlvbiggbWFwX2lkLCBtYXBfdHlwZSwgbG9jYXRpb24sIHpvb20sIHBpdGNoLCBiZWFyaW5nLCBkdXJhdGlvbiwgdHJhbnNpdGlvbiApIHsKICB2YXIgY3VycmVudExvbiwgY3VycmVudExhdCwgY3VycmVudFBpdGNoLCBjdXJyZW50QmVhcmluZywgY3VycmVudFpvb207CgogIGlmKCBtYXBfdHlwZSA9PSAiZ29vZ2xlX21hcCIgKSB7CiAgCS8vY29uc29sZS5sb2coIGxvY2F0aW9uICk7CiAgCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uc2V0Q2VudGVyKCB7IGxhdDogbG9jYXRpb25bMV0sIGxuZzogbG9jYXRpb25bMF0gfSApOwogIAl3aW5kb3dbbWFwX2lkICsgJ21hcCddLnNldFpvb20oIHpvb20gKTsKICB9IGVsc2UgewoKICAJLy9jb25zb2xlLmxvZyggd2luZG93WyBtYXBfaWQgKyAnbWFwJyBdLnZpZXdTdGF0ZSApOwoKCSAgaWYgKCB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdICE9PSB1bmRlZmluZWQgKSB7CgkgIAljdXJyZW50TG9uID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdLmxvbmdpdHVkZSA6IGxvY2F0aW9uWzBdOwoJICAJY3VycmVudExhdCA9IGxvY2F0aW9uID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlWyJkZWZhdWx0LXZpZXciXS5sYXRpdHVkZSA6IGxvY2F0aW9uWzFdOwoJICAgIGN1cnJlbnRQaXRjaCA9IHBpdGNoID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlWyJkZWZhdWx0LXZpZXciXS5waXRjaCA6IHBpdGNoOwoJICAgIGN1cnJlbnRCZWFyaW5nID0gYmVhcmluZyA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCcgXS52aWV3U3RhdGVbImRlZmF1bHQtdmlldyJdLmJlYXJpbmcgOiBiZWFyaW5nOwoJICAgIGN1cnJlbnRab29tID0gem9vbSA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZVsiZGVmYXVsdC12aWV3Il0uem9vbSA6IHpvb207CgkgIH0gZWxzZSB7CgkgIAljdXJyZW50TG9uID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGUubG9uZ2l0dWRlIDogbG9jYXRpb25bMF07CgkgIAljdXJyZW50TGF0ID0gbG9jYXRpb24gPT09IG51bGwgPyB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS52aWV3U3RhdGUubGF0aXR1ZGUgOiBsb2NhdGlvblsxXTsKCSAgICBjdXJyZW50UGl0Y2ggPSBwaXRjaCA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZS5waXRjaCA6IHBpdGNoOwoJICAgIGN1cnJlbnRCZWFyaW5nID0gYmVhcmluZyA9PT0gbnVsbCA/IHdpbmRvd1sgbWFwX2lkICsgJ21hcCcgXS52aWV3U3RhdGUuYmVhcmluZyA6IGJlYXJpbmc7CgkgICAgY3VycmVudFpvb20gPSB6b29tID09PSBudWxsID8gd2luZG93WyBtYXBfaWQgKyAnbWFwJ10udmlld1N0YXRlLnpvb20gOiB6b29tOwoJICB9CgoJICAvL2NvbnNvbGUubG9nKCBjdXJyZW50TG9uICk7CgoJCXdpbmRvd1ttYXBfaWQgKyAnbWFwJ10uc2V0UHJvcHMoewoJICAgIGluaXRpYWxWaWV3U3RhdGU6IHsKCSAgICAgIGxvbmdpdHVkZTogY3VycmVudExvbiwKCSAgICAgIGxhdGl0dWRlOiBjdXJyZW50TGF0LAoJICAgICAgem9vbTogY3VycmVudFpvb20sCgkgICAgICBwaXRjaDogY3VycmVudFBpdGNoLAoJICAgICAgYmVhcmluZzogY3VycmVudEJlYXJpbmcsCgkgICAgICB0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOiB0cmFuc2l0aW9uID09PSAiZmx5IiA/IG5ldyBkZWNrLkZseVRvSW50ZXJwb2xhdG9yKCkgOiBuZXcgZGVjay5MaW5lYXJJbnRlcnBvbGF0b3IoKSwKCSAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogZHVyYXRpb24sCgkgICAgICBjb250cm9sbGVyOiB0cnVlCgkgICAgfQoJICB9KTsKCiAgfQp9CgpmdW5jdGlvbiBtZF91cGRhdGVfc3R5bGUoIG1hcF9pZCwgc3R5bGUgKSB7CgogIHZhciB2cyA9IHdpbmRvd1sgbWFwX2lkICsgJ21hcCddLnZpZXdTdGF0ZTsKCXZhciBtYXAgPSB3aW5kb3dbIG1hcF9pZCArICdtYXAnXS5nZXRNYXBib3hNYXAoKTsKCW1hcC5zZXRTdHlsZSggc3R5bGUgKTsKCiAgd2luZG93WyBtYXBfaWQgKyAnbWFwJyBdLnNldFByb3BzKHsKICAJbGF5ZXJzOiBbLi4ud2luZG93W21hcF9pZCArICdsYXllcnMnXSBdLAogIAltYXA6IG1hcCwKICAJdmlld1N0YXRlOiB2cwogIH0pOwp9CgpmdW5jdGlvbiBtZF9sYXllcl92aWV3KCBtYXBfaWQsIG1hcF90eXBlLCBsYXllcl9pZCwgZm9jdXNfbGF5ZXIsIGJib3gsIHVwZGF0ZV92aWV3ICkgewoKCWlmKCBmb2N1c19sYXllciApIHsKICAJbWRfY2xlYXJfYm91bmRzKCBtYXBfaWQgKTsKICAJdXBkYXRlX3ZpZXcgPSB0cnVlOyAgICAgLy8gZm9yY2UgdGhpcwogIH0KCiAgaWYoIGJib3ggIT09IHVuZGVmaW5lZCAmJiB1cGRhdGVfdmlldykgewoKCSAgbWRfYWRkX3RvX2JvdW5kcyggbWFwX2lkLCBiYm94LCBsYXllcl9pZCApOwoJICB2YXIgbG9jID0gbWRfY2VudGVyX2xvY2F0aW9uKCB3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSApOwoJICBtZF9jaGFuZ2VfbG9jYXRpb24oIG1hcF9pZCwgbWFwX3R5cGUsIGxvYywgd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddLCBudWxsLCBudWxsLCAwLCAibGluZWFyIiApOwogIH0KfQoKZnVuY3Rpb24gbWRfY2VudGVyX2xvY2F0aW9uKCBiYm94ICkgewoKCWNMb24gPSAoYmJveFswXVswXSArIGJib3hbMV1bMF0pIC8gMjsKCWNMYXQgPSAoYmJveFswXVsxXSArIGJib3hbMV1bMV0pIC8gMjsKCXZhciBsb2NhdGlvbiA9IFtjTG9uLCBjTGF0XTsKCXJldHVybiBsb2NhdGlvbjsKfQoKCmZ1bmN0aW9uIG1kX2FkZF90b19ib3VuZHMoIG1hcF9pZCwgYmJveCwgbGF5ZXJfaWQgKSB7CgogIHZhciB0aGlzQm94ID0gewogIAlsYXllcl9pZDogbGF5ZXJfaWQsCiAgCWJib3g6IGJib3gKICB9OwoKICBpZiggd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddID09IG51bGwgKSB7CiAgCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXSA9IFtdOwogIH0KCiAgaWYoIHdpbmRvd1sgbWFwX2lkICsgJ2N1cnJlbnRab29tTGV2ZWwnXSA9PSBudWxsICkgewogIAl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBbXTsKICB9CgogIGlmKCB3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9PSBudWxsICkgewogIAl3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwogIH0KCiAgdmFyIGVsZW0gPSBtZF9maW5kT2JqZWN0RWxlbWVudEJ5S2V5KCB3aW5kb3dbIG1hcF9pZCArICdtYXBkZWNrQm91bmRzJ10sICdsYXllcl9pZCcsIGxheWVyX2lkICk7CglpZiAoIGVsZW0gIT0gLTEgKSB7CgkJd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcycgXVtlbGVtXSA9IHRoaXNCb3g7Cgl9IGVsc2UgewoJCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXS5wdXNoKCB0aGlzQm94ICk7Cgl9CgoJbWRfY2FsY3VsYXRlX2JvdW5kcyggbWFwX2lkLCB3aW5kb3dbIG1hcF9pZCArICdtYXBkZWNrQm91bmRzJ10gKTsKCgl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBtZF9nZXRfem9vbV9sZXZlbCggd2luZG93WyBtYXBfaWQgKyAnZ2xvYmFsQm94J10gKTsKfQoKZnVuY3Rpb24gbWRfcmVtb3ZlX2Zyb21fYm91bmRzKCBtYXBfaWQsIGxheWVyX2lkICkgewoKCXZhciBlbGVtID0gbWRfZmluZE9iamVjdEVsZW1lbnRCeUtleSggd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddLCAnbGF5ZXJfaWQnLCBsYXllcl9pZCApOwoJaWYgKCBlbGVtICE9IC0xICkgewoJCXdpbmRvd1sgbWFwX2lkICsgJ21hcGRlY2tCb3VuZHMnXS5zcGxpY2UoIGVsZW0sIDEgKTsKCX0KCW1kX2NhbGN1bGF0ZV9ib3VuZHMoIG1hcF9pZCwgd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddICk7Cgl3aW5kb3dbIG1hcF9pZCArICdjdXJyZW50Wm9vbUxldmVsJ10gPSBtZF9nZXRfem9vbV9sZXZlbCggd2luZG93WyBtYXBfaWQgKyAnZ2xvYmFsQm94J10gKTsKfQoKZnVuY3Rpb24gbWRfY2xlYXJfYm91bmRzKCBtYXBfaWQgKSB7CgoJd2luZG93WyBtYXBfaWQgKyAnbWFwZGVja0JvdW5kcyddID0gW107Cgl3aW5kb3dbIG1hcF9pZCArICdnbG9iYWxCb3gnXSA9IFtdOwoJd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCddID0gMDsKfQoKZnVuY3Rpb24gbWRfdXBkYXRlX2xvY2F0aW9uKCBtYXBfaWQsIG1hcF90eXBlICkgewoKCXZhciBsb2MgPSBtZF9jZW50ZXJfbG9jYXRpb24oIHdpbmRvd1sgbWFwX2lkICsgJ2dsb2JhbEJveCcgXSApOwoJdmFyIHpvb20gPSAgd2luZG93WyBtYXBfaWQgKyAnY3VycmVudFpvb21MZXZlbCcgXTsKCglpZiAoIE51bWJlci5pc05hTiggbG9jWzBdICkgKSB7CgkJcmV0dXJuOwoJfQoKICBtZF9jaGFuZ2VfbG9jYXRpb24oIG1hcF9pZCwgbWFwX3R5cGUsIGxvYywgem9vbSwgbnVsbCwgbnVsbCwgMCwgImxpbmVhciIgKTsKfQoKCmZ1bmN0aW9uIG1kX2NhbGN1bGF0ZV9ib3VuZHMoIG1hcF9pZCwgbWFwZGVja0JvdW5kcyApIHsKCiAgdmFyIHltaW4sIHhtaW4sIHltYXgsIHhtYXgsIHRoaXNCb3g7CiAgZm9yKCB2YXIgaSA9IDA7IGkgPCBtYXBkZWNrQm91bmRzLmxlbmd0aDsgaSsrICkgewogICAgdGhpc0JveCA9IG1hcGRlY2tCb3VuZHNbaV0uYmJveDsKCiAgICBpZiAoIGkgPT09IDAgKSB7CiAgICAgIHhtaW4gPSB0aGlzQm94WzBdWzBdOwogICAgICB5bWluID0gdGhpc0JveFswXVsxXTsKICAgICAgeG1heCA9IHRoaXNCb3hbMV1bMF07CiAgICAgIHltYXggPSB0aGlzQm94WzFdWzFdOwogICAgfSBlbHNlIHsKICAgICAgeG1pbiA9IE1hdGgubWluKCB4bWluLCB0aGlzQm94WzBdWzBdICk7CiAgICAgIHltaW4gPSBNYXRoLm1pbiggeW1pbiwgdGhpc0JveFswXVsxXSApOwogICAgICB4bWF4ID0gTWF0aC5tYXgoIHhtYXgsIHRoaXNCb3hbMV1bMF0gKTsKICAgICAgeW1heCA9IE1hdGgubWF4KCB5bWF4LCB0aGlzQm94WzFdWzFdICk7CiAgICB9CiAgfQogIHdpbmRvd1sgbWFwX2lkICsgJ2dsb2JhbEJveCddID0gW1t4bWluLCB5bWluXSxbeG1heCx5bWF4XV07Cn0KCmZ1bmN0aW9uIG1kX2xvbl9kaWZmKCBnbG9iYWxCb3ggKSB7CgogIHhtaW4gPSBnbG9iYWxCb3hbMF1bMF07CiAgeG1heCA9IGdsb2JhbEJveFsxXVswXTsKICB4ZGlmZiA9IE1hdGguYWJzKCB4bWF4IC0geG1pbiApOwogIHJldHVybiB4ZGlmZjsKfQoKZnVuY3Rpb24gbWRfbGF0X2RpZmYoIGdsb2JhbEJveCApIHsKCiAgeW1pbiA9IGdsb2JhbEJveFswXVsxXTsKICB5bWF4ID0gZ2xvYmFsQm94WzFdWzFdOwogIHlkaWZmID0gTWF0aC5hYnMoIHltYXggLSB5bWluICk7CiAgcmV0dXJuIHlkaWZmOwp9CgpmdW5jdGlvbiBtZF9sb25fem9vbSggbG9uZGlmZiApIHsKCiAgdmFyIGxvblpvb21MZXZlbCA9IFsKICAgIDM2MCwgMTgwLCA5MCwgNDUsIDIyLjUsIDExLjI1LCA1LjY1LDIuODEzLCAxLjQwNiwKICAgIDAuNzAzLCAwLjM1MiwgMC4xNzYsIDAuMDg4LCAwLjA0NCwgMC4wMjIsIDAuMDExLCAwLjAwNQogIF07CgogIGlmICggbG9uZGlmZiA+PSBsb25ab29tTGV2ZWxbMF0gKSB7CiAgICByZXR1cm4gMDsKICB9CiAgdmFyIG1heEluZGV4ID0gbG9uWm9vbUxldmVsLmxlbmd0aCAtIDI7CiAgdmFyIGN1cnJlbnRWYWx1ZSA9IGxvblpvb21MZXZlbFswXTsKICB2YXIgaTsKICB2YXIgdGhpc1pvb20sIG5leHRab29tOwoKICBmb3IgKCBpID0gMDsgaSA8IG1heEluZGV4OyBpKysgKSB7CiAgICB0aGlzWm9vbSA9IGxvblpvb21MZXZlbFsgaSBdOwogICAgbmV4dFpvb20gPSBsb25ab29tTGV2ZWxbIChpKzEpIF07CgogICAgaWYgKCB0aGlzWm9vbSA+PSBsb25kaWZmICYmIGxvbmRpZmYgPiBuZXh0Wm9vbSApIHsKICAgICAgcmV0dXJuIGk7CiAgICB9CiAgfQogIHJldHVybiBpOwp9CgpmdW5jdGlvbiBtZF9sYXRfem9vbSggbGF0ZGlmZiApIHsKCiAgdmFyIGxhdFpvb21MZXZlbCA9IFsKICAgIDkwLCA0NSwgMjIuNSwgMTEuMjUsIDUuNjUsMi44MTMsIDEuNDA2LAogICAgMC43MDMsIDAuMzUyLCAwLjE3NiwgMC4wODgsIDAuMDQ0LCAwLjAyMiwgMC4wMTEsIDAuMDA1LCAwLjAwMjUsIDAuMDAwMTc1CiAgXTsKCiAgaWYgKCBsYXRkaWZmID49IGxhdFpvb21MZXZlbFswXSApIHsKICAgIHJldHVybiAwOwogIH0KICB2YXIgbWF4SW5kZXggPSBsYXRab29tTGV2ZWwubGVuZ3RoIC0gMjsKICB2YXIgY3VycmVudFZhbHVlID0gbGF0Wm9vbUxldmVsWzBdOwogIHZhciBpOwogIHZhciB0aGlzWm9vbSwgbmV4dFpvb207CgogIGZvciAoIGkgPSAwOyBpIDwgbWF4SW5kZXg7IGkrKyApIHsKICAgIHRoaXNab29tID0gbGF0Wm9vbUxldmVsWyBpIF07CiAgICBuZXh0Wm9vbSA9IGxhdFpvb21MZXZlbFsgKGkrMSkgXTsKCiAgICBpZiAoIHRoaXNab29tID49IGxhdGRpZmYgJiYgbGF0ZGlmZiA+IG5leHRab29tICkgewogICAgICByZXR1cm4gaTsKICAgIH0KICB9CiAgcmV0dXJuIGk7Cn0KCmZ1bmN0aW9uIG1kX2dldF96b29tX2xldmVsKCBnbG9iYWxCb3ggKSB7CgogIHZhciBsb25kaWZmID0gbWRfbG9uX2RpZmYoIGdsb2JhbEJveCApOwogIHZhciBsYXRkaWZmID0gbWRfbGF0X2RpZmYoIGdsb2JhbEJveCApOwoKICB2YXIgbG9uWm9vbSA9IG1kX2xvbl96b29tKCBsb25kaWZmICk7CiAgdmFyIGxhdFpvb20gPSBtZF9sYXRfem9vbSggbGF0ZGlmZiApOwoKICB2YXIgZGlmZiA9IE1hdGgubWluKCBsb25ab29tLCBsYXRab29tICk7CgogIHJldHVybiBkaWZmOwp9Cgo="></script>
<script src="data:application/x-javascript;base64,ZnVuY3Rpb24gbWRfaGV4VG9SR0JBKCBoZXggKSB7CgogIGxldCBwYXJzZVN0cmluZyA9IGhleDsKICBpZiAoaGV4LnN0YXJ0c1dpdGgoJyMnKSkgeyBwYXJzZVN0cmluZyA9IGhleC5zbGljZSgxLCA5KTsgfQoKICBpZiAoIHBhcnNlU3RyaW5nLmxlbmd0aCA9PT0gNiApIHsKICAJcGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZyArICJGRiI7CiAgfSBlbHNlIGlmICggcGFyc2VTdHJpbmcubGVuZ3RoID09PSAzICkgewogIAlwYXJzZVN0cmluZyA9IHBhcnNlU3RyaW5nICsgIkYiOwogIH0gZWxzZSBpZiAocGFyc2VTdHJpbmcubGVuZ3RoICE9PSA4KSB7CiAgCXJldHVybiBudWxsOwogIH0KICBjb25zdCByID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoMCwgMiksIDE2KTsKICBjb25zdCBnID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoMiwgNCksIDE2KTsKICBjb25zdCBiID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoNCwgNiksIDE2KTsKICBjb25zdCBhID0gcGFyc2VJbnQocGFyc2VTdHJpbmcuc2xpY2UoNiwgOCksIDE2KTsKICBpZiAoaXNOYU4ocikgfHwgaXNOYU4oZykgfHwgaXNOYU4oYikpIHtyZXR1cm4gbnVsbDt9CiAgcmV0dXJuIFtyLCBnLCBiLCBhXTsKfTsKCgovKioKICogQ29udmVydHMgYSAndmVjdG9yJyBvZiBoZXggY29sb3VycyAod2l0aCBhbHBoYSkgaW50byBhbiBhcnJheQogKi8KZnVuY3Rpb24gbWRfdG9fcmdiYSggY29sb3VyX3JhbmdlICkgewoKCXZhciBhcnIgPSBbXSwKCWksCgluID0gY29sb3VyX3JhbmdlLmxlbmd0aDsKCglmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7CgkJYXJyLnB1c2goIG1kX2hleFRvUkdCQSggY29sb3VyX3JhbmdlW2ldKSApOwoJfQogIHJldHVybiBhcnI7Cn0KCi8qCiAqIGNvbnZlcnRzIGEgW1IsIEcsIEIsIEFdIGFycmF5CiAqIHRvIGhleCBzdHJpbmcKICovCmZ1bmN0aW9uIG1kX1JHQlRvSGV4KCByZ2JhICkgewoJciA9IHJnYmFbMF07CglnID0gcmdiYVsxXTsKCWIgPSByZ2JhWzJdOwoJLy9hID0gcmdiYVszXTsKCglyID0gci50b1N0cmluZygxNik7CglnID0gZy50b1N0cmluZygxNik7CgliID0gYi50b1N0cmluZygxNik7CgkvL2EgPSBhLnRvU3RyaW5nKDE2KTsKCglpZiAoci5sZW5ndGggPT0gMSkgewogICAgciA9ICIwIiArIHI7Cgl9CiAgaWYgKGcubGVuZ3RoID09IDEpIHsKICAgIGcgPSAiMCIgKyBnOwogIH0KICBpZiAoYi5sZW5ndGggPT0gMSkgewogICAgYiA9ICIwIiArIGI7CiAgfQogIC8vaWYgKGEubGVuZ3RoID09IDEpIHsKICAvLyAgYSA9ICIwIiArIGE7CiAgLy99CgogIHJldHVybiAiIyIgKyByICsgZyArIGI7Cgp9Cg=="></script>
<script src="data:application/x-javascript;base64,ZnVuY3Rpb24gbWRfZGVjb2RlX3BvaW50cyggcG9seWxpbmUgKSB7Cgl2YXIgY29vcmRpbmF0ZXMgPSBtZF9kZWNvZGVfcG9seWxpbmUoIHBvbHlsaW5lICkgOwoJcmV0dXJuIGNvb3JkaW5hdGVzWzBdOwp9CgpmdW5jdGlvbiBtZF9kZWNvZGVfcG9seWxpbmUoc3RyLCBwcmVjaXNpb24pIHsKICB2YXIgaW5kZXggPSAwLAogICAgICBsYXQgPSAwLAogICAgICBsbmcgPSAwLAogICAgICBjb29yZGluYXRlcyA9IFtdLAogICAgICBzaGlmdCA9IDAsCiAgICAgIHJlc3VsdCA9IDAsCiAgICAgIGJ5dGUgPSBudWxsLAogICAgICBsYXRpdHVkZV9jaGFuZ2UsCiAgICAgIGxvbmdpdHVkZV9jaGFuZ2UsCiAgICAgIGZhY3RvciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgNSk7CgogIC8vIENvb3JkaW5hdGVzIGhhdmUgdmFyaWFibGUgbGVuZ3RoIHdoZW4gZW5jb2RlZCwgc28ganVzdCBrZWVwCiAgLy8gdHJhY2sgb2Ygd2hldGhlciB3ZSd2ZSBoaXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLiBJbiBlYWNoCiAgLy8gbG9vcCBpdGVyYXRpb24sIGEgc2luZ2xlIGNvb3JkaW5hdGUgaXMgZGVjb2RlZC4KICB3aGlsZSAoaW5kZXggPCBzdHIubGVuZ3RoKSB7CgogICAgLy8gUmVzZXQgc2hpZnQsIHJlc3VsdCwgYW5kIGJ5dGUKICAgIGJ5dGUgPSBudWxsOwogICAgc2hpZnQgPSAwOwogICAgcmVzdWx0ID0gMDsKCiAgICBkbyB7CiAgICAgIGJ5dGUgPSBzdHIuY2hhckNvZGVBdChpbmRleCsrKSAtIDYzOwogICAgICByZXN1bHQgfD0gKGJ5dGUgJiAweDFmKSA8PCBzaGlmdDsKICAgICAgc2hpZnQgKz0gNTsKICAgIH0gd2hpbGUgKGJ5dGUgPj0gMHgyMCk7CgogICAgbGF0aXR1ZGVfY2hhbmdlID0gKChyZXN1bHQgJiAxKSA/IH4ocmVzdWx0ID4+IDEpIDogKHJlc3VsdCA+PiAxKSk7CgogICAgc2hpZnQgPSByZXN1bHQgPSAwOwoKICAgIGRvIHsKICAgICAgYnl0ZSA9IHN0ci5jaGFyQ29kZUF0KGluZGV4KyspIC0gNjM7CiAgICAgIHJlc3VsdCB8PSAoYnl0ZSAmIDB4MWYpIDw8IHNoaWZ0OwogICAgICBzaGlmdCArPSA1OwogICAgfSB3aGlsZSAoYnl0ZSA+PSAweDIwKTsKCiAgICBsb25naXR1ZGVfY2hhbmdlID0gKChyZXN1bHQgJiAxKSA/IH4ocmVzdWx0ID4+IDEpIDogKHJlc3VsdCA+PiAxKSk7CgogICAgbGF0ICs9IGxhdGl0dWRlX2NoYW5nZTsKICAgIGxuZyArPSBsb25naXR1ZGVfY2hhbmdlOwoKICAgIGNvb3JkaW5hdGVzLnB1c2goW2xuZyAvIGZhY3RvciwgbGF0IC8gZmFjdG9yXSk7CiAgfQogIHJldHVybiBjb29yZGluYXRlczsKfQoKZnVuY3Rpb24gbWRfZ2V0X3BvaW50X2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFstMTc5Ljk5OSwtODkuOTk5XTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7Cn0KCmZ1bmN0aW9uIG1kX2dldF9vcmlnaW5fY29vcmRpbmF0ZXMgKCBvYmogKSB7CglpZiAoIG9iai5nZW9tZXRyeS5vcmlnaW4gPT09IG51bGwgKSB7CgkJcmV0dXJuIFstMTc5Ljk5OSwtODkuOTk5XTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkub3JpZ2luLmNvb3JkaW5hdGVzOwp9CgpmdW5jdGlvbiBtZF9nZXRfZGVzdGluYXRpb25fY29vcmRpbmF0ZXMgKCBvYmogKSB7CglpZiAoIG9iai5nZW9tZXRyeS5kZXN0aW5hdGlvbiA9PT0gbnVsbCApIHsKCQlyZXR1cm4gWy0xNzkuOTk5LC04OS45OTldOwoJfQoJcmV0dXJuIG9iai5nZW9tZXRyeS5kZXN0aW5hdGlvbi5jb29yZGluYXRlczsKfQoKCmZ1bmN0aW9uIG1kX2dldF9saW5lX2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFtbLTE3OS45OTksLTg5Ljk5OV0sWy0xNzkuOTk5LC04OS45OTldXTsKCX0KCXJldHVybiBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7Cn0KCmZ1bmN0aW9uIG1kX2dldF9wb2x5Z29uX2Nvb3JkaW5hdGVzICggb2JqICkgewoJaWYgKCBvYmouZ2VvbWV0cnkuZ2VvbWV0cnkgPT09IG51bGwgKSB7CgkJcmV0dXJuIFtbLTE3OS45OTksLTg5Ljk5OV0sWy0xNzkuOTk5LC04OS45OTldLFstMTc5Ljk5OSwtODkuOTk5XV07Cgl9CglyZXR1cm4gb2JqLmdlb21ldHJ5Lmdlb21ldHJ5LmNvb3JkaW5hdGVzOwp9Cg=="></script>
<link href="data:text/css;charset=utf-8,%2Emapboxgl%2Dmap%7Bfont%3A12px%2F20px%20Helvetica%20Neue%2CArial%2CHelvetica%2Csans%2Dserif%3Boverflow%3Ahidden%3Bposition%3Arelative%3B%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3Argba%280%2C0%2C0%2C0%29%7D%2Emapboxgl%2Dcanvas%7Bposition%3Aabsolute%3Bleft%3A0%3Btop%3A0%7D%2Emapboxgl%2Dmap%3A%2Dwebkit%2Dfull%2Dscreen%7Bwidth%3A100%25%3Bheight%3A100%25%7D%2Emapboxgl%2Dcanary%7Bbackground%2Dcolor%3Asalmon%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%2C%2Emapboxgl%2Dctrl%2Dgroup%20button%2Emapboxgl%2Dctrl%2Dcompass%7Bcursor%3A%2Dwebkit%2Dgrab%3Bcursor%3A%2Dmoz%2Dgrab%3Bcursor%3Agrab%3B%2Dmoz%2Duser%2Dselect%3Anone%3B%2Dwebkit%2Duser%2Dselect%3Anone%3B%2Dms%2Duser%2Dselect%3Anone%3Buser%2Dselect%3Anone%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%2Emapboxgl%2Dtrack%2Dpointer%7Bcursor%3Apointer%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dinteractive%3Aactive%2C%2Emapboxgl%2Dctrl%2Dgroup%20button%2Emapboxgl%2Dctrl%2Dcompass%3Aactive%7Bcursor%3A%2Dwebkit%2Dgrabbing%3Bcursor%3A%2Dmoz%2Dgrabbing%3Bcursor%3Agrabbing%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Apan%2Dx%20pan%2Dy%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Apinch%2Dzoom%7D%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%2C%2Emapboxgl%2Dcanvas%2Dcontainer%2Emapboxgl%2Dtouch%2Dzoom%2Drotate%2Emapboxgl%2Dtouch%2Ddrag%2Dpan%20%2Emapboxgl%2Dcanvas%7Btouch%2Daction%3Anone%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%2C%2Emapboxgl%2Dctrl%2Dbottom%2Dright%2C%2Emapboxgl%2Dctrl%2Dtop%2Dleft%2C%2Emapboxgl%2Dctrl%2Dtop%2Dright%7Bposition%3Aabsolute%3Bpointer%2Devents%3Anone%3Bz%2Dindex%3A2%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%7Btop%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%7Btop%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%7Bbottom%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%7Bright%3A0%3Bbottom%3A0%7D%2Emapboxgl%2Dctrl%7Bclear%3Aboth%3Bpointer%2Devents%3Aauto%3Btransform%3Atranslate%280%29%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%20%2Emapboxgl%2Dctrl%7Bmargin%3A10px%200%200%2010px%3Bfloat%3Aleft%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%20%2Emapboxgl%2Dctrl%7Bmargin%3A10px%2010px%200%200%3Bfloat%3Aright%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%20%2Emapboxgl%2Dctrl%7Bmargin%3A0%200%2010px%2010px%3Bfloat%3Aleft%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%20%2Emapboxgl%2Dctrl%7Bmargin%3A0%2010px%2010px%200%3Bfloat%3Aright%7D%2Emapboxgl%2Dctrl%2Dgroup%7Bborder%2Dradius%3A4px%3Bbackground%3A%23fff%7D%2Emapboxgl%2Dctrl%2Dgroup%3Anot%28%3Aempty%29%7B%2Dmoz%2Dbox%2Dshadow%3A0%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%3B%2Dwebkit%2Dbox%2Dshadow%3A0%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%3Bbox%2Dshadow%3A0%200%200%202px%20rgba%280%2C0%2C0%2C%2E1%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dgroup%3Anot%28%3Aempty%29%7Bbox%2Dshadow%3A0%200%200%202px%20ButtonText%7D%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%7Bwidth%3A29px%3Bheight%3A29px%3Bdisplay%3Ablock%3Bpadding%3A0%3Boutline%3Anone%3Bborder%3A0%3Bbox%2Dsizing%3Aborder%2Dbox%3Bbackground%2Dcolor%3Atransparent%3Bcursor%3Apointer%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%2Bbutton%7Bborder%2Dtop%3A1px%20solid%20%23ddd%7D%2Emapboxgl%2Dctrl%20button%20%2Emapboxgl%2Dctrl%2Dicon%7Bdisplay%3Ablock%3Bwidth%3A100%25%3Bheight%3A100%25%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bbackground%2Dposition%3A50%25%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dcolor%3Atransparent%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%2Bbutton%7Bborder%2Dtop%3A1px%20solid%20ButtonText%7D%7D%2Emapboxgl%2Dctrl%20button%3A%3A%2Dmoz%2Dfocus%2Dinner%7Bborder%3A0%3Bpadding%3A0%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%7Bbox%2Dshadow%3A0%200%202px%202px%20%230096ff%7D%2Emapboxgl%2Dctrl%20button%3Adisabled%7Bcursor%3Anot%2Dallowed%7D%2Emapboxgl%2Dctrl%20button%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bopacity%3A%2E25%7D%2Emapboxgl%2Dctrl%20button%3Anot%28%3Adisabled%29%3Ahover%7Bbackground%2Dcolor%3Argba%280%2C0%2C0%2C%2E05%29%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Afocus%2Dvisible%7Bbox%2Dshadow%3A0%200%202px%202px%20%230096ff%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Anot%28%3Afocus%2Dvisible%29%7Bbox%2Dshadow%3Anone%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Afirst%2Dchild%7Bborder%2Dradius%3A4px%204px%200%200%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Alast%2Dchild%7Bborder%2Dradius%3A0%200%204px%204px%7D%2Emapboxgl%2Dctrl%2Dgroup%20button%3Afocus%3Aonly%2Dchild%7Bborder%2Dradius%3Ainherit%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Dout%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%2013c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h9c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D9z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dzoom%2Din%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M14%2E5%208%2E5c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5v3h%2D3c%2D%2E75%200%2D1%2E5%2E75%2D1%2E5%201%2E5S9%2E25%2016%2010%2016h3v3c0%20%2E75%2E75%201%2E5%201%2E5%201%2E5S16%2019%2E75%2016%2019v%2D3h3c%2E75%200%201%2E5%2D%2E75%201%2E5%2D1%2E5S19%2E75%2013%2019%2013h%2D3v%2D3c0%2D%2E75%2D%2E75%2D1%2E5%2D1%2E5%2D1%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dfullscreen%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M24%2016v5%2E5c0%201%2E75%2D%2E75%202%2E5%2D2%2E5%202%2E5H16v%2D1l3%2D1%2E5%2D4%2D5%2E5%201%2D1%205%2E5%204%201%2E5%2D3h1zM6%2016l1%2E5%203%205%2E5%2D4%201%201%2D4%205%2E5%203%201%2E5v1H7%2E5C5%2E75%2024%205%2023%2E25%205%2021%2E5V16h1zm7%2D11v1l%2D3%201%2E5%204%205%2E5%2D1%201%2D5%2E5%2D4L6%2013H5V7%2E5C5%205%2E75%205%2E75%205%207%2E5%205H13zm11%202%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H16v1l3%201%2E5%2D4%205%2E5%201%201%205%2E5%2D4%201%2E5%203h1V7%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dshrink%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M18%2E5%2016c%2D1%2E75%200%2D2%2E5%2E75%2D2%2E5%202%2E5V24h1l1%2E5%2D3%205%2E5%204%201%2D1%2D4%2D5%2E5%203%2D1%2E5v%2D1h%2D5%2E5zM13%2018%2E5c0%2D1%2E75%2D%2E75%2D2%2E5%2D2%2E5%2D2%2E5H5v1l3%201%2E5L4%2024l1%201%205%2E5%2D4%201%2E5%203h1v%2D5%2E5zm3%2D8c0%201%2E75%2E75%202%2E5%202%2E5%202%2E5H24v%2D1l%2D3%2D1%2E5L25%205l%2D1%2D1%2D5%2E5%204L17%205h%2D1v5%2E5zM10%2E5%2013c1%2E75%200%202%2E5%2D%2E75%202%2E5%2D2%2E5V5h%2D1l%2D1%2E5%203L5%204%204%205l4%205%2E5L5%2012v1h5%2E5z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523ccc%27%2F%253E%253C%2Fsvg%253E%22%29%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523999%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dcompass%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2029%2029%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%2E5%2014l4%2D8%204%208h%2D8z%27%2F%253E%253Cpath%20d%3D%27M10%2E5%2016l4%208%204%2D8h%2D8z%27%20fill%3D%27%2523ccc%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523333%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523aaa%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e58978%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e54e33%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dwaiting%20%2Emapboxgl%2Dctrl%2Dicon%7B%2Dwebkit%2Danimation%3Amapboxgl%2Dspin%202s%20linear%20infinite%3B%2Dmoz%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3B%2Do%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3B%2Dms%2Danimation%3Amapboxgl%2Dspin%202s%20infinite%20linear%3Banimation%3Amapboxgl%2Dspin%202s%20linear%20infinite%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523999%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dactive%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e58978%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%252333b5e5%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%2Emapboxgl%2Dctrl%2Dgeolocate%2Dbackground%2Derror%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523e54e33%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253C%2Fsvg%253E%22%29%7D%2Emapboxgl%2Dctrl%20button%2Emapboxgl%2Dctrl%2Dgeolocate%3Adisabled%20%2Emapboxgl%2Dctrl%2Dicon%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2729%27%20height%3D%2729%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%3D%27%2523666%27%253E%253Cpath%20d%3D%27M10%204C9%204%209%205%209%205v%2E1A5%205%200%20005%2E1%209H5s%2D1%200%2D1%201%201%201%201%201h%2E1A5%205%200%20009%2014%2E9v%2E1s0%201%201%201%201%2D1%201%2D1v%2D%2E1a5%205%200%20003%2E9%2D3%2E9h%2E1s1%200%201%2D1%2D1%2D1%2D1%2D1h%2D%2E1A5%205%200%200011%205%2E1V5s0%2D1%2D1%2D1zm0%202%2E5a3%2E5%203%2E5%200%20110%207%203%2E5%203%2E5%200%20110%2D7z%27%2F%253E%253Ccircle%20cx%3D%2710%27%20cy%3D%2710%27%20r%3D%272%27%2F%253E%253Cpath%20d%3D%27M14%205l1%201%2D9%209%2D1%2D1%209%2D9z%27%20fill%3D%27red%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40%2Dwebkit%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dwebkit%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dwebkit%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Dmoz%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dmoz%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dmoz%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Do%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Do%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Do%2Dtransform%3Arotate%281turn%29%7D%7D%40%2Dms%2Dkeyframes%20mapboxgl%2Dspin%7B0%25%7B%2Dms%2Dtransform%3Arotate%280deg%29%7Dto%7B%2Dms%2Dtransform%3Arotate%281turn%29%7D%7D%40keyframes%20mapboxgl%2Dspin%7B0%25%7Btransform%3Arotate%280deg%29%7Dto%7Btransform%3Arotate%281turn%29%7D%7Da%2Emapboxgl%2Dctrl%2Dlogo%7Bwidth%3A88px%3Bheight%3A23px%3Bmargin%3A0%200%20%2D4px%20%2D4px%3Bdisplay%3Ablock%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bcursor%3Apointer%3Boverflow%3Ahidden%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20opacity%3D%27%2E3%27%20stroke%3D%27%2523000%27%20stroke%2Dwidth%3D%273%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cg%20opacity%3D%27%2E9%27%20fill%3D%27%2523fff%27%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fg%253E%253C%2Fsvg%253E%22%29%7Da%2Emapboxgl%2Dctrl%2Dlogo%2Emapboxgl%2Dcompact%7Bwidth%3A23px%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7Ba%2Emapboxgl%2Dctrl%2Dlogo%7Bbackground%2Dcolor%3Atransparent%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20stroke%3D%27%2523000%27%20stroke%2Dwidth%3D%273%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cg%20fill%3D%27%2523fff%27%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fg%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7Ba%2Emapboxgl%2Dctrl%2Dlogo%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2788%27%20height%3D%2723%27%20viewBox%3D%270%200%2088%2023%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F1999%2Fxlink%27%20fill%2Drule%3D%27evenodd%27%253E%253Cdefs%253E%253Cpath%20id%3D%27a%27%20d%3D%27M11%2E5%202%2E25c5%2E105%200%209%2E25%204%2E145%209%2E25%209%2E25s%2D4%2E145%209%2E25%2D9%2E25%209%2E25%2D9%2E25%2D4%2E145%2D9%2E25%2D9%2E25%204%2E145%2D9%2E25%209%2E25%2D9%2E25zM6%2E997%2015%2E983c%2D%2E051%2D%2E338%2D%2E828%2D5%2E802%202%2E233%2D8%2E873a4%2E395%204%2E395%200%20013%2E13%2D1%2E28c1%2E27%200%202%2E49%2E51%203%2E39%201%2E42%2E91%2E9%201%2E42%202%2E12%201%2E42%203%2E39%200%201%2E18%2D%2E449%202%2E301%2D1%2E28%203%2E13C12%2E72%2016%2E93%207%2016%207%2016l%2D%2E003%2D%2E017zM15%2E3%2010%2E5l%2D2%20%2E8%2D%2E8%202%2D%2E8%2D2%2D2%2D%2E8%202%2D%2E8%2E8%2D2%20%2E8%202%202%20%2E8z%27%2F%253E%253Cpath%20id%3D%27b%27%20d%3D%27M50%2E63%208c%2E13%200%20%2E23%2E1%2E23%2E23V9c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%202%2E17%200%203%2E95%201%2E85%203%2E95%204%2E17s%2D1%2E77%204%2E19%2D3%2E94%204%2E19c%2D1%2E04%200%2D2%2E03%2D%2E43%2D2%2E74%2D1%2E18v3%2E77c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V8%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D3%2E86%2E01c%2E01%200%20%2E01%200%20%2E01%2D%2E01%2E13%200%20%2E22%2E1%2E22%2E22v7%2E55c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V15c%2D%2E7%2E76%2D1%2E69%201%2E19%2D2%2E73%201%2E19%2D2%2E17%200%2D3%2E94%2D1%2E87%2D3%2E94%2D4%2E19%200%2D2%2E32%201%2E77%2D4%2E19%203%2E94%2D4%2E19%201%2E03%200%202%2E02%2E43%202%2E73%201%2E18v%2D%2E75c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm26%2E375%2D%2E19a4%2E24%204%2E24%200%2000%2D4%2E16%203%2E29c%2D%2E13%2E59%2D%2E13%201%2E19%200%201%2E77a4%2E233%204%2E233%200%20004%2E17%203%2E3c2%2E35%200%204%2E26%2D1%2E87%204%2E26%2D4%2E19%200%2D2%2E32%2D1%2E9%2D4%2E17%2D4%2E27%2D4%2E17zM60%2E63%205c%2E13%200%20%2E23%2E1%2E23%2E23v3%2E76c%2E7%2D%2E76%201%2E7%2D1%2E18%202%2E73%2D1%2E18%201%2E88%200%203%2E45%201%2E4%203%2E84%203%2E28%2E13%2E59%2E13%201%2E2%200%201%2E8%2D%2E39%201%2E88%2D1%2E96%203%2E29%2D3%2E84%203%2E29%2D1%2E03%200%2D2%2E02%2D%2E43%2D2%2E73%2D1%2E18v%2E77c0%20%2E12%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E1%2D%2E23%2D%2E23V5%2E23c0%2D%2E12%2E1%2D%2E23%2E23%2D%2E23h1%2E4zm%2D34%2011h%2D1%2E4c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23V8%2E22c%2E01%2D%2E13%2E1%2D%2E22%2E23%2D%2E22h1%2E4c%2E13%200%20%2E22%2E11%2E23%2E22v%2E68c%2E5%2D%2E68%201%2E3%2D1%2E09%202%2E16%2D1%2E1h%2E03c1%2E09%200%202%2E09%2E6%202%2E6%201%2E55%2E45%2D%2E95%201%2E4%2D1%2E55%202%2E44%2D1%2E56%201%2E62%200%202%2E93%201%2E25%202%2E9%202%2E78l%2E03%205%2E2c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E8%200%2D1%2E46%2E7%2D1%2E59%201%2E62l%2E01%204%2E68c0%20%2E13%2D%2E11%2E23%2D%2E23%2E23h%2D1%2E41c%2D%2E13%200%2D%2E23%2D%2E11%2D%2E23%2D%2E23v%2D4%2E59c0%2D%2E98%2D%2E74%2D1%2E71%2D1%2E62%2D1%2E71%2D%2E85%200%2D1%2E54%2E79%2D1%2E6%201%2E8v4%2E5c0%20%2E13%2D%2E1%2E23%2D%2E23%2E23zm53%2E615%200h%2D1%2E61c%2D%2E04%200%2D%2E08%2D%2E01%2D%2E12%2D%2E03%2D%2E09%2D%2E06%2D%2E13%2D%2E19%2D%2E06%2D%2E28l2%2E43%2D3%2E71%2D2%2E39%2D3%2E65a%2E213%2E213%200%2001%2D%2E03%2D%2E12c0%2D%2E12%2E09%2D%2E21%2E21%2D%2E21h1%2E61c%2E13%200%20%2E24%2E06%2E3%2E17l1%2E41%202%2E37%201%2E4%2D2%2E37a%2E34%2E34%200%2001%2E3%2D%2E17h1%2E6c%2E04%200%20%2E08%2E01%2E12%2E03%2E09%2E06%2E13%2E19%2E06%2E28l%2D2%2E37%203%2E65%202%2E43%203%2E7c0%20%2E05%2E01%2E09%2E01%2E13%200%20%2E12%2D%2E09%2E21%2D%2E21%2E21h%2D1%2E61c%2D%2E13%200%2D%2E24%2D%2E06%2D%2E3%2D%2E17l%2D1%2E44%2D2%2E42%2D1%2E44%202%2E42a%2E34%2E34%200%2001%2D%2E3%2E17zm%2D7%2E12%2D1%2E49c%2D1%2E33%200%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51%200%2D1%2E39%201%2E08%2D2%2E52%202%2E42%2D2%2E52%201%2E33%200%202%2E42%201%2E12%202%2E42%202%2E51%200%201%2E39%2D1%2E08%202%2E51%2D2%2E42%202%2E52zm%2D19%2E865%200c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E42%2D2%2E48v%2D%2E07c%2E02%2D1%2E38%201%2E09%2D2%2E49%202%2E4%2D2%2E49%201%2E32%200%202%2E41%201%2E12%202%2E41%202%2E51%200%201%2E39%2D1%2E07%202%2E52%2D2%2E39%202%2E53zm%2D8%2E11%2D2%2E48c%2D%2E01%201%2E37%2D1%2E09%202%2E47%2D2%2E41%202%2E47s%2D2%2E42%2D1%2E12%2D2%2E42%2D2%2E51c0%2D1%2E39%201%2E08%2D2%2E52%202%2E4%2D2%2E52%201%2E33%200%202%2E39%201%2E11%202%2E41%202%2E48l%2E02%2E08zm18%2E12%202%2E47c%2D1%2E32%200%2D2%2E39%2D1%2E11%2D2%2E41%2D2%2E48v%2D%2E06c%2E02%2D1%2E38%201%2E09%2D2%2E48%202%2E41%2D2%2E48s2%2E42%201%2E12%202%2E42%202%2E51c0%201%2E39%2D1%2E09%202%2E51%2D2%2E42%202%2E51z%27%2F%253E%253C%2Fdefs%253E%253Cmask%20id%3D%27c%27%253E%253Crect%20width%3D%27100%2525%27%20height%3D%27100%2525%27%20fill%3D%27%2523fff%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fmask%253E%253Cg%20stroke%3D%27%2523fff%27%20stroke%2Dwidth%3D%273%27%20fill%3D%27%2523fff%27%253E%253Ccircle%20mask%3D%27url%28%2523c%29%27%20cx%3D%2711%2E5%27%20cy%3D%2711%2E5%27%20r%3D%279%2E25%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%20mask%3D%27url%28%2523c%29%27%2F%253E%253C%2Fg%253E%253Cuse%20xlink%3Ahref%3D%27%2523a%27%2F%253E%253Cuse%20xlink%3Ahref%3D%27%2523b%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%2Emapboxgl%2Dctrl%2Dattrib%7Bpadding%3A0%205px%3Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E5%29%3Bmargin%3A0%7D%40media%20screen%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%7Bmin%2Dheight%3A20px%3Bpadding%3A0%3Bmargin%3A10px%3Bposition%3Arelative%3Bbackground%2Dcolor%3A%23fff%3Bborder%2Dradius%3A3px%2012px%2012px%203px%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%7Bpadding%3A2px%2024px%202px%204px%3Bvisibility%3Avisible%3Bmargin%2Dtop%3A6px%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%2C%2Emapboxgl%2Dctrl%2Dtop%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%7Bpadding%3A2px%204px%202px%2024px%3Bborder%2Dradius%3A12px%203px%203px%2012px%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%20%2Emapboxgl%2Dctrl%2Dattrib%2Dinner%7Bdisplay%3Anone%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Ahover%20%2Emapboxgl%2Dctrl%2Dattrib%2Dinner%7Bdisplay%3Ablock%7D%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bcontent%3A%22%22%3Bcursor%3Apointer%3Bposition%3Aabsolute%3Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%3Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E5%29%3Bwidth%3A24px%3Bheight%3A24px%3Bbox%2Dsizing%3Aborder%2Dbox%3Bborder%2Dradius%3A12px%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dright%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbottom%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dright%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Btop%3A0%3Bright%3A0%7D%2Emapboxgl%2Dctrl%2Dtop%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Btop%3A0%3Bleft%3A0%7D%2Emapboxgl%2Dctrl%2Dbottom%2Dleft%3E%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbottom%3A0%3Bleft%3A0%7D%7D%40media%20screen%20and%20%28%2Dms%2Dhigh%2Dcontrast%3Aactive%29%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%20fill%3D%27%2523fff%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%40media%20screen%20and%20%28%2Dms%2Dhigh%2Dcontrast%3Ablack%2Don%2Dwhite%29%7B%2Emapboxgl%2Dctrl%2Dattrib%2Emapboxgl%2Dcompact%3Aafter%7Bbackground%2Dimage%3Aurl%28%22data%3Aimage%2Fsvg%2Bxml%3Bcharset%3Dutf%2D8%2C%253Csvg%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww%2Ew3%2Eorg%2F2000%2Fsvg%27%20fill%2Drule%3D%27evenodd%27%253E%253Cpath%20d%3D%27M4%2010a6%206%200%201012%200%206%206%200%2010%2D12%200m5%2D3a1%201%200%20102%200%201%201%200%2010%2D2%200m0%203a1%201%200%20112%200v3a1%201%200%2011%2D2%200%27%2F%253E%253C%2Fsvg%253E%22%29%7D%7D%2Emapboxgl%2Dctrl%2Dattrib%20a%7Bcolor%3Argba%280%2C0%2C0%2C%2E75%29%3Btext%2Ddecoration%3Anone%7D%2Emapboxgl%2Dctrl%2Dattrib%20a%3Ahover%7Bcolor%3Ainherit%3Btext%2Ddecoration%3Aunderline%7D%2Emapboxgl%2Dctrl%2Dattrib%20%2Emapbox%2Dimprove%2Dmap%7Bfont%2Dweight%3A700%3Bmargin%2Dleft%3A2px%7D%2Emapboxgl%2Dattrib%2Dempty%7Bdisplay%3Anone%7D%2Emapboxgl%2Dctrl%2Dscale%7Bbackground%2Dcolor%3Ahsla%280%2C0%25%2C100%25%2C%2E75%29%3Bfont%2Dsize%3A10px%3Bborder%3A2px%20solid%20%23333%3Bborder%2Dtop%3A%23333%3Bpadding%3A0%205px%3Bcolor%3A%23333%3Bbox%2Dsizing%3Aborder%2Dbox%7D%2Emapboxgl%2Dpopup%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bdisplay%3A%2Dwebkit%2Dflex%3Bdisplay%3Aflex%3Bwill%2Dchange%3Atransform%3Bpointer%2Devents%3Anone%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2C%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%2C%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Acolumn%3Bflex%2Ddirection%3Acolumn%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2C%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%2C%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Acolumn%2Dreverse%3Bflex%2Ddirection%3Acolumn%2Dreverse%7D%2Emapboxgl%2Dpopup%2Danchor%2Dleft%7B%2Dwebkit%2Dflex%2Ddirection%3Arow%3Bflex%2Ddirection%3Arow%7D%2Emapboxgl%2Dpopup%2Danchor%2Dright%7B%2Dwebkit%2Dflex%2Ddirection%3Arow%2Dreverse%3Bflex%2Ddirection%3Arow%2Dreverse%7D%2Emapboxgl%2Dpopup%2Dtip%7Bwidth%3A0%3Bheight%3A0%3Bborder%3A10px%20solid%20transparent%3Bz%2Dindex%3A1%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dtop%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dstart%3Balign%2Dself%3Aflex%2Dstart%3Bborder%2Dtop%3Anone%3Bborder%2Dleft%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dend%3Balign%2Dself%3Aflex%2Dend%3Bborder%2Dtop%3Anone%3Bborder%2Dright%3Anone%3Bborder%2Dbottom%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dbottom%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dstart%3Balign%2Dself%3Aflex%2Dstart%3Bborder%2Dbottom%3Anone%3Bborder%2Dleft%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Aflex%2Dend%3Balign%2Dself%3Aflex%2Dend%3Bborder%2Dbottom%3Anone%3Bborder%2Dright%3Anone%3Bborder%2Dtop%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dleft%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dleft%3Anone%3Bborder%2Dright%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Danchor%2Dright%20%2Emapboxgl%2Dpopup%2Dtip%7B%2Dwebkit%2Dalign%2Dself%3Acenter%3Balign%2Dself%3Acenter%3Bborder%2Dright%3Anone%3Bborder%2Dleft%2Dcolor%3A%23fff%7D%2Emapboxgl%2Dpopup%2Dclose%2Dbutton%7Bposition%3Aabsolute%3Bright%3A0%3Btop%3A0%3Bborder%3A0%3Bborder%2Dradius%3A0%203px%200%200%3Bcursor%3Apointer%3Bbackground%2Dcolor%3Atransparent%7D%2Emapboxgl%2Dpopup%2Dclose%2Dbutton%3Ahover%7Bbackground%2Dcolor%3Argba%280%2C0%2C0%2C%2E05%29%7D%2Emapboxgl%2Dpopup%2Dcontent%7Bposition%3Arelative%3Bbackground%3A%23fff%3Bborder%2Dradius%3A3px%3Bbox%2Dshadow%3A0%201px%202px%20rgba%280%2C0%2C0%2C%2E1%29%3Bpadding%3A10px%2010px%2015px%3Bpointer%2Devents%3Aauto%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dleft%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dtop%2Dleft%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dtop%2Dright%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dtop%2Dright%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dleft%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dbottom%2Dleft%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Danchor%2Dbottom%2Dright%20%2Emapboxgl%2Dpopup%2Dcontent%7Bborder%2Dbottom%2Dright%2Dradius%3A0%7D%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Anone%7D%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%20%2A%7Bpointer%2Devents%3Anone%3Buser%2Dselect%3Anone%7D%2Emapboxgl%2Dmap%3Ahover%20%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Aflex%7D%2Emapboxgl%2Dmap%3Aactive%20%2Emapboxgl%2Dpopup%2Dtrack%2Dpointer%7Bdisplay%3Anone%7D%2Emapboxgl%2Dmarker%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bwill%2Dchange%3Atransform%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2C%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Abefore%7Bbackground%2Dcolor%3A%231da1f2%3Bwidth%3A15px%3Bheight%3A15px%3Bborder%2Dradius%3A50%25%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Abefore%7Bcontent%3A%22%22%3Bposition%3Aabsolute%3B%2Dwebkit%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3B%2Dmoz%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3B%2Dms%2Danimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%3Banimation%3Amapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%202s%20infinite%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%3Aafter%7Bborder%2Dradius%3A50%25%3Bborder%3A2px%20solid%20%23fff%3Bcontent%3A%22%22%3Bheight%3A19px%3Bleft%3A%2D2px%3Bposition%3Aabsolute%3Btop%3A%2D2px%3Bwidth%3A19px%3Bbox%2Dsizing%3Aborder%2Dbox%3Bbox%2Dshadow%3A0%200%203px%20rgba%280%2C0%2C0%2C%2E35%29%7D%40%2Dwebkit%2Dkeyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7B%2Dwebkit%2Dtransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7B%2Dwebkit%2Dtransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7B%2Dwebkit%2Dtransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%40%2Dms%2Dkeyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7B%2Dms%2Dtransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7B%2Dms%2Dtransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7B%2Dms%2Dtransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%40keyframes%20mapboxgl%2Duser%2Dlocation%2Ddot%2Dpulse%7B0%25%7Btransform%3Ascale%281%29%3Bopacity%3A1%7D70%25%7Btransform%3Ascale%283%29%3Bopacity%3A0%7Dto%7Btransform%3Ascale%281%29%3Bopacity%3A0%7D%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2Dstale%7Bbackground%2Dcolor%3A%23aaa%7D%2Emapboxgl%2Duser%2Dlocation%2Ddot%2Dstale%3Aafter%7Bdisplay%3Anone%7D%2Emapboxgl%2Duser%2Dlocation%2Daccuracy%2Dcircle%7Bbackground%2Dcolor%3Argba%2829%2C161%2C242%2C%2E2%29%3Bwidth%3A1px%3Bheight%3A1px%3Bborder%2Dradius%3A100%25%7D%2Emapboxgl%2Dcrosshair%2C%2Emapboxgl%2Dcrosshair%20%2Emapboxgl%2Dinteractive%2C%2Emapboxgl%2Dcrosshair%20%2Emapboxgl%2Dinteractive%3Aactive%7Bcursor%3Acrosshair%7D%2Emapboxgl%2Dboxzoom%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bwidth%3A0%3Bheight%3A0%3Bbackground%3A%23fff%3Bborder%3A2px%20dotted%20%23202020%3Bopacity%3A%2E5%7D%40media%20print%7B%2Emapbox%2Dimprove%2Dmap%7Bdisplay%3Anone%7D%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,LyogTWFwYm94IEdMIEpTIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSAzLUNsYXVzZSBCU0QgTGljZW5zZS4gRnVsbCB0ZXh0IG9mIGxpY2Vuc2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2Jsb2IvdjEuOS4xL0xJQ0VOU0UudHh0ICovCihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7CnR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDoKdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDoKKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwubWFwYm94Z2wgPSBmYWN0b3J5KCkpOwp9KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JzsKCi8qIGVzbGludC1kaXNhYmxlICovCgp2YXIgc2hhcmVkLCB3b3JrZXIsIG1hcGJveGdsOwovLyBkZWZpbmUgZ2V0cyBjYWxsZWQgdGhyZWUgdGltZXM6IG9uZSBmb3IgZWFjaCBjaHVuay4gd2UgcmVseSBvbiB0aGUgb3JkZXIKLy8gdGhleSdyZSBpbXBvcnRlZCB0byBrbm93IHdoaWNoIGlzIHdoaWNoCmZ1bmN0aW9uIGRlZmluZShfLCBjaHVuaykgewppZiAoIXNoYXJlZCkgewogICAgc2hhcmVkID0gY2h1bms7Cn0gZWxzZSBpZiAoIXdvcmtlcikgewogICAgd29ya2VyID0gY2h1bms7Cn0gZWxzZSB7CiAgICB2YXIgd29ya2VyQnVuZGxlU3RyaW5nID0gJ3ZhciBzaGFyZWRDaHVuayA9IHt9OyAoJyArIHNoYXJlZCArICcpKHNoYXJlZENodW5rKTsgKCcgKyB3b3JrZXIgKyAnKShzaGFyZWRDaHVuayk7JwoKICAgIHZhciBzaGFyZWRDaHVuayA9IHt9OwogICAgc2hhcmVkKHNoYXJlZENodW5rKTsKICAgIG1hcGJveGdsID0gY2h1bmsoc2hhcmVkQ2h1bmspOwogICAgbWFwYm94Z2wud29ya2VyVXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3dvcmtlckJ1bmRsZVN0cmluZ10sIHsgdHlwZTogJ3RleHQvamF2YXNjcmlwdCcgfSkpOwp9Cn0KCgpkZWZpbmUoWyJleHBvcnRzIl0sKGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIHQoZT17ZXhwb3J0czp7fX0sZS5leHBvcnRzKSxlLmV4cG9ydHN9dmFyIHI9bjtmdW5jdGlvbiBuKHQsZSxyLG4pe3RoaXMuY3g9Myp0LHRoaXMuYng9Myooci10KS10aGlzLmN4LHRoaXMuYXg9MS10aGlzLmN4LXRoaXMuYngsdGhpcy5jeT0zKmUsdGhpcy5ieT0zKihuLWUpLXRoaXMuY3ksdGhpcy5heT0xLXRoaXMuY3ktdGhpcy5ieSx0aGlzLnAxeD10LHRoaXMucDF5PW4sdGhpcy5wMng9cix0aGlzLnAyeT1uO31uLnByb3RvdHlwZS5zYW1wbGVDdXJ2ZVg9ZnVuY3Rpb24odCl7cmV0dXJuICgodGhpcy5heCp0K3RoaXMuYngpKnQrdGhpcy5jeCkqdH0sbi5wcm90b3R5cGUuc2FtcGxlQ3VydmVZPWZ1bmN0aW9uKHQpe3JldHVybiAoKHRoaXMuYXkqdCt0aGlzLmJ5KSp0K3RoaXMuY3kpKnR9LG4ucHJvdG90eXBlLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVg9ZnVuY3Rpb24odCl7cmV0dXJuICgzKnRoaXMuYXgqdCsyKnRoaXMuYngpKnQrdGhpcy5jeH0sbi5wcm90b3R5cGUuc29sdmVDdXJ2ZVg9ZnVuY3Rpb24odCxlKXt2YXIgcixuLGksYSxvO2Zvcih2b2lkIDA9PT1lJiYoZT0xZS02KSxpPXQsbz0wO288ODtvKyspe2lmKGE9dGhpcy5zYW1wbGVDdXJ2ZVgoaSktdCxNYXRoLmFicyhhKTxlKXJldHVybiBpO3ZhciBzPXRoaXMuc2FtcGxlQ3VydmVEZXJpdmF0aXZlWChpKTtpZihNYXRoLmFicyhzKTwxZS02KWJyZWFrO2ktPWEvczt9aWYoKGk9dCk8KHI9MCkpcmV0dXJuIHI7aWYoaT4obj0xKSlyZXR1cm4gbjtmb3IoO3I8bjspe2lmKGE9dGhpcy5zYW1wbGVDdXJ2ZVgoaSksTWF0aC5hYnMoYS10KTxlKXJldHVybiBpO3Q+YT9yPWk6bj1pLGk9LjUqKG4tcikrcjt9cmV0dXJuIGl9LG4ucHJvdG90eXBlLnNvbHZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2FtcGxlQ3VydmVZKHRoaXMuc29sdmVDdXJ2ZVgodCxlKSl9O3ZhciBpPWE7ZnVuY3Rpb24gYSh0LGUpe3RoaXMueD10LHRoaXMueT1lO31mdW5jdGlvbiBvKHQsZSxuLGkpe3ZhciBhPW5ldyByKHQsZSxuLGkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gYS5zb2x2ZSh0KX19YS5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHQpfSxzdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHQpfSxtdWx0QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludCh0KX0sZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHQpfSxtdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQodCl9LGRpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYodCl9LHJvdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUodCl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZCh0LGUpfSxtYXRNdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQodCl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD09PXQueCYmdGhpcy55PT09dC55fSxkaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHQpKX0sZGlzdFNxcjpmdW5jdGlvbih0KXt2YXIgZT10LngtdGhpcy54LHI9dC55LXRoaXMueTtyZXR1cm4gZSplK3Iqcn0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktdC55LHRoaXMueC10LngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKHQueCx0LnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqZS10aGlzLnkqdCx0aGlzLngqdCt0aGlzLnkqZSl9LF9tYXRNdWx0OmZ1bmN0aW9uKHQpe3ZhciBlPXRbMl0qdGhpcy54K3RbM10qdGhpcy55O3JldHVybiB0aGlzLng9dFswXSp0aGlzLngrdFsxXSp0aGlzLnksdGhpcy55PWUsdGhpc30sX2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpc30sX3N1YjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sX211bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc30sX2RpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LHRoaXMueS89dCx0aGlzfSxfbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dC54LHRoaXMueSo9dC55LHRoaXN9LF9kaXZCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQueCx0aGlzLnkvPXQueSx0aGlzfSxfdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXYodGhpcy5tYWcoKSksdGhpc30sX3BlcnA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnk7cmV0dXJuIHRoaXMueT10aGlzLngsdGhpcy54PS10LHRoaXN9LF9yb3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5jb3ModCkscj1NYXRoLnNpbih0KSxuPXIqdGhpcy54K2UqdGhpcy55O3JldHVybiB0aGlzLng9ZSp0aGlzLngtcip0aGlzLnksdGhpcy55PW4sdGhpc30sX3JvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3ZhciByPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCksaT1lLnkrbioodGhpcy54LWUueCkrcioodGhpcy55LWUueSk7cmV0dXJuIHRoaXMueD1lLngrcioodGhpcy54LWUueCktbioodGhpcy55LWUueSksdGhpcy55PWksdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0sYS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgYT90OkFycmF5LmlzQXJyYXkodCk/bmV3IGEodFswXSx0WzFdKTp0fTt2YXIgcz1vKC4yNSwuMSwuMjUsMSk7ZnVuY3Rpb24gdSh0LGUscil7cmV0dXJuIE1hdGgubWluKHIsTWF0aC5tYXgoZSx0KSl9ZnVuY3Rpb24gbCh0LGUscil7dmFyIG49ci1lLGk9KCh0LWUpJW4rbiklbitlO3JldHVybiBpPT09ZT9yOml9ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGU9W10scj1hcmd1bWVudHMubGVuZ3RoLTE7ci0tID4wOyllW3JdPWFyZ3VtZW50c1tyKzFdO2Zvcih2YXIgbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07Zm9yKHZhciBvIGluIGEpdFtvXT1hW29dO31yZXR1cm4gdH12YXIgYz0xO2Z1bmN0aW9uIGgoKXtyZXR1cm4gYysrfWZ1bmN0aW9uIGYoKXtyZXR1cm4gZnVuY3Rpb24gdChlKXtyZXR1cm4gZT8oZV4xNipNYXRoLnJhbmRvbSgpPj5lLzQpLnRvU3RyaW5nKDE2KTooWzFlN10rLVsxZTNdKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyx0KX0oKX1mdW5jdGlvbiB5KHQpe3JldHVybiAhIXQmJi9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzRdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QodCl9ZnVuY3Rpb24gZCh0LGUpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVt0XSYmKGVbdF09ZVt0XS5iaW5kKGUpKTt9KSk7fWZ1bmN0aW9uIG0odCxlKXtyZXR1cm4gLTEhPT10LmluZGV4T2YoZSx0Lmxlbmd0aC1lLmxlbmd0aCl9ZnVuY3Rpb24gdih0LGUscil7dmFyIG49e307Zm9yKHZhciBpIGluIHQpbltpXT1lLmNhbGwocnx8dGhpcyx0W2ldLGksdCk7cmV0dXJuIG59ZnVuY3Rpb24gZyh0LGUscil7dmFyIG49e307Zm9yKHZhciBpIGluIHQpZS5jYWxsKHJ8fHRoaXMsdFtpXSxpLHQpJiYobltpXT10W2ldKTtyZXR1cm4gbn1mdW5jdGlvbiB4KHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubWFwKHgpOiJvYmplY3QiPT10eXBlb2YgdCYmdD92KHQseCk6dH12YXIgYj17fTtmdW5jdGlvbiB3KHQpe2JbdF18fCgidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2Fybih0KSxiW3RdPSEwKTt9ZnVuY3Rpb24gXyh0LGUscil7cmV0dXJuIChyLnktdC55KSooZS54LXQueCk+KGUueS10LnkpKihyLngtdC54KX1mdW5jdGlvbiBBKHQpe2Zvcih2YXIgZT0wLHI9MCxuPXQubGVuZ3RoLGk9bi0xLGE9dm9pZCAwLG89dm9pZCAwO3I8bjtpPXIrKyllKz0oKG89dFtpXSkueC0oYT10W3JdKS54KSooYS55K28ueSk7cmV0dXJuIGV9ZnVuY3Rpb24gUygpe3JldHVybiAidW5kZWZpbmVkIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiYidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1mdW5jdGlvbiBrKHQpe3ZhciBlPXt9O2lmKHQucmVwbGFjZSgvKD86XnwoPzpccypcLFxzKikpKFteXHgwMC1ceDIwXChcKTw+QFwsO1w6XFwiXC9cW1xdXD9cPVx7XH1ceDdGXSspKD86XD0oPzooW15ceDAwLVx4MjBcKFwpPD5AXCw7XDpcXCJcL1xbXF1cP1w9XHtcfVx4N0ZdKyl8KD86XCIoKD86W14iXFxdfFxcLikqKVwiKSkpPy9nLChmdW5jdGlvbih0LHIsbixpKXt2YXIgYT1ufHxpO3JldHVybiBlW3JdPSFhfHxhLnRvTG93ZXJDYXNlKCksIiJ9KSksZVsibWF4LWFnZSJdKXt2YXIgcj1wYXJzZUludChlWyJtYXgtYWdlIl0sMTApO2lzTmFOKHIpP2RlbGV0ZSBlWyJtYXgtYWdlIl06ZVsibWF4LWFnZSJdPXI7fXJldHVybiBlfXZhciBJPW51bGw7ZnVuY3Rpb24geih0KXtpZihudWxsPT1JKXt2YXIgZT10Lm5hdmlnYXRvcj90Lm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDtJPSEhdC5zYWZhcml8fCEoIWV8fCEoL1xiKGlQYWR8aVBob25lfGlQb2QpXGIvLnRlc3QoZSl8fGUubWF0Y2goIlNhZmFyaSIpJiYhZS5tYXRjaCgiQ2hyb21lIikpKTt9cmV0dXJuIEl9ZnVuY3Rpb24gQyh0KXt0cnl7dmFyIGU9c2VsZlt0XTtyZXR1cm4gZS5zZXRJdGVtKCJfbWFwYm94X3Rlc3RfIiwxKSxlLnJlbW92ZUl0ZW0oIl9tYXBib3hfdGVzdF8iKSwhMH1jYXRjaCh0KXtyZXR1cm4gITF9fXZhciBNLFQsRSxQLEI9c2VsZi5wZXJmb3JtYW5jZSYmc2VsZi5wZXJmb3JtYW5jZS5ub3c/c2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKTpEYXRlLm5vdy5iaW5kKERhdGUpLFY9c2VsZi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHNlbGYubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZWxmLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8c2VsZi5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSxGPXNlbGYuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fHNlbGYubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHNlbGYud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHNlbGYubXNDYW5jZWxBbmltYXRpb25GcmFtZSxEPXtub3c6QixmcmFtZTpmdW5jdGlvbih0KXt2YXIgZT1WKHQpO3JldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7cmV0dXJuIEYoZSl9fX0sZ2V0SW1hZ2VEYXRhOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MCk7dmFyIHI9c2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxuPXIuZ2V0Q29udGV4dCgiMmQiKTtpZighbil0aHJvdyBuZXcgRXJyb3IoImZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHQiKTtyZXR1cm4gci53aWR0aD10LndpZHRoLHIuaGVpZ2h0PXQuaGVpZ2h0LG4uZHJhd0ltYWdlKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQpLG4uZ2V0SW1hZ2VEYXRhKC1lLC1lLHQud2lkdGgrMiplLHQuaGVpZ2h0KzIqZSl9LHJlc29sdmVVUkw6ZnVuY3Rpb24odCl7cmV0dXJuIE18fChNPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKSxNLmhyZWY9dCxNLmhyZWZ9LGhhcmR3YXJlQ29uY3VycmVuY3k6c2VsZi5uYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeXx8NCxnZXQgZGV2aWNlUGl4ZWxSYXRpbygpe3JldHVybiBzZWxmLmRldmljZVBpeGVsUmF0aW99LGdldCBwcmVmZXJzUmVkdWNlZE1vdGlvbigpe3JldHVybiAhIXNlbGYubWF0Y2hNZWRpYSYmKG51bGw9PVQmJihUPXNlbGYubWF0Y2hNZWRpYSgiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSkiKSksVC5tYXRjaGVzKX19LEw9e0FQSV9VUkw6Imh0dHBzOi8vYXBpLm1hcGJveC5jb20iLGdldCBFVkVOVFNfVVJMKCl7cmV0dXJuIHRoaXMuQVBJX1VSTD8wPT09dGhpcy5BUElfVVJMLmluZGV4T2YoImh0dHBzOi8vYXBpLm1hcGJveC5jbiIpPyJodHRwczovL2V2ZW50cy5tYXBib3guY24vZXZlbnRzL3YyIjowPT09dGhpcy5BUElfVVJMLmluZGV4T2YoImh0dHBzOi8vYXBpLm1hcGJveC5jb20iKT8iaHR0cHM6Ly9ldmVudHMubWFwYm94LmNvbS9ldmVudHMvdjIiOm51bGw6bnVsbH0sRkVFREJBQ0tfVVJMOiJodHRwczovL2FwcHMubWFwYm94LmNvbS9mZWVkYmFjayIsUkVRVUlSRV9BQ0NFU1NfVE9LRU46ITAsQUNDRVNTX1RPS0VOOm51bGwsTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOjE2fSxSPXtzdXBwb3J0ZWQ6ITEsdGVzdFN1cHBvcnQ6ZnVuY3Rpb24odCl7IU8mJlAmJihVP2oodCk6RT10KTt9fSxPPSExLFU9ITE7ZnVuY3Rpb24gaih0KXt2YXIgZT10LmNyZWF0ZVRleHR1cmUoKTt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlKTt0cnl7aWYodC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLFApLHQuaXNDb250ZXh0TG9zdCgpKXJldHVybjtSLnN1cHBvcnRlZD0hMDt9Y2F0Y2godCl7fXQuZGVsZXRlVGV4dHVyZShlKSxPPSEwO31zZWxmLmRvY3VtZW50JiYoKFA9c2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSkub25sb2FkPWZ1bmN0aW9uKCl7RSYmaihFKSxFPW51bGwsVT0hMDt9LFAub25lcnJvcj1mdW5jdGlvbigpe089ITAsRT1udWxsO30sUC5zcmM9ImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JoNEFBQUJYUlVKUVZsQTRUQkVBQUFBdkFRQUFBQWZRLy83M3YvK0JpT2gvQUFBPSIpO3ZhciBxPSIwMSIsTj1mdW5jdGlvbih0LGUpe3RoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbj10LHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPWUsdGhpcy5fY3JlYXRlU2t1VG9rZW4oKTt9O2Z1bmN0aW9uIEsodCl7cmV0dXJuIDA9PT10LmluZGV4T2YoIm1hcGJveDoiKX1OLnByb3RvdHlwZS5fY3JlYXRlU2t1VG9rZW49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixlPTA7ZTwxMDtlKyspdCs9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIltNYXRoLmZsb29yKDYyKk1hdGgucmFuZG9tKCkpXTtyZXR1cm4ge3Rva2VuOlsiMSIscSx0XS5qb2luKCIiKSx0b2tlbkV4cGlyZXNBdDpEYXRlLm5vdygpKzQzMmU1fX0oKTt0aGlzLl9za3VUb2tlbj10LnRva2VuLHRoaXMuX3NrdVRva2VuRXhwaXJlc0F0PXQudG9rZW5FeHBpcmVzQXQ7fSxOLnByb3RvdHlwZS5faXNTa3VUb2tlbkV4cGlyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKT50aGlzLl9za3VUb2tlbkV4cGlyZXNBdH0sTi5wcm90b3R5cGUudHJhbnNmb3JtUmVxdWVzdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4mJnRoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbih0LGUpfHx7dXJsOnR9fSxOLnByb3RvdHlwZS5ub3JtYWxpemVTdHlsZVVSTD1mdW5jdGlvbih0LGUpe2lmKCFLKHQpKXJldHVybiB0O3ZhciByPUoodCk7cmV0dXJuIHIucGF0aD0iL3N0eWxlcy92MSIrci5wYXRoLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9LE4ucHJvdG90eXBlLm5vcm1hbGl6ZUdseXBoc1VSTD1mdW5jdGlvbih0LGUpe2lmKCFLKHQpKXJldHVybiB0O3ZhciByPUoodCk7cmV0dXJuIHIucGF0aD0iL2ZvbnRzL3YxIityLnBhdGgsdGhpcy5fbWFrZUFQSVVSTChyLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxlKX0sTi5wcm90b3R5cGUubm9ybWFsaXplU291cmNlVVJMPWZ1bmN0aW9uKHQsZSl7aWYoIUsodCkpcmV0dXJuIHQ7dmFyIHI9Sih0KTtyZXR1cm4gci5wYXRoPSIvdjQvIityLmF1dGhvcml0eSsiLmpzb24iLHIucGFyYW1zLnB1c2goInNlY3VyZSIpLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9LE4ucHJvdG90eXBlLm5vcm1hbGl6ZVNwcml0ZVVSTD1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1KKHQpO3JldHVybiBLKHQpPyhpLnBhdGg9Ii9zdHlsZXMvdjEiK2kucGF0aCsiL3Nwcml0ZSIrZStyLHRoaXMuX21ha2VBUElVUkwoaSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8bikpOihpLnBhdGgrPSIiK2UrcixIKGkpKX0sTi5wcm90b3R5cGUubm9ybWFsaXplVGlsZVVSTD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2lzU2t1VG9rZW5FeHBpcmVkKCkmJnRoaXMuX2NyZWF0ZVNrdVRva2VuKCksdCYmIUsodCkpcmV0dXJuIHQ7dmFyIHI9Sih0KTtyLnBhdGg9ci5wYXRoLnJlcGxhY2UoLyhcLihwbmd8anBnKVxkKikoPz0kKS8sKEQuZGV2aWNlUGl4ZWxSYXRpbz49Mnx8NTEyPT09ZT8iQDJ4IjoiIikrKFIuc3VwcG9ydGVkPyIud2VicCI6IiQxIikpLHIucGF0aD1yLnBhdGgucmVwbGFjZSgvXi4rXC92NFwvLywiLyIpLHIucGF0aD0iL3Y0IityLnBhdGg7dmFyIG49dGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV0ubWF0Y2goL15hY2Nlc3NfdG9rZW49KC4qKSQvKTtpZihuKXJldHVybiBuWzFdfXJldHVybiBudWxsfShyLnBhcmFtcyl8fEwuQUNDRVNTX1RPS0VOO3JldHVybiBMLlJFUVVJUkVfQUNDRVNTX1RPS0VOJiZuJiZ0aGlzLl9za3VUb2tlbiYmci5wYXJhbXMucHVzaCgic2t1PSIrdGhpcy5fc2t1VG9rZW4pLHRoaXMuX21ha2VBUElVUkwocixuKX0sTi5wcm90b3R5cGUuY2Fub25pY2FsaXplVGlsZVVSTD1mdW5jdGlvbih0LGUpe3ZhciByPUoodCk7aWYoIXIucGF0aC5tYXRjaCgvKF5cL3Y0XC8pLyl8fCFyLnBhdGgubWF0Y2goL1wuW1x3XSskLykpcmV0dXJuIHQ7dmFyIG49Im1hcGJveDovL3RpbGVzLyI7bis9ci5wYXRoLnJlcGxhY2UoIi92NC8iLCIiKTt2YXIgaT1yLnBhcmFtcztyZXR1cm4gZSYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiAhdC5tYXRjaCgvXmFjY2Vzc190b2tlbj0vKX0pKSksaS5sZW5ndGgmJihuKz0iPyIraS5qb2luKCImIikpLG59LE4ucHJvdG90eXBlLmNhbm9uaWNhbGl6ZVRpbGVzZXQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9ISFlJiZLKGUpLG49W10saT0wLGE9dC50aWxlc3x8W107aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO1oobyk/bi5wdXNoKHRoaXMuY2Fub25pY2FsaXplVGlsZVVSTChvLHIpKTpuLnB1c2gobyk7fXJldHVybiBufSxOLnByb3RvdHlwZS5fbWFrZUFQSVVSTD1mdW5jdGlvbih0LGUpe3ZhciByPSJTZWUgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hcGktZG9jdW1lbnRhdGlvbi8jYWNjZXNzLXRva2Vucy1hbmQtdG9rZW4tc2NvcGVzIixuPUooTC5BUElfVVJMKTtpZih0LnByb3RvY29sPW4ucHJvdG9jb2wsdC5hdXRob3JpdHk9bi5hdXRob3JpdHksIi8iIT09bi5wYXRoJiYodC5wYXRoPSIiK24ucGF0aCt0LnBhdGgpLCFMLlJFUVVJUkVfQUNDRVNTX1RPS0VOKXJldHVybiBIKHQpO2lmKCEoZT1lfHxMLkFDQ0VTU19UT0tFTikpdGhyb3cgbmV3IEVycm9yKCJBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuICIrcik7aWYoInMiPT09ZVswXSl0aHJvdyBuZXcgRXJyb3IoIlVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94IEdMLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gIityKTtyZXR1cm4gdC5wYXJhbXM9dC5wYXJhbXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gLTE9PT10LmluZGV4T2YoImFjY2Vzc190b2tlbiIpfSkpLHQucGFyYW1zLnB1c2goImFjY2Vzc190b2tlbj0iK2UpLEgodCl9O3ZhciBHPS9eKChodHRwcz86KT9cL1wvKT8oW15cL10rXC4pP21hcGJveFwuYyhufG9tKShcL3xcP3wkKS9pO2Z1bmN0aW9uIFoodCl7cmV0dXJuIEcudGVzdCh0KX12YXIgWD0vXihcdyspOlwvXC8oW14vP10qKShcL1teP10rKT9cPz8oLispPy87ZnVuY3Rpb24gSih0KXt2YXIgZT10Lm1hdGNoKFgpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHBhcnNlIFVSTCBvYmplY3QiKTtyZXR1cm4ge3Byb3RvY29sOmVbMV0sYXV0aG9yaXR5OmVbMl0scGF0aDplWzNdfHwiLyIscGFyYW1zOmVbNF0/ZVs0XS5zcGxpdCgiJiIpOltdfX1mdW5jdGlvbiBIKHQpe3ZhciBlPXQucGFyYW1zLmxlbmd0aD8iPyIrdC5wYXJhbXMuam9pbigiJiIpOiIiO3JldHVybiB0LnByb3RvY29sKyI6Ly8iK3QuYXV0aG9yaXR5K3QucGF0aCtlfWZ1bmN0aW9uIFkodCl7aWYoIXQpcmV0dXJuIG51bGw7dmFyIGU9dC5zcGxpdCgiLiIpO2lmKCFlfHwzIT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChzZWxmLmF0b2IoZVsxXSkuc3BsaXQoIiIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICIlIisoIjAwIit0LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KSkuam9pbigiIikpKX1jYXRjaCh0KXtyZXR1cm4gbnVsbH19dmFyICQ9ZnVuY3Rpb24odCl7dGhpcy50eXBlPXQsdGhpcy5hbm9uSWQ9bnVsbCx0aGlzLmV2ZW50RGF0YT17fSx0aGlzLnF1ZXVlPVtdLHRoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbDt9OyQucHJvdG90eXBlLmdldFN0b3JhZ2VLZXk9ZnVuY3Rpb24odCl7dmFyIGUscj1ZKEwuQUNDRVNTX1RPS0VOKTtyZXR1cm4gZT1yJiZyLnU/c2VsZi5idG9hKGVuY29kZVVSSUNvbXBvbmVudChyLnUpLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2csKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKCIweCIrZSkpfSkpKTpMLkFDQ0VTU19UT0tFTnx8IiIsdD8ibWFwYm94LmV2ZW50RGF0YS4iK3QrIjoiK2U6Im1hcGJveC5ldmVudERhdGE6IitlfSwkLnByb3RvdHlwZS5mZXRjaEV2ZW50RGF0YT1mdW5jdGlvbigpe3ZhciB0PUMoImxvY2FsU3RvcmFnZSIpLGU9dGhpcy5nZXRTdG9yYWdlS2V5KCkscj10aGlzLmdldFN0b3JhZ2VLZXkoInV1aWQiKTtpZih0KXRyeXt2YXIgbj1zZWxmLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGUpO24mJih0aGlzLmV2ZW50RGF0YT1KU09OLnBhcnNlKG4pKTt2YXIgaT1zZWxmLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHIpO2kmJih0aGlzLmFub25JZD1pKTt9Y2F0Y2godCl7dygiVW5hYmxlIHRvIHJlYWQgZnJvbSBMb2NhbFN0b3JhZ2UiKTt9fSwkLnByb3RvdHlwZS5zYXZlRXZlbnREYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9QygibG9jYWxTdG9yYWdlIiksZT10aGlzLmdldFN0b3JhZ2VLZXkoKSxyPXRoaXMuZ2V0U3RvcmFnZUtleSgidXVpZCIpO2lmKHQpdHJ5e3NlbGYubG9jYWxTdG9yYWdlLnNldEl0ZW0ocix0aGlzLmFub25JZCksT2JqZWN0LmtleXModGhpcy5ldmVudERhdGEpLmxlbmd0aD49MSYmc2VsZi5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLEpTT04uc3RyaW5naWZ5KHRoaXMuZXZlbnREYXRhKSk7fWNhdGNoKHQpe3coIlVuYWJsZSB0byB3cml0ZSB0byBMb2NhbFN0b3JhZ2UiKTt9fSwkLnByb3RvdHlwZS5wcm9jZXNzUmVxdWVzdHM9ZnVuY3Rpb24odCl7fSwkLnByb3RvdHlwZS5wb3N0RXZlbnQ9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcztpZihMLkVWRU5UU19VUkwpe3ZhciBhPUooTC5FVkVOVFNfVVJMKTthLnBhcmFtcy5wdXNoKCJhY2Nlc3NfdG9rZW49Iisobnx8TC5BQ0NFU1NfVE9LRU58fCIiKSk7dmFyIG89e2V2ZW50OnRoaXMudHlwZSxjcmVhdGVkOm5ldyBEYXRlKHQpLnRvSVNPU3RyaW5nKCksc2RrSWRlbnRpZmllcjoibWFwYm94LWdsLWpzIixzZGtWZXJzaW9uOiIxLjkuMSIsc2t1SWQ6cSx1c2VySWQ6dGhpcy5hbm9uSWR9LHM9ZT9wKG8sZSk6byx1PXt1cmw6SChhKSxoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoidGV4dC9wbGFpbiJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoW3NdKX07dGhpcy5wZW5kaW5nUmVxdWVzdD13dCh1LChmdW5jdGlvbih0KXtpLnBlbmRpbmdSZXF1ZXN0PW51bGwscih0KSxpLnNhdmVFdmVudERhdGEoKSxpLnByb2Nlc3NSZXF1ZXN0cyhuKTt9KSk7fX0sJC5wcm90b3R5cGUucXVldWVSZXF1ZXN0PWZ1bmN0aW9uKHQsZSl7dGhpcy5xdWV1ZS5wdXNoKHQpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKGUpO307dmFyIFcsUSx0dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMsIm1hcC5sb2FkIiksdGhpcy5zdWNjZXNzPXt9LHRoaXMuc2t1VG9rZW49IiI7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnBvc3RNYXBMb2FkRXZlbnQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5za3VUb2tlbj1yLChMLkVWRU5UU19VUkwmJm58fEwuQUNDRVNTX1RPS0VOJiZBcnJheS5pc0FycmF5KHQpJiZ0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBLKHQpfHxaKHQpfSkpKSYmdGhpcy5xdWV1ZVJlcXVlc3Qoe2lkOmUsdGltZXN0YW1wOkRhdGUubm93KCl9LG4pO30sZS5wcm90b3R5cGUucHJvY2Vzc1JlcXVlc3RzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMucGVuZGluZ1JlcXVlc3QmJjAhPT10aGlzLnF1ZXVlLmxlbmd0aCl7dmFyIHI9dGhpcy5xdWV1ZS5zaGlmdCgpLG49ci5pZCxpPXIudGltZXN0YW1wO24mJnRoaXMuc3VjY2Vzc1tuXXx8KHRoaXMuYW5vbklkfHx0aGlzLmZldGNoRXZlbnREYXRhKCkseSh0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1mKCkpLHRoaXMucG9zdEV2ZW50KGkse3NrdVRva2VuOnRoaXMuc2t1VG9rZW59LChmdW5jdGlvbih0KXt0fHxuJiYoZS5zdWNjZXNzW25dPSEwKTt9KSx0KSk7fX0sZX0oJCksZXQ9bmV3KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsImFwcFVzZXJUdXJuc3RpbGUiKSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5wb3N0VHVybnN0aWxlRXZlbnQ9ZnVuY3Rpb24odCxlKXtMLkVWRU5UU19VUkwmJkwuQUNDRVNTX1RPS0VOJiZBcnJheS5pc0FycmF5KHQpJiZ0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBLKHQpfHxaKHQpfSkpJiZ0aGlzLnF1ZXVlUmVxdWVzdChEYXRlLm5vdygpLGUpO30sZS5wcm90b3R5cGUucHJvY2Vzc1JlcXVlc3RzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMucGVuZGluZ1JlcXVlc3QmJjAhPT10aGlzLnF1ZXVlLmxlbmd0aCl7dGhpcy5hbm9uSWQmJnRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzJiZ0aGlzLmV2ZW50RGF0YS50b2tlblV8fHRoaXMuZmV0Y2hFdmVudERhdGEoKTt2YXIgcj1ZKEwuQUNDRVNTX1RPS0VOKSxuPXI/ci51OkwuQUNDRVNTX1RPS0VOLGk9biE9PXRoaXMuZXZlbnREYXRhLnRva2VuVTt5KHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPWYoKSxpPSEwKTt2YXIgYT10aGlzLnF1ZXVlLnNoaWZ0KCk7aWYodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3Mpe3ZhciBvPW5ldyBEYXRlKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKSxzPW5ldyBEYXRlKGEpLHU9KGEtdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLzg2NGU1O2k9aXx8dT49MXx8dTwtMXx8by5nZXREYXRlKCkhPT1zLmdldERhdGUoKTt9ZWxzZSBpPSEwO2lmKCFpKXJldHVybiB0aGlzLnByb2Nlc3NSZXF1ZXN0cygpO3RoaXMucG9zdEV2ZW50KGEseyJlbmFibGVkLnRlbGVtZXRyeSI6ITF9LChmdW5jdGlvbih0KXt0fHwoZS5ldmVudERhdGEubGFzdFN1Y2Nlc3M9YSxlLmV2ZW50RGF0YS50b2tlblU9bik7fSksdCk7fX0sZX0oJCkpLHJ0PWV0LnBvc3RUdXJuc3RpbGVFdmVudC5iaW5kKGV0KSxudD1uZXcgdHQsaXQ9bnQucG9zdE1hcExvYWRFdmVudC5iaW5kKG50KSxhdD0ibWFwYm94LXRpbGVzIixvdD01MDAsc3Q9NTAsdXQ9NDJlNDtmdW5jdGlvbiBsdCgpe3NlbGYuY2FjaGVzJiYhVyYmKFc9c2VsZi5jYWNoZXMub3BlbihhdCkpO31mdW5jdGlvbiBwdCh0KXt2YXIgZT10LmluZGV4T2YoIj8iKTtyZXR1cm4gZTwwP3Q6dC5zbGljZSgwLGUpfXZhciBjdCxodD0xLzA7ZnVuY3Rpb24gZnQoKXtyZXR1cm4gbnVsbD09Y3QmJihjdD1zZWxmLk9mZnNjcmVlbkNhbnZhcyYmbmV3IHNlbGYuT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dCgiMmQiKSYmImZ1bmN0aW9uIj09dHlwZW9mIHNlbGYuY3JlYXRlSW1hZ2VCaXRtYXApLGN0fXZhciB5dD17VW5rbm93bjoiVW5rbm93biIsU3R5bGU6IlN0eWxlIixTb3VyY2U6IlNvdXJjZSIsVGlsZToiVGlsZSIsR2x5cGhzOiJHbHlwaHMiLFNwcml0ZUltYWdlOiJTcHJpdGVJbWFnZSIsU3ByaXRlSlNPTjoiU3ByaXRlSlNPTiIsSW1hZ2U6IkltYWdlIn07ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoeXQpO3ZhciBkdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscixuKXs0MDE9PT1yJiZaKG4pJiYoZSs9IjogeW91IG1heSBoYXZlIHByb3ZpZGVkIGFuIGludmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbi4gU2VlIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3BlcyIpLHQuY2FsbCh0aGlzLGUpLHRoaXMuc3RhdHVzPXIsdGhpcy51cmw9bix0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMubWVzc2FnZT1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUrIjogIit0aGlzLm1lc3NhZ2UrIiAoIit0aGlzLnN0YXR1cysiKTogIit0aGlzLnVybH0sZX0oRXJyb3IpLG10PVMoKT9mdW5jdGlvbigpe3JldHVybiBzZWxmLndvcmtlciYmc2VsZi53b3JrZXIucmVmZXJyZXJ9OmZ1bmN0aW9uKCl7cmV0dXJuICgiYmxvYjoiPT09c2VsZi5sb2NhdGlvbi5wcm90b2NvbD9zZWxmLnBhcmVudDpzZWxmKS5sb2NhdGlvbi5ocmVmfTt2YXIgdnQsZ3QseHQ9ZnVuY3Rpb24odCxlKXtpZighKC9eZmlsZTovLnRlc3Qocj10LnVybCl8fC9eZmlsZTovLnRlc3QobXQoKSkmJiEvXlx3KzovLnRlc3QocikpKXtpZihzZWxmLmZldGNoJiZzZWxmLlJlcXVlc3QmJnNlbGYuQWJvcnRDb250cm9sbGVyJiZzZWxmLlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KCJzaWduYWwiKSlyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgcixuPW5ldyBzZWxmLkFib3J0Q29udHJvbGxlcixpPW5ldyBzZWxmLlJlcXVlc3QodC51cmwse21ldGhvZDp0Lm1ldGhvZHx8IkdFVCIsYm9keTp0LmJvZHksY3JlZGVudGlhbHM6dC5jcmVkZW50aWFscyxoZWFkZXJzOnQuaGVhZGVycyxyZWZlcnJlcjptdCgpLHNpZ25hbDpuLnNpZ25hbH0pLGE9ITEsbz0hMSxzPShyPWkudXJsKS5pbmRleE9mKCJza3U9Iik+MCYmWihyKTsianNvbiI9PT10LnR5cGUmJmkuaGVhZGVycy5zZXQoIkFjY2VwdCIsImFwcGxpY2F0aW9uL2pzb24iKTt2YXIgdT1mdW5jdGlvbihyLG4sYSl7aWYoIW8pe2lmKHImJiJTZWN1cml0eUVycm9yIiE9PXIubWVzc2FnZSYmdyhyKSxuJiZhKXJldHVybiBsKG4pO3ZhciB1PURhdGUubm93KCk7c2VsZi5mZXRjaChpKS50aGVuKChmdW5jdGlvbihyKXtpZihyLm9rKXt2YXIgbj1zP3IuY2xvbmUoKTpudWxsO3JldHVybiBsKHIsbix1KX1yZXR1cm4gZShuZXcgZHQoci5zdGF0dXNUZXh0LHIuc3RhdHVzLHQudXJsKSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpezIwIT09dC5jb2RlJiZlKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fX0sbD1mdW5jdGlvbihyLG4scyl7KCJhcnJheUJ1ZmZlciI9PT10LnR5cGU/ci5hcnJheUJ1ZmZlcigpOiJqc29uIj09PXQudHlwZT9yLmpzb24oKTpyLnRleHQoKSkudGhlbigoZnVuY3Rpb24odCl7b3x8KG4mJnMmJmZ1bmN0aW9uKHQsZSxyKXtpZihsdCgpLFcpe3ZhciBuPXtzdGF0dXM6ZS5zdGF0dXMsc3RhdHVzVGV4dDplLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgc2VsZi5IZWFkZXJzfTtlLmhlYWRlcnMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5oZWFkZXJzLnNldChlLHQpfSkpO3ZhciBpPWsoZS5oZWFkZXJzLmdldCgiQ2FjaGUtQ29udHJvbCIpfHwiIik7aVsibm8tc3RvcmUiXXx8KGlbIm1heC1hZ2UiXSYmbi5oZWFkZXJzLnNldCgiRXhwaXJlcyIsbmV3IERhdGUocisxZTMqaVsibWF4LWFnZSJdKS50b1VUQ1N0cmluZygpKSxuZXcgRGF0ZShuLmhlYWRlcnMuZ2V0KCJFeHBpcmVzIikpLmdldFRpbWUoKS1yPHV0fHxmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PVEpdHJ5e25ldyBSZXNwb25zZShuZXcgUmVhZGFibGVTdHJlYW0pLFE9ITA7fWNhdGNoKHQpe1E9ITE7fVE/ZSh0LmJvZHkpOnQuYmxvYigpLnRoZW4oZSk7fShlLChmdW5jdGlvbihlKXt2YXIgcj1uZXcgc2VsZi5SZXNwb25zZShlLG4pO2x0KCksVyYmVy50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wdXQocHQodC51cmwpLHIpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyZXR1cm4gdyh0Lm1lc3NhZ2UpfSkpO30pKSk7fX0oaSxuLHMpLGE9ITAsZShudWxsLHQsci5oZWFkZXJzLmdldCgiQ2FjaGUtQ29udHJvbCIpLHIuaGVhZGVycy5nZXQoIkV4cGlyZXMiKSkpO30pKS5jYXRjaCgoZnVuY3Rpb24odCl7b3x8ZShuZXcgRXJyb3IodC5tZXNzYWdlKSk7fSkpO307cmV0dXJuIHM/ZnVuY3Rpb24odCxlKXtpZihsdCgpLCFXKXJldHVybiBlKG51bGwpO3ZhciByPXB0KHQudXJsKTtXLnRoZW4oKGZ1bmN0aW9uKHQpe3QubWF0Y2gocikudGhlbigoZnVuY3Rpb24obil7dmFyIGk9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuICExO3ZhciBlPW5ldyBEYXRlKHQuaGVhZGVycy5nZXQoIkV4cGlyZXMiKXx8MCkscj1rKHQuaGVhZGVycy5nZXQoIkNhY2hlLUNvbnRyb2wiKXx8IiIpO3JldHVybiBlPkRhdGUubm93KCkmJiFyWyJuby1jYWNoZSJdfShuKTt0LmRlbGV0ZShyKSxpJiZ0LnB1dChyLG4uY2xvbmUoKSksZShudWxsLG4saSk7fSkpLmNhdGNoKGUpO30pKS5jYXRjaChlKTt9KGksdSk6dShudWxsLG51bGwpLHtjYW5jZWw6ZnVuY3Rpb24oKXtvPSEwLGF8fG4uYWJvcnQoKTt9fX0odCxlKTtpZihTKCkmJnNlbGYud29ya2VyJiZzZWxmLndvcmtlci5hY3RvcilyZXR1cm4gc2VsZi53b3JrZXIuYWN0b3Iuc2VuZCgiZ2V0UmVzb3VyY2UiLHQsZSx2b2lkIDAsITApfXZhciByO3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciByPW5ldyBzZWxmLlhNTEh0dHBSZXF1ZXN0O2Zvcih2YXIgbiBpbiByLm9wZW4odC5tZXRob2R8fCJHRVQiLHQudXJsLCEwKSwiYXJyYXlCdWZmZXIiPT09dC50eXBlJiYoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIiksdC5oZWFkZXJzKXIuc2V0UmVxdWVzdEhlYWRlcihuLHQuaGVhZGVyc1tuXSk7cmV0dXJuICJqc29uIj09PXQudHlwZSYmKHIucmVzcG9uc2VUeXBlPSJ0ZXh0IixyLnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsImFwcGxpY2F0aW9uL2pzb24iKSksci53aXRoQ3JlZGVudGlhbHM9ImluY2x1ZGUiPT09dC5jcmVkZW50aWFscyxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKG5ldyBFcnJvcihyLnN0YXR1c1RleHQpKTt9LHIub25sb2FkPWZ1bmN0aW9uKCl7aWYoKHIuc3RhdHVzPj0yMDAmJnIuc3RhdHVzPDMwMHx8MD09PXIuc3RhdHVzKSYmbnVsbCE9PXIucmVzcG9uc2Upe3ZhciBuPXIucmVzcG9uc2U7aWYoImpzb24iPT09dC50eXBlKXRyeXtuPUpTT04ucGFyc2Uoci5yZXNwb25zZSk7fWNhdGNoKHQpe3JldHVybiBlKHQpfWUobnVsbCxuLHIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNhY2hlLUNvbnRyb2wiKSxyLmdldFJlc3BvbnNlSGVhZGVyKCJFeHBpcmVzIikpO31lbHNlIGUobmV3IGR0KHIuc3RhdHVzVGV4dCxyLnN0YXR1cyx0LnVybCkpO30sci5zZW5kKHQuYm9keSkse2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiByLmFib3J0KCl9fX0odCxlKX0sYnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4geHQocCh0LHt0eXBlOiJhcnJheUJ1ZmZlciJ9KSxlKX0sd3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4geHQocCh0LHttZXRob2Q6IlBPU1QifSksZSl9O3Z0PVtdLGd0PTA7dmFyIF90PWZ1bmN0aW9uKHQsZSl7aWYoUi5zdXBwb3J0ZWQmJih0LmhlYWRlcnN8fCh0LmhlYWRlcnM9e30pLHQuaGVhZGVycy5hY2NlcHQ9ImltYWdlL3dlYnAsKi8qIiksZ3Q+PUwuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTKXt2YXIgcj17cmVxdWVzdFBhcmFtZXRlcnM6dCxjYWxsYmFjazplLGNhbmNlbGxlZDohMSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGxlZD0hMDt9fTtyZXR1cm4gdnQucHVzaChyKSxyfWd0Kys7dmFyIG49ITEsaT1mdW5jdGlvbigpe2lmKCFuKWZvcihuPSEwLGd0LS07dnQubGVuZ3RoJiZndDxMLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzspe3ZhciB0PXZ0LnNoaWZ0KCk7dC5jYW5jZWxsZWR8fCh0LmNhbmNlbD1fdCh0LnJlcXVlc3RQYXJhbWV0ZXJzLHQuY2FsbGJhY2spLmNhbmNlbCk7fX0sYT1idCh0LChmdW5jdGlvbih0LHIsbixhKXtpKCksdD9lKHQpOnImJihmdCgpP2Z1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IHNlbGYuQmxvYihbbmV3IFVpbnQ4QXJyYXkodCldLHt0eXBlOiJpbWFnZS9wbmcifSk7c2VsZi5jcmVhdGVJbWFnZUJpdG1hcChyKS50aGVuKChmdW5jdGlvbih0KXtlKG51bGwsdCk7fSkpLmNhdGNoKChmdW5jdGlvbih0KXtlKG5ldyBFcnJvcigiQ291bGQgbm90IGxvYWQgaW1hZ2UgYmVjYXVzZSBvZiAiK3QubWVzc2FnZSsiLiBQbGVhc2UgbWFrZSBzdXJlIHRvIHVzZSBhIHN1cHBvcnRlZCBpbWFnZSB0eXBlIHN1Y2ggYXMgUE5HIG9yIEpQRUcuIE5vdGUgdGhhdCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkLiIpKTt9KSk7fShyLGUpOmZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPW5ldyBzZWxmLkltYWdlLGE9c2VsZi5VUkw7aS5vbmxvYWQ9ZnVuY3Rpb24oKXtlKG51bGwsaSksYS5yZXZva2VPYmplY3RVUkwoaS5zcmMpO30saS5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGUobmV3IEVycm9yKCJDb3VsZCBub3QgbG9hZCBpbWFnZS4gUGxlYXNlIG1ha2Ugc3VyZSB0byB1c2UgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBzdWNoIGFzIFBORyBvciBKUEVHLiBOb3RlIHRoYXQgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZC4iKSl9O3ZhciBvPW5ldyBzZWxmLkJsb2IoW25ldyBVaW50OEFycmF5KHQpXSx7dHlwZToiaW1hZ2UvcG5nIn0pO2kuY2FjaGVDb250cm9sPXIsaS5leHBpcmVzPW4saS5zcmM9dC5ieXRlTGVuZ3RoP2EuY3JlYXRlT2JqZWN0VVJMKG8pOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQzBsRVFWUVlWMk5nQUFJQUFBVUFBYXJWeUZFQUFBQUFTVVZPUks1Q1lJST0iO30ocixlLG4sYSkpO30pKTtyZXR1cm4ge2NhbmNlbDpmdW5jdGlvbigpe2EuY2FuY2VsKCksaSgpO319fTtmdW5jdGlvbiBBdCh0LGUscil7clt0XSYmLTEhPT1yW3RdLmluZGV4T2YoZSl8fChyW3RdPXJbdF18fFtdLHJbdF0ucHVzaChlKSk7fWZ1bmN0aW9uIFN0KHQsZSxyKXtpZihyJiZyW3RdKXt2YXIgbj1yW3RdLmluZGV4T2YoZSk7LTEhPT1uJiZyW3RdLnNwbGljZShuLDEpO319dmFyIGt0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pLHAodGhpcyxlKSx0aGlzLnR5cGU9dDt9LEl0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyKXt2b2lkIDA9PT1yJiYocj17fSksdC5jYWxsKHRoaXMsImVycm9yIixwKHtlcnJvcjplfSxyKSk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGV9KGt0KSx6dD1mdW5jdGlvbigpe307enQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xpc3RlbmVycz10aGlzLl9saXN0ZW5lcnN8fHt9LEF0KHQsZSx0aGlzLl9saXN0ZW5lcnMpLHRoaXN9LHp0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gU3QodCxlLHRoaXMuX2xpc3RlbmVycyksU3QodCxlLHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXN9LHp0LnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sQXQodCxlLHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXN9LHp0LnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKHQsZSl7InN0cmluZyI9PXR5cGVvZiB0JiYodD1uZXcga3QodCxlfHx7fSkpO3ZhciByPXQudHlwZTtpZih0aGlzLmxpc3RlbnMocikpe3QudGFyZ2V0PXRoaXM7Zm9yKHZhciBuPTAsaT10aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tyXT90aGlzLl9saXN0ZW5lcnNbcl0uc2xpY2UoKTpbXTtuPGkubGVuZ3RoO24rPTEpaVtuXS5jYWxsKHRoaXMsdCk7Zm9yKHZhciBhPTAsbz10aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3JdP3RoaXMuX29uZVRpbWVMaXN0ZW5lcnNbcl0uc2xpY2UoKTpbXTthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV07U3QocixzLHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHMuY2FsbCh0aGlzLHQpO312YXIgdT10aGlzLl9ldmVudGVkUGFyZW50O3UmJihwKHQsImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhP3RoaXMuX2V2ZW50ZWRQYXJlbnREYXRhKCk6dGhpcy5fZXZlbnRlZFBhcmVudERhdGEpLHUuZmlyZSh0KSk7fWVsc2UgdCBpbnN0YW5jZW9mIEl0JiZjb25zb2xlLmVycm9yKHQuZXJyb3IpO3JldHVybiB0aGlzfSx6dC5wcm90b3R5cGUubGlzdGVucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbdF0mJnRoaXMuX2xpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKHQpfSx6dC5wcm90b3R5cGUuc2V0RXZlbnRlZFBhcmVudD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9ldmVudGVkUGFyZW50PXQsdGhpcy5fZXZlbnRlZFBhcmVudERhdGE9ZSx0aGlzfTt2YXIgQ3Q9eyR2ZXJzaW9uOjgsJHJvb3Q6e3ZlcnNpb246e3JlcXVpcmVkOiEwLHR5cGU6ImVudW0iLHZhbHVlczpbOF19LG5hbWU6e3R5cGU6InN0cmluZyJ9LG1ldGFkYXRhOnt0eXBlOiIqIn0sY2VudGVyOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciJ9LHpvb206e3R5cGU6Im51bWJlciJ9LGJlYXJpbmc6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLHBlcmlvZDozNjAsdW5pdHM6ImRlZ3JlZXMifSxwaXRjaDp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsdW5pdHM6ImRlZ3JlZXMifSxsaWdodDp7dHlwZToibGlnaHQifSxzb3VyY2VzOntyZXF1aXJlZDohMCx0eXBlOiJzb3VyY2VzIn0sc3ByaXRlOnt0eXBlOiJzdHJpbmcifSxnbHlwaHM6e3R5cGU6InN0cmluZyJ9LHRyYW5zaXRpb246e3R5cGU6InRyYW5zaXRpb24ifSxsYXllcnM6e3JlcXVpcmVkOiEwLHR5cGU6ImFycmF5Iix2YWx1ZToibGF5ZXIifX0sc291cmNlczp7IioiOnt0eXBlOiJzb3VyY2UifX0sc291cmNlOlsic291cmNlX3ZlY3RvciIsInNvdXJjZV9yYXN0ZXIiLCJzb3VyY2VfcmFzdGVyX2RlbSIsInNvdXJjZV9nZW9qc29uIiwic291cmNlX3ZpZGVvIiwic291cmNlX2ltYWdlIl0sc291cmNlX3ZlY3Rvcjp7dHlwZTp7cmVxdWlyZWQ6ITAsdHlwZToiZW51bSIsdmFsdWVzOnt2ZWN0b3I6e319fSx1cmw6e3R5cGU6InN0cmluZyJ9LHRpbGVzOnt0eXBlOiJhcnJheSIsdmFsdWU6InN0cmluZyJ9LGJvdW5kczp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDo0LGRlZmF1bHQ6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sc2NoZW1lOnt0eXBlOiJlbnVtIix2YWx1ZXM6e3h5ejp7fSx0bXM6e319LGRlZmF1bHQ6Inh5eiJ9LG1pbnpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDowfSxtYXh6b29tOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MjJ9LGF0dHJpYnV0aW9uOnt0eXBlOiJzdHJpbmcifSxwcm9tb3RlSWQ6e3R5cGU6InByb21vdGVJZCJ9LCIqIjp7dHlwZToiKiJ9fSxzb3VyY2VfcmFzdGVyOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e3Jhc3Rlcjp7fX19LHVybDp7dHlwZToic3RyaW5nIn0sdGlsZXM6e3R5cGU6ImFycmF5Iix2YWx1ZToic3RyaW5nIn0sYm91bmRzOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjQsZGVmYXVsdDpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxtaW56b29tOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MH0sbWF4em9vbTp7dHlwZToibnVtYmVyIixkZWZhdWx0OjIyfSx0aWxlU2l6ZTp7dHlwZToibnVtYmVyIixkZWZhdWx0OjUxMix1bml0czoicGl4ZWxzIn0sc2NoZW1lOnt0eXBlOiJlbnVtIix2YWx1ZXM6e3h5ejp7fSx0bXM6e319LGRlZmF1bHQ6Inh5eiJ9LGF0dHJpYnV0aW9uOnt0eXBlOiJzdHJpbmcifSwiKiI6e3R5cGU6IioifX0sc291cmNlX3Jhc3Rlcl9kZW06e3R5cGU6e3JlcXVpcmVkOiEwLHR5cGU6ImVudW0iLHZhbHVlczp7InJhc3Rlci1kZW0iOnt9fX0sdXJsOnt0eXBlOiJzdHJpbmcifSx0aWxlczp7dHlwZToiYXJyYXkiLHZhbHVlOiJzdHJpbmcifSxib3VuZHM6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6NCxkZWZhdWx0OlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LG1pbnpvb206e3R5cGU6Im51bWJlciIsZGVmYXVsdDowfSxtYXh6b29tOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MjJ9LHRpbGVTaXplOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6NTEyLHVuaXRzOiJwaXhlbHMifSxhdHRyaWJ1dGlvbjp7dHlwZToic3RyaW5nIn0sZW5jb2Rpbmc6e3R5cGU6ImVudW0iLHZhbHVlczp7dGVycmFyaXVtOnt9LG1hcGJveDp7fX0sZGVmYXVsdDoibWFwYm94In0sIioiOnt0eXBlOiIqIn19LHNvdXJjZV9nZW9qc29uOnt0eXBlOntyZXF1aXJlZDohMCx0eXBlOiJlbnVtIix2YWx1ZXM6e2dlb2pzb246e319fSxkYXRhOnt0eXBlOiIqIn0sbWF4em9vbTp7dHlwZToibnVtYmVyIixkZWZhdWx0OjE4fSxhdHRyaWJ1dGlvbjp7dHlwZToic3RyaW5nIn0sYnVmZmVyOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MTI4LG1heGltdW06NTEyLG1pbmltdW06MH0sdG9sZXJhbmNlOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6LjM3NX0sY2x1c3Rlcjp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMX0sY2x1c3RlclJhZGl1czp7dHlwZToibnVtYmVyIixkZWZhdWx0OjUwLG1pbmltdW06MH0sY2x1c3Rlck1heFpvb206e3R5cGU6Im51bWJlciJ9LGNsdXN0ZXJQcm9wZXJ0aWVzOnt0eXBlOiIqIn0sbGluZU1ldHJpY3M6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITF9LGdlbmVyYXRlSWQ6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITF9LHByb21vdGVJZDp7dHlwZToicHJvbW90ZUlkIn19LHNvdXJjZV92aWRlbzp7dHlwZTp7cmVxdWlyZWQ6ITAsdHlwZToiZW51bSIsdmFsdWVzOnt2aWRlbzp7fX19LHVybHM6e3JlcXVpcmVkOiEwLHR5cGU6ImFycmF5Iix2YWx1ZToic3RyaW5nIn0sY29vcmRpbmF0ZXM6e3JlcXVpcmVkOiEwLHR5cGU6ImFycmF5IixsZW5ndGg6NCx2YWx1ZTp7dHlwZToiYXJyYXkiLGxlbmd0aDoyLHZhbHVlOiJudW1iZXIifX19LHNvdXJjZV9pbWFnZTp7dHlwZTp7cmVxdWlyZWQ6ITAsdHlwZToiZW51bSIsdmFsdWVzOntpbWFnZTp7fX19LHVybDp7cmVxdWlyZWQ6ITAsdHlwZToic3RyaW5nIn0sY29vcmRpbmF0ZXM6e3JlcXVpcmVkOiEwLHR5cGU6ImFycmF5IixsZW5ndGg6NCx2YWx1ZTp7dHlwZToiYXJyYXkiLGxlbmd0aDoyLHZhbHVlOiJudW1iZXIifX19LGxheWVyOntpZDp7dHlwZToic3RyaW5nIixyZXF1aXJlZDohMH0sdHlwZTp7dHlwZToiZW51bSIsdmFsdWVzOntmaWxsOnt9LGxpbmU6e30sc3ltYm9sOnt9LGNpcmNsZTp7fSxoZWF0bWFwOnt9LCJmaWxsLWV4dHJ1c2lvbiI6e30scmFzdGVyOnt9LGhpbGxzaGFkZTp7fSxiYWNrZ3JvdW5kOnt9fSxyZXF1aXJlZDohMH0sbWV0YWRhdGE6e3R5cGU6IioifSxzb3VyY2U6e3R5cGU6InN0cmluZyJ9LCJzb3VyY2UtbGF5ZXIiOnt0eXBlOiJzdHJpbmcifSxtaW56b29tOnt0eXBlOiJudW1iZXIiLG1pbmltdW06MCxtYXhpbXVtOjI0fSxtYXh6b29tOnt0eXBlOiJudW1iZXIiLG1pbmltdW06MCxtYXhpbXVtOjI0fSxmaWx0ZXI6e3R5cGU6ImZpbHRlciJ9LGxheW91dDp7dHlwZToibGF5b3V0In0scGFpbnQ6e3R5cGU6InBhaW50In19LGxheW91dDpbImxheW91dF9maWxsIiwibGF5b3V0X2xpbmUiLCJsYXlvdXRfY2lyY2xlIiwibGF5b3V0X2hlYXRtYXAiLCJsYXlvdXRfZmlsbC1leHRydXNpb24iLCJsYXlvdXRfc3ltYm9sIiwibGF5b3V0X3Jhc3RlciIsImxheW91dF9oaWxsc2hhZGUiLCJsYXlvdXRfYmFja2dyb3VuZCJdLGxheW91dF9iYWNrZ3JvdW5kOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfZmlsbDp7ImZpbGwtc29ydC1rZXkiOnt0eXBlOiJudW1iZXIiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LHZpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LGxheW91dF9jaXJjbGU6eyJjaXJjbGUtc29ydC1rZXkiOnt0eXBlOiJudW1iZXIiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LHZpc2liaWxpdHk6e3R5cGU6ImVudW0iLHZhbHVlczp7dmlzaWJsZTp7fSxub25lOnt9fSxkZWZhdWx0OiJ2aXNpYmxlIiwicHJvcGVydHktdHlwZSI6ImNvbnN0YW50In19LGxheW91dF9oZWF0bWFwOnt2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uIjp7dmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sbGF5b3V0X2xpbmU6eyJsaW5lLWNhcCI6e3R5cGU6ImVudW0iLHZhbHVlczp7YnV0dDp7fSxyb3VuZDp7fSxzcXVhcmU6e319LGRlZmF1bHQ6ImJ1dHQiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwibGluZS1qb2luIjp7dHlwZToiZW51bSIsdmFsdWVzOntiZXZlbDp7fSxyb3VuZDp7fSxtaXRlcjp7fX0sZGVmYXVsdDoibWl0ZXIiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJsaW5lLW1pdGVyLWxpbWl0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjIscmVxdWlyZXM6W3sibGluZS1qb2luIjoibWl0ZXIifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLXJvdW5kLWxpbWl0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEuMDUscmVxdWlyZXM6W3sibGluZS1qb2luIjoicm91bmQifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJsaW5lLXNvcnQta2V5Ijp7dHlwZToibnVtYmVyIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSx2aXNpYmlsaXR5Ont0eXBlOiJlbnVtIix2YWx1ZXM6e3Zpc2libGU6e30sbm9uZTp7fX0sZGVmYXVsdDoidmlzaWJsZSIsInByb3BlcnR5LXR5cGUiOiJjb25zdGFudCJ9fSxsYXlvdXRfc3ltYm9sOnsic3ltYm9sLXBsYWNlbWVudCI6e3R5cGU6ImVudW0iLHZhbHVlczp7cG9pbnQ6e30sbGluZTp7fSwibGluZS1jZW50ZXIiOnt9fSxkZWZhdWx0OiJwb2ludCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJzeW1ib2wtc3BhY2luZyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoyNTAsbWluaW11bToxLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlt7InN5bWJvbC1wbGFjZW1lbnQiOiJsaW5lIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwic3ltYm9sLWF2b2lkLWVkZ2VzIjp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInN5bWJvbC1zb3J0LWtleSI6e3R5cGU6Im51bWJlciIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInN5bWJvbC16LW9yZGVyIjp7dHlwZToiZW51bSIsdmFsdWVzOnthdXRvOnt9LCJ2aWV3cG9ydC15Ijp7fSxzb3VyY2U6e319LGRlZmF1bHQ6ImF1dG8iLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1hbGxvdy1vdmVybGFwIjp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24taWdub3JlLXBsYWNlbWVudCI6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLW9wdGlvbmFsIjp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxyZXF1aXJlczpbImljb24taW1hZ2UiLCJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJpY29uLXJvdGF0aW9uLWFsaWdubWVudCI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9LGF1dG86e319LGRlZmF1bHQ6ImF1dG8iLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi1zaXplIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLHVuaXRzOiJmYWN0b3Igb2YgdGhlIG9yaWdpbmFsIGljb24gc2l6ZSIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24tdGV4dC1maXQiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e25vbmU6e30sd2lkdGg6e30saGVpZ2h0Ont9LGJvdGg6e319LGRlZmF1bHQ6Im5vbmUiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSIsInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24tdGV4dC1maXQtcGFkZGluZyI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6NCxkZWZhdWx0OlswLDAsMCwwXSx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbImljb24taW1hZ2UiLCJ0ZXh0LWZpZWxkIix7Imljb24tdGV4dC1maXQiOlsiYm90aCIsIndpZHRoIiwiaGVpZ2h0Il19XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24taW1hZ2UiOnt0eXBlOiJyZXNvbHZlZEltYWdlIix0b2tlbnM6ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24tcm90YXRlIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAscGVyaW9kOjM2MCx1bml0czoiZGVncmVlcyIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24tcGFkZGluZyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoyLG1pbmltdW06MCx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24ta2VlcC11cHJpZ2h0Ijp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxyZXF1aXJlczpbImljb24taW1hZ2UiLHsiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiOiJtYXAifSx7InN5bWJvbC1wbGFjZW1lbnQiOlsibGluZSIsImxpbmUtY2VudGVyIl19XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImljb24tb2Zmc2V0Ijp7dHlwZToiYXJyYXkiLHZhbHVlOiJudW1iZXIiLGxlbmd0aDoyLGRlZmF1bHQ6WzAsMF0scmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24tYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOntjZW50ZXI6e30sbGVmdDp7fSxyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9LCJ0b3AtbGVmdCI6e30sInRvcC1yaWdodCI6e30sImJvdHRvbS1sZWZ0Ijp7fSwiYm90dG9tLXJpZ2h0Ijp7fX0sZGVmYXVsdDoiY2VudGVyIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1waXRjaC1hbGlnbm1lbnQiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fSxhdXRvOnt9fSxkZWZhdWx0OiJhdXRvIixyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtcGl0Y2gtYWxpZ25tZW50Ijp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e30sYXV0bzp7fX0sZGVmYXVsdDoiYXV0byIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9LGF1dG86e319LGRlZmF1bHQ6ImF1dG8iLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1maWVsZCI6e3R5cGU6ImZvcm1hdHRlZCIsZGVmYXVsdDoiIix0b2tlbnM6ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtZm9udCI6e3R5cGU6ImFycmF5Iix2YWx1ZToic3RyaW5nIixkZWZhdWx0OlsiT3BlbiBTYW5zIFJlZ3VsYXIiLCJBcmlhbCBVbmljb2RlIE1TIFJlZ3VsYXIiXSxyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1zaXplIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjE2LG1pbmltdW06MCx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1tYXgtd2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MTAsbWluaW11bTowLHVuaXRzOiJlbXMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LWxpbmUtaGVpZ2h0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEuMix1bml0czoiZW1zIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtbGV0dGVyLXNwYWNpbmciOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCx1bml0czoiZW1zIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1qdXN0aWZ5Ijp7dHlwZToiZW51bSIsdmFsdWVzOnthdXRvOnt9LGxlZnQ6e30sY2VudGVyOnt9LHJpZ2h0Ont9fSxkZWZhdWx0OiJjZW50ZXIiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LXJhZGlhbC1vZmZzZXQiOnt0eXBlOiJudW1iZXIiLHVuaXRzOiJlbXMiLGRlZmF1bHQ6MCxyZXF1aXJlczpbInRleHQtZmllbGQiXSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19fSwidGV4dC12YXJpYWJsZS1hbmNob3IiOnt0eXBlOiJhcnJheSIsdmFsdWU6ImVudW0iLHZhbHVlczp7Y2VudGVyOnt9LGxlZnQ6e30scmlnaHQ6e30sdG9wOnt9LGJvdHRvbTp7fSwidG9wLWxlZnQiOnt9LCJ0b3AtcmlnaHQiOnt9LCJib3R0b20tbGVmdCI6e30sImJvdHRvbS1yaWdodCI6e319LHJlcXVpcmVzOlsidGV4dC1maWVsZCIseyJzeW1ib2wtcGxhY2VtZW50IjpbInBvaW50Il19XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOntjZW50ZXI6e30sbGVmdDp7fSxyaWdodDp7fSx0b3A6e30sYm90dG9tOnt9LCJ0b3AtbGVmdCI6e30sInRvcC1yaWdodCI6e30sImJvdHRvbS1sZWZ0Ijp7fSwiYm90dG9tLXJpZ2h0Ijp7fX0sZGVmYXVsdDoiY2VudGVyIixyZXF1aXJlczpbInRleHQtZmllbGQiLHsiISI6InRleHQtdmFyaWFibGUtYW5jaG9yIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LW1heC1hbmdsZSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDo0NSx1bml0czoiZGVncmVlcyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIix7InN5bWJvbC1wbGFjZW1lbnQiOlsibGluZSIsImxpbmUtY2VudGVyIl19XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtd3JpdGluZy1tb2RlIjp7dHlwZToiYXJyYXkiLHZhbHVlOiJlbnVtIix2YWx1ZXM6e2hvcml6b250YWw6e30sdmVydGljYWw6e319LHJlcXVpcmVzOlsidGV4dC1maWVsZCIseyJzeW1ib2wtcGxhY2VtZW50IjpbInBvaW50Il19XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtcm90YXRlIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAscGVyaW9kOjM2MCx1bml0czoiZGVncmVlcyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtcGFkZGluZyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoyLG1pbmltdW06MCx1bml0czoicGl4ZWxzIixyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQta2VlcC11cHJpZ2h0Ijp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMCxyZXF1aXJlczpbInRleHQtZmllbGQiLHsidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiOiJtYXAifSx7InN5bWJvbC1wbGFjZW1lbnQiOlsibGluZSIsImxpbmUtY2VudGVyIl19XSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtdHJhbnNmb3JtIjp7dHlwZToiZW51bSIsdmFsdWVzOntub25lOnt9LHVwcGVyY2FzZTp7fSxsb3dlcmNhc2U6e319LGRlZmF1bHQ6Im5vbmUiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LW9mZnNldCI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIix1bml0czoiZW1zIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHJlcXVpcmVzOlsidGV4dC1maWVsZCIseyIhIjoidGV4dC1yYWRpYWwtb2Zmc2V0In1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LWFsbG93LW92ZXJsYXAiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC1pZ25vcmUtcGxhY2VtZW50Ijp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtb3B0aW9uYWwiOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHJlcXVpcmVzOlsidGV4dC1maWVsZCIsImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sdmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sbGF5b3V0X3Jhc3Rlcjp7dmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sbGF5b3V0X2hpbGxzaGFkZTp7dmlzaWJpbGl0eTp7dHlwZToiZW51bSIsdmFsdWVzOnt2aXNpYmxlOnt9LG5vbmU6e319LGRlZmF1bHQ6InZpc2libGUiLCJwcm9wZXJ0eS10eXBlIjoiY29uc3RhbnQifX0sZmlsdGVyOnt0eXBlOiJhcnJheSIsdmFsdWU6IioifSxmaWx0ZXJfb3BlcmF0b3I6e3R5cGU6ImVudW0iLHZhbHVlczp7Ij09Ijp7fSwiIT0iOnt9LCI+Ijp7fSwiPj0iOnt9LCI8Ijp7fSwiPD0iOnt9LGluOnt9LCIhaW4iOnt9LGFsbDp7fSxhbnk6e30sbm9uZTp7fSxoYXM6e30sIiFoYXMiOnt9fX0sZ2VvbWV0cnlfdHlwZTp7dHlwZToiZW51bSIsdmFsdWVzOntQb2ludDp7fSxMaW5lU3RyaW5nOnt9LFBvbHlnb246e319fSxmdW5jdGlvbjp7ZXhwcmVzc2lvbjp7dHlwZToiZXhwcmVzc2lvbiJ9LHN0b3BzOnt0eXBlOiJhcnJheSIsdmFsdWU6ImZ1bmN0aW9uX3N0b3AifSxiYXNlOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjB9LHByb3BlcnR5Ont0eXBlOiJzdHJpbmciLGRlZmF1bHQ6IiR6b29tIn0sdHlwZTp7dHlwZToiZW51bSIsdmFsdWVzOntpZGVudGl0eTp7fSxleHBvbmVudGlhbDp7fSxpbnRlcnZhbDp7fSxjYXRlZ29yaWNhbDp7fX0sZGVmYXVsdDoiZXhwb25lbnRpYWwifSxjb2xvclNwYWNlOnt0eXBlOiJlbnVtIix2YWx1ZXM6e3JnYjp7fSxsYWI6e30saGNsOnt9fSxkZWZhdWx0OiJyZ2IifSxkZWZhdWx0Ont0eXBlOiIqIixyZXF1aXJlZDohMX19LGZ1bmN0aW9uX3N0b3A6e3R5cGU6ImFycmF5IixtaW5pbXVtOjAsbWF4aW11bToyNCx2YWx1ZTpbIm51bWJlciIsImNvbG9yIl0sbGVuZ3RoOjJ9LGV4cHJlc3Npb246e3R5cGU6ImFycmF5Iix2YWx1ZToiKiIsbWluaW11bToxfSxleHByZXNzaW9uX25hbWU6e3R5cGU6ImVudW0iLHZhbHVlczp7bGV0Ontncm91cDoiVmFyaWFibGUgYmluZGluZyJ9LHZhcjp7Z3JvdXA6IlZhcmlhYmxlIGJpbmRpbmcifSxsaXRlcmFsOntncm91cDoiVHlwZXMifSxhcnJheTp7Z3JvdXA6IlR5cGVzIn0sYXQ6e2dyb3VwOiJMb29rdXAifSxpbjp7Z3JvdXA6Ikxvb2t1cCJ9LGNhc2U6e2dyb3VwOiJEZWNpc2lvbiJ9LG1hdGNoOntncm91cDoiRGVjaXNpb24ifSxjb2FsZXNjZTp7Z3JvdXA6IkRlY2lzaW9uIn0sc3RlcDp7Z3JvdXA6IlJhbXBzLCBzY2FsZXMsIGN1cnZlcyJ9LGludGVycG9sYXRlOntncm91cDoiUmFtcHMsIHNjYWxlcywgY3VydmVzIn0sImludGVycG9sYXRlLWhjbCI6e2dyb3VwOiJSYW1wcywgc2NhbGVzLCBjdXJ2ZXMifSwiaW50ZXJwb2xhdGUtbGFiIjp7Z3JvdXA6IlJhbXBzLCBzY2FsZXMsIGN1cnZlcyJ9LGxuMjp7Z3JvdXA6Ik1hdGgifSxwaTp7Z3JvdXA6Ik1hdGgifSxlOntncm91cDoiTWF0aCJ9LHR5cGVvZjp7Z3JvdXA6IlR5cGVzIn0sc3RyaW5nOntncm91cDoiVHlwZXMifSxudW1iZXI6e2dyb3VwOiJUeXBlcyJ9LGJvb2xlYW46e2dyb3VwOiJUeXBlcyJ9LG9iamVjdDp7Z3JvdXA6IlR5cGVzIn0sY29sbGF0b3I6e2dyb3VwOiJUeXBlcyJ9LGZvcm1hdDp7Z3JvdXA6IlR5cGVzIn0saW1hZ2U6e2dyb3VwOiJUeXBlcyJ9LCJudW1iZXItZm9ybWF0Ijp7Z3JvdXA6IlR5cGVzIn0sInRvLXN0cmluZyI6e2dyb3VwOiJUeXBlcyJ9LCJ0by1udW1iZXIiOntncm91cDoiVHlwZXMifSwidG8tYm9vbGVhbiI6e2dyb3VwOiJUeXBlcyJ9LCJ0by1yZ2JhIjp7Z3JvdXA6IkNvbG9yIn0sInRvLWNvbG9yIjp7Z3JvdXA6IlR5cGVzIn0scmdiOntncm91cDoiQ29sb3IifSxyZ2JhOntncm91cDoiQ29sb3IifSxnZXQ6e2dyb3VwOiJMb29rdXAifSxoYXM6e2dyb3VwOiJMb29rdXAifSxsZW5ndGg6e2dyb3VwOiJMb29rdXAifSxwcm9wZXJ0aWVzOntncm91cDoiRmVhdHVyZSBkYXRhIn0sImZlYXR1cmUtc3RhdGUiOntncm91cDoiRmVhdHVyZSBkYXRhIn0sImdlb21ldHJ5LXR5cGUiOntncm91cDoiRmVhdHVyZSBkYXRhIn0saWQ6e2dyb3VwOiJGZWF0dXJlIGRhdGEifSx6b29tOntncm91cDoiWm9vbSJ9LCJoZWF0bWFwLWRlbnNpdHkiOntncm91cDoiSGVhdG1hcCJ9LCJsaW5lLXByb2dyZXNzIjp7Z3JvdXA6IkZlYXR1cmUgZGF0YSJ9LGFjY3VtdWxhdGVkOntncm91cDoiRmVhdHVyZSBkYXRhIn0sIisiOntncm91cDoiTWF0aCJ9LCIqIjp7Z3JvdXA6Ik1hdGgifSwiLSI6e2dyb3VwOiJNYXRoIn0sIi8iOntncm91cDoiTWF0aCJ9LCIlIjp7Z3JvdXA6Ik1hdGgifSwiXiI6e2dyb3VwOiJNYXRoIn0sc3FydDp7Z3JvdXA6Ik1hdGgifSxsb2cxMDp7Z3JvdXA6Ik1hdGgifSxsbjp7Z3JvdXA6Ik1hdGgifSxsb2cyOntncm91cDoiTWF0aCJ9LHNpbjp7Z3JvdXA6Ik1hdGgifSxjb3M6e2dyb3VwOiJNYXRoIn0sdGFuOntncm91cDoiTWF0aCJ9LGFzaW46e2dyb3VwOiJNYXRoIn0sYWNvczp7Z3JvdXA6Ik1hdGgifSxhdGFuOntncm91cDoiTWF0aCJ9LG1pbjp7Z3JvdXA6Ik1hdGgifSxtYXg6e2dyb3VwOiJNYXRoIn0scm91bmQ6e2dyb3VwOiJNYXRoIn0sYWJzOntncm91cDoiTWF0aCJ9LGNlaWw6e2dyb3VwOiJNYXRoIn0sZmxvb3I6e2dyb3VwOiJNYXRoIn0sIj09Ijp7Z3JvdXA6IkRlY2lzaW9uIn0sIiE9Ijp7Z3JvdXA6IkRlY2lzaW9uIn0sIj4iOntncm91cDoiRGVjaXNpb24ifSwiPCI6e2dyb3VwOiJEZWNpc2lvbiJ9LCI+PSI6e2dyb3VwOiJEZWNpc2lvbiJ9LCI8PSI6e2dyb3VwOiJEZWNpc2lvbiJ9LGFsbDp7Z3JvdXA6IkRlY2lzaW9uIn0sYW55Ontncm91cDoiRGVjaXNpb24ifSwiISI6e2dyb3VwOiJEZWNpc2lvbiJ9LHdpdGhpbjp7Z3JvdXA6IkRlY2lzaW9uIn0sImlzLXN1cHBvcnRlZC1zY3JpcHQiOntncm91cDoiU3RyaW5nIn0sdXBjYXNlOntncm91cDoiU3RyaW5nIn0sZG93bmNhc2U6e2dyb3VwOiJTdHJpbmcifSxjb25jYXQ6e2dyb3VwOiJTdHJpbmcifSwicmVzb2x2ZWQtbG9jYWxlIjp7Z3JvdXA6IlN0cmluZyJ9fX0sbGlnaHQ6e2FuY2hvcjp7dHlwZToiZW51bSIsZGVmYXVsdDoidmlld3BvcnQiLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQiLHRyYW5zaXRpb246ITEsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19fSxwb3NpdGlvbjp7dHlwZToiYXJyYXkiLGRlZmF1bHQ6WzEuMTUsMjEwLDMwXSxsZW5ndGg6Myx2YWx1ZToibnVtYmVyIiwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19fSxjb2xvcjp7dHlwZToiY29sb3IiLCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCIsZGVmYXVsdDoiI2ZmZmZmZiIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LHRyYW5zaXRpb246ITB9LGludGVuc2l0eTp7dHlwZToibnVtYmVyIiwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQiLGRlZmF1bHQ6LjUsbWluaW11bTowLG1heGltdW06MSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sdHJhbnNpdGlvbjohMH19LHBhaW50OlsicGFpbnRfZmlsbCIsInBhaW50X2xpbmUiLCJwYWludF9jaXJjbGUiLCJwYWludF9oZWF0bWFwIiwicGFpbnRfZmlsbC1leHRydXNpb24iLCJwYWludF9zeW1ib2wiLCJwYWludF9yYXN0ZXIiLCJwYWludF9oaWxsc2hhZGUiLCJwYWludF9iYWNrZ3JvdW5kIl0scGFpbnRfZmlsbDp7ImZpbGwtYW50aWFsaWFzIjp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbeyIhIjoiZmlsbC1wYXR0ZXJuIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiZmlsbC1vdXRsaW5lLWNvbG9yIjp7dHlwZToiY29sb3IiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6W3siISI6ImZpbGwtcGF0dGVybiJ9LHsiZmlsbC1hbnRpYWxpYXMiOiEwfV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJmaWxsLXRyYW5zbGF0ZSI6e3R5cGU6ImFycmF5Iix2YWx1ZToibnVtYmVyIixsZW5ndGg6MixkZWZhdWx0OlswLDBdLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJmaWxsLXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbImZpbGwtdHJhbnNsYXRlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJmaWxsLXBhdHRlcm4iOnt0eXBlOiJyZXNvbHZlZEltYWdlIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiXX0sInByb3BlcnR5LXR5cGUiOiJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlbiJ9fSwicGFpbnRfZmlsbC1leHRydXNpb24iOnsiZmlsbC1leHRydXNpb24tb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImZpbGwtZXh0cnVzaW9uLWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiMwMDAwMDAiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6W3siISI6ImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4ifV0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvciI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSxkZWZhdWx0OiJtYXAiLHJlcXVpcmVzOlsiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuIjp7dHlwZToicmVzb2x2ZWRJbWFnZSIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIl19LCJwcm9wZXJ0eS10eXBlIjoiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW4ifSwiZmlsbC1leHRydXNpb24taGVpZ2h0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHVuaXRzOiJtZXRlcnMiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJmaWxsLWV4dHJ1c2lvbi1iYXNlIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHVuaXRzOiJtZXRlcnMiLHRyYW5zaXRpb246ITAscmVxdWlyZXM6WyJmaWxsLWV4dHJ1c2lvbi1oZWlnaHQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50Ijp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMCx0cmFuc2l0aW9uOiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfbGluZTp7ImxpbmUtb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImxpbmUtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbeyIhIjoibGluZS1wYXR0ZXJuIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS10cmFuc2xhdGUiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwibGluZS10cmFuc2xhdGUtYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6Im1hcCIscmVxdWlyZXM6WyJsaW5lLXRyYW5zbGF0ZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwibGluZS13aWR0aCI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1nYXAtd2lkdGgiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImxpbmUtb2Zmc2V0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsdHJhbnNpdGlvbjohMCx1bml0czoicGl4ZWxzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImxpbmUtYmx1ciI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwibGluZS1kYXNoYXJyYXkiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6ImxpbmUgd2lkdGhzIixyZXF1aXJlczpbeyIhIjoibGluZS1wYXR0ZXJuIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImNyb3NzLWZhZGVkIn0sImxpbmUtcGF0dGVybiI6e3R5cGU6InJlc29sdmVkSW1hZ2UiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfSwicHJvcGVydHktdHlwZSI6ImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuIn0sImxpbmUtZ3JhZGllbnQiOnt0eXBlOiJjb2xvciIsdHJhbnNpdGlvbjohMSxyZXF1aXJlczpbeyIhIjoibGluZS1kYXNoYXJyYXkifSx7IiEiOiJsaW5lLXBhdHRlcm4ifSx7c291cmNlOiJnZW9qc29uIixoYXM6e2xpbmVNZXRyaWNzOiEwfX1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsibGluZS1wcm9ncmVzcyJdfSwicHJvcGVydHktdHlwZSI6ImNvbG9yLXJhbXAifX0scGFpbnRfY2lyY2xlOnsiY2lyY2xlLXJhZGl1cyI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDo1LG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiY2lyY2xlLWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiMwMDAwMDAiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJjaXJjbGUtYmx1ciI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJjaXJjbGUtb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImNpcmNsZS10cmFuc2xhdGUiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3IiOnt0eXBlOiJlbnVtIix2YWx1ZXM6e21hcDp7fSx2aWV3cG9ydDp7fX0sZGVmYXVsdDoibWFwIixyZXF1aXJlczpbImNpcmNsZS10cmFuc2xhdGUiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImNpcmNsZS1waXRjaC1zY2FsZSI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSxkZWZhdWx0OiJtYXAiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMSxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiY2lyY2xlLXBpdGNoLWFsaWdubWVudCI6e3R5cGU6ImVudW0iLHZhbHVlczp7bWFwOnt9LHZpZXdwb3J0Ont9fSxkZWZhdWx0OiJ2aWV3cG9ydCIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9LCJjaXJjbGUtc3Ryb2tlLXdpZHRoIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJjaXJjbGUtc3Ryb2tlLWNvbG9yIjp7dHlwZToiY29sb3IiLGRlZmF1bHQ6IiMwMDAwMDAiLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHkiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9fSxwYWludF9oZWF0bWFwOnsiaGVhdG1hcC1yYWRpdXMiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MzAsbWluaW11bToxLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJoZWF0bWFwLXdlaWdodCI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCx0cmFuc2l0aW9uOiExLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaGVhdG1hcC1pbnRlbnNpdHkiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImhlYXRtYXAtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDpbImludGVycG9sYXRlIixbImxpbmVhciJdLFsiaGVhdG1hcC1kZW5zaXR5Il0sMCwicmdiYSgwLCAwLCAyNTUsIDApIiwuMSwicm95YWxibHVlIiwuMywiY3lhbiIsLjUsImxpbWUiLC43LCJ5ZWxsb3ciLDEsInJlZCJdLHRyYW5zaXRpb246ITEsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJoZWF0bWFwLWRlbnNpdHkiXX0sInByb3BlcnR5LXR5cGUiOiJjb2xvci1yYW1wIn0sImhlYXRtYXAtb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In19LHBhaW50X3N5bWJvbDp7Imljb24tb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24tY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbImljb24taW1hZ2UiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sImljb24taGFsby1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiJyZ2JhKDAsIDAsIDAsIDApIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi1oYWxvLXdpZHRoIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJpY29uLWltYWdlIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJpY29uLWhhbG8tYmx1ciI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwiaWNvbi10cmFuc2xhdGUiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsiaWNvbi1pbWFnZSJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaWNvbi10cmFuc2xhdGUtYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6Im1hcCIscmVxdWlyZXM6WyJpY29uLWltYWdlIiwiaWNvbi10cmFuc2xhdGUiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInRleHQtb3BhY2l0eSI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDoxLG1pbmltdW06MCxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxvdmVycmlkYWJsZTohMCxyZXF1aXJlczpbInRleHQtZmllbGQiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iLCJmZWF0dXJlIiwiZmVhdHVyZS1zdGF0ZSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtZHJpdmVuIn0sInRleHQtaGFsby1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiJyZ2JhKDAsIDAsIDAsIDApIix0cmFuc2l0aW9uOiEwLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC1oYWxvLXdpZHRoIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLHRyYW5zaXRpb246ITAsdW5pdHM6InBpeGVscyIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIl0sZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSIsImZlYXR1cmUtc3RhdGUiXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiJ9LCJ0ZXh0LWhhbG8tYmx1ciI6e3R5cGU6Im51bWJlciIsZGVmYXVsdDowLG1pbmltdW06MCx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSIsImZlYXR1cmUiLCJmZWF0dXJlLXN0YXRlIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1kcml2ZW4ifSwidGV4dC10cmFuc2xhdGUiOnt0eXBlOiJhcnJheSIsdmFsdWU6Im51bWJlciIsbGVuZ3RoOjIsZGVmYXVsdDpbMCwwXSx0cmFuc2l0aW9uOiEwLHVuaXRzOiJwaXhlbHMiLHJlcXVpcmVzOlsidGV4dC1maWVsZCJdLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwidGV4dC10cmFuc2xhdGUtYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6Im1hcCIscmVxdWlyZXM6WyJ0ZXh0LWZpZWxkIiwidGV4dC10cmFuc2xhdGUiXSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In19LHBhaW50X3Jhc3Rlcjp7InJhc3Rlci1vcGFjaXR5Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLWh1ZS1yb3RhdGUiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxwZXJpb2Q6MzYwLHRyYW5zaXRpb246ITAsdW5pdHM6ImRlZ3JlZXMiLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLWJyaWdodG5lc3MtbWluIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLWJyaWdodG5lc3MtbWF4Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjEsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLXNhdHVyYXRpb24iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOi0xLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwicmFzdGVyLWNvbnRyYXN0Ijp7dHlwZToibnVtYmVyIixkZWZhdWx0OjAsbWluaW11bTotMSxtYXhpbXVtOjEsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInJhc3Rlci1yZXNhbXBsaW5nIjp7dHlwZToiZW51bSIsdmFsdWVzOntsaW5lYXI6e30sbmVhcmVzdDp7fX0sZGVmYXVsdDoibGluZWFyIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sInJhc3Rlci1mYWRlLWR1cmF0aW9uIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjMwMCxtaW5pbXVtOjAsdHJhbnNpdGlvbjohMSx1bml0czoibWlsbGlzZWNvbmRzIixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In19LHBhaW50X2hpbGxzaGFkZTp7ImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uIjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjMzNSxtaW5pbXVtOjAsbWF4aW11bTozNTksdHJhbnNpdGlvbjohMSxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITAscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yIjp7dHlwZToiZW51bSIsdmFsdWVzOnttYXA6e30sdmlld3BvcnQ6e319LGRlZmF1bHQ6InZpZXdwb3J0IixleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJkYXRhLWNvbnN0YW50In0sImhpbGxzaGFkZS1leGFnZ2VyYXRpb24iOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6LjUsbWluaW11bTowLG1heGltdW06MSx0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjRkZGRkZGIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiaGlsbHNoYWRlLWFjY2VudC1jb2xvciI6e3R5cGU6ImNvbG9yIixkZWZhdWx0OiIjMDAwMDAwIix0cmFuc2l0aW9uOiEwLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifX0scGFpbnRfYmFja2dyb3VuZDp7ImJhY2tncm91bmQtY29sb3IiOnt0eXBlOiJjb2xvciIsZGVmYXVsdDoiIzAwMDAwMCIsdHJhbnNpdGlvbjohMCxyZXF1aXJlczpbeyIhIjoiYmFja2dyb3VuZC1wYXR0ZXJuIn1dLGV4cHJlc3Npb246e2ludGVycG9sYXRlZDohMCxwYXJhbWV0ZXJzOlsiem9vbSJdfSwicHJvcGVydHktdHlwZSI6ImRhdGEtY29uc3RhbnQifSwiYmFja2dyb3VuZC1wYXR0ZXJuIjp7dHlwZToicmVzb2x2ZWRJbWFnZSIsdHJhbnNpdGlvbjohMCxleHByZXNzaW9uOntpbnRlcnBvbGF0ZWQ6ITEscGFyYW1ldGVyczpbInpvb20iXX0sInByb3BlcnR5LXR5cGUiOiJjcm9zcy1mYWRlZCJ9LCJiYWNrZ3JvdW5kLW9wYWNpdHkiOnt0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MSxtaW5pbXVtOjAsbWF4aW11bToxLHRyYW5zaXRpb246ITAsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiEwLHBhcmFtZXRlcnM6WyJ6b29tIl19LCJwcm9wZXJ0eS10eXBlIjoiZGF0YS1jb25zdGFudCJ9fSx0cmFuc2l0aW9uOntkdXJhdGlvbjp7dHlwZToibnVtYmVyIixkZWZhdWx0OjMwMCxtaW5pbXVtOjAsdW5pdHM6Im1pbGxpc2Vjb25kcyJ9LGRlbGF5Ont0eXBlOiJudW1iZXIiLGRlZmF1bHQ6MCxtaW5pbXVtOjAsdW5pdHM6Im1pbGxpc2Vjb25kcyJ9fSwicHJvcGVydHktdHlwZSI6eyJkYXRhLWRyaXZlbiI6e3R5cGU6InByb3BlcnR5LXR5cGUifSwiY3Jvc3MtZmFkZWQiOnt0eXBlOiJwcm9wZXJ0eS10eXBlIn0sImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuIjp7dHlwZToicHJvcGVydHktdHlwZSJ9LCJjb2xvci1yYW1wIjp7dHlwZToicHJvcGVydHktdHlwZSJ9LCJkYXRhLWNvbnN0YW50Ijp7dHlwZToicHJvcGVydHktdHlwZSJ9LGNvbnN0YW50Ont0eXBlOiJwcm9wZXJ0eS10eXBlIn19LHByb21vdGVJZDp7IioiOnt0eXBlOiJzdHJpbmcifX19LE10PWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMubWVzc2FnZT0odD90KyI6ICI6IiIpK3IsbiYmKHRoaXMuaWRlbnRpZmllcj1uKSxudWxsIT1lJiZlLl9fbGluZV9fJiYodGhpcy5saW5lPWUuX19saW5lX18pO307ZnVuY3Rpb24gVHQodCl7dmFyIGU9dC52YWx1ZTtyZXR1cm4gZT9bbmV3IE10KHQua2V5LGUsImNvbnN0YW50cyBoYXZlIGJlZW4gZGVwcmVjYXRlZCBhcyBvZiB2OCIpXTpbXX1mdW5jdGlvbiBFdCh0KXtmb3IodmFyIGU9W10scj1hcmd1bWVudHMubGVuZ3RoLTE7ci0tID4wOyllW3JdPWFyZ3VtZW50c1tyKzFdO2Zvcih2YXIgbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07Zm9yKHZhciBvIGluIGEpdFtvXT1hW29dO31yZXR1cm4gdH1mdW5jdGlvbiBQdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIEJvb2xlYW4/dC52YWx1ZU9mKCk6dH1mdW5jdGlvbiBCdCh0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0Lm1hcChCdCk7aWYodCBpbnN0YW5jZW9mIE9iamVjdCYmISh0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgQm9vbGVhbikpe3ZhciBlPXt9O2Zvcih2YXIgciBpbiB0KWVbcl09QnQodFtyXSk7cmV0dXJuIGV9cmV0dXJuIFB0KHQpfXZhciBWdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsciksdGhpcy5tZXNzYWdlPXIsdGhpcy5rZXk9ZTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0oRXJyb3IpLEZ0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9W10pLHRoaXMucGFyZW50PXQsdGhpcy5iaW5kaW5ncz17fTtmb3IodmFyIHI9MCxuPWU7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT1uW3JdO3RoaXMuYmluZGluZ3NbaVswXV09aVsxXTt9fTtGdC5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRnQodGhpcyx0KX0sRnQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZih0aGlzLmJpbmRpbmdzW3RdKXJldHVybiB0aGlzLmJpbmRpbmdzW3RdO2lmKHRoaXMucGFyZW50KXJldHVybiB0aGlzLnBhcmVudC5nZXQodCk7dGhyb3cgbmV3IEVycm9yKHQrIiBub3QgZm91bmQgaW4gc2NvcGUuIil9LEZ0LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuICEhdGhpcy5iaW5kaW5nc1t0XXx8ISF0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGFzKHQpfTt2YXIgRHQ9e2tpbmQ6Im51bGwifSxMdD17a2luZDoibnVtYmVyIn0sUnQ9e2tpbmQ6InN0cmluZyJ9LE90PXtraW5kOiJib29sZWFuIn0sVXQ9e2tpbmQ6ImNvbG9yIn0sanQ9e2tpbmQ6Im9iamVjdCJ9LHF0PXtraW5kOiJ2YWx1ZSJ9LE50PXtraW5kOiJjb2xsYXRvciJ9LEt0PXtraW5kOiJmb3JtYXR0ZWQifSxHdD17a2luZDoicmVzb2x2ZWRJbWFnZSJ9O2Z1bmN0aW9uIFp0KHQsZSl7cmV0dXJuIHtraW5kOiJhcnJheSIsaXRlbVR5cGU6dCxOOmV9fWZ1bmN0aW9uIFh0KHQpe2lmKCJhcnJheSI9PT10LmtpbmQpe3ZhciBlPVh0KHQuaXRlbVR5cGUpO3JldHVybiAibnVtYmVyIj09dHlwZW9mIHQuTj8iYXJyYXk8IitlKyIsICIrdC5OKyI+IjoidmFsdWUiPT09dC5pdGVtVHlwZS5raW5kPyJhcnJheSI6ImFycmF5PCIrZSsiPiJ9cmV0dXJuIHQua2luZH12YXIgSnQ9W0R0LEx0LFJ0LE90LFV0LEt0LGp0LFp0KHF0KSxHdF07ZnVuY3Rpb24gSHQodCxlKXtpZigiZXJyb3IiPT09ZS5raW5kKXJldHVybiBudWxsO2lmKCJhcnJheSI9PT10LmtpbmQpe2lmKCJhcnJheSI9PT1lLmtpbmQmJigwPT09ZS5OJiYidmFsdWUiPT09ZS5pdGVtVHlwZS5raW5kfHwhSHQodC5pdGVtVHlwZSxlLml0ZW1UeXBlKSkmJigibnVtYmVyIiE9dHlwZW9mIHQuTnx8dC5OPT09ZS5OKSlyZXR1cm4gbnVsbH1lbHNle2lmKHQua2luZD09PWUua2luZClyZXR1cm4gbnVsbDtpZigidmFsdWUiPT09dC5raW5kKWZvcih2YXIgcj0wLG49SnQ7cjxuLmxlbmd0aDtyKz0xKWlmKCFIdChuW3JdLGUpKXJldHVybiBudWxsfXJldHVybiAiRXhwZWN0ZWQgIitYdCh0KSsiIGJ1dCBmb3VuZCAiK1h0KGUpKyIgaW5zdGVhZC4ifXZhciBZdD1lKChmdW5jdGlvbih0LGUpe3ZhciByPXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1MywxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIG4odCl7cmV0dXJuICh0PU1hdGgucm91bmQodCkpPDA/MDp0PjI1NT8yNTU6dH1mdW5jdGlvbiBpKHQpe3JldHVybiBuKCIlIj09PXRbdC5sZW5ndGgtMV0/cGFyc2VGbG9hdCh0KS8xMDAqMjU1OnBhcnNlSW50KHQpKX1mdW5jdGlvbiBhKHQpe3JldHVybiAoZT0iJSI9PT10W3QubGVuZ3RoLTFdP3BhcnNlRmxvYXQodCkvMTAwOnBhcnNlRmxvYXQodCkpPDA/MDplPjE/MTplO3ZhciBlO31mdW5jdGlvbiBvKHQsZSxyKXtyZXR1cm4gcjwwP3IrPTE6cj4xJiYoci09MSksNipyPDE/dCsoZS10KSpyKjY6MipyPDE/ZTozKnI8Mj90KyhlLXQpKigyLzMtcikqNjp0fXRyeXtlLnBhcnNlQ1NTQ29sb3I9ZnVuY3Rpb24odCl7dmFyIGUscz10LnJlcGxhY2UoLyAvZywiIikudG9Mb3dlckNhc2UoKTtpZihzIGluIHIpcmV0dXJuIHJbc10uc2xpY2UoKTtpZigiIyI9PT1zWzBdKXJldHVybiA0PT09cy5sZW5ndGg/KGU9cGFyc2VJbnQocy5zdWJzdHIoMSksMTYpKT49MCYmZTw9NDA5NT9bKDM4NDAmZSk+PjR8KDM4NDAmZSk+PjgsMjQwJmV8KDI0MCZlKT4+NCwxNSZlfCgxNSZlKTw8NCwxXTpudWxsOjc9PT1zLmxlbmd0aCYmKGU9cGFyc2VJbnQocy5zdWJzdHIoMSksMTYpKT49MCYmZTw9MTY3NzcyMTU/WygxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlLDFdOm51bGw7dmFyIHU9cy5pbmRleE9mKCIoIiksbD1zLmluZGV4T2YoIikiKTtpZigtMSE9PXUmJmwrMT09PXMubGVuZ3RoKXt2YXIgcD1zLnN1YnN0cigwLHUpLGM9cy5zdWJzdHIodSsxLGwtKHUrMSkpLnNwbGl0KCIsIiksaD0xO3N3aXRjaChwKXtjYXNlInJnYmEiOmlmKDQhPT1jLmxlbmd0aClyZXR1cm4gbnVsbDtoPWEoYy5wb3AoKSk7Y2FzZSJyZ2IiOnJldHVybiAzIT09Yy5sZW5ndGg/bnVsbDpbaShjWzBdKSxpKGNbMV0pLGkoY1syXSksaF07Y2FzZSJoc2xhIjppZig0IT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7aD1hKGMucG9wKCkpO2Nhc2UiaHNsIjppZigzIT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGY9KHBhcnNlRmxvYXQoY1swXSklMzYwKzM2MCklMzYwLzM2MCx5PWEoY1sxXSksZD1hKGNbMl0pLG09ZDw9LjU/ZCooeSsxKTpkK3ktZCp5LHY9MipkLW07cmV0dXJuIFtuKDI1NSpvKHYsbSxmKzEvMykpLG4oMjU1Km8odixtLGYpKSxuKDI1NSpvKHYsbSxmLTEvMykpLGhdO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBudWxsfTt9Y2F0Y2godCl7fX0pKS5wYXJzZUNTU0NvbG9yLCR0PWZ1bmN0aW9uKHQsZSxyLG4pe3ZvaWQgMD09PW4mJihuPTEpLHRoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1yLHRoaXMuYT1uO307JHQucGFyc2U9ZnVuY3Rpb24odCl7aWYodCl7aWYodCBpbnN0YW5jZW9mICR0KXJldHVybiB0O2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9WXQodCk7aWYoZSlyZXR1cm4gbmV3ICR0KGVbMF0vMjU1KmVbM10sZVsxXS8yNTUqZVszXSxlWzJdLzI1NSplWzNdLGVbM10pfX19LCR0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMudG9BcnJheSgpLGU9dFsxXSxyPXRbMl0sbj10WzNdO3JldHVybiAicmdiYSgiK01hdGgucm91bmQodFswXSkrIiwiK01hdGgucm91bmQoZSkrIiwiK01hdGgucm91bmQocikrIiwiK24rIikifSwkdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYTtyZXR1cm4gMD09PXQ/WzAsMCwwLDBdOlsyNTUqdGhpcy5yL3QsMjU1KnRoaXMuZy90LDI1NSp0aGlzLmIvdCx0XX0sJHQuYmxhY2s9bmV3ICR0KDAsMCwwLDEpLCR0LndoaXRlPW5ldyAkdCgxLDEsMSwxKSwkdC50cmFuc3BhcmVudD1uZXcgJHQoMCwwLDAsMCksJHQucmVkPW5ldyAkdCgxLDAsMCwxKTt2YXIgV3Q9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc2Vuc2l0aXZpdHk9dD9lPyJ2YXJpYW50IjoiY2FzZSI6ZT8iYWNjZW50IjoiYmFzZSIsdGhpcy5sb2NhbGU9cix0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOiJzZWFyY2gifSk7fTtXdC5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUodCxlKX0sV3QucHJvdG90eXBlLnJlc29sdmVkTG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGV9O3ZhciBRdD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMudGV4dD10LHRoaXMuaW1hZ2U9ZSx0aGlzLnNjYWxlPXIsdGhpcy5mb250U3RhY2s9bix0aGlzLnRleHRDb2xvcj1pO30sdGU9ZnVuY3Rpb24odCl7dGhpcy5zZWN0aW9ucz10O307dGUuZnJvbVN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRlKFtuZXcgUXQodCxudWxsLG51bGwsbnVsbCxudWxsKV0pfSx0ZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiAwIT09dC50ZXh0Lmxlbmd0aHx8dC5pbWFnZSYmMCE9PXQuaW1hZ2UubmFtZS5sZW5ndGh9KSl9LHRlLmZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB0ZT90OnRlLmZyb21TdHJpbmcodCl9LHRlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/IiI6dGhpcy5zZWN0aW9ucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRleHR9KSkuam9pbigiIil9LHRlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJmb3JtYXQiXSxlPTAscj10aGlzLnNlY3Rpb25zO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTtpZihuLmltYWdlKXQucHVzaChbImltYWdlIixuLmltYWdlLm5hbWVdKTtlbHNle3QucHVzaChuLnRleHQpO3ZhciBpPXt9O24uZm9udFN0YWNrJiYoaVsidGV4dC1mb250Il09WyJsaXRlcmFsIixuLmZvbnRTdGFjay5zcGxpdCgiLCIpXSksbi5zY2FsZSYmKGlbImZvbnQtc2NhbGUiXT1uLnNjYWxlKSxuLnRleHRDb2xvciYmKGlbInRleHQtY29sb3IiXT1bInJnYmEiXS5jb25jYXQobi50ZXh0Q29sb3IudG9BcnJheSgpKSksdC5wdXNoKGkpO319cmV0dXJuIHR9O3ZhciBlZT1mdW5jdGlvbih0KXt0aGlzLm5hbWU9dC5uYW1lLHRoaXMuYXZhaWxhYmxlPXQuYXZhaWxhYmxlO307ZnVuY3Rpb24gcmUodCxlLHIsbil7cmV0dXJuICJudW1iZXIiPT10eXBlb2YgdCYmdD49MCYmdDw9MjU1JiYibnVtYmVyIj09dHlwZW9mIGUmJmU+PTAmJmU8PTI1NSYmIm51bWJlciI9PXR5cGVvZiByJiZyPj0wJiZyPD0yNTU/dm9pZCAwPT09bnx8Im51bWJlciI9PXR5cGVvZiBuJiZuPj0wJiZuPD0xP251bGw6IkludmFsaWQgcmdiYSB2YWx1ZSBbIitbdCxlLHIsbl0uam9pbigiLCAiKSsiXTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLiI6IkludmFsaWQgcmdiYSB2YWx1ZSBbIisoIm51bWJlciI9PXR5cGVvZiBuP1t0LGUscixuXTpbdCxlLHJdKS5qb2luKCIsICIpKyJdOiAncicsICdnJywgYW5kICdiJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1LiJ9ZnVuY3Rpb24gbmUodCl7aWYobnVsbD09PXQpcmV0dXJuICEwO2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4gITA7aWYoImJvb2xlYW4iPT10eXBlb2YgdClyZXR1cm4gITA7aWYoIm51bWJlciI9PXR5cGVvZiB0KXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgJHQpcmV0dXJuICEwO2lmKHQgaW5zdGFuY2VvZiBXdClyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mIHRlKXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgZWUpcmV0dXJuICEwO2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYoIW5lKHJbZV0pKXJldHVybiAhMTtyZXR1cm4gITB9aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtmb3IodmFyIG4gaW4gdClpZighbmUodFtuXSkpcmV0dXJuICExO3JldHVybiAhMH1yZXR1cm4gITF9ZnVuY3Rpb24gaWUodCl7aWYobnVsbD09PXQpcmV0dXJuIER0O2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4gUnQ7aWYoImJvb2xlYW4iPT10eXBlb2YgdClyZXR1cm4gT3Q7aWYoIm51bWJlciI9PXR5cGVvZiB0KXJldHVybiBMdDtpZih0IGluc3RhbmNlb2YgJHQpcmV0dXJuIFV0O2lmKHQgaW5zdGFuY2VvZiBXdClyZXR1cm4gTnQ7aWYodCBpbnN0YW5jZW9mIHRlKXJldHVybiBLdDtpZih0IGluc3RhbmNlb2YgZWUpcmV0dXJuIEd0O2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZSxyPXQubGVuZ3RoLG49MCxpPXQ7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pZShpW25dKTtpZihlKXtpZihlPT09YSljb250aW51ZTtlPXF0O2JyZWFrfWU9YTt9cmV0dXJuIFp0KGV8fHF0LHIpfXJldHVybiBqdH1mdW5jdGlvbiBhZSh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gbnVsbD09PXQ/IiI6InN0cmluZyI9PT1lfHwibnVtYmVyIj09PWV8fCJib29sZWFuIj09PWU/U3RyaW5nKHQpOnQgaW5zdGFuY2VvZiAkdHx8dCBpbnN0YW5jZW9mIHRlfHx0IGluc3RhbmNlb2YgZWU/dC50b1N0cmluZygpOkpTT04uc3RyaW5naWZ5KHQpfWVlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LGVlLmZyb21TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/bmV3IGVlKHtuYW1lOnQsYXZhaWxhYmxlOiExfSk6bnVsbH0sZWUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbImltYWdlIix0aGlzLm5hbWVdfTt2YXIgb2U9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9dCx0aGlzLnZhbHVlPWU7fTtvZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiJ2xpdGVyYWwnIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7aWYoIW5lKHRbMV0pKXJldHVybiBlLmVycm9yKCJpbnZhbGlkIHZhbHVlIik7dmFyIHI9dFsxXSxuPWllKHIpLGk9ZS5leHBlY3RlZFR5cGU7cmV0dXJuICJhcnJheSIhPT1uLmtpbmR8fDAhPT1uLk58fCFpfHwiYXJyYXkiIT09aS5raW5kfHwibnVtYmVyIj09dHlwZW9mIGkuTiYmMCE9PWkuTnx8KG49aSksbmV3IG9lKG4scil9LG9lLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSxvZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKCl7fSxvZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMH0sb2UucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiAiYXJyYXkiPT09dGhpcy50eXBlLmtpbmR8fCJvYmplY3QiPT09dGhpcy50eXBlLmtpbmQ/WyJsaXRlcmFsIix0aGlzLnZhbHVlXTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgJHQ/WyJyZ2JhIl0uY29uY2F0KHRoaXMudmFsdWUudG9BcnJheSgpKTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgdGU/dGhpcy52YWx1ZS5zZXJpYWxpemUoKTp0aGlzLnZhbHVlfTt2YXIgc2U9ZnVuY3Rpb24odCl7dGhpcy5uYW1lPSJFeHByZXNzaW9uRXZhbHVhdGlvbkVycm9yIix0aGlzLm1lc3NhZ2U9dDt9O3NlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfTt2YXIgdWU9e3N0cmluZzpSdCxudW1iZXI6THQsYm9vbGVhbjpPdCxvYmplY3Q6anR9LGxlPWZ1bmN0aW9uKHQsZSl7dGhpcy50eXBlPXQsdGhpcy5hcmdzPWU7fTtsZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPDIpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC4iKTt2YXIgcixuPTEsaT10WzBdO2lmKCJhcnJheSI9PT1pKXt2YXIgYSxvO2lmKHQubGVuZ3RoPjIpe3ZhciBzPXRbMV07aWYoInN0cmluZyIhPXR5cGVvZiBzfHwhKHMgaW4gdWUpfHwib2JqZWN0Ij09PXMpcmV0dXJuIGUuZXJyb3IoJ1RoZSBpdGVtIHR5cGUgYXJndW1lbnQgb2YgImFycmF5IiBtdXN0IGJlIG9uZSBvZiBzdHJpbmcsIG51bWJlciwgYm9vbGVhbicsMSk7YT11ZVtzXSxuKys7fWVsc2UgYT1xdDtpZih0Lmxlbmd0aD4zKXtpZihudWxsIT09dFsyXSYmKCJudW1iZXIiIT10eXBlb2YgdFsyXXx8dFsyXTwwfHx0WzJdIT09TWF0aC5mbG9vcih0WzJdKSkpcmV0dXJuIGUuZXJyb3IoJ1RoZSBsZW5ndGggYXJndW1lbnQgdG8gImFycmF5IiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBsaXRlcmFsJywyKTtvPXRbMl0sbisrO31yPVp0KGEsbyk7fWVsc2Ugcj11ZVtpXTtmb3IodmFyIHU9W107bjx0Lmxlbmd0aDtuKyspe3ZhciBsPWUucGFyc2UodFtuXSxuLHF0KTtpZighbClyZXR1cm4gbnVsbDt1LnB1c2gobCk7fXJldHVybiBuZXcgbGUocix1KX0sbGUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5hcmdzLmxlbmd0aDtlKyspe3ZhciByPXRoaXMuYXJnc1tlXS5ldmFsdWF0ZSh0KTtpZighSHQodGhpcy50eXBlLGllKHIpKSlyZXR1cm4gcjtpZihlPT09dGhpcy5hcmdzLmxlbmd0aC0xKXRocm93IG5ldyBzZSgiRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb2YgdHlwZSAiK1h0KHRoaXMudHlwZSkrIiwgYnV0IGZvdW5kICIrWHQoaWUocikpKyIgaW5zdGVhZC4iKX1yZXR1cm4gbnVsbH0sbGUucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0aGlzLmFyZ3MuZm9yRWFjaCh0KTt9LGxlLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3V0cHV0RGVmaW5lZCgpfSkpfSxsZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50eXBlLGU9W3Qua2luZF07aWYoImFycmF5Ij09PXQua2luZCl7dmFyIHI9dC5pdGVtVHlwZTtpZigic3RyaW5nIj09PXIua2luZHx8Im51bWJlciI9PT1yLmtpbmR8fCJib29sZWFuIj09PXIua2luZCl7ZS5wdXNoKHIua2luZCk7dmFyIG49dC5OOygibnVtYmVyIj09dHlwZW9mIG58fHRoaXMuYXJncy5sZW5ndGg+MSkmJmUucHVzaChuKTt9fXJldHVybiBlLmNvbmNhdCh0aGlzLmFyZ3MubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXJpYWxpemUoKX0pKSl9O3ZhciBwZT1mdW5jdGlvbih0KXt0aGlzLnR5cGU9S3QsdGhpcy5zZWN0aW9ucz10O307cGUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuIik7dmFyIHI9dFsxXTtpZighQXJyYXkuaXNBcnJheShyKSYmIm9iamVjdCI9PXR5cGVvZiByKXJldHVybiBlLmVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGltYWdlIG9yIHRleHQgc2VjdGlvbi4iKTtmb3IodmFyIG49W10saT0hMSxhPTE7YTw9dC5sZW5ndGgtMTsrK2Epe3ZhciBvPXRbYV07aWYoaSYmIm9iamVjdCI9PXR5cGVvZiBvJiYhQXJyYXkuaXNBcnJheShvKSl7aT0hMTt2YXIgcz1udWxsO2lmKG9bImZvbnQtc2NhbGUiXSYmIShzPWUucGFyc2Uob1siZm9udC1zY2FsZSJdLDEsTHQpKSlyZXR1cm4gbnVsbDt2YXIgdT1udWxsO2lmKG9bInRleHQtZm9udCJdJiYhKHU9ZS5wYXJzZShvWyJ0ZXh0LWZvbnQiXSwxLFp0KFJ0KSkpKXJldHVybiBudWxsO3ZhciBsPW51bGw7aWYob1sidGV4dC1jb2xvciJdJiYhKGw9ZS5wYXJzZShvWyJ0ZXh0LWNvbG9yIl0sMSxVdCkpKXJldHVybiBudWxsO3ZhciBwPW5bbi5sZW5ndGgtMV07cC5zY2FsZT1zLHAuZm9udD11LHAudGV4dENvbG9yPWw7fWVsc2V7dmFyIGM9ZS5wYXJzZSh0W2FdLDEscXQpO2lmKCFjKXJldHVybiBudWxsO3ZhciBoPWMudHlwZS5raW5kO2lmKCJzdHJpbmciIT09aCYmInZhbHVlIiE9PWgmJiJudWxsIiE9PWgmJiJyZXNvbHZlZEltYWdlIiE9PWgpcmV0dXJuIGUuZXJyb3IoIkZvcm1hdHRlZCB0ZXh0IHR5cGUgbXVzdCBiZSAnc3RyaW5nJywgJ3ZhbHVlJywgJ2ltYWdlJyBvciAnbnVsbCcuIik7aT0hMCxuLnB1c2goe2NvbnRlbnQ6YyxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH0pO319cmV0dXJuIG5ldyBwZShuKX0scGUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGUodGhpcy5zZWN0aW9ucy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUuY29udGVudC5ldmFsdWF0ZSh0KTtyZXR1cm4gaWUocik9PT1HdD9uZXcgUXQoIiIscixudWxsLG51bGwsbnVsbCk6bmV3IFF0KGFlKHIpLG51bGwsZS5zY2FsZT9lLnNjYWxlLmV2YWx1YXRlKHQpOm51bGwsZS5mb250P2UuZm9udC5ldmFsdWF0ZSh0KS5qb2luKCIsIik6bnVsbCxlLnRleHRDb2xvcj9lLnRleHRDb2xvci5ldmFsdWF0ZSh0KTpudWxsKX0pKSl9LHBlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLnNlY3Rpb25zO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTt0KG4uY29udGVudCksbi5zY2FsZSYmdChuLnNjYWxlKSxuLmZvbnQmJnQobi5mb250KSxuLnRleHRDb2xvciYmdChuLnRleHRDb2xvcik7fX0scGUucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LHBlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJmb3JtYXQiXSxlPTAscj10aGlzLnNlY3Rpb25zO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTt0LnB1c2gobi5jb250ZW50LnNlcmlhbGl6ZSgpKTt2YXIgaT17fTtuLnNjYWxlJiYoaVsiZm9udC1zY2FsZSJdPW4uc2NhbGUuc2VyaWFsaXplKCkpLG4uZm9udCYmKGlbInRleHQtZm9udCJdPW4uZm9udC5zZXJpYWxpemUoKSksbi50ZXh0Q29sb3ImJihpWyJ0ZXh0LWNvbG9yIl09bi50ZXh0Q29sb3Iuc2VyaWFsaXplKCkpLHQucHVzaChpKTt9cmV0dXJuIHR9O3ZhciBjZT1mdW5jdGlvbih0KXt0aGlzLnR5cGU9R3QsdGhpcy5pbnB1dD10O307Y2UucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIHR3byBhcmd1bWVudHMuIik7dmFyIHI9ZS5wYXJzZSh0WzFdLDEsUnQpO3JldHVybiByP25ldyBjZShyKTplLmVycm9yKCJObyBpbWFnZSBuYW1lIHByb3ZpZGVkLiIpfSxjZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KSxyPWVlLmZyb21TdHJpbmcoZSk7cmV0dXJuIHImJnQuYXZhaWxhYmxlSW1hZ2VzJiYoci5hdmFpbGFibGU9dC5hdmFpbGFibGVJbWFnZXMuaW5kZXhPZihlKT4tMSkscn0sY2UucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5wdXQpO30sY2UucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGNlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gWyJpbWFnZSIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19O3ZhciBoZT17InRvLWJvb2xlYW4iOk90LCJ0by1jb2xvciI6VXQsInRvLW51bWJlciI6THQsInRvLXN0cmluZyI6UnR9LGZlPWZ1bmN0aW9uKHQsZSl7dGhpcy50eXBlPXQsdGhpcy5hcmdzPWU7fTtmZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPDIpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC4iKTt2YXIgcj10WzBdO2lmKCgidG8tYm9vbGVhbiI9PT1yfHwidG8tc3RyaW5nIj09PXIpJiYyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIG9uZSBhcmd1bWVudC4iKTtmb3IodmFyIG49aGVbcl0saT1bXSxhPTE7YTx0Lmxlbmd0aDthKyspe3ZhciBvPWUucGFyc2UodFthXSxhLHF0KTtpZighbylyZXR1cm4gbnVsbDtpLnB1c2gobyk7fXJldHVybiBuZXcgZmUobixpKX0sZmUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2lmKCJib29sZWFuIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBCb29sZWFuKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSk7aWYoImNvbG9yIj09PXRoaXMudHlwZS5raW5kKXtmb3IodmFyIGUscixuPTAsaT10aGlzLmFyZ3M7bjxpLmxlbmd0aDtuKz0xKXtpZihyPW51bGwsKGU9aVtuXS5ldmFsdWF0ZSh0KSlpbnN0YW5jZW9mICR0KXJldHVybiBlO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIGE9dC5wYXJzZUNvbG9yKGUpO2lmKGEpcmV0dXJuIGF9ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpJiYhKHI9ZS5sZW5ndGg8M3x8ZS5sZW5ndGg+ND8iSW52YWxpZCByYmdhIHZhbHVlICIrSlNPTi5zdHJpbmdpZnkoZSkrIjogZXhwZWN0ZWQgYW4gYXJyYXkgY29udGFpbmluZyBlaXRoZXIgdGhyZWUgb3IgZm91ciBudW1lcmljIHZhbHVlcy4iOnJlKGVbMF0sZVsxXSxlWzJdLGVbM10pKSlyZXR1cm4gbmV3ICR0KGVbMF0vMjU1LGVbMV0vMjU1LGVbMl0vMjU1LGVbM10pfXRocm93IG5ldyBzZShyfHwiQ291bGQgbm90IHBhcnNlIGNvbG9yIGZyb20gdmFsdWUgJyIrKCJzdHJpbmciPT10eXBlb2YgZT9lOlN0cmluZyhKU09OLnN0cmluZ2lmeShlKSkpKyInIil9aWYoIm51bWJlciI9PT10aGlzLnR5cGUua2luZCl7Zm9yKHZhciBvPW51bGwscz0wLHU9dGhpcy5hcmdzO3M8dS5sZW5ndGg7cys9MSl7aWYobnVsbD09PShvPXVbc10uZXZhbHVhdGUodCkpKXJldHVybiAwO3ZhciBsPU51bWJlcihvKTtpZighaXNOYU4obCkpcmV0dXJuIGx9dGhyb3cgbmV3IHNlKCJDb3VsZCBub3QgY29udmVydCAiK0pTT04uc3RyaW5naWZ5KG8pKyIgdG8gbnVtYmVyLiIpfXJldHVybiAiZm9ybWF0dGVkIj09PXRoaXMudHlwZS5raW5kP3RlLmZyb21TdHJpbmcoYWUodGhpcy5hcmdzWzBdLmV2YWx1YXRlKHQpKSk6InJlc29sdmVkSW1hZ2UiPT09dGhpcy50eXBlLmtpbmQ/ZWUuZnJvbVN0cmluZyhhZSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpKTphZSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpfSxmZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO30sZmUucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC5vdXRwdXREZWZpbmVkKCl9KSl9LGZlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtpZigiZm9ybWF0dGVkIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgcGUoW3tjb250ZW50OnRoaXMuYXJnc1swXSxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH1dKS5zZXJpYWxpemUoKTtpZigicmVzb2x2ZWRJbWFnZSI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gbmV3IGNlKHRoaXMuYXJnc1swXSkuc2VyaWFsaXplKCk7dmFyIHQ9WyJ0by0iK3RoaXMudHlwZS5raW5kXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGZ1bmN0aW9uKGUpe3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSksdH07dmFyIHllPVsiVW5rbm93biIsIlBvaW50IiwiTGluZVN0cmluZyIsIlBvbHlnb24iXSxkZT1mdW5jdGlvbigpe3RoaXMuZ2xvYmFscz1udWxsLHRoaXMuZmVhdHVyZT1udWxsLHRoaXMuZmVhdHVyZVN0YXRlPW51bGwsdGhpcy5mb3JtYXR0ZWRTZWN0aW9uPW51bGwsdGhpcy5fcGFyc2VDb2xvckNhY2hlPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPW51bGwsdGhpcy5jYW5vbmljYWw9bnVsbDt9O2RlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlYXR1cmUmJiJpZCJpbiB0aGlzLmZlYXR1cmU/dGhpcy5mZWF0dXJlLmlkOm51bGx9LGRlLnByb3RvdHlwZS5nZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZWF0dXJlPyJudW1iZXIiPT10eXBlb2YgdGhpcy5mZWF0dXJlLnR5cGU/eWVbdGhpcy5mZWF0dXJlLnR5cGVdOnRoaXMuZmVhdHVyZS50eXBlOm51bGx9LGRlLnByb3RvdHlwZS5nZW9tZXRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZlYXR1cmUmJiJnZW9tZXRyeSJpbiB0aGlzLmZlYXR1cmU/dGhpcy5mZWF0dXJlLmdlb21ldHJ5Om51bGx9LGRlLnByb3RvdHlwZS5jYW5vbmljYWxJRD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbm9uaWNhbH0sZGUucHJvdG90eXBlLnByb3BlcnRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZ0aGlzLmZlYXR1cmUucHJvcGVydGllc3x8e319LGRlLnByb3RvdHlwZS5wYXJzZUNvbG9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BhcnNlQ29sb3JDYWNoZVt0XTtyZXR1cm4gZXx8KGU9dGhpcy5fcGFyc2VDb2xvckNhY2hlW3RdPSR0LnBhcnNlKHQpKSxlfTt2YXIgbWU9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5uYW1lPXQsdGhpcy50eXBlPWUsdGhpcy5fZXZhbHVhdGU9cix0aGlzLmFyZ3M9bjt9O21lLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZXZhbHVhdGUodCx0aGlzLmFyZ3MpfSxtZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO30sbWUucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LG1lLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMubmFtZV0uY29uY2F0KHRoaXMuYXJncy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNlcmlhbGl6ZSgpfSkpKX0sbWUucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgcixuPXRbMF0saT1tZS5kZWZpbml0aW9uc1tuXTtpZighaSlyZXR1cm4gZS5lcnJvcignVW5rbm93biBleHByZXNzaW9uICInK24rJyIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgWyJsaXRlcmFsIiwgWy4uLl1dLicsMCk7Zm9yKHZhciBhPUFycmF5LmlzQXJyYXkoaSk/aVswXTppLnR5cGUsbz1BcnJheS5pc0FycmF5KGkpP1tbaVsxXSxpWzJdXV06aS5vdmVybG9hZHMscz1vLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHI9ZVswXTtyZXR1cm4gIUFycmF5LmlzQXJyYXkocil8fHIubGVuZ3RoPT09dC5sZW5ndGgtMX0pKSx1PW51bGwsbD0wLHA9cztsPHAubGVuZ3RoO2wrPTEpe3ZhciBjPXBbbF0saD1jWzBdLGY9Y1sxXTt1PW5ldyBHZShlLnJlZ2lzdHJ5LGUucGF0aCxudWxsLGUuc2NvcGUpO2Zvcih2YXIgeT1bXSxkPSExLG09MTttPHQubGVuZ3RoO20rKyl7dmFyIHY9dFttXSxnPUFycmF5LmlzQXJyYXkoaCk/aFttLTFdOmgudHlwZSx4PXUucGFyc2UodiwxK3kubGVuZ3RoLGcpO2lmKCF4KXtkPSEwO2JyZWFrfXkucHVzaCh4KTt9aWYoIWQpaWYoQXJyYXkuaXNBcnJheShoKSYmaC5sZW5ndGghPT15Lmxlbmd0aCl1LmVycm9yKCJFeHBlY3RlZCAiK2gubGVuZ3RoKyIgYXJndW1lbnRzLCBidXQgZm91bmQgIit5Lmxlbmd0aCsiIGluc3RlYWQuIik7ZWxzZXtmb3IodmFyIGI9MDtiPHkubGVuZ3RoO2IrKyl7dmFyIHc9QXJyYXkuaXNBcnJheShoKT9oW2JdOmgudHlwZSxfPXlbYl07dS5jb25jYXQoYisxKS5jaGVja1N1YnR5cGUodyxfLnR5cGUpO31pZigwPT09dS5lcnJvcnMubGVuZ3RoKXJldHVybiBuZXcgbWUobixhLGYseSl9fWlmKDE9PT1zLmxlbmd0aCkocj1lLmVycm9ycykucHVzaC5hcHBseShyLHUuZXJyb3JzKTtlbHNle2Zvcih2YXIgQT0ocy5sZW5ndGg/czpvKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXRbMF0sQXJyYXkuaXNBcnJheShlKT8iKCIrZS5tYXAoWHQpLmpvaW4oIiwgIikrIikiOiIoIitYdChlLnR5cGUpKyIuLi4pIn0pKS5qb2luKCIgfCAiKSxTPVtdLGs9MTtrPHQubGVuZ3RoO2srKyl7dmFyIEk9ZS5wYXJzZSh0W2tdLDErUy5sZW5ndGgpO2lmKCFJKXJldHVybiBudWxsO1MucHVzaChYdChJLnR5cGUpKTt9ZS5lcnJvcigiRXhwZWN0ZWQgYXJndW1lbnRzIG9mIHR5cGUgIitBKyIsIGJ1dCBmb3VuZCAoIitTLmpvaW4oIiwgIikrIikgaW5zdGVhZC4iKTt9cmV0dXJuIG51bGx9LG1lLnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIG1lLmRlZmluaXRpb25zPWUsZSl0W3JdPW1lO307dmFyIHZlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnR5cGU9TnQsdGhpcy5sb2NhbGU9cix0aGlzLmNhc2VTZW5zaXRpdmU9dCx0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZT1lO307dmUucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIG9uZSBhcmd1bWVudC4iKTt2YXIgcj10WzFdO2lmKCJvYmplY3QiIT10eXBlb2Ygcnx8QXJyYXkuaXNBcnJheShyKSlyZXR1cm4gZS5lcnJvcigiQ29sbGF0b3Igb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4iKTt2YXIgbj1lLnBhcnNlKHZvaWQgMCE9PXJbImNhc2Utc2Vuc2l0aXZlIl0mJnJbImNhc2Utc2Vuc2l0aXZlIl0sMSxPdCk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGk9ZS5wYXJzZSh2b2lkIDAhPT1yWyJkaWFjcml0aWMtc2Vuc2l0aXZlIl0mJnJbImRpYWNyaXRpYy1zZW5zaXRpdmUiXSwxLE90KTtpZighaSlyZXR1cm4gbnVsbDt2YXIgYT1udWxsO3JldHVybiByLmxvY2FsZSYmIShhPWUucGFyc2Uoci5sb2NhbGUsMSxSdCkpP251bGw6bmV3IHZlKG4saSxhKX0sdmUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgV3QodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOm51bGwpfSx2ZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5jYXNlU2Vuc2l0aXZlKSx0KHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlKSx0aGlzLmxvY2FsZSYmdCh0aGlzLmxvY2FsZSk7fSx2ZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sdmUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0WyJjYXNlLXNlbnNpdGl2ZSJdPXRoaXMuY2FzZVNlbnNpdGl2ZS5zZXJpYWxpemUoKSx0WyJkaWFjcml0aWMtc2Vuc2l0aXZlIl09dGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuc2VyaWFsaXplKCksdGhpcy5sb2NhbGUmJih0LmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksWyJjb2xsYXRvciIsdF19O3ZhciBnZT1mdW5jdGlvbih0LGUpe3QmJihlP3RoaXMuc2V0U291dGhXZXN0KHQpLnNldE5vcnRoRWFzdChlKTo0PT09dC5sZW5ndGg/dGhpcy5zZXRTb3V0aFdlc3QoW3RbMF0sdFsxXV0pLnNldE5vcnRoRWFzdChbdFsyXSx0WzNdXSk6dGhpcy5zZXRTb3V0aFdlc3QodFswXSkuc2V0Tm9ydGhFYXN0KHRbMV0pKTt9O2dlLnByb3RvdHlwZS5zZXROb3J0aEVhc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25lPXQgaW5zdGFuY2VvZiB4ZT9uZXcgeGUodC5sbmcsdC5sYXQpOnhlLmNvbnZlcnQodCksdGhpc30sZ2UucHJvdG90eXBlLnNldFNvdXRoV2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3c9dCBpbnN0YW5jZW9mIHhlP25ldyB4ZSh0LmxuZyx0LmxhdCk6eGUuY29udmVydCh0KSx0aGlzfSxnZS5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbj10aGlzLl9zdyxpPXRoaXMuX25lO2lmKHQgaW5zdGFuY2VvZiB4ZSllPXQscj10O2Vsc2V7aWYoISh0IGluc3RhbmNlb2YgZ2UpKXJldHVybiBBcnJheS5pc0FycmF5KHQpPzQ9PT10Lmxlbmd0aHx8dC5ldmVyeShBcnJheS5pc0FycmF5KT90aGlzLmV4dGVuZChnZS5jb252ZXJ0KHQpKTp0aGlzLmV4dGVuZCh4ZS5jb252ZXJ0KHQpKTp0aGlzO2lmKHI9dC5fbmUsIShlPXQuX3N3KXx8IXIpcmV0dXJuIHRoaXN9cmV0dXJuIG58fGk/KG4ubG5nPU1hdGgubWluKGUubG5nLG4ubG5nKSxuLmxhdD1NYXRoLm1pbihlLmxhdCxuLmxhdCksaS5sbmc9TWF0aC5tYXgoci5sbmcsaS5sbmcpLGkubGF0PU1hdGgubWF4KHIubGF0LGkubGF0KSk6KHRoaXMuX3N3PW5ldyB4ZShlLmxuZyxlLmxhdCksdGhpcy5fbmU9bmV3IHhlKHIubG5nLHIubGF0KSksdGhpc30sZ2UucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgeGUoKHRoaXMuX3N3LmxuZyt0aGlzLl9uZS5sbmcpLzIsKHRoaXMuX3N3LmxhdCt0aGlzLl9uZS5sYXQpLzIpfSxnZS5wcm90b3R5cGUuZ2V0U291dGhXZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N3fSxnZS5wcm90b3R5cGUuZ2V0Tm9ydGhFYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lfSxnZS5wcm90b3R5cGUuZ2V0Tm9ydGhXZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4ZSh0aGlzLmdldFdlc3QoKSx0aGlzLmdldE5vcnRoKCkpfSxnZS5wcm90b3R5cGUuZ2V0U291dGhFYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4ZSh0aGlzLmdldEVhc3QoKSx0aGlzLmdldFNvdXRoKCkpfSxnZS5wcm90b3R5cGUuZ2V0V2VzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdy5sbmd9LGdlLnByb3RvdHlwZS5nZXRTb3V0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdy5sYXR9LGdlLnByb3RvdHlwZS5nZXRFYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lLmxuZ30sZ2UucHJvdG90eXBlLmdldE5vcnRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lLmxhdH0sZ2UucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMuX3N3LnRvQXJyYXkoKSx0aGlzLl9uZS50b0FycmF5KCldfSxnZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIkxuZ0xhdEJvdW5kcygiK3RoaXMuX3N3LnRvU3RyaW5nKCkrIiwgIit0aGlzLl9uZS50b1N0cmluZygpKyIpIn0sZ2UucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gISh0aGlzLl9zdyYmdGhpcy5fbmUpfSxnZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7dmFyIGU9eGUuY29udmVydCh0KSxyPWUubG5nLG49ZS5sYXQsaT10aGlzLl9zdy5sbmc8PXImJnI8PXRoaXMuX25lLmxuZztyZXR1cm4gdGhpcy5fc3cubG5nPnRoaXMuX25lLmxuZyYmKGk9dGhpcy5fc3cubG5nPj1yJiZyPj10aGlzLl9uZS5sbmcpLHRoaXMuX3N3LmxhdDw9biYmbjw9dGhpcy5fbmUubGF0JiZpfSxnZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiAhdHx8dCBpbnN0YW5jZW9mIGdlP3Q6bmV3IGdlKHQpfTt2YXIgeGU9ZnVuY3Rpb24odCxlKXtpZihpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIExuZ0xhdCBvYmplY3Q6ICgiK3QrIiwgIitlKyIpIik7aWYodGhpcy5sbmc9K3QsdGhpcy5sYXQ9K2UsdGhpcy5sYXQ+OTB8fHRoaXMubGF0PC05MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MCIpfTt4ZS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbigpe3JldHVybiBuZXcgeGUobCh0aGlzLmxuZywtMTgwLDE4MCksdGhpcy5sYXQpfSx4ZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiBbdGhpcy5sbmcsdGhpcy5sYXRdfSx4ZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIkxuZ0xhdCgiK3RoaXMubG5nKyIsICIrdGhpcy5sYXQrIikifSx4ZS5wcm90b3R5cGUuZGlzdGFuY2VUbz1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLlBJLzE4MCxyPXRoaXMubGF0KmUsbj10LmxhdCplLGk9TWF0aC5zaW4ocikqTWF0aC5zaW4obikrTWF0aC5jb3MocikqTWF0aC5jb3MobikqTWF0aC5jb3MoKHQubG5nLXRoaXMubG5nKSplKTtyZXR1cm4gNjM3MTAwOC44Kk1hdGguYWNvcyhNYXRoLm1pbihpLDEpKX0seGUucHJvdG90eXBlLnRvQm91bmRzPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTApO3ZhciBlPTM2MCp0LzQwMDc1MDE3LHI9ZS9NYXRoLmNvcyhNYXRoLlBJLzE4MCp0aGlzLmxhdCk7cmV0dXJuIG5ldyBnZShuZXcgeGUodGhpcy5sbmctcix0aGlzLmxhdC1lKSxuZXcgeGUodGhpcy5sbmcrcix0aGlzLmxhdCtlKSl9LHhlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIHhlKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkmJigyPT09dC5sZW5ndGh8fDM9PT10Lmxlbmd0aCkpcmV0dXJuIG5ldyB4ZShOdW1iZXIodFswXSksTnVtYmVyKHRbMV0pKTtpZighQXJyYXkuaXNBcnJheSh0KSYmIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT09dClyZXR1cm4gbmV3IHhlKE51bWJlcigibG5nImluIHQ/dC5sbmc6dC5sb24pLE51bWJlcih0LmxhdCkpO3Rocm93IG5ldyBFcnJvcigiYExuZ0xhdExpa2VgIGFyZ3VtZW50IG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgTG5nTGF0IGluc3RhbmNlLCBhbiBvYmplY3Qge2xuZzogPGxuZz4sIGxhdDogPGxhdD59LCBhbiBvYmplY3Qge2xvbjogPGxuZz4sIGxhdDogPGxhdD59LCBvciBhbiBhcnJheSBvZiBbPGxuZz4sIDxsYXQ+XSIpfTt2YXIgYmU9MipNYXRoLlBJKjYzNzEwMDguODtmdW5jdGlvbiB3ZSh0KXtyZXR1cm4gYmUqTWF0aC5jb3ModCpNYXRoLlBJLzE4MCl9ZnVuY3Rpb24gX2UodCl7cmV0dXJuICgxODArdCkvMzYwfWZ1bmN0aW9uIEFlKHQpe3JldHVybiAoMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0Kk1hdGguUEkvMzYwKSkpLzM2MH1mdW5jdGlvbiBTZSh0LGUpe3JldHVybiB0L3dlKGUpfWZ1bmN0aW9uIGtlKHQpe3JldHVybiAzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqdCkqTWF0aC5QSS8xODApKS05MH12YXIgSWU9ZnVuY3Rpb24odCxlLHIpe3ZvaWQgMD09PXImJihyPTApLHRoaXMueD0rdCx0aGlzLnk9K2UsdGhpcy56PStyO307SWUuZnJvbUxuZ0xhdD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciByPXhlLmNvbnZlcnQodCk7cmV0dXJuIG5ldyBJZShfZShyLmxuZyksQWUoci5sYXQpLFNlKGUsci5sYXQpKX0sSWUucHJvdG90eXBlLnRvTG5nTGF0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4ZSgzNjAqdGhpcy54LTE4MCxrZSh0aGlzLnkpKX0sSWUucHJvdG90eXBlLnRvQWx0aXR1ZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56KndlKGtlKHRoaXMueSkpfSxJZS5wcm90b3R5cGUubWV0ZXJJbk1lcmNhdG9yQ29vcmRpbmF0ZVVuaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIDEvYmUqKHQ9a2UodGhpcy55KSwxL01hdGguY29zKHQqTWF0aC5QSS8xODApKTt2YXIgdDt9O3ZhciB6ZT04MTkyO2Z1bmN0aW9uIENlKHQsZSl7dFswXT1NYXRoLm1pbih0WzBdLGVbMF0pLHRbMV09TWF0aC5taW4odFsxXSxlWzFdKSx0WzJdPU1hdGgubWF4KHRbMl0sZVswXSksdFszXT1NYXRoLm1heCh0WzNdLGVbMV0pO31mdW5jdGlvbiBNZSh0LGUpe3JldHVybiAhKHRbMF08PWVbMF18fHRbMl0+PWVbMl18fHRbMV08PWVbMV18fHRbM10+PWVbM10pfWZ1bmN0aW9uIFRlKHQsZSl7dmFyIHI9SWUuZnJvbUxuZ0xhdCh7bG5nOnRbMF0sbGF0OnRbMV19LDApLG49TWF0aC5wb3coMixlLnopO3JldHVybiBbTWF0aC5yb3VuZChyLngqbip6ZSksTWF0aC5yb3VuZChyLnkqbip6ZSldfWZ1bmN0aW9uIEVlKHQsZSxyKXtyZXR1cm4gZVsxXT50WzFdIT1yWzFdPnRbMV0mJnRbMF08KHJbMF0tZVswXSkqKHRbMV0tZVsxXSkvKHJbMV0tZVsxXSkrZVswXX1mdW5jdGlvbiBQZSh0LGUpe2Zvcih2YXIgcixuLGksYSxvLHMsdSxsPSExLHA9MCxjPWUubGVuZ3RoO3A8YztwKyspZm9yKHZhciBoPWVbcF0sZj0wLHk9aC5sZW5ndGg7Zjx5LTE7ZisrKXtpZigoYT0ocj10KVswXS0obj1oW2ZdKVswXSkqKHU9clsxXS0oaT1oW2YrMV0pWzFdKS0ocz1yWzBdLWlbMF0pKihvPXJbMV0tblsxXSk9PTAmJmEqczw9MCYmbyp1PD0wKXJldHVybiAhMTtFZSh0LGhbZl0saFtmKzFdKSYmKGw9IWwpO31yZXR1cm4gbH1mdW5jdGlvbiBCZSh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKFBlKHQsZVtyXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBWZSh0LGUscixuKXt2YXIgaT1uWzBdLXJbMF0sYT1uWzFdLXJbMV07cmV0dXJuICgodFswXS1yWzBdKSphLWkqKHRbMV0tclsxXSkpKigoZVswXS1yWzBdKSphLWkqKGVbMV0tclsxXSkpPDB9ZnVuY3Rpb24gRmUodCxlLHIpe2Zvcih2YXIgbj0wLGk9cjtuPGkubGVuZ3RoO24rPTEpZm9yKHZhciBhPWlbbl0sbz0wO288YS5sZW5ndGgtMTsrK28paWYoMCE9KGM9WyhwPWFbbysxXSlbMF0tKGw9YVtvXSlbMF0scFsxXS1sWzFdXSlbMF0qKGg9Wyh1PWUpWzBdLShzPXQpWzBdLHVbMV0tc1sxXV0pWzFdLWNbMV0qaFswXSYmVmUocyx1LGwscCkmJlZlKGwscCxzLHUpKXJldHVybiAhMDt2YXIgcyx1LGwscCxjLGg7cmV0dXJuICExfWZ1bmN0aW9uIERlKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpaWYoIVBlKHRbcl0sZSkpcmV0dXJuICExO2Zvcih2YXIgbj0wO248dC5sZW5ndGgtMTsrK24paWYoRmUodFtuXSx0W24rMV0sZSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBMZSh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKERlKHQsZVtyXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBSZSh0LGUscil7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBhPVtdLG89MDtvPHRbaV0ubGVuZ3RoO28rKyl7dmFyIHM9VGUodFtpXVtvXSxyKTtDZShlLHMpLGEucHVzaChzKTt9bi5wdXNoKGEpO31yZXR1cm4gbn1mdW5jdGlvbiBPZSh0LGUscil7Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9UmUodFtpXSxlLHIpO24ucHVzaChhKTt9cmV0dXJuIG59dmFyIFVlPWZ1bmN0aW9uKHQsZSl7dGhpcy50eXBlPU90LHRoaXMuZ2VvanNvbj10LHRoaXMuZ2VvbWV0cmllcz1lO307ZnVuY3Rpb24gamUodCl7aWYodCBpbnN0YW5jZW9mIG1lKXtpZigiZ2V0Ij09PXQubmFtZSYmMT09PXQuYXJncy5sZW5ndGgpcmV0dXJuICExO2lmKCJmZWF0dXJlLXN0YXRlIj09PXQubmFtZSlyZXR1cm4gITE7aWYoImhhcyI9PT10Lm5hbWUmJjE9PT10LmFyZ3MubGVuZ3RoKXJldHVybiAhMTtpZigicHJvcGVydGllcyI9PT10Lm5hbWV8fCJnZW9tZXRyeS10eXBlIj09PXQubmFtZXx8ImlkIj09PXQubmFtZSlyZXR1cm4gITE7aWYoL15maWx0ZXItLy50ZXN0KHQubmFtZSkpcmV0dXJuICExfWlmKHQgaW5zdGFuY2VvZiBVZSlyZXR1cm4gITE7dmFyIGU9ITA7cmV0dXJuIHQuZWFjaENoaWxkKChmdW5jdGlvbih0KXtlJiYhamUodCkmJihlPSExKTt9KSksZX1mdW5jdGlvbiBxZSh0KXtpZih0IGluc3RhbmNlb2YgbWUmJiJmZWF0dXJlLXN0YXRlIj09PXQubmFtZSlyZXR1cm4gITE7dmFyIGU9ITA7cmV0dXJuIHQuZWFjaENoaWxkKChmdW5jdGlvbih0KXtlJiYhcWUodCkmJihlPSExKTt9KSksZX1mdW5jdGlvbiBOZSh0LGUpe2lmKHQgaW5zdGFuY2VvZiBtZSYmZS5pbmRleE9mKHQubmFtZSk+PTApcmV0dXJuICExO3ZhciByPSEwO3JldHVybiB0LmVhY2hDaGlsZCgoZnVuY3Rpb24odCl7ciYmIU5lKHQsZSkmJihyPSExKTt9KSkscn1VZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICIrKHQubGVuZ3RoLTEpKyIgaW5zdGVhZC4iKTtpZihuZSh0WzFdKSl7dmFyIHI9dFsxXTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iPT09ci50eXBlKWZvcih2YXIgbj0wO248ci5mZWF0dXJlcy5sZW5ndGg7KytuKXt2YXIgaT1yLmZlYXR1cmVzW25dLmdlb21ldHJ5LnR5cGU7aWYoIlBvbHlnb24iPT09aXx8Ik11bHRpUG9seWdvbiI9PT1pKXJldHVybiBuZXcgVWUocixyLmZlYXR1cmVzW25dLmdlb21ldHJ5KX1lbHNlIGlmKCJGZWF0dXJlIj09PXIudHlwZSl7dmFyIGE9ci5nZW9tZXRyeS50eXBlO2lmKCJQb2x5Z29uIj09PWF8fCJNdWx0aVBvbHlnb24iPT09YSlyZXR1cm4gbmV3IFVlKHIsci5nZW9tZXRyeSl9ZWxzZSBpZigiUG9seWdvbiI9PT1yLnR5cGV8fCJNdWx0aVBvbHlnb24iPT09ci50eXBlKXJldHVybiBuZXcgVWUocixyKX1yZXR1cm4gZS5lcnJvcigiJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyB2YWxpZCBnZW9qc29uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvbHlnb24gZ2VvbWV0cnkgdHlwZS4iKX0sVWUucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQuZ2VvbWV0cnkoKSYmbnVsbCE9dC5jYW5vbmljYWxJRCgpKXtpZigiUG9pbnQiPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPVsxLzAsMS8wLC0xLzAsLTEvMF0saT10LmNhbm9uaWNhbElEKCksYT1baS54KnplLGkueSp6ZV0sbz1bXSxzPTAsdT10Lmdlb21ldHJ5KCk7czx1Lmxlbmd0aDtzKz0xKWZvcih2YXIgbD0wLHA9dVtzXTtsPHAubGVuZ3RoO2wrPTEpe3ZhciBjPXBbbF0saD1bYy54K2FbMF0sYy55K2FbMV1dO0NlKHIsaCksby5wdXNoKGgpO31pZigiUG9seWdvbiI9PT1lLnR5cGUpe3ZhciBmPVJlKGUuY29vcmRpbmF0ZXMsbixpKTtpZighTWUocixuKSlyZXR1cm4gITE7Zm9yKHZhciB5PTAsZD1vO3k8ZC5sZW5ndGg7eSs9MSlpZighUGUoZFt5XSxmKSlyZXR1cm4gITF9aWYoIk11bHRpUG9seWdvbiI9PT1lLnR5cGUpe3ZhciBtPU9lKGUuY29vcmRpbmF0ZXMsbixpKTtpZighTWUocixuKSlyZXR1cm4gITE7Zm9yKHZhciB2PTAsZz1vO3Y8Zy5sZW5ndGg7dis9MSlpZighQmUoZ1t2XSxtKSlyZXR1cm4gITF9cmV0dXJuICEwfSh0LHRoaXMuZ2VvbWV0cmllcyk7aWYoIkxpbmVTdHJpbmciPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPVsxLzAsMS8wLC0xLzAsLTEvMF0saT10LmNhbm9uaWNhbElEKCksYT1baS54KnplLGkueSp6ZV0sbz1bXSxzPTAsdT10Lmdlb21ldHJ5KCk7czx1Lmxlbmd0aDtzKz0xKXtmb3IodmFyIGw9W10scD0wLGM9dVtzXTtwPGMubGVuZ3RoO3ArPTEpe3ZhciBoPWNbcF0sZj1baC54K2FbMF0saC55K2FbMV1dO0NlKHIsZiksbC5wdXNoKGYpO31vLnB1c2gobCk7fWlmKCJQb2x5Z29uIj09PWUudHlwZSl7dmFyIHk9UmUoZS5jb29yZGluYXRlcyxuLGkpO2lmKCFNZShyLG4pKXJldHVybiAhMTtmb3IodmFyIGQ9MCxtPW87ZDxtLmxlbmd0aDtkKz0xKWlmKCFEZShtW2RdLHkpKXJldHVybiAhMX1pZigiTXVsdGlQb2x5Z29uIj09PWUudHlwZSl7dmFyIHY9T2UoZS5jb29yZGluYXRlcyxuLGkpO2lmKCFNZShyLG4pKXJldHVybiAhMTtmb3IodmFyIGc9MCx4PW87Zzx4Lmxlbmd0aDtnKz0xKWlmKCFMZSh4W2ddLHYpKXJldHVybiAhMX1yZXR1cm4gITB9KHQsdGhpcy5nZW9tZXRyaWVzKX1yZXR1cm4gITF9LFVlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24oKXt9LFVlLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxVZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFsid2l0aGluIix0aGlzLmdlb2pzb25dfTt2YXIgS2U9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9ZS50eXBlLHRoaXMubmFtZT10LHRoaXMuYm91bmRFeHByZXNzaW9uPWU7fTtLZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDIhPT10Lmxlbmd0aHx8InN0cmluZyIhPXR5cGVvZiB0WzFdKXJldHVybiBlLmVycm9yKCIndmFyJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIHN0cmluZyBsaXRlcmFsIGFyZ3VtZW50LiIpO3ZhciByPXRbMV07cmV0dXJuIGUuc2NvcGUuaGFzKHIpP25ldyBLZShyLGUuc2NvcGUuZ2V0KHIpKTplLmVycm9yKCdVbmtub3duIHZhcmlhYmxlICInK3IrJyIuIE1ha2Ugc3VyZSAiJytyKyciIGhhcyBiZWVuIGJvdW5kIGluIGFuIGVuY2xvc2luZyAibGV0IiBleHByZXNzaW9uIGJlZm9yZSB1c2luZyBpdC4nLDEpfSxLZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYm91bmRFeHByZXNzaW9uLmV2YWx1YXRlKHQpfSxLZS5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKCl7fSxLZS5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sS2UucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbInZhciIsdGhpcy5uYW1lXX07dmFyIEdlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dm9pZCAwPT09ZSYmKGU9W10pLHZvaWQgMD09PW4mJihuPW5ldyBGdCksdm9pZCAwPT09aSYmKGk9W10pLHRoaXMucmVnaXN0cnk9dCx0aGlzLnBhdGg9ZSx0aGlzLmtleT1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJbIit0KyJdIn0pKS5qb2luKCIiKSx0aGlzLnNjb3BlPW4sdGhpcy5lcnJvcnM9aSx0aGlzLmV4cGVjdGVkVHlwZT1yO307ZnVuY3Rpb24gWmUodCxlKXtmb3IodmFyIHIsbj10Lmxlbmd0aC0xLGk9MCxhPW4sbz0wO2k8PWE7KWlmKChyPXRbbz1NYXRoLmZsb29yKChpK2EpLzIpXSk8PWUpe2lmKG89PT1ufHxlPHRbbysxXSlyZXR1cm4gbztpPW8rMTt9ZWxzZXtpZighKHI+ZSkpdGhyb3cgbmV3IHNlKCJJbnB1dCBpcyBub3QgYSBudW1iZXIuIik7YT1vLTE7fXJldHVybiAwfUdlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUscixuLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT17fSksZT90aGlzLmNvbmNhdChlLHIsbikuX3BhcnNlKHQsaSk6dGhpcy5fcGFyc2UodCxpKX0sR2UucHJvdG90eXBlLl9wYXJzZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIodCxlLHIpe3JldHVybiAiYXNzZXJ0Ij09PXI/bmV3IGxlKGUsW3RdKToiY29lcmNlIj09PXI/bmV3IGZlKGUsW3RdKTp0fWlmKG51bGwhPT10JiYic3RyaW5nIiE9dHlwZW9mIHQmJiJib29sZWFuIiE9dHlwZW9mIHQmJiJudW1iZXIiIT10eXBlb2YgdHx8KHQ9WyJsaXRlcmFsIix0XSksQXJyYXkuaXNBcnJheSh0KSl7aWYoMD09PXQubGVuZ3RoKXJldHVybiB0aGlzLmVycm9yKCdFeHBlY3RlZCBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBlbGVtZW50LiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFsibGl0ZXJhbCIsIFtdXS4nKTt2YXIgbj10WzBdO2lmKCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gdGhpcy5lcnJvcigiRXhwcmVzc2lvbiBuYW1lIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCBmb3VuZCAiK3R5cGVvZiBuKycgaW5zdGVhZC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbImxpdGVyYWwiLCBbLi4uXV0uJywwKSxudWxsO3ZhciBpPXRoaXMucmVnaXN0cnlbbl07aWYoaSl7dmFyIGE9aS5wYXJzZSh0LHRoaXMpO2lmKCFhKXJldHVybiBudWxsO2lmKHRoaXMuZXhwZWN0ZWRUeXBlKXt2YXIgbz10aGlzLmV4cGVjdGVkVHlwZSxzPWEudHlwZTtpZigic3RyaW5nIiE9PW8ua2luZCYmIm51bWJlciIhPT1vLmtpbmQmJiJib29sZWFuIiE9PW8ua2luZCYmIm9iamVjdCIhPT1vLmtpbmQmJiJhcnJheSIhPT1vLmtpbmR8fCJ2YWx1ZSIhPT1zLmtpbmQpaWYoImNvbG9yIiE9PW8ua2luZCYmImZvcm1hdHRlZCIhPT1vLmtpbmQmJiJyZXNvbHZlZEltYWdlIiE9PW8ua2luZHx8InZhbHVlIiE9PXMua2luZCYmInN0cmluZyIhPT1zLmtpbmQpe2lmKHRoaXMuY2hlY2tTdWJ0eXBlKG8scykpcmV0dXJuIG51bGx9ZWxzZSBhPXIoYSxvLGUudHlwZUFubm90YXRpb258fCJjb2VyY2UiKTtlbHNlIGE9cihhLG8sZS50eXBlQW5ub3RhdGlvbnx8ImFzc2VydCIpO31pZighKGEgaW5zdGFuY2VvZiBvZSkmJiJyZXNvbHZlZEltYWdlIiE9PWEudHlwZS5raW5kJiZmdW5jdGlvbiB0KGUpe2lmKGUgaW5zdGFuY2VvZiBLZSlyZXR1cm4gdChlLmJvdW5kRXhwcmVzc2lvbik7aWYoZSBpbnN0YW5jZW9mIG1lJiYiZXJyb3IiPT09ZS5uYW1lKXJldHVybiAhMTtpZihlIGluc3RhbmNlb2YgdmUpcmV0dXJuICExO2lmKGUgaW5zdGFuY2VvZiBVZSlyZXR1cm4gITE7dmFyIHI9ZSBpbnN0YW5jZW9mIGZlfHxlIGluc3RhbmNlb2YgbGUsbj0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoKGZ1bmN0aW9uKGUpe249cj9uJiZ0KGUpOm4mJmUgaW5zdGFuY2VvZiBvZTt9KSksISFuJiZqZShlKSYmTmUoZSxbInpvb20iLCJoZWF0bWFwLWRlbnNpdHkiLCJsaW5lLXByb2dyZXNzIiwiYWNjdW11bGF0ZWQiLCJpcy1zdXBwb3J0ZWQtc2NyaXB0Il0pfShhKSl7dmFyIHU9bmV3IGRlO3RyeXthPW5ldyBvZShhLnR5cGUsYS5ldmFsdWF0ZSh1KSk7fWNhdGNoKHQpe3JldHVybiB0aGlzLmVycm9yKHQubWVzc2FnZSksbnVsbH19cmV0dXJuIGF9cmV0dXJuIHRoaXMuZXJyb3IoJ1Vua25vd24gZXhwcmVzc2lvbiAiJytuKyciLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFsibGl0ZXJhbCIsIFsuLi5dXS4nLDApfXJldHVybiB0aGlzLmVycm9yKHZvaWQgMD09PXQ/Iid1bmRlZmluZWQnIHZhbHVlIGludmFsaWQuIFVzZSBudWxsIGluc3RlYWQuIjoib2JqZWN0Ij09dHlwZW9mIHQ/J0JhcmUgb2JqZWN0cyBpbnZhbGlkLiBVc2UgWyJsaXRlcmFsIiwgey4uLn1dIGluc3RlYWQuJzoiRXhwZWN0ZWQgYW4gYXJyYXksIGJ1dCBmb3VuZCAiK3R5cGVvZiB0KyIgaW5zdGVhZC4iKX0sR2UucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbih0LGUscil7dmFyIG49Im51bWJlciI9PXR5cGVvZiB0P3RoaXMucGF0aC5jb25jYXQodCk6dGhpcy5wYXRoLGk9cj90aGlzLnNjb3BlLmNvbmNhdChyKTp0aGlzLnNjb3BlO3JldHVybiBuZXcgR2UodGhpcy5yZWdpc3RyeSxuLGV8fG51bGwsaSx0aGlzLmVycm9ycyl9LEdlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10scj1hcmd1bWVudHMubGVuZ3RoLTE7ci0tID4wOyllW3JdPWFyZ3VtZW50c1tyKzFdO3ZhciBuPSIiK3RoaXMua2V5K2UubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gIlsiK3QrIl0ifSkpLmpvaW4oIiIpO3RoaXMuZXJyb3JzLnB1c2gobmV3IFZ0KG4sdCkpO30sR2UucHJvdG90eXBlLmNoZWNrU3VidHlwZT1mdW5jdGlvbih0LGUpe3ZhciByPUh0KHQsZSk7cmV0dXJuIHImJnRoaXMuZXJyb3Iocikscn07dmFyIFhlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmlucHV0PWUsdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcih2YXIgbj0wLGk9cjtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl0sbz1hWzFdO3RoaXMubGFiZWxzLnB1c2goYVswXSksdGhpcy5vdXRwdXRzLnB1c2gobyk7fX07ZnVuY3Rpb24gSmUodCxlLHIpe3JldHVybiB0KigxLXIpK2Uqcn1YZS5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoLTE8NClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICIrKHQubGVuZ3RoLTEpKyIuIik7aWYoKHQubGVuZ3RoLTEpJTIhPTApcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy4iKTt2YXIgcj1lLnBhcnNlKHRbMV0sMSxMdCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIG49W10saT1udWxsO2UuZXhwZWN0ZWRUeXBlJiYidmFsdWUiIT09ZS5leHBlY3RlZFR5cGUua2luZCYmKGk9ZS5leHBlY3RlZFR5cGUpO2Zvcih2YXIgYT0xO2E8dC5sZW5ndGg7YSs9Mil7dmFyIG89MT09PWE/LTEvMDp0W2FdLHM9dFthKzFdLHU9YSxsPWErMTtpZigibnVtYmVyIiE9dHlwZW9mIG8pcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgInN0ZXAiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicsdSk7aWYobi5sZW5ndGgmJm5bbi5sZW5ndGgtMV1bMF0+PW8pcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgInN0ZXAiIGV4cHJlc3Npb25zIG11c3QgYmUgYXJyYW5nZWQgd2l0aCBpbnB1dCB2YWx1ZXMgaW4gc3RyaWN0bHkgYXNjZW5kaW5nIG9yZGVyLicsdSk7dmFyIHA9ZS5wYXJzZShzLGwsaSk7aWYoIXApcmV0dXJuIG51bGw7aT1pfHxwLnR5cGUsbi5wdXNoKFtvLHBdKTt9cmV0dXJuIG5ldyBYZShpLHIsbil9LFhlLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxhYmVscyxyPXRoaXMub3V0cHV0cztpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7dmFyIG49dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihuPD1lWzBdKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO3ZhciBpPWUubGVuZ3RoO3JldHVybiBuPj1lW2ktMV0/cltpLTFdLmV2YWx1YXRlKHQpOnJbWmUoZSxuKV0uZXZhbHVhdGUodCl9LFhlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLmlucHV0KTtmb3IodmFyIGU9MCxyPXRoaXMub3V0cHV0cztlPHIubGVuZ3RoO2UrPTEpdChyW2VdKTt9LFhlLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3V0cHV0RGVmaW5lZCgpfSkpfSxYZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVsic3RlcCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV0sZT0wO2U8dGhpcy5sYWJlbHMubGVuZ3RoO2UrKyllPjAmJnQucHVzaCh0aGlzLmxhYmVsc1tlXSksdC5wdXNoKHRoaXMub3V0cHV0c1tlXS5zZXJpYWxpemUoKSk7cmV0dXJuIHR9O3ZhciBIZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxudW1iZXI6SmUsY29sb3I6ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuZXcgJHQoSmUodC5yLGUucixyKSxKZSh0LmcsZS5nLHIpLEplKHQuYixlLmIsciksSmUodC5hLGUuYSxyKSl9LGFycmF5OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIEplKHQsZVtuXSxyKX0pKX19KSxZZT0uOTUwNDcsJGU9MSxXZT0xLjA4ODgzLFFlPTQvMjksdHI9Ni8yOSxlcj0zKnRyKnRyLHJyPXRyKnRyKnRyLG5yPU1hdGguUEkvMTgwLGlyPTE4MC9NYXRoLlBJO2Z1bmN0aW9uIGFyKHQpe3JldHVybiB0PnJyP01hdGgucG93KHQsMS8zKTp0L2VyK1FlfWZ1bmN0aW9uIG9yKHQpe3JldHVybiB0PnRyP3QqdCp0OmVyKih0LVFlKX1mdW5jdGlvbiBzcih0KXtyZXR1cm4gMjU1Kih0PD0uMDAzMTMwOD8xMi45Mip0OjEuMDU1Kk1hdGgucG93KHQsMS8yLjQpLS4wNTUpfWZ1bmN0aW9uIHVyKHQpe3JldHVybiAodC89MjU1KTw9LjA0MDQ1P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiBscih0KXt2YXIgZT11cih0LnIpLHI9dXIodC5nKSxuPXVyKHQuYiksaT1hcigoLjQxMjQ1NjQqZSsuMzU3NTc2MSpyKy4xODA0Mzc1Km4pL1llKSxhPWFyKCguMjEyNjcyOSplKy43MTUxNTIyKnIrLjA3MjE3NSpuKS8kZSk7cmV0dXJuIHtsOjExNiphLTE2LGE6NTAwKihpLWEpLGI6MjAwKihhLWFyKCguMDE5MzMzOSplKy4xMTkxOTIqcisuOTUwMzA0MSpuKS9XZSkpLGFscGhhOnQuYX19ZnVuY3Rpb24gcHIodCl7dmFyIGU9KHQubCsxNikvMTE2LHI9aXNOYU4odC5hKT9lOmUrdC5hLzUwMCxuPWlzTmFOKHQuYik/ZTplLXQuYi8yMDA7cmV0dXJuIGU9JGUqb3IoZSkscj1ZZSpvcihyKSxuPVdlKm9yKG4pLG5ldyAkdChzcigzLjI0MDQ1NDIqci0xLjUzNzEzODUqZS0uNDk4NTMxNCpuKSxzcigtLjk2OTI2NipyKzEuODc2MDEwOCplKy4wNDE1NTYqbiksc3IoLjA1NTY0MzQqci0uMjA0MDI1OSplKzEuMDU3MjI1MipuKSx0LmFscGhhKX1mdW5jdGlvbiBjcih0LGUscil7dmFyIG49ZS10O3JldHVybiB0K3IqKG4+MTgwfHxuPC0xODA/bi0zNjAqTWF0aC5yb3VuZChuLzM2MCk6bil9dmFyIGhyPXtmb3J3YXJkOmxyLHJldmVyc2U6cHIsaW50ZXJwb2xhdGU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB7bDpKZSh0LmwsZS5sLHIpLGE6SmUodC5hLGUuYSxyKSxiOkplKHQuYixlLmIsciksYWxwaGE6SmUodC5hbHBoYSxlLmFscGhhLHIpfX19LGZyPXtmb3J3YXJkOmZ1bmN0aW9uKHQpe3ZhciBlPWxyKHQpLHI9ZS5sLG49ZS5hLGk9ZS5iLGE9TWF0aC5hdGFuMihpLG4pKmlyO3JldHVybiB7aDphPDA/YSszNjA6YSxjOk1hdGguc3FydChuKm4raSppKSxsOnIsYWxwaGE6dC5hfX0scmV2ZXJzZTpmdW5jdGlvbih0KXt2YXIgZT10LmgqbnIscj10LmM7cmV0dXJuIHByKHtsOnQubCxhOk1hdGguY29zKGUpKnIsYjpNYXRoLnNpbihlKSpyLGFscGhhOnQuYWxwaGF9KX0saW50ZXJwb2xhdGU6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB7aDpjcih0LmgsZS5oLHIpLGM6SmUodC5jLGUuYyxyKSxsOkplKHQubCxlLmwsciksYWxwaGE6SmUodC5hbHBoYSxlLmFscGhhLHIpfX19LHlyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGxhYjpocixoY2w6ZnJ9KSxkcj1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMudHlwZT10LHRoaXMub3BlcmF0b3I9ZSx0aGlzLmludGVycG9sYXRpb249cix0aGlzLmlucHV0PW4sdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcih2YXIgYT0wLG89aTthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV0sdT1zWzFdO3RoaXMubGFiZWxzLnB1c2goc1swXSksdGhpcy5vdXRwdXRzLnB1c2godSk7fX07ZnVuY3Rpb24gbXIodCxlLHIsbil7dmFyIGk9bi1yLGE9dC1yO3JldHVybiAwPT09aT8wOjE9PT1lP2EvaTooTWF0aC5wb3coZSxhKS0xKS8oTWF0aC5wb3coZSxpKS0xKX1kci5pbnRlcnBvbGF0aW9uRmFjdG9yPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciBhPTA7aWYoImV4cG9uZW50aWFsIj09PXQubmFtZSlhPW1yKGUsdC5iYXNlLG4saSk7ZWxzZSBpZigibGluZWFyIj09PXQubmFtZSlhPW1yKGUsMSxuLGkpO2Vsc2UgaWYoImN1YmljLWJlemllciI9PT10Lm5hbWUpe3ZhciBvPXQuY29udHJvbFBvaW50czthPW5ldyByKG9bMF0sb1sxXSxvWzJdLG9bM10pLnNvbHZlKG1yKGUsMSxuLGkpKTt9cmV0dXJuIGF9LGRyLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLGE9dC5zbGljZSgzKTtpZighQXJyYXkuaXNBcnJheShuKXx8MD09PW4ubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBpbnRlcnBvbGF0aW9uIHR5cGUgZXhwcmVzc2lvbi4iLDEpO2lmKCJsaW5lYXIiPT09blswXSluPXtuYW1lOiJsaW5lYXIifTtlbHNlIGlmKCJleHBvbmVudGlhbCI9PT1uWzBdKXt2YXIgbz1uWzFdO2lmKCJudW1iZXIiIT10eXBlb2YgbylyZXR1cm4gZS5lcnJvcigiRXhwb25lbnRpYWwgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBhIG51bWVyaWMgYmFzZS4iLDEsMSk7bj17bmFtZToiZXhwb25lbnRpYWwiLGJhc2U6b307fWVsc2V7aWYoImN1YmljLWJlemllciIhPT1uWzBdKXJldHVybiBlLmVycm9yKCJVbmtub3duIGludGVycG9sYXRpb24gdHlwZSAiK1N0cmluZyhuWzBdKSwxLDApO3ZhciBzPW4uc2xpY2UoMSk7aWYoNCE9PXMubGVuZ3RofHxzLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiAibnVtYmVyIiE9dHlwZW9mIHR8fHQ8MHx8dD4xfSkpKXJldHVybiBlLmVycm9yKCJDdWJpYyBiZXppZXIgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBmb3VyIG51bWVyaWMgYXJndW1lbnRzIHdpdGggdmFsdWVzIGJldHdlZW4gMCBhbmQgMS4iLDEpO249e25hbWU6ImN1YmljLWJlemllciIsY29udHJvbFBvaW50czpzfTt9aWYodC5sZW5ndGgtMTw0KXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgIisodC5sZW5ndGgtMSkrIi4iKTtpZigodC5sZW5ndGgtMSklMiE9MClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLiIpO2lmKCEoaT1lLnBhcnNlKGksMixMdCkpKXJldHVybiBudWxsO3ZhciB1PVtdLGw9bnVsbDsiaW50ZXJwb2xhdGUtaGNsIj09PXJ8fCJpbnRlcnBvbGF0ZS1sYWIiPT09cj9sPVV0OmUuZXhwZWN0ZWRUeXBlJiYidmFsdWUiIT09ZS5leHBlY3RlZFR5cGUua2luZCYmKGw9ZS5leHBlY3RlZFR5cGUpO2Zvcih2YXIgcD0wO3A8YS5sZW5ndGg7cCs9Mil7dmFyIGM9YVtwXSxoPWFbcCsxXSxmPXArMyx5PXArNDtpZigibnVtYmVyIiE9dHlwZW9mIGMpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgImludGVycG9sYXRlIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLGYpO2lmKHUubGVuZ3RoJiZ1W3UubGVuZ3RoLTFdWzBdPj1jKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yICJpbnRlcnBvbGF0ZSIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxmKTt2YXIgZD1lLnBhcnNlKGgseSxsKTtpZighZClyZXR1cm4gbnVsbDtsPWx8fGQudHlwZSx1LnB1c2goW2MsZF0pO31yZXR1cm4gIm51bWJlciI9PT1sLmtpbmR8fCJjb2xvciI9PT1sLmtpbmR8fCJhcnJheSI9PT1sLmtpbmQmJiJudW1iZXIiPT09bC5pdGVtVHlwZS5raW5kJiYibnVtYmVyIj09dHlwZW9mIGwuTj9uZXcgZHIobCxyLG4saSx1KTplLmVycm9yKCJUeXBlICIrWHQobCkrIiBpcyBub3QgaW50ZXJwb2xhdGFibGUuIil9LGRyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxhYmVscyxyPXRoaXMub3V0cHV0cztpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7dmFyIG49dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihuPD1lWzBdKXJldHVybiByWzBdLmV2YWx1YXRlKHQpO3ZhciBpPWUubGVuZ3RoO2lmKG4+PWVbaS0xXSlyZXR1cm4gcltpLTFdLmV2YWx1YXRlKHQpO3ZhciBhPVplKGUsbiksbz1kci5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvbixuLGVbYV0sZVthKzFdKSxzPXJbYV0uZXZhbHVhdGUodCksdT1yW2ErMV0uZXZhbHVhdGUodCk7cmV0dXJuICJpbnRlcnBvbGF0ZSI9PT10aGlzLm9wZXJhdG9yP0hlW3RoaXMudHlwZS5raW5kLnRvTG93ZXJDYXNlKCldKHMsdSxvKToiaW50ZXJwb2xhdGUtaGNsIj09PXRoaXMub3BlcmF0b3I/ZnIucmV2ZXJzZShmci5pbnRlcnBvbGF0ZShmci5mb3J3YXJkKHMpLGZyLmZvcndhcmQodSksbykpOmhyLnJldmVyc2UoaHIuaW50ZXJwb2xhdGUoaHIuZm9yd2FyZChzKSxoci5mb3J3YXJkKHUpLG8pKX0sZHIucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5wdXQpO2Zvcih2YXIgZT0wLHI9dGhpcy5vdXRwdXRzO2U8ci5sZW5ndGg7ZSs9MSl0KHJbZV0pO30sZHIucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC5vdXRwdXREZWZpbmVkKCl9KSl9LGRyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdDt0PSJsaW5lYXIiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/WyJsaW5lYXIiXToiZXhwb25lbnRpYWwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/MT09PXRoaXMuaW50ZXJwb2xhdGlvbi5iYXNlP1sibGluZWFyIl06WyJleHBvbmVudGlhbCIsdGhpcy5pbnRlcnBvbGF0aW9uLmJhc2VdOlsiY3ViaWMtYmV6aWVyIl0uY29uY2F0KHRoaXMuaW50ZXJwb2xhdGlvbi5jb250cm9sUG9pbnRzKTtmb3IodmFyIGU9W3RoaXMub3BlcmF0b3IsdCx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXSxyPTA7cjx0aGlzLmxhYmVscy5sZW5ndGg7cisrKWUucHVzaCh0aGlzLmxhYmVsc1tyXSx0aGlzLm91dHB1dHNbcl0uc2VyaWFsaXplKCkpO3JldHVybiBlfTt2YXIgdnI9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9O3ZyLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LiIpO3ZhciByPW51bGwsbj1lLmV4cGVjdGVkVHlwZTtuJiYidmFsdWUiIT09bi5raW5kJiYocj1uKTtmb3IodmFyIGk9W10sYT0wLG89dC5zbGljZSgxKTthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPWUucGFyc2Uob1thXSwxK2kubGVuZ3RoLHIsdm9pZCAwLHt0eXBlQW5ub3RhdGlvbjoib21pdCJ9KTtpZighcylyZXR1cm4gbnVsbDtyPXJ8fHMudHlwZSxpLnB1c2gocyk7fXZhciB1PW4mJmkuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIEh0KG4sdC50eXBlKX0pKTtyZXR1cm4gbmV3IHZyKHU/cXQ6cixpKX0sdnIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPW51bGwsbj0wLGk9MCxhPXRoaXMuYXJncztpPGEubGVuZ3RoJiYobisrLChyPWFbaV0uZXZhbHVhdGUodCkpJiZyIGluc3RhbmNlb2YgZWUmJiFyLmF2YWlsYWJsZSYmKGV8fChlPXIubmFtZSkscj1udWxsLG49PT10aGlzLmFyZ3MubGVuZ3RoJiYocj1lKSksbnVsbD09PXIpO2krPTEpO3JldHVybiByfSx2ci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO30sdnIucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC5vdXRwdXREZWZpbmVkKCl9KSl9LHZyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1bImNvYWxlc2NlIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChmdW5jdGlvbihlKXt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9O3ZhciBncj1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT1lLnR5cGUsdGhpcy5iaW5kaW5ncz1bXS5jb25jYXQodCksdGhpcy5yZXN1bHQ9ZTt9O2dyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXN1bHQuZXZhbHVhdGUodCl9LGdyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLmJpbmRpbmdzO2U8ci5sZW5ndGg7ZSs9MSl0KHJbZV1bMV0pO3QodGhpcy5yZXN1bHQpO30sZ3IucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw0KXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kICIrKHQubGVuZ3RoLTEpKyIgaW5zdGVhZC4iKTtmb3IodmFyIHI9W10sbj0xO248dC5sZW5ndGgtMTtuKz0yKXt2YXIgaT10W25dO2lmKCJzdHJpbmciIT10eXBlb2YgaSlyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgc3RyaW5nLCBidXQgZm91bmQgIit0eXBlb2YgaSsiIGluc3RlYWQuIixuKTtpZigvW15hLXpBLVowLTlfXS8udGVzdChpKSlyZXR1cm4gZS5lcnJvcigiVmFyaWFibGUgbmFtZXMgbXVzdCBjb250YWluIG9ubHkgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgb3IgJ18nLiIsbik7dmFyIGE9ZS5wYXJzZSh0W24rMV0sbisxKTtpZighYSlyZXR1cm4gbnVsbDtyLnB1c2goW2ksYV0pO312YXIgbz1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSxlLmV4cGVjdGVkVHlwZSxyKTtyZXR1cm4gbz9uZXcgZ3IocixvKTpudWxsfSxnci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc3VsdC5vdXRwdXREZWZpbmVkKCl9LGdyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJsZXQiXSxlPTAscj10aGlzLmJpbmRpbmdzO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXTt0LnB1c2goblswXSxuWzFdLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIHQucHVzaCh0aGlzLnJlc3VsdC5zZXJpYWxpemUoKSksdH07dmFyIHhyPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmluZGV4PWUsdGhpcy5pbnB1dD1yO307eHIucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigzIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIDIgYXJndW1lbnRzLCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO3ZhciByPWUucGFyc2UodFsxXSwxLEx0KSxuPWUucGFyc2UodFsyXSwyLFp0KGUuZXhwZWN0ZWRUeXBlfHxxdCkpO3JldHVybiByJiZuP25ldyB4cihuLnR5cGUuaXRlbVR5cGUscixuKTpudWxsfSx4ci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbmRleC5ldmFsdWF0ZSh0KSxyPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYoZTwwKXRocm93IG5ldyBzZSgiQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogIitlKyIgPCAwLiIpO2lmKGU+PXIubGVuZ3RoKXRocm93IG5ldyBzZSgiQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogIitlKyIgPiAiKyhyLmxlbmd0aC0xKSsiLiIpO2lmKGUhPT1NYXRoLmZsb29yKGUpKXRocm93IG5ldyBzZSgiQXJyYXkgaW5kZXggbXVzdCBiZSBhbiBpbnRlZ2VyLCBidXQgZm91bmQgIitlKyIgaW5zdGVhZC4iKTtyZXR1cm4gcltlXX0seHIucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5kZXgpLHQodGhpcy5pbnB1dCk7fSx4ci5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0seHIucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBbImF0Iix0aGlzLmluZGV4LnNlcmlhbGl6ZSgpLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldfTt2YXIgYnI9ZnVuY3Rpb24odCxlKXt0aGlzLnR5cGU9T3QsdGhpcy5uZWVkbGU9dCx0aGlzLmhheXN0YWNrPWU7fTtici5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKDMhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAiKyh0Lmxlbmd0aC0xKSsiIGluc3RlYWQuIik7dmFyIHIsbj1lLnBhcnNlKHRbMV0sMSxxdCksaT1lLnBhcnNlKHRbMl0sMixxdCk7cmV0dXJuIG4mJmk/ImJvb2xlYW4iIT09KHI9bi50eXBlKS5raW5kJiYic3RyaW5nIiE9PXIua2luZCYmIm51bWJlciIhPT1yLmtpbmQmJiJudWxsIiE9PXIua2luZCYmInZhbHVlIiE9PXIua2luZD9lLmVycm9yKCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAiK1h0KG4udHlwZSkrIiBpbnN0ZWFkIik6bmV3IGJyKG4saSk6bnVsbH0sYnIucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubmVlZGxlLmV2YWx1YXRlKHQpLHI9dGhpcy5oYXlzdGFjay5ldmFsdWF0ZSh0KTtpZihudWxsPT1lfHwhcilyZXR1cm4gITE7aWYoIWZ1bmN0aW9uKHQpe3JldHVybiAiYm9vbGVhbiI9PXR5cGVvZiB0fHwic3RyaW5nIj09dHlwZW9mIHR8fCJudW1iZXIiPT10eXBlb2YgdH0oZSkpdGhyb3cgbmV3IHNlKCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZyBvciBudW1iZXIsIGJ1dCBmb3VuZCAiK1h0KGllKGUpKSsiIGluc3RlYWQuIik7aWYoIWZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfHwic3RyaW5nIj09dHlwZW9mIHR9KHIpKXRocm93IG5ldyBzZSgiRXhwZWN0ZWQgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgIitYdChpZShyKSkrIiBpbnN0ZWFkLiIpO3JldHVybiByLmluZGV4T2YoZSk+PTB9LGJyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLm5lZWRsZSksdCh0aGlzLmhheXN0YWNrKTt9LGJyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICEwfSxici5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFsiaW4iLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfTt2YXIgd3I9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuaW5wdXRUeXBlPXQsdGhpcy50eXBlPWUsdGhpcy5pbnB1dD1yLHRoaXMuY2FzZXM9bix0aGlzLm91dHB1dHM9aSx0aGlzLm90aGVyd2lzZT1hO307d3IucGFyc2U9ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aDw1KXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgIisodC5sZW5ndGgtMSkrIi4iKTtpZih0Lmxlbmd0aCUyIT0xKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuIik7dmFyIHIsbjtlLmV4cGVjdGVkVHlwZSYmInZhbHVlIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihuPWUuZXhwZWN0ZWRUeXBlKTtmb3IodmFyIGk9e30sYT1bXSxvPTI7bzx0Lmxlbmd0aC0xO28rPTIpe3ZhciBzPXRbb10sdT10W28rMV07QXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKTt2YXIgbD1lLmNvbmNhdChvKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIGwuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBicmFuY2ggbGFiZWwuIik7Zm9yKHZhciBwPTAsYz1zO3A8Yy5sZW5ndGg7cCs9MSl7dmFyIGg9Y1twXTtpZigibnVtYmVyIiE9dHlwZW9mIGgmJiJzdHJpbmciIT10eXBlb2YgaClyZXR1cm4gbC5lcnJvcigiQnJhbmNoIGxhYmVscyBtdXN0IGJlIG51bWJlcnMgb3Igc3RyaW5ncy4iKTtpZigibnVtYmVyIj09dHlwZW9mIGgmJk1hdGguYWJzKGgpPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKXJldHVybiBsLmVycm9yKCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlcnMgbm8gbGFyZ2VyIHRoYW4gIitOdW1iZXIuTUFYX1NBRkVfSU5URUdFUisiLiIpO2lmKCJudW1iZXIiPT10eXBlb2YgaCYmTWF0aC5mbG9vcihoKSE9PWgpcmV0dXJuIGwuZXJyb3IoIk51bWVyaWMgYnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXIgdmFsdWVzLiIpO2lmKHIpe2lmKGwuY2hlY2tTdWJ0eXBlKHIsaWUoaCkpKXJldHVybiBudWxsfWVsc2Ugcj1pZShoKTtpZih2b2lkIDAhPT1pW1N0cmluZyhoKV0pcmV0dXJuIGwuZXJyb3IoIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSB1bmlxdWUuIik7aVtTdHJpbmcoaCldPWEubGVuZ3RoO312YXIgZj1lLnBhcnNlKHUsbyxuKTtpZighZilyZXR1cm4gbnVsbDtuPW58fGYudHlwZSxhLnB1c2goZik7fXZhciB5PWUucGFyc2UodFsxXSwxLHF0KTtpZigheSlyZXR1cm4gbnVsbDt2YXIgZD1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSxuKTtyZXR1cm4gZD8idmFsdWUiIT09eS50eXBlLmtpbmQmJmUuY29uY2F0KDEpLmNoZWNrU3VidHlwZShyLHkudHlwZSk/bnVsbDpuZXcgd3IocixuLHksaSxhLGQpOm51bGx9LHdyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO3JldHVybiAoaWUoZSk9PT10aGlzLmlucHV0VHlwZSYmdGhpcy5vdXRwdXRzW3RoaXMuY2FzZXNbZV1dfHx0aGlzLm90aGVyd2lzZSkuZXZhbHVhdGUodCl9LHdyLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaCh0KSx0KHRoaXMub3RoZXJ3aXNlKTt9LHdyLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQub3V0cHV0RGVmaW5lZCgpfSkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9LHdyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPVsibWF0Y2giLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLHI9W10sbj17fSxpPTAsYT1PYmplY3Qua2V5cyh0aGlzLmNhc2VzKS5zb3J0KCk7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO3ZvaWQgMD09PShjPW5bdGhpcy5jYXNlc1tvXV0pPyhuW3RoaXMuY2FzZXNbb11dPXIubGVuZ3RoLHIucHVzaChbdGhpcy5jYXNlc1tvXSxbb11dKSk6cltjXVsxXS5wdXNoKG8pO31mb3IodmFyIHM9ZnVuY3Rpb24oZSl7cmV0dXJuICJudW1iZXIiPT09dC5pbnB1dFR5cGUua2luZD9OdW1iZXIoZSk6ZX0sdT0wLGw9cjt1PGwubGVuZ3RoO3UrPTEpe3ZhciBwPWxbdV0sYz1wWzBdLGg9cFsxXTtlLnB1c2goMT09PWgubGVuZ3RoP3MoaFswXSk6aC5tYXAocykpLGUucHVzaCh0aGlzLm91dHB1dHNbb3V0cHV0SW5kZXgkMV0uc2VyaWFsaXplKCkpO31yZXR1cm4gZS5wdXNoKHRoaXMub3RoZXJ3aXNlLnNlcmlhbGl6ZSgpKSxlfTt2YXIgX3I9ZnVuY3Rpb24odCxlLHIpe3RoaXMudHlwZT10LHRoaXMuYnJhbmNoZXM9ZSx0aGlzLm90aGVyd2lzZT1yO307ZnVuY3Rpb24gQXIodCxlKXtyZXR1cm4gIj09Ij09PXR8fCIhPSI9PT10PyJib29sZWFuIj09PWUua2luZHx8InN0cmluZyI9PT1lLmtpbmR8fCJudW1iZXIiPT09ZS5raW5kfHwibnVsbCI9PT1lLmtpbmR8fCJ2YWx1ZSI9PT1lLmtpbmQ6InN0cmluZyI9PT1lLmtpbmR8fCJudW1iZXIiPT09ZS5raW5kfHwidmFsdWUiPT09ZS5raW5kfWZ1bmN0aW9uIFNyKHQsZSxyLG4pe3JldHVybiAwPT09bi5jb21wYXJlKGUscil9ZnVuY3Rpb24ga3IodCxlLHIpe3ZhciBuPSI9PSIhPT10JiYiIT0iIT09dDtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQsZSxyKXt0aGlzLnR5cGU9T3QsdGhpcy5saHM9dCx0aGlzLnJocz1lLHRoaXMuY29sbGF0b3I9cix0aGlzLmhhc1VudHlwZWRBcmd1bWVudD0idmFsdWUiPT09dC50eXBlLmtpbmR8fCJ2YWx1ZSI9PT1lLnR5cGUua2luZDt9cmV0dXJuIGkucGFyc2U9ZnVuY3Rpb24odCxlKXtpZigzIT09dC5sZW5ndGgmJjQhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcigiRXhwZWN0ZWQgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy4iKTt2YXIgcj10WzBdLGE9ZS5wYXJzZSh0WzFdLDEscXQpO2lmKCFhKXJldHVybiBudWxsO2lmKCFBcihyLGEudHlwZSkpcmV0dXJuIGUuY29uY2F0KDEpLmVycm9yKCciJytyKyJcIiBjb21wYXJpc29ucyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgdHlwZSAnIitYdChhLnR5cGUpKyInLiIpO3ZhciBvPWUucGFyc2UodFsyXSwyLHF0KTtpZighbylyZXR1cm4gbnVsbDtpZighQXIocixvLnR5cGUpKXJldHVybiBlLmNvbmNhdCgyKS5lcnJvcignIicrcisiXCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyIrWHQoby50eXBlKSsiJy4iKTtpZihhLnR5cGUua2luZCE9PW8udHlwZS5raW5kJiYidmFsdWUiIT09YS50eXBlLmtpbmQmJiJ2YWx1ZSIhPT1vLnR5cGUua2luZClyZXR1cm4gZS5lcnJvcigiQ2Fubm90IGNvbXBhcmUgdHlwZXMgJyIrWHQoYS50eXBlKSsiJyBhbmQgJyIrWHQoby50eXBlKSsiJy4iKTtuJiYoInZhbHVlIj09PWEudHlwZS5raW5kJiYidmFsdWUiIT09by50eXBlLmtpbmQ/YT1uZXcgbGUoby50eXBlLFthXSk6InZhbHVlIiE9PWEudHlwZS5raW5kJiYidmFsdWUiPT09by50eXBlLmtpbmQmJihvPW5ldyBsZShhLnR5cGUsW29dKSkpO3ZhciBzPW51bGw7aWYoND09PXQubGVuZ3RoKXtpZigic3RyaW5nIiE9PWEudHlwZS5raW5kJiYic3RyaW5nIiE9PW8udHlwZS5raW5kJiYidmFsdWUiIT09YS50eXBlLmtpbmQmJiJ2YWx1ZSIhPT1vLnR5cGUua2luZClyZXR1cm4gZS5lcnJvcigiQ2Fubm90IHVzZSBjb2xsYXRvciB0byBjb21wYXJlIG5vbi1zdHJpbmcgdHlwZXMuIik7aWYoIShzPWUucGFyc2UodFszXSwzLE50KSkpcmV0dXJuIG51bGx9cmV0dXJuIG5ldyBpKGEsbyxzKX0saS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oaSl7dmFyIGE9dGhpcy5saHMuZXZhbHVhdGUoaSksbz10aGlzLnJocy5ldmFsdWF0ZShpKTtpZihuJiZ0aGlzLmhhc1VudHlwZWRBcmd1bWVudCl7dmFyIHM9aWUoYSksdT1pZShvKTtpZihzLmtpbmQhPT11LmtpbmR8fCJzdHJpbmciIT09cy5raW5kJiYibnVtYmVyIiE9PXMua2luZCl0aHJvdyBuZXcgc2UoJ0V4cGVjdGVkIGFyZ3VtZW50cyBmb3IgIicrdCsnIiB0byBiZSAoc3RyaW5nLCBzdHJpbmcpIG9yIChudW1iZXIsIG51bWJlciksIGJ1dCBmb3VuZCAoJytzLmtpbmQrIiwgIit1LmtpbmQrIikgaW5zdGVhZC4iKX1pZih0aGlzLmNvbGxhdG9yJiYhbiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe3ZhciBsPWllKGEpLHA9aWUobyk7aWYoInN0cmluZyIhPT1sLmtpbmR8fCJzdHJpbmciIT09cC5raW5kKXJldHVybiBlKGksYSxvKX1yZXR1cm4gdGhpcy5jb2xsYXRvcj9yKGksYSxvLHRoaXMuY29sbGF0b3IuZXZhbHVhdGUoaSkpOmUoaSxhLG8pfSxpLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dCh0aGlzLmxocyksdCh0aGlzLnJocyksdGhpcy5jb2xsYXRvciYmdCh0aGlzLmNvbGxhdG9yKTt9LGkucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPVt0XTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGZ1bmN0aW9uKHQpe2UucHVzaCh0LnNlcmlhbGl6ZSgpKTt9KSksZX0saX0oKX1fci5wYXJzZT1mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPDQpcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAiKyh0Lmxlbmd0aC0xKSsiLiIpO2lmKHQubGVuZ3RoJTIhPTApcmV0dXJuIGUuZXJyb3IoIkV4cGVjdGVkIGFuIG9kZCBudW1iZXIgb2YgYXJndW1lbnRzLiIpO3ZhciByO2UuZXhwZWN0ZWRUeXBlJiYidmFsdWUiIT09ZS5leHBlY3RlZFR5cGUua2luZCYmKHI9ZS5leHBlY3RlZFR5cGUpO2Zvcih2YXIgbj1bXSxpPTE7aTx0Lmxlbmd0aC0xO2krPTIpe3ZhciBhPWUucGFyc2UodFtpXSxpLE90KTtpZighYSlyZXR1cm4gbnVsbDt2YXIgbz1lLnBhcnNlKHRbaSsxXSxpKzEscik7aWYoIW8pcmV0dXJuIG51bGw7bi5wdXNoKFthLG9dKSxyPXJ8fG8udHlwZTt9dmFyIHM9ZS5wYXJzZSh0W3QubGVuZ3RoLTFdLHQubGVuZ3RoLTEscik7cmV0dXJuIHM/bmV3IF9yKHIsbixzKTpudWxsfSxfci5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLmJyYW5jaGVzO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPW5bMV07aWYoblswXS5ldmFsdWF0ZSh0KSlyZXR1cm4gaS5ldmFsdWF0ZSh0KX1yZXR1cm4gdGhpcy5vdGhlcndpc2UuZXZhbHVhdGUodCl9LF9yLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLmJyYW5jaGVzO2U8ci5sZW5ndGg7ZSs9MSl7dmFyIG49cltlXSxpPW5bMV07dChuWzBdKSx0KGkpO310KHRoaXMub3RoZXJ3aXNlKTt9LF9yLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnJhbmNoZXMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzFdLm91dHB1dERlZmluZWQoKX0pKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfSxfci5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9WyJjYXNlIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChmdW5jdGlvbihlKXt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9O3ZhciBJcj1rcigiPT0iLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU9PT1yfSksU3IpLHpyPWtyKCIhPSIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZSE9PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuICFTcigwLGUscixuKX0pKSxDcj1rcigiPCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZTxyfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTwwfSkpLE1yPWtyKCI+IiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPnJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPjB9KSksVHI9a3IoIjw9IiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPD1yfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTw9MH0pKSxFcj1rcigiPj0iLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU+PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPj0wfSkpLFByPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy50eXBlPVJ0LHRoaXMubnVtYmVyPXQsdGhpcy5sb2NhbGU9ZSx0aGlzLmN1cnJlbmN5PXIsdGhpcy5taW5GcmFjdGlvbkRpZ2l0cz1uLHRoaXMubWF4RnJhY3Rpb25EaWdpdHM9aTt9O1ByLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCB0d28gYXJndW1lbnRzLiIpO3ZhciByPWUucGFyc2UodFsxXSwxLEx0KTtpZighcilyZXR1cm4gbnVsbDt2YXIgbj10WzJdO2lmKCJvYmplY3QiIT10eXBlb2Ygbnx8QXJyYXkuaXNBcnJheShuKSlyZXR1cm4gZS5lcnJvcigiTnVtYmVyRm9ybWF0IG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuIik7dmFyIGk9bnVsbDtpZihuLmxvY2FsZSYmIShpPWUucGFyc2Uobi5sb2NhbGUsMSxSdCkpKXJldHVybiBudWxsO3ZhciBhPW51bGw7aWYobi5jdXJyZW5jeSYmIShhPWUucGFyc2Uobi5jdXJyZW5jeSwxLFJ0KSkpcmV0dXJuIG51bGw7dmFyIG89bnVsbDtpZihuWyJtaW4tZnJhY3Rpb24tZGlnaXRzIl0mJiEobz1lLnBhcnNlKG5bIm1pbi1mcmFjdGlvbi1kaWdpdHMiXSwxLEx0KSkpcmV0dXJuIG51bGw7dmFyIHM9bnVsbDtyZXR1cm4gblsibWF4LWZyYWN0aW9uLWRpZ2l0cyJdJiYhKHM9ZS5wYXJzZShuWyJtYXgtZnJhY3Rpb24tZGlnaXRzIl0sMSxMdCkpP251bGw6bmV3IFByKHIsaSxhLG8scyl9LFByLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOltdLHtzdHlsZTp0aGlzLmN1cnJlbmN5PyJjdXJyZW5jeSI6ImRlY2ltYWwiLGN1cnJlbmN5OnRoaXMuY3VycmVuY3k/dGhpcy5jdXJyZW5jeS5ldmFsdWF0ZSh0KTp2b2lkIDAsbWluaW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWluRnJhY3Rpb25EaWdpdHM/dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDAsbWF4aW11bUZyYWN0aW9uRGlnaXRzOnRoaXMubWF4RnJhY3Rpb25EaWdpdHM/dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5ldmFsdWF0ZSh0KTp2b2lkIDB9KS5mb3JtYXQodGhpcy5udW1iZXIuZXZhbHVhdGUodCkpfSxQci5wcm90b3R5cGUuZWFjaENoaWxkPWZ1bmN0aW9uKHQpe3QodGhpcy5udW1iZXIpLHRoaXMubG9jYWxlJiZ0KHRoaXMubG9jYWxlKSx0aGlzLmN1cnJlbmN5JiZ0KHRoaXMuY3VycmVuY3kpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJnQodGhpcy5taW5GcmFjdGlvbkRpZ2l0cyksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmdCh0aGlzLm1heEZyYWN0aW9uRGlnaXRzKTt9LFByLnByb3RvdHlwZS5vdXRwdXREZWZpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxQci5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHRoaXMubG9jYWxlJiYodC5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLHRoaXMuY3VycmVuY3kmJih0LmN1cnJlbmN5PXRoaXMuY3VycmVuY3kuc2VyaWFsaXplKCkpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJih0WyJtaW4tZnJhY3Rpb24tZGlnaXRzIl09dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmKHRbIm1heC1mcmFjdGlvbi1kaWdpdHMiXT10aGlzLm1heEZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSxbIm51bWJlci1mb3JtYXQiLHRoaXMubnVtYmVyLnNlcmlhbGl6ZSgpLHRdfTt2YXIgQnI9ZnVuY3Rpb24odCl7dGhpcy50eXBlPUx0LHRoaXMuaW5wdXQ9dDt9O0JyLnBhcnNlPWZ1bmN0aW9uKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKCJFeHBlY3RlZCAxIGFyZ3VtZW50LCBidXQgZm91bmQgIisodC5sZW5ndGgtMSkrIiBpbnN0ZWFkLiIpO3ZhciByPWUucGFyc2UodFsxXSwxKTtyZXR1cm4gcj8iYXJyYXkiIT09ci50eXBlLmtpbmQmJiJzdHJpbmciIT09ci50eXBlLmtpbmQmJiJ2YWx1ZSIhPT1yLnR5cGUua2luZD9lLmVycm9yKCJFeHBlY3RlZCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICIrWHQoci50eXBlKSsiIGluc3RlYWQuIik6bmV3IEJyKHIpOm51bGx9LEJyLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZS5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5sZW5ndGg7dGhyb3cgbmV3IHNlKCJFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICIrWHQoaWUoZSkpKyIgaW5zdGVhZC4iKX0sQnIucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbih0KXt0KHRoaXMuaW5wdXQpO30sQnIucHJvdG90eXBlLm91dHB1dERlZmluZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LEJyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1bImxlbmd0aCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fTt2YXIgVnI9eyI9PSI6SXIsIiE9Ijp6ciwiPiI6TXIsIjwiOkNyLCI+PSI6RXIsIjw9IjpUcixhcnJheTpsZSxhdDp4cixib29sZWFuOmxlLGNhc2U6X3IsY29hbGVzY2U6dnIsY29sbGF0b3I6dmUsZm9ybWF0OnBlLGltYWdlOmNlLGluOmJyLGludGVycG9sYXRlOmRyLCJpbnRlcnBvbGF0ZS1oY2wiOmRyLCJpbnRlcnBvbGF0ZS1sYWIiOmRyLGxlbmd0aDpCcixsZXQ6Z3IsbGl0ZXJhbDpvZSxtYXRjaDp3cixudW1iZXI6bGUsIm51bWJlci1mb3JtYXQiOlByLG9iamVjdDpsZSxzdGVwOlhlLHN0cmluZzpsZSwidG8tYm9vbGVhbiI6ZmUsInRvLWNvbG9yIjpmZSwidG8tbnVtYmVyIjpmZSwidG8tc3RyaW5nIjpmZSx2YXI6S2Usd2l0aGluOlVlfTtmdW5jdGlvbiBGcih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM107cj1yLmV2YWx1YXRlKHQpLG49bi5ldmFsdWF0ZSh0KSxpPWkuZXZhbHVhdGUodCk7dmFyIG89YT9hLmV2YWx1YXRlKHQpOjEscz1yZShyLG4saSxvKTtpZihzKXRocm93IG5ldyBzZShzKTtyZXR1cm4gbmV3ICR0KHIvMjU1Km8sbi8yNTUqbyxpLzI1NSpvLG8pfWZ1bmN0aW9uIERyKHQsZSl7cmV0dXJuIHQgaW4gZX1mdW5jdGlvbiBMcih0LGUpe3ZhciByPWVbdF07cmV0dXJuIHZvaWQgMD09PXI/bnVsbDpyfWZ1bmN0aW9uIFJyKHQpe3JldHVybiB7dHlwZTp0fX1mdW5jdGlvbiBPcih0KXtyZXR1cm4ge3Jlc3VsdDoic3VjY2VzcyIsdmFsdWU6dH19ZnVuY3Rpb24gVXIodCl7cmV0dXJuIHtyZXN1bHQ6ImVycm9yIix2YWx1ZTp0fX1mdW5jdGlvbiBqcih0KXtyZXR1cm4gImRhdGEtZHJpdmVuIj09PXRbInByb3BlcnR5LXR5cGUiXXx8ImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuIj09PXRbInByb3BlcnR5LXR5cGUiXX1mdW5jdGlvbiBxcih0KXtyZXR1cm4gISF0LmV4cHJlc3Npb24mJnQuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzLmluZGV4T2YoInpvb20iKT4tMX1mdW5jdGlvbiBOcih0KXtyZXR1cm4gISF0LmV4cHJlc3Npb24mJnQuZXhwcmVzc2lvbi5pbnRlcnBvbGF0ZWR9ZnVuY3Rpb24gS3IodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBOdW1iZXI/Im51bWJlciI6dCBpbnN0YW5jZW9mIFN0cmluZz8ic3RyaW5nIjp0IGluc3RhbmNlb2YgQm9vbGVhbj8iYm9vbGVhbiI6QXJyYXkuaXNBcnJheSh0KT8iYXJyYXkiOm51bGw9PT10PyJudWxsIjp0eXBlb2YgdH1mdW5jdGlvbiBHcih0KXtyZXR1cm4gIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT09dCYmIUFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24gWnIodCl7cmV0dXJuIHR9ZnVuY3Rpb24gWHIodCxlLHIpe3JldHVybiB2b2lkIDAhPT10P3Q6dm9pZCAwIT09ZT9lOnZvaWQgMCE9PXI/cjp2b2lkIDB9ZnVuY3Rpb24gSnIodCxlLHIsbixpKXtyZXR1cm4gWHIodHlwZW9mIHI9PT1pP25bcl06dm9pZCAwLHQuZGVmYXVsdCxlLmRlZmF1bHQpfWZ1bmN0aW9uIEhyKHQsZSxyKXtpZigibnVtYmVyIiE9PUtyKHIpKXJldHVybiBYcih0LmRlZmF1bHQsZS5kZWZhdWx0KTt2YXIgbj10LnN0b3BzLmxlbmd0aDtpZigxPT09bilyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPD10LnN0b3BzWzBdWzBdKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI+PXQuc3RvcHNbbi0xXVswXSlyZXR1cm4gdC5zdG9wc1tuLTFdWzFdO3ZhciBpPVplKHQuc3RvcHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxyKTtyZXR1cm4gdC5zdG9wc1tpXVsxXX1mdW5jdGlvbiBZcih0LGUscil7dmFyIG49dm9pZCAwIT09dC5iYXNlP3QuYmFzZToxO2lmKCJudW1iZXIiIT09S3IocikpcmV0dXJuIFhyKHQuZGVmYXVsdCxlLmRlZmF1bHQpO3ZhciBpPXQuc3RvcHMubGVuZ3RoO2lmKDE9PT1pKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI8PXQuc3RvcHNbMF1bMF0pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocj49dC5zdG9wc1tpLTFdWzBdKXJldHVybiB0LnN0b3BzW2ktMV1bMV07dmFyIGE9WmUodC5zdG9wcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdfSkpLHIpLG89ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9bi1yLGE9dC1yO3JldHVybiAwPT09aT8wOjE9PT1lP2EvaTooTWF0aC5wb3coZSxhKS0xKS8oTWF0aC5wb3coZSxpKS0xKX0ocixuLHQuc3RvcHNbYV1bMF0sdC5zdG9wc1thKzFdWzBdKSxzPXQuc3RvcHNbYV1bMV0sdT10LnN0b3BzW2ErMV1bMV0sbD1IZVtlLnR5cGVdfHxacjtpZih0LmNvbG9yU3BhY2UmJiJyZ2IiIT09dC5jb2xvclNwYWNlKXt2YXIgcD15clt0LmNvbG9yU3BhY2VdO2w9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcC5yZXZlcnNlKHAuaW50ZXJwb2xhdGUocC5mb3J3YXJkKHQpLHAuZm9yd2FyZChlKSxvKSl9O31yZXR1cm4gImZ1bmN0aW9uIj09dHlwZW9mIHMuZXZhbHVhdGU/e2V2YWx1YXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9YXJndW1lbnRzLmxlbmd0aDtlLS07KXRbZV09YXJndW1lbnRzW2VdO3ZhciByPXMuZXZhbHVhdGUuYXBwbHkodm9pZCAwLHQpLG49dS5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsdCk7aWYodm9pZCAwIT09ciYmdm9pZCAwIT09bilyZXR1cm4gbChyLG4sbyl9fTpsKHMsdSxvKX1mdW5jdGlvbiAkcih0LGUscil7cmV0dXJuICJjb2xvciI9PT1lLnR5cGU/cj0kdC5wYXJzZShyKToiZm9ybWF0dGVkIj09PWUudHlwZT9yPXRlLmZyb21TdHJpbmcoci50b1N0cmluZygpKToicmVzb2x2ZWRJbWFnZSI9PT1lLnR5cGU/cj1lZS5mcm9tU3RyaW5nKHIudG9TdHJpbmcoKSk6S3Iocik9PT1lLnR5cGV8fCJlbnVtIj09PWUudHlwZSYmZS52YWx1ZXNbcl18fChyPXZvaWQgMCksWHIocix0LmRlZmF1bHQsZS5kZWZhdWx0KX1tZS5yZWdpc3RlcihWcix7ZXJyb3I6W3traW5kOiJlcnJvciJ9LFtSdF0sZnVuY3Rpb24odCxlKXt0aHJvdyBuZXcgc2UoZVswXS5ldmFsdWF0ZSh0KSl9XSx0eXBlb2Y6W1J0LFtxdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gWHQoaWUoZVswXS5ldmFsdWF0ZSh0KSkpfV0sInRvLXJnYmEiOltadChMdCw0KSxbVXRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkudG9BcnJheSgpfV0scmdiOltVdCxbTHQsTHQsTHRdLEZyXSxyZ2JhOltVdCxbTHQsTHQsTHQsTHRdLEZyXSxoYXM6e3R5cGU6T3Qsb3ZlcmxvYWRzOltbW1J0XSxmdW5jdGlvbih0LGUpe3JldHVybiBEcihlWzBdLmV2YWx1YXRlKHQpLHQucHJvcGVydGllcygpKX1dLFtbUnQsanRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gRHIoZVswXS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKX1dXX0sZ2V0Ont0eXBlOnF0LG92ZXJsb2FkczpbW1tSdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTHIoZVswXS5ldmFsdWF0ZSh0KSx0LnByb3BlcnRpZXMoKSl9XSxbW1J0LGp0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMV07cmV0dXJuIExyKGVbMF0uZXZhbHVhdGUodCksci5ldmFsdWF0ZSh0KSl9XV19LCJmZWF0dXJlLXN0YXRlIjpbcXQsW1J0XSxmdW5jdGlvbih0LGUpe3JldHVybiBMcihlWzBdLmV2YWx1YXRlKHQpLHQuZmVhdHVyZVN0YXRlfHx7fSl9XSxwcm9wZXJ0aWVzOltqdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5wcm9wZXJ0aWVzKCl9XSwiZ2VvbWV0cnktdHlwZSI6W1J0LFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5VHlwZSgpfV0saWQ6W3F0LFtdLGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkKCl9XSx6b29tOltMdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gdC5nbG9iYWxzLnpvb219XSwiaGVhdG1hcC1kZW5zaXR5IjpbTHQsW10sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2xvYmFscy5oZWF0bWFwRGVuc2l0eXx8MH1dLCJsaW5lLXByb2dyZXNzIjpbTHQsW10sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2xvYmFscy5saW5lUHJvZ3Jlc3N8fDB9XSxhY2N1bXVsYXRlZDpbcXQsW10sZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQuZ2xvYmFscy5hY2N1bXVsYXRlZD9udWxsOnQuZ2xvYmFscy5hY2N1bXVsYXRlZH1dLCIrIjpbTHQsUnIoTHQpLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpcis9aVtuXS5ldmFsdWF0ZSh0KTtyZXR1cm4gcn1dLCIqIjpbTHQsUnIoTHQpLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTEsbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpcio9aVtuXS5ldmFsdWF0ZSh0KTtyZXR1cm4gcn1dLCItIjp7dHlwZTpMdCxvdmVybG9hZHM6W1tbTHQsTHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVsxXTtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KS1yLmV2YWx1YXRlKHQpfV0sW1tMdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gLWVbMF0uZXZhbHVhdGUodCl9XV19LCIvIjpbTHQsW0x0LEx0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMV07cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkvci5ldmFsdWF0ZSh0KX1dLCIlIjpbTHQsW0x0LEx0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMV07cmV0dXJuIGVbMF0uZXZhbHVhdGUodCklci5ldmFsdWF0ZSh0KX1dLGxuMjpbTHQsW10sZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5MTjJ9XSxwaTpbTHQsW10sZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5QSX1dLGU6W0x0LFtdLGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguRX1dLCJeIjpbTHQsW0x0LEx0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMV07cmV0dXJuIE1hdGgucG93KGVbMF0uZXZhbHVhdGUodCksci5ldmFsdWF0ZSh0KSl9XSxzcXJ0OltMdCxbTHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguc3FydChlWzBdLmV2YWx1YXRlKHQpKX1dLGxvZzEwOltMdCxbTHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubG9nKGVbMF0uZXZhbHVhdGUodCkpL01hdGguTE4xMH1dLGxuOltMdCxbTHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubG9nKGVbMF0uZXZhbHVhdGUodCkpfV0sbG9nMjpbTHQsW0x0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmxvZyhlWzBdLmV2YWx1YXRlKHQpKS9NYXRoLkxOMn1dLHNpbjpbTHQsW0x0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnNpbihlWzBdLmV2YWx1YXRlKHQpKX1dLGNvczpbTHQsW0x0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmNvcyhlWzBdLmV2YWx1YXRlKHQpKX1dLHRhbjpbTHQsW0x0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnRhbihlWzBdLmV2YWx1YXRlKHQpKX1dLGFzaW46W0x0LFtMdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hc2luKGVbMF0uZXZhbHVhdGUodCkpfV0sYWNvczpbTHQsW0x0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFjb3MoZVswXS5ldmFsdWF0ZSh0KSl9XSxhdGFuOltMdCxbTHRdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbihlWzBdLmV2YWx1YXRlKHQpKX1dLG1pbjpbTHQsUnIoTHQpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV2YWx1YXRlKHQpfSkpKX1dLG1heDpbTHQsUnIoTHQpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV2YWx1YXRlKHQpfSkpKX1dLGFiczpbTHQsW0x0XSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyhlWzBdLmV2YWx1YXRlKHQpKX1dLHJvdW5kOltMdCxbTHRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXS5ldmFsdWF0ZSh0KTtyZXR1cm4gcjwwPy1NYXRoLnJvdW5kKC1yKTpNYXRoLnJvdW5kKHIpfV0sZmxvb3I6W0x0LFtMdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5mbG9vcihlWzBdLmV2YWx1YXRlKHQpKX1dLGNlaWw6W0x0LFtMdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5jZWlsKGVbMF0uZXZhbHVhdGUodCkpfV0sImZpbHRlci09PSI6W090LFtSdCxxdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4gdC5wcm9wZXJ0aWVzKClbci52YWx1ZV09PT1uLnZhbHVlfV0sImZpbHRlci1pZC09PSI6W090LFtxdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdO3JldHVybiB0LmlkKCk9PT1yLnZhbHVlfV0sImZpbHRlci10eXBlLT09IjpbT3QsW1J0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIHQuZ2VvbWV0cnlUeXBlKCk9PT1yLnZhbHVlfV0sImZpbHRlci08IjpbT3QsW1J0LHF0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9dC5wcm9wZXJ0aWVzKClbci52YWx1ZV0sYT1uLnZhbHVlO3JldHVybiB0eXBlb2YgaT09dHlwZW9mIGEmJmk8YX1dLCJmaWx0ZXItaWQtPCI6W090LFtxdF0sZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49dC5pZCgpLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPGl9XSwiZmlsdGVyLT4iOltPdCxbUnQscXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT10LnByb3BlcnRpZXMoKVtyLnZhbHVlXSxhPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgYSYmaT5hfV0sImZpbHRlci1pZC0+IjpbT3QsW3F0XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj10LmlkKCksaT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+aX1dLCJmaWx0ZXItPD0iOltPdCxbUnQscXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT10LnByb3BlcnRpZXMoKVtyLnZhbHVlXSxhPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgYSYmaTw9YX1dLCJmaWx0ZXItaWQtPD0iOltPdCxbcXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPXQuaWQoKSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjw9aX1dLCJmaWx0ZXItPj0iOltPdCxbUnQscXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT10LnByb3BlcnRpZXMoKVtyLnZhbHVlXSxhPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgYSYmaT49YX1dLCJmaWx0ZXItaWQtPj0iOltPdCxbcXRdLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPXQuaWQoKSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbj49aX1dLCJmaWx0ZXItaGFzIjpbT3QsW3F0XSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLnZhbHVlIGluIHQucHJvcGVydGllcygpfV0sImZpbHRlci1oYXMtaWQiOltPdCxbXSxmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQuaWQoKSYmdm9pZCAwIT09dC5pZCgpfV0sImZpbHRlci10eXBlLWluIjpbT3QsW1p0KFJ0KV0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS52YWx1ZS5pbmRleE9mKHQuZ2VvbWV0cnlUeXBlKCkpPj0wfV0sImZpbHRlci1pZC1pbiI6W090LFtadChxdCldLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF0udmFsdWUuaW5kZXhPZih0LmlkKCkpPj0wfV0sImZpbHRlci1pbi1zbWFsbCI6W090LFtSdCxadChxdCldLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXTtyZXR1cm4gZVsxXS52YWx1ZS5pbmRleE9mKHQucHJvcGVydGllcygpW3IudmFsdWVdKT49MH1dLCJmaWx0ZXItaW4tbGFyZ2UiOltPdCxbUnQsWnQocXQpXSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiBmdW5jdGlvbih0LGUscixuKXtmb3IoO3I8PW47KXt2YXIgaT1yK24+PjE7aWYoZVtpXT09PXQpcmV0dXJuICEwO2VbaV0+dD9uPWktMTpyPWkrMTt9cmV0dXJuICExfSh0LnByb3BlcnRpZXMoKVtyLnZhbHVlXSxuLnZhbHVlLDAsbi52YWx1ZS5sZW5ndGgtMSl9XSxhbGw6e3R5cGU6T3Qsb3ZlcmxvYWRzOltbW090LE90XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMV07cmV0dXJuIGVbMF0uZXZhbHVhdGUodCkmJnIuZXZhbHVhdGUodCl9XSxbUnIoT3QpLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsbj1lO3I8bi5sZW5ndGg7cis9MSlpZighbltyXS5ldmFsdWF0ZSh0KSlyZXR1cm4gITE7cmV0dXJuICEwfV1dfSxhbnk6e3R5cGU6T3Qsb3ZlcmxvYWRzOltbW090LE90XSxmdW5jdGlvbih0LGUpe3ZhciByPWVbMV07cmV0dXJuIGVbMF0uZXZhbHVhdGUodCl8fHIuZXZhbHVhdGUodCl9XSxbUnIoT3QpLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsbj1lO3I8bi5sZW5ndGg7cis9MSlpZihuW3JdLmV2YWx1YXRlKHQpKXJldHVybiAhMDtyZXR1cm4gITF9XV19LCIhIjpbT3QsW090XSxmdW5jdGlvbih0LGUpe3JldHVybiAhZVswXS5ldmFsdWF0ZSh0KX1dLCJpcy1zdXBwb3J0ZWQtc2NyaXB0IjpbT3QsW1J0XSxmdW5jdGlvbih0LGUpe3ZhciByPXQuZ2xvYmFscyYmdC5nbG9iYWxzLmlzU3VwcG9ydGVkU2NyaXB0O3JldHVybiAhcnx8cihlWzBdLmV2YWx1YXRlKHQpKX1dLHVwY2FzZTpbUnQsW1J0XSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLnRvVXBwZXJDYXNlKCl9XSxkb3duY2FzZTpbUnQsW1J0XSxmdW5jdGlvbih0LGUpe3JldHVybiBlWzBdLmV2YWx1YXRlKHQpLnRvTG93ZXJDYXNlKCl9XSxjb25jYXQ6W1J0LFJyKHF0KSxmdW5jdGlvbih0LGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGFlKGUuZXZhbHVhdGUodCkpfSkpLmpvaW4oIiIpfV0sInJlc29sdmVkLWxvY2FsZSI6W1J0LFtOdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS5ldmFsdWF0ZSh0KS5yZXNvbHZlZExvY2FsZSgpfV19KTt2YXIgV3I9ZnVuY3Rpb24odCxlKXt0aGlzLmV4cHJlc3Npb249dCx0aGlzLl93YXJuaW5nSGlzdG9yeT17fSx0aGlzLl9ldmFsdWF0b3I9bmV3IGRlLHRoaXMuX2RlZmF1bHRWYWx1ZT1lP2Z1bmN0aW9uKHQpe3JldHVybiAiY29sb3IiPT09dC50eXBlJiZHcih0LmRlZmF1bHQpP25ldyAkdCgwLDAsMCwwKToiY29sb3IiPT09dC50eXBlPyR0LnBhcnNlKHQuZGVmYXVsdCl8fG51bGw6dm9pZCAwPT09dC5kZWZhdWx0P251bGw6dC5kZWZhdWx0fShlKTpudWxsLHRoaXMuX2VudW1WYWx1ZXM9ZSYmImVudW0iPT09ZS50eXBlP2UudmFsdWVzOm51bGw7fTtmdW5jdGlvbiBRcih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MCYmInN0cmluZyI9PXR5cGVvZiB0WzBdJiZ0WzBdaW4gVnJ9ZnVuY3Rpb24gdG4odCxlKXt2YXIgcj1uZXcgR2UoVnIsW10sZT9mdW5jdGlvbih0KXt2YXIgZT17Y29sb3I6VXQsc3RyaW5nOlJ0LG51bWJlcjpMdCxlbnVtOlJ0LGJvb2xlYW46T3QsZm9ybWF0dGVkOkt0LHJlc29sdmVkSW1hZ2U6R3R9O3JldHVybiAiYXJyYXkiPT09dC50eXBlP1p0KGVbdC52YWx1ZV18fHF0LHQubGVuZ3RoKTplW3QudHlwZV19KGUpOnZvaWQgMCksbj1yLnBhcnNlKHQsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZSYmInN0cmluZyI9PT1lLnR5cGU/e3R5cGVBbm5vdGF0aW9uOiJjb2VyY2UifTp2b2lkIDApO3JldHVybiBuP09yKG5ldyBXcihuLGUpKTpVcihyLmVycm9ycyl9V3IucHJvdG90eXBlLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmc9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPWUsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1yLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9bix0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249YSx0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUodGhpcy5fZXZhbHVhdG9yKX0sV3IucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPWV8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1yfHxudWxsLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9bix0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249YXx8bnVsbDt0cnl7dmFyIG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcik7aWYobnVsbD09b3x8Im51bWJlciI9PXR5cGVvZiBvJiZvIT1vKXJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWU7aWYodGhpcy5fZW51bVZhbHVlcyYmIShvIGluIHRoaXMuX2VudW1WYWx1ZXMpKXRocm93IG5ldyBzZSgiRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb25lIG9mICIrT2JqZWN0LmtleXModGhpcy5fZW51bVZhbHVlcykubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCl9KSkuam9pbigiLCAiKSsiLCBidXQgZm91bmQgIitKU09OLnN0cmluZ2lmeShvKSsiIGluc3RlYWQuIik7cmV0dXJuIG99Y2F0Y2godCl7cmV0dXJuIHRoaXMuX3dhcm5pbmdIaXN0b3J5W3QubWVzc2FnZV18fCh0aGlzLl93YXJuaW5nSGlzdG9yeVt0Lm1lc3NhZ2VdPSEwLCJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKHQubWVzc2FnZSkpLHRoaXMuX2RlZmF1bHRWYWx1ZX19O3ZhciBlbj1mdW5jdGlvbih0LGUpe3RoaXMua2luZD10LHRoaXMuX3N0eWxlRXhwcmVzc2lvbj1lLHRoaXMuaXNTdGF0ZURlcGVuZGVudD0iY29uc3RhbnQiIT09dCYmIXFlKGUuZXhwcmVzc2lvbik7fTtlbi5wcm90b3R5cGUuZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZz1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKHQsZSxyLG4saSxhKX0sZW4ucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKHQsZSxyLG4saSxhKX07dmFyIHJuPWZ1bmN0aW9uKHQsZSxyLG4pe3RoaXMua2luZD10LHRoaXMuem9vbVN0b3BzPXIsdGhpcy5fc3R5bGVFeHByZXNzaW9uPWUsdGhpcy5pc1N0YXRlRGVwZW5kZW50PSJjYW1lcmEiIT09dCYmIXFlKGUuZXhwcmVzc2lvbiksdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT1uO307ZnVuY3Rpb24gbm4odCxlKXtpZigiZXJyb3IiPT09KHQ9dG4odCxlKSkucmVzdWx0KXJldHVybiB0O3ZhciByPXQudmFsdWUuZXhwcmVzc2lvbixuPWplKHIpO2lmKCFuJiYhanIoZSkpcmV0dXJuIFVyKFtuZXcgVnQoIiIsImRhdGEgZXhwcmVzc2lvbnMgbm90IHN1cHBvcnRlZCIpXSk7dmFyIGk9TmUocixbInpvb20iXSk7aWYoIWkmJiFxcihlKSlyZXR1cm4gVXIoW25ldyBWdCgiIiwiem9vbSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkIildKTt2YXIgYT1mdW5jdGlvbiB0KGUpe3ZhciByPW51bGw7aWYoZSBpbnN0YW5jZW9mIGdyKXI9dChlLnJlc3VsdCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgdnIpZm9yKHZhciBuPTAsaT1lLmFyZ3M7bjxpLmxlbmd0aCYmIShyPXQoaVtuXSkpO24rPTEpO2Vsc2UoZSBpbnN0YW5jZW9mIFhlfHxlIGluc3RhbmNlb2YgZHIpJiZlLmlucHV0IGluc3RhbmNlb2YgbWUmJiJ6b29tIj09PWUuaW5wdXQubmFtZSYmKHI9ZSk7cmV0dXJuIHIgaW5zdGFuY2VvZiBWdD9yOihlLmVhY2hDaGlsZCgoZnVuY3Rpb24oZSl7dmFyIG49dChlKTtuIGluc3RhbmNlb2YgVnQ/cj1uOiFyJiZuP3I9bmV3IFZ0KCIiLCciem9vbSIgZXhwcmVzc2lvbiBtYXkgb25seSBiZSB1c2VkIGFzIGlucHV0IHRvIGEgdG9wLWxldmVsICJzdGVwIiBvciAiaW50ZXJwb2xhdGUiIGV4cHJlc3Npb24uJyk6ciYmbiYmciE9PW4mJihyPW5ldyBWdCgiIiwnT25seSBvbmUgem9vbS1iYXNlZCAic3RlcCIgb3IgImludGVycG9sYXRlIiBzdWJleHByZXNzaW9uIG1heSBiZSB1c2VkIGluIGFuIGV4cHJlc3Npb24uJykpO30pKSxyKX0ocik7cmV0dXJuIGF8fGk/YSBpbnN0YW5jZW9mIFZ0P1VyKFthXSk6YSBpbnN0YW5jZW9mIGRyJiYhTnIoZSk/VXIoW25ldyBWdCgiIiwnImludGVycG9sYXRlIiBleHByZXNzaW9ucyBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHknKV0pOk9yKGE/bmV3IHJuKG4/ImNhbWVyYSI6ImNvbXBvc2l0ZSIsdC52YWx1ZSxhLmxhYmVscyxhIGluc3RhbmNlb2YgZHI/YS5pbnRlcnBvbGF0aW9uOnZvaWQgMCk6bmV3IGVuKG4/ImNvbnN0YW50Ijoic291cmNlIix0LnZhbHVlKSk6VXIoW25ldyBWdCgiIiwnInpvb20iIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCAic3RlcCIgb3IgImludGVycG9sYXRlIiBleHByZXNzaW9uLicpXSl9cm4ucHJvdG90eXBlLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmc9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGksYSl9LHJuLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZSh0LGUscixuLGksYSl9LHJuLnByb3RvdHlwZS5pbnRlcnBvbGF0aW9uRmFjdG9yPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT9kci5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvblR5cGUsdCxlLHIpOjB9O3ZhciBhbj1mdW5jdGlvbih0LGUpe3RoaXMuX3BhcmFtZXRlcnM9dCx0aGlzLl9zcGVjaWZpY2F0aW9uPWUsRXQodGhpcyxmdW5jdGlvbiB0KGUscil7dmFyIG4saSxhLG89ImNvbG9yIj09PXIudHlwZSxzPWUuc3RvcHMmJiJvYmplY3QiPT10eXBlb2YgZS5zdG9wc1swXVswXSx1PXN8fCEoc3x8dm9pZCAwIT09ZS5wcm9wZXJ0eSksbD1lLnR5cGV8fChOcihyKT8iZXhwb25lbnRpYWwiOiJpbnRlcnZhbCIpO2lmKG8mJigoZT1FdCh7fSxlKSkuc3RvcHMmJihlLnN0b3BzPWUuc3RvcHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gW3RbMF0sJHQucGFyc2UodFsxXSldfSkpKSxlLmRlZmF1bHQ9JHQucGFyc2UoZS5kZWZhdWx0P2UuZGVmYXVsdDpyLmRlZmF1bHQpKSxlLmNvbG9yU3BhY2UmJiJyZ2IiIT09ZS5jb2xvclNwYWNlJiYheXJbZS5jb2xvclNwYWNlXSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gY29sb3Igc3BhY2U6ICIrZS5jb2xvclNwYWNlKTtpZigiZXhwb25lbnRpYWwiPT09bCluPVlyO2Vsc2UgaWYoImludGVydmFsIj09PWwpbj1IcjtlbHNlIGlmKCJjYXRlZ29yaWNhbCI9PT1sKXtuPUpyLGk9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIHA9MCxjPWUuc3RvcHM7cDxjLmxlbmd0aDtwKz0xKXt2YXIgaD1jW3BdO2lbaFswXV09aFsxXTt9YT10eXBlb2YgZS5zdG9wc1swXVswXTt9ZWxzZXtpZigiaWRlbnRpdHkiIT09bCl0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZnVuY3Rpb24gdHlwZSAiJytsKyciJyk7bj0kcjt9aWYocyl7Zm9yKHZhciBmPXt9LHk9W10sZD0wO2Q8ZS5zdG9wcy5sZW5ndGg7ZCsrKXt2YXIgbT1lLnN0b3BzW2RdLHY9bVswXS56b29tO3ZvaWQgMD09PWZbdl0mJihmW3ZdPXt6b29tOnYsdHlwZTplLnR5cGUscHJvcGVydHk6ZS5wcm9wZXJ0eSxkZWZhdWx0OmUuZGVmYXVsdCxzdG9wczpbXX0seS5wdXNoKHYpKSxmW3ZdLnN0b3BzLnB1c2goW21bMF0udmFsdWUsbVsxXV0pO31mb3IodmFyIGc9W10seD0wLGI9eTt4PGIubGVuZ3RoO3grPTEpe3ZhciB3PWJbeF07Zy5wdXNoKFtmW3ddLnpvb20sdChmW3ddLHIpXSk7fXZhciBfPXtuYW1lOiJsaW5lYXIifTtyZXR1cm4ge2tpbmQ6ImNvbXBvc2l0ZSIsaW50ZXJwb2xhdGlvblR5cGU6XyxpbnRlcnBvbGF0aW9uRmFjdG9yOmRyLmludGVycG9sYXRpb25GYWN0b3IuYmluZCh2b2lkIDAsXyksem9vbVN0b3BzOmcubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxldmFsdWF0ZTpmdW5jdGlvbih0LG4pe3ZhciBpPXQuem9vbTtyZXR1cm4gWXIoe3N0b3BzOmcsYmFzZTplLmJhc2V9LHIsaSkuZXZhbHVhdGUoaSxuKX19fWlmKHUpe3ZhciBBPSJleHBvbmVudGlhbCI9PT1sP3tuYW1lOiJleHBvbmVudGlhbCIsYmFzZTp2b2lkIDAhPT1lLmJhc2U/ZS5iYXNlOjF9Om51bGw7cmV0dXJuIHtraW5kOiJjYW1lcmEiLGludGVycG9sYXRpb25UeXBlOkEsaW50ZXJwb2xhdGlvbkZhY3Rvcjpkci5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLEEpLHpvb21TdG9wczplLnN0b3BzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSksZXZhbHVhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIG4oZSxyLHQuem9vbSxpLGEpfX19cmV0dXJuIHtraW5kOiJzb3VyY2UiLGV2YWx1YXRlOmZ1bmN0aW9uKHQsbyl7dmFyIHM9byYmby5wcm9wZXJ0aWVzP28ucHJvcGVydGllc1tlLnByb3BlcnR5XTp2b2lkIDA7cmV0dXJuIHZvaWQgMD09PXM/WHIoZS5kZWZhdWx0LHIuZGVmYXVsdCk6bihlLHIscyxpLGEpfX19KHRoaXMuX3BhcmFtZXRlcnMsdGhpcy5fc3BlY2lmaWNhdGlvbikpO307ZnVuY3Rpb24gb24odCl7dmFyIGU9dC5rZXkscj10LnZhbHVlLG49dC52YWx1ZVNwZWN8fHt9LGk9dC5vYmplY3RFbGVtZW50VmFsaWRhdG9yc3x8e30sYT10LnN0eWxlLG89dC5zdHlsZVNwZWMscz1bXSx1PUtyKHIpO2lmKCJvYmplY3QiIT09dSlyZXR1cm4gW25ldyBNdChlLHIsIm9iamVjdCBleHBlY3RlZCwgIit1KyIgZm91bmQiKV07Zm9yKHZhciBsIGluIHIpe3ZhciBwPWwuc3BsaXQoIi4iKVswXSxjPW5bcF18fG5bIioiXSxoPXZvaWQgMDtpZihpW3BdKWg9aVtwXTtlbHNlIGlmKG5bcF0paD1FbjtlbHNlIGlmKGlbIioiXSloPWlbIioiXTtlbHNle2lmKCFuWyIqIl0pe3MucHVzaChuZXcgTXQoZSxyW2xdLCd1bmtub3duIHByb3BlcnR5ICInK2wrJyInKSk7Y29udGludWV9aD1Fbjt9cz1zLmNvbmNhdChoKHtrZXk6KGU/ZSsiLiI6ZSkrbCx2YWx1ZTpyW2xdLHZhbHVlU3BlYzpjLHN0eWxlOmEsc3R5bGVTcGVjOm8sb2JqZWN0OnIsb2JqZWN0S2V5Omx9LHIpKTt9Zm9yKHZhciBmIGluIG4paVtmXXx8bltmXS5yZXF1aXJlZCYmdm9pZCAwPT09bltmXS5kZWZhdWx0JiZ2b2lkIDA9PT1yW2ZdJiZzLnB1c2gobmV3IE10KGUsciwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAiJytmKyciJykpO3JldHVybiBzfWZ1bmN0aW9uIHNuKHQpe3ZhciBlPXQudmFsdWUscj10LnZhbHVlU3BlYyxuPXQuc3R5bGUsaT10LnN0eWxlU3BlYyxhPXQua2V5LG89dC5hcnJheUVsZW1lbnRWYWxpZGF0b3J8fEVuO2lmKCJhcnJheSIhPT1LcihlKSlyZXR1cm4gW25ldyBNdChhLGUsImFycmF5IGV4cGVjdGVkLCAiK0tyKGUpKyIgZm91bmQiKV07aWYoci5sZW5ndGgmJmUubGVuZ3RoIT09ci5sZW5ndGgpcmV0dXJuIFtuZXcgTXQoYSxlLCJhcnJheSBsZW5ndGggIityLmxlbmd0aCsiIGV4cGVjdGVkLCBsZW5ndGggIitlLmxlbmd0aCsiIGZvdW5kIildO2lmKHJbIm1pbi1sZW5ndGgiXSYmZS5sZW5ndGg8clsibWluLWxlbmd0aCJdKXJldHVybiBbbmV3IE10KGEsZSwiYXJyYXkgbGVuZ3RoIGF0IGxlYXN0ICIrclsibWluLWxlbmd0aCJdKyIgZXhwZWN0ZWQsIGxlbmd0aCAiK2UubGVuZ3RoKyIgZm91bmQiKV07dmFyIHM9e3R5cGU6ci52YWx1ZSx2YWx1ZXM6ci52YWx1ZXN9O2kuJHZlcnNpb248NyYmKHMuZnVuY3Rpb249ci5mdW5jdGlvbiksIm9iamVjdCI9PT1LcihyLnZhbHVlKSYmKHM9ci52YWx1ZSk7Zm9yKHZhciB1PVtdLGw9MDtsPGUubGVuZ3RoO2wrKyl1PXUuY29uY2F0KG8oe2FycmF5OmUsYXJyYXlJbmRleDpsLHZhbHVlOmVbbF0sdmFsdWVTcGVjOnMsc3R5bGU6bixzdHlsZVNwZWM6aSxrZXk6YSsiWyIrbCsiXSJ9KSk7cmV0dXJuIHV9ZnVuY3Rpb24gdW4odCl7dmFyIGU9dC5rZXkscj10LnZhbHVlLG49dC52YWx1ZVNwZWMsaT1LcihyKTtyZXR1cm4gIm51bWJlciI9PT1pJiZyIT1yJiYoaT0iTmFOIiksIm51bWJlciIhPT1pP1tuZXcgTXQoZSxyLCJudW1iZXIgZXhwZWN0ZWQsICIraSsiIGZvdW5kIildOiJtaW5pbXVtImluIG4mJnI8bi5taW5pbXVtP1tuZXcgTXQoZSxyLHIrIiBpcyBsZXNzIHRoYW4gdGhlIG1pbmltdW0gdmFsdWUgIituLm1pbmltdW0pXToibWF4aW11bSJpbiBuJiZyPm4ubWF4aW11bT9bbmV3IE10KGUscixyKyIgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHZhbHVlICIrbi5tYXhpbXVtKV06W119ZnVuY3Rpb24gbG4odCl7dmFyIGUscixuLGk9dC52YWx1ZVNwZWMsYT1QdCh0LnZhbHVlLnR5cGUpLG89e30scz0iY2F0ZWdvcmljYWwiIT09YSYmdm9pZCAwPT09dC52YWx1ZS5wcm9wZXJ0eSx1PSFzLGw9ImFycmF5Ij09PUtyKHQudmFsdWUuc3RvcHMpJiYiYXJyYXkiPT09S3IodC52YWx1ZS5zdG9wc1swXSkmJiJvYmplY3QiPT09S3IodC52YWx1ZS5zdG9wc1swXVswXSkscD1vbih7a2V5OnQua2V5LHZhbHVlOnQudmFsdWUsdmFsdWVTcGVjOnQuc3R5bGVTcGVjLmZ1bmN0aW9uLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntzdG9wczpmdW5jdGlvbih0KXtpZigiaWRlbnRpdHkiPT09YSlyZXR1cm4gW25ldyBNdCh0LmtleSx0LnZhbHVlLCdpZGVudGl0eSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgYSAic3RvcHMiIHByb3BlcnR5JyldO3ZhciBlPVtdLHI9dC52YWx1ZTtyZXR1cm4gZT1lLmNvbmNhdChzbih7a2V5OnQua2V5LHZhbHVlOnIsdmFsdWVTcGVjOnQudmFsdWVTcGVjLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLGFycmF5RWxlbWVudFZhbGlkYXRvcjpjfSkpLCJhcnJheSI9PT1LcihyKSYmMD09PXIubGVuZ3RoJiZlLnB1c2gobmV3IE10KHQua2V5LHIsImFycmF5IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgc3RvcCIpKSxlfSxkZWZhdWx0OmZ1bmN0aW9uKHQpe3JldHVybiBFbih7a2V5OnQua2V5LHZhbHVlOnQudmFsdWUsdmFsdWVTcGVjOmksc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KX19fSk7cmV0dXJuICJpZGVudGl0eSI9PT1hJiZzJiZwLnB1c2gobmV3IE10KHQua2V5LHQudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgInByb3BlcnR5IicpKSwiaWRlbnRpdHkiPT09YXx8dC52YWx1ZS5zdG9wc3x8cC5wdXNoKG5ldyBNdCh0LmtleSx0LnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJzdG9wcyInKSksImV4cG9uZW50aWFsIj09PWEmJnQudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFOcih0LnZhbHVlU3BlYykmJnAucHVzaChuZXcgTXQodC5rZXksdC52YWx1ZSwiZXhwb25lbnRpYWwgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWQiKSksdC5zdHlsZVNwZWMuJHZlcnNpb24+PTgmJih1JiYhanIodC52YWx1ZVNwZWMpP3AucHVzaChuZXcgTXQodC5rZXksdC52YWx1ZSwicHJvcGVydHkgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWQiKSk6cyYmIXFyKHQudmFsdWVTcGVjKSYmcC5wdXNoKG5ldyBNdCh0LmtleSx0LnZhbHVlLCJ6b29tIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkIikpKSwiY2F0ZWdvcmljYWwiIT09YSYmIWx8fHZvaWQgMCE9PXQudmFsdWUucHJvcGVydHl8fHAucHVzaChuZXcgTXQodC5rZXksdC52YWx1ZSwnInByb3BlcnR5IiBwcm9wZXJ0eSBpcyByZXF1aXJlZCcpKSxwO2Z1bmN0aW9uIGModCl7dmFyIGU9W10sYT10LnZhbHVlLHM9dC5rZXk7aWYoImFycmF5IiE9PUtyKGEpKXJldHVybiBbbmV3IE10KHMsYSwiYXJyYXkgZXhwZWN0ZWQsICIrS3IoYSkrIiBmb3VuZCIpXTtpZigyIT09YS5sZW5ndGgpcmV0dXJuIFtuZXcgTXQocyxhLCJhcnJheSBsZW5ndGggMiBleHBlY3RlZCwgbGVuZ3RoICIrYS5sZW5ndGgrIiBmb3VuZCIpXTtpZihsKXtpZigib2JqZWN0IiE9PUtyKGFbMF0pKXJldHVybiBbbmV3IE10KHMsYSwib2JqZWN0IGV4cGVjdGVkLCAiK0tyKGFbMF0pKyIgZm91bmQiKV07aWYodm9pZCAwPT09YVswXS56b29tKXJldHVybiBbbmV3IE10KHMsYSwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB6b29tIildO2lmKHZvaWQgMD09PWFbMF0udmFsdWUpcmV0dXJuIFtuZXcgTXQocyxhLCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHZhbHVlIildO2lmKG4mJm4+UHQoYVswXS56b29tKSlyZXR1cm4gW25ldyBNdChzLGFbMF0uem9vbSwic3RvcCB6b29tIHZhbHVlcyBtdXN0IGFwcGVhciBpbiBhc2NlbmRpbmcgb3JkZXIiKV07UHQoYVswXS56b29tKSE9PW4mJihuPVB0KGFbMF0uem9vbSkscj12b2lkIDAsbz17fSksZT1lLmNvbmNhdChvbih7a2V5OnMrIlswXSIsdmFsdWU6YVswXSx2YWx1ZVNwZWM6e3pvb206e319LHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnt6b29tOnVuLHZhbHVlOmh9fSkpO31lbHNlIGU9ZS5jb25jYXQoaCh7a2V5OnMrIlswXSIsdmFsdWU6YVswXSx2YWx1ZVNwZWM6e30sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9LGEpKTtyZXR1cm4gUXIoQnQoYVsxXSkpP2UuY29uY2F0KFtuZXcgTXQocysiWzFdIixhWzFdLCJleHByZXNzaW9ucyBhcmUgbm90IGFsbG93ZWQgaW4gZnVuY3Rpb24gc3RvcHMuIildKTplLmNvbmNhdChFbih7a2V5OnMrIlsxXSIsdmFsdWU6YVsxXSx2YWx1ZVNwZWM6aSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKX1mdW5jdGlvbiBoKHQsbil7dmFyIHM9S3IodC52YWx1ZSksdT1QdCh0LnZhbHVlKSxsPW51bGwhPT10LnZhbHVlP3QudmFsdWU6bjtpZihlKXtpZihzIT09ZSlyZXR1cm4gW25ldyBNdCh0LmtleSxsLHMrIiBzdG9wIGRvbWFpbiB0eXBlIG11c3QgbWF0Y2ggcHJldmlvdXMgc3RvcCBkb21haW4gdHlwZSAiK2UpXX1lbHNlIGU9cztpZigibnVtYmVyIiE9PXMmJiJzdHJpbmciIT09cyYmImJvb2xlYW4iIT09cylyZXR1cm4gW25ldyBNdCh0LmtleSxsLCJzdG9wIGRvbWFpbiB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLCBzdHJpbmcsIG9yIGJvb2xlYW4iKV07aWYoIm51bWJlciIhPT1zJiYiY2F0ZWdvcmljYWwiIT09YSl7dmFyIHA9Im51bWJlciBleHBlY3RlZCwgIitzKyIgZm91bmQiO3JldHVybiBqcihpKSYmdm9pZCAwPT09YSYmKHArPSdcbklmIHlvdSBpbnRlbmRlZCB0byB1c2UgYSBjYXRlZ29yaWNhbCBmdW5jdGlvbiwgc3BlY2lmeSBgInR5cGUiOiAiY2F0ZWdvcmljYWwiYC4nKSxbbmV3IE10KHQua2V5LGwscCldfXJldHVybiAiY2F0ZWdvcmljYWwiIT09YXx8Im51bWJlciIhPT1zfHxpc0Zpbml0ZSh1KSYmTWF0aC5mbG9vcih1KT09PXU/ImNhdGVnb3JpY2FsIiE9PWEmJiJudW1iZXIiPT09cyYmdm9pZCAwIT09ciYmdTxyP1tuZXcgTXQodC5rZXksbCwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlciIpXToocj11LCJjYXRlZ29yaWNhbCI9PT1hJiZ1IGluIG8/W25ldyBNdCh0LmtleSxsLCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBiZSB1bmlxdWUiKV06KG9bdV09ITAsW10pKTpbbmV3IE10KHQua2V5LGwsImludGVnZXIgZXhwZWN0ZWQsIGZvdW5kICIrdSldfX1mdW5jdGlvbiBwbih0KXt2YXIgZT0oInByb3BlcnR5Ij09PXQuZXhwcmVzc2lvbkNvbnRleHQ/bm46dG4pKEJ0KHQudmFsdWUpLHQudmFsdWVTcGVjKTtpZigiZXJyb3IiPT09ZS5yZXN1bHQpcmV0dXJuIGUudmFsdWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IE10KCIiK3Qua2V5K2Uua2V5LHQudmFsdWUsZS5tZXNzYWdlKX0pKTt2YXIgcj1lLnZhbHVlLmV4cHJlc3Npb258fGUudmFsdWUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uO2lmKCJwcm9wZXJ0eSI9PT10LmV4cHJlc3Npb25Db250ZXh0JiYidGV4dC1mb250Ij09PXQucHJvcGVydHlLZXkmJiFyLm91dHB1dERlZmluZWQoKSlyZXR1cm4gW25ldyBNdCh0LmtleSx0LnZhbHVlLCdJbnZhbGlkIGRhdGEgZXhwcmVzc2lvbiBmb3IgIicrdC5wcm9wZXJ0eUtleSsnIi4gT3V0cHV0IHZhbHVlcyBtdXN0IGJlIGNvbnRhaW5lZCBhcyBsaXRlcmFscyB3aXRoaW4gdGhlIGV4cHJlc3Npb24uJyldO2lmKCJwcm9wZXJ0eSI9PT10LmV4cHJlc3Npb25Db250ZXh0JiYibGF5b3V0Ij09PXQucHJvcGVydHlUeXBlJiYhcWUocikpcmV0dXJuIFtuZXcgTXQodC5rZXksdC52YWx1ZSwnImZlYXR1cmUtc3RhdGUiIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBsYXlvdXQgcHJvcGVydGllcy4nKV07aWYoImZpbHRlciI9PT10LmV4cHJlc3Npb25Db250ZXh0JiYhcWUocikpcmV0dXJuIFtuZXcgTXQodC5rZXksdC52YWx1ZSwnImZlYXR1cmUtc3RhdGUiIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBmaWx0ZXJzLicpXTtpZih0LmV4cHJlc3Npb25Db250ZXh0JiYwPT09dC5leHByZXNzaW9uQ29udGV4dC5pbmRleE9mKCJjbHVzdGVyIikpe2lmKCFOZShyLFsiem9vbSIsImZlYXR1cmUtc3RhdGUiXSkpcmV0dXJuIFtuZXcgTXQodC5rZXksdC52YWx1ZSwnInpvb20iIGFuZCAiZmVhdHVyZS1zdGF0ZSIgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBjbHVzdGVyIHByb3BlcnRpZXMuJyldO2lmKCJjbHVzdGVyLWluaXRpYWwiPT09dC5leHByZXNzaW9uQ29udGV4dCYmIWplKHIpKXJldHVybiBbbmV3IE10KHQua2V5LHQudmFsdWUsIkZlYXR1cmUgZGF0YSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGluaXRpYWwgZXhwcmVzc2lvbiBwYXJ0IG9mIGNsdXN0ZXIgcHJvcGVydGllcy4iKV19cmV0dXJuIFtdfWZ1bmN0aW9uIGNuKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZSxuPXQudmFsdWVTcGVjLGk9W107cmV0dXJuIEFycmF5LmlzQXJyYXkobi52YWx1ZXMpPy0xPT09bi52YWx1ZXMuaW5kZXhPZihQdChyKSkmJmkucHVzaChuZXcgTXQoZSxyLCJleHBlY3RlZCBvbmUgb2YgWyIrbi52YWx1ZXMuam9pbigiLCAiKSsiXSwgIitKU09OLnN0cmluZ2lmeShyKSsiIGZvdW5kIikpOi0xPT09T2JqZWN0LmtleXMobi52YWx1ZXMpLmluZGV4T2YoUHQocikpJiZpLnB1c2gobmV3IE10KGUsciwiZXhwZWN0ZWQgb25lIG9mIFsiK09iamVjdC5rZXlzKG4udmFsdWVzKS5qb2luKCIsICIpKyJdLCAiK0pTT04uc3RyaW5naWZ5KHIpKyIgZm91bmQiKSksaX1mdW5jdGlvbiBobih0KXtpZighMD09PXR8fCExPT09dClyZXR1cm4gITA7aWYoIUFycmF5LmlzQXJyYXkodCl8fDA9PT10Lmxlbmd0aClyZXR1cm4gITE7c3dpdGNoKHRbMF0pe2Nhc2UiaGFzIjpyZXR1cm4gdC5sZW5ndGg+PTImJiIkaWQiIT09dFsxXSYmIiR0eXBlIiE9PXRbMV07Y2FzZSJpbiI6cmV0dXJuIHQubGVuZ3RoPj0zJiYoInN0cmluZyIhPXR5cGVvZiB0WzFdfHxBcnJheS5pc0FycmF5KHRbMl0pKTtjYXNlIiFpbiI6Y2FzZSIhaGFzIjpjYXNlIm5vbmUiOnJldHVybiAhMTtjYXNlIj09IjpjYXNlIiE9IjpjYXNlIj4iOmNhc2UiPj0iOmNhc2UiPCI6Y2FzZSI8PSI6cmV0dXJuIDMhPT10Lmxlbmd0aHx8QXJyYXkuaXNBcnJheSh0WzFdKXx8QXJyYXkuaXNBcnJheSh0WzJdKTtjYXNlImFueSI6Y2FzZSJhbGwiOmZvcih2YXIgZT0wLHI9dC5zbGljZSgxKTtlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV07aWYoIWhuKG4pJiYiYm9vbGVhbiIhPXR5cGVvZiBuKXJldHVybiAhMX1yZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITB9fWFuLmRlc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYW4odC5fcGFyYW1ldGVycyx0Ll9zcGVjaWZpY2F0aW9uKX0sYW4uc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiB7X3BhcmFtZXRlcnM6dC5fcGFyYW1ldGVycyxfc3BlY2lmaWNhdGlvbjp0Ll9zcGVjaWZpY2F0aW9ufX07dmFyIGZuPXt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHRyYW5zaXRpb246ITEsInByb3BlcnR5LXR5cGUiOiJkYXRhLWRyaXZlbiIsZXhwcmVzc2lvbjp7aW50ZXJwb2xhdGVkOiExLHBhcmFtZXRlcnM6WyJ6b29tIiwiZmVhdHVyZSJdfX07ZnVuY3Rpb24geW4odCl7aWYobnVsbD09dClyZXR1cm4ge2ZpbHRlcjpmdW5jdGlvbigpe3JldHVybiAhMH0sbmVlZEdlb21ldHJ5OiExfTtobih0KXx8KHQ9bW4odCkpO3ZhciBlPXRuKHQsZm4pO2lmKCJlcnJvciI9PT1lLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3IoZS52YWx1ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleSsiOiAiK3QubWVzc2FnZX0pKS5qb2luKCIsICIpKTtyZXR1cm4ge2ZpbHRlcjpmdW5jdGlvbih0LHIsbil7cmV0dXJuIGUudmFsdWUuZXZhbHVhdGUodCxyLHt9LG4pfSxuZWVkR2VvbWV0cnk6QXJyYXkuaXNBcnJheSh0KSYmMCE9PXQubGVuZ3RoJiYid2l0aGluIj09PXRbMF19fWZ1bmN0aW9uIGRuKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIG1uKHQpe2lmKCF0KXJldHVybiAhMDt2YXIgZSxyPXRbMF07cmV0dXJuIHQubGVuZ3RoPD0xPyJhbnkiIT09cjoiPT0iPT09cj92bih0WzFdLHRbMl0sIj09Iik6IiE9Ij09PXI/Ym4odm4odFsxXSx0WzJdLCI9PSIpKToiPCI9PT1yfHwiPiI9PT1yfHwiPD0iPT09cnx8Ij49Ij09PXI/dm4odFsxXSx0WzJdLHIpOiJhbnkiPT09cj8oZT10LnNsaWNlKDEpLFsiYW55Il0uY29uY2F0KGUubWFwKG1uKSkpOiJhbGwiPT09cj9bImFsbCJdLmNvbmNhdCh0LnNsaWNlKDEpLm1hcChtbikpOiJub25lIj09PXI/WyJhbGwiXS5jb25jYXQodC5zbGljZSgxKS5tYXAobW4pLm1hcChibikpOiJpbiI9PT1yP2duKHRbMV0sdC5zbGljZSgyKSk6IiFpbiI9PT1yP2JuKGduKHRbMV0sdC5zbGljZSgyKSkpOiJoYXMiPT09cj94bih0WzFdKToiIWhhcyIhPT1yfHxibih4bih0WzFdKSl9ZnVuY3Rpb24gdm4odCxlLHIpe3N3aXRjaCh0KXtjYXNlIiR0eXBlIjpyZXR1cm4gWyJmaWx0ZXItdHlwZS0iK3IsZV07Y2FzZSIkaWQiOnJldHVybiBbImZpbHRlci1pZC0iK3IsZV07ZGVmYXVsdDpyZXR1cm4gWyJmaWx0ZXItIityLHQsZV19fWZ1bmN0aW9uIGduKHQsZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2godCl7Y2FzZSIkdHlwZSI6cmV0dXJuIFsiZmlsdGVyLXR5cGUtaW4iLFsibGl0ZXJhbCIsZV1dO2Nhc2UiJGlkIjpyZXR1cm4gWyJmaWx0ZXItaWQtaW4iLFsibGl0ZXJhbCIsZV1dO2RlZmF1bHQ6cmV0dXJuIGUubGVuZ3RoPjIwMCYmIWUuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0IT10eXBlb2YgZVswXX0pKT9bImZpbHRlci1pbi1sYXJnZSIsdCxbImxpdGVyYWwiLGUuc29ydChkbildXTpbImZpbHRlci1pbi1zbWFsbCIsdCxbImxpdGVyYWwiLGVdXX19ZnVuY3Rpb24geG4odCl7c3dpdGNoKHQpe2Nhc2UiJHR5cGUiOnJldHVybiAhMDtjYXNlIiRpZCI6cmV0dXJuIFsiZmlsdGVyLWhhcy1pZCJdO2RlZmF1bHQ6cmV0dXJuIFsiZmlsdGVyLWhhcyIsdF19fWZ1bmN0aW9uIGJuKHQpe3JldHVybiBbIiEiLHRdfWZ1bmN0aW9uIHduKHQpe3JldHVybiBobihCdCh0LnZhbHVlKSk/cG4oRXQoe30sdCx7ZXhwcmVzc2lvbkNvbnRleHQ6ImZpbHRlciIsdmFsdWVTcGVjOnt2YWx1ZToiYm9vbGVhbiJ9fSkpOmZ1bmN0aW9uIHQoZSl7dmFyIHI9ZS52YWx1ZSxuPWUua2V5O2lmKCJhcnJheSIhPT1LcihyKSlyZXR1cm4gW25ldyBNdChuLHIsImFycmF5IGV4cGVjdGVkLCAiK0tyKHIpKyIgZm91bmQiKV07dmFyIGksYT1lLnN0eWxlU3BlYyxvPVtdO2lmKHIubGVuZ3RoPDEpcmV0dXJuIFtuZXcgTXQobixyLCJmaWx0ZXIgYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IDEgZWxlbWVudCIpXTtzd2l0Y2gobz1vLmNvbmNhdChjbih7a2V5Om4rIlswXSIsdmFsdWU6clswXSx2YWx1ZVNwZWM6YS5maWx0ZXJfb3BlcmF0b3Isc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSksUHQoclswXSkpe2Nhc2UiPCI6Y2FzZSI8PSI6Y2FzZSI+IjpjYXNlIj49IjpyLmxlbmd0aD49MiYmIiR0eXBlIj09PVB0KHJbMV0pJiZvLnB1c2gobmV3IE10KG4sciwnIiR0eXBlIiBjYW5ub3QgYmUgdXNlIHdpdGggb3BlcmF0b3IgIicrclswXSsnIicpKTtjYXNlIj09IjpjYXNlIiE9IjozIT09ci5sZW5ndGgmJm8ucHVzaChuZXcgTXQobixyLCdmaWx0ZXIgYXJyYXkgZm9yIG9wZXJhdG9yICInK3JbMF0rJyIgbXVzdCBoYXZlIDMgZWxlbWVudHMnKSk7Y2FzZSJpbiI6Y2FzZSIhaW4iOnIubGVuZ3RoPj0yJiYic3RyaW5nIiE9PShpPUtyKHJbMV0pKSYmby5wdXNoKG5ldyBNdChuKyJbMV0iLHJbMV0sInN0cmluZyBleHBlY3RlZCwgIitpKyIgZm91bmQiKSk7Zm9yKHZhciBzPTI7czxyLmxlbmd0aDtzKyspaT1LcihyW3NdKSwiJHR5cGUiPT09UHQoclsxXSk/bz1vLmNvbmNhdChjbih7a2V5Om4rIlsiK3MrIl0iLHZhbHVlOnJbc10sdmFsdWVTcGVjOmEuZ2VvbWV0cnlfdHlwZSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKToic3RyaW5nIiE9PWkmJiJudW1iZXIiIT09aSYmImJvb2xlYW4iIT09aSYmby5wdXNoKG5ldyBNdChuKyJbIitzKyJdIixyW3NdLCJzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbiBleHBlY3RlZCwgIitpKyIgZm91bmQiKSk7YnJlYWs7Y2FzZSJhbnkiOmNhc2UiYWxsIjpjYXNlIm5vbmUiOmZvcih2YXIgdT0xO3U8ci5sZW5ndGg7dSsrKW89by5jb25jYXQodCh7a2V5Om4rIlsiK3UrIl0iLHZhbHVlOnJbdV0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSk7YnJlYWs7Y2FzZSJoYXMiOmNhc2UiIWhhcyI6aT1LcihyWzFdKSwyIT09ci5sZW5ndGg/by5wdXNoKG5ldyBNdChuLHIsJ2ZpbHRlciBhcnJheSBmb3IgIicrclswXSsnIiBvcGVyYXRvciBtdXN0IGhhdmUgMiBlbGVtZW50cycpKToic3RyaW5nIiE9PWkmJm8ucHVzaChuZXcgTXQobisiWzFdIixyWzFdLCJzdHJpbmcgZXhwZWN0ZWQsICIraSsiIGZvdW5kIikpO31yZXR1cm4gb30odCl9ZnVuY3Rpb24gX24odCxlKXt2YXIgcj10LmtleSxuPXQuc3R5bGUsaT10LnN0eWxlU3BlYyxhPXQudmFsdWUsbz10Lm9iamVjdEtleSxzPWlbZSsiXyIrdC5sYXllclR5cGVdO2lmKCFzKXJldHVybiBbXTt2YXIgdT1vLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2lmKCJwYWludCI9PT1lJiZ1JiZzW3VbMV1dJiZzW3VbMV1dLnRyYW5zaXRpb24pcmV0dXJuIEVuKHtrZXk6cix2YWx1ZTphLHZhbHVlU3BlYzppLnRyYW5zaXRpb24sc3R5bGU6bixzdHlsZVNwZWM6aX0pO3ZhciBsLHA9dC52YWx1ZVNwZWN8fHNbb107aWYoIXApcmV0dXJuIFtuZXcgTXQocixhLCd1bmtub3duIHByb3BlcnR5ICInK28rJyInKV07aWYoInN0cmluZyI9PT1LcihhKSYmanIocCkmJiFwLnRva2VucyYmKGw9L157KFtefV0rKX0kLy5leGVjKGEpKSlyZXR1cm4gW25ldyBNdChyLGEsJyInK28rJyIgZG9lcyBub3Qgc3VwcG9ydCBpbnRlcnBvbGF0aW9uIHN5bnRheFxuVXNlIGFuIGlkZW50aXR5IHByb3BlcnR5IGZ1bmN0aW9uIGluc3RlYWQ6IGB7ICJ0eXBlIjogImlkZW50aXR5IiwgInByb3BlcnR5IjogJytKU09OLnN0cmluZ2lmeShsWzFdKSsiIH1gLiIpXTt2YXIgYz1bXTtyZXR1cm4gInN5bWJvbCI9PT10LmxheWVyVHlwZSYmKCJ0ZXh0LWZpZWxkIj09PW8mJm4mJiFuLmdseXBocyYmYy5wdXNoKG5ldyBNdChyLGEsJ3VzZSBvZiAidGV4dC1maWVsZCIgcmVxdWlyZXMgYSBzdHlsZSAiZ2x5cGhzIiBwcm9wZXJ0eScpKSwidGV4dC1mb250Ij09PW8mJkdyKEJ0KGEpKSYmImlkZW50aXR5Ij09PVB0KGEudHlwZSkmJmMucHVzaChuZXcgTXQocixhLCcidGV4dC1mb250IiBkb2VzIG5vdCBzdXBwb3J0IGlkZW50aXR5IGZ1bmN0aW9ucycpKSksYy5jb25jYXQoRW4oe2tleTp0LmtleSx2YWx1ZTphLHZhbHVlU3BlYzpwLHN0eWxlOm4sc3R5bGVTcGVjOmksZXhwcmVzc2lvbkNvbnRleHQ6InByb3BlcnR5Iixwcm9wZXJ0eVR5cGU6ZSxwcm9wZXJ0eUtleTpvfSkpfWZ1bmN0aW9uIEFuKHQpe3JldHVybiBfbih0LCJwYWludCIpfWZ1bmN0aW9uIFNuKHQpe3JldHVybiBfbih0LCJsYXlvdXQiKX1mdW5jdGlvbiBrbih0KXt2YXIgZT1bXSxyPXQudmFsdWUsbj10LmtleSxpPXQuc3R5bGUsYT10LnN0eWxlU3BlYztyLnR5cGV8fHIucmVmfHxlLnB1c2gobmV3IE10KG4sciwnZWl0aGVyICJ0eXBlIiBvciAicmVmIiBpcyByZXF1aXJlZCcpKTt2YXIgbyxzPVB0KHIudHlwZSksdT1QdChyLnJlZik7aWYoci5pZClmb3IodmFyIGw9UHQoci5pZCkscD0wO3A8dC5hcnJheUluZGV4O3ArKyl7dmFyIGM9aS5sYXllcnNbcF07UHQoYy5pZCk9PT1sJiZlLnB1c2gobmV3IE10KG4sci5pZCwnZHVwbGljYXRlIGxheWVyIGlkICInK3IuaWQrJyIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICcrYy5pZC5fX2xpbmVfXykpO31pZigicmVmImluIHIpWyJ0eXBlIiwic291cmNlIiwic291cmNlLWxheWVyIiwiZmlsdGVyIiwibGF5b3V0Il0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dCBpbiByJiZlLnB1c2gobmV3IE10KG4sclt0XSwnIicrdCsnIiBpcyBwcm9oaWJpdGVkIGZvciByZWYgbGF5ZXJzJykpO30pKSxpLmxheWVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtQdCh0LmlkKT09PXUmJihvPXQpO30pKSxvP28ucmVmP2UucHVzaChuZXcgTXQobixyLnJlZiwicmVmIGNhbm5vdCByZWZlcmVuY2UgYW5vdGhlciByZWYgbGF5ZXIiKSk6cz1QdChvLnR5cGUpOmUucHVzaChuZXcgTXQobixyLnJlZiwncmVmIGxheWVyICInK3UrJyIgbm90IGZvdW5kJykpO2Vsc2UgaWYoImJhY2tncm91bmQiIT09cylpZihyLnNvdXJjZSl7dmFyIGg9aS5zb3VyY2VzJiZpLnNvdXJjZXNbci5zb3VyY2VdLGY9aCYmUHQoaC50eXBlKTtoPyJ2ZWN0b3IiPT09ZiYmInJhc3RlciI9PT1zP2UucHVzaChuZXcgTXQobixyLnNvdXJjZSwnbGF5ZXIgIicrci5pZCsnIiByZXF1aXJlcyBhIHJhc3RlciBzb3VyY2UnKSk6InJhc3RlciI9PT1mJiYicmFzdGVyIiE9PXM/ZS5wdXNoKG5ldyBNdChuLHIuc291cmNlLCdsYXllciAiJytyLmlkKyciIHJlcXVpcmVzIGEgdmVjdG9yIHNvdXJjZScpKToidmVjdG9yIiE9PWZ8fHJbInNvdXJjZS1sYXllciJdPyJyYXN0ZXItZGVtIj09PWYmJiJoaWxsc2hhZGUiIT09cz9lLnB1c2gobmV3IE10KG4sci5zb3VyY2UsInJhc3Rlci1kZW0gc291cmNlIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBsYXllciB0eXBlICdoaWxsc2hhZGUnLiIpKToibGluZSIhPT1zfHwhci5wYWludHx8IXIucGFpbnRbImxpbmUtZ3JhZGllbnQiXXx8Imdlb2pzb24iPT09ZiYmaC5saW5lTWV0cmljc3x8ZS5wdXNoKG5ldyBNdChuLHIsJ2xheWVyICInK3IuaWQrJyIgc3BlY2lmaWVzIGEgbGluZS1ncmFkaWVudCwgd2hpY2ggcmVxdWlyZXMgYSBHZW9KU09OIHNvdXJjZSB3aXRoIGBsaW5lTWV0cmljc2AgZW5hYmxlZC4nKSk6ZS5wdXNoKG5ldyBNdChuLHIsJ2xheWVyICInK3IuaWQrJyIgbXVzdCBzcGVjaWZ5IGEgInNvdXJjZS1sYXllciInKSk6ZS5wdXNoKG5ldyBNdChuLHIuc291cmNlLCdzb3VyY2UgIicrci5zb3VyY2UrJyIgbm90IGZvdW5kJykpO31lbHNlIGUucHVzaChuZXcgTXQobixyLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJzb3VyY2UiJykpO3JldHVybiBlPWUuY29uY2F0KG9uKHtrZXk6bix2YWx1ZTpyLHZhbHVlU3BlYzphLmxheWVyLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnsiKiI6ZnVuY3Rpb24oKXtyZXR1cm4gW119LHR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gRW4oe2tleTpuKyIudHlwZSIsdmFsdWU6ci50eXBlLHZhbHVlU3BlYzphLmxheWVyLnR5cGUsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0OnIsb2JqZWN0S2V5OiJ0eXBlIn0pfSxmaWx0ZXI6d24sbGF5b3V0OmZ1bmN0aW9uKHQpe3JldHVybiBvbih7bGF5ZXI6cixrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7IioiOmZ1bmN0aW9uKHQpe3JldHVybiBTbihFdCh7bGF5ZXJUeXBlOnN9LHQpKX19fSl9LHBhaW50OmZ1bmN0aW9uKHQpe3JldHVybiBvbih7bGF5ZXI6cixrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7IioiOmZ1bmN0aW9uKHQpe3JldHVybiBBbihFdCh7bGF5ZXJUeXBlOnN9LHQpKX19fSl9fX0pKX1mdW5jdGlvbiBJbih0KXt2YXIgZT10LnZhbHVlLHI9dC5rZXksbj1LcihlKTtyZXR1cm4gInN0cmluZyIhPT1uP1tuZXcgTXQocixlLCJzdHJpbmcgZXhwZWN0ZWQsICIrbisiIGZvdW5kIildOltdfXZhciB6bj17cHJvbW90ZUlkOmZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5LHI9dC52YWx1ZTtpZigic3RyaW5nIj09PUtyKHIpKXJldHVybiBJbih7a2V5OmUsdmFsdWU6cn0pO3ZhciBuPVtdO2Zvcih2YXIgaSBpbiByKW4ucHVzaC5hcHBseShuLEluKHtrZXk6ZSsiLiIraSx2YWx1ZTpyW2ldfSkpO3JldHVybiBufX07ZnVuY3Rpb24gQ24odCl7dmFyIGU9dC52YWx1ZSxyPXQua2V5LG49dC5zdHlsZVNwZWMsaT10LnN0eWxlO2lmKCFlLnR5cGUpcmV0dXJuIFtuZXcgTXQocixlLCcidHlwZSIgaXMgcmVxdWlyZWQnKV07dmFyIGEsbz1QdChlLnR5cGUpO3N3aXRjaChvKXtjYXNlInZlY3RvciI6Y2FzZSJyYXN0ZXIiOmNhc2UicmFzdGVyLWRlbSI6cmV0dXJuIG9uKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuWyJzb3VyY2VfIitvLnJlcGxhY2UoIi0iLCJfIildLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOm4sb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6em59KTtjYXNlImdlb2pzb24iOmlmKGE9b24oe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm4uc291cmNlX2dlb2pzb24sc3R5bGU6aSxzdHlsZVNwZWM6bixvYmplY3RFbGVtZW50VmFsaWRhdG9yczp6bn0pLGUuY2x1c3Rlcilmb3IodmFyIHMgaW4gZS5jbHVzdGVyUHJvcGVydGllcyl7dmFyIHU9ZS5jbHVzdGVyUHJvcGVydGllc1tzXSxsPXVbMF0scD0ic3RyaW5nIj09dHlwZW9mIGw/W2wsWyJhY2N1bXVsYXRlZCJdLFsiZ2V0IixzXV06bDthLnB1c2guYXBwbHkoYSxwbih7a2V5OnIrIi4iK3MrIi5tYXAiLHZhbHVlOnVbMV0sZXhwcmVzc2lvbkNvbnRleHQ6ImNsdXN0ZXItbWFwIn0pKSxhLnB1c2guYXBwbHkoYSxwbih7a2V5OnIrIi4iK3MrIi5yZWR1Y2UiLHZhbHVlOnAsZXhwcmVzc2lvbkNvbnRleHQ6ImNsdXN0ZXItcmVkdWNlIn0pKTt9cmV0dXJuIGE7Y2FzZSJ2aWRlbyI6cmV0dXJuIG9uKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuLnNvdXJjZV92aWRlbyxzdHlsZTppLHN0eWxlU3BlYzpufSk7Y2FzZSJpbWFnZSI6cmV0dXJuIG9uKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuLnNvdXJjZV9pbWFnZSxzdHlsZTppLHN0eWxlU3BlYzpufSk7Y2FzZSJjYW52YXMiOnJldHVybiBbbmV3IE10KHIsbnVsbCwiUGxlYXNlIHVzZSBydW50aW1lIEFQSXMgdG8gYWRkIGNhbnZhcyBzb3VyY2VzLCByYXRoZXIgdGhhbiBpbmNsdWRpbmcgdGhlbSBpbiBzdHlsZXNoZWV0cy4iLCJzb3VyY2UuY2FudmFzIildO2RlZmF1bHQ6cmV0dXJuIGNuKHtrZXk6cisiLnR5cGUiLHZhbHVlOmUudHlwZSx2YWx1ZVNwZWM6e3ZhbHVlczpbInZlY3RvciIsInJhc3RlciIsInJhc3Rlci1kZW0iLCJnZW9qc29uIiwidmlkZW8iLCJpbWFnZSJdfSxzdHlsZTppLHN0eWxlU3BlYzpufSl9fWZ1bmN0aW9uIE1uKHQpe3ZhciBlPXQudmFsdWUscj10LnN0eWxlU3BlYyxuPXIubGlnaHQsaT10LnN0eWxlLGE9W10sbz1LcihlKTtpZih2b2lkIDA9PT1lKXJldHVybiBhO2lmKCJvYmplY3QiIT09bylyZXR1cm4gYS5jb25jYXQoW25ldyBNdCgibGlnaHQiLGUsIm9iamVjdCBleHBlY3RlZCwgIitvKyIgZm91bmQiKV0pO2Zvcih2YXIgcyBpbiBlKXt2YXIgdT1zLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2E9YS5jb25jYXQodSYmblt1WzFdXSYmblt1WzFdXS50cmFuc2l0aW9uP0VuKHtrZXk6cyx2YWx1ZTplW3NdLHZhbHVlU3BlYzpyLnRyYW5zaXRpb24sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOm5bc10/RW4oe2tleTpzLHZhbHVlOmVbc10sdmFsdWVTcGVjOm5bc10sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOltuZXcgTXQocyxlW3NdLCd1bmtub3duIHByb3BlcnR5ICInK3MrJyInKV0pO31yZXR1cm4gYX12YXIgVG49eyIqIjpmdW5jdGlvbigpe3JldHVybiBbXX0sYXJyYXk6c24sYm9vbGVhbjpmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlLHI9dC5rZXksbj1LcihlKTtyZXR1cm4gImJvb2xlYW4iIT09bj9bbmV3IE10KHIsZSwiYm9vbGVhbiBleHBlY3RlZCwgIituKyIgZm91bmQiKV06W119LG51bWJlcjp1bixjb2xvcjpmdW5jdGlvbih0KXt2YXIgZT10LmtleSxyPXQudmFsdWUsbj1LcihyKTtyZXR1cm4gInN0cmluZyIhPT1uP1tuZXcgTXQoZSxyLCJjb2xvciBleHBlY3RlZCwgIituKyIgZm91bmQiKV06bnVsbD09PVl0KHIpP1tuZXcgTXQoZSxyLCdjb2xvciBleHBlY3RlZCwgIicrcisnIiBmb3VuZCcpXTpbXX0sY29uc3RhbnRzOlR0LGVudW06Y24sZmlsdGVyOnduLGZ1bmN0aW9uOmxuLGxheWVyOmtuLG9iamVjdDpvbixzb3VyY2U6Q24sbGlnaHQ6TW4sc3RyaW5nOkluLGZvcm1hdHRlZDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PUluKHQpLmxlbmd0aD9bXTpwbih0KX0scmVzb2x2ZWRJbWFnZTpmdW5jdGlvbih0KXtyZXR1cm4gMD09PUluKHQpLmxlbmd0aD9bXTpwbih0KX19O2Z1bmN0aW9uIEVuKHQpe3ZhciBlPXQudmFsdWUscj10LnZhbHVlU3BlYyxuPXQuc3R5bGVTcGVjO3JldHVybiByLmV4cHJlc3Npb24mJkdyKFB0KGUpKT9sbih0KTpyLmV4cHJlc3Npb24mJlFyKEJ0KGUpKT9wbih0KTpyLnR5cGUmJlRuW3IudHlwZV0/VG5bci50eXBlXSh0KTpvbihFdCh7fSx0LHt2YWx1ZVNwZWM6ci50eXBlP25bci50eXBlXTpyfSkpfWZ1bmN0aW9uIFBuKHQpe3ZhciBlPXQudmFsdWUscj10LmtleSxuPUluKHQpO3JldHVybiBuLmxlbmd0aD9uOigtMT09PWUuaW5kZXhPZigie2ZvbnRzdGFja30iKSYmbi5wdXNoKG5ldyBNdChyLGUsJyJnbHlwaHMiIHVybCBtdXN0IGluY2x1ZGUgYSAie2ZvbnRzdGFja30iIHRva2VuJykpLC0xPT09ZS5pbmRleE9mKCJ7cmFuZ2V9IikmJm4ucHVzaChuZXcgTXQocixlLCciZ2x5cGhzIiB1cmwgbXVzdCBpbmNsdWRlIGEgIntyYW5nZX0iIHRva2VuJykpLG4pfWZ1bmN0aW9uIEJuKHQsZSl7dm9pZCAwPT09ZSYmKGU9Q3QpO3ZhciByPVtdO3JldHVybiByPXIuY29uY2F0KEVuKHtrZXk6IiIsdmFsdWU6dCx2YWx1ZVNwZWM6ZS4kcm9vdCxzdHlsZVNwZWM6ZSxzdHlsZTp0LG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntnbHlwaHM6UG4sIioiOmZ1bmN0aW9uKCl7cmV0dXJuIFtdfX19KSksdC5jb25zdGFudHMmJihyPXIuY29uY2F0KFR0KHtrZXk6ImNvbnN0YW50cyIsdmFsdWU6dC5jb25zdGFudHMsc3R5bGU6dCxzdHlsZVNwZWM6ZX0pKSksVm4ocil9ZnVuY3Rpb24gVm4odCl7cmV0dXJuIFtdLmNvbmNhdCh0KS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LmxpbmUtZS5saW5lfSkpfWZ1bmN0aW9uIEZuKHQpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxyPWFyZ3VtZW50cy5sZW5ndGg7ci0tOyllW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gVm4odC5hcHBseSh0aGlzLGUpKX19Qm4uc291cmNlPUZuKENuKSxCbi5saWdodD1GbihNbiksQm4ubGF5ZXI9Rm4oa24pLEJuLmZpbHRlcj1Gbih3biksQm4ucGFpbnRQcm9wZXJ0eT1GbihBbiksQm4ubGF5b3V0UHJvcGVydHk9Rm4oU24pO3ZhciBEbj1CbixMbj1Ebi5saWdodCxSbj1Ebi5wYWludFByb3BlcnR5LE9uPURuLmxheW91dFByb3BlcnR5O2Z1bmN0aW9uIFVuKHQsZSl7dmFyIHI9ITE7aWYoZSYmZS5sZW5ndGgpZm9yKHZhciBuPTAsaT1lO248aS5sZW5ndGg7bis9MSl0LmZpcmUobmV3IEl0KG5ldyBFcnJvcihpW25dLm1lc3NhZ2UpKSkscj0hMDtyZXR1cm4gcn12YXIgam49Tm4scW49MztmdW5jdGlvbiBObih0LGUscil7dmFyIG49dGhpcy5jZWxscz1bXTtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3RoaXMuYXJyYXlCdWZmZXI9dDt2YXIgaT1uZXcgSW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt0PWlbMF0sdGhpcy5kPShlPWlbMV0pKzIqKHI9aVsyXSk7Zm9yKHZhciBhPTA7YTx0aGlzLmQqdGhpcy5kO2ErKyl7dmFyIG89aVtxbithXSxzPWlbcW4rYSsxXTtuLnB1c2gobz09PXM/bnVsbDppLnN1YmFycmF5KG8scykpO312YXIgdT1pW3FuK24ubGVuZ3RoKzFdO3RoaXMua2V5cz1pLnN1YmFycmF5KGlbcW4rbi5sZW5ndGhdLHUpLHRoaXMuYmJveGVzPWkuc3ViYXJyYXkodSksdGhpcy5pbnNlcnQ9dGhpcy5faW5zZXJ0UmVhZG9ubHk7fWVsc2V7dGhpcy5kPWUrMipyO2Zvcih2YXIgbD0wO2w8dGhpcy5kKnRoaXMuZDtsKyspbi5wdXNoKFtdKTt0aGlzLmtleXM9W10sdGhpcy5iYm94ZXM9W107fXRoaXMubj1lLHRoaXMuZXh0ZW50PXQsdGhpcy5wYWRkaW5nPXIsdGhpcy5zY2FsZT1lL3QsdGhpcy51aWQ9MDt2YXIgcD1yL2UqdDt0aGlzLm1pbj0tcCx0aGlzLm1heD10K3A7fU5uLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLl9mb3JFYWNoQ2VsbChlLHIsbixpLHRoaXMuX2luc2VydENlbGwsdGhpcy51aWQrKyksdGhpcy5rZXlzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHIpLHRoaXMuYmJveGVzLnB1c2gobiksdGhpcy5iYm94ZXMucHVzaChpKTt9LE5uLnByb3RvdHlwZS5faW5zZXJ0UmVhZG9ubHk9ZnVuY3Rpb24oKXt0aHJvdyAiQ2Fubm90IGluc2VydCBpbnRvIGEgR3JpZEluZGV4IGNyZWF0ZWQgZnJvbSBhbiBBcnJheUJ1ZmZlci4ifSxObi5wcm90b3R5cGUuX2luc2VydENlbGw9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuY2VsbHNbaV0ucHVzaChhKTt9LE5uLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXMubWluLG89dGhpcy5tYXg7aWYodDw9YSYmZTw9YSYmbzw9ciYmbzw9biYmIWkpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMua2V5cyk7dmFyIHM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKHQsZSxyLG4sdGhpcy5fcXVlcnlDZWxsLHMse30saSksc30sTm4ucHJvdG90eXBlLl9xdWVyeUNlbGw9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzKXt2YXIgdT10aGlzLmNlbGxzW2ldO2lmKG51bGwhPT11KWZvcih2YXIgbD10aGlzLmtleXMscD10aGlzLmJib3hlcyxjPTA7Yzx1Lmxlbmd0aDtjKyspe3ZhciBoPXVbY107aWYodm9pZCAwPT09b1toXSl7dmFyIGY9NCpoOyhzP3MocFtmKzBdLHBbZisxXSxwW2YrMl0scFtmKzNdKTp0PD1wW2YrMl0mJmU8PXBbZiszXSYmcj49cFtmKzBdJiZuPj1wW2YrMV0pPyhvW2hdPSEwLGEucHVzaChsW2hdKSk6b1toXT0hMTt9fX0sTm4ucHJvdG90eXBlLl9mb3JFYWNoQ2VsbD1mdW5jdGlvbih0LGUscixuLGksYSxvLHMpe2Zvcih2YXIgdT10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQodCksbD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQoZSkscD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQociksYz10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQobiksaD11O2g8PXA7aCsrKWZvcih2YXIgZj1sO2Y8PWM7ZisrKXt2YXIgeT10aGlzLmQqZitoO2lmKCghc3x8cyh0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChoKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChmKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChoKzEpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGYrMSkpKSYmaS5jYWxsKHRoaXMsdCxlLHIsbix5LGEsbyxzKSlyZXR1cm59fSxObi5wcm90b3R5cGUuX2NvbnZlcnRGcm9tQ2VsbENvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiAodC10aGlzLnBhZGRpbmcpL3RoaXMuc2NhbGV9LE5uLnByb3RvdHlwZS5fY29udmVydFRvQ2VsbENvb3JkPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMuZC0xLE1hdGguZmxvb3IodCp0aGlzLnNjYWxlKSt0aGlzLnBhZGRpbmcpKX0sTm4ucHJvdG90eXBlLnRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtpZih0aGlzLmFycmF5QnVmZmVyKXJldHVybiB0aGlzLmFycmF5QnVmZmVyO2Zvcih2YXIgdD10aGlzLmNlbGxzLGU9cW4rdGhpcy5jZWxscy5sZW5ndGgrMSsxLHI9MCxuPTA7bjx0aGlzLmNlbGxzLmxlbmd0aDtuKyspcis9dGhpcy5jZWxsc1tuXS5sZW5ndGg7dmFyIGk9bmV3IEludDMyQXJyYXkoZStyK3RoaXMua2V5cy5sZW5ndGgrdGhpcy5iYm94ZXMubGVuZ3RoKTtpWzBdPXRoaXMuZXh0ZW50LGlbMV09dGhpcy5uLGlbMl09dGhpcy5wYWRkaW5nO2Zvcih2YXIgYT1lLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIHM9dFtvXTtpW3FuK29dPWEsaS5zZXQocyxhKSxhKz1zLmxlbmd0aDt9cmV0dXJuIGlbcW4rdC5sZW5ndGhdPWEsaS5zZXQodGhpcy5rZXlzLGEpLGlbcW4rdC5sZW5ndGgrMV09YSs9dGhpcy5rZXlzLmxlbmd0aCxpLnNldCh0aGlzLmJib3hlcyxhKSxhKz10aGlzLmJib3hlcy5sZW5ndGgsaS5idWZmZXJ9O3ZhciBLbj1zZWxmLkltYWdlRGF0YSxHbj1zZWxmLkltYWdlQml0bWFwLFpuPXt9O2Z1bmN0aW9uIFhuKHQsZSxyKXt2b2lkIDA9PT1yJiYocj17fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9jbGFzc1JlZ2lzdHJ5S2V5Iix7dmFsdWU6dCx3cml0ZWFibGU6ITF9KSxablt0XT17a2xhc3M6ZSxvbWl0OnIub21pdHx8W10sc2hhbGxvdzpyLnNoYWxsb3d8fFtdfTt9Zm9yKHZhciBKbiBpbiBYbigiT2JqZWN0IixPYmplY3QpLGpuLnNlcmlhbGl6ZT1mdW5jdGlvbih0LGUpe3ZhciByPXQudG9BcnJheUJ1ZmZlcigpO3JldHVybiBlJiZlLnB1c2gocikse2J1ZmZlcjpyfX0sam4uZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBqbih0LmJ1ZmZlcil9LFhuKCJHcmlkIixqbiksWG4oIkNvbG9yIiwkdCksWG4oIkVycm9yIixFcnJvciksWG4oIlJlc29sdmVkSW1hZ2UiLGVlKSxYbigiU3R5bGVQcm9wZXJ0eUZ1bmN0aW9uIixhbiksWG4oIlN0eWxlRXhwcmVzc2lvbiIsV3Ise29taXQ6WyJfZXZhbHVhdG9yIl19KSxYbigiWm9vbURlcGVuZGVudEV4cHJlc3Npb24iLHJuKSxYbigiWm9vbUNvbnN0YW50RXhwcmVzc2lvbiIsZW4pLFhuKCJDb21wb3VuZEV4cHJlc3Npb24iLG1lLHtvbWl0OlsiX2V2YWx1YXRlIl19KSxWcilWcltKbl0uX2NsYXNzUmVnaXN0cnlLZXl8fFhuKCJFeHByZXNzaW9uXyIrSm4sVnJbSm5dKTtmdW5jdGlvbiBIbih0KXtyZXR1cm4gdCYmInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dC5jb25zdHJ1Y3RvciYmIkFycmF5QnVmZmVyIj09PXQuY29uc3RydWN0b3IubmFtZSl9ZnVuY3Rpb24gWW4odCl7cmV0dXJuIEduJiZ0IGluc3RhbmNlb2YgR259ZnVuY3Rpb24gJG4odCxlKXtpZihudWxsPT10fHwiYm9vbGVhbiI9PXR5cGVvZiB0fHwibnVtYmVyIj09dHlwZW9mIHR8fCJzdHJpbmciPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIEJvb2xlYW58fHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiB0O2lmKEhuKHQpfHxZbih0KSlyZXR1cm4gZSYmZS5wdXNoKHQpLHQ7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXt2YXIgcj10O3JldHVybiBlJiZlLnB1c2goci5idWZmZXIpLHJ9aWYodCBpbnN0YW5jZW9mIEtuKXJldHVybiBlJiZlLnB1c2godC5kYXRhLmJ1ZmZlciksdDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIG49W10saT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpbi5wdXNoKCRuKGFbaV0sZSkpO3JldHVybiBufWlmKCJvYmplY3QiPT10eXBlb2YgdCl7dmFyIG89dC5jb25zdHJ1Y3RvcixzPW8uX2NsYXNzUmVnaXN0cnlLZXk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJjYW4ndCBzZXJpYWxpemUgb2JqZWN0IG9mIHVucmVnaXN0ZXJlZCBjbGFzcyIpO3ZhciB1PW8uc2VyaWFsaXplP28uc2VyaWFsaXplKHQsZSk6e307aWYoIW8uc2VyaWFsaXplKXtmb3IodmFyIGwgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGwpJiYhKFpuW3NdLm9taXQuaW5kZXhPZihsKT49MCkpe3ZhciBwPXRbbF07dVtsXT1abltzXS5zaGFsbG93LmluZGV4T2YobCk+PTA/cDokbihwLGUpO310IGluc3RhbmNlb2YgRXJyb3ImJih1Lm1lc3NhZ2U9dC5tZXNzYWdlKTt9aWYodS4kbmFtZSl0aHJvdyBuZXcgRXJyb3IoIiRuYW1lIHByb3BlcnR5IGlzIHJlc2VydmVkIGZvciB3b3JrZXIgc2VyaWFsaXphdGlvbiBsb2dpYy4iKTtyZXR1cm4gIk9iamVjdCIhPT1zJiYodS4kbmFtZT1zKSx1fXRocm93IG5ldyBFcnJvcigiY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB0eXBlICIrdHlwZW9mIHQpfWZ1bmN0aW9uIFduKHQpe2lmKG51bGw9PXR8fCJib29sZWFuIj09dHlwZW9mIHR8fCJudW1iZXIiPT10eXBlb2YgdHx8InN0cmluZyI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgQm9vbGVhbnx8dCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIERhdGV8fHQgaW5zdGFuY2VvZiBSZWdFeHB8fEhuKHQpfHxZbih0KXx8QXJyYXlCdWZmZXIuaXNWaWV3KHQpfHx0IGluc3RhbmNlb2YgS24pcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoV24pO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7dmFyIGU9dC4kbmFtZXx8Ik9iamVjdCIscj1abltlXS5rbGFzcztpZighcil0aHJvdyBuZXcgRXJyb3IoImNhbid0IGRlc2VyaWFsaXplIHVucmVnaXN0ZXJlZCBjbGFzcyAiK2UpO2lmKHIuZGVzZXJpYWxpemUpcmV0dXJuIHIuZGVzZXJpYWxpemUodCk7Zm9yKHZhciBuPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGk9MCxhPU9iamVjdC5rZXlzKHQpO2k8YS5sZW5ndGg7aSs9MSl7dmFyIG89YVtpXTtpZigiJG5hbWUiIT09byl7dmFyIHM9dFtvXTtuW29dPVpuW2VdLnNoYWxsb3cuaW5kZXhPZihvKT49MD9zOlduKHMpO319cmV0dXJuIG59dGhyb3cgbmV3IEVycm9yKCJjYW4ndCBkZXNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSAiK3R5cGVvZiB0KX12YXIgUW49ZnVuY3Rpb24oKXt0aGlzLmZpcnN0PSEwO307UW4ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciByPU1hdGguZmxvb3IodCk7cmV0dXJuIHRoaXMuZmlyc3Q/KHRoaXMuZmlyc3Q9ITEsdGhpcy5sYXN0SW50ZWdlclpvb209cix0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9MCx0aGlzLmxhc3Rab29tPXQsdGhpcy5sYXN0Rmxvb3Jab29tPXIsITApOih0aGlzLmxhc3RGbG9vclpvb20+cj8odGhpcy5sYXN0SW50ZWdlclpvb209cisxLHRoaXMubGFzdEludGVnZXJab29tVGltZT1lKTp0aGlzLmxhc3RGbG9vclpvb208ciYmKHRoaXMubGFzdEludGVnZXJab29tPXIsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPWUpLHQhPT10aGlzLmxhc3Rab29tJiYodGhpcy5sYXN0Wm9vbT10LHRoaXMubGFzdEZsb29yWm9vbT1yLCEwKSl9O3ZhciB0aT17IkxhdGluLTEgU3VwcGxlbWVudCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyOCYmdDw9MjU1fSxBcmFiaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE1MzYmJnQ8PTE3OTF9LCJBcmFiaWMgU3VwcGxlbWVudCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE4NzImJnQ8PTE5MTl9LCJBcmFiaWMgRXh0ZW5kZWQtQSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTIyMDgmJnQ8PTIzMDN9LCJIYW5ndWwgSmFtbyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQzNTImJnQ8PTQ2MDd9LCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NTEyMCYmdDw9NTc1OX0sS2htZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTYwMTYmJnQ8PTYxNDN9LCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzIEV4dGVuZGVkIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjMyMCYmdDw9NjM5OX0sIkdlbmVyYWwgUHVuY3R1YXRpb24iOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj04MTkyJiZ0PD04MzAzfSwiTGV0dGVybGlrZSBTeW1ib2xzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49ODQ0OCYmdDw9ODUyN30sIk51bWJlciBGb3JtcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTg1MjgmJnQ8PTg1OTF9LCJNaXNjZWxsYW5lb3VzIFRlY2huaWNhbCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTg5NjAmJnQ8PTkyMTV9LCJDb250cm9sIFBpY3R1cmVzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTIxNiYmdDw9OTI3OX0sIk9wdGljYWwgQ2hhcmFjdGVyIFJlY29nbml0aW9uIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49OTI4MCYmdDw9OTMxMX0sIkVuY2xvc2VkIEFscGhhbnVtZXJpY3MiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj05MzEyJiZ0PD05NDcxfSwiR2VvbWV0cmljIFNoYXBlcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTk2MzImJnQ8PTk3Mjd9LCJNaXNjZWxsYW5lb3VzIFN5bWJvbHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj05NzI4JiZ0PD05OTgzfSwiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3MiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMTAwOCYmdDw9MTEyNjN9LCJDSksgUmFkaWNhbHMgU3VwcGxlbWVudCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTExOTA0JiZ0PD0xMjAzMX0sIkthbmd4aSBSYWRpY2FscyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyMDMyJiZ0PD0xMjI1NX0sIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjI3MiYmdDw9MTIyODd9LCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb24iOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjI4OCYmdDw9MTIzNTF9LEhpcmFnYW5hOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjM1MiYmdDw9MTI0NDd9LEthdGFrYW5hOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjQ0OCYmdDw9MTI1NDN9LEJvcG9tb2ZvOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjU0NCYmdDw9MTI1OTF9LCJIYW5ndWwgQ29tcGF0aWJpbGl0eSBKYW1vIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI1OTImJnQ8PTEyNjg3fSxLYW5idW46ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyNjg4JiZ0PD0xMjcwM30sIkJvcG9tb2ZvIEV4dGVuZGVkIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI3MDQmJnQ8PTEyNzM1fSwiQ0pLIFN0cm9rZXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj0xMjczNiYmdDw9MTI3ODN9LCJLYXRha2FuYSBQaG9uZXRpYyBFeHRlbnNpb25zIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTI3ODQmJnQ8PTEyNzk5fSwiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRocyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEyODAwJiZ0PD0xMzA1NX0sIkNKSyBDb21wYXRpYmlsaXR5IjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTMwNTYmJnQ8PTEzMzExfSwiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTEzMzEyJiZ0PD0xOTkwM30sIllpamluZyBIZXhhZ3JhbSBTeW1ib2xzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49MTk5MDQmJnQ8PTE5OTY3fSwiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTE5OTY4JiZ0PD00MDk1OX0sIllpIFN5bGxhYmxlcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQwOTYwJiZ0PD00MjEyN30sIllpIFJhZGljYWxzIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NDIxMjgmJnQ8PTQyMTkxfSwiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTQzMzYwJiZ0PD00MzM5MX0sIkhhbmd1bCBTeWxsYWJsZXMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj00NDAzMiYmdDw9NTUyMTV9LCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1CIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NTUyMTYmJnQ8PTU1Mjk1fSwiUHJpdmF0ZSBVc2UgQXJlYSI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTU3MzQ0JiZ0PD02Mzc0M30sIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHMiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02Mzc0NCYmdDw9NjQyNTV9LCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUEiOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj02NDMzNiYmdDw9NjUwMjN9LCJWZXJ0aWNhbCBGb3JtcyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MDQwJiZ0PD02NTA1NX0sIkNKSyBDb21wYXRpYmlsaXR5IEZvcm1zIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjUwNzImJnQ8PTY1MTAzfSwiU21hbGwgRm9ybSBWYXJpYW50cyI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MTA0JiZ0PD02NTEzNX0sIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQiI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PTY1MTM2JiZ0PD02NTI3OX0sIkhhbGZ3aWR0aCBhbmQgRnVsbHdpZHRoIEZvcm1zIjpmdW5jdGlvbih0KXtyZXR1cm4gdD49NjUyODAmJnQ8PTY1NTE5fX07ZnVuY3Rpb24gZWkodCl7Zm9yKHZhciBlPTAscj10O2U8ci5sZW5ndGg7ZSs9MSlpZihyaShyW2VdLmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gcmkodCl7cmV0dXJuICEoNzQ2IT09dCYmNzQ3IT09dCYmKHQ8NDM1Mnx8ISh0aVsiQm9wb21vZm8gRXh0ZW5kZWQiXSh0KXx8dGkuQm9wb21vZm8odCl8fHRpWyJDSksgQ29tcGF0aWJpbGl0eSBGb3JtcyJdKHQpJiYhKHQ+PTY1MDk3JiZ0PD02NTEwMyl8fHRpWyJDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzIl0odCl8fHRpWyJDSksgQ29tcGF0aWJpbGl0eSJdKHQpfHx0aVsiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnQiXSh0KXx8dGlbIkNKSyBTdHJva2VzIl0odCl8fCEoIXRpWyJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb24iXSh0KXx8dD49MTIyOTYmJnQ8PTEyMzA1fHx0Pj0xMjMwOCYmdDw9MTIzMTl8fDEyMzM2PT09dCl8fHRpWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBIl0odCl8fHRpWyJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIl0odCl8fHRpWyJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzIl0odCl8fHRpWyJIYW5ndWwgQ29tcGF0aWJpbGl0eSBKYW1vIl0odCl8fHRpWyJIYW5ndWwgSmFtbyBFeHRlbmRlZC1BIl0odCl8fHRpWyJIYW5ndWwgSmFtbyBFeHRlbmRlZC1CIl0odCl8fHRpWyJIYW5ndWwgSmFtbyJdKHQpfHx0aVsiSGFuZ3VsIFN5bGxhYmxlcyJdKHQpfHx0aS5IaXJhZ2FuYSh0KXx8dGlbIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnMiXSh0KXx8dGkuS2FuYnVuKHQpfHx0aVsiS2FuZ3hpIFJhZGljYWxzIl0odCl8fHRpWyJLYXRha2FuYSBQaG9uZXRpYyBFeHRlbnNpb25zIl0odCl8fHRpLkthdGFrYW5hKHQpJiYxMjU0MCE9PXR8fCEoIXRpWyJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3JtcyJdKHQpfHw2NTI4OD09PXR8fDY1Mjg5PT09dHx8NjUyOTM9PT10fHx0Pj02NTMwNiYmdDw9NjUzMTB8fDY1MzM5PT09dHx8NjUzNDE9PT10fHw2NTM0Mz09PXR8fHQ+PTY1MzcxJiZ0PD02NTUwM3x8NjU1MDc9PT10fHx0Pj02NTUxMiYmdDw9NjU1MTkpfHwhKCF0aVsiU21hbGwgRm9ybSBWYXJpYW50cyJdKHQpfHx0Pj02NTExMiYmdDw9NjUxMTh8fHQ+PTY1MTIzJiZ0PD02NTEyNil8fHRpWyJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzIl0odCl8fHRpWyJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzIEV4dGVuZGVkIl0odCl8fHRpWyJWZXJ0aWNhbCBGb3JtcyJdKHQpfHx0aVsiWWlqaW5nIEhleGFncmFtIFN5bWJvbHMiXSh0KXx8dGlbIllpIFN5bGxhYmxlcyJdKHQpfHx0aVsiWWkgUmFkaWNhbHMiXSh0KSkpKX1mdW5jdGlvbiBuaSh0KXtyZXR1cm4gIShyaSh0KXx8ZnVuY3Rpb24odCl7cmV0dXJuICEhKHRpWyJMYXRpbi0xIFN1cHBsZW1lbnQiXSh0KSYmKDE2Nz09PXR8fDE2OT09PXR8fDE3ND09PXR8fDE3Nz09PXR8fDE4OD09PXR8fDE4OT09PXR8fDE5MD09PXR8fDIxNT09PXR8fDI0Nz09PXQpfHx0aVsiR2VuZXJhbCBQdW5jdHVhdGlvbiJdKHQpJiYoODIxND09PXR8fDgyMjQ9PT10fHw4MjI1PT09dHx8ODI0MD09PXR8fDgyNDE9PT10fHw4MjUxPT09dHx8ODI1Mj09PXR8fDgyNTg9PT10fHw4MjYzPT09dHx8ODI2ND09PXR8fDgyNjU9PT10fHw4MjczPT09dCl8fHRpWyJMZXR0ZXJsaWtlIFN5bWJvbHMiXSh0KXx8dGlbIk51bWJlciBGb3JtcyJdKHQpfHx0aVsiTWlzY2VsbGFuZW91cyBUZWNobmljYWwiXSh0KSYmKHQ+PTg5NjAmJnQ8PTg5Njd8fHQ+PTg5NzImJnQ8PTg5OTF8fHQ+PTg5OTYmJnQ8PTllM3x8OTAwMz09PXR8fHQ+PTkwODUmJnQ8PTkxMTR8fHQ+PTkxNTAmJnQ8PTkxNjV8fDkxNjc9PT10fHx0Pj05MTY5JiZ0PD05MTc5fHx0Pj05MTg2JiZ0PD05MjE1KXx8dGlbIkNvbnRyb2wgUGljdHVyZXMiXSh0KSYmOTI1MSE9PXR8fHRpWyJPcHRpY2FsIENoYXJhY3RlciBSZWNvZ25pdGlvbiJdKHQpfHx0aVsiRW5jbG9zZWQgQWxwaGFudW1lcmljcyJdKHQpfHx0aVsiR2VvbWV0cmljIFNoYXBlcyJdKHQpfHx0aVsiTWlzY2VsbGFuZW91cyBTeW1ib2xzIl0odCkmJiEodD49OTc1NCYmdDw9OTc1OSl8fHRpWyJNaXNjZWxsYW5lb3VzIFN5bWJvbHMgYW5kIEFycm93cyJdKHQpJiYodD49MTEwMjYmJnQ8PTExMDU1fHx0Pj0xMTA4OCYmdDw9MTEwOTd8fHQ+PTExMTkyJiZ0PD0xMTI0Myl8fHRpWyJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb24iXSh0KXx8dGkuS2F0YWthbmEodCl8fHRpWyJQcml2YXRlIFVzZSBBcmVhIl0odCl8fHRpWyJDSksgQ29tcGF0aWJpbGl0eSBGb3JtcyJdKHQpfHx0aVsiU21hbGwgRm9ybSBWYXJpYW50cyJdKHQpfHx0aVsiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXMiXSh0KXx8ODczND09PXR8fDg3NTY9PT10fHw4NzU3PT09dHx8dD49OTk4NCYmdDw9MTAwODd8fHQ+PTEwMTAyJiZ0PD0xMDEzMXx8NjU1MzI9PT10fHw2NTUzMz09PXQpfSh0KSl9ZnVuY3Rpb24gaWkodCl7cmV0dXJuIHQ+PTE0MjQmJnQ8PTIzMDN8fHRpWyJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUEiXSh0KXx8dGlbIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQiJdKHQpfWZ1bmN0aW9uIGFpKHQsZSl7cmV0dXJuICEoIWUmJmlpKHQpfHx0Pj0yMzA0JiZ0PD0zNTgzfHx0Pj0zODQwJiZ0PD00MjU1fHx0aS5LaG1lcih0KSl9ZnVuY3Rpb24gb2kodCl7Zm9yKHZhciBlPTAscj10O2U8ci5sZW5ndGg7ZSs9MSlpZihpaShyW2VdLmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMDtyZXR1cm4gITF9dmFyIHNpPW51bGwsdWk9InVuYXZhaWxhYmxlIixsaT1udWxsLHBpPWZ1bmN0aW9uKHQpe3NpJiZzaSh0KTt9O2Z1bmN0aW9uIGNpKCl7aGkuZmlyZShuZXcga3QoInBsdWdpblN0YXRlQ2hhbmdlIix7cGx1Z2luU3RhdHVzOnVpLHBsdWdpblVSTDpsaX0pKTt9dmFyIGhpPW5ldyB6dCxmaT1mdW5jdGlvbigpe3JldHVybiB1aX0seWk9ZnVuY3Rpb24oKXtpZigiZGVmZXJyZWQiIT09dWl8fCFsaSl0aHJvdyBuZXcgRXJyb3IoInJ0bC10ZXh0LXBsdWdpbiBjYW5ub3QgYmUgZG93bmxvYWRlZCB1bmxlc3MgYSBwbHVnaW5VUkwgaXMgc3BlY2lmaWVkIik7dWk9ImxvYWRpbmciLGNpKCksbGkmJmJ0KHt1cmw6bGl9LChmdW5jdGlvbih0KXt0P3BpKHQpOih1aT0ibG9hZGVkIixjaSgpKTt9KSk7fSxkaT17YXBwbHlBcmFiaWNTaGFwaW5nOm51bGwscHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0Om51bGwscHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0Om51bGwsaXNMb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gImxvYWRlZCI9PT11aXx8bnVsbCE9ZGkuYXBwbHlBcmFiaWNTaGFwaW5nfSxpc0xvYWRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gImxvYWRpbmciPT09dWl9LHNldFN0YXRlOmZ1bmN0aW9uKHQpe3VpPXQucGx1Z2luU3RhdHVzLGxpPXQucGx1Z2luVVJMO30saXNQYXJzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9ZGkuYXBwbHlBcmFiaWNTaGFwaW5nJiZudWxsIT1kaS5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQmJm51bGwhPWRpLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dH0sZ2V0UGx1Z2luVVJMOmZ1bmN0aW9uKCl7cmV0dXJuIGxpfX0sbWk9ZnVuY3Rpb24odCxlKXt0aGlzLnpvb209dCxlPyh0aGlzLm5vdz1lLm5vdyx0aGlzLmZhZGVEdXJhdGlvbj1lLmZhZGVEdXJhdGlvbix0aGlzLnpvb21IaXN0b3J5PWUuem9vbUhpc3RvcnksdGhpcy50cmFuc2l0aW9uPWUudHJhbnNpdGlvbik6KHRoaXMubm93PTAsdGhpcy5mYWRlRHVyYXRpb249MCx0aGlzLnpvb21IaXN0b3J5PW5ldyBRbix0aGlzLnRyYW5zaXRpb249e30pO307bWkucHJvdG90eXBlLmlzU3VwcG9ydGVkU2NyaXB0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLG49dDtyPG4ubGVuZ3RoO3IrPTEpaWYoIWFpKG5bcl0uY2hhckNvZGVBdCgwKSxlKSlyZXR1cm4gITE7cmV0dXJuICEwfSh0LGRpLmlzTG9hZGVkKCkpfSxtaS5wcm90b3R5cGUuY3Jvc3NGYWRpbmdGYWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6TWF0aC5taW4oKHRoaXMubm93LXRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tVGltZSkvdGhpcy5mYWRlRHVyYXRpb24sMSl9LG1pLnByb3RvdHlwZS5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy56b29tLGU9dC1NYXRoLmZsb29yKHQpLHI9dGhpcy5jcm9zc0ZhZGluZ0ZhY3RvcigpO3JldHVybiB0PnRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tU2NhbGU6Mix0b1NjYWxlOjEsdDplKygxLWUpKnJ9Ontmcm9tU2NhbGU6LjUsdG9TY2FsZToxLHQ6MS0oMS1yKSplfX07dmFyIHZpPWZ1bmN0aW9uKHQsZSl7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9ZSx0aGlzLmV4cHJlc3Npb249ZnVuY3Rpb24odCxlKXtpZihHcih0KSlyZXR1cm4gbmV3IGFuKHQsZSk7aWYoUXIodCkpe3ZhciByPW5uKHQsZSk7aWYoImVycm9yIj09PXIucmVzdWx0KXRocm93IG5ldyBFcnJvcihyLnZhbHVlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5KyI6ICIrdC5tZXNzYWdlfSkpLmpvaW4oIiwgIikpO3JldHVybiByLnZhbHVlfXZhciBuPXQ7cmV0dXJuICJzdHJpbmciPT10eXBlb2YgdCYmImNvbG9yIj09PWUudHlwZSYmKG49JHQucGFyc2UodCkpLHtraW5kOiJjb25zdGFudCIsZXZhbHVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn19fSh2b2lkIDA9PT1lP3Quc3BlY2lmaWNhdGlvbi5kZWZhdWx0OmUsdC5zcGVjaWZpY2F0aW9uKTt9O3ZpLnByb3RvdHlwZS5pc0RhdGFEcml2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gInNvdXJjZSI9PT10aGlzLmV4cHJlc3Npb24ua2luZHx8ImNvbXBvc2l0ZSI9PT10aGlzLmV4cHJlc3Npb24ua2luZH0sdmkucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLnByb3BlcnR5LnBvc3NpYmx5RXZhbHVhdGUodGhpcyx0LGUscil9O3ZhciBnaT1mdW5jdGlvbih0KXt0aGlzLnByb3BlcnR5PXQsdGhpcy52YWx1ZT1uZXcgdmkodCx2b2lkIDApO307Z2kucHJvdG90eXBlLnRyYW5zaXRpb25lZD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgYmkodGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLGUscCh7fSx0LnRyYW5zaXRpb24sdGhpcy50cmFuc2l0aW9uKSx0Lm5vdyl9LGdpLnByb3RvdHlwZS51bnRyYW5zaXRpb25lZD1mdW5jdGlvbigpe3JldHVybiBuZXcgYmkodGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLG51bGwse30sMCl9O3ZhciB4aT1mdW5jdGlvbih0KXt0aGlzLl9wcm9wZXJ0aWVzPXQsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUodC5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlcyk7fTt4aS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHgodGhpcy5fdmFsdWVzW3RdLnZhbHVlLnZhbHVlKX0seGkucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzLmhhc093blByb3BlcnR5KHQpfHwodGhpcy5fdmFsdWVzW3RdPW5ldyBnaSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHkpKSx0aGlzLl92YWx1ZXNbdF0udmFsdWU9bmV3IHZpKHRoaXMuX3ZhbHVlc1t0XS5wcm9wZXJ0eSxudWxsPT09ZT92b2lkIDA6eChlKSk7fSx4aS5wcm90b3R5cGUuZ2V0VHJhbnNpdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4geCh0aGlzLl92YWx1ZXNbdF0udHJhbnNpdGlvbil9LHhpLnByb3RvdHlwZS5zZXRUcmFuc2l0aW9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmFsdWVzLmhhc093blByb3BlcnR5KHQpfHwodGhpcy5fdmFsdWVzW3RdPW5ldyBnaSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHkpKSx0aGlzLl92YWx1ZXNbdF0udHJhbnNpdGlvbj14KGUpfHx2b2lkIDA7fSx4aS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LGU9MCxyPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdLGk9dGhpcy5nZXRWYWx1ZShuKTt2b2lkIDAhPT1pJiYodFtuXT1pKTt2YXIgYT10aGlzLmdldFRyYW5zaXRpb24obik7dm9pZCAwIT09YSYmKHRbbisiLXRyYW5zaXRpb24iXT1hKTt9cmV0dXJuIHR9LHhpLnByb3RvdHlwZS50cmFuc2l0aW9uZWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9bmV3IHdpKHRoaXMuX3Byb3BlcnRpZXMpLG49MCxpPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO3IuX3ZhbHVlc1thXT10aGlzLl92YWx1ZXNbYV0udHJhbnNpdGlvbmVkKHQsZS5fdmFsdWVzW2FdKTt9cmV0dXJuIHJ9LHhpLnByb3RvdHlwZS51bnRyYW5zaXRpb25lZD1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgd2kodGhpcy5fcHJvcGVydGllcyksZT0wLHI9T2JqZWN0LmtleXModGhpcy5fdmFsdWVzKTtlPHIubGVuZ3RoO2UrPTEpe3ZhciBuPXJbZV07dC5fdmFsdWVzW25dPXRoaXMuX3ZhbHVlc1tuXS51bnRyYW5zaXRpb25lZCgpO31yZXR1cm4gdH07dmFyIGJpPWZ1bmN0aW9uKHQsZSxyLG4saSl7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9ZSx0aGlzLmJlZ2luPWkrbi5kZWxheXx8MCx0aGlzLmVuZD10aGlzLmJlZ2luK24uZHVyYXRpb258fDAsdC5zcGVjaWZpY2F0aW9uLnRyYW5zaXRpb24mJihuLmRlbGF5fHxuLmR1cmF0aW9uKSYmKHRoaXMucHJpb3I9cik7fTtiaS5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49dC5ub3d8fDAsaT10aGlzLnZhbHVlLnBvc3NpYmx5RXZhbHVhdGUodCxlLHIpLGE9dGhpcy5wcmlvcjtpZihhKXtpZihuPnRoaXMuZW5kKXJldHVybiB0aGlzLnByaW9yPW51bGwsaTtpZih0aGlzLnZhbHVlLmlzRGF0YURyaXZlbigpKXJldHVybiB0aGlzLnByaW9yPW51bGwsaTtpZihuPHRoaXMuYmVnaW4pcmV0dXJuIGEucG9zc2libHlFdmFsdWF0ZSh0LGUscik7dmFyIG89KG4tdGhpcy5iZWdpbikvKHRoaXMuZW5kLXRoaXMuYmVnaW4pO3JldHVybiB0aGlzLnByb3BlcnR5LmludGVycG9sYXRlKGEucG9zc2libHlFdmFsdWF0ZSh0LGUsciksaSxmdW5jdGlvbih0KXtpZih0PD0wKXJldHVybiAwO2lmKHQ+PTEpcmV0dXJuIDE7dmFyIGU9dCp0LHI9ZSp0O3JldHVybiA0Kih0PC41P3I6MyoodC1lKStyLS43NSl9KG8pKX1yZXR1cm4gaX07dmFyIHdpPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRUcmFuc2l0aW9uaW5nUHJvcGVydHlWYWx1ZXMpO307d2kucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9bmV3IFNpKHRoaXMuX3Byb3BlcnRpZXMpLG49MCxpPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7bjxpLmxlbmd0aDtuKz0xKXt2YXIgYT1pW25dO3IuX3ZhbHVlc1thXT10aGlzLl92YWx1ZXNbYV0ucG9zc2libHlFdmFsdWF0ZSh0LGUpO31yZXR1cm4gcn0sd2kucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7dDxlLmxlbmd0aDt0Kz0xKWlmKHRoaXMuX3ZhbHVlc1tlW3RdXS5wcmlvcilyZXR1cm4gITA7cmV0dXJuICExfTt2YXIgX2k9ZnVuY3Rpb24odCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFByb3BlcnR5VmFsdWVzKTt9O19pLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4geCh0aGlzLl92YWx1ZXNbdF0udmFsdWUpfSxfaS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24odCxlKXt0aGlzLl92YWx1ZXNbdF09bmV3IHZpKHRoaXMuX3ZhbHVlc1t0XS5wcm9wZXJ0eSxudWxsPT09ZT92b2lkIDA6eChlKSk7fSxfaS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LGU9MCxyPU9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcyk7ZTxyLmxlbmd0aDtlKz0xKXt2YXIgbj1yW2VdLGk9dGhpcy5nZXRWYWx1ZShuKTt2b2lkIDAhPT1pJiYodFtuXT1pKTt9cmV0dXJuIHR9LF9pLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPW5ldyBTaSh0aGlzLl9wcm9wZXJ0aWVzKSxuPTAsaT1PYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtyLl92YWx1ZXNbYV09dGhpcy5fdmFsdWVzW2FdLnBvc3NpYmx5RXZhbHVhdGUodCxlKTt9cmV0dXJuIHJ9O3ZhciBBaT1mdW5jdGlvbih0LGUscil7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9ZSx0aGlzLnBhcmFtZXRlcnM9cjt9O0FpLnByb3RvdHlwZS5pc0NvbnN0YW50PWZ1bmN0aW9uKCl7cmV0dXJuICJjb25zdGFudCI9PT10aGlzLnZhbHVlLmtpbmR9LEFpLnByb3RvdHlwZS5jb25zdGFudE9yPWZ1bmN0aW9uKHQpe3JldHVybiAiY29uc3RhbnQiPT09dGhpcy52YWx1ZS5raW5kP3RoaXMudmFsdWUudmFsdWU6dH0sQWkucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiB0aGlzLnByb3BlcnR5LmV2YWx1YXRlKHRoaXMudmFsdWUsdGhpcy5wYXJhbWV0ZXJzLHQsZSxyLG4pfTt2YXIgU2k9ZnVuY3Rpb24odCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzKTt9O1NpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ZhbHVlc1t0XX07dmFyIGtpPWZ1bmN0aW9uKHQpe3RoaXMuc3BlY2lmaWNhdGlvbj10O307a2kucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5leHByZXNzaW9uLmV2YWx1YXRlKGUpfSxraS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPUhlW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gbj9uKHQsZSxyKTp0fTt2YXIgSWk9ZnVuY3Rpb24odCxlKXt0aGlzLnNwZWNpZmljYXRpb249dCx0aGlzLm92ZXJyaWRlcz1lO307SWkucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG5ldyBBaSh0aGlzLCJjb25zdGFudCI9PT10LmV4cHJlc3Npb24ua2luZHx8ImNhbWVyYSI9PT10LmV4cHJlc3Npb24ua2luZD97a2luZDoiY29uc3RhbnQiLHZhbHVlOnQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlLG51bGwse30scixuKX06dC5leHByZXNzaW9uLGUpfSxJaS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCxlLHIpe2lmKCJjb25zdGFudCIhPT10LnZhbHVlLmtpbmR8fCJjb25zdGFudCIhPT1lLnZhbHVlLmtpbmQpcmV0dXJuIHQ7aWYodm9pZCAwPT09dC52YWx1ZS52YWx1ZXx8dm9pZCAwPT09ZS52YWx1ZS52YWx1ZSlyZXR1cm4gbmV3IEFpKHRoaXMse2tpbmQ6ImNvbnN0YW50Iix2YWx1ZTp2b2lkIDB9LHQucGFyYW1ldGVycyk7dmFyIG49SGVbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBuP25ldyBBaSh0aGlzLHtraW5kOiJjb25zdGFudCIsdmFsdWU6bih0LnZhbHVlLnZhbHVlLGUudmFsdWUudmFsdWUscil9LHQucGFyYW1ldGVycyk6dH0sSWkucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtyZXR1cm4gImNvbnN0YW50Ij09PXQua2luZD90LnZhbHVlOnQuZXZhbHVhdGUoZSxyLG4saSxhKX07dmFyIHppPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZT1mdW5jdGlvbih0LGUscixuKXtpZih2b2lkIDA9PT10LnZhbHVlKXJldHVybiBuZXcgQWkodGhpcyx7a2luZDoiY29uc3RhbnQiLHZhbHVlOnZvaWQgMH0sZSk7aWYoImNvbnN0YW50Ij09PXQuZXhwcmVzc2lvbi5raW5kKXt2YXIgaT10LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbiksYT0icmVzb2x2ZWRJbWFnZSI9PT10LnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSYmInN0cmluZyIhPXR5cGVvZiBpP2kubmFtZTppLG89dGhpcy5fY2FsY3VsYXRlKGEsYSxhLGUpO3JldHVybiBuZXcgQWkodGhpcyx7a2luZDoiY29uc3RhbnQiLHZhbHVlOm99LGUpfWlmKCJjYW1lcmEiPT09dC5leHByZXNzaW9uLmtpbmQpe3ZhciBzPXRoaXMuX2NhbGN1bGF0ZSh0LmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206ZS56b29tLTF9KSx0LmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206ZS56b29tfSksdC5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOmUuem9vbSsxfSksZSk7cmV0dXJuIG5ldyBBaSh0aGlzLHtraW5kOiJjb25zdGFudCIsdmFsdWU6c30sZSl9cmV0dXJuIG5ldyBBaSh0aGlzLHQuZXhwcmVzc2lvbixlKX0sZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbixpLGEpe2lmKCJzb3VyY2UiPT09dC5raW5kKXt2YXIgbz10LmV2YWx1YXRlKGUscixuLGksYSk7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZShvLG8sbyxlKX1yZXR1cm4gImNvbXBvc2l0ZSI9PT10LmtpbmQ/dGhpcy5fY2FsY3VsYXRlKHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pLTF9LHIsbiksdC5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKGUuem9vbSl9LHIsbiksdC5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKGUuem9vbSkrMX0scixuKSxlKTp0LnZhbHVlfSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLnpvb20+bi56b29tSGlzdG9yeS5sYXN0SW50ZWdlclpvb20/e2Zyb206dCx0bzplfTp7ZnJvbTpyLHRvOmV9fSxlLnByb3RvdHlwZS5pbnRlcnBvbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sZX0oSWkpLENpPWZ1bmN0aW9uKHQpe3RoaXMuc3BlY2lmaWNhdGlvbj10O307Q2kucHJvdG90eXBlLnBvc3NpYmx5RXZhbHVhdGU9ZnVuY3Rpb24odCxlLHIsbil7aWYodm9pZCAwIT09dC52YWx1ZSl7aWYoImNvbnN0YW50Ij09PXQuZXhwcmVzc2lvbi5raW5kKXt2YXIgaT10LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbik7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZShpLGksaSxlKX1yZXR1cm4gdGhpcy5fY2FsY3VsYXRlKHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgbWkoTWF0aC5mbG9vcihlLnpvb20tMSksZSkpLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgbWkoTWF0aC5mbG9vcihlLnpvb20pLGUpKSx0LmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IG1pKE1hdGguZmxvb3IoZS56b29tKzEpLGUpKSxlKX19LENpLnByb3RvdHlwZS5fY2FsY3VsYXRlPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLnpvb20+bi56b29tSGlzdG9yeS5sYXN0SW50ZWdlclpvb20/e2Zyb206dCx0bzplfTp7ZnJvbTpyLHRvOmV9fSxDaS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9O3ZhciBNaT1mdW5jdGlvbih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9O01pLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiAhIXQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlLG51bGwse30scixuKX0sTWkucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKCl7cmV0dXJuICExfTt2YXIgVGk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMucHJvcGVydGllcz10LHRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzPXt9LHRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzPVtdLHQpe3ZhciByPXRbZV07ci5zcGVjaWZpY2F0aW9uLm92ZXJyaWRhYmxlJiZ0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcy5wdXNoKGUpO3ZhciBuPXRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzW2VdPW5ldyB2aShyLHZvaWQgMCksaT10aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzW2VdPW5ldyBnaShyKTt0aGlzLmRlZmF1bHRUcmFuc2l0aW9uaW5nUHJvcGVydHlWYWx1ZXNbZV09aS51bnRyYW5zaXRpb25lZCgpLHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzW2VdPW4ucG9zc2libHlFdmFsdWF0ZSh7fSk7fX07WG4oIkRhdGFEcml2ZW5Qcm9wZXJ0eSIsSWkpLFhuKCJEYXRhQ29uc3RhbnRQcm9wZXJ0eSIsa2kpLFhuKCJDcm9zc0ZhZGVkRGF0YURyaXZlblByb3BlcnR5Iix6aSksWG4oIkNyb3NzRmFkZWRQcm9wZXJ0eSIsQ2kpLFhuKCJDb2xvclJhbXBQcm9wZXJ0eSIsTWkpO3ZhciBFaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7aWYodC5jYWxsKHRoaXMpLHRoaXMuaWQ9ZS5pZCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX2ZlYXR1cmVGaWx0ZXI9e2ZpbHRlcjpmdW5jdGlvbigpe3JldHVybiAhMH0sbmVlZEdlb21ldHJ5OiExfSwiY3VzdG9tIiE9PWUudHlwZSYmKHRoaXMubWV0YWRhdGE9KGU9ZSkubWV0YWRhdGEsdGhpcy5taW56b29tPWUubWluem9vbSx0aGlzLm1heHpvb209ZS5tYXh6b29tLCJiYWNrZ3JvdW5kIiE9PWUudHlwZSYmKHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9ZVsic291cmNlLWxheWVyIl0sdGhpcy5maWx0ZXI9ZS5maWx0ZXIpLHIubGF5b3V0JiYodGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQ9bmV3IF9pKHIubGF5b3V0KSksci5wYWludCkpe2Zvcih2YXIgbiBpbiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50PW5ldyB4aShyLnBhaW50KSxlLnBhaW50KXRoaXMuc2V0UGFpbnRQcm9wZXJ0eShuLGUucGFpbnRbbl0se3ZhbGlkYXRlOiExfSk7Zm9yKHZhciBpIGluIGUubGF5b3V0KXRoaXMuc2V0TGF5b3V0UHJvcGVydHkoaSxlLmxheW91dFtpXSx7dmFsaWRhdGU6ITF9KTt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC51bnRyYW5zaXRpb25lZCgpO319cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcm9zc2ZhZGVQYXJhbWV0ZXJzfSxlLnByb3RvdHlwZS5nZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gInZpc2liaWxpdHkiPT09dD90aGlzLnZpc2liaWxpdHk6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUodCl9LGUucHJvdG90eXBlLnNldExheW91dFByb3BlcnR5PWZ1bmN0aW9uKHQsZSxyKXt2b2lkIDA9PT1yJiYocj17fSksbnVsbCE9ZSYmdGhpcy5fdmFsaWRhdGUoT24sImxheWVycy4iK3RoaXMuaWQrIi5sYXlvdXQuIit0LHQsZSxyKXx8KCJ2aXNpYmlsaXR5IiE9PXQ/dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2V0VmFsdWUodCxlKTp0aGlzLnZpc2liaWxpdHk9ZSk7fSxlLnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQpe3JldHVybiBtKHQsIi10cmFuc2l0aW9uIik/dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRUcmFuc2l0aW9uKHQuc2xpY2UoMCwtIi10cmFuc2l0aW9uIi5sZW5ndGgpKTp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFZhbHVlKHQpfSxlLnByb3RvdHlwZS5zZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj17fSksbnVsbCE9ZSYmdGhpcy5fdmFsaWRhdGUoUm4sImxheWVycy4iK3RoaXMuaWQrIi5wYWludC4iK3QsdCxlLHIpKXJldHVybiAhMTtpZihtKHQsIi10cmFuc2l0aW9uIikpcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2V0VHJhbnNpdGlvbih0LnNsaWNlKDAsLSItdHJhbnNpdGlvbiIubGVuZ3RoKSxlfHx2b2lkIDApLCExO3ZhciBuPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1t0XSxpPSJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlbiI9PT1uLnByb3BlcnR5LnNwZWNpZmljYXRpb25bInByb3BlcnR5LXR5cGUiXSxhPW4udmFsdWUuaXNEYXRhRHJpdmVuKCksbz1uLnZhbHVlO3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2V0VmFsdWUodCxlKSx0aGlzLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KTt2YXIgcz10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbdF0udmFsdWU7cmV0dXJuIHMuaXNEYXRhRHJpdmVuKCl8fGF8fGl8fHRoaXMuX2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0LG8scyl9LGUucHJvdG90eXBlLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuaXNIaWRkZW49ZnVuY3Rpb24odCl7cmV0dXJuICEhKHRoaXMubWluem9vbSYmdDx0aGlzLm1pbnpvb20pfHwhISh0aGlzLm1heHpvb20mJnQ+PXRoaXMubWF4em9vbSl8fCJub25lIj09PXRoaXMudmlzaWJpbGl0eX0sZS5wcm90b3R5cGUudXBkYXRlVHJhbnNpdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudHJhbnNpdGlvbmVkKHQsdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50KTt9LGUucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50Lmhhc1RyYW5zaXRpb24oKX0sZS5wcm90b3R5cGUucmVjYWxjdWxhdGU9ZnVuY3Rpb24odCxlKXt0LmdldENyb3NzZmFkZVBhcmFtZXRlcnMmJih0aGlzLl9jcm9zc2ZhZGVQYXJhbWV0ZXJzPXQuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpKSx0aGlzLl91bmV2YWx1YXRlZExheW91dCYmKHRoaXMubGF5b3V0PXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnBvc3NpYmx5RXZhbHVhdGUodCxlKSksdGhpcy5wYWludD10aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQucG9zc2libHlFdmFsdWF0ZSh0LGUpO30sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9e2lkOnRoaXMuaWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuc291cmNlLCJzb3VyY2UtbGF5ZXIiOnRoaXMuc291cmNlTGF5ZXIsbWV0YWRhdGE6dGhpcy5tZXRhZGF0YSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxmaWx0ZXI6dGhpcy5maWx0ZXIsbGF5b3V0OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiZ0aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXJpYWxpemUoKSxwYWludDp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50JiZ0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNlcmlhbGl6ZSgpfTtyZXR1cm4gdGhpcy52aXNpYmlsaXR5JiYodC5sYXlvdXQ9dC5sYXlvdXR8fHt9LHQubGF5b3V0LnZpc2liaWxpdHk9dGhpcy52aXNpYmlsaXR5KSxnKHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuICEodm9pZCAwPT09dHx8ImxheW91dCI9PT1lJiYhT2JqZWN0LmtleXModCkubGVuZ3RofHwicGFpbnQiPT09ZSYmIU9iamVjdC5rZXlzKHQpLmxlbmd0aCl9KSl9LGUucHJvdG90eXBlLl92YWxpZGF0ZT1mdW5jdGlvbih0LGUscixuLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT17fSksKCFpfHwhMSE9PWkudmFsaWRhdGUpJiZVbih0aGlzLHQuY2FsbChEbix7a2V5OmUsbGF5ZXJUeXBlOnRoaXMudHlwZSxvYmplY3RLZXk6cix2YWx1ZTpuLHN0eWxlU3BlYzpDdCxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH19KSl9LGUucHJvdG90eXBlLmlzM0Q9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmlzVGlsZUNsaXBwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaXNTdGF0ZURlcGVuZGVudD1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnBhaW50Ll92YWx1ZXMpe3ZhciBlPXRoaXMucGFpbnQuZ2V0KHQpO2lmKGUgaW5zdGFuY2VvZiBBaSYmanIoZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSYmKCJzb3VyY2UiPT09ZS52YWx1ZS5raW5kfHwiY29tcG9zaXRlIj09PWUudmFsdWUua2luZCkmJmUudmFsdWUuaXNTdGF0ZURlcGVuZGVudClyZXR1cm4gITB9cmV0dXJuICExfSxlfSh6dCksUGk9e0ludDg6SW50OEFycmF5LFVpbnQ4OlVpbnQ4QXJyYXksSW50MTY6SW50MTZBcnJheSxVaW50MTY6VWludDE2QXJyYXksSW50MzI6SW50MzJBcnJheSxVaW50MzI6VWludDMyQXJyYXksRmxvYXQzMjpGbG9hdDMyQXJyYXl9LEJpPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc3RydWN0QXJyYXk9dCx0aGlzLl9wb3MxPWUqdGhpcy5zaXplLHRoaXMuX3BvczI9dGhpcy5fcG9zMS8yLHRoaXMuX3BvczQ9dGhpcy5fcG9zMS80LHRoaXMuX3Bvczg9dGhpcy5fcG9zMS84O30sVmk9ZnVuY3Rpb24oKXt0aGlzLmlzVHJhbnNmZXJyZWQ9ITEsdGhpcy5jYXBhY2l0eT0tMSx0aGlzLnJlc2l6ZSgwKTt9O2Z1bmN0aW9uIEZpKHQsZSl7dm9pZCAwPT09ZSYmKGU9MSk7dmFyIHI9MCxuPTA7cmV0dXJuIHttZW1iZXJzOnQubWFwKChmdW5jdGlvbih0KXt2YXIgaT1QaVt0LnR5cGVdLkJZVEVTX1BFUl9FTEVNRU5ULGE9cj1EaShyLE1hdGgubWF4KGUsaSkpLG89dC5jb21wb25lbnRzfHwxO3JldHVybiBuPU1hdGgubWF4KG4saSkscis9aSpvLHtuYW1lOnQubmFtZSx0eXBlOnQudHlwZSxjb21wb25lbnRzOm8sb2Zmc2V0OmF9fSkpLHNpemU6RGkocixNYXRoLm1heChuLGUpKSxhbGlnbm1lbnQ6ZX19ZnVuY3Rpb24gRGkodCxlKXtyZXR1cm4gTWF0aC5jZWlsKHQvZSkqZX1WaS5zZXJpYWxpemU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fdHJpbSgpLGUmJih0LmlzVHJhbnNmZXJyZWQ9ITAsZS5wdXNoKHQuYXJyYXlCdWZmZXIpKSx7bGVuZ3RoOnQubGVuZ3RoLGFycmF5QnVmZmVyOnQuYXJyYXlCdWZmZXJ9fSxWaS5kZXNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QuY3JlYXRlKHRoaXMucHJvdG90eXBlKTtyZXR1cm4gZS5hcnJheUJ1ZmZlcj10LmFycmF5QnVmZmVyLGUubGVuZ3RoPXQubGVuZ3RoLGUuY2FwYWNpdHk9dC5hcnJheUJ1ZmZlci5ieXRlTGVuZ3RoL2UuYnl0ZXNQZXJFbGVtZW50LGUuX3JlZnJlc2hWaWV3cygpLGV9LFZpLnByb3RvdHlwZS5fdHJpbT1mdW5jdGlvbigpe3RoaXMubGVuZ3RoIT09dGhpcy5jYXBhY2l0eSYmKHRoaXMuY2FwYWNpdHk9dGhpcy5sZW5ndGgsdGhpcy5hcnJheUJ1ZmZlcj10aGlzLmFycmF5QnVmZmVyLnNsaWNlKDAsdGhpcy5sZW5ndGgqdGhpcy5ieXRlc1BlckVsZW1lbnQpLHRoaXMuX3JlZnJlc2hWaWV3cygpKTt9LFZpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubGVuZ3RoPTA7fSxWaS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3RoaXMucmVzZXJ2ZSh0KSx0aGlzLmxlbmd0aD10O30sVmkucHJvdG90eXBlLnJlc2VydmU9ZnVuY3Rpb24odCl7aWYodD50aGlzLmNhcGFjaXR5KXt0aGlzLmNhcGFjaXR5PU1hdGgubWF4KHQsTWF0aC5mbG9vcig1KnRoaXMuY2FwYWNpdHkpLDEyOCksdGhpcy5hcnJheUJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5jYXBhY2l0eSp0aGlzLmJ5dGVzUGVyRWxlbWVudCk7dmFyIGU9dGhpcy51aW50ODt0aGlzLl9yZWZyZXNoVmlld3MoKSxlJiZ0aGlzLnVpbnQ4LnNldChlKTt9fSxWaS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiX3JlZnJlc2hWaWV3cygpIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBjb25jcmV0ZSBTdHJ1Y3RBcnJheSBsYXlvdXQiKX07dmFyIExpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsdCxlKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscil7dmFyIG49Mip0O3JldHVybiB0aGlzLmludDE2W24rMF09ZSx0aGlzLmludDE2W24rMV09cix0fSxlfShWaSk7TGkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LFhuKCJTdHJ1Y3RBcnJheUxheW91dDJpNCIsTGkpO3ZhciBSaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTQqdDtyZXR1cm4gdGhpcy5pbnQxNlthKzBdPWUsdGhpcy5pbnQxNlthKzFdPXIsdGhpcy5pbnQxNlthKzJdPW4sdGhpcy5pbnQxNlthKzNdPWksdH0sZX0oVmkpO1JpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxYbigiU3RydWN0QXJyYXlMYXlvdXQ0aTgiLFJpKTt2YXIgT2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLHQsZSxyLG4saSxhKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvKXt2YXIgcz02KnQ7cmV0dXJuIHRoaXMuaW50MTZbcyswXT1lLHRoaXMuaW50MTZbcysxXT1yLHRoaXMuaW50MTZbcysyXT1uLHRoaXMuaW50MTZbcyszXT1pLHRoaXMuaW50MTZbcys0XT1hLHRoaXMuaW50MTZbcys1XT1vLHR9LGV9KFZpKTtPaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLFhuKCJTdHJ1Y3RBcnJheUxheW91dDJpNGkxMiIsT2kpO3ZhciBVaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sdCxlLHIsbixpLGEpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3ZhciBzPTQqdCx1PTgqdDtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPWUsdGhpcy5pbnQxNltzKzFdPXIsdGhpcy51aW50OFt1KzRdPW4sdGhpcy51aW50OFt1KzVdPWksdGhpcy51aW50OFt1KzZdPWEsdGhpcy51aW50OFt1KzddPW8sdH0sZX0oVmkpO1VpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxYbigiU3RydWN0QXJyYXlMYXlvdXQyaTR1YjgiLFVpKTt2YXIgamk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsKXt2YXIgcD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocCsxKSx0aGlzLmVtcGxhY2UocCx0LGUscixuLGksYSxvLHMsdSxsKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHApe3ZhciBjPTkqdCxoPTE4KnQ7cmV0dXJuIHRoaXMudWludDE2W2MrMF09ZSx0aGlzLnVpbnQxNltjKzFdPXIsdGhpcy51aW50MTZbYysyXT1uLHRoaXMudWludDE2W2MrM109aSx0aGlzLnVpbnQxNltjKzRdPWEsdGhpcy51aW50MTZbYys1XT1vLHRoaXMudWludDE2W2MrNl09cyx0aGlzLnVpbnQxNltjKzddPXUsdGhpcy51aW50OFtoKzE2XT1sLHRoaXMudWludDhbaCsxN109cCx0fSxlfShWaSk7amkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xOCxYbigiU3RydWN0QXJyYXlMYXlvdXQ4dWkydWIxOCIsamkpO3ZhciBxaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwLGMpe3ZhciBoPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShoKzEpLHRoaXMuZW1wbGFjZShoLHQsZSxyLG4saSxhLG8scyx1LGwscCxjKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoKXt2YXIgZj0xMip0O3JldHVybiB0aGlzLmludDE2W2YrMF09ZSx0aGlzLmludDE2W2YrMV09cix0aGlzLmludDE2W2YrMl09bix0aGlzLmludDE2W2YrM109aSx0aGlzLnVpbnQxNltmKzRdPWEsdGhpcy51aW50MTZbZis1XT1vLHRoaXMudWludDE2W2YrNl09cyx0aGlzLnVpbnQxNltmKzddPXUsdGhpcy5pbnQxNltmKzhdPWwsdGhpcy5pbnQxNltmKzldPXAsdGhpcy5pbnQxNltmKzEwXT1jLHRoaXMuaW50MTZbZisxMV09aCx0fSxlfShWaSk7cWkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yNCxYbigiU3RydWN0QXJyYXlMYXlvdXQ0aTR1aTRpMjQiLHFpKTt2YXIgTmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2Uobix0LGUscil9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Myp0O3JldHVybiB0aGlzLmZsb2F0MzJbaSswXT1lLHRoaXMuZmxvYXQzMltpKzFdPXIsdGhpcy5mbG9hdDMyW2krMl09bix0fSxlfShWaSk7TmkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixYbigiU3RydWN0QXJyYXlMYXlvdXQzZjEyIixOaSk7dmFyIEtpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGUrMSksdGhpcy5lbXBsYWNlKGUsdCl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51aW50MzJbMSp0KzBdPWUsdH0sZX0oVmkpO0tpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxYbigiU3RydWN0QXJyYXlMYXlvdXQxdWw0IixLaSk7dmFyIEdpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwKXt2YXIgYz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYysxKSx0aGlzLmVtcGxhY2UoYyx0LGUscixuLGksYSxvLHMsdSxsLHApfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCxjKXt2YXIgaD0xMip0LGY9Nip0O3JldHVybiB0aGlzLmludDE2W2grMF09ZSx0aGlzLmludDE2W2grMV09cix0aGlzLmludDE2W2grMl09bix0aGlzLmludDE2W2grM109aSx0aGlzLmludDE2W2grNF09YSx0aGlzLmludDE2W2grNV09byx0aGlzLnVpbnQzMltmKzNdPXMsdGhpcy51aW50MTZbaCs4XT11LHRoaXMudWludDE2W2grOV09bCx0aGlzLmludDE2W2grMTBdPXAsdGhpcy5pbnQxNltoKzExXT1jLHR9LGV9KFZpKTtHaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTI0LFhuKCJTdHJ1Y3RBcnJheUxheW91dDZpMXVsMnVpMmkyNCIsR2kpO3ZhciBaaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sdCxlLHIsbixpLGEpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8pe3ZhciBzPTYqdDtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPWUsdGhpcy5pbnQxNltzKzFdPXIsdGhpcy5pbnQxNltzKzJdPW4sdGhpcy5pbnQxNltzKzNdPWksdGhpcy5pbnQxNltzKzRdPWEsdGhpcy5pbnQxNltzKzVdPW8sdH0sZX0oVmkpO1ppLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsWG4oIlN0cnVjdEFycmF5TGF5b3V0MmkyaTJpMTIiLFppKTt2YXIgWGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLHQsZSxyLG4pfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGE9MTIqdCxvPTMqdDtyZXR1cm4gdGhpcy51aW50OFthKzBdPWUsdGhpcy51aW50OFthKzFdPXIsdGhpcy5mbG9hdDMyW28rMV09bix0aGlzLmZsb2F0MzJbbysyXT1pLHR9LGV9KFZpKTtYaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLFhuKCJTdHJ1Y3RBcnJheUxheW91dDJ1YjJmMTIiLFhpKTt2YXIgSmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoLGYseSxkLG0pe3ZhciB2PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh2KzEpLHRoaXMuZW1wbGFjZSh2LHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCxtLHYpe3ZhciBnPTI0KnQseD0xMip0LGI9NDgqdDtyZXR1cm4gdGhpcy5pbnQxNltnKzBdPWUsdGhpcy5pbnQxNltnKzFdPXIsdGhpcy51aW50MTZbZysyXT1uLHRoaXMudWludDE2W2crM109aSx0aGlzLnVpbnQzMlt4KzJdPWEsdGhpcy51aW50MzJbeCszXT1vLHRoaXMudWludDMyW3grNF09cyx0aGlzLnVpbnQxNltnKzEwXT11LHRoaXMudWludDE2W2crMTFdPWwsdGhpcy51aW50MTZbZysxMl09cCx0aGlzLmZsb2F0MzJbeCs3XT1jLHRoaXMuZmxvYXQzMlt4KzhdPWgsdGhpcy51aW50OFtiKzM2XT1mLHRoaXMudWludDhbYiszN109eSx0aGlzLnVpbnQ4W2IrMzhdPWQsdGhpcy51aW50MzJbeCsxMF09bSx0aGlzLmludDE2W2crMjJdPXYsdH0sZX0oVmkpO0ppLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NDgsWG4oIlN0cnVjdEFycmF5TGF5b3V0MmkydWkzdWwzdWkyZjN1YjF1bDFpNDgiLEppKTt2YXIgSGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoLGYseSxkLG0sdixnLHgsYix3LF8sQSxTLGspe3ZhciBJPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShJKzEpLHRoaXMuZW1wbGFjZShJLHQsZSxyLG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQsbSx2LGcseCxiLHcsXyxBLFMsayl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCxtLHYsZyx4LGIsdyxfLEEsUyxrLEkpe3ZhciB6PTMwKnQsQz0xNSp0O3JldHVybiB0aGlzLmludDE2W3orMF09ZSx0aGlzLmludDE2W3orMV09cix0aGlzLmludDE2W3orMl09bix0aGlzLmludDE2W3orM109aSx0aGlzLmludDE2W3orNF09YSx0aGlzLmludDE2W3orNV09byx0aGlzLmludDE2W3orNl09cyx0aGlzLmludDE2W3orN109dSx0aGlzLnVpbnQxNlt6KzhdPWwsdGhpcy51aW50MTZbeis5XT1wLHRoaXMudWludDE2W3orMTBdPWMsdGhpcy51aW50MTZbeisxMV09aCx0aGlzLnVpbnQxNlt6KzEyXT1mLHRoaXMudWludDE2W3orMTNdPXksdGhpcy51aW50MTZbeisxNF09ZCx0aGlzLnVpbnQxNlt6KzE1XT1tLHRoaXMudWludDE2W3orMTZdPXYsdGhpcy51aW50MTZbeisxN109Zyx0aGlzLnVpbnQxNlt6KzE4XT14LHRoaXMudWludDE2W3orMTldPWIsdGhpcy51aW50MTZbeisyMF09dyx0aGlzLnVpbnQxNlt6KzIxXT1fLHRoaXMudWludDMyW0MrMTFdPUEsdGhpcy5mbG9hdDMyW0MrMTJdPVMsdGhpcy5mbG9hdDMyW0MrMTNdPWssdGhpcy5mbG9hdDMyW0MrMTRdPUksdH0sZX0oVmkpO0hpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NjAsWG4oIlN0cnVjdEFycmF5TGF5b3V0OGkxNHVpMXVsM2Y2MCIsSGkpO3ZhciBZaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGUrMSksdGhpcy5lbXBsYWNlKGUsdCl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqdCswXT1lLHR9LGV9KFZpKTtZaS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsWG4oIlN0cnVjdEFycmF5TGF5b3V0MWY0IixZaSk7dmFyICRpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9LGUucHJvdG90eXBlLmVtcGxhY2VCYWNrPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2Uobix0LGUscil9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9Myp0O3JldHVybiB0aGlzLmludDE2W2krMF09ZSx0aGlzLmludDE2W2krMV09cix0aGlzLmludDE2W2krMl09bix0fSxlfShWaSk7JGkucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LFhuKCJTdHJ1Y3RBcnJheUxheW91dDNpNiIsJGkpO3ZhciBXaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9yZWZyZXNoVmlld3M9ZnVuY3Rpb24oKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPTQqdDtyZXR1cm4gdGhpcy51aW50MzJbMip0KzBdPWUsdGhpcy51aW50MTZbaSsyXT1yLHRoaXMudWludDE2W2krM109bix0fSxlfShWaSk7V2kucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LFhuKCJTdHJ1Y3RBcnJheUxheW91dDF1bDJ1aTgiLFdpKTt2YXIgUWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5fcmVmcmVzaFZpZXdzPWZ1bmN0aW9uKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPTMqdDtyZXR1cm4gdGhpcy51aW50MTZbaSswXT1lLHRoaXMudWludDE2W2krMV09cix0aGlzLnVpbnQxNltpKzJdPW4sdH0sZX0oVmkpO1FpLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NixYbigiU3RydWN0QXJyYXlMYXlvdXQzdWk2IixRaSk7dmFyIHRhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfSxlLnByb3RvdHlwZS5lbXBsYWNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0yKnQ7cmV0dXJuIHRoaXMudWludDE2W24rMF09ZSx0aGlzLnVpbnQxNltuKzFdPXIsdH0sZX0oVmkpO3RhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxYbigiU3RydWN0QXJyYXlMYXlvdXQydWk0Iix0YSk7dmFyIGVhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO30sZS5wcm90b3R5cGUuZW1wbGFjZUJhY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGUrMSksdGhpcy5lbXBsYWNlKGUsdCl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51aW50MTZbMSp0KzBdPWUsdH0sZX0oVmkpO2VhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MixYbigiU3RydWN0QXJyYXlMYXlvdXQxdWkyIixlYSk7dmFyIHJhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLHQsZSl9LGUucHJvdG90eXBlLmVtcGxhY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPTIqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW24rMF09ZSx0aGlzLmZsb2F0MzJbbisxXT1yLHR9LGV9KFZpKTtyYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsWG4oIlN0cnVjdEFycmF5TGF5b3V0MmY4IixyYSk7dmFyIG5hPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuX3JlZnJlc2hWaWV3cz1mdW5jdGlvbigpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fSxlLnByb3RvdHlwZS5lbXBsYWNlQmFjaz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX0sZS5wcm90b3R5cGUuZW1wbGFjZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPTQqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09ZSx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5mbG9hdDMyW2ErM109aSx0fSxlfShWaSk7bmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixYbigiU3RydWN0QXJyYXlMYXlvdXQ0ZjE2IixuYSk7dmFyIGlhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9dCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZTt2YXIgcj17YW5jaG9yUG9pbnRYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclBvaW50WTp7Y29uZmlndXJhYmxlOiEwfSx4MTp7Y29uZmlndXJhYmxlOiEwfSx5MTp7Y29uZmlndXJhYmxlOiEwfSx4Mjp7Y29uZmlndXJhYmxlOiEwfSx5Mjp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sc291cmNlTGF5ZXJJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxidWNrZXRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxyYWRpdXM6e2NvbmZpZ3VyYWJsZTohMH0sc2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yOntjb25maWd1cmFibGU6ITB9LGFuY2hvclBvaW50Ontjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gci5hbmNob3JQb2ludFguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yUG9pbnRZLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfSxyLngxLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfSxyLnkxLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfSxyLngyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfSxyLnkyLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzVdfSxyLmZlYXR1cmVJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrM119LHIuc291cmNlTGF5ZXJJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOF19LHIuYnVja2V0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzldfSxyLnJhZGl1cy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMF19LHIuc2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzExXX0sci5hbmNob3JQb2ludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5hbmNob3JQb2ludFgsdGhpcy5hbmNob3JQb2ludFkpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSxyKSxlfShCaSk7aWEucHJvdG90eXBlLnNpemU9MjQ7dmFyIGFhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaWEodGhpcyx0KX0sZX0oR2kpO1huKCJDb2xsaXNpb25Cb3hBcnJheSIsYWEpO3ZhciBvYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWU7dmFyIHI9e2FuY2hvclg6e2NvbmZpZ3VyYWJsZTohMH0sYW5jaG9yWTp7Y29uZmlndXJhYmxlOiEwfSxnbHlwaFN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbnVtR2x5cGhzOntjb25maWd1cmFibGU6ITB9LHZlcnRleFN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZVN0YXJ0SW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZUxlbmd0aDp7Y29uZmlndXJhYmxlOiEwfSxzZWdtZW50Ontjb25maWd1cmFibGU6ITB9LGxvd2VyU2l6ZTp7Y29uZmlndXJhYmxlOiEwfSx1cHBlclNpemU6e2NvbmZpZ3VyYWJsZTohMH0sbGluZU9mZnNldFg6e2NvbmZpZ3VyYWJsZTohMH0sbGluZU9mZnNldFk6e2NvbmZpZ3VyYWJsZTohMH0sd3JpdGluZ01vZGU6e2NvbmZpZ3VyYWJsZTohMH0scGxhY2VkT3JpZW50YXRpb246e2NvbmZpZ3VyYWJsZTohMH0saGlkZGVuOntjb25maWd1cmFibGU6ITB9LGNyb3NzVGlsZUlEOntjb25maWd1cmFibGU6ITB9LGFzc29jaWF0ZWRJY29uSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmFuY2hvclguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5nbHlwaFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfSxyLm51bUdseXBocy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119LHIudmVydGV4U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMl19LHIubGluZVN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzNdfSxyLmxpbmVMZW5ndGguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzRdfSxyLnNlZ21lbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEwXX0sci5sb3dlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzExXX0sci51cHBlclNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEyXX0sci5saW5lT2Zmc2V0WC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzddfSxyLmxpbmVPZmZzZXRZLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrOF19LHIud3JpdGluZ01vZGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErMzZdfSxyLnBsYWNlZE9yaWVudGF0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM3XX0sci5wbGFjZWRPcmllbnRhdGlvbi5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSszN109dDt9LHIuaGlkZGVuLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzM4XX0sci5oaWRkZW4uc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErMzhdPXQ7fSxyLmNyb3NzVGlsZUlELmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxMF19LHIuY3Jvc3NUaWxlSUQuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEwXT10O30sci5hc3NvY2lhdGVkSWNvbkluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzIyXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsciksZX0oQmkpO29hLnByb3RvdHlwZS5zaXplPTQ4O3ZhciBzYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG9hKHRoaXMsdCl9LGV9KEppKTtYbigiUGxhY2VkU3ltYm9sQXJyYXkiLHNhKTt2YXIgdWE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO310JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lO3ZhciByPXthbmNob3JYOntjb25maWd1cmFibGU6ITB9LGFuY2hvclk6e2NvbmZpZ3VyYWJsZTohMH0scmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0scGxhY2VkSWNvblN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Ontjb25maWd1cmFibGU6ITB9LGtleTp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94RW5kSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxUZXh0Qm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxpY29uQm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxpY29uQm94RW5kSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljYWxJY29uQm94U3RhcnRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSx2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxmZWF0dXJlSW5kZXg6e2NvbmZpZ3VyYWJsZTohMH0sbnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMH0sbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOntjb25maWd1cmFibGU6ITB9LG51bUljb25WZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwfSxudW1WZXJ0aWNhbEljb25WZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwfSxjcm9zc1RpbGVJRDp7Y29uZmlndXJhYmxlOiEwfSx0ZXh0Qm94U2NhbGU6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDA6e2NvbmZpZ3VyYWJsZTohMH0sdGV4dE9mZnNldDE6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmFuY2hvclguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19LHIuYW5jaG9yWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX0sci5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX0sci5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119LHIubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX0sci52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX0sci5wbGFjZWRJY29uU3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNl19LHIudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrN119LHIua2V5LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis4XX0sci50ZXh0Qm94U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOV19LHIudGV4dEJveEVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMF19LHIudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTFdfSxyLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxMl19LHIuaWNvbkJveFN0YXJ0SW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEzXX0sci5pY29uQm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE0XX0sci52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNV19LHIudmVydGljYWxJY29uQm94RW5kSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX0sci5mZWF0dXJlSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE3XX0sci5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfSxyLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfSxyLm51bUljb25WZXJ0aWNlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfSxyLm51bVZlcnRpY2FsSWNvblZlcnRpY2VzLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMV19LHIuY3Jvc3NUaWxlSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzExXX0sci5jcm9zc1RpbGVJRC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTFdPXQ7fSxyLnRleHRCb3hTY2FsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzEyXX0sci50ZXh0T2Zmc2V0MC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzEzXX0sci50ZXh0T2Zmc2V0MS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE0XX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsciksZX0oQmkpO3VhLnByb3RvdHlwZS5zaXplPTYwO3ZhciBsYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHVhKHRoaXMsdCl9LGV9KEhpKTtYbigiU3ltYm9sSW5zdGFuY2VBcnJheSIsbGEpO3ZhciBwYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldG9mZnNldFg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKnQrMF19LGV9KFlpKTtYbigiR2x5cGhPZmZzZXRBcnJheSIscGEpO3ZhciBjYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldHg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW50MTZbMyp0KzBdfSxlLnByb3RvdHlwZS5nZXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmludDE2WzMqdCsxXX0sZS5wcm90b3R5cGUuZ2V0dGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW50MTZbMyp0KzJdfSxlfSgkaSk7WG4oIlN5bWJvbExpbmVWZXJ0ZXhBcnJheSIsY2EpO3ZhciBoYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWU7dmFyIHI9e2ZlYXR1cmVJbmRleDp7Y29uZmlndXJhYmxlOiEwfSxzb3VyY2VMYXllckluZGV4Ontjb25maWd1cmFibGU6ITB9LGJ1Y2tldEluZGV4Ontjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gci5mZWF0dXJlSW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzBdfSxyLnNvdXJjZUxheWVySW5kZXguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfSxyLmJ1Y2tldEluZGV4LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMiszXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsciksZX0oQmkpO2hhLnByb3RvdHlwZS5zaXplPTg7dmFyIGZhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaGEodGhpcyx0KX0sZX0oV2kpO1huKCJGZWF0dXJlSW5kZXhBcnJheSIsZmEpO3ZhciB5YT1GaShbe25hbWU6ImFfcG9zIixjb21wb25lbnRzOjIsdHlwZToiSW50MTYifV0sNCkubWVtYmVycyxkYT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1bXSksdGhpcy5zZWdtZW50cz10O307ZnVuY3Rpb24gbWEodCxlKXtyZXR1cm4gMjU2Kih0PXUoTWF0aC5mbG9vcih0KSwwLDI1NSkpK3UoTWF0aC5mbG9vcihlKSwwLDI1NSl9ZGEucHJvdG90eXBlLnByZXBhcmVTZWdtZW50PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMuc2VnbWVudHNbdGhpcy5zZWdtZW50cy5sZW5ndGgtMV07cmV0dXJuIHQ+ZGEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJncoIk1heCB2ZXJ0aWNlcyBwZXIgc2VnbWVudCBpcyAiK2RhLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIKyI6IGJ1Y2tldCByZXF1ZXN0ZWQgIit0KSwoIWl8fGkudmVydGV4TGVuZ3RoK3Q+ZGEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEh8fGkuc29ydEtleSE9PW4pJiYoaT17dmVydGV4T2Zmc2V0OmUubGVuZ3RoLHByaW1pdGl2ZU9mZnNldDpyLmxlbmd0aCx2ZXJ0ZXhMZW5ndGg6MCxwcmltaXRpdmVMZW5ndGg6MH0sdm9pZCAwIT09biYmKGkuc29ydEtleT1uKSx0aGlzLnNlZ21lbnRzLnB1c2goaSkpLGl9LGRhLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWdtZW50c30sZGEucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuc2VnbWVudHM7dDxlLmxlbmd0aDt0Kz0xKXt2YXIgcj1lW3RdO2Zvcih2YXIgbiBpbiByLnZhb3Mpci52YW9zW25dLmRlc3Ryb3koKTt9fSxkYS5zaW1wbGVTZWdtZW50PWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuZXcgZGEoW3t2ZXJ0ZXhPZmZzZXQ6dCxwcmltaXRpdmVPZmZzZXQ6ZSx2ZXJ0ZXhMZW5ndGg6cixwcmltaXRpdmVMZW5ndGg6bix2YW9zOnt9LHNvcnRLZXk6MH1dKX0sZGEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEg9TWF0aC5wb3coMiwxNiktMSxYbigiU2VnbWVudFZlY3RvciIsZGEpO3ZhciB2YT1GaShbe25hbWU6ImFfcGF0dGVybl9mcm9tIixjb21wb25lbnRzOjQsdHlwZToiVWludDE2In0se25hbWU6ImFfcGF0dGVybl90byIsY29tcG9uZW50czo0LHR5cGU6IlVpbnQxNiJ9LHtuYW1lOiJhX3BpeGVsX3JhdGlvX2Zyb20iLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50OCJ9LHtuYW1lOiJhX3BpeGVsX3JhdGlvX3RvIixjb21wb25lbnRzOjEsdHlwZToiVWludDgifV0pLGdhPWUoKGZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLG4saSxhLG8scyx1LGw7Zm9yKG49dC5sZW5ndGgtKHI9MyZ0Lmxlbmd0aCksaT1lLG89MzQzMjkxODM1MyxzPTQ2MTg0NTkwNyxsPTA7bDxuOyl1PTI1NSZ0LmNoYXJDb2RlQXQobCl8KDI1NSZ0LmNoYXJDb2RlQXQoKytsKSk8PDh8KDI1NSZ0LmNoYXJDb2RlQXQoKytsKSk8PDE2fCgyNTUmdC5jaGFyQ29kZUF0KCsrbCkpPDwyNCwrK2wsaT0yNzQ5MisoNjU1MzUmKGE9NSooNjU1MzUmKGk9KGlePXU9KDY1NTM1Jih1PSh1PSg2NTUzNSZ1KSpvKygoKHU+Pj4xNikqbyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8dT4+PjE3KSkqcysoKCh1Pj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDEzfGk+Pj4xOSkpKygoNSooaT4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KSkrKCg1ODk2NCsoYT4+PjE2KSY2NTUzNSk8PDE2KTtzd2l0Y2godT0wLHIpe2Nhc2UgMzp1Xj0oMjU1JnQuY2hhckNvZGVBdChsKzIpKTw8MTY7Y2FzZSAyOnVePSgyNTUmdC5jaGFyQ29kZUF0KGwrMSkpPDw4O2Nhc2UgMTppXj11PSg2NTUzNSYodT0odT0oNjU1MzUmKHVePTI1NSZ0LmNoYXJDb2RlQXQobCkpKSpvKygoKHU+Pj4xNikqbyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8dT4+PjE3KSkqcysoKCh1Pj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NTt9cmV0dXJuIGlePXQubGVuZ3RoLGk9MjI0NjgyMjUwNyooNjU1MzUmKGlePWk+Pj4xNikpKygoMjI0NjgyMjUwNyooaT4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LGk9MzI2NjQ4OTkwOSooNjU1MzUmKGlePWk+Pj4xMykpKygoMzI2NjQ4OTkwOSooaT4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LChpXj1pPj4+MTYpPj4+MH07fSkpLHhhPWUoKGZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcixuPXQubGVuZ3RoLGk9ZV5uLGE9MDtuPj00OylyPTE1NDA0ODM0NzcqKDY1NTM1JihyPTI1NSZ0LmNoYXJDb2RlQXQoYSl8KDI1NSZ0LmNoYXJDb2RlQXQoKythKSk8PDh8KDI1NSZ0LmNoYXJDb2RlQXQoKythKSk8PDE2fCgyNTUmdC5jaGFyQ29kZUF0KCsrYSkpPDwyNCkpKygoMTU0MDQ4MzQ3Nyoocj4+PjE2KSY2NTUzNSk8PDE2KSxpPTE1NDA0ODM0NzcqKDY1NTM1JmkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KV4ocj0xNTQwNDgzNDc3Kig2NTUzNSYocl49cj4+PjI0KSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpKSxuLT00LCsrYTtzd2l0Y2gobil7Y2FzZSAzOmlePSgyNTUmdC5jaGFyQ29kZUF0KGErMikpPDwxNjtjYXNlIDI6aV49KDI1NSZ0LmNoYXJDb2RlQXQoYSsxKSk8PDg7Y2FzZSAxOmk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePTI1NSZ0LmNoYXJDb2RlQXQoYSkpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNik7fXJldHVybiBpPTE1NDA0ODM0NzcqKDY1NTM1JihpXj1pPj4+MTMpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNiksKGlePWk+Pj4xNSk+Pj4wfTt9KSksYmE9Z2Esd2E9eGE7YmEubXVybXVyMz1nYSxiYS5tdXJtdXIyPXdhO3ZhciBfYT1mdW5jdGlvbigpe3RoaXMuaWRzPVtdLHRoaXMucG9zaXRpb25zPVtdLHRoaXMuaW5kZXhlZD0hMTt9O19hLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5pZHMucHVzaChTYSh0KSksdGhpcy5wb3NpdGlvbnMucHVzaChlLHIsbik7fSxfYS5wcm90b3R5cGUuZ2V0UG9zaXRpb25zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1TYSh0KSxyPTAsbj10aGlzLmlkcy5sZW5ndGgtMTtyPG47KXt2YXIgaT1yK24+PjE7dGhpcy5pZHNbaV0+PWU/bj1pOnI9aSsxO31mb3IodmFyIGE9W107dGhpcy5pZHNbcl09PT1lOylhLnB1c2goe2luZGV4OnRoaXMucG9zaXRpb25zWzMqcl0sc3RhcnQ6dGhpcy5wb3NpdGlvbnNbMypyKzFdLGVuZDp0aGlzLnBvc2l0aW9uc1szKnIrMl19KSxyKys7cmV0dXJuIGF9LF9hLnNlcmlhbGl6ZT1mdW5jdGlvbih0LGUpe3ZhciByPW5ldyBGbG9hdDY0QXJyYXkodC5pZHMpLG49bmV3IFVpbnQzMkFycmF5KHQucG9zaXRpb25zKTtyZXR1cm4gZnVuY3Rpb24gdChlLHIsbixpKXtpZighKG4+PWkpKXtmb3IodmFyIGE9ZVtuK2k+PjFdLG89bi0xLHM9aSsxOzspe2Rve28rKzt9d2hpbGUoZVtvXTxhKTtkb3tzLS07fXdoaWxlKGVbc10+YSk7aWYobz49cylicmVhaztrYShlLG8scyksa2EociwzKm8sMypzKSxrYShyLDMqbysxLDMqcysxKSxrYShyLDMqbysyLDMqcysyKTt9dChlLHIsbixzKSx0KGUscixzKzEsaSk7fX0ocixuLDAsci5sZW5ndGgtMSksZSYmZS5wdXNoKHIuYnVmZmVyLG4uYnVmZmVyKSx7aWRzOnIscG9zaXRpb25zOm59fSxfYS5kZXNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgX2E7cmV0dXJuIGUuaWRzPXQuaWRzLGUucG9zaXRpb25zPXQucG9zaXRpb25zLGUuaW5kZXhlZD0hMCxlfTt2YXIgQWE9TWF0aC5wb3coMiw1MyktMTtmdW5jdGlvbiBTYSh0KXt2YXIgZT0rdDtyZXR1cm4gIWlzTmFOKGUpJiZlPD1BYT9lOmJhKFN0cmluZyh0KSl9ZnVuY3Rpb24ga2EodCxlLHIpe3ZhciBuPXRbZV07dFtlXT10W3JdLHRbcl09bjt9WG4oIkZlYXR1cmVQb3NpdGlvbk1hcCIsX2EpO3ZhciBJYT1mdW5jdGlvbih0LGUpe3RoaXMuZ2w9dC5nbCx0aGlzLmxvY2F0aW9uPWU7fSx6YT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9MDt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCE9PXQmJih0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0xaSh0aGlzLmxvY2F0aW9uLHQpKTt9LGV9KElhKSxDYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9MDt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCE9PXQmJih0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0xZih0aGlzLmxvY2F0aW9uLHQpKTt9LGV9KElhKSxNYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9WzAsMF07fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0WzBdPT09dGhpcy5jdXJyZW50WzBdJiZ0WzFdPT09dGhpcy5jdXJyZW50WzFdfHwodGhpcy5jdXJyZW50PXQsdGhpcy5nbC51bmlmb3JtMmYodGhpcy5sb2NhdGlvbix0WzBdLHRbMV0pKTt9LGV9KElhKSxUYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9WzAsMCwwXTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RbMF09PT10aGlzLmN1cnJlbnRbMF0mJnRbMV09PT10aGlzLmN1cnJlbnRbMV0mJnRbMl09PT10aGlzLmN1cnJlbnRbMl18fCh0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm0zZih0aGlzLmxvY2F0aW9uLHRbMF0sdFsxXSx0WzJdKSk7fSxlfShJYSksRWE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5jdXJyZW50PVswLDAsMCwwXTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RbMF09PT10aGlzLmN1cnJlbnRbMF0mJnRbMV09PT10aGlzLmN1cnJlbnRbMV0mJnRbMl09PT10aGlzLmN1cnJlbnRbMl0mJnRbM109PT10aGlzLmN1cnJlbnRbM118fCh0aGlzLmN1cnJlbnQ9dCx0aGlzLmdsLnVuaWZvcm00Zih0aGlzLmxvY2F0aW9uLHRbMF0sdFsxXSx0WzJdLHRbM10pKTt9LGV9KElhKSxQYT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUscil7dC5jYWxsKHRoaXMsZSxyKSx0aGlzLmN1cnJlbnQ9JHQudHJhbnNwYXJlbnQ7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt0LnI9PT10aGlzLmN1cnJlbnQuciYmdC5nPT09dGhpcy5jdXJyZW50LmcmJnQuYj09PXRoaXMuY3VycmVudC5iJiZ0LmE9PT10aGlzLmN1cnJlbnQuYXx8KHRoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybTRmKHRoaXMubG9jYXRpb24sdC5yLHQuZyx0LmIsdC5hKSk7fSxlfShJYSksQmE9bmV3IEZsb2F0MzJBcnJheSgxNiksVmE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3QuY2FsbCh0aGlzLGUsciksdGhpcy5jdXJyZW50PUJhO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodFsxMl0hPT10aGlzLmN1cnJlbnRbMTJdfHx0WzBdIT09dGhpcy5jdXJyZW50WzBdKXJldHVybiB0aGlzLmN1cnJlbnQ9dCx2b2lkIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHQpO2Zvcih2YXIgZT0xO2U8MTY7ZSsrKWlmKHRbZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD10LHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHQpO2JyZWFrfX0sZX0oSWEpO2Z1bmN0aW9uIEZhKHQpe3JldHVybiBbbWEoMjU1KnQuciwyNTUqdC5nKSxtYSgyNTUqdC5iLDI1NSp0LmEpXX12YXIgRGE9ZnVuY3Rpb24odCxlLHIpe3RoaXMudmFsdWU9dCx0aGlzLnVuaWZvcm1OYW1lcz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJ1XyIrdH0pKSx0aGlzLnR5cGU9cjt9O0RhLnByb3RvdHlwZS5zZXRVbmlmb3JtPWZ1bmN0aW9uKHQsZSxyKXt0LnNldChyLmNvbnN0YW50T3IodGhpcy52YWx1ZSkpO30sRGEucHJvdG90eXBlLmdldEJpbmRpbmc9ZnVuY3Rpb24odCxlLHIpe3JldHVybiAiY29sb3IiPT09dGhpcy50eXBlP25ldyBQYSh0LGUpOm5ldyBDYSh0LGUpfTt2YXIgTGE9ZnVuY3Rpb24odCxlKXt0aGlzLnVuaWZvcm1OYW1lcz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuICJ1XyIrdH0pKSx0aGlzLnBhdHRlcm5Gcm9tPW51bGwsdGhpcy5wYXR0ZXJuVG89bnVsbCx0aGlzLnBpeGVsUmF0aW9Gcm9tPTEsdGhpcy5waXhlbFJhdGlvVG89MTt9O0xhLnByb3RvdHlwZS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnM9ZnVuY3Rpb24odCxlKXt0aGlzLnBpeGVsUmF0aW9Gcm9tPWUucGl4ZWxSYXRpbyx0aGlzLnBpeGVsUmF0aW9Ubz10LnBpeGVsUmF0aW8sdGhpcy5wYXR0ZXJuRnJvbT1lLnRsYnIsdGhpcy5wYXR0ZXJuVG89dC50bGJyO30sTGEucHJvdG90eXBlLnNldFVuaWZvcm09ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9InVfcGF0dGVybl90byI9PT1uP3RoaXMucGF0dGVyblRvOiJ1X3BhdHRlcm5fZnJvbSI9PT1uP3RoaXMucGF0dGVybkZyb206InVfcGl4ZWxfcmF0aW9fdG8iPT09bj90aGlzLnBpeGVsUmF0aW9UbzoidV9waXhlbF9yYXRpb19mcm9tIj09PW4/dGhpcy5waXhlbFJhdGlvRnJvbTpudWxsO2kmJnQuc2V0KGkpO30sTGEucHJvdG90eXBlLmdldEJpbmRpbmc9ZnVuY3Rpb24odCxlLHIpe3JldHVybiAidV9wYXR0ZXJuIj09PXIuc3Vic3RyKDAsOSk/bmV3IEVhKHQsZSk6bmV3IENhKHQsZSl9O3ZhciBSYT1mdW5jdGlvbih0LGUscixuKXt0aGlzLmV4cHJlc3Npb249dCx0aGlzLnR5cGU9cix0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB7bmFtZToiYV8iK3QsdHlwZToiRmxvYXQzMiIsY29tcG9uZW50czoiY29sb3IiPT09cj8yOjEsb2Zmc2V0OjB9fSkpLHRoaXMucGFpbnRWZXJ0ZXhBcnJheT1uZXcgbjt9O1JhLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXk9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoLG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBtaSgwKSxlLHt9LG4sW10saSk7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLl9zZXRQYWludFZhbHVlKGEsdCxvKTt9LFJhLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowfSxyLG4pO3RoaXMuX3NldFBhaW50VmFsdWUodCxlLGkpO30sUmEucHJvdG90eXBlLl9zZXRQYWludFZhbHVlPWZ1bmN0aW9uKHQsZSxyKXtpZigiY29sb3IiPT09dGhpcy50eXBlKWZvcih2YXIgbj1GYShyKSxpPXQ7aTxlO2krKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShpLG5bMF0sblsxXSk7ZWxzZXtmb3IodmFyIGE9dDthPGU7YSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGEscik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpKTt9fSxSYS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LFJhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fTt2YXIgT2E9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInVfIit0KyJfdCJ9KSksdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHtuYW1lOiJhXyIrdCx0eXBlOiJGbG9hdDMyIixjb21wb25lbnRzOiJjb2xvciI9PT1yPzQ6MixvZmZzZXQ6MH19KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBhO307T2EucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgbWkodGhpcy56b29tKSxlLHt9LG4sW10saSksbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IG1pKHRoaXMuem9vbSsxKSxlLHt9LG4sW10saSkscz10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUodCksdGhpcy5fc2V0UGFpbnRWYWx1ZShzLHQsYSxvKTt9LE9hLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb219LHIsbiksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzF9LHIsbik7dGhpcy5fc2V0UGFpbnRWYWx1ZSh0LGUsaSxhKTt9LE9hLnByb3RvdHlwZS5fc2V0UGFpbnRWYWx1ZT1mdW5jdGlvbih0LGUscixuKXtpZigiY29sb3IiPT09dGhpcy50eXBlKWZvcih2YXIgaT1GYShyKSxhPUZhKG4pLG89dDtvPGU7bysrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8saVswXSxpWzFdLGFbMF0sYVsxXSk7ZWxzZXtmb3IodmFyIHM9dDtzPGU7cysrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHMscixuKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsTWF0aC5hYnMociksTWF0aC5hYnMobikpO319LE9hLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpO30sT2EucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKTt9LE9hLnByb3RvdHlwZS5zZXRVbmlmb3JtPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy51c2VJbnRlZ2VyWm9vbT9NYXRoLmZsb29yKGUuem9vbSk6ZS56b29tLG49dSh0aGlzLmV4cHJlc3Npb24uaW50ZXJwb2xhdGlvbkZhY3RvcihyLHRoaXMuem9vbSx0aGlzLnpvb20rMSksMCwxKTt0LnNldChuKTt9LE9hLnByb3RvdHlwZS5nZXRCaW5kaW5nPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbmV3IENhKHQsZSl9O3ZhciBVYT1mdW5jdGlvbih0LGUscixuLGksYSl7dGhpcy5leHByZXNzaW9uPXQsdGhpcy50eXBlPWUsdGhpcy51c2VJbnRlZ2VyWm9vbT1yLHRoaXMuem9vbT1uLHRoaXMubGF5ZXJJZD1hLHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheT1uZXcgaSx0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5PW5ldyBpO307VWEucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkucmVzaXplKHQpLHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkucmVzaXplKHQpLHRoaXMuX3NldFBhaW50VmFsdWVzKG4sdCxlLnBhdHRlcm5zJiZlLnBhdHRlcm5zW3RoaXMubGF5ZXJJZF0scik7fSxVYS5wcm90b3R5cGUudXBkYXRlUGFpbnRBcnJheT1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMuX3NldFBhaW50VmFsdWVzKHQsZSxyLnBhdHRlcm5zJiZyLnBhdHRlcm5zW3RoaXMubGF5ZXJJZF0saSk7fSxVYS5wcm90b3R5cGUuX3NldFBhaW50VmFsdWVzPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKG4mJnIpe3ZhciBpPW5bci5taW5dLGE9bltyLm1pZF0sbz1uW3IubWF4XTtpZihpJiZhJiZvKWZvcih2YXIgcz10O3M8ZTtzKyspdGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LmVtcGxhY2UocyxhLnRsWzBdLGEudGxbMV0sYS5iclswXSxhLmJyWzFdLGkudGxbMF0saS50bFsxXSxpLmJyWzBdLGkuYnJbMV0sYS5waXhlbFJhdGlvLGkucGl4ZWxSYXRpbyksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHMsYS50bFswXSxhLnRsWzFdLGEuYnJbMF0sYS5iclsxXSxvLnRsWzBdLG8udGxbMV0sby5iclswXSxvLmJyWzFdLGEucGl4ZWxSYXRpbyxvLnBpeGVsUmF0aW8pO319LFVhLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5JiZ0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJnRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkmJnRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnpvb21JblBhaW50VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheSx2YS5tZW1iZXJzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSx0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LHZhLm1lbWJlcnMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9LFVhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnpvb21JblBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnpvb21JblBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKTt9O3ZhciBqYT1mdW5jdGlvbih0LGUscixuKXt0aGlzLmJpbmRlcnM9e30sdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPW4sdGhpcy5fYnVmZmVycz1bXTt2YXIgaT1bXTtmb3IodmFyIGEgaW4gdC5wYWludC5fdmFsdWVzKWlmKHIoYSkpe3ZhciBvPXQucGFpbnQuZ2V0KGEpO2lmKG8gaW5zdGFuY2VvZiBBaSYmanIoby5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSl7dmFyIHM9TmEoYSx0LnR5cGUpLHU9by52YWx1ZSxsPW8ucHJvcGVydHkuc3BlY2lmaWNhdGlvbi50eXBlLHA9by5wcm9wZXJ0eS51c2VJbnRlZ2VyWm9vbSxjPW8ucHJvcGVydHkuc3BlY2lmaWNhdGlvblsicHJvcGVydHktdHlwZSJdLGg9ImNyb3NzLWZhZGVkIj09PWN8fCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlbiI9PT1jO2lmKCJjb25zdGFudCI9PT11LmtpbmQpdGhpcy5iaW5kZXJzW2FdPWg/bmV3IExhKHUudmFsdWUscyk6bmV3IERhKHUudmFsdWUscyxsKSxpLnB1c2goIi91XyIrYSk7ZWxzZSBpZigic291cmNlIj09PXUua2luZHx8aCl7dmFyIGY9S2EoYSxsLCJzb3VyY2UiKTt0aGlzLmJpbmRlcnNbYV09aD9uZXcgVWEodSxsLHAsZSxmLHQuaWQpOm5ldyBSYSh1LHMsbCxmKSxpLnB1c2goIi9hXyIrYSk7fWVsc2V7dmFyIHk9S2EoYSxsLCJjb21wb3NpdGUiKTt0aGlzLmJpbmRlcnNbYV09bmV3IE9hKHUscyxsLHAsZSx5KSxpLnB1c2goIi96XyIrYSk7fX19dGhpcy5jYWNoZUtleT1pLnNvcnQoKS5qb2luKCIiKTt9O2phLnByb3RvdHlwZS5nZXRNYXhWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmJpbmRlcnNbdF07cmV0dXJuIGUgaW5zdGFuY2VvZiBSYXx8ZSBpbnN0YW5jZW9mIE9hP2UubWF4VmFsdWU6MH0samEucHJvdG90eXBlLnBvcHVsYXRlUGFpbnRBcnJheXM9ZnVuY3Rpb24odCxlLHIsbixpKXtmb3IodmFyIGEgaW4gdGhpcy5iaW5kZXJzKXt2YXIgbz10aGlzLmJpbmRlcnNbYV07KG8gaW5zdGFuY2VvZiBSYXx8byBpbnN0YW5jZW9mIE9hfHxvIGluc3RhbmNlb2YgVWEpJiZvLnBvcHVsYXRlUGFpbnRBcnJheSh0LGUscixuLGkpO319LGphLnByb3RvdHlwZS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gdGhpcy5iaW5kZXJzKXt2YXIgbj10aGlzLmJpbmRlcnNbcl07biBpbnN0YW5jZW9mIExhJiZuLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGUpO319LGphLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5cz1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPSExO2Zvcih2YXIgbyBpbiB0KWZvcih2YXIgcz0wLHU9ZS5nZXRQb3NpdGlvbnMobyk7czx1Lmxlbmd0aDtzKz0xKXt2YXIgbD11W3NdLHA9ci5mZWF0dXJlKGwuaW5kZXgpO2Zvcih2YXIgYyBpbiB0aGlzLmJpbmRlcnMpe3ZhciBoPXRoaXMuYmluZGVyc1tjXTtpZigoaCBpbnN0YW5jZW9mIFJhfHxoIGluc3RhbmNlb2YgT2F8fGggaW5zdGFuY2VvZiBVYSkmJiEwPT09aC5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpe3ZhciBmPW4ucGFpbnQuZ2V0KGMpO2guZXhwcmVzc2lvbj1mLnZhbHVlLGgudXBkYXRlUGFpbnRBcnJheShsLnN0YXJ0LGwuZW5kLHAsdFtvXSxpKSxhPSEwO319fXJldHVybiBhfSxqYS5wcm90b3R5cGUuZGVmaW5lcz1mdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiB0aGlzLmJpbmRlcnMpe3ZhciByPXRoaXMuYmluZGVyc1tlXTsociBpbnN0YW5jZW9mIERhfHxyIGluc3RhbmNlb2YgTGEpJiZ0LnB1c2guYXBwbHkodCxyLnVuaWZvcm1OYW1lcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAiI2RlZmluZSBIQVNfVU5JRk9STV8iK3R9KSkpO31yZXR1cm4gdH0samEucHJvdG90eXBlLmdldFBhaW50VmVydGV4QnVmZmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJzfSxqYS5wcm90b3R5cGUuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24odCxlKXt2YXIgcj1bXTtmb3IodmFyIG4gaW4gdGhpcy5iaW5kZXJzKXt2YXIgaT10aGlzLmJpbmRlcnNbbl07aWYoaSBpbnN0YW5jZW9mIERhfHxpIGluc3RhbmNlb2YgTGF8fGkgaW5zdGFuY2VvZiBPYSlmb3IodmFyIGE9MCxvPWkudW5pZm9ybU5hbWVzO2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXTtpZihlW3NdKXt2YXIgdT1pLmdldEJpbmRpbmcodCxlW3NdLHMpO3IucHVzaCh7bmFtZTpzLHByb3BlcnR5Om4sYmluZGluZzp1fSk7fX19cmV0dXJuIHJ9LGphLnByb3RvdHlwZS5zZXRVbmlmb3Jtcz1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9MCxhPWU7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldLHM9by5uYW1lLHU9by5wcm9wZXJ0eTt0aGlzLmJpbmRlcnNbdV0uc2V0VW5pZm9ybShvLmJpbmRpbmcsbixyLmdldCh1KSxzKTt9fSxqYS5wcm90b3R5cGUudXBkYXRlUGFpbnRCdWZmZXJzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLl9idWZmZXJzPVtdLHRoaXMuYmluZGVycyl7dmFyIHI9dGhpcy5iaW5kZXJzW2VdO2lmKHQmJnIgaW5zdGFuY2VvZiBVYSl7dmFyIG49Mj09PXQuZnJvbVNjYWxlP3Iuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXI6ci56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXI7biYmdGhpcy5fYnVmZmVycy5wdXNoKG4pO31lbHNlKHIgaW5zdGFuY2VvZiBSYXx8ciBpbnN0YW5jZW9mIE9hKSYmci5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5fYnVmZmVycy5wdXNoKHIucGFpbnRWZXJ0ZXhCdWZmZXIpO319LGphLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYmluZGVycyl7dmFyIHI9dGhpcy5iaW5kZXJzW2VdOyhyIGluc3RhbmNlb2YgUmF8fHIgaW5zdGFuY2VvZiBPYXx8ciBpbnN0YW5jZW9mIFVhKSYmci51cGxvYWQodCk7fXRoaXMudXBkYXRlUGFpbnRCdWZmZXJzKCk7fSxqYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmJpbmRlcnMpe3ZhciBlPXRoaXMuYmluZGVyc1t0XTsoZSBpbnN0YW5jZW9mIFJhfHxlIGluc3RhbmNlb2YgT2F8fGUgaW5zdGFuY2VvZiBVYSkmJmUuZGVzdHJveSgpO319O3ZhciBxYT1mdW5jdGlvbih0LGUscixuKXt2b2lkIDA9PT1uJiYobj1mdW5jdGlvbigpe3JldHVybiAhMH0pLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXt9O2Zvcih2YXIgaT0wLGE9ZTtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF09bmV3IGphKG8scixuLHQpO310aGlzLm5lZWRzVXBsb2FkPSExLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IF9hLHRoaXMuX2J1ZmZlck9mZnNldD0wO307ZnVuY3Rpb24gTmEodCxlKXtyZXR1cm4geyJ0ZXh0LW9wYWNpdHkiOlsib3BhY2l0eSJdLCJpY29uLW9wYWNpdHkiOlsib3BhY2l0eSJdLCJ0ZXh0LWNvbG9yIjpbImZpbGxfY29sb3IiXSwiaWNvbi1jb2xvciI6WyJmaWxsX2NvbG9yIl0sInRleHQtaGFsby1jb2xvciI6WyJoYWxvX2NvbG9yIl0sImljb24taGFsby1jb2xvciI6WyJoYWxvX2NvbG9yIl0sInRleHQtaGFsby1ibHVyIjpbImhhbG9fYmx1ciJdLCJpY29uLWhhbG8tYmx1ciI6WyJoYWxvX2JsdXIiXSwidGV4dC1oYWxvLXdpZHRoIjpbImhhbG9fd2lkdGgiXSwiaWNvbi1oYWxvLXdpZHRoIjpbImhhbG9fd2lkdGgiXSwibGluZS1nYXAtd2lkdGgiOlsiZ2Fwd2lkdGgiXSwibGluZS1wYXR0ZXJuIjpbInBhdHRlcm5fdG8iLCJwYXR0ZXJuX2Zyb20iLCJwaXhlbF9yYXRpb190byIsInBpeGVsX3JhdGlvX2Zyb20iXSwiZmlsbC1wYXR0ZXJuIjpbInBhdHRlcm5fdG8iLCJwYXR0ZXJuX2Zyb20iLCJwaXhlbF9yYXRpb190byIsInBpeGVsX3JhdGlvX2Zyb20iXSwiZmlsbC1leHRydXNpb24tcGF0dGVybiI6WyJwYXR0ZXJuX3RvIiwicGF0dGVybl9mcm9tIiwicGl4ZWxfcmF0aW9fdG8iLCJwaXhlbF9yYXRpb19mcm9tIl19W3RdfHxbdC5yZXBsYWNlKGUrIi0iLCIiKS5yZXBsYWNlKC8tL2csIl8iKV19ZnVuY3Rpb24gS2EodCxlLHIpe3ZhciBuPXtjb2xvcjp7c291cmNlOnJhLGNvbXBvc2l0ZTpuYX0sbnVtYmVyOntzb3VyY2U6WWksY29tcG9zaXRlOnJhfX0saT1mdW5jdGlvbih0KXtyZXR1cm4geyJsaW5lLXBhdHRlcm4iOntzb3VyY2U6amksY29tcG9zaXRlOmppfSwiZmlsbC1wYXR0ZXJuIjp7c291cmNlOmppLGNvbXBvc2l0ZTpqaX0sImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iOntzb3VyY2U6amksY29tcG9zaXRlOmppfX1bdF19KHQpO3JldHVybiBpJiZpW3JdfHxuW2VdW3JdfXFhLnByb3RvdHlwZS5wb3B1bGF0ZVBhaW50QXJyYXlzPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtmb3IodmFyIG8gaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbb10ucG9wdWxhdGVQYWludEFycmF5cyh0LGUsbixpLGEpO3ZvaWQgMCE9PWUuaWQmJnRoaXMuX2ZlYXR1cmVNYXAuYWRkKGUuaWQscix0aGlzLl9idWZmZXJPZmZzZXQsdCksdGhpcy5fYnVmZmVyT2Zmc2V0PXQsdGhpcy5uZWVkc1VwbG9hZD0hMDt9LHFhLnByb3RvdHlwZS51cGRhdGVQYWludEFycmF5cz1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9MCxhPXI7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldO3RoaXMubmVlZHNVcGxvYWQ9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF0udXBkYXRlUGFpbnRBcnJheXModCx0aGlzLl9mZWF0dXJlTWFwLGUsbyxuKXx8dGhpcy5uZWVkc1VwbG9hZDt9fSxxYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1t0XX0scWEucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXtpZih0aGlzLm5lZWRzVXBsb2FkKXtmb3IodmFyIGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0udXBsb2FkKHQpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX0scWEucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0uZGVzdHJveSgpO30sWG4oIkNvbnN0YW50QmluZGVyIixEYSksWG4oIkNyb3NzRmFkZWRDb25zdGFudEJpbmRlciIsTGEpLFhuKCJTb3VyY2VFeHByZXNzaW9uQmluZGVyIixSYSksWG4oIkNyb3NzRmFkZWRDb21wb3NpdGVCaW5kZXIiLFVhKSxYbigiQ29tcG9zaXRlRXhwcmVzc2lvbkJpbmRlciIsT2EpLFhuKCJQcm9ncmFtQ29uZmlndXJhdGlvbiIsamEse29taXQ6WyJfYnVmZmVycyJdfSksWG4oIlByb2dyYW1Db25maWd1cmF0aW9uU2V0IixxYSk7dmFyIEdhPXttaW46LTEqTWF0aC5wb3coMiwxNCksbWF4Ok1hdGgucG93KDIsMTQpLTF9O2Z1bmN0aW9uIFphKHQpe2Zvcih2YXIgZT16ZS90LmV4dGVudCxyPXQubG9hZEdlb21ldHJ5KCksbj0wO248ci5sZW5ndGg7bisrKWZvcih2YXIgaT1yW25dLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIG89aVthXTtvLng9TWF0aC5yb3VuZChvLngqZSksby55PU1hdGgucm91bmQoby55KmUpLChvLng8R2EubWlufHxvLng+R2EubWF4fHxvLnk8R2EubWlufHxvLnk+R2EubWF4KSYmKHcoIkdlb21ldHJ5IGV4Y2VlZHMgYWxsb3dlZCBleHRlbnQsIHJlZHVjZSB5b3VyIHZlY3RvciB0aWxlIGJ1ZmZlciBzaXplIiksby54PXUoby54LEdhLm1pbixHYS5tYXgpLG8ueT11KG8ueSxHYS5taW4sR2EubWF4KSk7fXJldHVybiByfWZ1bmN0aW9uIFhhKHQsZSxyLG4saSl7dC5lbXBsYWNlQmFjaygyKmUrKG4rMSkvMiwyKnIrKGkrMSkvMik7fXZhciBKYT1mdW5jdGlvbih0KXt0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBMaSx0aGlzLmluZGV4QXJyYXk9bmV3IFFpLHRoaXMuc2VnbWVudHM9bmV3IGRhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBxYSh5YSx0LmxheWVycyx0Lnpvb20pLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzU3RhdGVEZXBlbmRlbnQoKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpO307ZnVuY3Rpb24gSGEodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihpbyhlLHRbcl0pKXJldHVybiAhMDtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihpbyh0LGVbbl0pKXJldHVybiAhMDtyZXR1cm4gISFRYSh0LGUpfWZ1bmN0aW9uIFlhKHQsZSxyKXtyZXR1cm4gISFpbyh0LGUpfHwhIWVvKGUsdCxyKX1mdW5jdGlvbiAkYSh0LGUpe2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gbm8oZSx0WzBdKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIG49ZVtyXSxpPTA7aTxuLmxlbmd0aDtpKyspaWYoaW8odCxuW2ldKSlyZXR1cm4gITA7Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspaWYobm8oZSx0W2FdKSlyZXR1cm4gITA7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspaWYoUWEodCxlW29dKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIFdhKHQsZSxyKXtpZih0Lmxlbmd0aD4xKXtpZihRYSh0LGUpKXJldHVybiAhMDtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlbyhlW25dLHQscikpcmV0dXJuICEwfWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKGVvKHRbaV0sZSxyKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIFFhKHQsZSl7aWYoMD09PXQubGVuZ3RofHwwPT09ZS5sZW5ndGgpcmV0dXJuICExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGgtMTtyKyspZm9yKHZhciBuPXRbcl0saT10W3IrMV0sYT0wO2E8ZS5sZW5ndGgtMTthKyspaWYodG8obixpLGVbYV0sZVthKzFdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIHRvKHQsZSxyLG4pe3JldHVybiBfKHQscixuKSE9PV8oZSxyLG4pJiZfKHQsZSxyKSE9PV8odCxlLG4pfWZ1bmN0aW9uIGVvKHQsZSxyKXt2YXIgbj1yKnI7aWYoMT09PWUubGVuZ3RoKXJldHVybiB0LmRpc3RTcXIoZVswXSk8bjtmb3IodmFyIGk9MTtpPGUubGVuZ3RoO2krKylpZihybyh0LGVbaS0xXSxlW2ldKTxuKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gcm8odCxlLHIpe3ZhciBuPWUuZGlzdFNxcihyKTtpZigwPT09bilyZXR1cm4gdC5kaXN0U3FyKGUpO3ZhciBpPSgodC54LWUueCkqKHIueC1lLngpKyh0LnktZS55KSooci55LWUueSkpL247cmV0dXJuIHQuZGlzdFNxcihpPDA/ZTppPjE/cjpyLnN1YihlKS5fbXVsdChpKS5fYWRkKGUpKX1mdW5jdGlvbiBubyh0LGUpe2Zvcih2YXIgcixuLGksYT0hMSxvPTA7bzx0Lmxlbmd0aDtvKyspZm9yKHZhciBzPTAsdT0ocj10W29dKS5sZW5ndGgtMTtzPHIubGVuZ3RoO3U9cysrKShuPXJbc10pLnk+ZS55IT0oaT1yW3VdKS55PmUueSYmZS54PChpLngtbi54KSooZS55LW4ueSkvKGkueS1uLnkpK24ueCYmKGE9IWEpO3JldHVybiBhfWZ1bmN0aW9uIGlvKHQsZSl7Zm9yKHZhciByPSExLG49MCxpPXQubGVuZ3RoLTE7bjx0Lmxlbmd0aDtpPW4rKyl7dmFyIGE9dFtuXSxvPXRbaV07YS55PmUueSE9by55PmUueSYmZS54PChvLngtYS54KSooZS55LWEueSkvKG8ueS1hLnkpK2EueCYmKHI9IXIpO31yZXR1cm4gcn1mdW5jdGlvbiBhbyh0LGUscil7dmFyIG49clswXSxpPXJbMl07aWYodC54PG4ueCYmZS54PG4ueHx8dC54PmkueCYmZS54PmkueHx8dC55PG4ueSYmZS55PG4ueXx8dC55PmkueSYmZS55PmkueSlyZXR1cm4gITE7dmFyIGE9Xyh0LGUsclswXSk7cmV0dXJuIGEhPT1fKHQsZSxyWzFdKXx8YSE9PV8odCxlLHJbMl0pfHxhIT09Xyh0LGUsclszXSl9ZnVuY3Rpb24gb28odCxlLHIpe3ZhciBuPWUucGFpbnQuZ2V0KHQpLnZhbHVlO3JldHVybiAiY29uc3RhbnQiPT09bi5raW5kP24udmFsdWU6ci5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGUuaWQpLmdldE1heFZhbHVlKHQpfWZ1bmN0aW9uIHNvKHQpe3JldHVybiBNYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSl9ZnVuY3Rpb24gdW8odCxlLHIsbixhKXtpZighZVswXSYmIWVbMV0pcmV0dXJuIHQ7dmFyIG89aS5jb252ZXJ0KGUpLl9tdWx0KGEpOyJ2aWV3cG9ydCI9PT1yJiZvLl9yb3RhdGUoLW4pO2Zvcih2YXIgcz1bXSx1PTA7dTx0Lmxlbmd0aDt1Kyspcy5wdXNoKHRbdV0uc3ViKG8pKTtyZXR1cm4gc31KYS5wcm90b3R5cGUucG9wdWxhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMubGF5ZXJzWzBdLGk9W10sYT1udWxsOyJjaXJjbGUiPT09bi50eXBlJiYoYT1uLmxheW91dC5nZXQoImNpcmNsZS1zb3J0LWtleSIpKTtmb3IodmFyIG89MCxzPXQ7bzxzLmxlbmd0aDtvKz0xKXt2YXIgdT1zW29dLGw9dS5mZWF0dXJlLHA9dS5pZCxjPXUuaW5kZXgsaD11LnNvdXJjZUxheWVySW5kZXgsZj10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnkseT17dHlwZTpsLnR5cGUsaWQ6cCxwcm9wZXJ0aWVzOmwucHJvcGVydGllcyxnZW9tZXRyeTpmP1phKGwpOltdfTtpZih0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IG1pKHRoaXMuem9vbSkseSxyKSl7Znx8KHkuZ2VvbWV0cnk9WmEobCkpO3ZhciBkPWE/YS5ldmFsdWF0ZSh5LHt9LHIpOnZvaWQgMDtpLnB1c2goe2lkOnAscHJvcGVydGllczpsLnByb3BlcnRpZXMsdHlwZTpsLnR5cGUsc291cmNlTGF5ZXJJbmRleDpoLGluZGV4OmMsZ2VvbWV0cnk6eS5nZW9tZXRyeSxwYXR0ZXJuczp7fSxzb3J0S2V5OmR9KTt9fWEmJmkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zb3J0S2V5LWUuc29ydEtleX0pKTtmb3IodmFyIG09MCx2PWk7bTx2Lmxlbmd0aDttKz0xKXt2YXIgZz12W21dLHg9Zy5nZW9tZXRyeSxiPWcuaW5kZXgsdz1nLnNvdXJjZUxheWVySW5kZXgsXz10W2JdLmZlYXR1cmU7dGhpcy5hZGRGZWF0dXJlKGcseCxiLHIpLGUuZmVhdHVyZUluZGV4Lmluc2VydChfLHgsYix3LHRoaXMuaW5kZXgpO319LEphLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyKTt9LEphLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH0sSmEucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfSxKYS5wcm90b3R5cGUudXBsb2FkPWZ1bmN0aW9uKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHlhKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fSxKYS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSk7fSxKYS5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIGk9MCxhPWU7aTxhLmxlbmd0aDtpKz0xKWZvcih2YXIgbz0wLHM9YVtpXTtvPHMubGVuZ3RoO28rPTEpe3ZhciB1PXNbb10sbD11LngscD11Lnk7aWYoIShsPDB8fGw+PXplfHxwPDB8fHA+PXplKSl7dmFyIGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5LHQuc29ydEtleSksaD1jLnZlcnRleExlbmd0aDtYYSh0aGlzLmxheW91dFZlcnRleEFycmF5LGwscCwtMSwtMSksWGEodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxsLHAsMSwtMSksWGEodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxsLHAsMSwxKSxYYSh0aGlzLmxheW91dFZlcnRleEFycmF5LGwscCwtMSwxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaCxoKzEsaCsyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaCxoKzMsaCsyKSxjLnZlcnRleExlbmd0aCs9NCxjLnByaW1pdGl2ZUxlbmd0aCs9Mjt9fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLHt9LG4pO30sWG4oIkNpcmNsZUJ1Y2tldCIsSmEse29taXQ6WyJsYXllcnMiXX0pO3ZhciBsbyxwbz1uZXcgVGkoeyJjaXJjbGUtc29ydC1rZXkiOm5ldyBJaShDdC5sYXlvdXRfY2lyY2xlWyJjaXJjbGUtc29ydC1rZXkiXSl9KSxjbz17cGFpbnQ6bmV3IFRpKHsiY2lyY2xlLXJhZGl1cyI6bmV3IElpKEN0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXJhZGl1cyJdKSwiY2lyY2xlLWNvbG9yIjpuZXcgSWkoQ3QucGFpbnRfY2lyY2xlWyJjaXJjbGUtY29sb3IiXSksImNpcmNsZS1ibHVyIjpuZXcgSWkoQ3QucGFpbnRfY2lyY2xlWyJjaXJjbGUtYmx1ciJdKSwiY2lyY2xlLW9wYWNpdHkiOm5ldyBJaShDdC5wYWludF9jaXJjbGVbImNpcmNsZS1vcGFjaXR5Il0pLCJjaXJjbGUtdHJhbnNsYXRlIjpuZXcga2koQ3QucGFpbnRfY2lyY2xlWyJjaXJjbGUtdHJhbnNsYXRlIl0pLCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvciI6bmV3IGtpKEN0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3IiXSksImNpcmNsZS1waXRjaC1zY2FsZSI6bmV3IGtpKEN0LnBhaW50X2NpcmNsZVsiY2lyY2xlLXBpdGNoLXNjYWxlIl0pLCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50IjpuZXcga2koQ3QucGFpbnRfY2lyY2xlWyJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Il0pLCJjaXJjbGUtc3Ryb2tlLXdpZHRoIjpuZXcgSWkoQ3QucGFpbnRfY2lyY2xlWyJjaXJjbGUtc3Ryb2tlLXdpZHRoIl0pLCJjaXJjbGUtc3Ryb2tlLWNvbG9yIjpuZXcgSWkoQ3QucGFpbnRfY2lyY2xlWyJjaXJjbGUtc3Ryb2tlLWNvbG9yIl0pLCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHkiOm5ldyBJaShDdC5wYWludF9jaXJjbGVbImNpcmNsZS1zdHJva2Utb3BhY2l0eSJdKX0pLGxheW91dDpwb30saG89InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O2Z1bmN0aW9uIGZvKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1lWzNdO3JldHVybiB0WzBdPXJbMF0qbityWzRdKmkrcls4XSphK3JbMTJdKm8sdFsxXT1yWzFdKm4rcls1XSppK3JbOV0qYStyWzEzXSpvLHRbMl09clsyXSpuK3JbNl0qaStyWzEwXSphK3JbMTRdKm8sdFszXT1yWzNdKm4rcls3XSppK3JbMTFdKmErclsxNV0qbyx0fU1hdGguaHlwb3R8fChNYXRoLmh5cG90PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cyxlPTAscj1hcmd1bWVudHMubGVuZ3RoO3ItLTspZSs9dFtyXSp0W3JdO3JldHVybiBNYXRoLnNxcnQoZSl9KSxsbz1uZXcgaG8oMyksaG8hPUZsb2F0MzJBcnJheSYmKGxvWzBdPTAsbG9bMV09MCxsb1syXT0wKSxmdW5jdGlvbigpe3ZhciB0PW5ldyBobyg0KTtobyE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCx0WzJdPTAsdFszXT0wKTt9KCk7dmFyIHlvPShmdW5jdGlvbigpe3ZhciB0PW5ldyBobygyKTtobyE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCk7fSgpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxjbyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEphKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiBvbygiY2lyY2xlLXJhZGl1cyIsdGhpcyxlKStvbygiY2lyY2xlLXN0cm9rZS13aWR0aCIsdGhpcyxlKStzbyh0aGlzLnBhaW50LmdldCgiY2lyY2xlLXRyYW5zbGF0ZSIpKX0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGksYSxvLHMpe2Zvcih2YXIgdT11byh0LHRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtdHJhbnNsYXRlIiksdGhpcy5wYWludC5nZXQoImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yIiksYS5hbmdsZSxvKSxsPXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcmFkaXVzIikuZXZhbHVhdGUoZSxyKSt0aGlzLnBhaW50LmdldCgiY2lyY2xlLXN0cm9rZS13aWR0aCIpLmV2YWx1YXRlKGUscikscD0ibWFwIj09PXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50IiksYz1wP3U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBtbyh0LGUpfSkpfSh1LHMpLGg9cD9sKm86bCxmPTAseT1uO2Y8eS5sZW5ndGg7Zis9MSlmb3IodmFyIGQ9MCxtPXlbZl07ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdLGc9cD92Om1vKHYscykseD1oLGI9Zm8oW10sW3YueCx2LnksMCwxXSxzKTtpZigidmlld3BvcnQiPT09dGhpcy5wYWludC5nZXQoImNpcmNsZS1waXRjaC1zY2FsZSIpJiYibWFwIj09PXRoaXMucGFpbnQuZ2V0KCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50Iik/eCo9YlszXS9hLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6Im1hcCI9PT10aGlzLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLXNjYWxlIikmJiJ2aWV3cG9ydCI9PT10aGlzLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLWFsaWdubWVudCIpJiYoeCo9YS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2JbM10pLFlhKGMsZyx4KSlyZXR1cm4gITB9cmV0dXJuICExfSxlfShFaSkpO2Z1bmN0aW9uIG1vKHQsZSl7dmFyIHI9Zm8oW10sW3QueCx0LnksMCwxXSxlKTtyZXR1cm4gbmV3IGkoclswXS9yWzNdLHJbMV0vclszXSl9dmFyIHZvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0oSmEpO2Z1bmN0aW9uIGdvKHQsZSxyLG4pe3ZhciBpPWUud2lkdGgsYT1lLmhlaWdodDtpZihuKXtpZihuIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpbj1uZXcgVWludDhBcnJheShuLmJ1ZmZlcik7ZWxzZSBpZihuLmxlbmd0aCE9PWkqYSpyKXRocm93IG5ldyBSYW5nZUVycm9yKCJtaXNtYXRjaGVkIGltYWdlIHNpemUiKX1lbHNlIG49bmV3IFVpbnQ4QXJyYXkoaSphKnIpO3JldHVybiB0LndpZHRoPWksdC5oZWlnaHQ9YSx0LmRhdGE9bix0fWZ1bmN0aW9uIHhvKHQsZSxyKXt2YXIgbj1lLndpZHRoLGk9ZS5oZWlnaHQ7aWYobiE9PXQud2lkdGh8fGkhPT10LmhlaWdodCl7dmFyIGE9Z28oe30se3dpZHRoOm4saGVpZ2h0Oml9LHIpO2JvKHQsYSx7eDowLHk6MH0se3g6MCx5OjB9LHt3aWR0aDpNYXRoLm1pbih0LndpZHRoLG4pLGhlaWdodDpNYXRoLm1pbih0LmhlaWdodCxpKX0sciksdC53aWR0aD1uLHQuaGVpZ2h0PWksdC5kYXRhPWEuZGF0YTt9fWZ1bmN0aW9uIGJvKHQsZSxyLG4saSxhKXtpZigwPT09aS53aWR0aHx8MD09PWkuaGVpZ2h0KXJldHVybiBlO2lmKGkud2lkdGg+dC53aWR0aHx8aS5oZWlnaHQ+dC5oZWlnaHR8fHIueD50LndpZHRoLWkud2lkdGh8fHIueT50LmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weSIpO2lmKGkud2lkdGg+ZS53aWR0aHx8aS5oZWlnaHQ+ZS5oZWlnaHR8fG4ueD5lLndpZHRoLWkud2lkdGh8fG4ueT5lLmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGRlc3RpbmF0aW9uIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5Iik7Zm9yKHZhciBvPXQuZGF0YSxzPWUuZGF0YSx1PTA7dTxpLmhlaWdodDt1KyspZm9yKHZhciBsPSgoci55K3UpKnQud2lkdGgrci54KSphLHA9KChuLnkrdSkqZS53aWR0aCtuLngpKmEsYz0wO2M8aS53aWR0aCphO2MrKylzW3ArY109b1tsK2NdO3JldHVybiBlfVhuKCJIZWF0bWFwQnVja2V0Iix2byx7b21pdDpbImxheWVycyJdfSk7dmFyIHdvPWZ1bmN0aW9uKHQsZSl7Z28odGhpcyx0LDEsZSk7fTt3by5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3hvKHRoaXMsdCwxKTt9LHdvLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgd28oe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX0sd28uY29weT1mdW5jdGlvbih0LGUscixuLGkpe2JvKHQsZSxyLG4saSwxKTt9O3ZhciBfbz1mdW5jdGlvbih0LGUpe2dvKHRoaXMsdCw0LGUpO307X28ucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXt4byh0aGlzLHQsNCk7fSxfby5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbih0LGUpe2U/dGhpcy5kYXRhLnNldCh0KTp0aGlzLmRhdGE9dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P25ldyBVaW50OEFycmF5KHQuYnVmZmVyKTp0O30sX28ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBfbyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfSxfby5jb3B5PWZ1bmN0aW9uKHQsZSxyLG4saSl7Ym8odCxlLHIsbixpLDQpO30sWG4oIkFscGhhSW1hZ2UiLHdvKSxYbigiUkdCQUltYWdlIixfbyk7dmFyIEFvPXtwYWludDpuZXcgVGkoeyJoZWF0bWFwLXJhZGl1cyI6bmV3IElpKEN0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtcmFkaXVzIl0pLCJoZWF0bWFwLXdlaWdodCI6bmV3IElpKEN0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtd2VpZ2h0Il0pLCJoZWF0bWFwLWludGVuc2l0eSI6bmV3IGtpKEN0LnBhaW50X2hlYXRtYXBbImhlYXRtYXAtaW50ZW5zaXR5Il0pLCJoZWF0bWFwLWNvbG9yIjpuZXcgTWkoQ3QucGFpbnRfaGVhdG1hcFsiaGVhdG1hcC1jb2xvciJdKSwiaGVhdG1hcC1vcGFjaXR5IjpuZXcga2koQ3QucGFpbnRfaGVhdG1hcFsiaGVhdG1hcC1vcGFjaXR5Il0pfSl9O2Z1bmN0aW9uIFNvKHQsZSl7Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KDEwMjQpLG49e30saT0wLGE9MDtpPDI1NjtpKyssYSs9NCl7bltlXT1pLzI1NTt2YXIgbz10LmV2YWx1YXRlKG4pO3JbYSswXT1NYXRoLmZsb29yKDI1NSpvLnIvby5hKSxyW2ErMV09TWF0aC5mbG9vcigyNTUqby5nL28uYSksclthKzJdPU1hdGguZmxvb3IoMjU1Km8uYi9vLmEpLHJbYSszXT1NYXRoLmZsb29yKDI1NSpvLmEpO31yZXR1cm4gbmV3IF9vKHt3aWR0aDoyNTYsaGVpZ2h0OjF9LHIpfXZhciBrbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsQW8pLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jcmVhdGVCdWNrZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2byh0KX0sZS5wcm90b3R5cGUuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlPWZ1bmN0aW9uKHQpeyJoZWF0bWFwLWNvbG9yIj09PXQmJnRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO30sZS5wcm90b3R5cGUuX3VwZGF0ZUNvbG9yUmFtcD1mdW5jdGlvbigpe3RoaXMuY29sb3JSYW1wPVNvKHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1siaGVhdG1hcC1jb2xvciJdLnZhbHVlLmV4cHJlc3Npb24sImhlYXRtYXBEZW5zaXR5IiksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGw7fSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmhlYXRtYXBGYm8mJih0aGlzLmhlYXRtYXBGYm8uZGVzdHJveSgpLHRoaXMuaGVhdG1hcEZibz1udWxsKTt9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KCJoZWF0bWFwLW9wYWNpdHkiKSYmIm5vbmUiIT09dGhpcy52aXNpYmlsaXR5fSxlfShFaSksSW89e3BhaW50Om5ldyBUaSh7ImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uIjpuZXcga2koQ3QucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvbiJdKSwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3IiOm5ldyBraShDdC5wYWludF9oaWxsc2hhZGVbImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yIl0pLCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIjpuZXcga2koQ3QucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIl0pLCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIjpuZXcga2koQ3QucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtc2hhZG93LWNvbG9yIl0pLCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIjpuZXcga2koQ3QucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIl0pLCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIjpuZXcga2koQ3QucGFpbnRfaGlsbHNoYWRlWyJoaWxsc2hhZGUtYWNjZW50LWNvbG9yIl0pfSl9LHpvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxJbyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uIikmJiJub25lIiE9PXRoaXMudmlzaWJpbGl0eX0sZX0oRWkpLENvPUZpKFt7bmFtZToiYV9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9XSw0KS5tZW1iZXJzLE1vPUVvLFRvPUVvO2Z1bmN0aW9uIEVvKHQsZSxyKXtyPXJ8fDI7dmFyIG4saSxhLG8scyx1LGwscD1lJiZlLmxlbmd0aCxjPXA/ZVswXSpyOnQubGVuZ3RoLGg9UG8odCwwLGMsciwhMCksZj1bXTtpZighaHx8aC5uZXh0PT09aC5wcmV2KXJldHVybiBmO2lmKHAmJihoPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpLGEsbyxzPVtdO2ZvcihpPTAsYT1lLmxlbmd0aDtpPGE7aSsrKShvPVBvKHQsZVtpXSpuLGk8YS0xP2VbaSsxXSpuOnQubGVuZ3RoLG4sITEpKT09PW8ubmV4dCYmKG8uc3RlaW5lcj0hMCkscy5wdXNoKE5vKG8pKTtmb3Iocy5zb3J0KE9vKSxpPTA7aTxzLmxlbmd0aDtpKyspVW8oc1tpXSxyKSxyPUJvKHIsci5uZXh0KTtyZXR1cm4gcn0odCxlLGgscikpLHQubGVuZ3RoPjgwKnIpe249YT10WzBdLGk9bz10WzFdO2Zvcih2YXIgeT1yO3k8Yzt5Kz1yKShzPXRbeV0pPG4mJihuPXMpLCh1PXRbeSsxXSk8aSYmKGk9dSkscz5hJiYoYT1zKSx1Pm8mJihvPXUpO2w9MCE9PShsPU1hdGgubWF4KGEtbixvLWkpKT8xL2w6MDt9cmV0dXJuIFZvKGgsZixyLG4saSxsKSxmfWZ1bmN0aW9uIFBvKHQsZSxyLG4saSl7dmFyIGEsbztpZihpPT09cnModCxlLHIsbik+MClmb3IoYT1lO2E8cjthKz1uKW89UW8oYSx0W2FdLHRbYSsxXSxvKTtlbHNlIGZvcihhPXItbjthPj1lO2EtPW4pbz1RbyhhLHRbYV0sdFthKzFdLG8pO3JldHVybiBvJiZYbyhvLG8ubmV4dCkmJih0cyhvKSxvPW8ubmV4dCksb31mdW5jdGlvbiBCbyh0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO3ZhciByLG49dDtkb3tpZihyPSExLG4uc3RlaW5lcnx8IVhvKG4sbi5uZXh0KSYmMCE9PVpvKG4ucHJldixuLG4ubmV4dCkpbj1uLm5leHQ7ZWxzZXtpZih0cyhuKSwobj1lPW4ucHJldik9PT1uLm5leHQpYnJlYWs7cj0hMDt9fXdoaWxlKHJ8fG4hPT1lKTtyZXR1cm4gZX1mdW5jdGlvbiBWbyh0LGUscixuLGksYSxvKXtpZih0KXshbyYmYSYmZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dDtkb3tudWxsPT09aS56JiYoaS56PXFvKGkueCxpLnksZSxyLG4pKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dDt9d2hpbGUoaSE9PXQpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsZnVuY3Rpb24odCl7dmFyIGUscixuLGksYSxvLHMsdSxsPTE7ZG97Zm9yKHI9dCx0PW51bGwsYT1udWxsLG89MDtyOyl7Zm9yKG8rKyxuPXIscz0wLGU9MDtlPGwmJihzKyssbj1uLm5leHRaKTtlKyspO2Zvcih1PWw7cz4wfHx1PjAmJm47KTAhPT1zJiYoMD09PXV8fCFufHxyLno8PW4ueik/KGk9cixyPXIubmV4dFoscy0tKTooaT1uLG49bi5uZXh0Wix1LS0pLGE/YS5uZXh0Wj1pOnQ9aSxpLnByZXZaPWEsYT1pO3I9bjt9YS5uZXh0Wj1udWxsLGwqPTI7fXdoaWxlKG8+MSl9KGkpO30odCxuLGksYSk7Zm9yKHZhciBzLHUsbD10O3QucHJldiE9PXQubmV4dDspaWYocz10LnByZXYsdT10Lm5leHQsYT9Ebyh0LG4saSxhKTpGbyh0KSllLnB1c2gocy5pL3IpLGUucHVzaCh0LmkvciksZS5wdXNoKHUuaS9yKSx0cyh0KSx0PXUubmV4dCxsPXUubmV4dDtlbHNlIGlmKCh0PXUpPT09bCl7bz8xPT09bz9Wbyh0PUxvKEJvKHQpLGUsciksZSxyLG4saSxhLDIpOjI9PT1vJiZSbyh0LGUscixuLGksYSk6Vm8oQm8odCksZSxyLG4saSxhLDEpO2JyZWFrfX19ZnVuY3Rpb24gRm8odCl7dmFyIGU9dC5wcmV2LHI9dCxuPXQubmV4dDtpZihabyhlLHIsbik+PTApcmV0dXJuICExO2Zvcih2YXIgaT10Lm5leHQubmV4dDtpIT09dC5wcmV2Oyl7aWYoS28oZS54LGUueSxyLngsci55LG4ueCxuLnksaS54LGkueSkmJlpvKGkucHJldixpLGkubmV4dCk+PTApcmV0dXJuICExO2k9aS5uZXh0O31yZXR1cm4gITB9ZnVuY3Rpb24gRG8odCxlLHIsbil7dmFyIGk9dC5wcmV2LGE9dCxvPXQubmV4dDtpZihabyhpLGEsbyk+PTApcmV0dXJuICExO2Zvcih2YXIgcz1pLng+YS54P2kueD5vLng/aS54Om8ueDphLng+by54P2EueDpvLngsdT1pLnk+YS55P2kueT5vLnk/aS55Om8ueTphLnk+by55P2EueTpvLnksbD1xbyhpLng8YS54P2kueDxvLng/aS54Om8ueDphLng8by54P2EueDpvLngsaS55PGEueT9pLnk8by55P2kueTpvLnk6YS55PG8ueT9hLnk6by55LGUscixuKSxwPXFvKHMsdSxlLHIsbiksYz10LnByZXZaLGg9dC5uZXh0WjtjJiZjLno+PWwmJmgmJmguejw9cDspe2lmKGMhPT10LnByZXYmJmMhPT10Lm5leHQmJktvKGkueCxpLnksYS54LGEueSxvLngsby55LGMueCxjLnkpJiZabyhjLnByZXYsYyxjLm5leHQpPj0wKXJldHVybiAhMTtpZihjPWMucHJldlosaCE9PXQucHJldiYmaCE9PXQubmV4dCYmS28oaS54LGkueSxhLngsYS55LG8ueCxvLnksaC54LGgueSkmJlpvKGgucHJldixoLGgubmV4dCk+PTApcmV0dXJuICExO2g9aC5uZXh0Wjt9Zm9yKDtjJiZjLno+PWw7KXtpZihjIT09dC5wcmV2JiZjIT09dC5uZXh0JiZLbyhpLngsaS55LGEueCxhLnksby54LG8ueSxjLngsYy55KSYmWm8oYy5wcmV2LGMsYy5uZXh0KT49MClyZXR1cm4gITE7Yz1jLnByZXZaO31mb3IoO2gmJmguejw9cDspe2lmKGghPT10LnByZXYmJmghPT10Lm5leHQmJktvKGkueCxpLnksYS54LGEueSxvLngsby55LGgueCxoLnkpJiZabyhoLnByZXYsaCxoLm5leHQpPj0wKXJldHVybiAhMTtoPWgubmV4dFo7fXJldHVybiAhMH1mdW5jdGlvbiBMbyh0LGUscil7dmFyIG49dDtkb3t2YXIgaT1uLnByZXYsYT1uLm5leHQubmV4dDshWG8oaSxhKSYmSm8oaSxuLG4ubmV4dCxhKSYmJG8oaSxhKSYmJG8oYSxpKSYmKGUucHVzaChpLmkvciksZS5wdXNoKG4uaS9yKSxlLnB1c2goYS5pL3IpLHRzKG4pLHRzKG4ubmV4dCksbj10PWEpLG49bi5uZXh0O313aGlsZShuIT09dCk7cmV0dXJuIEJvKG4pfWZ1bmN0aW9uIFJvKHQsZSxyLG4saSxhKXt2YXIgbz10O2Rve2Zvcih2YXIgcz1vLm5leHQubmV4dDtzIT09by5wcmV2Oyl7aWYoby5pIT09cy5pJiZHbyhvLHMpKXt2YXIgdT1XbyhvLHMpO3JldHVybiBvPUJvKG8sby5uZXh0KSx1PUJvKHUsdS5uZXh0KSxWbyhvLGUscixuLGksYSksdm9pZCBWbyh1LGUscixuLGksYSl9cz1zLm5leHQ7fW89by5uZXh0O313aGlsZShvIT09dCl9ZnVuY3Rpb24gT28odCxlKXtyZXR1cm4gdC54LWUueH1mdW5jdGlvbiBVbyh0LGUpe2lmKGU9ZnVuY3Rpb24odCxlKXt2YXIgcixuPWUsaT10LngsYT10Lnksbz0tMS8wO2Rve2lmKGE8PW4ueSYmYT49bi5uZXh0LnkmJm4ubmV4dC55IT09bi55KXt2YXIgcz1uLngrKGEtbi55KSoobi5uZXh0Lngtbi54KS8obi5uZXh0Lnktbi55KTtpZihzPD1pJiZzPm8pe2lmKG89cyxzPT09aSl7aWYoYT09PW4ueSlyZXR1cm4gbjtpZihhPT09bi5uZXh0LnkpcmV0dXJuIG4ubmV4dH1yPW4ueDxuLm5leHQueD9uOm4ubmV4dDt9fW49bi5uZXh0O313aGlsZShuIT09ZSk7aWYoIXIpcmV0dXJuIG51bGw7aWYoaT09PW8pcmV0dXJuIHI7dmFyIHUsbD1yLHA9ci54LGM9ci55LGg9MS8wO249cjtkb3tpPj1uLngmJm4ueD49cCYmaSE9PW4ueCYmS28oYTxjP2k6byxhLHAsYyxhPGM/bzppLGEsbi54LG4ueSkmJih1PU1hdGguYWJzKGEtbi55KS8oaS1uLngpLCRvKG4sdCkmJih1PGh8fHU9PT1oJiYobi54PnIueHx8bi54PT09ci54JiZqbyhyLG4pKSkmJihyPW4saD11KSksbj1uLm5leHQ7fXdoaWxlKG4hPT1sKTtyZXR1cm4gcn0odCxlKSl7dmFyIHI9V28oZSx0KTtCbyhlLGUubmV4dCksQm8ocixyLm5leHQpO319ZnVuY3Rpb24gam8odCxlKXtyZXR1cm4gWm8odC5wcmV2LHQsZS5wcmV2KTwwJiZabyhlLm5leHQsdCx0Lm5leHQpPDB9ZnVuY3Rpb24gcW8odCxlLHIsbixpKXtyZXR1cm4gKHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0zMjc2NyoodC1yKSppKXx0PDw4KSl8dDw8NCkpfHQ8PDIpKXx0PDwxKSl8KGU9MTQzMTY1NTc2NSYoKGU9ODU4OTkzNDU5JigoZT0yNTI2NDUxMzUmKChlPTE2NzExOTM1JigoZT0zMjc2NyooZS1uKSppKXxlPDw4KSl8ZTw8NCkpfGU8PDIpKXxlPDwxKSk8PDF9ZnVuY3Rpb24gTm8odCl7dmFyIGU9dCxyPXQ7ZG97KGUueDxyLnh8fGUueD09PXIueCYmZS55PHIueSkmJihyPWUpLGU9ZS5uZXh0O313aGlsZShlIT09dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gS28odCxlLHIsbixpLGEsbyxzKXtyZXR1cm4gKGktbykqKGUtcyktKHQtbykqKGEtcyk+PTAmJih0LW8pKihuLXMpLShyLW8pKihlLXMpPj0wJiYoci1vKSooYS1zKS0oaS1vKSoobi1zKT49MH1mdW5jdGlvbiBHbyh0LGUpe3JldHVybiB0Lm5leHQuaSE9PWUuaSYmdC5wcmV2LmkhPT1lLmkmJiFmdW5jdGlvbih0LGUpe3ZhciByPXQ7ZG97aWYoci5pIT09dC5pJiZyLm5leHQuaSE9PXQuaSYmci5pIT09ZS5pJiZyLm5leHQuaSE9PWUuaSYmSm8ocixyLm5leHQsdCxlKSlyZXR1cm4gITA7cj1yLm5leHQ7fXdoaWxlKHIhPT10KTtyZXR1cm4gITF9KHQsZSkmJigkbyh0LGUpJiYkbyhlLHQpJiZmdW5jdGlvbih0LGUpe3ZhciByPXQsbj0hMSxpPSh0LngrZS54KS8yLGE9KHQueStlLnkpLzI7ZG97ci55PmEhPXIubmV4dC55PmEmJnIubmV4dC55IT09ci55JiZpPChyLm5leHQueC1yLngpKihhLXIueSkvKHIubmV4dC55LXIueSkrci54JiYobj0hbikscj1yLm5leHQ7fXdoaWxlKHIhPT10KTtyZXR1cm4gbn0odCxlKSYmKFpvKHQucHJldix0LGUucHJldil8fFpvKHQsZS5wcmV2LGUpKXx8WG8odCxlKSYmWm8odC5wcmV2LHQsdC5uZXh0KT4wJiZabyhlLnByZXYsZSxlLm5leHQpPjApfWZ1bmN0aW9uIFpvKHQsZSxyKXtyZXR1cm4gKGUueS10LnkpKihyLngtZS54KS0oZS54LXQueCkqKHIueS1lLnkpfWZ1bmN0aW9uIFhvKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55fWZ1bmN0aW9uIEpvKHQsZSxyLG4pe3ZhciBpPVlvKFpvKHQsZSxyKSksYT1Zbyhabyh0LGUsbikpLG89WW8oWm8ocixuLHQpKSxzPVlvKFpvKHIsbixlKSk7cmV0dXJuIGkhPT1hJiZvIT09c3x8ISgwIT09aXx8IUhvKHQscixlKSl8fCEoMCE9PWF8fCFIbyh0LG4sZSkpfHwhKDAhPT1vfHwhSG8ocix0LG4pKXx8ISgwIT09c3x8IUhvKHIsZSxuKSl9ZnVuY3Rpb24gSG8odCxlLHIpe3JldHVybiBlLng8PU1hdGgubWF4KHQueCxyLngpJiZlLng+PU1hdGgubWluKHQueCxyLngpJiZlLnk8PU1hdGgubWF4KHQueSxyLnkpJiZlLnk+PU1hdGgubWluKHQueSxyLnkpfWZ1bmN0aW9uIFlvKHQpe3JldHVybiB0PjA/MTp0PDA/LTE6MH1mdW5jdGlvbiAkbyh0LGUpe3JldHVybiBabyh0LnByZXYsdCx0Lm5leHQpPDA/Wm8odCxlLHQubmV4dCk+PTAmJlpvKHQsdC5wcmV2LGUpPj0wOlpvKHQsZSx0LnByZXYpPDB8fFpvKHQsdC5uZXh0LGUpPDB9ZnVuY3Rpb24gV28odCxlKXt2YXIgcj1uZXcgZXModC5pLHQueCx0LnkpLG49bmV3IGVzKGUuaSxlLngsZS55KSxpPXQubmV4dCxhPWUucHJldjtyZXR1cm4gdC5uZXh0PWUsZS5wcmV2PXQsci5uZXh0PWksaS5wcmV2PXIsbi5uZXh0PXIsci5wcmV2PW4sYS5uZXh0PW4sbi5wcmV2PWEsbn1mdW5jdGlvbiBRbyh0LGUscixuKXt2YXIgaT1uZXcgZXModCxlLHIpO3JldHVybiBuPyhpLm5leHQ9bi5uZXh0LGkucHJldj1uLG4ubmV4dC5wcmV2PWksbi5uZXh0PWkpOihpLnByZXY9aSxpLm5leHQ9aSksaX1mdW5jdGlvbiB0cyh0KXt0Lm5leHQucHJldj10LnByZXYsdC5wcmV2Lm5leHQ9dC5uZXh0LHQucHJldlomJih0LnByZXZaLm5leHRaPXQubmV4dFopLHQubmV4dFomJih0Lm5leHRaLnByZXZaPXQucHJldlopO31mdW5jdGlvbiBlcyh0LGUscil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PXIsdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITE7fWZ1bmN0aW9uIHJzKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9ZSxvPXItbjthPHI7YSs9bilpKz0odFtvXS10W2FdKSoodFthKzFdK3RbbysxXSksbz1hO3JldHVybiBpfWZ1bmN0aW9uIG5zKHQsZSxyLG4saSl7IWZ1bmN0aW9uIHQoZSxyLG4saSxhKXtmb3IoO2k+bjspe2lmKGktbj42MDApe3ZhciBvPWktbisxLHM9ci1uKzEsdT1NYXRoLmxvZyhvKSxsPS41Kk1hdGguZXhwKDIqdS8zKSxwPS41Kk1hdGguc3FydCh1KmwqKG8tbCkvbykqKHMtby8yPDA/LTE6MSk7dChlLHIsTWF0aC5tYXgobixNYXRoLmZsb29yKHItcypsL28rcCkpLE1hdGgubWluKGksTWF0aC5mbG9vcihyKyhvLXMpKmwvbytwKSksYSk7fXZhciBjPWVbcl0saD1uLGY9aTtmb3IoaXMoZSxuLHIpLGEoZVtpXSxjKT4wJiZpcyhlLG4saSk7aDxmOyl7Zm9yKGlzKGUsaCxmKSxoKyssZi0tO2EoZVtoXSxjKTwwOyloKys7Zm9yKDthKGVbZl0sYyk+MDspZi0tO30wPT09YShlW25dLGMpP2lzKGUsbixmKTppcyhlLCsrZixpKSxmPD1yJiYobj1mKzEpLHI8PWYmJihpPWYtMSk7fX0odCxlLHJ8fDAsbnx8dC5sZW5ndGgtMSxpfHxhcyk7fWZ1bmN0aW9uIGlzKHQsZSxyKXt2YXIgbj10W2VdO3RbZV09dFtyXSx0W3JdPW47fWZ1bmN0aW9uIGFzKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIG9zKHQsZSl7dmFyIHI9dC5sZW5ndGg7aWYocjw9MSlyZXR1cm4gW3RdO2Zvcih2YXIgbixpLGE9W10sbz0wO288cjtvKyspe3ZhciBzPUEodFtvXSk7MCE9PXMmJih0W29dLmFyZWE9TWF0aC5hYnMocyksdm9pZCAwPT09aSYmKGk9czwwKSxpPT09czwwPyhuJiZhLnB1c2gobiksbj1bdFtvXV0pOm4ucHVzaCh0W29dKSk7fWlmKG4mJmEucHVzaChuKSxlPjEpZm9yKHZhciB1PTA7dTxhLmxlbmd0aDt1KyspYVt1XS5sZW5ndGg8PWV8fChucyhhW3VdLGUsMSxhW3VdLmxlbmd0aC0xLHNzKSxhW3VdPWFbdV0uc2xpY2UoMCxlKSk7cmV0dXJuIGF9ZnVuY3Rpb24gc3ModCxlKXtyZXR1cm4gZS5hcmVhLXQuYXJlYX1mdW5jdGlvbiB1cyh0LGUscil7Zm9yKHZhciBuPXIucGF0dGVybkRlcGVuZGVuY2llcyxpPSExLGE9MCxvPWU7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdLnBhaW50LmdldCh0KyItcGF0dGVybiIpO3MuaXNDb25zdGFudCgpfHwoaT0hMCk7dmFyIHU9cy5jb25zdGFudE9yKG51bGwpO3UmJihpPSEwLG5bdS50b109ITAsblt1LmZyb21dPSEwKTt9cmV0dXJuIGl9ZnVuY3Rpb24gbHModCxlLHIsbixpKXtmb3IodmFyIGE9aS5wYXR0ZXJuRGVwZW5kZW5jaWVzLG89MCxzPWU7bzxzLmxlbmd0aDtvKz0xKXt2YXIgdT1zW29dLGw9dS5wYWludC5nZXQodCsiLXBhdHRlcm4iKS52YWx1ZTtpZigiY29uc3RhbnQiIT09bC5raW5kKXt2YXIgcD1sLmV2YWx1YXRlKHt6b29tOm4tMX0scix7fSxpLmF2YWlsYWJsZUltYWdlcyksYz1sLmV2YWx1YXRlKHt6b29tOm59LHIse30saS5hdmFpbGFibGVJbWFnZXMpLGg9bC5ldmFsdWF0ZSh7em9vbTpuKzF9LHIse30saS5hdmFpbGFibGVJbWFnZXMpO2M9YyYmYy5uYW1lP2MubmFtZTpjLGg9aCYmaC5uYW1lP2gubmFtZTpoLGFbcD1wJiZwLm5hbWU/cC5uYW1lOnBdPSEwLGFbY109ITAsYVtoXT0hMCxyLnBhdHRlcm5zW3UuaWRdPXttaW46cCxtaWQ6YyxtYXg6aH07fX1yZXR1cm4gcn1Fby5kZXZpYXRpb249ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9ZSYmZS5sZW5ndGgsYT1NYXRoLmFicyhycyh0LDAsaT9lWzBdKnI6dC5sZW5ndGgscikpO2lmKGkpZm9yKHZhciBvPTAscz1lLmxlbmd0aDtvPHM7bysrKWEtPU1hdGguYWJzKHJzKHQsZVtvXSpyLG88cy0xP2VbbysxXSpyOnQubGVuZ3RoLHIpKTt2YXIgdT0wO2ZvcihvPTA7bzxuLmxlbmd0aDtvKz0zKXt2YXIgbD1uW29dKnIscD1uW28rMV0qcixjPW5bbysyXSpyO3UrPU1hdGguYWJzKCh0W2xdLXRbY10pKih0W3ArMV0tdFtsKzFdKS0odFtsXS10W3BdKSoodFtjKzFdLXRbbCsxXSkpO31yZXR1cm4gMD09PWEmJjA9PT11PzA6TWF0aC5hYnMoKHUtYSkvYSl9LEVvLmZsYXR0ZW49ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF1bMF0ubGVuZ3RoLHI9e3ZlcnRpY2VzOltdLGhvbGVzOltdLGRpbWVuc2lvbnM6ZX0sbj0wLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBhPTA7YTx0W2ldLmxlbmd0aDthKyspZm9yKHZhciBvPTA7bzxlO28rKylyLnZlcnRpY2VzLnB1c2godFtpXVthXVtvXSk7aT4wJiZyLmhvbGVzLnB1c2gobis9dFtpLTFdLmxlbmd0aCk7fXJldHVybiByfSxNby5kZWZhdWx0PVRvO3ZhciBwcz1mdW5jdGlvbih0KXt0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnBhdHRlcm5GZWF0dXJlcz1bXSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBMaSx0aGlzLmluZGV4QXJyYXk9bmV3IFFpLHRoaXMuaW5kZXhBcnJheTI9bmV3IHRhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBxYShDbyx0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IGRhLHRoaXMuc2VnbWVudHMyPW5ldyBkYSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1N0YXRlRGVwZW5kZW50KCl9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKTt9O3BzLnByb3RvdHlwZS5wb3B1bGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5oYXNQYXR0ZXJuPXVzKCJmaWxsIix0aGlzLmxheWVycyxlKTtmb3IodmFyIG49dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldCgiZmlsbC1zb3J0LWtleSIpLGk9W10sYT0wLG89dDthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV0sdT1zLmZlYXR1cmUsbD1zLmlkLHA9cy5pbmRleCxjPXMuc291cmNlTGF5ZXJJbmRleCxoPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxmPXt0eXBlOnUudHlwZSxpZDpsLHByb3BlcnRpZXM6dS5wcm9wZXJ0aWVzLGdlb21ldHJ5Omg/WmEodSk6W119O2lmKHRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgbWkodGhpcy56b29tKSxmLHIpKXtofHwoZi5nZW9tZXRyeT1aYSh1KSk7dmFyIHk9bj9uLmV2YWx1YXRlKGYse30scixlLmF2YWlsYWJsZUltYWdlcyk6dm9pZCAwO2kucHVzaCh7aWQ6bCxwcm9wZXJ0aWVzOnUucHJvcGVydGllcyx0eXBlOnUudHlwZSxzb3VyY2VMYXllckluZGV4OmMsaW5kZXg6cCxnZW9tZXRyeTpmLmdlb21ldHJ5LHBhdHRlcm5zOnt9LHNvcnRLZXk6eX0pO319biYmaS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNvcnRLZXktZS5zb3J0S2V5fSkpO2Zvcih2YXIgZD0wLG09aTtkPG0ubGVuZ3RoO2QrPTEpe3ZhciB2PW1bZF0sZz12Lmdlb21ldHJ5LHg9di5pbmRleCxiPXYuc291cmNlTGF5ZXJJbmRleDtpZih0aGlzLmhhc1BhdHRlcm4pe3ZhciB3PWxzKCJmaWxsIix0aGlzLmxheWVycyx2LHRoaXMuem9vbSxlKTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKHcpO31lbHNlIHRoaXMuYWRkRmVhdHVyZSh2LGcseCxyLHt9KTtlLmZlYXR1cmVJbmRleC5pbnNlcnQodFt4XS5mZWF0dXJlLGcseCxiLHRoaXMuaW5kZXgpO319LHBzLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyKTt9LHBzLnByb3RvdHlwZS5hZGRGZWF0dXJlcz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuPTAsaT10aGlzLnBhdHRlcm5GZWF0dXJlcztuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07dGhpcy5hZGRGZWF0dXJlKGEsYS5nZW9tZXRyeSxhLmluZGV4LGUscik7fX0scHMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofSxwcy5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LHBzLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksQ28pLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuaW5kZXhCdWZmZXIyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5MikpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSx0aGlzLnVwbG9hZGVkPSEwO30scHMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyMi5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMyLmRlc3Ryb3koKSk7fSxwcy5wcm90b3R5cGUuYWRkRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGkpe2Zvcih2YXIgYT0wLG89b3MoZSw1MDApO2E8by5sZW5ndGg7YSs9MSl7Zm9yKHZhciBzPW9bYV0sdT0wLGw9MCxwPXM7bDxwLmxlbmd0aDtsKz0xKXUrPXBbbF0ubGVuZ3RoO2Zvcih2YXIgYz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KHUsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpLGg9Yy52ZXJ0ZXhMZW5ndGgsZj1bXSx5PVtdLGQ9MCxtPXM7ZDxtLmxlbmd0aDtkKz0xKXt2YXIgdj1tW2RdO2lmKDAhPT12Lmxlbmd0aCl7diE9PXNbMF0mJnkucHVzaChmLmxlbmd0aC8yKTt2YXIgZz10aGlzLnNlZ21lbnRzMi5wcmVwYXJlU2VnbWVudCh2Lmxlbmd0aCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheTIpLHg9Zy52ZXJ0ZXhMZW5ndGg7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh2WzBdLngsdlswXS55KSx0aGlzLmluZGV4QXJyYXkyLmVtcGxhY2VCYWNrKHgrdi5sZW5ndGgtMSx4KSxmLnB1c2godlswXS54KSxmLnB1c2godlswXS55KTtmb3IodmFyIGI9MTtiPHYubGVuZ3RoO2IrKyl0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHZbYl0ueCx2W2JdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2soeCtiLTEseCtiKSxmLnB1c2godltiXS54KSxmLnB1c2godltiXS55KTtnLnZlcnRleExlbmd0aCs9di5sZW5ndGgsZy5wcmltaXRpdmVMZW5ndGgrPXYubGVuZ3RoO319Zm9yKHZhciB3PU1vKGYseSksXz0wO188dy5sZW5ndGg7Xys9Myl0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaCt3W19dLGgrd1tfKzFdLGgrd1tfKzJdKTtjLnZlcnRleExlbmd0aCs9dSxjLnByaW1pdGl2ZUxlbmd0aCs9dy5sZW5ndGgvMzt9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIsaSxuKTt9LFhuKCJGaWxsQnVja2V0Iixwcyx7b21pdDpbImxheWVycyIsInBhdHRlcm5GZWF0dXJlcyJdfSk7dmFyIGNzPW5ldyBUaSh7ImZpbGwtc29ydC1rZXkiOm5ldyBJaShDdC5sYXlvdXRfZmlsbFsiZmlsbC1zb3J0LWtleSJdKX0pLGhzPXtwYWludDpuZXcgVGkoeyJmaWxsLWFudGlhbGlhcyI6bmV3IGtpKEN0LnBhaW50X2ZpbGxbImZpbGwtYW50aWFsaWFzIl0pLCJmaWxsLW9wYWNpdHkiOm5ldyBJaShDdC5wYWludF9maWxsWyJmaWxsLW9wYWNpdHkiXSksImZpbGwtY29sb3IiOm5ldyBJaShDdC5wYWludF9maWxsWyJmaWxsLWNvbG9yIl0pLCJmaWxsLW91dGxpbmUtY29sb3IiOm5ldyBJaShDdC5wYWludF9maWxsWyJmaWxsLW91dGxpbmUtY29sb3IiXSksImZpbGwtdHJhbnNsYXRlIjpuZXcga2koQ3QucGFpbnRfZmlsbFsiZmlsbC10cmFuc2xhdGUiXSksImZpbGwtdHJhbnNsYXRlLWFuY2hvciI6bmV3IGtpKEN0LnBhaW50X2ZpbGxbImZpbGwtdHJhbnNsYXRlLWFuY2hvciJdKSwiZmlsbC1wYXR0ZXJuIjpuZXcgemkoQ3QucGFpbnRfZmlsbFsiZmlsbC1wYXR0ZXJuIl0pfSksbGF5b3V0OmNzfSxmcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUsaHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZT1mdW5jdGlvbihlLHIpe3QucHJvdG90eXBlLnJlY2FsY3VsYXRlLmNhbGwodGhpcyxlLHIpO3ZhciBuPXRoaXMucGFpbnQuX3ZhbHVlc1siZmlsbC1vdXRsaW5lLWNvbG9yIl07ImNvbnN0YW50Ij09PW4udmFsdWUua2luZCYmdm9pZCAwPT09bi52YWx1ZS52YWx1ZSYmKHRoaXMucGFpbnQuX3ZhbHVlc1siZmlsbC1vdXRsaW5lLWNvbG9yIl09dGhpcy5wYWludC5fdmFsdWVzWyJmaWxsLWNvbG9yIl0pO30sZS5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcHModCl9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHNvKHRoaXMucGFpbnQuZ2V0KCJmaWxsLXRyYW5zbGF0ZSIpKX0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGksYSxvKXtyZXR1cm4gJGEodW8odCx0aGlzLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUiKSx0aGlzLnBhaW50LmdldCgiZmlsbC10cmFuc2xhdGUtYW5jaG9yIiksYS5hbmdsZSxvKSxuKX0sZS5wcm90b3R5cGUuaXNUaWxlQ2xpcHBlZD1mdW5jdGlvbigpe3JldHVybiAhMH0sZX0oRWkpLHlzPUZpKFt7bmFtZToiYV9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9LHtuYW1lOiJhX25vcm1hbF9lZCIsY29tcG9uZW50czo0LHR5cGU6IkludDE2In1dLDQpLm1lbWJlcnMsZHM9bXM7ZnVuY3Rpb24gbXModCxlLHIsbixpKXt0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5leHRlbnQ9cix0aGlzLnR5cGU9MCx0aGlzLl9wYmY9dCx0aGlzLl9nZW9tZXRyeT0tMSx0aGlzLl9rZXlzPW4sdGhpcy5fdmFsdWVzPWksdC5yZWFkRmllbGRzKHZzLHRoaXMsZSk7fWZ1bmN0aW9uIHZzKHQsZSxyKXsxPT10P2UuaWQ9ci5yZWFkVmFyaW50KCk6Mj09dD9mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10LnJlYWRWYXJpbnQoKSt0LnBvczt0LnBvczxyOyl7dmFyIG49ZS5fa2V5c1t0LnJlYWRWYXJpbnQoKV0saT1lLl92YWx1ZXNbdC5yZWFkVmFyaW50KCldO2UucHJvcGVydGllc1tuXT1pO319KHIsZSk6Mz09dD9lLnR5cGU9ci5yZWFkVmFyaW50KCk6ND09dCYmKGUuX2dlb21ldHJ5PXIucG9zKTt9ZnVuY3Rpb24gZ3ModCl7Zm9yKHZhciBlLHIsbj0wLGk9MCxhPXQubGVuZ3RoLG89YS0xO2k8YTtvPWkrKyluKz0oKHI9dFtvXSkueC0oZT10W2ldKS54KSooZS55K3IueSk7cmV0dXJuIG59bXMudHlwZXM9WyJVbmtub3duIiwiUG9pbnQiLCJMaW5lU3RyaW5nIiwiUG9seWdvbiJdLG1zLnByb3RvdHlwZS5sb2FkR2VvbWV0cnk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYmY7dC5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciBlLHI9dC5yZWFkVmFyaW50KCkrdC5wb3Msbj0xLGE9MCxvPTAscz0wLHU9W107dC5wb3M8cjspe2lmKGE8PTApe3ZhciBsPXQucmVhZFZhcmludCgpO249NyZsLGE9bD4+Mzt9aWYoYS0tLDE9PT1ufHwyPT09bilvKz10LnJlYWRTVmFyaW50KCkscys9dC5yZWFkU1ZhcmludCgpLDE9PT1uJiYoZSYmdS5wdXNoKGUpLGU9W10pLGUucHVzaChuZXcgaShvLHMpKTtlbHNle2lmKDchPT1uKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIrbik7ZSYmZS5wdXNoKGVbMF0uY2xvbmUoKSk7fX1yZXR1cm4gZSYmdS5wdXNoKGUpLHV9LG1zLnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZT10LnJlYWRWYXJpbnQoKSt0LnBvcyxyPTEsbj0wLGk9MCxhPTAsbz0xLzAscz0tMS8wLHU9MS8wLGw9LTEvMDt0LnBvczxlOyl7aWYobjw9MCl7dmFyIHA9dC5yZWFkVmFyaW50KCk7cj03JnAsbj1wPj4zO31pZihuLS0sMT09PXJ8fDI9PT1yKShpKz10LnJlYWRTVmFyaW50KCkpPG8mJihvPWkpLGk+cyYmKHM9aSksKGErPXQucmVhZFNWYXJpbnQoKSk8dSYmKHU9YSksYT5sJiYobD1hKTtlbHNlIGlmKDchPT1yKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjb21tYW5kICIrcil9cmV0dXJuIFtvLHUscyxsXX0sbXMucHJvdG90eXBlLnRvR2VvSlNPTj1mdW5jdGlvbih0LGUscil7dmFyIG4saSxhPXRoaXMuZXh0ZW50Kk1hdGgucG93KDIsciksbz10aGlzLmV4dGVudCp0LHM9dGhpcy5leHRlbnQqZSx1PXRoaXMubG9hZEdlb21ldHJ5KCksbD1tcy50eXBlc1t0aGlzLnR5cGVdO2Z1bmN0aW9uIHAodCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07dFtlXT1bMzYwKihyLngrbykvYS0xODAsMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKihyLnkrcykvYSkqTWF0aC5QSS8xODApKS05MF07fX1zd2l0Y2godGhpcy50eXBlKXtjYXNlIDE6dmFyIGM9W107Zm9yKG49MDtuPHUubGVuZ3RoO24rKyljW25dPXVbbl1bMF07cCh1PWMpO2JyZWFrO2Nhc2UgMjpmb3Iobj0wO248dS5sZW5ndGg7bisrKXAodVtuXSk7YnJlYWs7Y2FzZSAzOmZvcih1PWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGU8PTEpcmV0dXJuIFt0XTtmb3IodmFyIHIsbixpPVtdLGE9MDthPGU7YSsrKXt2YXIgbz1ncyh0W2FdKTswIT09byYmKHZvaWQgMD09PW4mJihuPW88MCksbj09PW88MD8ociYmaS5wdXNoKHIpLHI9W3RbYV1dKTpyLnB1c2godFthXSkpO31yZXR1cm4gciYmaS5wdXNoKHIpLGl9KHUpLG49MDtuPHUubGVuZ3RoO24rKylmb3IoaT0wO2k8dVtuXS5sZW5ndGg7aSsrKXAodVtuXVtpXSk7fTE9PT11Lmxlbmd0aD91PXVbMF06bD0iTXVsdGkiK2w7dmFyIGg9e3R5cGU6IkZlYXR1cmUiLGdlb21ldHJ5Ont0eXBlOmwsY29vcmRpbmF0ZXM6dX0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVybiAiaWQiaW4gdGhpcyYmKGguaWQ9dGhpcy5pZCksaH07dmFyIHhzPWJzO2Z1bmN0aW9uIGJzKHQsZSl7dGhpcy52ZXJzaW9uPTEsdGhpcy5uYW1lPW51bGwsdGhpcy5leHRlbnQ9NDA5Nix0aGlzLmxlbmd0aD0wLHRoaXMuX3BiZj10LHRoaXMuX2tleXM9W10sdGhpcy5fdmFsdWVzPVtdLHRoaXMuX2ZlYXR1cmVzPVtdLHQucmVhZEZpZWxkcyh3cyx0aGlzLGUpLHRoaXMubGVuZ3RoPXRoaXMuX2ZlYXR1cmVzLmxlbmd0aDt9ZnVuY3Rpb24gd3ModCxlLHIpezE1PT09dD9lLnZlcnNpb249ci5yZWFkVmFyaW50KCk6MT09PXQ/ZS5uYW1lPXIucmVhZFN0cmluZygpOjU9PT10P2UuZXh0ZW50PXIucmVhZFZhcmludCgpOjI9PT10P2UuX2ZlYXR1cmVzLnB1c2goci5wb3MpOjM9PT10P2UuX2tleXMucHVzaChyLnJlYWRTdHJpbmcoKSk6ND09PXQmJmUuX3ZhbHVlcy5wdXNoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLHI9dC5yZWFkVmFyaW50KCkrdC5wb3M7dC5wb3M8cjspe3ZhciBuPXQucmVhZFZhcmludCgpPj4zO2U9MT09PW4/dC5yZWFkU3RyaW5nKCk6Mj09PW4/dC5yZWFkRmxvYXQoKTozPT09bj90LnJlYWREb3VibGUoKTo0PT09bj90LnJlYWRWYXJpbnQ2NCgpOjU9PT1uP3QucmVhZFZhcmludCgpOjY9PT1uP3QucmVhZFNWYXJpbnQoKTo3PT09bj90LnJlYWRCb29sZWFuKCk6bnVsbDt9cmV0dXJuIGV9KHIpKTt9ZnVuY3Rpb24gX3ModCxlLHIpe2lmKDM9PT10KXt2YXIgbj1uZXcgeHMocixyLnJlYWRWYXJpbnQoKStyLnBvcyk7bi5sZW5ndGgmJihlW24ubmFtZV09bik7fX1icy5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbih0KXtpZih0PDB8fHQ+PXRoaXMuX2ZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kcyIpO3RoaXMuX3BiZi5wb3M9dGhpcy5fZmVhdHVyZXNbdF07dmFyIGU9dGhpcy5fcGJmLnJlYWRWYXJpbnQoKSt0aGlzLl9wYmYucG9zO3JldHVybiBuZXcgZHModGhpcy5fcGJmLGUsdGhpcy5leHRlbnQsdGhpcy5fa2V5cyx0aGlzLl92YWx1ZXMpfTt2YXIgQXM9e1ZlY3RvclRpbGU6ZnVuY3Rpb24odCxlKXt0aGlzLmxheWVycz10LnJlYWRGaWVsZHMoX3Mse30sZSk7fSxWZWN0b3JUaWxlRmVhdHVyZTpkcyxWZWN0b3JUaWxlTGF5ZXI6eHN9LFNzPUFzLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLGtzPU1hdGgucG93KDIsMTMpO2Z1bmN0aW9uIElzKHQsZSxyLG4saSxhLG8scyl7dC5lbXBsYWNlQmFjayhlLHIsMipNYXRoLmZsb29yKG4qa3MpK28saSprcyoyLGEqa3MqMixNYXRoLnJvdW5kKHMpKTt9dmFyIHpzPWZ1bmN0aW9uKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IE9pLHRoaXMuaW5kZXhBcnJheT1uZXcgUWksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IHFhKHlzLHQubGF5ZXJzLHQuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgZGEsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7fTtmdW5jdGlvbiBDcyh0LGUpe3JldHVybiB0Lng9PT1lLngmJih0Lng8MHx8dC54PnplKXx8dC55PT09ZS55JiYodC55PDB8fHQueT56ZSl9enMucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaGFzUGF0dGVybj11cygiZmlsbC1leHRydXNpb24iLHRoaXMubGF5ZXJzLGUpO2Zvcih2YXIgbj0wLGk9dDtuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl0sbz1hLmZlYXR1cmUscz1hLmlkLHU9YS5pbmRleCxsPWEuc291cmNlTGF5ZXJJbmRleCxwPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPXt0eXBlOm8udHlwZSxpZDpzLHByb3BlcnRpZXM6by5wcm9wZXJ0aWVzLGdlb21ldHJ5OnA/WmEobyk6W119O2lmKHRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgbWkodGhpcy56b29tKSxjLHIpKXt2YXIgaD17aWQ6cyxzb3VyY2VMYXllckluZGV4OmwsaW5kZXg6dSxnZW9tZXRyeTpwP2MuZ2VvbWV0cnk6WmEobykscHJvcGVydGllczpvLnByb3BlcnRpZXMsdHlwZTpvLnR5cGUscGF0dGVybnM6e319O3ZvaWQgMCE9PW8uaWQmJihoLmlkPW8uaWQpLHRoaXMuaGFzUGF0dGVybj90aGlzLmZlYXR1cmVzLnB1c2gobHMoImZpbGwtZXh0cnVzaW9uIix0aGlzLmxheWVycyxoLHRoaXMuem9vbSxlKSk6dGhpcy5hZGRGZWF0dXJlKGgsaC5nZW9tZXRyeSx1LHIse30pLGUuZmVhdHVyZUluZGV4Lmluc2VydChvLGguZ2VvbWV0cnksdSxsLHRoaXMuaW5kZXgsITApO319fSx6cy5wcm90b3R5cGUuYWRkRmVhdHVyZXM9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj0wLGk9dGhpcy5mZWF0dXJlcztuPGkubGVuZ3RoO24rPTEpe3ZhciBhPWlbbl07dGhpcy5hZGRGZWF0dXJlKGEsYS5nZW9tZXRyeSxhLmluZGV4LGUscik7fX0senMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIpO30senMucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofSx6cy5wcm90b3R5cGUudXBsb2FkUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LHpzLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXkseXMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9LHpzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9LHpzLnByb3RvdHlwZS5hZGRGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSl7Zm9yKHZhciBhPTAsbz1vcyhlLDUwMCk7YTxvLmxlbmd0aDthKz0xKXtmb3IodmFyIHM9b1thXSx1PTAsbD0wLHA9cztsPHAubGVuZ3RoO2wrPTEpdSs9cFtsXS5sZW5ndGg7Zm9yKHZhciBjPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksaD0wLGY9cztoPGYubGVuZ3RoO2grPTEpe3ZhciB5PWZbaF07aWYoMCE9PXkubGVuZ3RoJiYhKChQPXkpLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gdC54PDB9KSl8fFAuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lng+emV9KSl8fFAuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lnk8MH0pKXx8UC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHQueT56ZX0pKSkpZm9yKHZhciBkPTAsbT0wO208eS5sZW5ndGg7bSsrKXt2YXIgdj15W21dO2lmKG0+PTEpe3ZhciBnPXlbbS0xXTtpZighQ3ModixnKSl7Yy52ZXJ0ZXhMZW5ndGgrND5kYS5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSCYmKGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSk7dmFyIHg9di5zdWIoZykuX3BlcnAoKS5fdW5pdCgpLGI9Zy5kaXN0KHYpO2QrYj4zMjc2OCYmKGQ9MCksSXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx2Lngsdi55LHgueCx4LnksMCwwLGQpLElzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksdi54LHYueSx4LngseC55LDAsMSxkKSxJcyh0aGlzLmxheW91dFZlcnRleEFycmF5LGcueCxnLnkseC54LHgueSwwLDAsZCs9YiksSXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxnLngsZy55LHgueCx4LnksMCwxLGQpO3ZhciB3PWMudmVydGV4TGVuZ3RoO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayh3LHcrMix3KzEpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayh3KzEsdysyLHcrMyksYy52ZXJ0ZXhMZW5ndGgrPTQsYy5wcmltaXRpdmVMZW5ndGgrPTI7fX19fWlmKGMudmVydGV4TGVuZ3RoK3U+ZGEuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJihjPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQodSx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSkpLCJQb2x5Z29uIj09PVNzW3QudHlwZV0pe2Zvcih2YXIgXz1bXSxBPVtdLFM9Yy52ZXJ0ZXhMZW5ndGgsaz0wLEk9cztrPEkubGVuZ3RoO2srPTEpe3ZhciB6PUlba107aWYoMCE9PXoubGVuZ3RoKXt6IT09c1swXSYmQS5wdXNoKF8ubGVuZ3RoLzIpO2Zvcih2YXIgQz0wO0M8ei5sZW5ndGg7QysrKXt2YXIgTT16W0NdO0lzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksTS54LE0ueSwwLDAsMSwxLDApLF8ucHVzaChNLngpLF8ucHVzaChNLnkpO319fWZvcih2YXIgVD1NbyhfLEEpLEU9MDtFPFQubGVuZ3RoO0UrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrVFtFXSxTK1RbRSsyXSxTK1RbRSsxXSk7Yy5wcmltaXRpdmVMZW5ndGgrPVQubGVuZ3RoLzMsYy52ZXJ0ZXhMZW5ndGgrPXU7fX12YXIgUDt0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLHQscixpLG4pO30sWG4oIkZpbGxFeHRydXNpb25CdWNrZXQiLHpzLHtvbWl0OlsibGF5ZXJzIiwiZmVhdHVyZXMiXX0pO3ZhciBNcz17cGFpbnQ6bmV3IFRpKHsiZmlsbC1leHRydXNpb24tb3BhY2l0eSI6bmV3IGtpKEN0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5Il0pLCJmaWxsLWV4dHJ1c2lvbi1jb2xvciI6bmV3IElpKEN0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi1jb2xvciJdKSwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlIjpuZXcga2koQ3RbInBhaW50X2ZpbGwtZXh0cnVzaW9uIl1bImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZSJdKSwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvciI6bmV3IGtpKEN0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yIl0pLCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuIjpuZXcgemkoQ3RbInBhaW50X2ZpbGwtZXh0cnVzaW9uIl1bImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iXSksImZpbGwtZXh0cnVzaW9uLWhlaWdodCI6bmV3IElpKEN0WyJwYWludF9maWxsLWV4dHJ1c2lvbiJdWyJmaWxsLWV4dHJ1c2lvbi1oZWlnaHQiXSksImZpbGwtZXh0cnVzaW9uLWJhc2UiOm5ldyBJaShDdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tYmFzZSJdKSwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnQiOm5ldyBraShDdFsicGFpbnRfZmlsbC1leHRydXNpb24iXVsiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnQiXSl9KX0sVHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLE1zKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuY3JlYXRlQnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgenModCl9LGUucHJvdG90eXBlLnF1ZXJ5UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHNvKHRoaXMucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiKSl9LGUucHJvdG90eXBlLmlzM0Q9ZnVuY3Rpb24oKXtyZXR1cm4gITB9LGUucHJvdG90eXBlLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmU9ZnVuY3Rpb24odCxlLHIsbixhLG8scyx1KXt2YXIgbD11byh0LHRoaXMucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUiKSx0aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvciIpLG8uYW5nbGUscykscD10aGlzLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24taGVpZ2h0IikuZXZhbHVhdGUoZSxyKSxjPXRoaXMucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi1iYXNlIikuZXZhbHVhdGUoZSxyKSxoPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgYT1bXSxvPTAscz10O288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXSxsPVt1LngsdS55LDAsMV07Zm8obCxsLGUpLGEucHVzaChuZXcgaShsWzBdL2xbM10sbFsxXS9sWzNdKSk7fXJldHVybiBhfShsLHUpLGY9ZnVuY3Rpb24odCxlLHIsbil7Zm9yKHZhciBhPVtdLG89W10scz1uWzhdKmUsdT1uWzldKmUsbD1uWzEwXSplLHA9blsxMV0qZSxjPW5bOF0qcixoPW5bOV0qcixmPW5bMTBdKnIseT1uWzExXSpyLGQ9MCxtPXQ7ZDxtLmxlbmd0aDtkKz0xKXtmb3IodmFyIHY9W10sZz1bXSx4PTAsYj1tW2RdO3g8Yi5sZW5ndGg7eCs9MSl7dmFyIHc9Ylt4XSxfPXcueCxBPXcueSxTPW5bMF0qXytuWzRdKkErblsxMl0saz1uWzFdKl8rbls1XSpBK25bMTNdLEk9blsyXSpfK25bNl0qQStuWzE0XSx6PW5bM10qXytuWzddKkErblsxNV0sQz1JK2wsTT16K3AsVD1TK2MsRT1rK2gsUD1JK2YsQj16K3ksVj1uZXcgaSgoUytzKS9NLChrK3UpL00pO1Yuej1DL00sdi5wdXNoKFYpO3ZhciBGPW5ldyBpKFQvQixFL0IpO0Yuej1QL0IsZy5wdXNoKEYpO31hLnB1c2godiksby5wdXNoKGcpO31yZXR1cm4gW2Esb119KG4sYyxwLHUpO3JldHVybiBmdW5jdGlvbih0LGUscil7dmFyIG49MS8wOyRhKHIsZSkmJihuPVBzKHIsZVswXSkpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWZvcih2YXIgYT1lW2ldLG89dFtpXSxzPTA7czxhLmxlbmd0aC0xO3MrKyl7dmFyIHU9YVtzXSxsPVt1LGFbcysxXSxvW3MrMV0sb1tzXSx1XTtIYShyLGwpJiYobj1NYXRoLm1pbihuLFBzKHIsbCkpKTt9cmV0dXJuIG4hPT0xLzAmJm59KGZbMF0sZlsxXSxoKX0sZX0oRWkpO2Z1bmN0aW9uIEVzKHQsZSl7cmV0dXJuIHQueCplLngrdC55KmUueX1mdW5jdGlvbiBQcyh0LGUpe2lmKDE9PT10Lmxlbmd0aCl7Zm9yKHZhciByLG4saT0wLGE9ZVtpKytdOyFyfHxhLmVxdWFscyhyKTspaWYoIShyPWVbaSsrXSkpcmV0dXJuIDEvMDtmb3IoOyFufHxhLmVxdWFscyhuKXx8ci5lcXVhbHMobik7KWlmKCEobj1lW2krK10pKXJldHVybiAxLzA7dmFyIG89dFswXSxzPXIuc3ViKGEpLHU9bi5zdWIoYSksbD1vLnN1YihhKSxwPUVzKHMscyksYz1FcyhzLHUpLGg9RXModSx1KSxmPUVzKGwscykseT1FcyhsLHUpLGQ9cCpoLWMqYyxtPShoKmYtYyp5KS9kLHY9KHAqeS1jKmYpL2Q7cmV0dXJuIGEueiooMS1tLXYpK3IueiptK24ueip2fWZvcih2YXIgZz0xLzAseD0wLGI9ZTt4PGIubGVuZ3RoO3grPTEpZz1NYXRoLm1pbihnLGJbeF0ueik7cmV0dXJuIGd9dmFyIEJzPUZpKFt7bmFtZToiYV9wb3Nfbm9ybWFsIixjb21wb25lbnRzOjIsdHlwZToiSW50MTYifSx7bmFtZToiYV9kYXRhIixjb21wb25lbnRzOjQsdHlwZToiVWludDgifV0sNCkubWVtYmVycyxWcz1Bcy5WZWN0b3JUaWxlRmVhdHVyZS50eXBlcyxGcz1NYXRoLmNvcyhNYXRoLlBJLzE4MCozNy41KSxEcz1NYXRoLnBvdygyLDE0KS8uNSxMcz1mdW5jdGlvbih0KXt0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnBhdHRlcm5GZWF0dXJlcz1bXSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBVaSx0aGlzLmluZGV4QXJyYXk9bmV3IFFpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBxYShCcyx0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IGRhLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzU3RhdGVEZXBlbmRlbnQoKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpO307THMucHJvdG90eXBlLnBvcHVsYXRlPWZ1bmN0aW9uKHQsZSxyKXt0aGlzLmhhc1BhdHRlcm49dXMoImxpbmUiLHRoaXMubGF5ZXJzLGUpO2Zvcih2YXIgbj10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KCJsaW5lLXNvcnQta2V5IiksaT1bXSxhPTAsbz10O2E8by5sZW5ndGg7YSs9MSl7dmFyIHM9b1thXSx1PXMuZmVhdHVyZSxsPXMuaWQscD1zLmluZGV4LGM9cy5zb3VyY2VMYXllckluZGV4LGg9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LGY9e3R5cGU6dS50eXBlLGlkOmwscHJvcGVydGllczp1LnByb3BlcnRpZXMsZ2VvbWV0cnk6aD9aYSh1KTpbXX07aWYodGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBtaSh0aGlzLnpvb20pLGYscikpe2h8fChmLmdlb21ldHJ5PVphKHUpKTt2YXIgeT1uP24uZXZhbHVhdGUoZix7fSxyKTp2b2lkIDA7aS5wdXNoKHtpZDpsLHByb3BlcnRpZXM6dS5wcm9wZXJ0aWVzLHR5cGU6dS50eXBlLHNvdXJjZUxheWVySW5kZXg6YyxpbmRleDpwLGdlb21ldHJ5OmYuZ2VvbWV0cnkscGF0dGVybnM6e30sc29ydEtleTp5fSk7fX1uJiZpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSk7Zm9yKHZhciBkPTAsbT1pO2Q8bS5sZW5ndGg7ZCs9MSl7dmFyIHY9bVtkXSxnPXYuZ2VvbWV0cnkseD12LmluZGV4LGI9di5zb3VyY2VMYXllckluZGV4O2lmKHRoaXMuaGFzUGF0dGVybil7dmFyIHc9bHMoImxpbmUiLHRoaXMubGF5ZXJzLHYsdGhpcy56b29tLGUpO3RoaXMucGF0dGVybkZlYXR1cmVzLnB1c2godyk7fWVsc2UgdGhpcy5hZGRGZWF0dXJlKHYsZyx4LHIse30pO2UuZmVhdHVyZUluZGV4Lmluc2VydCh0W3hdLmZlYXR1cmUsZyx4LGIsdGhpcy5pbmRleCk7fX0sTHMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUscil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIpO30sTHMucHJvdG90eXBlLmFkZEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49MCxpPXRoaXMucGF0dGVybkZlYXR1cmVzO248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTt0aGlzLmFkZEZlYXR1cmUoYSxhLmdlb21ldHJ5LGEuaW5kZXgsZSxyKTt9fSxMcy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9LExzLnByb3RvdHlwZS51cGxvYWRQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH0sTHMucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxCcyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSkpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSx0aGlzLnVwbG9hZGVkPSEwO30sTHMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCkpO30sTHMucHJvdG90eXBlLmFkZEZlYXR1cmU9ZnVuY3Rpb24odCxlLHIsbixpKXtmb3IodmFyIGE9dGhpcy5sYXllcnNbMF0ubGF5b3V0LG89YS5nZXQoImxpbmUtam9pbiIpLmV2YWx1YXRlKHQse30pLHM9YS5nZXQoImxpbmUtY2FwIiksdT1hLmdldCgibGluZS1taXRlci1saW1pdCIpLGw9YS5nZXQoImxpbmUtcm91bmQtbGltaXQiKSxwPTAsYz1lO3A8Yy5sZW5ndGg7cCs9MSl0aGlzLmFkZExpbmUoY1twXSx0LG8scyx1LGwscixuLGkpO30sTHMucHJvdG90eXBlLmFkZExpbmU9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUpe2lmKHRoaXMuZGlzdGFuY2U9MCx0aGlzLnNjYWxlZERpc3RhbmNlPTAsdGhpcy50b3RhbERpc3RhbmNlPTAsZS5wcm9wZXJ0aWVzJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoIm1hcGJveF9jbGlwX3N0YXJ0IikmJmUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSgibWFwYm94X2NsaXBfZW5kIikpe3RoaXMuY2xpcFN0YXJ0PStlLnByb3BlcnRpZXMubWFwYm94X2NsaXBfc3RhcnQsdGhpcy5jbGlwRW5kPStlLnByb3BlcnRpZXMubWFwYm94X2NsaXBfZW5kO2Zvcih2YXIgbD0wO2w8dC5sZW5ndGgtMTtsKyspdGhpcy50b3RhbERpc3RhbmNlKz10W2xdLmRpc3QodFtsKzFdKTt0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCk7fWZvcih2YXIgcD0iUG9seWdvbiI9PT1Wc1tlLnR5cGVdLGM9dC5sZW5ndGg7Yz49MiYmdFtjLTFdLmVxdWFscyh0W2MtMl0pOyljLS07Zm9yKHZhciBoPTA7aDxjLTEmJnRbaF0uZXF1YWxzKHRbaCsxXSk7KWgrKztpZighKGM8KHA/MzoyKSkpeyJiZXZlbCI9PT1yJiYoaT0xLjA1KTt2YXIgZix5PXRoaXMub3ZlcnNjYWxpbmc8PTE2PzE1KnplLyg1MTIqdGhpcy5vdmVyc2NhbGluZyk6MCxkPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoMTAqYyx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksbT12b2lkIDAsdj12b2lkIDAsZz12b2lkIDAseD12b2lkIDA7dGhpcy5lMT10aGlzLmUyPS0xLHAmJih4PXRbaF0uc3ViKGY9dFtjLTJdKS5fdW5pdCgpLl9wZXJwKCkpO2Zvcih2YXIgYj1oO2I8YztiKyspaWYoISh2PWI9PT1jLTE/cD90W2grMV06dm9pZCAwOnRbYisxXSl8fCF0W2JdLmVxdWFscyh2KSl7eCYmKGc9eCksZiYmKG09ZiksZj10W2JdLHg9dj92LnN1YihmKS5fdW5pdCgpLl9wZXJwKCk6Zzt2YXIgdz0oZz1nfHx4KS5hZGQoeCk7MD09PXcueCYmMD09PXcueXx8dy5fdW5pdCgpO3ZhciBfPWcueCp4LngrZy55KngueSxBPXcueCp4Lngrdy55KngueSxTPTAhPT1BPzEvQToxLzAsaz0yKk1hdGguc3FydCgyLTIqQSksST1BPEZzJiZtJiZ2LHo9Zy54KngueS1nLnkqeC54PjA7aWYoSSYmYj5oKXt2YXIgQz1mLmRpc3QobSk7aWYoQz4yKnkpe3ZhciBNPWYuc3ViKGYuc3ViKG0pLl9tdWx0KHkvQykuX3JvdW5kKCkpO3RoaXMudXBkYXRlRGlzdGFuY2UobSxNKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoTSxnLDAsMCxkKSxtPU07fX12YXIgVD1tJiZ2LEU9VD9yOnA/ImJ1dHQiOm47aWYoVCYmInJvdW5kIj09PUUmJihTPGE/RT0ibWl0ZXIiOlM8PTImJihFPSJmYWtlcm91bmQiKSksIm1pdGVyIj09PUUmJlM+aSYmKEU9ImJldmVsIiksImJldmVsIj09PUUmJihTPjImJihFPSJmbGlwYmV2ZWwiKSxTPGkmJihFPSJtaXRlciIpKSxtJiZ0aGlzLnVwZGF0ZURpc3RhbmNlKG0sZiksIm1pdGVyIj09PUUpdy5fbXVsdChTKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZix3LDAsMCxkKTtlbHNlIGlmKCJmbGlwYmV2ZWwiPT09RSl7aWYoUz4xMDApdz14Lm11bHQoLTEpO2Vsc2V7dmFyIFA9UypnLmFkZCh4KS5tYWcoKS9nLnN1Yih4KS5tYWcoKTt3Ll9wZXJwKCkuX211bHQoUCooej8tMToxKSk7fXRoaXMuYWRkQ3VycmVudFZlcnRleChmLHcsMCwwLGQpLHRoaXMuYWRkQ3VycmVudFZlcnRleChmLHcubXVsdCgtMSksMCwwLGQpO31lbHNlIGlmKCJiZXZlbCI9PT1FfHwiZmFrZXJvdW5kIj09PUUpe3ZhciBCPS1NYXRoLnNxcnQoUypTLTEpLFY9ej9COjAsRj16PzA6QjtpZihtJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZixnLFYsRixkKSwiZmFrZXJvdW5kIj09PUUpZm9yKHZhciBEPU1hdGgucm91bmQoMTgwKmsvTWF0aC5QSS8yMCksTD0xO0w8RDtMKyspe3ZhciBSPUwvRDtpZiguNSE9PVIpe3ZhciBPPVItLjU7Uis9UipPKihSLTEpKigoMS4wOTA0K18qKF8qKDMuNTU2NDUtMS40MzUxOSpfKS0zLjI0NTIpKSpPKk8rKC44NDgwMTMrXyooLjIxNTYzOCpfLTEuMDYwMjEpKSk7fXZhciBVPXguc3ViKGcpLl9tdWx0KFIpLl9hZGQoZykuX3VuaXQoKS5fbXVsdCh6Py0xOjEpO3RoaXMuYWRkSGFsZlZlcnRleChmLFUueCxVLnksITEseiwwLGQpO312JiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZix4LC1WLC1GLGQpO31lbHNlIGlmKCJidXR0Ij09PUUpdGhpcy5hZGRDdXJyZW50VmVydGV4KGYsdywwLDAsZCk7ZWxzZSBpZigic3F1YXJlIj09PUUpe3ZhciBqPW0/MTotMTt0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZix3LGosaixkKTt9ZWxzZSJyb3VuZCI9PT1FJiYobSYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChmLGcsMCwwLGQpLHRoaXMuYWRkQ3VycmVudFZlcnRleChmLGcsMSwxLGQsITApKSx2JiYodGhpcy5hZGRDdXJyZW50VmVydGV4KGYseCwtMSwtMSxkLCEwKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoZix4LDAsMCxkKSkpO2lmKEkmJmI8Yy0xKXt2YXIgcT1mLmRpc3Qodik7aWYocT4yKnkpe3ZhciBOPWYuYWRkKHYuc3ViKGYpLl9tdWx0KHkvcSkuX3JvdW5kKCkpO3RoaXMudXBkYXRlRGlzdGFuY2UoZixOKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoTix4LDAsMCxkKSxmPU47fX19dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLG8sdSxzKTt9fSxMcy5wcm90b3R5cGUuYWRkQ3VycmVudFZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSl7dm9pZCAwPT09YSYmKGE9ITEpO3ZhciBvPWUueSpuLWUueCxzPS1lLnktZS54Km47dGhpcy5hZGRIYWxmVmVydGV4KHQsZS54K2UueSpyLGUueS1lLngqcixhLCExLHIsaSksdGhpcy5hZGRIYWxmVmVydGV4KHQsbyxzLGEsITAsLW4saSksdGhpcy5kaXN0YW5jZT5Ecy8yJiYwPT09dGhpcy50b3RhbERpc3RhbmNlJiYodGhpcy5kaXN0YW5jZT0wLHRoaXMuYWRkQ3VycmVudFZlcnRleCh0LGUscixuLGksYSkpO30sTHMucHJvdG90eXBlLmFkZEhhbGZWZXJ0ZXg9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9LjUqdGhpcy5zY2FsZWREaXN0YW5jZTt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKCh0Lng8PDEpKyhuPzE6MCksKHQueTw8MSkrKGk/MTowKSxNYXRoLnJvdW5kKDYzKmUpKzEyOCxNYXRoLnJvdW5kKDYzKnIpKzEyOCwxKygwPT09YT8wOmE8MD8tMToxKXwoNjMmcyk8PDIscz4+Nik7dmFyIHU9by52ZXJ0ZXhMZW5ndGgrKzt0aGlzLmUxPj0wJiZ0aGlzLmUyPj0wJiYodGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMix1KSxvLnByaW1pdGl2ZUxlbmd0aCsrKSxpP3RoaXMuZTI9dTp0aGlzLmUxPXU7fSxMcy5wcm90b3R5cGUudXBkYXRlU2NhbGVkRGlzdGFuY2U9ZnVuY3Rpb24oKXt0aGlzLnNjYWxlZERpc3RhbmNlPXRoaXMudG90YWxEaXN0YW5jZT4wPyh0aGlzLmNsaXBTdGFydCsodGhpcy5jbGlwRW5kLXRoaXMuY2xpcFN0YXJ0KSp0aGlzLmRpc3RhbmNlL3RoaXMudG90YWxEaXN0YW5jZSkqKERzLTEpOnRoaXMuZGlzdGFuY2U7fSxMcy5wcm90b3R5cGUudXBkYXRlRGlzdGFuY2U9ZnVuY3Rpb24odCxlKXt0aGlzLmRpc3RhbmNlKz10LmRpc3QoZSksdGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpO30sWG4oIkxpbmVCdWNrZXQiLExzLHtvbWl0OlsibGF5ZXJzIiwicGF0dGVybkZlYXR1cmVzIl19KTt2YXIgUnM9bmV3IFRpKHsibGluZS1jYXAiOm5ldyBraShDdC5sYXlvdXRfbGluZVsibGluZS1jYXAiXSksImxpbmUtam9pbiI6bmV3IElpKEN0LmxheW91dF9saW5lWyJsaW5lLWpvaW4iXSksImxpbmUtbWl0ZXItbGltaXQiOm5ldyBraShDdC5sYXlvdXRfbGluZVsibGluZS1taXRlci1saW1pdCJdKSwibGluZS1yb3VuZC1saW1pdCI6bmV3IGtpKEN0LmxheW91dF9saW5lWyJsaW5lLXJvdW5kLWxpbWl0Il0pLCJsaW5lLXNvcnQta2V5IjpuZXcgSWkoQ3QubGF5b3V0X2xpbmVbImxpbmUtc29ydC1rZXkiXSl9KSxPcz17cGFpbnQ6bmV3IFRpKHsibGluZS1vcGFjaXR5IjpuZXcgSWkoQ3QucGFpbnRfbGluZVsibGluZS1vcGFjaXR5Il0pLCJsaW5lLWNvbG9yIjpuZXcgSWkoQ3QucGFpbnRfbGluZVsibGluZS1jb2xvciJdKSwibGluZS10cmFuc2xhdGUiOm5ldyBraShDdC5wYWludF9saW5lWyJsaW5lLXRyYW5zbGF0ZSJdKSwibGluZS10cmFuc2xhdGUtYW5jaG9yIjpuZXcga2koQ3QucGFpbnRfbGluZVsibGluZS10cmFuc2xhdGUtYW5jaG9yIl0pLCJsaW5lLXdpZHRoIjpuZXcgSWkoQ3QucGFpbnRfbGluZVsibGluZS13aWR0aCJdKSwibGluZS1nYXAtd2lkdGgiOm5ldyBJaShDdC5wYWludF9saW5lWyJsaW5lLWdhcC13aWR0aCJdKSwibGluZS1vZmZzZXQiOm5ldyBJaShDdC5wYWludF9saW5lWyJsaW5lLW9mZnNldCJdKSwibGluZS1ibHVyIjpuZXcgSWkoQ3QucGFpbnRfbGluZVsibGluZS1ibHVyIl0pLCJsaW5lLWRhc2hhcnJheSI6bmV3IENpKEN0LnBhaW50X2xpbmVbImxpbmUtZGFzaGFycmF5Il0pLCJsaW5lLXBhdHRlcm4iOm5ldyB6aShDdC5wYWludF9saW5lWyJsaW5lLXBhdHRlcm4iXSksImxpbmUtZ3JhZGllbnQiOm5ldyBNaShDdC5wYWludF9saW5lWyJsaW5lLWdyYWRpZW50Il0pfSksbGF5b3V0OlJzfSxVcz1uZXcoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKGUscil7cmV0dXJuIHI9bmV3IG1pKE1hdGguZmxvb3Ioci56b29tKSx7bm93OnIubm93LGZhZGVEdXJhdGlvbjpyLmZhZGVEdXJhdGlvbix6b29tSGlzdG9yeTpyLnpvb21IaXN0b3J5LHRyYW5zaXRpb246ci50cmFuc2l0aW9ufSksdC5wcm90b3R5cGUucG9zc2libHlFdmFsdWF0ZS5jYWxsKHRoaXMsZSxyKX0sZS5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oZSxyLG4saSl7cmV0dXJuIHI9cCh7fSxyLHt6b29tOk1hdGguZmxvb3Ioci56b29tKX0pLHQucHJvdG90eXBlLmV2YWx1YXRlLmNhbGwodGhpcyxlLHIsbixpKX0sZX0oSWkpKShPcy5wYWludC5wcm9wZXJ0aWVzWyJsaW5lLXdpZHRoIl0uc3BlY2lmaWNhdGlvbik7VXMudXNlSW50ZWdlclpvb209ITA7dmFyIGpzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxPcyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZT1mdW5jdGlvbih0KXsibGluZS1ncmFkaWVudCI9PT10JiZ0aGlzLl91cGRhdGVHcmFkaWVudCgpO30sZS5wcm90b3R5cGUuX3VwZGF0ZUdyYWRpZW50PWZ1bmN0aW9uKCl7dGhpcy5ncmFkaWVudD1Tbyh0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbImxpbmUtZ3JhZGllbnQiXS52YWx1ZS5leHByZXNzaW9uLCJsaW5lUHJvZ3Jlc3MiKSx0aGlzLmdyYWRpZW50VGV4dHVyZT1udWxsO30sZS5wcm90b3R5cGUucmVjYWxjdWxhdGU9ZnVuY3Rpb24oZSxyKXt0LnByb3RvdHlwZS5yZWNhbGN1bGF0ZS5jYWxsKHRoaXMsZSxyKSx0aGlzLnBhaW50Ll92YWx1ZXNbImxpbmUtZmxvb3J3aWR0aCJdPVVzLnBvc3NpYmx5RXZhbHVhdGUodGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50Ll92YWx1ZXNbImxpbmUtd2lkdGgiXS52YWx1ZSxlKTt9LGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IExzKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbih0KXt2YXIgZT10LHI9cXMob28oImxpbmUtd2lkdGgiLHRoaXMsZSksb28oImxpbmUtZ2FwLXdpZHRoIix0aGlzLGUpKSxuPW9vKCJsaW5lLW9mZnNldCIsdGhpcyxlKTtyZXR1cm4gci8yK01hdGguYWJzKG4pK3NvKHRoaXMucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZSIpKX0sZS5wcm90b3R5cGUucXVlcnlJbnRlcnNlY3RzRmVhdHVyZT1mdW5jdGlvbih0LGUscixuLGEsbyxzKXt2YXIgdT11byh0LHRoaXMucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZSIpLHRoaXMucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiKSxvLmFuZ2xlLHMpLGw9cy8yKnFzKHRoaXMucGFpbnQuZ2V0KCJsaW5lLXdpZHRoIikuZXZhbHVhdGUoZSxyKSx0aGlzLnBhaW50LmdldCgibGluZS1nYXAtd2lkdGgiKS5ldmFsdWF0ZShlLHIpKSxwPXRoaXMucGFpbnQuZ2V0KCJsaW5lLW9mZnNldCIpLmV2YWx1YXRlKGUscik7cmV0dXJuIHAmJihuPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPVtdLG49bmV3IGkoMCwwKSxhPTA7YTx0Lmxlbmd0aDthKyspe2Zvcih2YXIgbz10W2FdLHM9W10sdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgbD1vW3VdLHA9b1t1KzFdLGM9MD09PXU/bjpsLnN1YihvW3UtMV0pLl91bml0KCkuX3BlcnAoKSxoPXU9PT1vLmxlbmd0aC0xP246cC5zdWIobCkuX3VuaXQoKS5fcGVycCgpLGY9Yy5fYWRkKGgpLl91bml0KCk7Zi5fbXVsdCgxLyhmLngqaC54K2YueSpoLnkpKSxzLnB1c2goZi5fbXVsdChlKS5fYWRkKGwpKTt9ci5wdXNoKHMpO31yZXR1cm4gcn0obixwKnMpKSxmdW5jdGlvbih0LGUscil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aWYodC5sZW5ndGg+PTMpZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspaWYoaW8odCxpW2FdKSlyZXR1cm4gITA7aWYoV2EodCxpLHIpKXJldHVybiAhMH1yZXR1cm4gITF9KHUsbixsKX0sZS5wcm90b3R5cGUuaXNUaWxlQ2xpcHBlZD1mdW5jdGlvbigpe3JldHVybiAhMH0sZX0oRWkpO2Z1bmN0aW9uIHFzKHQsZSl7cmV0dXJuIGU+MD9lKzIqdDp0fXZhciBOcz1GaShbe25hbWU6ImFfcG9zX29mZnNldCIsY29tcG9uZW50czo0LHR5cGU6IkludDE2In0se25hbWU6ImFfZGF0YSIsY29tcG9uZW50czo0LHR5cGU6IlVpbnQxNiJ9LHtuYW1lOiJhX3BpeGVsb2Zmc2V0Iixjb21wb25lbnRzOjQsdHlwZToiSW50MTYifV0sNCksS3M9RmkoW3tuYW1lOiJhX3Byb2plY3RlZF9wb3MiLGNvbXBvbmVudHM6Myx0eXBlOiJGbG9hdDMyIn1dLDQpLEdzPShGaShbe25hbWU6ImFfZmFkZV9vcGFjaXR5Iixjb21wb25lbnRzOjEsdHlwZToiVWludDMyIn1dLDQpLEZpKFt7bmFtZToiYV9wbGFjZWQiLGNvbXBvbmVudHM6Mix0eXBlOiJVaW50OCJ9LHtuYW1lOiJhX3NoaWZ0Iixjb21wb25lbnRzOjIsdHlwZToiRmxvYXQzMiJ9XSkpLFpzPShGaShbe3R5cGU6IkludDE2IixuYW1lOiJhbmNob3JQb2ludFgifSx7dHlwZToiSW50MTYiLG5hbWU6ImFuY2hvclBvaW50WSJ9LHt0eXBlOiJJbnQxNiIsbmFtZToieDEifSx7dHlwZToiSW50MTYiLG5hbWU6InkxIn0se3R5cGU6IkludDE2IixuYW1lOiJ4MiJ9LHt0eXBlOiJJbnQxNiIsbmFtZToieTIifSx7dHlwZToiVWludDMyIixuYW1lOiJmZWF0dXJlSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJzb3VyY2VMYXllckluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToiYnVja2V0SW5kZXgifSx7dHlwZToiSW50MTYiLG5hbWU6InJhZGl1cyJ9LHt0eXBlOiJJbnQxNiIsbmFtZToic2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yIn1dKSxGaShbe25hbWU6ImFfcG9zIixjb21wb25lbnRzOjIsdHlwZToiSW50MTYifSx7bmFtZToiYV9hbmNob3JfcG9zIixjb21wb25lbnRzOjIsdHlwZToiSW50MTYifSx7bmFtZToiYV9leHRydWRlIixjb21wb25lbnRzOjIsdHlwZToiSW50MTYifV0sNCkpLFhzPUZpKFt7bmFtZToiYV9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9LHtuYW1lOiJhX2FuY2hvcl9wb3MiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9LHtuYW1lOiJhX2V4dHJ1ZGUiLGNvbXBvbmVudHM6Mix0eXBlOiJJbnQxNiJ9XSw0KTtmdW5jdGlvbiBKcyh0LGUscil7cmV0dXJuIHQuc2VjdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC50ZXh0PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lLmxheW91dC5nZXQoInRleHQtdHJhbnNmb3JtIikuZXZhbHVhdGUocix7fSk7cmV0dXJuICJ1cHBlcmNhc2UiPT09bj90PXQudG9Mb2NhbGVVcHBlckNhc2UoKToibG93ZXJjYXNlIj09PW4mJih0PXQudG9Mb2NhbGVMb3dlckNhc2UoKSksZGkuYXBwbHlBcmFiaWNTaGFwaW5nJiYodD1kaS5hcHBseUFyYWJpY1NoYXBpbmcodCkpLHR9KHQudGV4dCxlLHIpO30pKSx0fUZpKFt7dHlwZToiSW50MTYiLG5hbWU6ImFuY2hvclgifSx7dHlwZToiSW50MTYiLG5hbWU6ImFuY2hvclkifSx7dHlwZToiVWludDE2IixuYW1lOiJnbHlwaFN0YXJ0SW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJudW1HbHlwaHMifSx7dHlwZToiVWludDMyIixuYW1lOiJ2ZXJ0ZXhTdGFydEluZGV4In0se3R5cGU6IlVpbnQzMiIsbmFtZToibGluZVN0YXJ0SW5kZXgifSx7dHlwZToiVWludDMyIixuYW1lOiJsaW5lTGVuZ3RoIn0se3R5cGU6IlVpbnQxNiIsbmFtZToic2VnbWVudCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Imxvd2VyU2l6ZSJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InVwcGVyU2l6ZSJ9LHt0eXBlOiJGbG9hdDMyIixuYW1lOiJsaW5lT2Zmc2V0WCJ9LHt0eXBlOiJGbG9hdDMyIixuYW1lOiJsaW5lT2Zmc2V0WSJ9LHt0eXBlOiJVaW50OCIsbmFtZToid3JpdGluZ01vZGUifSx7dHlwZToiVWludDgiLG5hbWU6InBsYWNlZE9yaWVudGF0aW9uIn0se3R5cGU6IlVpbnQ4IixuYW1lOiJoaWRkZW4ifSx7dHlwZToiVWludDMyIixuYW1lOiJjcm9zc1RpbGVJRCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiYXNzb2NpYXRlZEljb25JbmRleCJ9XSksRmkoW3t0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yWCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToiYW5jaG9yWSJ9LHt0eXBlOiJJbnQxNiIsbmFtZToicmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgifSx7dHlwZToiSW50MTYiLG5hbWU6ImNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToibGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToidmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgifSx7dHlwZToiSW50MTYiLG5hbWU6InBsYWNlZEljb25TeW1ib2xJbmRleCJ9LHt0eXBlOiJJbnQxNiIsbmFtZToidmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJrZXkifSx7dHlwZToiVWludDE2IixuYW1lOiJ0ZXh0Qm94U3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InRleHRCb3hFbmRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgifSx7dHlwZToiVWludDE2IixuYW1lOiJ2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6Imljb25Cb3hTdGFydEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToiaWNvbkJveEVuZEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToidmVydGljYWxJY29uQm94U3RhcnRJbmRleCJ9LHt0eXBlOiJVaW50MTYiLG5hbWU6InZlcnRpY2FsSWNvbkJveEVuZEluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToiZmVhdHVyZUluZGV4In0se3R5cGU6IlVpbnQxNiIsbmFtZToibnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMifSx7dHlwZToiVWludDE2IixuYW1lOiJudW1WZXJ0aWNhbEdseXBoVmVydGljZXMifSx7dHlwZToiVWludDE2IixuYW1lOiJudW1JY29uVmVydGljZXMifSx7dHlwZToiVWludDE2IixuYW1lOiJudW1WZXJ0aWNhbEljb25WZXJ0aWNlcyJ9LHt0eXBlOiJVaW50MzIiLG5hbWU6ImNyb3NzVGlsZUlEIn0se3R5cGU6IkZsb2F0MzIiLG5hbWU6InRleHRCb3hTY2FsZSJ9LHt0eXBlOiJGbG9hdDMyIixjb21wb25lbnRzOjIsbmFtZToidGV4dE9mZnNldCJ9XSksRmkoW3t0eXBlOiJGbG9hdDMyIixuYW1lOiJvZmZzZXRYIn1dKSxGaShbe3R5cGU6IkludDE2IixuYW1lOiJ4In0se3R5cGU6IkludDE2IixuYW1lOiJ5In0se3R5cGU6IkludDE2IixuYW1lOiJ0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvciJ9XSk7dmFyIEhzPXsiISI6Iu+4lSIsIiMiOiLvvIMiLCQ6Iu+8hCIsIiUiOiLvvIUiLCImIjoi77yGIiwiKCI6Iu+4tSIsIikiOiLvuLYiLCIqIjoi77yKIiwiKyI6Iu+8iyIsIiwiOiLvuJAiLCItIjoi77iyIiwiLiI6IuODuyIsIi8iOiLvvI8iLCI6Ijoi77iTIiwiOyI6Iu+4lCIsIjwiOiLvuL8iLCI9Ijoi77ydIiwiPiI6Iu+5gCIsIj8iOiLvuJYiLCJAIjoi77ygIiwiWyI6Iu+5hyIsIlxcIjoi77y8IiwiXSI6Iu+5iCIsIl4iOiLvvL4iLF86Iu+4syIsImAiOiLvvYAiLCJ7Ijoi77i3IiwifCI6IuKAlSIsIn0iOiLvuLgiLCJ+Ijoi772eIiwiwqIiOiLvv6AiLCLCoyI6Iu+/oSIsIsKlIjoi77+lIiwiwqYiOiLvv6QiLCLCrCI6Iu+/oiIsIsKvIjoi77+jIiwi4oCTIjoi77iyIiwi4oCUIjoi77ixIiwi4oCYIjoi77mDIiwi4oCZIjoi77mEIiwi4oCcIjoi77mBIiwi4oCdIjoi77mCIiwi4oCmIjoi77iZIiwi4oCnIjoi44O7Iiwi4oKpIjoi77+mIiwi44CBIjoi77iRIiwi44CCIjoi77iSIiwi44CIIjoi77i/Iiwi44CJIjoi77mAIiwi44CKIjoi77i9Iiwi44CLIjoi77i+Iiwi44CMIjoi77mBIiwi44CNIjoi77mCIiwi44COIjoi77mDIiwi44CPIjoi77mEIiwi44CQIjoi77i7Iiwi44CRIjoi77i8Iiwi44CUIjoi77i5Iiwi44CVIjoi77i6Iiwi44CWIjoi77iXIiwi44CXIjoi77iYIiwi77yBIjoi77iVIiwi77yIIjoi77i1Iiwi77yJIjoi77i2Iiwi77yMIjoi77iQIiwi77yNIjoi77iyIiwi77yOIjoi44O7Iiwi77yaIjoi77iTIiwi77ybIjoi77iUIiwi77ycIjoi77i/Iiwi77yeIjoi77mAIiwi77yfIjoi77iWIiwi77y7Ijoi77mHIiwi77y9Ijoi77mIIiwi77y/Ijoi77izIiwi772bIjoi77i3Iiwi772cIjoi4oCVIiwi772dIjoi77i4Iiwi772fIjoi77i1Iiwi772gIjoi77i2Iiwi772hIjoi77iSIiwi772iIjoi77mBIiwi772jIjoi77mCIn0sWXM9MjQsJHM9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYSxvLHM9OCppLW4tMSx1PSgxPDxzKS0xLGw9dT4+MSxwPS03LGM9cj9pLTE6MCxoPXI/LTE6MSxmPXRbZStjXTtmb3IoYys9aCxhPWYmKDE8PC1wKS0xLGY+Pj0tcCxwKz1zO3A+MDthPTI1NiphK3RbZStjXSxjKz1oLHAtPTgpO2ZvcihvPWEmKDE8PC1wKS0xLGE+Pj0tcCxwKz1uO3A+MDtvPTI1NipvK3RbZStjXSxjKz1oLHAtPTgpO2lmKDA9PT1hKWE9MS1sO2Vsc2V7aWYoYT09PXUpcmV0dXJuIG8/TmFOOjEvMCooZj8tMToxKTtvKz1NYXRoLnBvdygyLG4pLGEtPWw7fXJldHVybiAoZj8tMToxKSpvKk1hdGgucG93KDIsYS1uKX0sV3M9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBvLHMsdSxsPTgqYS1pLTEscD0oMTw8bCktMSxjPXA+PjEsaD0yMz09PWk/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGY9bj8wOmEtMSx5PW4/MTotMSxkPWU8MHx8MD09PWUmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8ocz1pc05hTihlKT8xOjAsbz1wKToobz1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKih1PU1hdGgucG93KDIsLW8pKTwxJiYoby0tLHUqPTIpLChlKz1vK2M+PTE/aC91OmgqTWF0aC5wb3coMiwxLWMpKSp1Pj0yJiYobysrLHUvPTIpLG8rYz49cD8ocz0wLG89cCk6bytjPj0xPyhzPShlKnUtMSkqTWF0aC5wb3coMixpKSxvKz1jKToocz1lKk1hdGgucG93KDIsYy0xKSpNYXRoLnBvdygyLGkpLG89MCkpO2k+PTg7dFtyK2ZdPTI1NSZzLGYrPXkscy89MjU2LGktPTgpO2ZvcihvPW88PGl8cyxsKz1pO2w+MDt0W3IrZl09MjU1Jm8sZis9eSxvLz0yNTYsbC09OCk7dFtyK2YteV18PTEyOCpkO30sUXM9dHU7ZnVuY3Rpb24gdHUodCl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDpuZXcgVWludDhBcnJheSh0fHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aDt9dHUuVmFyaW50PTAsdHUuRml4ZWQ2ND0xLHR1LkJ5dGVzPTIsdHUuRml4ZWQzMj01O3ZhciBldT0idW5kZWZpbmVkIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik7ZnVuY3Rpb24gcnUodCl7cmV0dXJuIHQudHlwZT09PXR1LkJ5dGVzP3QucmVhZFZhcmludCgpK3QucG9zOnQucG9zKzF9ZnVuY3Rpb24gbnUodCxlLHIpe3JldHVybiByPzQyOTQ5NjcyOTYqZSsodD4+PjApOjQyOTQ5NjcyOTYqKGU+Pj4wKSsodD4+PjApfWZ1bmN0aW9uIGl1KHQsZSxyKXt2YXIgbj1lPD0xNjM4Mz8xOmU8PTIwOTcxNTE/MjplPD0yNjg0MzU0NTU/MzpNYXRoLmZsb29yKE1hdGgubG9nKGUpLyg3Kk1hdGguTE4yKSk7ci5yZWFsbG9jKG4pO2Zvcih2YXIgaT1yLnBvcy0xO2k+PXQ7aS0tKXIuYnVmW2krbl09ci5idWZbaV07fWZ1bmN0aW9uIGF1KHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZVZhcmludCh0W3JdKTt9ZnVuY3Rpb24gb3UodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU1ZhcmludCh0W3JdKTt9ZnVuY3Rpb24gc3UodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRmxvYXQodFtyXSk7fWZ1bmN0aW9uIHV1KHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZURvdWJsZSh0W3JdKTt9ZnVuY3Rpb24gbHUodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlQm9vbGVhbih0W3JdKTt9ZnVuY3Rpb24gcHUodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRml4ZWQzMih0W3JdKTt9ZnVuY3Rpb24gY3UodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU0ZpeGVkMzIodFtyXSk7fWZ1bmN0aW9uIGh1KHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZUZpeGVkNjQodFtyXSk7fWZ1bmN0aW9uIGZ1KHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZVNGaXhlZDY0KHRbcl0pO31mdW5jdGlvbiB5dSh0LGUpe3JldHVybiAodFtlXXx0W2UrMV08PDh8dFtlKzJdPDwxNikrMTY3NzcyMTYqdFtlKzNdfWZ1bmN0aW9uIGR1KHQsZSxyKXt0W3JdPWUsdFtyKzFdPWU+Pj44LHRbcisyXT1lPj4+MTYsdFtyKzNdPWU+Pj4yNDt9ZnVuY3Rpb24gbXUodCxlKXtyZXR1cm4gKHRbZV18dFtlKzFdPDw4fHRbZSsyXTw8MTYpKyh0W2UrM108PDI0KX10dS5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmJ1Zj1udWxsO30scmVhZEZpZWxkczpmdW5jdGlvbih0LGUscil7Zm9yKHI9cnx8dGhpcy5sZW5ndGg7dGhpcy5wb3M8cjspe3ZhciBuPXRoaXMucmVhZFZhcmludCgpLGk9bj4+MyxhPXRoaXMucG9zO3RoaXMudHlwZT03Jm4sdChpLGUsdGhpcyksdGhpcy5wb3M9PT1hJiZ0aGlzLnNraXAobik7fXJldHVybiBlfSxyZWFkTWVzc2FnZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlYWRGaWVsZHModCxlLHRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zKX0scmVhZEZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgdD15dSh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWRTRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PW11KHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsdH0scmVhZEZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgdD15dSh0aGlzLmJ1Zix0aGlzLnBvcykrNDI5NDk2NzI5Nip5dSh0aGlzLmJ1Zix0aGlzLnBvcys0KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9eXUodGhpcy5idWYsdGhpcy5wb3MpKzQyOTQ5NjcyOTYqbXUodGhpcy5idWYsdGhpcy5wb3MrNCk7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRGbG9hdDpmdW5jdGlvbigpe3ZhciB0PSRzKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIHQ9JHModGhpcy5idWYsdGhpcy5wb3MsITAsNTIsOCk7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRWYXJpbnQ6ZnVuY3Rpb24odCl7dmFyIGUscixuPXRoaXMuYnVmO3JldHVybiBlPTEyNyYocj1uW3RoaXMucG9zKytdKSxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8NyxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MTQscjwxMjg/ZTooZXw9KDEyNyYocj1uW3RoaXMucG9zKytdKSk8PDIxLHI8MTI4P2U6ZnVuY3Rpb24odCxlLHIpe3ZhciBuLGksYT1yLmJ1ZjtpZihuPSgxMTImKGk9YVtyLnBvcysrXSkpPj40LGk8MTI4KXJldHVybiBudSh0LG4sZSk7aWYobnw9KDEyNyYoaT1hW3IucG9zKytdKSk8PDMsaTwxMjgpcmV0dXJuIG51KHQsbixlKTtpZihufD0oMTI3JihpPWFbci5wb3MrK10pKTw8MTAsaTwxMjgpcmV0dXJuIG51KHQsbixlKTtpZihufD0oMTI3JihpPWFbci5wb3MrK10pKTw8MTcsaTwxMjgpcmV0dXJuIG51KHQsbixlKTtpZihufD0oMTI3JihpPWFbci5wb3MrK10pKTw8MjQsaTwxMjgpcmV0dXJuIG51KHQsbixlKTtpZihufD0oMSYoaT1hW3IucG9zKytdKSk8PDMxLGk8MTI4KXJldHVybiBudSh0LG4sZSk7dGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlcyIpfShlfD0oMTUmKHI9blt0aGlzLnBvc10pKTw8MjgsdCx0aGlzKSkpKX0scmVhZFZhcmludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZFZhcmludCghMCl9LHJlYWRTVmFyaW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCk7cmV0dXJuIHQlMj09MT8odCsxKS8tMjp0LzJ9LHJlYWRCb29sZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsZT10aGlzLnBvcztyZXR1cm4gdGhpcy5wb3M9dCx0LWU+PTEyJiZldT9mdW5jdGlvbih0LGUscil7cmV0dXJuIGV1LmRlY29kZSh0LnN1YmFycmF5KGUscikpfSh0aGlzLmJ1ZixlLHQpOmZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49IiIsaT1lO2k8cjspe3ZhciBhLG8scyx1PXRbaV0sbD1udWxsLHA9dT4yMzk/NDp1PjIyMz8zOnU+MTkxPzI6MTtpZihpK3A+cilicmVhazsxPT09cD91PDEyOCYmKGw9dSk6Mj09PXA/MTI4PT0oMTkyJihhPXRbaSsxXSkpJiYobD0oMzEmdSk8PDZ8NjMmYSk8PTEyNyYmKGw9bnVsbCk6Mz09PXA/KG89dFtpKzJdLDEyOD09KDE5MiYoYT10W2krMV0pKSYmMTI4PT0oMTkyJm8pJiYoKGw9KDE1JnUpPDwxMnwoNjMmYSk8PDZ8NjMmbyk8PTIwNDd8fGw+PTU1Mjk2JiZsPD01NzM0MykmJihsPW51bGwpKTo0PT09cCYmKG89dFtpKzJdLHM9dFtpKzNdLDEyOD09KDE5MiYoYT10W2krMV0pKSYmMTI4PT0oMTkyJm8pJiYxMjg9PSgxOTImcykmJigobD0oMTUmdSk8PDE4fCg2MyZhKTw8MTJ8KDYzJm8pPDw2fDYzJnMpPD02NTUzNXx8bD49MTExNDExMikmJihsPW51bGwpKSxudWxsPT09bD8obD02NTUzMyxwPTEpOmw+NjU1MzUmJihsLT02NTUzNixuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGw+Pj4xMCYxMDIzfDU1Mjk2KSxsPTU2MzIwfDEwMjMmbCksbis9U3RyaW5nLmZyb21DaGFyQ29kZShsKSxpKz1wO31yZXR1cm4gbn0odGhpcy5idWYsZSx0KX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsZT10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyx0KTtyZXR1cm4gdGhpcy5wb3M9dCxlfSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKHQsZSl7aWYodGhpcy50eXBlIT09dHUuQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRWYXJpbnQoZSkpO3ZhciByPXJ1KHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPHI7KXQucHVzaCh0aGlzLnJlYWRWYXJpbnQoZSkpO3JldHVybiB0fSxyZWFkUGFja2VkU1ZhcmludDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT10dS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7dmFyIGU9cnUodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PXR1LkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTt2YXIgZT1ydSh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PXR1LkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIGU9cnUodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3JldHVybiB0fSxyZWFkUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PXR1LkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3ZhciBlPXJ1KHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PXR1LkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTt2YXIgZT1ydSh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PXR1LkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIGU9cnUodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3JldHVybiB0fSxyZWFkUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT10dS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7dmFyIGU9cnUodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT10dS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3ZhciBlPXJ1KHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gdH0sc2tpcDpmdW5jdGlvbih0KXt2YXIgZT03JnQ7aWYoZT09PXR1LlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYoZT09PXR1LkJ5dGVzKXRoaXMucG9zPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zO2Vsc2UgaWYoZT09PXR1LkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZXtpZihlIT09dHUuRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoIlVuaW1wbGVtZW50ZWQgdHlwZTogIitlKTt0aGlzLnBvcys9ODt9fSx3cml0ZVRhZzpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVWYXJpbnQodDw8M3xlKTt9LHJlYWxsb2M6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMubGVuZ3RofHwxNjtlPHRoaXMucG9zK3Q7KWUqPTI7aWYoZSE9PXRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDhBcnJheShlKTtyLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9cix0aGlzLmxlbmd0aD1lO319LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLGR1KHRoaXMuYnVmLHQsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksZHUodGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLGR1KHRoaXMuYnVmLC0xJnQsdGhpcy5wb3MpLGR1KHRoaXMuYnVmLE1hdGguZmxvb3IodCooMS80Mjk0OTY3Mjk2KSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxkdSh0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxkdSh0aGlzLmJ1ZixNYXRoLmZsb29yKHQqKDEvNDI5NDk2NzI5NikpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24odCl7KHQ9K3R8fDApPjI2ODQzNTQ1NXx8dDwwP2Z1bmN0aW9uKHQsZSl7dmFyIHIsbjtpZih0Pj0wPyhyPXQlNDI5NDk2NzI5NnwwLG49dC80Mjk0OTY3Mjk2fDApOihuPX4oLXQvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4ocj1+KC10JTQyOTQ5NjcyOTYpKT9yPXIrMXwwOihyPTAsbj1uKzF8MCkpLHQ+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fHQ8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKCJHaXZlbiB2YXJpbnQgZG9lc24ndCBmaXQgaW50byAxMCBieXRlcyIpO2UucmVhbGxvYygxMCksZnVuY3Rpb24odCxlLHIpe3IuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCxyLmJ1ZltyLnBvc109MTI3Jih0Pj4+PTcpO30ociwwLGUpLGZ1bmN0aW9uKHQsZSl7dmFyIHI9KDcmdCk8PDQ7ZS5idWZbZS5wb3MrK118PXJ8KCh0Pj4+PTMpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnQpKSkpKTt9KG4sZSk7fSh0LHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JnR8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpO30sd3JpdGVTVmFyaW50OmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQodDwwPzIqLXQtMToyKnQpO30sd3JpdGVCb29sZWFuOmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQoQm9vbGVhbih0KSk7fSx3cml0ZVN0cmluZzpmdW5jdGlvbih0KXt0PVN0cmluZyh0KSx0aGlzLnJlYWxsb2MoNCp0Lmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgZT10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuLGksYT0wO2E8ZS5sZW5ndGg7YSsrKXtpZigobj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZuPDU3MzQ0KXtpZighaSl7bj41NjMxOXx8YSsxPT09ZS5sZW5ndGg/KHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5KTppPW47Y29udGludWV9aWYobjw1NjMyMCl7dFtyKytdPTIzOSx0W3IrK109MTkxLHRbcisrXT0xODksaT1uO2NvbnRpbnVlfW49aS01NTI5Njw8MTB8bi01NjMyMHw2NTUzNixpPW51bGw7fWVsc2UgaSYmKHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5LGk9bnVsbCk7bjwxMjg/dFtyKytdPW46KG48MjA0OD90W3IrK109bj4+NnwxOTI6KG48NjU1MzY/dFtyKytdPW4+PjEyfDIyNDoodFtyKytdPW4+PjE4fDI0MCx0W3IrK109bj4+MTImNjN8MTI4KSx0W3IrK109bj4+NiY2M3wxMjgpLHRbcisrXT02MyZufDEyOCk7fXJldHVybiByfSh0aGlzLmJ1Zix0LHRoaXMucG9zKTt2YXIgcj10aGlzLnBvcy1lO3I+PTEyOCYmaXUoZSxyLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KHIpLHRoaXMucG9zKz1yO30sd3JpdGVGbG9hdDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksV3ModGhpcy5idWYsdCx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NDt9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxXcyh0aGlzLmJ1Zix0LHRoaXMucG9zLCEwLDUyLDgpLHRoaXMucG9zKz04O30sd3JpdGVCeXRlczpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLndyaXRlVmFyaW50KGUpLHRoaXMucmVhbGxvYyhlKTtmb3IodmFyIHI9MDtyPGU7cisrKXRoaXMuYnVmW3RoaXMucG9zKytdPXRbcl07fSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLnBvcysrO3ZhciByPXRoaXMucG9zO3QoZSx0aGlzKTt2YXIgbj10aGlzLnBvcy1yO24+PTEyOCYmaXUocixuLHRoaXMpLHRoaXMucG9zPXItMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1uO30sd3JpdGVNZXNzYWdlOmZ1bmN0aW9uKHQsZSxyKXt0aGlzLndyaXRlVGFnKHQsdHUuQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGUscik7fSx3cml0ZVBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGF1LGUpO30sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsb3UsZSk7fSx3cml0ZVBhY2tlZEJvb2xlYW46ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxsdSxlKTt9LHdyaXRlUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxzdSxlKTt9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsdXUsZSk7fSx3cml0ZVBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxwdSxlKTt9LHdyaXRlUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxjdSxlKTt9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGh1LGUpO30sd3JpdGVQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LGZ1LGUpO30sd3JpdGVCeXRlc0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHR1LkJ5dGVzKSx0aGlzLndyaXRlQnl0ZXMoZSk7fSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx0dS5GaXhlZDMyKSx0aGlzLndyaXRlRml4ZWQzMihlKTt9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx0dS5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIoZSk7fSx3cml0ZUZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx0dS5GaXhlZDY0KSx0aGlzLndyaXRlRml4ZWQ2NChlKTt9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx0dS5GaXhlZDY0KSx0aGlzLndyaXRlU0ZpeGVkNjQoZSk7fSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHR1LlZhcmludCksdGhpcy53cml0ZVZhcmludChlKTt9LHdyaXRlU1ZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHR1LlZhcmludCksdGhpcy53cml0ZVNWYXJpbnQoZSk7fSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHR1LkJ5dGVzKSx0aGlzLndyaXRlU3RyaW5nKGUpO30sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHR1LkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdChlKTt9LHdyaXRlRG91YmxlRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsdHUuRml4ZWQ2NCksdGhpcy53cml0ZURvdWJsZShlKTt9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihlKSk7fX07dmFyIHZ1PTM7ZnVuY3Rpb24gZ3UodCxlLHIpezE9PT10JiZyLnJlYWRNZXNzYWdlKHh1LGUpO31mdW5jdGlvbiB4dSh0LGUscil7aWYoMz09PXQpe3ZhciBuPXIucmVhZE1lc3NhZ2UoYnUse30pLGk9bi53aWR0aCxhPW4uaGVpZ2h0LG89bi5sZWZ0LHM9bi50b3AsdT1uLmFkdmFuY2U7ZS5wdXNoKHtpZDpuLmlkLGJpdG1hcDpuZXcgd28oe3dpZHRoOmkrMip2dSxoZWlnaHQ6YSsyKnZ1fSxuLmJpdG1hcCksbWV0cmljczp7d2lkdGg6aSxoZWlnaHQ6YSxsZWZ0Om8sdG9wOnMsYWR2YW5jZTp1fX0pO319ZnVuY3Rpb24gYnUodCxlLHIpezE9PT10P2UuaWQ9ci5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5iaXRtYXA9ci5yZWFkQnl0ZXMoKTozPT09dD9lLndpZHRoPXIucmVhZFZhcmludCgpOjQ9PT10P2UuaGVpZ2h0PXIucmVhZFZhcmludCgpOjU9PT10P2UubGVmdD1yLnJlYWRTVmFyaW50KCk6Nj09PXQ/ZS50b3A9ci5yZWFkU1ZhcmludCgpOjc9PT10JiYoZS5hZHZhbmNlPXIucmVhZFZhcmludCgpKTt9dmFyIHd1PXZ1O2Z1bmN0aW9uIF91KHQpe2Zvcih2YXIgZT0wLHI9MCxuPTAsaT10O248aS5sZW5ndGg7bis9MSl7dmFyIGE9aVtuXTtlKz1hLncqYS5oLHI9TWF0aC5tYXgocixhLncpO310LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaC10Lmh9KSk7Zm9yKHZhciBvPVt7eDowLHk6MCx3Ok1hdGgubWF4KE1hdGguY2VpbChNYXRoLnNxcnQoZS8uOTUpKSxyKSxoOjEvMH1dLHM9MCx1PTAsbD0wLHA9dDtsPHAubGVuZ3RoO2wrPTEpZm9yKHZhciBjPXBbbF0saD1vLmxlbmd0aC0xO2g+PTA7aC0tKXt2YXIgZj1vW2hdO2lmKCEoYy53PmYud3x8Yy5oPmYuaCkpe2lmKGMueD1mLngsYy55PWYueSx1PU1hdGgubWF4KHUsYy55K2MuaCkscz1NYXRoLm1heChzLGMueCtjLncpLGMudz09PWYudyYmYy5oPT09Zi5oKXt2YXIgeT1vLnBvcCgpO2g8by5sZW5ndGgmJihvW2hdPXkpO31lbHNlIGMuaD09PWYuaD8oZi54Kz1jLncsZi53LT1jLncpOmMudz09PWYudz8oZi55Kz1jLmgsZi5oLT1jLmgpOihvLnB1c2goe3g6Zi54K2Mudyx5OmYueSx3OmYudy1jLncsaDpjLmh9KSxmLnkrPWMuaCxmLmgtPWMuaCk7YnJlYWt9fXJldHVybiB7dzpzLGg6dSxmaWxsOmUvKHMqdSl8fDB9fXZhciBBdT0xLFN1PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5waXhlbFJhdGlvLG49ZS52ZXJzaW9uLGk9ZS5zdHJldGNoWCxhPWUuc3RyZXRjaFksbz1lLmNvbnRlbnQ7dGhpcy5wYWRkZWRSZWN0PXQsdGhpcy5waXhlbFJhdGlvPXIsdGhpcy5zdHJldGNoWD1pLHRoaXMuc3RyZXRjaFk9YSx0aGlzLmNvbnRlbnQ9byx0aGlzLnZlcnNpb249bjt9LGt1PXt0bDp7Y29uZmlndXJhYmxlOiEwfSxicjp7Y29uZmlndXJhYmxlOiEwfSx0bGJyOntjb25maWd1cmFibGU6ITB9LGRpc3BsYXlTaXplOntjb25maWd1cmFibGU6ITB9fTtrdS50bC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gW3RoaXMucGFkZGVkUmVjdC54K0F1LHRoaXMucGFkZGVkUmVjdC55K0F1XX0sa3UuYnIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFt0aGlzLnBhZGRlZFJlY3QueCt0aGlzLnBhZGRlZFJlY3Qudy1BdSx0aGlzLnBhZGRlZFJlY3QueSt0aGlzLnBhZGRlZFJlY3QuaC1BdV19LGt1LnRsYnIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGwuY29uY2F0KHRoaXMuYnIpfSxrdS5kaXNwbGF5U2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWyh0aGlzLnBhZGRlZFJlY3Qudy0yKkF1KS90aGlzLnBpeGVsUmF0aW8sKHRoaXMucGFkZGVkUmVjdC5oLTIqQXUpL3RoaXMucGl4ZWxSYXRpb119LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFN1LnByb3RvdHlwZSxrdSk7dmFyIEl1PWZ1bmN0aW9uKHQsZSl7dmFyIHI9e30sbj17fTt0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3M9W107dmFyIGk9W107dGhpcy5hZGRJbWFnZXModCxyLGkpLHRoaXMuYWRkSW1hZ2VzKGUsbixpKTt2YXIgYT1fdShpKSxvPW5ldyBfbyh7d2lkdGg6YS53fHwxLGhlaWdodDphLmh8fDF9KTtmb3IodmFyIHMgaW4gdCl7dmFyIHU9dFtzXSxsPXJbc10ucGFkZGVkUmVjdDtfby5jb3B5KHUuZGF0YSxvLHt4OjAseTowfSx7eDpsLngrQXUseTpsLnkrQXV9LHUuZGF0YSk7fWZvcih2YXIgcCBpbiBlKXt2YXIgYz1lW3BdLGg9bltwXS5wYWRkZWRSZWN0LGY9aC54K0F1LHk9aC55K0F1LGQ9Yy5kYXRhLndpZHRoLG09Yy5kYXRhLmhlaWdodDtfby5jb3B5KGMuZGF0YSxvLHt4OjAseTowfSx7eDpmLHk6eX0sYy5kYXRhKSxfby5jb3B5KGMuZGF0YSxvLHt4OjAseTptLTF9LHt4OmYseTp5LTF9LHt3aWR0aDpkLGhlaWdodDoxfSksX28uY29weShjLmRhdGEsbyx7eDowLHk6MH0se3g6Zix5OnkrbX0se3dpZHRoOmQsaGVpZ2h0OjF9KSxfby5jb3B5KGMuZGF0YSxvLHt4OmQtMSx5OjB9LHt4OmYtMSx5Onl9LHt3aWR0aDoxLGhlaWdodDptfSksX28uY29weShjLmRhdGEsbyx7eDowLHk6MH0se3g6ZitkLHk6eX0se3dpZHRoOjEsaGVpZ2h0Om19KTt9dGhpcy5pbWFnZT1vLHRoaXMuaWNvblBvc2l0aW9ucz1yLHRoaXMucGF0dGVyblBvc2l0aW9ucz1uO307SXUucHJvdG90eXBlLmFkZEltYWdlcz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuIGluIHQpe3ZhciBpPXRbbl0sYT17eDowLHk6MCx3OmkuZGF0YS53aWR0aCsyKkF1LGg6aS5kYXRhLmhlaWdodCsyKkF1fTtyLnB1c2goYSksZVtuXT1uZXcgU3UoYSxpKSxpLmhhc1JlbmRlckNhbGxiYWNrJiZ0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MucHVzaChuKTt9fSxJdS5wcm90b3R5cGUucGF0Y2hVcGRhdGVkSW1hZ2VzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIHQuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3ModGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzKSx0LnVwZGF0ZWRJbWFnZXMpdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLmljb25Qb3NpdGlvbnNbcl0sdC5nZXRJbWFnZShyKSxlKSx0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMucGF0dGVyblBvc2l0aW9uc1tyXSx0LmdldEltYWdlKHIpLGUpO30sSXUucHJvdG90eXBlLnBhdGNoVXBkYXRlZEltYWdlPWZ1bmN0aW9uKHQsZSxyKXtpZih0JiZlJiZ0LnZlcnNpb24hPT1lLnZlcnNpb24pe3QudmVyc2lvbj1lLnZlcnNpb247dmFyIG49dC50bDtyLnVwZGF0ZShlLmRhdGEsdm9pZCAwLHt4Om5bMF0seTpuWzFdfSk7fX0sWG4oIkltYWdlUG9zaXRpb24iLFN1KSxYbigiSW1hZ2VBdGxhcyIsSXUpO3ZhciB6dT17aG9yaXpvbnRhbDoxLHZlcnRpY2FsOjIsaG9yaXpvbnRhbE9ubHk6M30sQ3U9LTE3LE11PWZ1bmN0aW9uKCl7dGhpcy5zY2FsZT0xLHRoaXMuZm9udFN0YWNrPSIiLHRoaXMuaW1hZ2VOYW1lPW51bGw7fTtNdS5mb3JUZXh0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IE11O3JldHVybiByLnNjYWxlPXR8fDEsci5mb250U3RhY2s9ZSxyfSxNdS5mb3JJbWFnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgTXU7cmV0dXJuIGUuaW1hZ2VOYW1lPXQsZX07dmFyIFR1PWZ1bmN0aW9uKCl7dGhpcy50ZXh0PSIiLHRoaXMuc2VjdGlvbkluZGV4PVtdLHRoaXMuc2VjdGlvbnM9W10sdGhpcy5pbWFnZVNlY3Rpb25JRD1udWxsO307ZnVuY3Rpb24gRXUodCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCl7dmFyIG0sdj1UdS5mcm9tRmVhdHVyZSh0LGkpO2M9PT16dS52ZXJ0aWNhbCYmdi52ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKCk7dmFyIGc9ZGkucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LHg9ZGkucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O2lmKGcmJjE9PT12LnNlY3Rpb25zLmxlbmd0aCl7bT1bXTtmb3IodmFyIGI9MCx3PWcodi50b1N0cmluZygpLFJ1KHYsbCxhLGUsbixmLHkpKTtiPHcubGVuZ3RoO2IrPTEpe3ZhciBfPXdbYl0sQT1uZXcgVHU7QS50ZXh0PV8sQS5zZWN0aW9ucz12LnNlY3Rpb25zO2Zvcih2YXIgUz0wO1M8Xy5sZW5ndGg7UysrKUEuc2VjdGlvbkluZGV4LnB1c2goMCk7bS5wdXNoKEEpO319ZWxzZSBpZih4KXttPVtdO2Zvcih2YXIgaz0wLEk9eCh2LnRleHQsdi5zZWN0aW9uSW5kZXgsUnUodixsLGEsZSxuLGYseSkpO2s8SS5sZW5ndGg7ays9MSl7dmFyIHo9SVtrXSxDPW5ldyBUdTtDLnRleHQ9elswXSxDLnNlY3Rpb25JbmRleD16WzFdLEMuc2VjdGlvbnM9di5zZWN0aW9ucyxtLnB1c2goQyk7fX1lbHNlIG09ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9W10sbj10LnRleHQsaT0wLGE9MCxvPWU7YTxvLmxlbmd0aDthKz0xKXt2YXIgcz1vW2FdO3IucHVzaCh0LnN1YnN0cmluZyhpLHMpKSxpPXM7fXJldHVybiBpPG4ubGVuZ3RoJiZyLnB1c2godC5zdWJzdHJpbmcoaSxuLmxlbmd0aCkpLHJ9KHYsUnUodixsLGEsZSxuLGYseSkpO3ZhciBNPVtdLFQ9e3Bvc2l0aW9uZWRMaW5lczpNLHRleHQ6di50b1N0cmluZygpLHRvcDpwWzFdLGJvdHRvbTpwWzFdLGxlZnQ6cFswXSxyaWdodDpwWzBdLHdyaXRpbmdNb2RlOmMsaWNvbnNJblRleHQ6ITEsdmVydGljYWxpemFibGU6ITF9O3JldHVybiBmdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyl7Zm9yKHZhciBoPTAsZj1DdSx5PTAsZD0wLG09InJpZ2h0Ij09PXM/MToibGVmdCI9PT1zPzA6LjUsdj0wLGc9MCx4PWk7Zzx4Lmxlbmd0aDtnKz0xKXt2YXIgYj14W2ddO2IudHJpbSgpO3ZhciB3PWIuZ2V0TWF4U2NhbGUoKSxfPSh3LTEpKllzLEE9e3Bvc2l0aW9uZWRHbHlwaHM6W10sbGluZU9mZnNldDowfTt0LnBvc2l0aW9uZWRMaW5lc1t2XT1BO3ZhciBTPUEucG9zaXRpb25lZEdseXBocyxrPTA7aWYoYi5sZW5ndGgoKSl7Zm9yKHZhciBJPTA7STxiLmxlbmd0aCgpO0krKyl7dmFyIHo9Yi5nZXRTZWN0aW9uKEkpLEM9Yi5nZXRTZWN0aW9uSW5kZXgoSSksTT1iLmdldENoYXJDb2RlKEkpLFQ9MCxFPW51bGwsUD1udWxsLEI9bnVsbCxWPVlzLEY9ISh1PT09enUuaG9yaXpvbnRhbHx8IXAmJiFyaShNKXx8cCYmKFB1W01dfHwoSz1NLHRpLkFyYWJpYyhLKXx8dGlbIkFyYWJpYyBTdXBwbGVtZW50Il0oSyl8fHRpWyJBcmFiaWMgRXh0ZW5kZWQtQSJdKEspfHx0aVsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BIl0oSyl8fHRpWyJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUIiXShLKSkpKTtpZih6LmltYWdlTmFtZSl7dmFyIEQ9blt6LmltYWdlTmFtZV07aWYoIUQpY29udGludWU7Qj16LmltYWdlTmFtZSx0Lmljb25zSW5UZXh0PXQuaWNvbnNJblRleHR8fCEwLFA9RC5wYWRkZWRSZWN0O3ZhciBMPUQuZGlzcGxheVNpemU7ei5zY2FsZT16LnNjYWxlKllzL2MsVD1fKyhZcy1MWzFdKnouc2NhbGUpLFY9KEU9e3dpZHRoOkxbMF0saGVpZ2h0OkxbMV0sbGVmdDpBdSx0b3A6LXd1LGFkdmFuY2U6Rj9MWzFdOkxbMF19KS5hZHZhbmNlO3ZhciBSPUY/TFswXSp6LnNjYWxlLVlzKnc6TFsxXSp6LnNjYWxlLVlzKnc7Uj4wJiZSPmsmJihrPVIpO31lbHNle3ZhciBPPXJbei5mb250U3RhY2tdLFU9TyYmT1tNXTtpZihVJiZVLnJlY3QpUD1VLnJlY3QsRT1VLm1ldHJpY3M7ZWxzZXt2YXIgaj1lW3ouZm9udFN0YWNrXSxxPWomJmpbTV07aWYoIXEpY29udGludWU7RT1xLm1ldHJpY3M7fVQ9KHctei5zY2FsZSkqWXM7fUY/KHQudmVydGljYWxpemFibGU9ITAsUy5wdXNoKHtnbHlwaDpNLGltYWdlTmFtZTpCLHg6aCx5OmYrVCx2ZXJ0aWNhbDpGLHNjYWxlOnouc2NhbGUsZm9udFN0YWNrOnouZm9udFN0YWNrLHNlY3Rpb25JbmRleDpDLG1ldHJpY3M6RSxyZWN0OlB9KSxoKz1WKnouc2NhbGUrbCk6KFMucHVzaCh7Z2x5cGg6TSxpbWFnZU5hbWU6Qix4OmgseTpmK1QsdmVydGljYWw6RixzY2FsZTp6LnNjYWxlLGZvbnRTdGFjazp6LmZvbnRTdGFjayxzZWN0aW9uSW5kZXg6QyxtZXRyaWNzOkUscmVjdDpQfSksaCs9RS5hZHZhbmNlKnouc2NhbGUrbCk7fTAhPT1TLmxlbmd0aCYmKHk9TWF0aC5tYXgoaC1sLHkpLFV1KFMsMCxTLmxlbmd0aC0xLG0saykpLGg9MDt2YXIgTj1hKncraztBLmxpbmVPZmZzZXQ9TWF0aC5tYXgoayxfKSxmKz1OLGQ9TWF0aC5tYXgoTixkKSwrK3Y7fWVsc2UgZis9YSwrK3Y7fXZhciBLLEc9Zi1DdSxaPU91KG8pLFg9Wi5ob3Jpem9udGFsQWxpZ24sSj1aLnZlcnRpY2FsQWxpZ247KGZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1KXt2YXIgbCxwPShlLXIpKmk7bD1hIT09bz8tcypuLUN1Oigtbip1Ky41KSpvO2Zvcih2YXIgYz0wLGg9dDtjPGgubGVuZ3RoO2MrPTEpZm9yKHZhciBmPTAseT1oW2NdLnBvc2l0aW9uZWRHbHlwaHM7Zjx5Lmxlbmd0aDtmKz0xKXt2YXIgZD15W2ZdO2QueCs9cCxkLnkrPWw7fX0pKHQucG9zaXRpb25lZExpbmVzLG0sWCxKLHksZCxhLEcsaS5sZW5ndGgpLHQudG9wKz0tSipHLHQuYm90dG9tPXQudG9wK0csdC5sZWZ0Kz0tWCp5LHQucmlnaHQ9dC5sZWZ0K3k7fShULGUscixuLG0sbyxzLHUsYyxsLGgsZCksIWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dDtlPHIubGVuZ3RoO2UrPTEpaWYoMCE9PXJbZV0ucG9zaXRpb25lZEdseXBocy5sZW5ndGgpcmV0dXJuICExO3JldHVybiAhMH0oTSkmJlR9VHUuZnJvbUZlYXR1cmU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9bmV3IFR1LG49MDtuPHQuc2VjdGlvbnMubGVuZ3RoO24rKyl7dmFyIGk9dC5zZWN0aW9uc1tuXTtpLmltYWdlP3IuYWRkSW1hZ2VTZWN0aW9uKGkpOnIuYWRkVGV4dFNlY3Rpb24oaSxlKTt9cmV0dXJuIHJ9LFR1LnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH0sVHUucHJvdG90eXBlLmdldFNlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VjdGlvbnNbdGhpcy5zZWN0aW9uSW5kZXhbdF1dfSxUdS5wcm90b3R5cGUuZ2V0U2VjdGlvbkluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlY3Rpb25JbmRleFt0XX0sVHUucHJvdG90eXBlLmdldENoYXJDb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRleHQuY2hhckNvZGVBdCh0KX0sVHUucHJvdG90eXBlLnZlcnRpY2FsaXplUHVuY3R1YXRpb249ZnVuY3Rpb24oKXt0aGlzLnRleHQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSIiLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dC5jaGFyQ29kZUF0KHIrMSl8fG51bGwsaT10LmNoYXJDb2RlQXQoci0xKXx8bnVsbDtlKz1uJiZuaShuKSYmIUhzW3RbcisxXV18fGkmJm5pKGkpJiYhSHNbdFtyLTFdXXx8IUhzW3Rbcl1dP3Rbcl06SHNbdFtyXV07fXJldHVybiBlfSh0aGlzLnRleHQpO30sVHUucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLnRleHQubGVuZ3RoJiZQdVt0aGlzLnRleHQuY2hhckNvZGVBdChlKV07ZSsrKXQrKztmb3IodmFyIHI9dGhpcy50ZXh0Lmxlbmd0aCxuPXRoaXMudGV4dC5sZW5ndGgtMTtuPj0wJiZuPj10JiZQdVt0aGlzLnRleHQuY2hhckNvZGVBdChuKV07bi0tKXItLTt0aGlzLnRleHQ9dGhpcy50ZXh0LnN1YnN0cmluZyh0LHIpLHRoaXMuc2VjdGlvbkluZGV4PXRoaXMuc2VjdGlvbkluZGV4LnNsaWNlKHQscik7fSxUdS5wcm90b3R5cGUuc3Vic3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IFR1O3JldHVybiByLnRleHQ9dGhpcy50ZXh0LnN1YnN0cmluZyh0LGUpLHIuc2VjdGlvbkluZGV4PXRoaXMuc2VjdGlvbkluZGV4LnNsaWNlKHQsZSksci5zZWN0aW9ucz10aGlzLnNlY3Rpb25zLHJ9LFR1LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR9LFR1LnByb3RvdHlwZS5nZXRNYXhTY2FsZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4LnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gTWF0aC5tYXgoZSx0LnNlY3Rpb25zW3JdLnNjYWxlKX0pLDApfSxUdS5wcm90b3R5cGUuYWRkVGV4dFNlY3Rpb249ZnVuY3Rpb24odCxlKXt0aGlzLnRleHQrPXQudGV4dCx0aGlzLnNlY3Rpb25zLnB1c2goTXUuZm9yVGV4dCh0LnNjYWxlLHQuZm9udFN0YWNrfHxlKSk7Zm9yKHZhciByPXRoaXMuc2VjdGlvbnMubGVuZ3RoLTEsbj0wO248dC50ZXh0Lmxlbmd0aDsrK24pdGhpcy5zZWN0aW9uSW5kZXgucHVzaChyKTt9LFR1LnByb3RvdHlwZS5hZGRJbWFnZVNlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5pbWFnZT90LmltYWdlLm5hbWU6IiI7aWYoMCE9PWUubGVuZ3RoKXt2YXIgcj10aGlzLmdldE5leHRJbWFnZVNlY3Rpb25DaGFyQ29kZSgpO3I/KHRoaXMudGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShyKSx0aGlzLnNlY3Rpb25zLnB1c2goTXUuZm9ySW1hZ2UoZSkpLHRoaXMuc2VjdGlvbkluZGV4LnB1c2godGhpcy5zZWN0aW9ucy5sZW5ndGgtMSkpOncoIlJlYWNoZWQgbWF4aW11bSBudW1iZXIgb2YgaW1hZ2VzIDY0MDEiKTt9ZWxzZSB3KCJDYW4ndCBhZGQgRm9ybWF0dGVkU2VjdGlvbiB3aXRoIGFuIGVtcHR5IGltYWdlLiIpO30sVHUucHJvdG90eXBlLmdldE5leHRJbWFnZVNlY3Rpb25DaGFyQ29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlU2VjdGlvbklEP3RoaXMuaW1hZ2VTZWN0aW9uSUQ+PTYzNzQzP251bGw6Kyt0aGlzLmltYWdlU2VjdGlvbklEOih0aGlzLmltYWdlU2VjdGlvbklEPTU3MzQ0LHRoaXMuaW1hZ2VTZWN0aW9uSUQpfTt2YXIgUHU9ezk6ITAsMTA6ITAsMTE6ITAsMTI6ITAsMTM6ITAsMzI6ITB9LEJ1PXt9O2Z1bmN0aW9uIFZ1KHQsZSxyLG4saSxhKXtpZihlLmltYWdlTmFtZSl7dmFyIG89bltlLmltYWdlTmFtZV07cmV0dXJuIG8/by5kaXNwbGF5U2l6ZVswXSplLnNjYWxlKllzL2EraTowfXZhciBzPXJbZS5mb250U3RhY2tdLHU9cyYmc1t0XTtyZXR1cm4gdT91Lm1ldHJpY3MuYWR2YW5jZSplLnNjYWxlK2k6MH1mdW5jdGlvbiBGdSh0LGUscixuKXt2YXIgaT1NYXRoLnBvdyh0LWUsMik7cmV0dXJuIG4/dDxlP2kvMjoyKmk6aStNYXRoLmFicyhyKSpyfWZ1bmN0aW9uIER1KHQsZSxyKXt2YXIgbj0wO3JldHVybiAxMD09PXQmJihuLT0xZTQpLHImJihuKz0xNTApLDQwIT09dCYmNjUyODghPT10fHwobis9NTApLDQxIT09ZSYmNjUyODkhPT1lfHwobis9NTApLG59ZnVuY3Rpb24gTHUodCxlLHIsbixpLGEpe2Zvcih2YXIgbz1udWxsLHM9RnUoZSxyLGksYSksdT0wLGw9bjt1PGwubGVuZ3RoO3UrPTEpe3ZhciBwPWxbdV0sYz1GdShlLXAueCxyLGksYSkrcC5iYWRuZXNzO2M8PXMmJihvPXAscz1jKTt9cmV0dXJuIHtpbmRleDp0LHg6ZSxwcmlvckJyZWFrOm8sYmFkbmVzczpzfX1mdW5jdGlvbiBSdSh0LGUscixuLGksYSxvKXtpZigicG9pbnQiIT09YSlyZXR1cm4gW107aWYoIXQpcmV0dXJuIFtdO2Zvcih2YXIgcyx1PVtdLGw9ZnVuY3Rpb24odCxlLHIsbixpLGEpe2Zvcih2YXIgbz0wLHM9MDtzPHQubGVuZ3RoKCk7cysrKXt2YXIgdT10LmdldFNlY3Rpb24ocyk7bys9VnUodC5nZXRDaGFyQ29kZShzKSx1LG4saSxlLGEpO31yZXR1cm4gby9NYXRoLm1heCgxLE1hdGguY2VpbChvL3IpKX0odCxlLHIsbixpLG8pLHA9dC50ZXh0LmluZGV4T2YoIuKAiyIpPj0wLGM9MCxoPTA7aDx0Lmxlbmd0aCgpO2grKyl7dmFyIGY9dC5nZXRTZWN0aW9uKGgpLHk9dC5nZXRDaGFyQ29kZShoKTtpZihQdVt5XXx8KGMrPVZ1KHksZixuLGksZSxvKSksaDx0Lmxlbmd0aCgpLTEpe3ZhciBkPSEoKHM9eSk8MTE5MDR8fCEodGlbIkJvcG9tb2ZvIEV4dGVuZGVkIl0ocyl8fHRpLkJvcG9tb2ZvKHMpfHx0aVsiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXMiXShzKXx8dGlbIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHMiXShzKXx8dGlbIkNKSyBDb21wYXRpYmlsaXR5Il0ocyl8fHRpWyJDSksgUmFkaWNhbHMgU3VwcGxlbWVudCJdKHMpfHx0aVsiQ0pLIFN0cm9rZXMiXShzKXx8dGlbIkNKSyBTeW1ib2xzIGFuZCBQdW5jdHVhdGlvbiJdKHMpfHx0aVsiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQSJdKHMpfHx0aVsiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyJdKHMpfHx0aVsiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRocyJdKHMpfHx0aVsiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXMiXShzKXx8dGkuSGlyYWdhbmEocyl8fHRpWyJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzIl0ocyl8fHRpWyJLYW5neGkgUmFkaWNhbHMiXShzKXx8dGlbIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnMiXShzKXx8dGkuS2F0YWthbmEocyl8fHRpWyJWZXJ0aWNhbCBGb3JtcyJdKHMpfHx0aVsiWWkgUmFkaWNhbHMiXShzKXx8dGlbIllpIFN5bGxhYmxlcyJdKHMpKSk7KEJ1W3ldfHxkfHxmLmltYWdlTmFtZSkmJnUucHVzaChMdShoKzEsYyxsLHUsRHUoeSx0LmdldENoYXJDb2RlKGgrMSksZCYmcCksITEpKTt9fXJldHVybiBmdW5jdGlvbiB0KGUpe3JldHVybiBlP3QoZS5wcmlvckJyZWFrKS5jb25jYXQoZS5pbmRleCk6W119KEx1KHQubGVuZ3RoKCksYyxsLHUsMCwhMCkpfWZ1bmN0aW9uIE91KHQpe3ZhciBlPS41LHI9LjU7c3dpdGNoKHQpe2Nhc2UicmlnaHQiOmNhc2UidG9wLXJpZ2h0IjpjYXNlImJvdHRvbS1yaWdodCI6ZT0xO2JyZWFrO2Nhc2UibGVmdCI6Y2FzZSJ0b3AtbGVmdCI6Y2FzZSJib3R0b20tbGVmdCI6ZT0wO31zd2l0Y2godCl7Y2FzZSJib3R0b20iOmNhc2UiYm90dG9tLXJpZ2h0IjpjYXNlImJvdHRvbS1sZWZ0IjpyPTE7YnJlYWs7Y2FzZSJ0b3AiOmNhc2UidG9wLXJpZ2h0IjpjYXNlInRvcC1sZWZ0IjpyPTA7fXJldHVybiB7aG9yaXpvbnRhbEFsaWduOmUsdmVydGljYWxBbGlnbjpyfX1mdW5jdGlvbiBVdSh0LGUscixuLGkpe2lmKG58fGkpZm9yKHZhciBhPXRbcl0sbz0odFtyXS54K2EubWV0cmljcy5hZHZhbmNlKmEuc2NhbGUpKm4scz1lO3M8PXI7cysrKXRbc10ueC09byx0W3NdLnkrPWk7fWZ1bmN0aW9uIGp1KHQsZSxyLG4saSxhKXt2YXIgbyxzPXQuaW1hZ2U7aWYocy5jb250ZW50KXt2YXIgdT1zLmNvbnRlbnQsbD1zLnBpeGVsUmF0aW98fDE7bz1bdVswXS9sLHVbMV0vbCxzLmRpc3BsYXlTaXplWzBdLXVbMl0vbCxzLmRpc3BsYXlTaXplWzFdLXVbM10vbF07fXZhciBwLGMsaCxmLHk9ZS5sZWZ0KmEsZD1lLnJpZ2h0KmE7IndpZHRoIj09PXJ8fCJib3RoIj09PXI/KGY9aVswXSt5LW5bM10sYz1pWzBdK2QrblsxXSk6Yz0oZj1pWzBdKyh5K2Qtcy5kaXNwbGF5U2l6ZVswXSkvMikrcy5kaXNwbGF5U2l6ZVswXTt2YXIgbT1lLnRvcCphLHY9ZS5ib3R0b20qYTtyZXR1cm4gImhlaWdodCI9PT1yfHwiYm90aCI9PT1yPyhwPWlbMV0rbS1uWzBdLGg9aVsxXSt2K25bMl0pOmg9KHA9aVsxXSsobSt2LXMuZGlzcGxheVNpemVbMV0pLzIpK3MuZGlzcGxheVNpemVbMV0se2ltYWdlOnMsdG9wOnAscmlnaHQ6Yyxib3R0b206aCxsZWZ0OmYsY29sbGlzaW9uUGFkZGluZzpvfX1CdVsxMF09ITAsQnVbMzJdPSEwLEJ1WzM4XT0hMCxCdVs0MF09ITAsQnVbNDFdPSEwLEJ1WzQzXT0hMCxCdVs0NV09ITAsQnVbNDddPSEwLEJ1WzE3M109ITAsQnVbMTgzXT0hMCxCdVs4MjAzXT0hMCxCdVs4MjA4XT0hMCxCdVs4MjExXT0hMCxCdVs4MjMxXT0hMDt2YXIgcXU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIsbixpKXt0LmNhbGwodGhpcyxlLHIpLHRoaXMuYW5nbGU9bix2b2lkIDAhPT1pJiYodGhpcy5zZWdtZW50PWkpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLngsdGhpcy55LHRoaXMuYW5nbGUsdGhpcy5zZWdtZW50KX0sZX0oaSk7WG4oIkFuY2hvciIscXUpO3ZhciBOdT0xMjg7ZnVuY3Rpb24gS3UodCxlKXt2YXIgcj1lLmV4cHJlc3Npb247aWYoImNvbnN0YW50Ij09PXIua2luZClyZXR1cm4ge2tpbmQ6ImNvbnN0YW50IixsYXlvdXRTaXplOnIuZXZhbHVhdGUobmV3IG1pKHQrMSkpfTtpZigic291cmNlIj09PXIua2luZClyZXR1cm4ge2tpbmQ6InNvdXJjZSJ9O2Zvcih2YXIgbj1yLnpvb21TdG9wcyxpPXIuaW50ZXJwb2xhdGlvblR5cGUsYT0wO2E8bi5sZW5ndGgmJm5bYV08PXQ7KWErKztmb3IodmFyIG89YT1NYXRoLm1heCgwLGEtMSk7bzxuLmxlbmd0aCYmbltvXTx0KzE7KW8rKztvPU1hdGgubWluKG4ubGVuZ3RoLTEsbyk7dmFyIHM9blthXSx1PW5bb107cmV0dXJuICJjb21wb3NpdGUiPT09ci5raW5kP3traW5kOiJjb21wb3NpdGUiLG1pblpvb206cyxtYXhab29tOnUsaW50ZXJwb2xhdGlvblR5cGU6aX06e2tpbmQ6ImNhbWVyYSIsbWluWm9vbTpzLG1heFpvb206dSxtaW5TaXplOnIuZXZhbHVhdGUobmV3IG1pKHMpKSxtYXhTaXplOnIuZXZhbHVhdGUobmV3IG1pKHUpKSxpbnRlcnBvbGF0aW9uVHlwZTppfX1mdW5jdGlvbiBHdSh0LGUscil7dmFyIG49ZS51U2l6ZSxpPXIubG93ZXJTaXplO3JldHVybiAic291cmNlIj09PXQua2luZD9pL051OiJjb21wb3NpdGUiPT09dC5raW5kP0plKGkvTnUsci51cHBlclNpemUvTnUsZS51U2l6ZVQpOm59ZnVuY3Rpb24gWnUodCxlKXt2YXIgcj0wLG49MDtpZigiY29uc3RhbnQiPT09dC5raW5kKW49dC5sYXlvdXRTaXplO2Vsc2UgaWYoInNvdXJjZSIhPT10LmtpbmQpe3ZhciBpPXQuaW50ZXJwb2xhdGlvblR5cGUsYT1pP3UoZHIuaW50ZXJwb2xhdGlvbkZhY3RvcihpLGUsdC5taW5ab29tLHQubWF4Wm9vbSksMCwxKTowOyJjYW1lcmEiPT09dC5raW5kP249SmUodC5taW5TaXplLHQubWF4U2l6ZSxhKTpyPWE7fXJldHVybiB7dVNpemVUOnIsdVNpemU6bn19dmFyIFh1PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGdldFNpemVEYXRhOkt1LGV2YWx1YXRlU2l6ZUZvckZlYXR1cmU6R3UsZXZhbHVhdGVTaXplRm9yWm9vbTpadSxTSVpFX1BBQ0tfRkFDVE9SOk51fSk7ZnVuY3Rpb24gSnUodCxlLHIsbixpKXtpZih2b2lkIDA9PT1lLnNlZ21lbnQpcmV0dXJuICEwO2Zvcih2YXIgYT1lLG89ZS5zZWdtZW50KzEscz0wO3M+LXIvMjspe2lmKC0tbzwwKXJldHVybiAhMTtzLT10W29dLmRpc3QoYSksYT10W29dO31zKz10W29dLmRpc3QodFtvKzFdKSxvKys7Zm9yKHZhciB1PVtdLGw9MDtzPHIvMjspe3ZhciBwPXRbb10sYz10W28rMV07aWYoIWMpcmV0dXJuICExO3ZhciBoPXRbby0xXS5hbmdsZVRvKHApLXAuYW5nbGVUbyhjKTtmb3IoaD1NYXRoLmFicygoaCszKk1hdGguUEkpJSgyKk1hdGguUEkpLU1hdGguUEkpLHUucHVzaCh7ZGlzdGFuY2U6cyxhbmdsZURlbHRhOmh9KSxsKz1oO3MtdVswXS5kaXN0YW5jZT5uOylsLT11LnNoaWZ0KCkuYW5nbGVEZWx0YTtpZihsPmkpcmV0dXJuICExO28rKyxzKz1wLmRpc3QoYyk7fXJldHVybiAhMH1mdW5jdGlvbiBIdSh0KXtmb3IodmFyIGU9MCxyPTA7cjx0Lmxlbmd0aC0xO3IrKyllKz10W3JdLmRpc3QodFtyKzFdKTtyZXR1cm4gZX1mdW5jdGlvbiBZdSh0LGUscil7cmV0dXJuIHQ/LjYqZSpyOjB9ZnVuY3Rpb24gJHUodCxlKXtyZXR1cm4gTWF0aC5tYXgodD90LnJpZ2h0LXQubGVmdDowLGU/ZS5yaWdodC1lLmxlZnQ6MCl9ZnVuY3Rpb24gV3UodCxlLHIsbixpLGEpe2Zvcih2YXIgbz1ZdShyLGksYSkscz0kdShyLG4pKmEsdT0wLGw9SHUodCkvMixwPTA7cDx0Lmxlbmd0aC0xO3ArKyl7dmFyIGM9dFtwXSxoPXRbcCsxXSxmPWMuZGlzdChoKTtpZih1K2Y+bCl7dmFyIHk9KGwtdSkvZixkPUplKGMueCxoLngseSksbT1KZShjLnksaC55LHkpLHY9bmV3IHF1KGQsbSxoLmFuZ2xlVG8oYykscCk7cmV0dXJuIHYuX3JvdW5kKCksIW98fEp1KHQsdixzLG8sZSk/djp2b2lkIDB9dSs9Zjt9fWZ1bmN0aW9uIFF1KHQsZSxyLG4saSxhLG8scyx1KXt2YXIgbD1ZdShuLGEsbykscD0kdShuLGkpLGM9cCpvLGg9MD09PXRbMF0ueHx8dFswXS54PT09dXx8MD09PXRbMF0ueXx8dFswXS55PT09dTtyZXR1cm4gZS1jPGUvNCYmKGU9YytlLzQpLGZ1bmN0aW9uIHQoZSxyLG4saSxhLG8scyx1LGwpe2Zvcih2YXIgcD1vLzIsYz1IdShlKSxoPTAsZj1yLW4seT1bXSxkPTA7ZDxlLmxlbmd0aC0xO2QrKyl7Zm9yKHZhciBtPWVbZF0sdj1lW2QrMV0sZz1tLmRpc3QodikseD12LmFuZ2xlVG8obSk7ZituPGgrZzspe3ZhciBiPSgoZis9biktaCkvZyx3PUplKG0ueCx2LngsYiksXz1KZShtLnksdi55LGIpO2lmKHc+PTAmJnc8bCYmXz49MCYmXzxsJiZmLXA+PTAmJmYrcDw9Yyl7dmFyIEE9bmV3IHF1KHcsXyx4LGQpO0EuX3JvdW5kKCksaSYmIUp1KGUsQSxvLGksYSl8fHkucHVzaChBKTt9fWgrPWc7fXJldHVybiB1fHx5Lmxlbmd0aHx8c3x8KHk9dChlLGgvMixuLGksYSxvLHMsITAsbCkpLHl9KHQsaD9lLzIqcyVlOihwLzIrMiphKSpvKnMlZSxlLGwscixjLGgsITEsdSl9dmFyIHRsPUF1O2Z1bmN0aW9uIGVsKHQsZSxyLG4pe3ZhciBhPVtdLG89dC5pbWFnZSxzPW8ucGl4ZWxSYXRpbyx1PW8ucGFkZGVkUmVjdC53LTIqdGwsbD1vLnBhZGRlZFJlY3QuaC0yKnRsLHA9dC5yaWdodC10LmxlZnQsYz10LmJvdHRvbS10LnRvcCxoPW8uc3RyZXRjaFh8fFtbMCx1XV0sZj1vLnN0cmV0Y2hZfHxbWzAsbF1dLHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlWzFdLWVbMF19LGQ9aC5yZWR1Y2UoeSwwKSxtPWYucmVkdWNlKHksMCksdj11LWQsZz1sLW0seD0wLGI9ZCx3PTAsXz1tLEE9MCxTPXYsaz0wLEk9ZztpZihvLmNvbnRlbnQmJm4pe3ZhciB6PW8uY29udGVudDt4PXJsKGgsMCx6WzBdKSx3PXJsKGYsMCx6WzFdKSxiPXJsKGgselswXSx6WzJdKSxfPXJsKGYselsxXSx6WzNdKSxBPXpbMF0teCxrPXpbMV0tdyxTPXpbMl0telswXS1iLEk9elszXS16WzFdLV87fXZhciBDPWZ1bmN0aW9uKG4sYSx1LGwpe3ZhciBoPWlsKG4uc3RyZXRjaC14LGIscCx0LmxlZnQpLGY9YWwobi5maXhlZC1BLFMsbi5zdHJldGNoLGQpLHk9aWwoYS5zdHJldGNoLXcsXyxjLHQudG9wKSx2PWFsKGEuZml4ZWQtayxJLGEuc3RyZXRjaCxtKSxnPWlsKHUuc3RyZXRjaC14LGIscCx0LmxlZnQpLHo9YWwodS5maXhlZC1BLFMsdS5zdHJldGNoLGQpLEM9aWwobC5zdHJldGNoLXcsXyxjLHQudG9wKSxNPWFsKGwuZml4ZWQtayxJLGwuc3RyZXRjaCxtKSxUPW5ldyBpKGgseSksRT1uZXcgaShnLHkpLFA9bmV3IGkoZyxDKSxCPW5ldyBpKGgsQyksVj1uZXcgaShmL3Msdi9zKSxGPW5ldyBpKHovcyxNL3MpLEQ9ZSpNYXRoLlBJLzE4MDtpZihEKXt2YXIgTD1NYXRoLnNpbihEKSxSPU1hdGguY29zKEQpLE89W1IsLUwsTCxSXTtULl9tYXRNdWx0KE8pLEUuX21hdE11bHQoTyksQi5fbWF0TXVsdChPKSxQLl9tYXRNdWx0KE8pO312YXIgVT1uLnN0cmV0Y2grbi5maXhlZCxqPWEuc3RyZXRjaCthLmZpeGVkO3JldHVybiB7dGw6VCx0cjpFLGJsOkIsYnI6UCx0ZXg6e3g6by5wYWRkZWRSZWN0LngrdGwrVSx5Om8ucGFkZGVkUmVjdC55K3RsK2osdzp1LnN0cmV0Y2grdS5maXhlZC1VLGg6bC5zdHJldGNoK2wuZml4ZWQtan0sd3JpdGluZ01vZGU6dm9pZCAwLGdseXBoT2Zmc2V0OlswLDBdLHNlY3Rpb25JbmRleDowLHBpeGVsT2Zmc2V0VEw6VixwaXhlbE9mZnNldEJSOkYsbWluRm9udFNjYWxlWDpTL3MvcCxtaW5Gb250U2NhbGVZOkkvcy9jLGlzU0RGOnJ9fTtpZihuJiYoby5zdHJldGNoWHx8by5zdHJldGNoWSkpZm9yKHZhciBNPW5sKGgsdixkKSxUPW5sKGYsZyxtKSxFPTA7RTxNLmxlbmd0aC0xO0UrKylmb3IodmFyIFA9TVtFXSxCPU1bRSsxXSxWPTA7VjxULmxlbmd0aC0xO1YrKylhLnB1c2goQyhQLFRbVl0sQixUW1YrMV0pKTtlbHNlIGEucHVzaChDKHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6dSsxfSx7Zml4ZWQ6MCxzdHJldGNoOmwrMX0pKTtyZXR1cm4gYX1mdW5jdGlvbiBybCh0LGUscil7Zm9yKHZhciBuPTAsaT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpe3ZhciBvPWFbaV07bis9TWF0aC5tYXgoZSxNYXRoLm1pbihyLG9bMV0pKS1NYXRoLm1heChlLE1hdGgubWluKHIsb1swXSkpO31yZXR1cm4gbn1mdW5jdGlvbiBubCh0LGUscil7Zm9yKHZhciBuPVt7Zml4ZWQ6LXRsLHN0cmV0Y2g6MH1dLGk9MCxhPXQ7aTxhLmxlbmd0aDtpKz0xKXt2YXIgbz1hW2ldLHM9b1swXSx1PW9bMV0sbD1uW24ubGVuZ3RoLTFdO24ucHVzaCh7Zml4ZWQ6cy1sLnN0cmV0Y2gsc3RyZXRjaDpsLnN0cmV0Y2h9KSxuLnB1c2goe2ZpeGVkOnMtbC5zdHJldGNoLHN0cmV0Y2g6bC5zdHJldGNoKyh1LXMpfSk7fXJldHVybiBuLnB1c2goe2ZpeGVkOmUrdGwsc3RyZXRjaDpyfSksbn1mdW5jdGlvbiBpbCh0LGUscixuKXtyZXR1cm4gdC9lKnIrbn1mdW5jdGlvbiBhbCh0LGUscixuKXtyZXR1cm4gdC1lKnIvbn12YXIgb2w9ZnVuY3Rpb24odCxlLHIsbixhLG8scyx1LGwscCxjLGgpe3ZhciBmPXMudG9wKnUtbCx5PXMuYm90dG9tKnUrbCxkPXMubGVmdCp1LWwsbT1zLnJpZ2h0KnUrbCx2PXMuY29sbGlzaW9uUGFkZGluZztpZih2JiYoZC09dlswXSp1LGYtPXZbMV0qdSxtKz12WzJdKnUseSs9dlszXSp1KSx0aGlzLmJveFN0YXJ0SW5kZXg9dC5sZW5ndGgscCl7dmFyIGc9eS1mLHg9bS1kO2c+MCYmKGc9TWF0aC5tYXgoMTAqdSxnKSx0aGlzLl9hZGRMaW5lQ29sbGlzaW9uQ2lyY2xlcyh0LGUscixyLnNlZ21lbnQseCxnLG4sYSxvLGMpKTt9ZWxzZXtpZihoKXt2YXIgYj1uZXcgaShkLGYpLHc9bmV3IGkobSxmKSxfPW5ldyBpKGQseSksQT1uZXcgaShtLHkpLFM9aCpNYXRoLlBJLzE4MDtiLl9yb3RhdGUoUyksdy5fcm90YXRlKFMpLF8uX3JvdGF0ZShTKSxBLl9yb3RhdGUoUyksZD1NYXRoLm1pbihiLngsdy54LF8ueCxBLngpLG09TWF0aC5tYXgoYi54LHcueCxfLngsQS54KSxmPU1hdGgubWluKGIueSx3LnksXy55LEEueSkseT1NYXRoLm1heChiLnksdy55LF8ueSxBLnkpO310LmVtcGxhY2VCYWNrKHIueCxyLnksZCxmLG0seSxuLGEsbywwLDApO310aGlzLmJveEVuZEluZGV4PXQubGVuZ3RoO307b2wucHJvdG90eXBlLl9hZGRMaW5lQ29sbGlzaW9uQ2lyY2xlcz1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsKXt2YXIgcD1hLzIsYz1NYXRoLmZsb29yKGkvcCl8fDEsaD0xKy40Kk1hdGgubG9nKGwpL01hdGguTE4yLGY9TWF0aC5mbG9vcihjKmgvMikseT0tYS8yLGQ9cixtPW4rMSx2PXksZz0taS8yLHg9Zy1pLzQ7ZG97aWYoLS1tPDApe2lmKHY+ZylyZXR1cm47bT0wO2JyZWFrfXYtPWVbbV0uZGlzdChkKSxkPWVbbV07fXdoaWxlKHY+eCk7Zm9yKHZhciBiPWVbbV0uZGlzdChlW20rMV0pLHc9LWY7dzxjK2Y7dysrKXt2YXIgXz13KnAsQT1nK187aWYoXzwwJiYoQSs9XyksXz5pJiYoQSs9Xy1pKSwhKEE8dikpe2Zvcig7ditiPEE7KXtpZih2Kz1iLCsrbSsxPj1lLmxlbmd0aClyZXR1cm47Yj1lW21dLmRpc3QoZVttKzFdKTt9dmFyIFM9QS12LGs9ZVttXSxJPWVbbSsxXS5zdWIoaykuX3VuaXQoKS5fbXVsdChTKS5fYWRkKGspLl9yb3VuZCgpLHo9TWF0aC5hYnMoQS15KTxwPzA6LjgqKEEteSk7dC5lbXBsYWNlQmFjayhJLngsSS55LC1hLzIsLWEvMixhLzIsYS8yLG8scyx1LGEvMix6KTt9fX07dmFyIHNsPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWUmJihlPXVsKSx0aGlzLmRhdGE9dCx0aGlzLmxlbmd0aD10aGlzLmRhdGEubGVuZ3RoLHRoaXMuY29tcGFyZT1lLHRoaXMubGVuZ3RoPjApZm9yKHZhciByPSh0aGlzLmxlbmd0aD4+MSktMTtyPj0wO3ItLSl0aGlzLl9kb3duKHIpO307ZnVuY3Rpb24gdWwodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9ZnVuY3Rpb24gbGwodCxlLHIpe3ZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PXImJihyPSExKTtmb3IodmFyIG49MS8wLGE9MS8wLG89LTEvMCxzPS0xLzAsdT10WzBdLGw9MDtsPHUubGVuZ3RoO2wrKyl7dmFyIHA9dVtsXTsoIWx8fHAueDxuKSYmKG49cC54KSwoIWx8fHAueTxhKSYmKGE9cC55KSwoIWx8fHAueD5vKSYmKG89cC54KSwoIWx8fHAueT5zKSYmKHM9cC55KTt9dmFyIGM9TWF0aC5taW4oby1uLHMtYSksaD1jLzIsZj1uZXcgc2woW10scGwpO2lmKDA9PT1jKXJldHVybiBuZXcgaShuLGEpO2Zvcih2YXIgeT1uO3k8bzt5Kz1jKWZvcih2YXIgZD1hO2Q8cztkKz1jKWYucHVzaChuZXcgY2woeStoLGQraCxoLHQpKTtmb3IodmFyIG09ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj0wLG49MCxpPXRbMF0sYT0wLG89aS5sZW5ndGgscz1vLTE7YTxvO3M9YSsrKXt2YXIgdT1pW2FdLGw9aVtzXSxwPXUueCpsLnktbC54KnUueTtyKz0odS54K2wueCkqcCxuKz0odS55K2wueSkqcCxlKz0zKnA7fXJldHVybiBuZXcgY2woci9lLG4vZSwwLHQpfSh0KSx2PWYubGVuZ3RoO2YubGVuZ3RoOyl7dmFyIGc9Zi5wb3AoKTsoZy5kPm0uZHx8IW0uZCkmJihtPWcsciYmY29uc29sZS5sb2coImZvdW5kIGJlc3QgJWQgYWZ0ZXIgJWQgcHJvYmVzIixNYXRoLnJvdW5kKDFlNCpnLmQpLzFlNCx2KSksZy5tYXgtbS5kPD1lfHwoZi5wdXNoKG5ldyBjbChnLnAueC0oaD1nLmgvMiksZy5wLnktaCxoLHQpKSxmLnB1c2gobmV3IGNsKGcucC54K2gsZy5wLnktaCxoLHQpKSxmLnB1c2gobmV3IGNsKGcucC54LWgsZy5wLnkraCxoLHQpKSxmLnB1c2gobmV3IGNsKGcucC54K2gsZy5wLnkraCxoLHQpKSx2Kz00KTt9cmV0dXJuIHImJihjb25zb2xlLmxvZygibnVtIHByb2JlczogIit2KSxjb25zb2xlLmxvZygiYmVzdCBkaXN0YW5jZTogIittLmQpKSxtLnB9ZnVuY3Rpb24gcGwodCxlKXtyZXR1cm4gZS5tYXgtdC5tYXh9ZnVuY3Rpb24gY2wodCxlLHIsbil7dGhpcy5wPW5ldyBpKHQsZSksdGhpcy5oPXIsdGhpcy5kPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPSExLG49MS8wLGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIGE9ZVtpXSxvPTAscz1hLmxlbmd0aCx1PXMtMTtvPHM7dT1vKyspe3ZhciBsPWFbb10scD1hW3VdO2wueT50LnkhPXAueT50LnkmJnQueDwocC54LWwueCkqKHQueS1sLnkpLyhwLnktbC55KStsLngmJihyPSFyKSxuPU1hdGgubWluKG4scm8odCxsLHApKTt9cmV0dXJuIChyPzE6LTEpKk1hdGguc3FydChuKX0odGhpcy5wLG4pLHRoaXMubWF4PXRoaXMuZCt0aGlzLmgqTWF0aC5TUVJUMjt9c2wucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnB1c2godCksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKTt9LHNsLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5sZW5ndGgpe3ZhciB0PXRoaXMuZGF0YVswXSxlPXRoaXMuZGF0YS5wb3AoKTtyZXR1cm4gdGhpcy5sZW5ndGgtLSx0aGlzLmxlbmd0aD4wJiYodGhpcy5kYXRhWzBdPWUsdGhpcy5fZG93bigwKSksdH19LHNsLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YVswXX0sc2wucHJvdG90eXBlLl91cD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kYXRhLHI9dGhpcy5jb21wYXJlLG49ZVt0XTt0PjA7KXt2YXIgaT10LTE+PjEsYT1lW2ldO2lmKHIobixhKT49MClicmVhaztlW3RdPWEsdD1pO31lW3RdPW47fSxzbC5wcm90b3R5cGUuX2Rvd249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZGF0YSxyPXRoaXMuY29tcGFyZSxuPXRoaXMubGVuZ3RoPj4xLGk9ZVt0XTt0PG47KXt2YXIgYT0xKyh0PDwxKSxvPWVbYV0scz1hKzE7aWYoczx0aGlzLmxlbmd0aCYmcihlW3NdLG8pPDAmJihhPXMsbz1lW3NdKSxyKG8saSk+PTApYnJlYWs7ZVt0XT1vLHQ9YTt9ZVt0XT1pO307dmFyIGhsPTcsZmw9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2Z1bmN0aW9uIHlsKHQsZSl7cmV0dXJuIGVbMV0hPT1mbD9mdW5jdGlvbih0LGUscil7dmFyIG49MCxpPTA7c3dpdGNoKGU9TWF0aC5hYnMoZSkscj1NYXRoLmFicyhyKSx0KXtjYXNlInRvcC1yaWdodCI6Y2FzZSJ0b3AtbGVmdCI6Y2FzZSJ0b3AiOmk9ci1obDticmVhaztjYXNlImJvdHRvbS1yaWdodCI6Y2FzZSJib3R0b20tbGVmdCI6Y2FzZSJib3R0b20iOmk9LXIraGw7fXN3aXRjaCh0KXtjYXNlInRvcC1yaWdodCI6Y2FzZSJib3R0b20tcmlnaHQiOmNhc2UicmlnaHQiOm49LWU7YnJlYWs7Y2FzZSJ0b3AtbGVmdCI6Y2FzZSJib3R0b20tbGVmdCI6Y2FzZSJsZWZ0IjpuPWU7fXJldHVybiBbbixpXX0odCxlWzBdLGVbMV0pOmZ1bmN0aW9uKHQsZSl7dmFyIHI9MCxuPTA7ZTwwJiYoZT0wKTt2YXIgaT1lL01hdGguc3FydCgyKTtzd2l0Y2godCl7Y2FzZSJ0b3AtcmlnaHQiOmNhc2UidG9wLWxlZnQiOm49aS1obDticmVhaztjYXNlImJvdHRvbS1yaWdodCI6Y2FzZSJib3R0b20tbGVmdCI6bj0taStobDticmVhaztjYXNlImJvdHRvbSI6bj0tZStobDticmVhaztjYXNlInRvcCI6bj1lLWhsO31zd2l0Y2godCl7Y2FzZSJ0b3AtcmlnaHQiOmNhc2UiYm90dG9tLXJpZ2h0IjpyPS1pO2JyZWFrO2Nhc2UidG9wLWxlZnQiOmNhc2UiYm90dG9tLWxlZnQiOnI9aTticmVhaztjYXNlImxlZnQiOnI9ZTticmVhaztjYXNlInJpZ2h0IjpyPS1lO31yZXR1cm4gW3Isbl19KHQsZVswXSl9ZnVuY3Rpb24gZGwodCl7c3dpdGNoKHQpe2Nhc2UicmlnaHQiOmNhc2UidG9wLXJpZ2h0IjpjYXNlImJvdHRvbS1yaWdodCI6cmV0dXJuICJyaWdodCI7Y2FzZSJsZWZ0IjpjYXNlInRvcC1sZWZ0IjpjYXNlImJvdHRvbS1sZWZ0IjpyZXR1cm4gImxlZnQifXJldHVybiAiY2VudGVyIn12YXIgbWw9MjU1LHZsPW1sKk51O2Z1bmN0aW9uIGdsKHQsZSxyLG4sYSxvLHMsdSxsLHAsYyxoLGYseSxkKXt2YXIgbT1mdW5jdGlvbih0LGUscixuLGEsbyxzLHUpe2Zvcih2YXIgbD1uLmxheW91dC5nZXQoInRleHQtcm90YXRlIikuZXZhbHVhdGUobyx7fSkqTWF0aC5QSS8xODAscD1bXSxjPTAsaD1lLnBvc2l0aW9uZWRMaW5lcztjPGgubGVuZ3RoO2MrPTEpZm9yKHZhciBmPWhbY10seT0wLGQ9Zi5wb3NpdGlvbmVkR2x5cGhzO3k8ZC5sZW5ndGg7eSs9MSl7dmFyIG09ZFt5XTtpZihtLnJlY3Qpe3ZhciB2PW0ucmVjdHx8e30sZz13dSsxLHg9ITAsYj0xLHc9MCxfPShhfHx1KSYmbS52ZXJ0aWNhbCxBPW0ubWV0cmljcy5hZHZhbmNlKm0uc2NhbGUvMjtpZih1JiZlLnZlcnRpY2FsaXphYmxlJiYodz1mLmxpbmVPZmZzZXQvMi0obS5pbWFnZU5hbWU/LShZcy1tLm1ldHJpY3Mud2lkdGgqbS5zY2FsZSkvMjoobS5zY2FsZS0xKSpZcykpLG0uaW1hZ2VOYW1lKXt2YXIgUz1zW20uaW1hZ2VOYW1lXTt4PVMuc2RmLGc9QXUvKGI9Uy5waXhlbFJhdGlvKTt9dmFyIGs9YT9bbS54K0EsbS55XTpbMCwwXSxJPWE/WzAsMF06W20ueCtBK3JbMF0sbS55K3JbMV0td10sej1bMCwwXTtfJiYoej1JLEk9WzAsMF0pO3ZhciBDPShtLm1ldHJpY3MubGVmdC1nKSptLnNjYWxlLUErSVswXSxNPSgtbS5tZXRyaWNzLnRvcC1nKSptLnNjYWxlK0lbMV0sVD1DK3YudyptLnNjYWxlL2IsRT1NK3YuaCptLnNjYWxlL2IsUD1uZXcgaShDLE0pLEI9bmV3IGkoVCxNKSxWPW5ldyBpKEMsRSksRj1uZXcgaShULEUpO2lmKF8pe3ZhciBEPW5ldyBpKC1BLEEtQ3UpLEw9LU1hdGguUEkvMixSPVlzLzItQSxPPW5ldyBpKDUtQ3UtUiwtKG0uaW1hZ2VOYW1lP1I6MCkpLFU9bmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGksW251bGxdLmNvbmNhdCh6KSkpO1AuX3JvdGF0ZUFyb3VuZChMLEQpLl9hZGQoTykuX2FkZChVKSxCLl9yb3RhdGVBcm91bmQoTCxEKS5fYWRkKE8pLl9hZGQoVSksVi5fcm90YXRlQXJvdW5kKEwsRCkuX2FkZChPKS5fYWRkKFUpLEYuX3JvdGF0ZUFyb3VuZChMLEQpLl9hZGQoTykuX2FkZChVKTt9aWYobCl7dmFyIGo9TWF0aC5zaW4obCkscT1NYXRoLmNvcyhsKSxOPVtxLC1qLGoscV07UC5fbWF0TXVsdChOKSxCLl9tYXRNdWx0KE4pLFYuX21hdE11bHQoTiksRi5fbWF0TXVsdChOKTt9dmFyIEs9bmV3IGkoMCwwKSxHPW5ldyBpKDAsMCk7cC5wdXNoKHt0bDpQLHRyOkIsYmw6VixicjpGLHRleDp2LHdyaXRpbmdNb2RlOmUud3JpdGluZ01vZGUsZ2x5cGhPZmZzZXQ6ayxzZWN0aW9uSW5kZXg6bS5zZWN0aW9uSW5kZXgsaXNTREY6eCxwaXhlbE9mZnNldFRMOksscGl4ZWxPZmZzZXRCUjpHLG1pbkZvbnRTY2FsZVg6MCxtaW5Gb250U2NhbGVZOjB9KTt9fXJldHVybiBwfSgwLHIsdSxhLG8scyxuLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksdj10LnRleHRTaXplRGF0YSxnPW51bGw7InNvdXJjZSI9PT12LmtpbmQ/KGc9W051KmEubGF5b3V0LmdldCgidGV4dC1zaXplIikuZXZhbHVhdGUocyx7fSldKVswXT52bCYmdyh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciAidGV4dC1zaXplIiBpcyA+PSAnK21sKycuIFJlZHVjZSB5b3VyICJ0ZXh0LXNpemUiLicpOiJjb21wb3NpdGUiPT09di5raW5kJiYoKGc9W051KnkuY29tcG9zaXRlVGV4dFNpemVzWzBdLmV2YWx1YXRlKHMse30sZCksTnUqeS5jb21wb3NpdGVUZXh0U2l6ZXNbMV0uZXZhbHVhdGUocyx7fSxkKV0pWzBdPnZsfHxnWzFdPnZsKSYmdyh0LmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciAidGV4dC1zaXplIiBpcyA+PSAnK21sKycuIFJlZHVjZSB5b3VyICJ0ZXh0LXNpemUiLicpLHQuYWRkU3ltYm9scyh0LnRleHQsbSxnLHUsbyxzLHAsZSxsLmxpbmVTdGFydEluZGV4LGwubGluZUxlbmd0aCxmLGQpO2Zvcih2YXIgeD0wLGI9Yzt4PGIubGVuZ3RoO3grPTEpaFtiW3hdXT10LnRleHQucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTE7cmV0dXJuIDQqbS5sZW5ndGh9ZnVuY3Rpb24geGwodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuIHRbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmwodCxlLHIsbil7dmFyIGk9dC5jb21wYXJlVGV4dDtpZihlIGluIGkpe2Zvcih2YXIgYT1pW2VdLG89YS5sZW5ndGgtMTtvPj0wO28tLSlpZihuLmRpc3QoYVtvXSk8cilyZXR1cm4gITB9ZWxzZSBpW2VdPVtdO3JldHVybiBpW2VdLnB1c2gobiksITF9dmFyIHdsPUFzLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLF9sPVt7bmFtZToiYV9mYWRlX29wYWNpdHkiLGNvbXBvbmVudHM6MSx0eXBlOiJVaW50OCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiBBbCh0LGUscixuLGksYSxvLHMsdSxsLHAsYyxoKXt2YXIgZj1zP01hdGgubWluKHZsLE1hdGgucm91bmQoc1swXSkpOjAseT1zP01hdGgubWluKHZsLE1hdGgucm91bmQoc1sxXSkpOjA7dC5lbXBsYWNlQmFjayhlLHIsTWF0aC5yb3VuZCgzMipuKSxNYXRoLnJvdW5kKDMyKmkpLGEsbywoZjw8MSkrKHU/MTowKSx5LDE2KmwsMTYqcCwyNTYqYywyNTYqaCk7fWZ1bmN0aW9uIFNsKHQsZSxyKXt0LmVtcGxhY2VCYWNrKGUueCxlLnksciksdC5lbXBsYWNlQmFjayhlLngsZS55LHIpLHQuZW1wbGFjZUJhY2soZS54LGUueSxyKSx0LmVtcGxhY2VCYWNrKGUueCxlLnkscik7fWZ1bmN0aW9uIGtsKHQpe2Zvcih2YXIgZT0wLHI9dC5zZWN0aW9ucztlPHIubGVuZ3RoO2UrPTEpaWYob2kocltlXS50ZXh0KSlyZXR1cm4gITA7cmV0dXJuICExfXZhciBJbD1mdW5jdGlvbih0KXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBxaSx0aGlzLmluZGV4QXJyYXk9bmV3IFFpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXQsdGhpcy5zZWdtZW50cz1uZXcgZGEsdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk9bmV3IE5pLHRoaXMub3BhY2l0eVZlcnRleEFycmF5PW5ldyBLaSx0aGlzLnBsYWNlZFN5bWJvbEFycmF5PW5ldyBzYTt9O0lsLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuaW5kZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheS5sZW5ndGh9LElsLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5pc0VtcHR5KCl8fChyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxOcy5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5LGUpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxLcy5tZW1iZXJzLCEwKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5vcGFjaXR5VmVydGV4QXJyYXksX2wsITApLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5pdGVtU2l6ZT0xKSwocnx8bikmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSk7fSxJbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5kZXN0cm95KCkpO30sWG4oIlN5bWJvbEJ1ZmZlcnMiLElsKTt2YXIgemw9ZnVuY3Rpb24odCxlLHIpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHQsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPWUsdGhpcy5pbmRleEFycmF5PW5ldyByLHRoaXMuc2VnbWVudHM9bmV3IGRhLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3IFhpO307emwucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbih0KXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMubGF5b3V0QXR0cmlidXRlcyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheSxHcy5tZW1iZXJzLCEwKTt9LHpsLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKTt9LFhuKCJDb2xsaXNpb25CdWZmZXJzIix6bCk7dmFyIENsPWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy5zb3VyY2VMYXllckluZGV4PXQuc291cmNlTGF5ZXJJbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuc29ydEtleVJhbmdlcz1bXTt2YXIgZT10aGlzLmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlczt0aGlzLnRleHRTaXplRGF0YT1LdSh0aGlzLnpvb20sZVsidGV4dC1zaXplIl0pLHRoaXMuaWNvblNpemVEYXRhPUt1KHRoaXMuem9vbSxlWyJpY29uLXNpemUiXSk7dmFyIHI9dGhpcy5sYXllcnNbMF0ubGF5b3V0LG49ci5nZXQoInN5bWJvbC1zb3J0LWtleSIpLGk9ci5nZXQoInN5bWJvbC16LW9yZGVyIik7dGhpcy5zb3J0RmVhdHVyZXNCeUtleT0idmlld3BvcnQteSIhPT1pJiZ2b2lkIDAhPT1uLmNvbnN0YW50T3IoMSksdGhpcy5zb3J0RmVhdHVyZXNCeVk9KCJ2aWV3cG9ydC15Ij09PWl8fCJhdXRvIj09PWkmJiF0aGlzLnNvcnRGZWF0dXJlc0J5S2V5KSYmKHIuZ2V0KCJ0ZXh0LWFsbG93LW92ZXJsYXAiKXx8ci5nZXQoImljb24tYWxsb3ctb3ZlcmxhcCIpfHxyLmdldCgidGV4dC1pZ25vcmUtcGxhY2VtZW50Iil8fHIuZ2V0KCJpY29uLWlnbm9yZS1wbGFjZW1lbnQiKSksInBvaW50Ij09PXIuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IikmJih0aGlzLndyaXRpbmdNb2Rlcz1yLmdldCgidGV4dC13cml0aW5nLW1vZGUiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB6dVt0XX0pKSksdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTdGF0ZURlcGVuZGVudCgpfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5zb3VyY2VJRD10LnNvdXJjZUlEO307Q2wucHJvdG90eXBlLmNyZWF0ZUFycmF5cz1mdW5jdGlvbigpe3RoaXMudGV4dD1uZXcgSWwobmV3IHFhKE5zLm1lbWJlcnMsdGhpcy5sYXllcnMsdGhpcy56b29tLChmdW5jdGlvbih0KXtyZXR1cm4gL150ZXh0Ly50ZXN0KHQpfSkpKSx0aGlzLmljb249bmV3IElsKG5ldyBxYShOcy5tZW1iZXJzLHRoaXMubGF5ZXJzLHRoaXMuem9vbSwoZnVuY3Rpb24odCl7cmV0dXJuIC9eaWNvbi8udGVzdCh0KX0pKSksdGhpcy5nbHlwaE9mZnNldEFycmF5PW5ldyBwYSx0aGlzLmxpbmVWZXJ0ZXhBcnJheT1uZXcgY2EsdGhpcy5zeW1ib2xJbnN0YW5jZXM9bmV3IGxhO30sQ2wucHJvdG90eXBlLmNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzPWZ1bmN0aW9uKHQsZSxyLG4saSl7Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspaWYoZVt0LmNoYXJDb2RlQXQoYSldPSEwLChyfHxuKSYmaSl7dmFyIG89SHNbdC5jaGFyQXQoYSldO28mJihlW28uY2hhckNvZGVBdCgwKV09ITApO319LENsLnByb3RvdHlwZS5wb3B1bGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5sYXllcnNbMF0saT1uLmxheW91dCxhPWkuZ2V0KCJ0ZXh0LWZvbnQiKSxvPWkuZ2V0KCJ0ZXh0LWZpZWxkIikscz1pLmdldCgiaWNvbi1pbWFnZSIpLHU9KCJjb25zdGFudCIhPT1vLnZhbHVlLmtpbmR8fG8udmFsdWUudmFsdWUgaW5zdGFuY2VvZiB0ZSYmIW8udmFsdWUudmFsdWUuaXNFbXB0eSgpfHxvLnZhbHVlLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoPjApJiYoImNvbnN0YW50IiE9PWEudmFsdWUua2luZHx8YS52YWx1ZS52YWx1ZS5sZW5ndGg+MCksbD0iY29uc3RhbnQiIT09cy52YWx1ZS5raW5kfHwhIXMudmFsdWUudmFsdWV8fE9iamVjdC5rZXlzKHMucGFyYW1ldGVycykubGVuZ3RoPjAscD1pLmdldCgic3ltYm9sLXNvcnQta2V5Iik7aWYodGhpcy5mZWF0dXJlcz1bXSx1fHxsKXtmb3IodmFyIGM9ZS5pY29uRGVwZW5kZW5jaWVzLGg9ZS5nbHlwaERlcGVuZGVuY2llcyxmPWUuYXZhaWxhYmxlSW1hZ2VzLHk9bmV3IG1pKHRoaXMuem9vbSksZD0wLG09dDtkPG0ubGVuZ3RoO2QrPTEpe3ZhciB2PW1bZF0sZz12LmZlYXR1cmUseD12LmlkLGI9di5pbmRleCx3PXYuc291cmNlTGF5ZXJJbmRleCxfPW4uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LEE9e3R5cGU6Zy50eXBlLGlkOngscHJvcGVydGllczpnLnByb3BlcnRpZXMsZ2VvbWV0cnk6Xz9aYShnKTpbXX07aWYobi5fZmVhdHVyZUZpbHRlci5maWx0ZXIoeSxBLHIpKXtffHwoQS5nZW9tZXRyeT1aYShnKSk7dmFyIFM9dm9pZCAwO2lmKHUpe3ZhciBrPW4uZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKCJ0ZXh0LWZpZWxkIixBLHIsZiksST10ZS5mYWN0b3J5KGspO2tsKEkpJiYodGhpcy5oYXNSVExUZXh0PSEwKSwoIXRoaXMuaGFzUlRMVGV4dHx8InVuYXZhaWxhYmxlIj09PWZpKCl8fHRoaXMuaGFzUlRMVGV4dCYmZGkuaXNQYXJzZWQoKSkmJihTPUpzKEksbixBKSk7fXZhciB6PXZvaWQgMDtpZihsKXt2YXIgQz1uLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucygiaWNvbi1pbWFnZSIsQSxyLGYpO3o9QyBpbnN0YW5jZW9mIGVlP0M6ZWUuZnJvbVN0cmluZyhDKTt9aWYoU3x8eil7dmFyIE09dGhpcy5zb3J0RmVhdHVyZXNCeUtleT9wLmV2YWx1YXRlKEEse30scik6dm9pZCAwLFQ9e2lkOngsdGV4dDpTLGljb246eixpbmRleDpiLHNvdXJjZUxheWVySW5kZXg6dyxnZW9tZXRyeTpaYShnKSxwcm9wZXJ0aWVzOmcucHJvcGVydGllcyx0eXBlOndsW2cudHlwZV0sc29ydEtleTpNfTtpZih0aGlzLmZlYXR1cmVzLnB1c2goVCkseiYmKGNbei5uYW1lXT0hMCksUyl7dmFyIEU9YS5ldmFsdWF0ZShBLHt9LHIpLmpvaW4oIiwiKSxQPSJtYXAiPT09aS5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50IikmJiJwb2ludCIhPT1pLmdldCgic3ltYm9sLXBsYWNlbWVudCIpO3RoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudD10aGlzLndyaXRpbmdNb2RlcyYmdGhpcy53cml0aW5nTW9kZXMuaW5kZXhPZih6dS52ZXJ0aWNhbCk+PTA7Zm9yKHZhciBCPTAsVj1TLnNlY3Rpb25zO0I8Vi5sZW5ndGg7Qis9MSl7dmFyIEY9VltCXTtpZihGLmltYWdlKWNbRi5pbWFnZS5uYW1lXT0hMDtlbHNle3ZhciBEPWVpKFMudG9TdHJpbmcoKSksTD1GLmZvbnRTdGFja3x8RSxSPWhbTF09aFtMXXx8e307dGhpcy5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhGLnRleHQsUixQLHRoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCxEKTt9fX19fX0ibGluZSI9PT1pLmdldCgic3ltYm9sLXBsYWNlbWVudCIpJiYodGhpcy5mZWF0dXJlcz1mdW5jdGlvbih0KXt2YXIgZT17fSxyPXt9LG49W10saT0wO2Z1bmN0aW9uIGEoZSl7bi5wdXNoKHRbZV0pLGkrKzt9ZnVuY3Rpb24gbyh0LGUsaSl7dmFyIGE9clt0XTtyZXR1cm4gZGVsZXRlIHJbdF0scltlXT1hLG5bYV0uZ2VvbWV0cnlbMF0ucG9wKCksblthXS5nZW9tZXRyeVswXT1uW2FdLmdlb21ldHJ5WzBdLmNvbmNhdChpWzBdKSxhfWZ1bmN0aW9uIHModCxyLGkpe3ZhciBhPWVbcl07cmV0dXJuIGRlbGV0ZSBlW3JdLGVbdF09YSxuW2FdLmdlb21ldHJ5WzBdLnNoaWZ0KCksblthXS5nZW9tZXRyeVswXT1pWzBdLmNvbmNhdChuW2FdLmdlb21ldHJ5WzBdKSxhfWZ1bmN0aW9uIHUodCxlLHIpe3ZhciBuPXI/ZVswXVtlWzBdLmxlbmd0aC0xXTplWzBdWzBdO3JldHVybiB0KyI6IituLngrIjoiK24ueX1mb3IodmFyIGw9MDtsPHQubGVuZ3RoO2wrKyl7dmFyIHA9dFtsXSxjPXAuZ2VvbWV0cnksaD1wLnRleHQ/cC50ZXh0LnRvU3RyaW5nKCk6bnVsbDtpZihoKXt2YXIgZj11KGgsYykseT11KGgsYywhMCk7aWYoZiBpbiByJiZ5IGluIGUmJnJbZl0hPT1lW3ldKXt2YXIgZD1zKGYseSxjKSxtPW8oZix5LG5bZF0uZ2VvbWV0cnkpO2RlbGV0ZSBlW2ZdLGRlbGV0ZSByW3ldLHJbdShoLG5bbV0uZ2VvbWV0cnksITApXT1tLG5bZF0uZ2VvbWV0cnk9bnVsbDt9ZWxzZSBmIGluIHI/byhmLHksYyk6eSBpbiBlP3MoZix5LGMpOihhKGwpLGVbZl09aS0xLHJbeV09aS0xKTt9ZWxzZSBhKGwpO31yZXR1cm4gbi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5fSkpfSh0aGlzLmZlYXR1cmVzKSksdGhpcy5zb3J0RmVhdHVyZXNCeUtleSYmdGhpcy5mZWF0dXJlcy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNvcnRLZXktZS5zb3J0S2V5fSkpO319LENsLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiYodGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5sYXllcnMsciksdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5sYXllcnMscikpO30sQ2wucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCYmIXRoaXMuaGFzUlRMVGV4dH0sQ2wucHJvdG90eXBlLnVwbG9hZFBlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR8fHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9LENsLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7IXRoaXMudXBsb2FkZWQmJnRoaXMuaGFzRGVidWdEYXRhKCkmJih0aGlzLnRleHRDb2xsaXNpb25Cb3gudXBsb2FkKHQpLHRoaXMuaWNvbkNvbGxpc2lvbkJveC51cGxvYWQodCksdGhpcy50ZXh0Q29sbGlzaW9uQ2lyY2xlLnVwbG9hZCh0KSx0aGlzLmljb25Db2xsaXNpb25DaXJjbGUudXBsb2FkKHQpKSx0aGlzLnRleHQudXBsb2FkKHQsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCksdGhpcy5pY29uLnVwbG9hZCh0LHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQpLHRoaXMudXBsb2FkZWQ9ITA7fSxDbC5wcm90b3R5cGUuZGVzdHJveURlYnVnRGF0YT1mdW5jdGlvbigpe3RoaXMudGV4dENvbGxpc2lvbkJveC5kZXN0cm95KCksdGhpcy5pY29uQ29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLnRleHRDb2xsaXNpb25DaXJjbGUuZGVzdHJveSgpLHRoaXMuaWNvbkNvbGxpc2lvbkNpcmNsZS5kZXN0cm95KCk7fSxDbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKTt9LENsLnByb3RvdHlwZS5hZGRUb0xpbmVWZXJ0ZXhBcnJheT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aDtpZih2b2lkIDAhPT10LnNlZ21lbnQpe2Zvcih2YXIgbj10LmRpc3QoZVt0LnNlZ21lbnQrMV0pLGk9dC5kaXN0KGVbdC5zZWdtZW50XSksYT17fSxvPXQuc2VnbWVudCsxO288ZS5sZW5ndGg7bysrKWFbb109e3g6ZVtvXS54LHk6ZVtvXS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOm59LG88ZS5sZW5ndGgtMSYmKG4rPWVbbysxXS5kaXN0KGVbb10pKTtmb3IodmFyIHM9dC5zZWdtZW50fHwwO3M+PTA7cy0tKWFbc109e3g6ZVtzXS54LHk6ZVtzXS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOml9LHM+MCYmKGkrPWVbcy0xXS5kaXN0KGVbc10pKTtmb3IodmFyIHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIGw9YVt1XTt0aGlzLmxpbmVWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhsLngsbC55LGwudGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IpO319cmV0dXJuIHtsaW5lU3RhcnRJbmRleDpyLGxpbmVMZW5ndGg6dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoLXJ9fSxDbC5wcm90b3R5cGUuYWRkU3ltYm9scz1mdW5jdGlvbih0LGUscixuLGksYSxvLHMsdSxsLHAsYyl7Zm9yKHZhciBoPXQuaW5kZXhBcnJheSxmPXQubGF5b3V0VmVydGV4QXJyYXkseT10LnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQqZS5sZW5ndGgsZixoLGEuc29ydEtleSksZD10aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLG09eS52ZXJ0ZXhMZW5ndGgsdj10aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJm89PT16dS52ZXJ0aWNhbD9NYXRoLlBJLzI6MCxnPWEudGV4dCYmYS50ZXh0LnNlY3Rpb25zLHg9MDt4PGUubGVuZ3RoO3grKyl7dmFyIGI9ZVt4XSx3PWIudGwsXz1iLnRyLEE9Yi5ibCxTPWIuYnIsaz1iLnRleCxJPWIucGl4ZWxPZmZzZXRUTCx6PWIucGl4ZWxPZmZzZXRCUixDPWIubWluRm9udFNjYWxlWCxNPWIubWluRm9udFNjYWxlWSxUPWIuZ2x5cGhPZmZzZXQsRT1iLmlzU0RGLFA9Yi5zZWN0aW9uSW5kZXgsQj15LnZlcnRleExlbmd0aCxWPVRbMV07QWwoZixzLngscy55LHcueCxWK3cueSxrLngsay55LHIsRSxJLngsSS55LEMsTSksQWwoZixzLngscy55LF8ueCxWK18ueSxrLngray53LGsueSxyLEUsei54LEkueSxDLE0pLEFsKGYscy54LHMueSxBLngsVitBLnksay54LGsueStrLmgscixFLEkueCx6LnksQyxNKSxBbChmLHMueCxzLnksUy54LFYrUy55LGsueCtrLncsay55K2suaCxyLEUsei54LHoueSxDLE0pLFNsKHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHMsdiksaC5lbXBsYWNlQmFjayhCLEIrMSxCKzIpLGguZW1wbGFjZUJhY2soQisxLEIrMixCKzMpLHkudmVydGV4TGVuZ3RoKz00LHkucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhUWzBdKSx4IT09ZS5sZW5ndGgtMSYmUD09PWVbeCsxXS5zZWN0aW9uSW5kZXh8fHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMoZi5sZW5ndGgsYSxhLmluZGV4LHt9LGMsZyYmZ1tQXSk7fXQucGxhY2VkU3ltYm9sQXJyYXkuZW1wbGFjZUJhY2socy54LHMueSxkLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGgtZCxtLHUsbCxzLnNlZ21lbnQscj9yWzBdOjAscj9yWzFdOjAsblswXSxuWzFdLG8sMCwhMSwwLHApO30sQ2wucHJvdG90eXBlLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleD1mdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIGUuZW1wbGFjZUJhY2soMCwwKSx0LmVtcGxhY2VCYWNrKHIueCxyLnksbixpLE1hdGgucm91bmQoYS54KSxNYXRoLnJvdW5kKGEueSkpfSxDbC5wcm90b3R5cGUuYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcz1mdW5jdGlvbih0LGUscixuLGEsbyxzLHUpe3ZhciBsPWEuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCxhLmxheW91dFZlcnRleEFycmF5LGEuaW5kZXhBcnJheSkscD1sLnZlcnRleExlbmd0aCxjPWEubGF5b3V0VmVydGV4QXJyYXksaD1hLmNvbGxpc2lvblZlcnRleEFycmF5LGY9cy5hbmNob3JYLHk9cy5hbmNob3JZO2lmKHRoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGV4KGMsaCxvLGYseSxuZXcgaSh0LGUpKSx0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRleChjLGgsbyxmLHksbmV3IGkocixlKSksdGhpcy5fYWRkQ29sbGlzaW9uRGVidWdWZXJ0ZXgoYyxoLG8sZix5LG5ldyBpKHIsbikpLHRoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGV4KGMsaCxvLGYseSxuZXcgaSh0LG4pKSxsLnZlcnRleExlbmd0aCs9NCx1KXt2YXIgZD1hLmluZGV4QXJyYXk7ZC5lbXBsYWNlQmFjayhwLHArMSxwKzIpLGQuZW1wbGFjZUJhY2socCxwKzIscCszKSxsLnByaW1pdGl2ZUxlbmd0aCs9Mjt9ZWxzZXt2YXIgbT1hLmluZGV4QXJyYXk7bS5lbXBsYWNlQmFjayhwLHArMSksbS5lbXBsYWNlQmFjayhwKzEscCsyKSxtLmVtcGxhY2VCYWNrKHArMixwKzMpLG0uZW1wbGFjZUJhY2socCszLHApLGwucHJpbWl0aXZlTGVuZ3RoKz00O319LENsLnByb3RvdHlwZS5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzPWZ1bmN0aW9uKHQsZSxyLG4pe2Zvcih2YXIgaT10O2k8ZTtpKyspe3ZhciBhPXRoaXMuY29sbGlzaW9uQm94QXJyYXkuZ2V0KGkpLG89YS5yYWRpdXM+MDt0aGlzLmFkZENvbGxpc2lvbkRlYnVnVmVydGljZXMoYS54MSxhLnkxLGEueDIsYS55MixvP24/dGhpcy50ZXh0Q29sbGlzaW9uQ2lyY2xlOnRoaXMuaWNvbkNvbGxpc2lvbkNpcmNsZTpuP3RoaXMudGV4dENvbGxpc2lvbkJveDp0aGlzLmljb25Db2xsaXNpb25Cb3gsYS5hbmNob3JQb2ludCxyLG8pO319LENsLnByb3RvdHlwZS5nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycz1mdW5jdGlvbigpe3RoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpLHRoaXMudGV4dENvbGxpc2lvbkJveD1uZXcgemwoWmksWnMubWVtYmVycyx0YSksdGhpcy5pY29uQ29sbGlzaW9uQm94PW5ldyB6bChaaSxacy5tZW1iZXJzLHRhKSx0aGlzLnRleHRDb2xsaXNpb25DaXJjbGU9bmV3IHpsKFppLFhzLm1lbWJlcnMsUWkpLHRoaXMuaWNvbkNvbGxpc2lvbkNpcmNsZT1uZXcgemwoWmksWHMubWVtYmVycyxRaSk7Zm9yKHZhciB0PTA7dDx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7dCsrKXt2YXIgZT10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQodCk7dGhpcy5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzKGUudGV4dEJveFN0YXJ0SW5kZXgsZS50ZXh0Qm94RW5kSW5kZXgsZSwhMCksdGhpcy5hZGREZWJ1Z0NvbGxpc2lvbkJveGVzKGUudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxlLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LGUsITApLHRoaXMuYWRkRGVidWdDb2xsaXNpb25Cb3hlcyhlLmljb25Cb3hTdGFydEluZGV4LGUuaWNvbkJveEVuZEluZGV4LGUsITEpLHRoaXMuYWRkRGVidWdDb2xsaXNpb25Cb3hlcyhlLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsZS52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxlLCExKTt9fSxDbC5wcm90b3R5cGUuX2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2w9ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUpe2Zvcih2YXIgbD17fSxwPWU7cDxyO3ArKyl7dmFyIGM9dC5nZXQocCk7aWYoMD09PWMucmFkaXVzKXtsLnRleHRCb3g9e3gxOmMueDEseTE6Yy55MSx4MjpjLngyLHkyOmMueTIsYW5jaG9yUG9pbnRYOmMuYW5jaG9yUG9pbnRYLGFuY2hvclBvaW50WTpjLmFuY2hvclBvaW50WX0sbC50ZXh0RmVhdHVyZUluZGV4PWMuZmVhdHVyZUluZGV4O2JyZWFrfWwudGV4dENpcmNsZXN8fChsLnRleHRDaXJjbGVzPVtdLGwudGV4dEZlYXR1cmVJbmRleD1jLmZlYXR1cmVJbmRleCksbC50ZXh0Q2lyY2xlcy5wdXNoKGMuYW5jaG9yUG9pbnRYLGMuYW5jaG9yUG9pbnRZLGMucmFkaXVzLGMuc2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yLDEpO31mb3IodmFyIGg9bjtoPGk7aCsrKXt2YXIgZj10LmdldChoKTtpZigwPT09Zi5yYWRpdXMpe2wudmVydGljYWxUZXh0Qm94PXt4MTpmLngxLHkxOmYueTEseDI6Zi54Mix5MjpmLnkyLGFuY2hvclBvaW50WDpmLmFuY2hvclBvaW50WCxhbmNob3JQb2ludFk6Zi5hbmNob3JQb2ludFl9LGwudmVydGljYWxUZXh0RmVhdHVyZUluZGV4PWYuZmVhdHVyZUluZGV4O2JyZWFrfX1mb3IodmFyIHk9YTt5PG87eSsrKXt2YXIgZD10LmdldCh5KTtpZigwPT09ZC5yYWRpdXMpe2wuaWNvbkJveD17eDE6ZC54MSx5MTpkLnkxLHgyOmQueDIseTI6ZC55MixhbmNob3JQb2ludFg6ZC5hbmNob3JQb2ludFgsYW5jaG9yUG9pbnRZOmQuYW5jaG9yUG9pbnRZfSxsLmljb25GZWF0dXJlSW5kZXg9ZC5mZWF0dXJlSW5kZXg7YnJlYWt9fWZvcih2YXIgbT1zO208dTttKyspe3ZhciB2PXQuZ2V0KG0pO2lmKDA9PT12LnJhZGl1cyl7bC52ZXJ0aWNhbEljb25Cb3g9e3gxOnYueDEseTE6di55MSx4Mjp2LngyLHkyOnYueTIsYW5jaG9yUG9pbnRYOnYuYW5jaG9yUG9pbnRYLGFuY2hvclBvaW50WTp2LmFuY2hvclBvaW50WX0sbC52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9di5mZWF0dXJlSW5kZXg7YnJlYWt9fXJldHVybiBsfSxDbC5wcm90b3R5cGUuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcz1mdW5jdGlvbih0KXt0aGlzLmNvbGxpc2lvbkFycmF5cz1bXTtmb3IodmFyIGU9MDtlPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspe3ZhciByPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChlKTt0aGlzLmNvbGxpc2lvbkFycmF5cy5wdXNoKHRoaXMuX2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2wodCxyLnRleHRCb3hTdGFydEluZGV4LHIudGV4dEJveEVuZEluZGV4LHIudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxyLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LHIuaWNvbkJveFN0YXJ0SW5kZXgsci5pY29uQm94RW5kSW5kZXgsci52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LHIudmVydGljYWxJY29uQm94RW5kSW5kZXgpKTt9fSxDbC5wcm90b3R5cGUuaGFzVGV4dERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfSxDbC5wcm90b3R5cGUuaGFzSWNvbkRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfSxDbC5wcm90b3R5cGUuaGFzRGVidWdEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dENvbGxpc2lvbkJveCYmdGhpcy5pY29uQ29sbGlzaW9uQm94JiZ0aGlzLnRleHRDb2xsaXNpb25DaXJjbGUmJnRoaXMuaWNvbkNvbGxpc2lvbkNpcmNsZX0sQ2wucHJvdG90eXBlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH0sQ2wucHJvdG90eXBlLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH0sQ2wucHJvdG90eXBlLmhhc1RleHRDb2xsaXNpb25DaXJjbGVEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkNpcmNsZS5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH0sQ2wucHJvdG90eXBlLmhhc0ljb25Db2xsaXNpb25DaXJjbGVEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkNpcmNsZS5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH0sQ2wucHJvdG90eXBlLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2w9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoZSksbj1yLnZlcnRleFN0YXJ0SW5kZXgrNCpyLm51bUdseXBocyxpPXIudmVydGV4U3RhcnRJbmRleDtpPG47aSs9NCl0LmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaSxpKzEsaSsyKSx0LmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaSsxLGkrMixpKzMpO30sQ2wucHJvdG90eXBlLmdldFNvcnRlZFN5bWJvbEluZGV4ZXM9ZnVuY3Rpb24odCl7aWYodGhpcy5zb3J0ZWRBbmdsZT09PXQmJnZvaWQgMCE9PXRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzKXJldHVybiB0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcztmb3IodmFyIGU9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KSxuPVtdLGk9W10sYT1bXSxvPTA7bzx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7KytvKXthLnB1c2gobyk7dmFyIHM9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KG8pO24ucHVzaCgwfE1hdGgucm91bmQoZSpzLmFuY2hvclgrcipzLmFuY2hvclkpKSxpLnB1c2gocy5mZWF0dXJlSW5kZXgpO31yZXR1cm4gYS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBuW3RdLW5bZV18fGlbZV0taVt0XX0pKSxhfSxDbC5wcm90b3R5cGUuYWRkVG9Tb3J0S2V5UmFuZ2VzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5zb3J0S2V5UmFuZ2VzW3RoaXMuc29ydEtleVJhbmdlcy5sZW5ndGgtMV07ciYmci5zb3J0S2V5PT09ZT9yLnN5bWJvbEluc3RhbmNlRW5kPXQrMTp0aGlzLnNvcnRLZXlSYW5nZXMucHVzaCh7c29ydEtleTplLHN5bWJvbEluc3RhbmNlU3RhcnQ6dCxzeW1ib2xJbnN0YW5jZUVuZDp0KzF9KTt9LENsLnByb3RvdHlwZS5zb3J0RmVhdHVyZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLnNvcnRGZWF0dXJlc0J5WSYmdGhpcy5zb3J0ZWRBbmdsZSE9PXQmJiEodGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xfHx0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjEpKXt0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcz10aGlzLmdldFNvcnRlZFN5bWJvbEluZGV4ZXModCksdGhpcy5zb3J0ZWRBbmdsZT10LHRoaXMudGV4dC5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5pY29uLmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmZlYXR1cmVTb3J0T3JkZXI9W107Zm9yKHZhciByPTAsbj10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcztyPG4ubGVuZ3RoO3IrPTEpe3ZhciBpPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChuW3JdKTt0aGlzLmZlYXR1cmVTb3J0T3JkZXIucHVzaChpLmZlYXR1cmVJbmRleCksW2kucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsaS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsaS5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XS5mb3JFYWNoKChmdW5jdGlvbih0LHIsbil7dD49MCYmbi5pbmRleE9mKHQpPT09ciYmZS5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKGUudGV4dCx0KTt9KSksaS52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleD49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxpLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxpLnBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMuaWNvbixpLnBsYWNlZEljb25TeW1ib2xJbmRleCksaS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMuaWNvbixpLnZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4KTt9dGhpcy50ZXh0LmluZGV4QnVmZmVyJiZ0aGlzLnRleHQuaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnRleHQuaW5kZXhBcnJheSksdGhpcy5pY29uLmluZGV4QnVmZmVyJiZ0aGlzLmljb24uaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmljb24uaW5kZXhBcnJheSk7fX0sWG4oIlN5bWJvbEJ1Y2tldCIsQ2wse29taXQ6WyJsYXllcnMiLCJjb2xsaXNpb25Cb3hBcnJheSIsImZlYXR1cmVzIiwiY29tcGFyZVRleHQiXX0pLENsLk1BWF9HTFlQSFM9NjU1MzUsQ2wuYWRkRHluYW1pY0F0dHJpYnV0ZXM9U2w7dmFyIE1sPW5ldyBUaSh7InN5bWJvbC1wbGFjZW1lbnQiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJzeW1ib2wtcGxhY2VtZW50Il0pLCJzeW1ib2wtc3BhY2luZyI6bmV3IGtpKEN0LmxheW91dF9zeW1ib2xbInN5bWJvbC1zcGFjaW5nIl0pLCJzeW1ib2wtYXZvaWQtZWRnZXMiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJzeW1ib2wtYXZvaWQtZWRnZXMiXSksInN5bWJvbC1zb3J0LWtleSI6bmV3IElpKEN0LmxheW91dF9zeW1ib2xbInN5bWJvbC1zb3J0LWtleSJdKSwic3ltYm9sLXotb3JkZXIiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJzeW1ib2wtei1vcmRlciJdKSwiaWNvbi1hbGxvdy1vdmVybGFwIjpuZXcga2koQ3QubGF5b3V0X3N5bWJvbFsiaWNvbi1hbGxvdy1vdmVybGFwIl0pLCJpY29uLWlnbm9yZS1wbGFjZW1lbnQiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJpY29uLWlnbm9yZS1wbGFjZW1lbnQiXSksImljb24tb3B0aW9uYWwiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJpY29uLW9wdGlvbmFsIl0pLCJpY29uLXJvdGF0aW9uLWFsaWdubWVudCI6bmV3IGtpKEN0LmxheW91dF9zeW1ib2xbImljb24tcm90YXRpb24tYWxpZ25tZW50Il0pLCJpY29uLXNpemUiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJpY29uLXNpemUiXSksImljb24tdGV4dC1maXQiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJpY29uLXRleHQtZml0Il0pLCJpY29uLXRleHQtZml0LXBhZGRpbmciOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJpY29uLXRleHQtZml0LXBhZGRpbmciXSksImljb24taW1hZ2UiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJpY29uLWltYWdlIl0pLCJpY29uLXJvdGF0ZSI6bmV3IElpKEN0LmxheW91dF9zeW1ib2xbImljb24tcm90YXRlIl0pLCJpY29uLXBhZGRpbmciOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJpY29uLXBhZGRpbmciXSksImljb24ta2VlcC11cHJpZ2h0IjpuZXcga2koQ3QubGF5b3V0X3N5bWJvbFsiaWNvbi1rZWVwLXVwcmlnaHQiXSksImljb24tb2Zmc2V0IjpuZXcgSWkoQ3QubGF5b3V0X3N5bWJvbFsiaWNvbi1vZmZzZXQiXSksImljb24tYW5jaG9yIjpuZXcgSWkoQ3QubGF5b3V0X3N5bWJvbFsiaWNvbi1hbmNob3IiXSksImljb24tcGl0Y2gtYWxpZ25tZW50IjpuZXcga2koQ3QubGF5b3V0X3N5bWJvbFsiaWNvbi1waXRjaC1hbGlnbm1lbnQiXSksInRleHQtcGl0Y2gtYWxpZ25tZW50IjpuZXcga2koQ3QubGF5b3V0X3N5bWJvbFsidGV4dC1waXRjaC1hbGlnbm1lbnQiXSksInRleHQtcm90YXRpb24tYWxpZ25tZW50IjpuZXcga2koQ3QubGF5b3V0X3N5bWJvbFsidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiXSksInRleHQtZmllbGQiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWZpZWxkIl0pLCJ0ZXh0LWZvbnQiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWZvbnQiXSksInRleHQtc2l6ZSI6bmV3IElpKEN0LmxheW91dF9zeW1ib2xbInRleHQtc2l6ZSJdKSwidGV4dC1tYXgtd2lkdGgiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LW1heC13aWR0aCJdKSwidGV4dC1saW5lLWhlaWdodCI6bmV3IGtpKEN0LmxheW91dF9zeW1ib2xbInRleHQtbGluZS1oZWlnaHQiXSksInRleHQtbGV0dGVyLXNwYWNpbmciOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWxldHRlci1zcGFjaW5nIl0pLCJ0ZXh0LWp1c3RpZnkiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWp1c3RpZnkiXSksInRleHQtcmFkaWFsLW9mZnNldCI6bmV3IElpKEN0LmxheW91dF9zeW1ib2xbInRleHQtcmFkaWFsLW9mZnNldCJdKSwidGV4dC12YXJpYWJsZS1hbmNob3IiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXZhcmlhYmxlLWFuY2hvciJdKSwidGV4dC1hbmNob3IiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWFuY2hvciJdKSwidGV4dC1tYXgtYW5nbGUiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LW1heC1hbmdsZSJdKSwidGV4dC13cml0aW5nLW1vZGUiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXdyaXRpbmctbW9kZSJdKSwidGV4dC1yb3RhdGUiOm5ldyBJaShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LXJvdGF0ZSJdKSwidGV4dC1wYWRkaW5nIjpuZXcga2koQ3QubGF5b3V0X3N5bWJvbFsidGV4dC1wYWRkaW5nIl0pLCJ0ZXh0LWtlZXAtdXByaWdodCI6bmV3IGtpKEN0LmxheW91dF9zeW1ib2xbInRleHQta2VlcC11cHJpZ2h0Il0pLCJ0ZXh0LXRyYW5zZm9ybSI6bmV3IElpKEN0LmxheW91dF9zeW1ib2xbInRleHQtdHJhbnNmb3JtIl0pLCJ0ZXh0LW9mZnNldCI6bmV3IElpKEN0LmxheW91dF9zeW1ib2xbInRleHQtb2Zmc2V0Il0pLCJ0ZXh0LWFsbG93LW92ZXJsYXAiOm5ldyBraShDdC5sYXlvdXRfc3ltYm9sWyJ0ZXh0LWFsbG93LW92ZXJsYXAiXSksInRleHQtaWdub3JlLXBsYWNlbWVudCI6bmV3IGtpKEN0LmxheW91dF9zeW1ib2xbInRleHQtaWdub3JlLXBsYWNlbWVudCJdKSwidGV4dC1vcHRpb25hbCI6bmV3IGtpKEN0LmxheW91dF9zeW1ib2xbInRleHQtb3B0aW9uYWwiXSl9KSxUbD17cGFpbnQ6bmV3IFRpKHsiaWNvbi1vcGFjaXR5IjpuZXcgSWkoQ3QucGFpbnRfc3ltYm9sWyJpY29uLW9wYWNpdHkiXSksImljb24tY29sb3IiOm5ldyBJaShDdC5wYWludF9zeW1ib2xbImljb24tY29sb3IiXSksImljb24taGFsby1jb2xvciI6bmV3IElpKEN0LnBhaW50X3N5bWJvbFsiaWNvbi1oYWxvLWNvbG9yIl0pLCJpY29uLWhhbG8td2lkdGgiOm5ldyBJaShDdC5wYWludF9zeW1ib2xbImljb24taGFsby13aWR0aCJdKSwiaWNvbi1oYWxvLWJsdXIiOm5ldyBJaShDdC5wYWludF9zeW1ib2xbImljb24taGFsby1ibHVyIl0pLCJpY29uLXRyYW5zbGF0ZSI6bmV3IGtpKEN0LnBhaW50X3N5bWJvbFsiaWNvbi10cmFuc2xhdGUiXSksImljb24tdHJhbnNsYXRlLWFuY2hvciI6bmV3IGtpKEN0LnBhaW50X3N5bWJvbFsiaWNvbi10cmFuc2xhdGUtYW5jaG9yIl0pLCJ0ZXh0LW9wYWNpdHkiOm5ldyBJaShDdC5wYWludF9zeW1ib2xbInRleHQtb3BhY2l0eSJdKSwidGV4dC1jb2xvciI6bmV3IElpKEN0LnBhaW50X3N5bWJvbFsidGV4dC1jb2xvciJdLHtydW50aW1lVHlwZTpVdCxnZXRPdmVycmlkZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50ZXh0Q29sb3J9LGhhc092ZXJyaWRlOmZ1bmN0aW9uKHQpe3JldHVybiAhIXQudGV4dENvbG9yfX0pLCJ0ZXh0LWhhbG8tY29sb3IiOm5ldyBJaShDdC5wYWludF9zeW1ib2xbInRleHQtaGFsby1jb2xvciJdKSwidGV4dC1oYWxvLXdpZHRoIjpuZXcgSWkoQ3QucGFpbnRfc3ltYm9sWyJ0ZXh0LWhhbG8td2lkdGgiXSksInRleHQtaGFsby1ibHVyIjpuZXcgSWkoQ3QucGFpbnRfc3ltYm9sWyJ0ZXh0LWhhbG8tYmx1ciJdKSwidGV4dC10cmFuc2xhdGUiOm5ldyBraShDdC5wYWludF9zeW1ib2xbInRleHQtdHJhbnNsYXRlIl0pLCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiOm5ldyBraShDdC5wYWludF9zeW1ib2xbInRleHQtdHJhbnNsYXRlLWFuY2hvciJdKX0pLGxheW91dDpNbH0sRWw9ZnVuY3Rpb24odCl7dGhpcy50eXBlPXQucHJvcGVydHkub3ZlcnJpZGVzP3QucHJvcGVydHkub3ZlcnJpZGVzLnJ1bnRpbWVUeXBlOkR0LHRoaXMuZGVmYXVsdFZhbHVlPXQ7fTtFbC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24odCl7aWYodC5mb3JtYXR0ZWRTZWN0aW9uKXt2YXIgZT10aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5vdmVycmlkZXM7aWYoZSYmZS5oYXNPdmVycmlkZSh0LmZvcm1hdHRlZFNlY3Rpb24pKXJldHVybiBlLmdldE92ZXJyaWRlKHQuZm9ybWF0dGVkU2VjdGlvbil9cmV0dXJuIHQuZmVhdHVyZSYmdC5mZWF0dXJlU3RhdGU/dGhpcy5kZWZhdWx0VmFsdWUuZXZhbHVhdGUodC5mZWF0dXJlLHQuZmVhdHVyZVN0YXRlKTp0aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLmRlZmF1bHR9LEVsLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5kZWZhdWx0VmFsdWUuaXNDb25zdGFudCgpfHx0KHRoaXMuZGVmYXVsdFZhbHVlLnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbik7fSxFbC5wcm90b3R5cGUub3V0cHV0RGVmaW5lZD1mdW5jdGlvbigpe3JldHVybiAhMX0sRWwucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxYbigiRm9ybWF0U2VjdGlvbk92ZXJyaWRlIixFbCx7b21pdDpbImRlZmF1bHRWYWx1ZSJdfSk7dmFyIFBsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxUbCk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKGUscil7aWYodC5wcm90b3R5cGUucmVjYWxjdWxhdGUuY2FsbCh0aGlzLGUsciksImF1dG8iPT09dGhpcy5sYXlvdXQuZ2V0KCJpY29uLXJvdGF0aW9uLWFsaWdubWVudCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1siaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiXT0icG9pbnQiIT09dGhpcy5sYXlvdXQuZ2V0KCJzeW1ib2wtcGxhY2VtZW50Iik/Im1hcCI6InZpZXdwb3J0IiksImF1dG8iPT09dGhpcy5sYXlvdXQuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1sidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiXT0icG9pbnQiIT09dGhpcy5sYXlvdXQuZ2V0KCJzeW1ib2wtcGxhY2VtZW50Iik/Im1hcCI6InZpZXdwb3J0IiksImF1dG8iPT09dGhpcy5sYXlvdXQuZ2V0KCJ0ZXh0LXBpdGNoLWFsaWdubWVudCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1sidGV4dC1waXRjaC1hbGlnbm1lbnQiXT10aGlzLmxheW91dC5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50IikpLCJhdXRvIj09PXRoaXMubGF5b3V0LmdldCgiaWNvbi1waXRjaC1hbGlnbm1lbnQiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbImljb24tcGl0Y2gtYWxpZ25tZW50Il09dGhpcy5sYXlvdXQuZ2V0KCJpY29uLXJvdGF0aW9uLWFsaWdubWVudCIpKSwicG9pbnQiPT09dGhpcy5sYXlvdXQuZ2V0KCJzeW1ib2wtcGxhY2VtZW50Iikpe3ZhciBuPXRoaXMubGF5b3V0LmdldCgidGV4dC13cml0aW5nLW1vZGUiKTtpZihuKXtmb3IodmFyIGk9W10sYT0wLG89bjthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV07aS5pbmRleE9mKHMpPDAmJmkucHVzaChzKTt9dGhpcy5sYXlvdXQuX3ZhbHVlc1sidGV4dC13cml0aW5nLW1vZGUiXT1pO31lbHNlIHRoaXMubGF5b3V0Ll92YWx1ZXNbInRleHQtd3JpdGluZy1tb2RlIl09WyJob3Jpem9udGFsIl07fXRoaXMuX3NldFBhaW50T3ZlcnJpZGVzKCk7fSxlLnByb3RvdHlwZS5nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnM9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpcy5sYXlvdXQuZ2V0KHQpLmV2YWx1YXRlKGUse30scixuKSxhPXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXNbdF07cmV0dXJuIGEuaXNEYXRhRHJpdmVuKCl8fFFyKGEudmFsdWUpfHwhaT9pOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucmVwbGFjZSgveyhbXnt9XSspfS9nLChmdW5jdGlvbihlLHIpe3JldHVybiByIGluIHQ/U3RyaW5nKHRbcl0pOiIifSkpfShlLnByb3BlcnRpZXMsaSl9LGUucHJvdG90eXBlLmNyZWF0ZUJ1Y2tldD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENsKHQpfSxlLnByb3RvdHlwZS5xdWVyeVJhZGl1cz1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5xdWVyeUludGVyc2VjdHNGZWF0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5fc2V0UGFpbnRPdmVycmlkZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPVRsLnBhaW50Lm92ZXJyaWRhYmxlUHJvcGVydGllczt0PHIubGVuZ3RoO3QrPTEpe3ZhciBuPXJbdF07aWYoZS5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LG4pKXt2YXIgaSxhPXRoaXMucGFpbnQuZ2V0KG4pLG89bmV3IEVsKGEpLHM9bmV3IFdyKG8sYS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKTtpPSJjb25zdGFudCI9PT1hLnZhbHVlLmtpbmR8fCJzb3VyY2UiPT09YS52YWx1ZS5raW5kP25ldyBlbigic291cmNlIixzKTpuZXcgcm4oImNvbXBvc2l0ZSIscyxhLnZhbHVlLnpvb21TdG9wcyxhLnZhbHVlLl9pbnRlcnBvbGF0aW9uVHlwZSksdGhpcy5wYWludC5fdmFsdWVzW25dPW5ldyBBaShhLnByb3BlcnR5LGksYS5wYXJhbWV0ZXJzKTt9fX0sZS5wcm90b3R5cGUuX2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuICEoIXRoaXMubGF5b3V0fHxyLmlzRGF0YURyaXZlbigpfHxuLmlzRGF0YURyaXZlbigpKSYmZS5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LHQpfSxlLmhhc1BhaW50T3ZlcnJpZGU9ZnVuY3Rpb24odCxlKXt2YXIgcj10LmdldCgidGV4dC1maWVsZCIpLG49VGwucGFpbnQucHJvcGVydGllc1tlXSxpPSExLGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10O2U8ci5sZW5ndGg7ZSs9MSlpZihuLm92ZXJyaWRlcyYmbi5vdmVycmlkZXMuaGFzT3ZlcnJpZGUocltlXSkpcmV0dXJuIHZvaWQoaT0hMCl9O2lmKCJjb25zdGFudCI9PT1yLnZhbHVlLmtpbmQmJnIudmFsdWUudmFsdWUgaW5zdGFuY2VvZiB0ZSlhKHIudmFsdWUudmFsdWUuc2VjdGlvbnMpO2Vsc2UgaWYoInNvdXJjZSI9PT1yLnZhbHVlLmtpbmQpe3ZhciBvPWZ1bmN0aW9uKHQpe2l8fCh0IGluc3RhbmNlb2Ygb2UmJmllKHQudmFsdWUpPT09S3Q/YSh0LnZhbHVlLnNlY3Rpb25zKTp0IGluc3RhbmNlb2YgcGU/YSh0LnNlY3Rpb25zKTp0LmVhY2hDaGlsZChvKSk7fSxzPXIudmFsdWU7cy5fc3R5bGVFeHByZXNzaW9uJiZvKHMuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKTt9cmV0dXJuIGl9LGV9KEVpKSxCbD17cGFpbnQ6bmV3IFRpKHsiYmFja2dyb3VuZC1jb2xvciI6bmV3IGtpKEN0LnBhaW50X2JhY2tncm91bmRbImJhY2tncm91bmQtY29sb3IiXSksImJhY2tncm91bmQtcGF0dGVybiI6bmV3IENpKEN0LnBhaW50X2JhY2tncm91bmRbImJhY2tncm91bmQtcGF0dGVybiJdKSwiYmFja2dyb3VuZC1vcGFjaXR5IjpuZXcga2koQ3QucGFpbnRfYmFja2dyb3VuZFsiYmFja2dyb3VuZC1vcGFjaXR5Il0pfSl9LFZsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSxCbCk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGV9KEVpKSxGbD17cGFpbnQ6bmV3IFRpKHsicmFzdGVyLW9wYWNpdHkiOm5ldyBraShDdC5wYWludF9yYXN0ZXJbInJhc3Rlci1vcGFjaXR5Il0pLCJyYXN0ZXItaHVlLXJvdGF0ZSI6bmV3IGtpKEN0LnBhaW50X3Jhc3RlclsicmFzdGVyLWh1ZS1yb3RhdGUiXSksInJhc3Rlci1icmlnaHRuZXNzLW1pbiI6bmV3IGtpKEN0LnBhaW50X3Jhc3RlclsicmFzdGVyLWJyaWdodG5lc3MtbWluIl0pLCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiOm5ldyBraShDdC5wYWludF9yYXN0ZXJbInJhc3Rlci1icmlnaHRuZXNzLW1heCJdKSwicmFzdGVyLXNhdHVyYXRpb24iOm5ldyBraShDdC5wYWludF9yYXN0ZXJbInJhc3Rlci1zYXR1cmF0aW9uIl0pLCJyYXN0ZXItY29udHJhc3QiOm5ldyBraShDdC5wYWludF9yYXN0ZXJbInJhc3Rlci1jb250cmFzdCJdKSwicmFzdGVyLXJlc2FtcGxpbmciOm5ldyBraShDdC5wYWludF9yYXN0ZXJbInJhc3Rlci1yZXNhbXBsaW5nIl0pLCJyYXN0ZXItZmFkZS1kdXJhdGlvbiI6bmV3IGtpKEN0LnBhaW50X3Jhc3RlclsicmFzdGVyLWZhZGUtZHVyYXRpb24iXSl9KX0sRGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt0LmNhbGwodGhpcyxlLEZsKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZX0oRWkpLExsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSx7fSksdGhpcy5pbXBsZW1lbnRhdGlvbj1lO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5pczNEPWZ1bmN0aW9uKCl7cmV0dXJuICIzZCI9PT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlcmluZ01vZGV9LGUucHJvdG90eXBlLmhhc09mZnNjcmVlblBhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5pbXBsZW1lbnRhdGlvbi5wcmVyZW5kZXJ9LGUucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS51cGRhdGVUcmFuc2l0aW9ucz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkKHQsdC5wYWludGVyLmNvbnRleHQuZ2wpO30sZS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24odCl7dGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSYmdGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSh0LHQucGFpbnRlci5jb250ZXh0LmdsKTt9LGV9KEVpKSxSbD17Y2lyY2xlOnlvLGhlYXRtYXA6a28saGlsbHNoYWRlOnpvLGZpbGw6ZnMsImZpbGwtZXh0cnVzaW9uIjpUcyxsaW5lOmpzLHN5bWJvbDpQbCxiYWNrZ3JvdW5kOlZsLHJhc3RlcjpEbH0sT2w9c2VsZi5IVE1MSW1hZ2VFbGVtZW50LFVsPXNlbGYuSFRNTENhbnZhc0VsZW1lbnQsamw9c2VsZi5IVE1MVmlkZW9FbGVtZW50LHFsPXNlbGYuSW1hZ2VEYXRhLE5sPXNlbGYuSW1hZ2VCaXRtYXAsS2w9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5jb250ZXh0PXQsdGhpcy5mb3JtYXQ9cix0aGlzLnRleHR1cmU9dC5nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy51cGRhdGUoZSxuKTt9O0tsLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQud2lkdGgsaT10LmhlaWdodCxhPSEodGhpcy5zaXplJiZ0aGlzLnNpemVbMF09PT1uJiZ0aGlzLnNpemVbMV09PT1pfHxyKSxvPXRoaXMuY29udGV4dCxzPW8uZ2w7aWYodGhpcy51c2VNaXBtYXA9Qm9vbGVhbihlJiZlLnVzZU1pcG1hcCkscy5iaW5kVGV4dHVyZShzLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxvLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXQoITEpLG8ucGl4ZWxTdG9yZVVucGFjay5zZXQoMSksby5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQodGhpcy5mb3JtYXQ9PT1zLlJHQkEmJighZXx8ITEhPT1lLnByZW11bHRpcGx5KSksYSl0aGlzLnNpemU9W24saV0sdCBpbnN0YW5jZW9mIE9sfHx0IGluc3RhbmNlb2YgVWx8fHQgaW5zdGFuY2VvZiBqbHx8dCBpbnN0YW5jZW9mIHFsfHxObCYmdCBpbnN0YW5jZW9mIE5sP3MudGV4SW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCx0aGlzLmZvcm1hdCxzLlVOU0lHTkVEX0JZVEUsdCk6cy50ZXhJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHRoaXMuZm9ybWF0LG4saSwwLHRoaXMuZm9ybWF0LHMuVU5TSUdORURfQllURSx0LmRhdGEpO2Vsc2V7dmFyIHU9cnx8e3g6MCx5OjB9LGw9dS54LHA9dS55O3QgaW5zdGFuY2VvZiBPbHx8dCBpbnN0YW5jZW9mIFVsfHx0IGluc3RhbmNlb2Ygamx8fHQgaW5zdGFuY2VvZiBxbHx8TmwmJnQgaW5zdGFuY2VvZiBObD9zLnRleFN1YkltYWdlMkQocy5URVhUVVJFXzJELDAsbCxwLHMuUkdCQSxzLlVOU0lHTkVEX0JZVEUsdCk6cy50ZXhTdWJJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLGwscCxuLGkscy5SR0JBLHMuVU5TSUdORURfQllURSx0LmRhdGEpO310aGlzLnVzZU1pcG1hcCYmdGhpcy5pc1NpemVQb3dlck9mVHdvKCkmJnMuZ2VuZXJhdGVNaXBtYXAocy5URVhUVVJFXzJEKTt9LEtsLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10aGlzLmNvbnRleHQuZ2w7bi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxyIT09bi5MSU5FQVJfTUlQTUFQX05FQVJFU1R8fHRoaXMuaXNTaXplUG93ZXJPZlR3bygpfHwocj1uLkxJTkVBUiksdCE9PXRoaXMuZmlsdGVyJiYobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUix0KSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLHJ8fHQpLHRoaXMuZmlsdGVyPXQpLGUhPT10aGlzLndyYXAmJihuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1MsZSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9ULGUpLHRoaXMud3JhcD1lKTt9LEtsLnByb3RvdHlwZS5pc1NpemVQb3dlck9mVHdvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZVswXT09PXRoaXMuc2l6ZVsxXSYmTWF0aC5sb2codGhpcy5zaXplWzBdKS9NYXRoLkxOMiUxPT0wfSxLbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSksdGhpcy50ZXh0dXJlPW51bGw7fTt2YXIgR2w9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9jYWxsYmFjaz10LHRoaXMuX3RyaWdnZXJlZD0hMSwidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiYodGhpcy5fY2hhbm5lbD1uZXcgTWVzc2FnZUNoYW5uZWwsdGhpcy5fY2hhbm5lbC5wb3J0Mi5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtlLl90cmlnZ2VyZWQ9ITEsZS5fY2FsbGJhY2soKTt9KTt9O0dsLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl90cmlnZ2VyZWR8fCh0aGlzLl90cmlnZ2VyZWQ9ITAsdGhpcy5fY2hhbm5lbD90aGlzLl9jaGFubmVsLnBvcnQxLnBvc3RNZXNzYWdlKCEwKTpzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuX3RyaWdnZXJlZD0hMSx0Ll9jYWxsYmFjaygpO30pLDApKTt9LEdsLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fY2hhbm5lbCx0aGlzLl9jYWxsYmFjaz1mdW5jdGlvbigpe307fTt2YXIgWmw9ZnVuY3Rpb24odCxlLHIpe3RoaXMudGFyZ2V0PXQsdGhpcy5wYXJlbnQ9ZSx0aGlzLm1hcElkPXIsdGhpcy5jYWxsYmFja3M9e30sdGhpcy50YXNrcz17fSx0aGlzLnRhc2tRdWV1ZT1bXSx0aGlzLmNhbmNlbENhbGxiYWNrcz17fSxkKFsicmVjZWl2ZSIsInByb2Nlc3MiXSx0aGlzKSx0aGlzLmludm9rZXI9bmV3IEdsKHRoaXMucHJvY2VzcyksdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5yZWNlaXZlLCExKSx0aGlzLmdsb2JhbFNjb3BlPVMoKT90OnNlbGY7fTtmdW5jdGlvbiBYbCh0LGUscil7dmFyIG49MipNYXRoLlBJKjYzNzgxMzcvMjU2L01hdGgucG93KDIscik7cmV0dXJuIFt0Km4tMipNYXRoLlBJKjYzNzgxMzcvMixlKm4tMipNYXRoLlBJKjYzNzgxMzcvMl19WmwucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT10aGlzO3ZvaWQgMD09PWkmJihpPSExKTt2YXIgbz1NYXRoLnJvdW5kKDFlMTgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygwLDEwKTtyJiYodGhpcy5jYWxsYmFja3Nbb109cik7dmFyIHM9eih0aGlzLmdsb2JhbFNjb3BlKT92b2lkIDA6W107cmV0dXJuIHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDpvLHR5cGU6dCxoYXNDYWxsYmFjazohIXIsdGFyZ2V0TWFwSWQ6bixtdXN0UXVldWU6aSxzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGRhdGE6JG4oZSxzKX0scykse2NhbmNlbDpmdW5jdGlvbigpe3ImJmRlbGV0ZSBhLmNhbGxiYWNrc1tvXSxhLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6byx0eXBlOiI8Y2FuY2VsPiIsdGFyZ2V0TWFwSWQ6bixzb3VyY2VNYXBJZDphLm1hcElkfSk7fX19LFpsLnByb3RvdHlwZS5yZWNlaXZlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxyPWUuaWQ7aWYociYmKCFlLnRhcmdldE1hcElkfHx0aGlzLm1hcElkPT09ZS50YXJnZXRNYXBJZCkpaWYoIjxjYW5jZWw+Ij09PWUudHlwZSl7ZGVsZXRlIHRoaXMudGFza3Nbcl07dmFyIG49dGhpcy5jYW5jZWxDYWxsYmFja3Nbcl07ZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW3JdLG4mJm4oKTt9ZWxzZSBTKCl8fGUubXVzdFF1ZXVlPyh0aGlzLnRhc2tzW3JdPWUsdGhpcy50YXNrUXVldWUucHVzaChyKSx0aGlzLmludm9rZXIudHJpZ2dlcigpKTp0aGlzLnByb2Nlc3NUYXNrKHIsZSk7fSxabC5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe2lmKHRoaXMudGFza1F1ZXVlLmxlbmd0aCl7dmFyIHQ9dGhpcy50YXNrUXVldWUuc2hpZnQoKSxlPXRoaXMudGFza3NbdF07ZGVsZXRlIHRoaXMudGFza3NbdF0sdGhpcy50YXNrUXVldWUubGVuZ3RoJiZ0aGlzLmludm9rZXIudHJpZ2dlcigpLGUmJnRoaXMucHJvY2Vzc1Rhc2sodCxlKTt9fSxabC5wcm90b3R5cGUucHJvY2Vzc1Rhc2s9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO2lmKCI8cmVzcG9uc2U+Ij09PWUudHlwZSl7dmFyIG49dGhpcy5jYWxsYmFja3NbdF07ZGVsZXRlIHRoaXMuY2FsbGJhY2tzW3RdLG4mJihlLmVycm9yP24oV24oZS5lcnJvcikpOm4obnVsbCxXbihlLmRhdGEpKSk7fWVsc2V7dmFyIGk9ITEsYT16KHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXSxvPWUuaGFzQ2FsbGJhY2s/ZnVuY3Rpb24oZSxuKXtpPSEwLGRlbGV0ZSByLmNhbmNlbENhbGxiYWNrc1t0XSxyLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6dCx0eXBlOiI8cmVzcG9uc2U+Iixzb3VyY2VNYXBJZDpyLm1hcElkLGVycm9yOmU/JG4oZSk6bnVsbCxkYXRhOiRuKG4sYSl9LGEpO306ZnVuY3Rpb24odCl7aT0hMDt9LHM9bnVsbCx1PVduKGUuZGF0YSk7aWYodGhpcy5wYXJlbnRbZS50eXBlXSlzPXRoaXMucGFyZW50W2UudHlwZV0oZS5zb3VyY2VNYXBJZCx1LG8pO2Vsc2UgaWYodGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKXt2YXIgbD1lLnR5cGUuc3BsaXQoIi4iKTtzPXRoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZShlLnNvdXJjZU1hcElkLGxbMF0sdS5zb3VyY2UpW2xbMV1dKHUsbyk7fWVsc2UgbyhuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uICIrZS50eXBlKSk7IWkmJnMmJnMuY2FuY2VsJiYodGhpcy5jYW5jZWxDYWxsYmFja3NbdF09cy5jYW5jZWwpO319LFpsLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmludm9rZXIucmVtb3ZlKCksdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5yZWNlaXZlLCExKTt9O3ZhciBKbD1mdW5jdGlvbih0LGUscil7dGhpcy56PXQsdGhpcy54PWUsdGhpcy55PXIsdGhpcy5rZXk9JGwoMCx0LHQsZSxyKTt9O0psLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuej09PXQueiYmdGhpcy54PT09dC54JiZ0aGlzLnk9PT10Lnl9LEpsLnByb3RvdHlwZS51cmw9ZnVuY3Rpb24odCxlKXt2YXIgcixuLGksYSxvLHM9KG49dGhpcy55LGk9dGhpcy56LGE9WGwoMjU2KihyPXRoaXMueCksMjU2KihuPU1hdGgucG93KDIsaSktbi0xKSxpKSxvPVhsKDI1NioocisxKSwyNTYqKG4rMSksaSksYVswXSsiLCIrYVsxXSsiLCIrb1swXSsiLCIrb1sxXSksdT1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuLGk9IiIsYT10O2E+MDthLS0paSs9KGUmKG49MTw8YS0xKT8xOjApKyhyJm4/MjowKTtyZXR1cm4gaX0odGhpcy56LHRoaXMueCx0aGlzLnkpO3JldHVybiB0Wyh0aGlzLngrdGhpcy55KSV0Lmxlbmd0aF0ucmVwbGFjZSgie3ByZWZpeH0iLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoInt6fSIsU3RyaW5nKHRoaXMueikpLnJlcGxhY2UoInt4fSIsU3RyaW5nKHRoaXMueCkpLnJlcGxhY2UoInt5fSIsU3RyaW5nKCJ0bXMiPT09ZT9NYXRoLnBvdygyLHRoaXMueiktdGhpcy55LTE6dGhpcy55KSkucmVwbGFjZSgie3F1YWRrZXl9Iix1KS5yZXBsYWNlKCJ7YmJveC1lcHNnLTM4NTd9IixzKX0sSmwucHJvdG90eXBlLmdldFRpbGVQb2ludD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLnBvdygyLHRoaXMueik7cmV0dXJuIG5ldyBpKCh0LngqZS10aGlzLngpKnplLCh0LnkqZS10aGlzLnkpKnplKX0sSmwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueisiLyIrdGhpcy54KyIvIit0aGlzLnl9O3ZhciBIbD1mdW5jdGlvbih0LGUpe3RoaXMud3JhcD10LHRoaXMuY2Fub25pY2FsPWUsdGhpcy5rZXk9JGwodCxlLnosZS56LGUueCxlLnkpO30sWWw9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLm92ZXJzY2FsZWRaPXQsdGhpcy53cmFwPWUsdGhpcy5jYW5vbmljYWw9bmV3IEpsKHIsK24sK2kpLHRoaXMua2V5PSRsKGUsdCxyLG4saSk7fTtmdW5jdGlvbiAkbCh0LGUscixuLGkpeyh0Kj0yKTwwJiYodD0tMSp0LTEpO3ZhciBhPTE8PHI7cmV0dXJuIChhKmEqdCthKmkrbikudG9TdHJpbmcoMzYpK3IudG9TdHJpbmcoMzYpK2UudG9TdHJpbmcoMzYpfVlsLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3ZlcnNjYWxlZFo9PT10Lm92ZXJzY2FsZWRaJiZ0aGlzLndyYXA9PT10LndyYXAmJnRoaXMuY2Fub25pY2FsLmVxdWFscyh0LmNhbm9uaWNhbCl9LFlsLnByb3RvdHlwZS5zY2FsZWRUbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNhbm9uaWNhbC56LXQ7cmV0dXJuIHQ+dGhpcy5jYW5vbmljYWwuej9uZXcgWWwodCx0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpOm5ldyBZbCh0LHRoaXMud3JhcCx0LHRoaXMuY2Fub25pY2FsLng+PmUsdGhpcy5jYW5vbmljYWwueT4+ZSl9LFlsLnByb3RvdHlwZS5jYWxjdWxhdGVTY2FsZWRLZXk9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmNhbm9uaWNhbC56LXQ7cmV0dXJuIHQ+dGhpcy5jYW5vbmljYWwuej8kbCh0aGlzLndyYXAqK2UsdCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk6JGwodGhpcy53cmFwKitlLHQsdCx0aGlzLmNhbm9uaWNhbC54Pj5yLHRoaXMuY2Fub25pY2FsLnk+PnIpfSxZbC5wcm90b3R5cGUuaXNDaGlsZE9mPWZ1bmN0aW9uKHQpe2lmKHQud3JhcCE9PXRoaXMud3JhcClyZXR1cm4gITE7dmFyIGU9dGhpcy5jYW5vbmljYWwuei10LmNhbm9uaWNhbC56O3JldHVybiAwPT09dC5vdmVyc2NhbGVkWnx8dC5vdmVyc2NhbGVkWjx0aGlzLm92ZXJzY2FsZWRaJiZ0LmNhbm9uaWNhbC54PT09dGhpcy5jYW5vbmljYWwueD4+ZSYmdC5jYW5vbmljYWwueT09PXRoaXMuY2Fub25pY2FsLnk+PmV9LFlsLnByb3RvdHlwZS5jaGlsZHJlbj1mdW5jdGlvbih0KXtpZih0aGlzLm92ZXJzY2FsZWRaPj10KXJldHVybiBbbmV3IFlsKHRoaXMub3ZlcnNjYWxlZForMSx0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpXTt2YXIgZT10aGlzLmNhbm9uaWNhbC56KzEscj0yKnRoaXMuY2Fub25pY2FsLngsbj0yKnRoaXMuY2Fub25pY2FsLnk7cmV0dXJuIFtuZXcgWWwoZSx0aGlzLndyYXAsZSxyLG4pLG5ldyBZbChlLHRoaXMud3JhcCxlLHIrMSxuKSxuZXcgWWwoZSx0aGlzLndyYXAsZSxyLG4rMSksbmV3IFlsKGUsdGhpcy53cmFwLGUscisxLG4rMSldfSxZbC5wcm90b3R5cGUuaXNMZXNzVGhhbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53cmFwPHQud3JhcHx8ISh0aGlzLndyYXA+dC53cmFwKSYmKHRoaXMub3ZlcnNjYWxlZFo8dC5vdmVyc2NhbGVkWnx8ISh0aGlzLm92ZXJzY2FsZWRaPnQub3ZlcnNjYWxlZFopJiYodGhpcy5jYW5vbmljYWwueDx0LmNhbm9uaWNhbC54fHwhKHRoaXMuY2Fub25pY2FsLng+dC5jYW5vbmljYWwueCkmJnRoaXMuY2Fub25pY2FsLnk8dC5jYW5vbmljYWwueSkpfSxZbC5wcm90b3R5cGUud3JhcHBlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgWWwodGhpcy5vdmVyc2NhbGVkWiwwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX0sWWwucHJvdG90eXBlLnVud3JhcFRvPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWWwodGhpcy5vdmVyc2NhbGVkWix0LHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX0sWWwucHJvdG90eXBlLm92ZXJzY2FsZUZhY3Rvcj1mdW5jdGlvbigpe3JldHVybiBNYXRoLnBvdygyLHRoaXMub3ZlcnNjYWxlZFotdGhpcy5jYW5vbmljYWwueil9LFlsLnByb3RvdHlwZS50b1Vud3JhcHBlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgSGwodGhpcy53cmFwLHRoaXMuY2Fub25pY2FsKX0sWWwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3ZlcnNjYWxlZForIi8iK3RoaXMuY2Fub25pY2FsLngrIi8iK3RoaXMuY2Fub25pY2FsLnl9LFlsLnByb3RvdHlwZS5nZXRUaWxlUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2Fub25pY2FsLmdldFRpbGVQb2ludChuZXcgSWUodC54LXRoaXMud3JhcCx0LnkpKX0sWG4oIkNhbm9uaWNhbFRpbGVJRCIsSmwpLFhuKCJPdmVyc2NhbGVkVGlsZUlEIixZbCx7b21pdDpbInBvc01hdHJpeCJdfSk7dmFyIFdsPWZ1bmN0aW9uKHQsZSxyKXtpZih0aGlzLnVpZD10LGUuaGVpZ2h0IT09ZS53aWR0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiREVNIHRpbGVzIG11c3QgYmUgc3F1YXJlIik7aWYociYmIm1hcGJveCIhPT1yJiYidGVycmFyaXVtIiE9PXIpcmV0dXJuIHcoJyInK3IrJyIgaXMgbm90IGEgdmFsaWQgZW5jb2RpbmcgdHlwZS4gVmFsaWQgdHlwZXMgaW5jbHVkZSAibWFwYm94IiBhbmQgInRlcnJhcml1bSIuJyk7dGhpcy5zdHJpZGU9ZS5oZWlnaHQ7dmFyIG49dGhpcy5kaW09ZS5oZWlnaHQtMjt0aGlzLmRhdGE9bmV3IFVpbnQzMkFycmF5KGUuZGF0YS5idWZmZXIpLHRoaXMuZW5jb2Rpbmc9cnx8Im1hcGJveCI7Zm9yKHZhciBpPTA7aTxuO2krKyl0aGlzLmRhdGFbdGhpcy5faWR4KC0xLGkpXT10aGlzLmRhdGFbdGhpcy5faWR4KDAsaSldLHRoaXMuZGF0YVt0aGlzLl9pZHgobixpKV09dGhpcy5kYXRhW3RoaXMuX2lkeChuLTEsaSldLHRoaXMuZGF0YVt0aGlzLl9pZHgoaSwtMSldPXRoaXMuZGF0YVt0aGlzLl9pZHgoaSwwKV0sdGhpcy5kYXRhW3RoaXMuX2lkeChpLG4pXT10aGlzLmRhdGFbdGhpcy5faWR4KGksbi0xKV07dGhpcy5kYXRhW3RoaXMuX2lkeCgtMSwtMSldPXRoaXMuZGF0YVt0aGlzLl9pZHgoMCwwKV0sdGhpcy5kYXRhW3RoaXMuX2lkeChuLC0xKV09dGhpcy5kYXRhW3RoaXMuX2lkeChuLTEsMCldLHRoaXMuZGF0YVt0aGlzLl9pZHgoLTEsbildPXRoaXMuZGF0YVt0aGlzLl9pZHgoMCxuLTEpXSx0aGlzLmRhdGFbdGhpcy5faWR4KG4sbildPXRoaXMuZGF0YVt0aGlzLl9pZHgobi0xLG4tMSldO307V2wucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3ZhciByPW5ldyBVaW50OEFycmF5KHRoaXMuZGF0YS5idWZmZXIpLG49NCp0aGlzLl9pZHgodCxlKTtyZXR1cm4gKCJ0ZXJyYXJpdW0iPT09dGhpcy5lbmNvZGluZz90aGlzLl91bnBhY2tUZXJyYXJpdW06dGhpcy5fdW5wYWNrTWFwYm94KShyW25dLHJbbisxXSxyW24rMl0pfSxXbC5wcm90b3R5cGUuZ2V0VW5wYWNrVmVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuICJ0ZXJyYXJpdW0iPT09dGhpcy5lbmNvZGluZz9bMjU2LDEsMS8yNTYsMzI3NjhdOls2NTUzLjYsMjUuNiwuMSwxZTRdfSxXbC5wcm90b3R5cGUuX2lkeD1mdW5jdGlvbih0LGUpe2lmKHQ8LTF8fHQ+PXRoaXMuZGltKzF8fGU8LTF8fGU+PXRoaXMuZGltKzEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIERFTSBkYXRhIik7cmV0dXJuIChlKzEpKnRoaXMuc3RyaWRlKyh0KzEpfSxXbC5wcm90b3R5cGUuX3VucGFja01hcGJveD1mdW5jdGlvbih0LGUscil7cmV0dXJuICgyNTYqdCoyNTYrMjU2KmUrcikvMTAtMWU0fSxXbC5wcm90b3R5cGUuX3VucGFja1RlcnJhcml1bT1mdW5jdGlvbih0LGUscil7cmV0dXJuIDI1Nip0K2Urci8yNTYtMzI3Njh9LFdsLnByb3RvdHlwZS5nZXRQaXhlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IF9vKHt3aWR0aDp0aGlzLnN0cmlkZSxoZWlnaHQ6dGhpcy5zdHJpZGV9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YS5idWZmZXIpKX0sV2wucHJvdG90eXBlLmJhY2tmaWxsQm9yZGVyPWZ1bmN0aW9uKHQsZSxyKXtpZih0aGlzLmRpbSE9PXQuZGltKXRocm93IG5ldyBFcnJvcigiZGVtIGRpbWVuc2lvbiBtaXNtYXRjaCIpO3ZhciBuPWUqdGhpcy5kaW0saT1lKnRoaXMuZGltK3RoaXMuZGltLGE9cip0aGlzLmRpbSxvPXIqdGhpcy5kaW0rdGhpcy5kaW07c3dpdGNoKGUpe2Nhc2UtMTpuPWktMTticmVhaztjYXNlIDE6aT1uKzE7fXN3aXRjaChyKXtjYXNlLTE6YT1vLTE7YnJlYWs7Y2FzZSAxOm89YSsxO31mb3IodmFyIHM9LWUqdGhpcy5kaW0sdT0tcip0aGlzLmRpbSxsPWE7bDxvO2wrKylmb3IodmFyIHA9bjtwPGk7cCsrKXRoaXMuZGF0YVt0aGlzLl9pZHgocCxsKV09dC5kYXRhW3RoaXMuX2lkeChwK3MsbCt1KV07fSxYbigiREVNRGF0YSIsV2wpO3ZhciBRbD1mdW5jdGlvbih0KXt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTt0aGlzLl9zdHJpbmdUb051bWJlcltyXT1lLHRoaXMuX251bWJlclRvU3RyaW5nW2VdPXI7fX07UWwucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbdF19LFFsLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX251bWJlclRvU3RyaW5nW3RdfTt2YXIgdHA9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLnR5cGU9IkZlYXR1cmUiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPXQsdC5fej1lLHQuX3g9cix0Ll95PW4sdGhpcy5wcm9wZXJ0aWVzPXQucHJvcGVydGllcyx0aGlzLmlkPWk7fSxlcD17Z2VvbWV0cnk6e2NvbmZpZ3VyYWJsZTohMH19O2VwLmdlb21ldHJ5LmdldD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9nZW9tZXRyeSYmKHRoaXMuX2dlb21ldHJ5PXRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLnRvR2VvSlNPTih0aGlzLl92ZWN0b3JUaWxlRmVhdHVyZS5feCx0aGlzLl92ZWN0b3JUaWxlRmVhdHVyZS5feSx0aGlzLl92ZWN0b3JUaWxlRmVhdHVyZS5feikuZ2VvbWV0cnkpLHRoaXMuX2dlb21ldHJ5fSxlcC5nZW9tZXRyeS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fZ2VvbWV0cnk9dDt9LHRwLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17Z2VvbWV0cnk6dGhpcy5nZW9tZXRyeX07Zm9yKHZhciBlIGluIHRoaXMpIl9nZW9tZXRyeSIhPT1lJiYiX3ZlY3RvclRpbGVGZWF0dXJlIiE9PWUmJih0W2VdPXRoaXNbZV0pO3JldHVybiB0fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0cC5wcm90b3R5cGUsZXApO3ZhciBycD1mdW5jdGlvbigpe3RoaXMuc3RhdGU9e30sdGhpcy5zdGF0ZUNoYW5nZXM9e30sdGhpcy5kZWxldGVkU3RhdGVzPXt9O307cnAucHJvdG90eXBlLnVwZGF0ZVN0YXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1TdHJpbmcoZSk7aWYodGhpcy5zdGF0ZUNoYW5nZXNbdF09dGhpcy5zdGF0ZUNoYW5nZXNbdF18fHt9LHRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dPXRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dfHx7fSxwKHRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dLHIpLG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pZm9yKHZhciBpIGluIHRoaXMuZGVsZXRlZFN0YXRlc1t0XT17fSx0aGlzLnN0YXRlW3RdKWkhPT1uJiYodGhpcy5kZWxldGVkU3RhdGVzW3RdW2ldPW51bGwpO2Vsc2UgaWYodGhpcy5kZWxldGVkU3RhdGVzW3RdJiZudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dKWZvcih2YXIgYSBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl09e30sdGhpcy5zdGF0ZVt0XVtuXSlyW2FdfHwodGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW2FdPW51bGwpO2Vsc2UgZm9yKHZhciBvIGluIHIpdGhpcy5kZWxldGVkU3RhdGVzW3RdJiZ0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bb10mJmRlbGV0ZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bb107fSxycC5wcm90b3R5cGUucmVtb3ZlRmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSxyKXtpZihudWxsIT09dGhpcy5kZWxldGVkU3RhdGVzW3RdKXt2YXIgbj1TdHJpbmcoZSk7aWYodGhpcy5kZWxldGVkU3RhdGVzW3RdPXRoaXMuZGVsZXRlZFN0YXRlc1t0XXx8e30sciYmdm9pZCAwIT09ZSludWxsIT09dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dJiYodGhpcy5kZWxldGVkU3RhdGVzW3RdW25dPXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXXx8e30sdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW3JdPW51bGwpO2Vsc2UgaWYodm9pZCAwIT09ZSlpZih0aGlzLnN0YXRlQ2hhbmdlc1t0XSYmdGhpcy5zdGF0ZUNoYW5nZXNbdF1bbl0pZm9yKHIgaW4gdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dPXt9LHRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dKXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtyXT1udWxsO2Vsc2UgdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF09bnVsbDt9fSxycC5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1TdHJpbmcoZSksbj1wKHt9LCh0aGlzLnN0YXRlW3RdfHx7fSlbcl0sKHRoaXMuc3RhdGVDaGFuZ2VzW3RdfHx7fSlbcl0pO2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pcmV0dXJuIHt9O2lmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XSl7dmFyIGk9dGhpcy5kZWxldGVkU3RhdGVzW3RdW2VdO2lmKG51bGw9PT1pKXJldHVybiB7fTtmb3IodmFyIGEgaW4gaSlkZWxldGUgblthXTt9cmV0dXJuIG59LHJwLnByb3RvdHlwZS5pbml0aWFsaXplVGlsZVN0YXRlPWZ1bmN0aW9uKHQsZSl7dC5zZXRGZWF0dXJlU3RhdGUodGhpcy5zdGF0ZSxlKTt9LHJwLnByb3RvdHlwZS5jb2FsZXNjZUNoYW5nZXM9ZnVuY3Rpb24odCxlKXt2YXIgcj17fTtmb3IodmFyIG4gaW4gdGhpcy5zdGF0ZUNoYW5nZXMpe3RoaXMuc3RhdGVbbl09dGhpcy5zdGF0ZVtuXXx8e307dmFyIGk9e307Zm9yKHZhciBhIGluIHRoaXMuc3RhdGVDaGFuZ2VzW25dKXRoaXMuc3RhdGVbbl1bYV18fCh0aGlzLnN0YXRlW25dW2FdPXt9KSxwKHRoaXMuc3RhdGVbbl1bYV0sdGhpcy5zdGF0ZUNoYW5nZXNbbl1bYV0pLGlbYV09dGhpcy5zdGF0ZVtuXVthXTtyW25dPWk7fWZvcih2YXIgbyBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXMpe3RoaXMuc3RhdGVbb109dGhpcy5zdGF0ZVtvXXx8e307dmFyIHM9e307aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tvXSlmb3IodmFyIHUgaW4gdGhpcy5zdGF0ZVtvXSlzW3VdPXt9LHRoaXMuc3RhdGVbb11bdV09e307ZWxzZSBmb3IodmFyIGwgaW4gdGhpcy5kZWxldGVkU3RhdGVzW29dKXtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW29dW2xdKXRoaXMuc3RhdGVbb11bbF09e307ZWxzZSBmb3IodmFyIGM9MCxoPU9iamVjdC5rZXlzKHRoaXMuZGVsZXRlZFN0YXRlc1tvXVtsXSk7YzxoLmxlbmd0aDtjKz0xKWRlbGV0ZSB0aGlzLnN0YXRlW29dW2xdW2hbY11dO3NbbF09dGhpcy5zdGF0ZVtvXVtsXTt9cltvXT1yW29dfHx7fSxwKHJbb10scyk7fWlmKHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fSwwIT09T2JqZWN0LmtleXMocikubGVuZ3RoKWZvcih2YXIgZiBpbiB0KXRbZl0uc2V0RmVhdHVyZVN0YXRlKHIsZSk7fTt2YXIgbnA9ZnVuY3Rpb24odCxlKXt0aGlzLnRpbGVJRD10LHRoaXMueD10LmNhbm9uaWNhbC54LHRoaXMueT10LmNhbm9uaWNhbC55LHRoaXMuej10LmNhbm9uaWNhbC56LHRoaXMuZ3JpZD1uZXcgam4oemUsMTYsMCksdGhpcy5ncmlkM0Q9bmV3IGpuKHplLDE2LDApLHRoaXMuZmVhdHVyZUluZGV4QXJyYXk9bmV3IGZhLHRoaXMucHJvbW90ZUlkPWU7fTtmdW5jdGlvbiBpcCh0LGUscixuLGkpe3JldHVybiB2KHQsKGZ1bmN0aW9uKHQsYSl7dmFyIG89ZSBpbnN0YW5jZW9mIFNpP2UuZ2V0KGEpOm51bGw7cmV0dXJuIG8mJm8uZXZhbHVhdGU/by5ldmFsdWF0ZShyLG4saSk6b30pKX1mdW5jdGlvbiBhcCh0KXtmb3IodmFyIGU9MS8wLHI9MS8wLG49LTEvMCxpPS0xLzAsYT0wLG89dDthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV07ZT1NYXRoLm1pbihlLHMueCkscj1NYXRoLm1pbihyLHMueSksbj1NYXRoLm1heChuLHMueCksaT1NYXRoLm1heChpLHMueSk7fXJldHVybiB7bWluWDplLG1pblk6cixtYXhYOm4sbWF4WTppfX1mdW5jdGlvbiBvcCh0LGUpe3JldHVybiBlLXR9bnAucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIG89dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5sZW5ndGg7dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5lbXBsYWNlQmFjayhyLG4saSk7Zm9yKHZhciBzPWE/dGhpcy5ncmlkM0Q6dGhpcy5ncmlkLHU9MDt1PGUubGVuZ3RoO3UrKyl7Zm9yKHZhciBsPWVbdV0scD1bMS8wLDEvMCwtMS8wLC0xLzBdLGM9MDtjPGwubGVuZ3RoO2MrKyl7dmFyIGg9bFtjXTtwWzBdPU1hdGgubWluKHBbMF0saC54KSxwWzFdPU1hdGgubWluKHBbMV0saC55KSxwWzJdPU1hdGgubWF4KHBbMl0saC54KSxwWzNdPU1hdGgubWF4KHBbM10saC55KTt9cFswXTx6ZSYmcFsxXTx6ZSYmcFsyXT49MCYmcFszXT49MCYmcy5pbnNlcnQobyxwWzBdLHBbMV0scFsyXSxwWzNdKTt9fSxucC5wcm90b3R5cGUubG9hZFZUTGF5ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudnRMYXllcnN8fCh0aGlzLnZ0TGF5ZXJzPW5ldyBBcy5WZWN0b3JUaWxlKG5ldyBRcyh0aGlzLnJhd1RpbGVEYXRhKSkubGF5ZXJzLHRoaXMuc291cmNlTGF5ZXJDb2Rlcj1uZXcgUWwodGhpcy52dExheWVycz9PYmplY3Qua2V5cyh0aGlzLnZ0TGF5ZXJzKS5zb3J0KCk6WyJfZ2VvanNvblRpbGVMYXllciJdKSksdGhpcy52dExheWVyc30sbnAucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBhPXRoaXM7dGhpcy5sb2FkVlRMYXllcnMoKTtmb3IodmFyIG89dC5wYXJhbXN8fHt9LHM9emUvdC50aWxlU2l6ZS90LnNjYWxlLHU9eW4oby5maWx0ZXIpLGw9dC5xdWVyeUdlb21ldHJ5LHA9dC5xdWVyeVBhZGRpbmcqcyxjPWFwKGwpLGg9dGhpcy5ncmlkLnF1ZXJ5KGMubWluWC1wLGMubWluWS1wLGMubWF4WCtwLGMubWF4WStwKSxmPWFwKHQuY2FtZXJhUXVlcnlHZW9tZXRyeSkseT10aGlzLmdyaWQzRC5xdWVyeShmLm1pblgtcCxmLm1pblktcCxmLm1heFgrcCxmLm1heFkrcCwoZnVuY3Rpb24oZSxyLG4sYSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyLG4sYSl7Zm9yKHZhciBvPTAscz10O288cy5sZW5ndGg7bys9MSl7dmFyIHU9c1tvXTtpZihlPD11LngmJnI8PXUueSYmbj49dS54JiZhPj11LnkpcmV0dXJuICEwfXZhciBsPVtuZXcgaShlLHIpLG5ldyBpKGUsYSksbmV3IGkobixhKSxuZXcgaShuLHIpXTtpZih0Lmxlbmd0aD4yKWZvcih2YXIgcD0wLGM9bDtwPGMubGVuZ3RoO3ArPTEpaWYoaW8odCxjW3BdKSlyZXR1cm4gITA7Zm9yKHZhciBoPTA7aDx0Lmxlbmd0aC0xO2grKylpZihhbyh0W2hdLHRbaCsxXSxsKSlyZXR1cm4gITA7cmV0dXJuICExfSh0LmNhbWVyYVF1ZXJ5R2VvbWV0cnksZS1wLHItcCxuK3AsYStwKX0pKSxkPTAsbT15O2Q8bS5sZW5ndGg7ZCs9MSloLnB1c2gobVtkXSk7aC5zb3J0KG9wKTtmb3IodmFyIHYsZz17fSx4PWZ1bmN0aW9uKGkpe3ZhciBwPWhbaV07aWYocCE9PXYpe3Y9cDt2YXIgYz1hLmZlYXR1cmVJbmRleEFycmF5LmdldChwKSxmPW51bGw7YS5sb2FkTWF0Y2hpbmdGZWF0dXJlKGcsYy5idWNrZXRJbmRleCxjLnNvdXJjZUxheWVySW5kZXgsYy5mZWF0dXJlSW5kZXgsdSxvLmxheWVycyxvLmF2YWlsYWJsZUltYWdlcyxlLHIsbiwoZnVuY3Rpb24oZSxyLG4pe3JldHVybiBmfHwoZj1aYShlKSksci5xdWVyeUludGVyc2VjdHNGZWF0dXJlKGwsZSxuLGYsYS56LHQudHJhbnNmb3JtLHMsdC5waXhlbFBvc01hdHJpeCl9KSk7fX0sYj0wO2I8aC5sZW5ndGg7YisrKXgoYik7cmV0dXJuIGd9LG5wLnByb3RvdHlwZS5sb2FkTWF0Y2hpbmdGZWF0dXJlPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwscCl7dmFyIGM9dGhpcy5idWNrZXRMYXllcklEc1tlXTtpZighYXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZihlLmluZGV4T2YodFtyXSk+PTApcmV0dXJuICEwO3JldHVybiAhMX0oYSxjKSl7dmFyIGg9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShyKSxmPXRoaXMudnRMYXllcnNbaF0uZmVhdHVyZShuKTtpZihpLmZpbHRlcihuZXcgbWkodGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGYpKWZvcih2YXIgeT10aGlzLmdldElkKGYsaCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgbT1jW2RdO2lmKCEoYSYmYS5pbmRleE9mKG0pPDApKXt2YXIgdj1zW21dO2lmKHYpe3ZhciBnPXt9O3ZvaWQgMCE9PXkmJmwmJihnPWwuZ2V0U3RhdGUodi5zb3VyY2VMYXllcnx8Il9nZW9qc29uVGlsZUxheWVyIix5KSk7dmFyIHg9dVttXTt4LnBhaW50PWlwKHgucGFpbnQsdi5wYWludCxmLGcsbykseC5sYXlvdXQ9aXAoeC5sYXlvdXQsdi5sYXlvdXQsZixnLG8pO3ZhciBiPSFwfHxwKGYsdixnKTtpZihiKXt2YXIgdz1uZXcgdHAoZix0aGlzLnosdGhpcy54LHRoaXMueSx5KTt3LmxheWVyPXg7dmFyIF89dFttXTt2b2lkIDA9PT1fJiYoXz10W21dPVtdKSxfLnB1c2goe2ZlYXR1cmVJbmRleDpuLGZlYXR1cmU6dyxpbnRlcnNlY3Rpb25aOmJ9KTt9fX19fX0sbnAucHJvdG90eXBlLmxvb2t1cFN5bWJvbEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyl7dmFyIHU9e307dGhpcy5sb2FkVlRMYXllcnMoKTtmb3IodmFyIGw9eW4oaSkscD0wLGM9dDtwPGMubGVuZ3RoO3ArPTEpdGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKHUscixuLGNbcF0sbCxhLG8scyxlKTtyZXR1cm4gdX0sbnAucHJvdG90eXBlLmhhc0xheWVyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dGhpcy5idWNrZXRMYXllcklEcztlPHIubGVuZ3RoO2UrPTEpZm9yKHZhciBuPTAsaT1yW2VdO248aS5sZW5ndGg7bis9MSlpZih0PT09aVtuXSlyZXR1cm4gITA7cmV0dXJuICExfSxucC5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10LmlkO3JldHVybiB0aGlzLnByb21vdGVJZCYmImJvb2xlYW4iPT10eXBlb2Yocj10LnByb3BlcnRpZXNbInN0cmluZyI9PXR5cGVvZiB0aGlzLnByb21vdGVJZD90aGlzLnByb21vdGVJZDp0aGlzLnByb21vdGVJZFtlXV0pJiYocj1OdW1iZXIocikpLHJ9LFhuKCJGZWF0dXJlSW5kZXgiLG5wLHtvbWl0OlsicmF3VGlsZURhdGEiLCJzb3VyY2VMYXllckNvZGVyIl19KTt2YXIgc3A9ZnVuY3Rpb24odCxlKXt0aGlzLnRpbGVJRD10LHRoaXMudWlkPWgoKSx0aGlzLnVzZXM9MCx0aGlzLnRpbGVTaXplPWUsdGhpcy5idWNrZXRzPXt9LHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbCx0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5kZXBlbmRlbmNpZXM9e30sdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT0ibG9hZGluZyI7fTtzcC5wcm90b3R5cGUucmVnaXN0ZXJGYWRlRHVyYXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dCt0aGlzLnRpbWVBZGRlZDtlPEQubm93KCl8fHRoaXMuZmFkZUVuZFRpbWUmJmU8dGhpcy5mYWRlRW5kVGltZXx8KHRoaXMuZmFkZUVuZFRpbWU9ZSk7fSxzcC5wcm90b3R5cGUud2FzUmVxdWVzdGVkPWZ1bmN0aW9uKCl7cmV0dXJuICJlcnJvcmVkIj09PXRoaXMuc3RhdGV8fCJsb2FkZWQiPT09dGhpcy5zdGF0ZXx8InJlbG9hZGluZyI9PT10aGlzLnN0YXRlfSxzcC5wcm90b3R5cGUubG9hZFZlY3RvckRhdGE9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMuaGFzRGF0YSgpJiZ0aGlzLnVubG9hZFZlY3RvckRhdGEoKSx0aGlzLnN0YXRlPSJsb2FkZWQiLHQpe2Zvcih2YXIgbiBpbiB0LmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PXQuZmVhdHVyZUluZGV4LHQucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9dC5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10LnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24odCxlKXt2YXIgcj17fTtpZighZSlyZXR1cm4gcjtmb3IodmFyIG49ZnVuY3Rpb24oKXt2YXIgdD1hW2ldLG49dC5sYXllcklkcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmdldExheWVyKHQpfSkpLmZpbHRlcihCb29sZWFuKTtpZigwIT09bi5sZW5ndGgpe3QubGF5ZXJzPW4sdC5zdGF0ZURlcGVuZGVudExheWVySWRzJiYodC5zdGF0ZURlcGVuZGVudExheWVycz10LnN0YXRlRGVwZW5kZW50TGF5ZXJJZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pKVswXX0pKSk7Zm9yKHZhciBvPTAscz1uO288cy5sZW5ndGg7bys9MSlyW3Nbb10uaWRdPXQ7fX0saT0wLGE9dDtpPGEubGVuZ3RoO2krPTEpbigpO3JldHVybiByfSh0LmJ1Y2tldHMsZS5zdHlsZSksdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuYnVja2V0cyl7dmFyIGk9dGhpcy5idWNrZXRzW25dO2lmKGkgaW5zdGFuY2VvZiBDbCl7aWYodGhpcy5oYXNTeW1ib2xCdWNrZXRzPSEwLCFyKWJyZWFrO2kuanVzdFJlbG9hZGVkPSEwO319aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IodmFyIGEgaW4gdGhpcy5idWNrZXRzKXt2YXIgbz10aGlzLmJ1Y2tldHNbYV07aWYobyBpbnN0YW5jZW9mIENsJiZvLmhhc1JUTFRleHQpe3RoaXMuaGFzUlRMVGV4dD0hMCxkaS5pc0xvYWRpbmcoKXx8ZGkuaXNMb2FkZWQoKXx8ImRlZmVycmVkIiE9PWZpKCl8fHlpKCk7YnJlYWt9fWZvcih2YXIgcyBpbiB0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuYnVja2V0cyl7dmFyIHU9dGhpcy5idWNrZXRzW3NdO3RoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGUuc3R5bGUuZ2V0TGF5ZXIocykucXVlcnlSYWRpdXModSkpO310LmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9dC5pbWFnZUF0bGFzKSx0LmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc0ltYWdlPXQuZ2x5cGhBdGxhc0ltYWdlKTt9ZWxzZSB0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBhYTt9LHNwLnByb3RvdHlwZS51bmxvYWRWZWN0b3JEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYnVja2V0cyl0aGlzLmJ1Y2tldHNbdF0uZGVzdHJveSgpO3RoaXMuYnVja2V0cz17fSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlJiZ0aGlzLmltYWdlQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9bnVsbCksdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSYmdGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9bnVsbCx0aGlzLnN0YXRlPSJ1bmxvYWRlZCI7fSxzcC5wcm90b3R5cGUuZ2V0QnVja2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJ1Y2tldHNbdC5pZF19LHNwLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuYnVja2V0cyl7dmFyIHI9dGhpcy5idWNrZXRzW2VdO3IudXBsb2FkUGVuZGluZygpJiZyLnVwbG9hZCh0KTt9dmFyIG49dC5nbDt0aGlzLmltYWdlQXRsYXMmJiF0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQmJih0aGlzLmltYWdlQXRsYXNUZXh0dXJlPW5ldyBLbCh0LHRoaXMuaW1hZ2VBdGxhcy5pbWFnZSxuLlJHQkEpLHRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZD0hMCksdGhpcy5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNUZXh0dXJlPW5ldyBLbCh0LHRoaXMuZ2x5cGhBdGxhc0ltYWdlLG4uQUxQSEEpLHRoaXMuZ2x5cGhBdGxhc0ltYWdlPW51bGwpO30sc3AucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCl7dGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0Y2hVcGRhdGVkSW1hZ2VzKHQsdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSk7fSxzcC5wcm90b3R5cGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLG8scyx1LGwpe3JldHVybiB0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE/dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucXVlcnkoe3F1ZXJ5R2VvbWV0cnk6bixjYW1lcmFRdWVyeUdlb21ldHJ5Omksc2NhbGU6YSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHBpeGVsUG9zTWF0cml4OmwsdHJhbnNmb3JtOnMscGFyYW1zOm8scXVlcnlQYWRkaW5nOnRoaXMucXVlcnlQYWRkaW5nKnV9LHQsZSxyKTp7fX0sc3AucHJvdG90eXBlLnF1ZXJ5U291cmNlRmVhdHVyZXM9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZihyJiZyLnJhd1RpbGVEYXRhKXt2YXIgbj1yLmxvYWRWVExheWVycygpLGk9ZT9lLnNvdXJjZUxheWVyOiIiLGE9bi5fZ2VvanNvblRpbGVMYXllcnx8bltpXTtpZihhKWZvcih2YXIgbz15bihlJiZlLmZpbHRlcikscz10aGlzLnRpbGVJRC5jYW5vbmljYWwsdT1zLnosbD1zLngscD1zLnksYz17ejp1LHg6bCx5OnB9LGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIGY9YS5mZWF0dXJlKGgpO2lmKG8uZmlsdGVyKG5ldyBtaSh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksZikpe3ZhciB5PXIuZ2V0SWQoZixpKSxkPW5ldyB0cChmLHUsbCxwLHkpO2QudGlsZT1jLHQucHVzaChkKTt9fX19LHNwLnByb3RvdHlwZS5oYXNEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuICJsb2FkZWQiPT09dGhpcy5zdGF0ZXx8InJlbG9hZGluZyI9PT10aGlzLnN0YXRlfHwiZXhwaXJlZCI9PT10aGlzLnN0YXRlfSxzcC5wcm90b3R5cGUucGF0dGVybnNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZUF0bGFzJiYhIU9iamVjdC5rZXlzKHRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zKS5sZW5ndGh9LHNwLnByb3RvdHlwZS5zZXRFeHBpcnlEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZXhwaXJhdGlvblRpbWU7aWYodC5jYWNoZUNvbnRyb2wpe3ZhciByPWsodC5jYWNoZUNvbnRyb2wpO3JbIm1heC1hZ2UiXSYmKHRoaXMuZXhwaXJhdGlvblRpbWU9RGF0ZS5ub3coKSsxZTMqclsibWF4LWFnZSJdKTt9ZWxzZSB0LmV4cGlyZXMmJih0aGlzLmV4cGlyYXRpb25UaW1lPW5ldyBEYXRlKHQuZXhwaXJlcykuZ2V0VGltZSgpKTtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXt2YXIgbj1EYXRlLm5vdygpLGk9ITE7aWYodGhpcy5leHBpcmF0aW9uVGltZT5uKWk9ITE7ZWxzZSBpZihlKWlmKHRoaXMuZXhwaXJhdGlvblRpbWU8ZSlpPSEwO2Vsc2V7dmFyIGE9dGhpcy5leHBpcmF0aW9uVGltZS1lO2E/dGhpcy5leHBpcmF0aW9uVGltZT1uK01hdGgubWF4KGEsM2U0KTppPSEwO31lbHNlIGk9ITA7aT8odGhpcy5leHBpcmVkUmVxdWVzdENvdW50KyssdGhpcy5zdGF0ZT0iZXhwaXJlZCIpOnRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wO319LHNwLnByb3RvdHlwZS5nZXRFeHBpcnlUaW1lb3V0PWZ1bmN0aW9uKCl7aWYodGhpcy5leHBpcmF0aW9uVGltZSlyZXR1cm4gdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PzFlMyooMTw8TWF0aC5taW4odGhpcy5leHBpcmVkUmVxdWVzdENvdW50LTEsMzEpKTpNYXRoLm1pbih0aGlzLmV4cGlyYXRpb25UaW1lLShuZXcgRGF0ZSkuZ2V0VGltZSgpLE1hdGgucG93KDIsMzEpLTEpfSxzcC5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgmJnRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhJiYwIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXt2YXIgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5sb2FkVlRMYXllcnMoKTtmb3IodmFyIG4gaW4gdGhpcy5idWNrZXRzKWlmKGUuc3R5bGUuaGFzTGF5ZXIobikpe3ZhciBpPXRoaXMuYnVja2V0c1tuXSxhPWkubGF5ZXJzWzBdLnNvdXJjZUxheWVyfHwiX2dlb2pzb25UaWxlTGF5ZXIiLG89clthXSxzPXRbYV07byYmcyYmMCE9PU9iamVjdC5rZXlzKHMpLmxlbmd0aCYmKGkudXBkYXRlKHMsbyx0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zfHx7fSksZSYmZS5zdHlsZSYmKHRoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGUuc3R5bGUuZ2V0TGF5ZXIobikucXVlcnlSYWRpdXMoaSkpKSk7fX19LHNwLnByb3RvdHlwZS5ob2xkaW5nRm9yRmFkZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLnN5bWJvbEZhZGVIb2xkVW50aWx9LHNwLnByb3RvdHlwZS5zeW1ib2xGYWRlRmluaXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbHx8dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPEQubm93KCl9LHNwLnByb3RvdHlwZS5jbGVhckZhZGVIb2xkPWZ1bmN0aW9uKCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPXZvaWQgMDt9LHNwLnByb3RvdHlwZS5zZXRIb2xkRHVyYXRpb249ZnVuY3Rpb24odCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPUQubm93KCkrdDt9LHNwLnByb3RvdHlwZS5zZXREZXBlbmRlbmNpZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbj0wLGk9ZTtuPGkubGVuZ3RoO24rPTEpcltpW25dXT0hMDt0aGlzLmRlcGVuZGVuY2llc1t0XT1yO30sc3AucHJvdG90eXBlLmhhc0RlcGVuZGVuY3k9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxuPXQ7cjxuLmxlbmd0aDtyKz0xKXt2YXIgaT10aGlzLmRlcGVuZGVuY2llc1tuW3JdXTtpZihpKWZvcih2YXIgYT0wLG89ZTthPG8ubGVuZ3RoO2ErPTEpaWYoaVtvW2FdXSlyZXR1cm4gITB9cmV0dXJuICExfTt2YXIgdXA9c2VsZi5wZXJmb3JtYW5jZSxscD1mdW5jdGlvbih0KXt0aGlzLl9tYXJrcz17c3RhcnQ6W3QudXJsLCJzdGFydCJdLmpvaW4oIiMiKSxlbmQ6W3QudXJsLCJlbmQiXS5qb2luKCIjIiksbWVhc3VyZTp0LnVybC50b1N0cmluZygpfSx1cC5tYXJrKHRoaXMuX21hcmtzLnN0YXJ0KTt9O2xwLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXt1cC5tYXJrKHRoaXMuX21hcmtzLmVuZCk7dmFyIHQ9dXAuZ2V0RW50cmllc0J5TmFtZSh0aGlzLl9tYXJrcy5tZWFzdXJlKTtyZXR1cm4gMD09PXQubGVuZ3RoJiYodXAubWVhc3VyZSh0aGlzLl9tYXJrcy5tZWFzdXJlLHRoaXMuX21hcmtzLnN0YXJ0LHRoaXMuX21hcmtzLmVuZCksdD11cC5nZXRFbnRyaWVzQnlOYW1lKHRoaXMuX21hcmtzLm1lYXN1cmUpLHVwLmNsZWFyTWFya3ModGhpcy5fbWFya3Muc3RhcnQpLHVwLmNsZWFyTWFya3ModGhpcy5fbWFya3MuZW5kKSx1cC5jbGVhck1lYXN1cmVzKHRoaXMuX21hcmtzLm1lYXN1cmUpKSx0fSx0LkFjdG9yPVpsLHQuQWxwaGFJbWFnZT13byx0LkNhbm9uaWNhbFRpbGVJRD1KbCx0LkNvbGxpc2lvbkJveEFycmF5PWFhLHQuQ29sb3I9JHQsdC5ERU1EYXRhPVdsLHQuRGF0YUNvbnN0YW50UHJvcGVydHk9a2ksdC5EaWN0aW9uYXJ5Q29kZXI9UWwsdC5FWFRFTlQ9emUsdC5FcnJvckV2ZW50PUl0LHQuRXZhbHVhdGlvblBhcmFtZXRlcnM9bWksdC5FdmVudD1rdCx0LkV2ZW50ZWQ9enQsdC5GZWF0dXJlSW5kZXg9bnAsdC5GaWxsQnVja2V0PXBzLHQuRmlsbEV4dHJ1c2lvbkJ1Y2tldD16cyx0LkltYWdlQXRsYXM9SXUsdC5JbWFnZVBvc2l0aW9uPVN1LHQuTGluZUJ1Y2tldD1Mcyx0LkxuZ0xhdD14ZSx0LkxuZ0xhdEJvdW5kcz1nZSx0Lk1lcmNhdG9yQ29vcmRpbmF0ZT1JZSx0Lk9ORV9FTT1Zcyx0Lk92ZXJzY2FsZWRUaWxlSUQ9WWwsdC5Qb2ludD1pLHQuUG9pbnQkMT1pLHQuUHJvcGVydGllcz1UaSx0LlByb3RvYnVmPVFzLHQuUkdCQUltYWdlPV9vLHQuUmVxdWVzdE1hbmFnZXI9Tix0LlJlcXVlc3RQZXJmb3JtYW5jZT1scCx0LlJlc291cmNlVHlwZT15dCx0LlNlZ21lbnRWZWN0b3I9ZGEsdC5Tb3VyY2VGZWF0dXJlU3RhdGU9cnAsdC5TdHJ1Y3RBcnJheUxheW91dDF1aTI9ZWEsdC5TdHJ1Y3RBcnJheUxheW91dDJpND1MaSx0LlN0cnVjdEFycmF5TGF5b3V0M3VpNj1RaSx0LlN0cnVjdEFycmF5TGF5b3V0NGk4PVJpLHQuU3ltYm9sQnVja2V0PUNsLHQuVGV4dHVyZT1LbCx0LlRpbGU9c3AsdC5UcmFuc2l0aW9uYWJsZT14aSx0LlVuaWZvcm0xZj1DYSx0LlVuaWZvcm0xaT16YSx0LlVuaWZvcm0yZj1NYSx0LlVuaWZvcm0zZj1UYSx0LlVuaWZvcm00Zj1FYSx0LlVuaWZvcm1Db2xvcj1QYSx0LlVuaWZvcm1NYXRyaXg0Zj1WYSx0LlVud3JhcHBlZFRpbGVJRD1IbCx0LlZhbGlkYXRpb25FcnJvcj1NdCx0LldyaXRpbmdNb2RlPXp1LHQuWm9vbUhpc3Rvcnk9UW4sdC5hZGQ9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0rclswXSx0WzFdPWVbMV0rclsxXSx0WzJdPWVbMl0rclsyXSx0fSx0LmFkZER5bmFtaWNBdHRyaWJ1dGVzPVNsLHQuYXN5bmNBbGw9ZnVuY3Rpb24odCxlLHIpe2lmKCF0Lmxlbmd0aClyZXR1cm4gcihudWxsLFtdKTt2YXIgbj10Lmxlbmd0aCxpPW5ldyBBcnJheSh0Lmxlbmd0aCksYT1udWxsO3QuZm9yRWFjaCgoZnVuY3Rpb24odCxvKXtlKHQsKGZ1bmN0aW9uKHQsZSl7dCYmKGE9dCksaVtvXT1lLDA9PS0tbiYmcihhLGkpO30pKTt9KSk7fSx0LmJlemllcj1vLHQuYmluZEFsbD1kLHQuYnJvd3Nlcj1ELHQuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQ9ZnVuY3Rpb24odCl7KytodD5zdCYmKHQuZ2V0QWN0b3IoKS5zZW5kKCJlbmZvcmNlQ2FjaGVTaXplTGltaXQiLG90KSxodD0wKTt9LHQuY2xhbXA9dSx0LmNsZWFyVGlsZUNhY2hlPWZ1bmN0aW9uKHQpe3ZhciBlPXNlbGYuY2FjaGVzLmRlbGV0ZShhdCk7dCYmZS5jYXRjaCh0KS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0KCl9KSk7fSx0LmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBobygxNik7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzRdPXRbNF0sZVs1XT10WzVdLGVbNl09dFs2XSxlWzddPXRbN10sZVs4XT10WzhdLGVbOV09dFs5XSxlWzEwXT10WzEwXSxlWzExXT10WzExXSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSxlfSx0LmNsb25lJDE9eCx0LmNsb25lJDI9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGhvKDMpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlfSx0LmNvbmZpZz1MLHQuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGhvKDE2KTtyZXR1cm4gaG8hPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCksdFswXT0xLHRbNV09MSx0WzEwXT0xLHRbMTVdPTEsdH0sdC5jcmVhdGUkMT1mdW5jdGlvbigpe3ZhciB0PW5ldyBobyg5KTtyZXR1cm4gaG8hPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNV09MCx0WzZdPTAsdFs3XT0wKSx0WzBdPTEsdFs0XT0xLHRbOF09MSx0fSx0LmNyZWF0ZSQyPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGhvKDQpO3JldHVybiBobyE9RmxvYXQzMkFycmF5JiYodFsxXT0wLHRbMl09MCksdFswXT0xLHRbM109MSx0fSx0LmNyZWF0ZUNvbW1vbmpzTW9kdWxlPWUsdC5jcmVhdGVFeHByZXNzaW9uPXRuLHQuY3JlYXRlTGF5b3V0PUZpLHQuY3JlYXRlU3R5bGVMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gImN1c3RvbSI9PT10LnR5cGU/bmV3IExsKHQpOm5ldyBSbFt0LnR5cGVdKHQpfSx0LmNyb3NzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0sbz1yWzBdLHM9clsxXSx1PXJbMl07cmV0dXJuIHRbMF09aSp1LWEqcyx0WzFdPWEqby1uKnUsdFsyXT1uKnMtaSpvLHR9LHQuZGVlcEVxdWFsPWZ1bmN0aW9uIHQoZSxyKXtpZihBcnJheS5pc0FycmF5KGUpKXtpZighQXJyYXkuaXNBcnJheShyKXx8ZS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoIXQoZVtuXSxyW25dKSlyZXR1cm4gITE7cmV0dXJuICEwfWlmKCJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWUmJm51bGwhPT1yKXtpZigib2JqZWN0IiE9dHlwZW9mIHIpcmV0dXJuICExO2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciBpIGluIGUpaWYoIXQoZVtpXSxyW2ldKSlyZXR1cm4gITE7cmV0dXJuICEwfXJldHVybiBlPT09cn0sdC5kb3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl19LHQuZG90JDE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl0rdFszXSplWzNdfSx0LmVhc2U9cyx0LmVtaXRWYWxpZGF0aW9uRXJyb3JzPVVuLHQuZW5kc1dpdGg9bSx0LmVuZm9yY2VDYWNoZVNpemVMaW1pdD1mdW5jdGlvbih0KXtsdCgpLFcmJlcudGhlbigoZnVuY3Rpb24oZSl7ZS5rZXlzKCkudGhlbigoZnVuY3Rpb24ocil7Zm9yKHZhciBuPTA7bjxyLmxlbmd0aC10O24rKyllLmRlbGV0ZShyW25dKTt9KSk7fSkpO30sdC5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlPUd1LHQuZXZhbHVhdGVTaXplRm9yWm9vbT1adSx0LmV2YWx1YXRlVmFyaWFibGVPZmZzZXQ9eWwsdC5ldmVudGVkPWhpLHQuZXh0ZW5kPXAsdC5mZWF0dXJlRmlsdGVyPXluLHQuZmlsdGVyT2JqZWN0PWcsdC5mcm9tUm90YXRpb249ZnVuY3Rpb24odCxlKXt2YXIgcj1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO3JldHVybiB0WzBdPW4sdFsxXT1yLHRbMl09MCx0WzNdPS1yLHRbNF09bix0WzVdPTAsdFs2XT0wLHRbN109MCx0WzhdPTEsdH0sdC5nZXRBbmNob3JBbGlnbm1lbnQ9T3UsdC5nZXRBbmNob3JKdXN0aWZpY2F0aW9uPWRsLHQuZ2V0QXJyYXlCdWZmZXI9YnQsdC5nZXRJbWFnZT1fdCx0LmdldEpTT049ZnVuY3Rpb24odCxlKXtyZXR1cm4geHQocCh0LHt0eXBlOiJqc29uIn0pLGUpfSx0LmdldFJUTFRleHRQbHVnaW5TdGF0dXM9ZmksdC5nZXRSZWZlcnJlcj1tdCx0LmdldFZpZGVvPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpPXNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidmlkZW8iKTtpLm11dGVkPSEwLGkub25sb2Fkc3RhcnQ9ZnVuY3Rpb24oKXtlKG51bGwsaSk7fTtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG89c2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzb3VyY2UiKTtyPXRbYV0sbj12b2lkIDAsKG49c2VsZi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9ciwobi5wcm90b2NvbCE9PXNlbGYuZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x8fG4uaG9zdCE9PXNlbGYuZG9jdW1lbnQubG9jYXRpb24uaG9zdCkmJihpLmNyb3NzT3JpZ2luPSJBbm9ueW1vdXMiKSxvLnNyYz10W2FdLGkuYXBwZW5kQ2hpbGQobyk7fXJldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7fX19LHQuaWRlbnRpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fSx0LmludmVydD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10sbz1lWzRdLHM9ZVs1XSx1PWVbNl0sbD1lWzddLHA9ZVs4XSxjPWVbOV0saD1lWzEwXSxmPWVbMTFdLHk9ZVsxMl0sZD1lWzEzXSxtPWVbMTRdLHY9ZVsxNV0sZz1yKnMtbipvLHg9cip1LWkqbyxiPXIqbC1hKm8sdz1uKnUtaSpzLF89bipsLWEqcyxBPWkqbC1hKnUsUz1wKmQtYyp5LGs9cCptLWgqeSxJPXAqdi1mKnksej1jKm0taCpkLEM9Yyp2LWYqZCxNPWgqdi1mKm0sVD1nKk0teCpDK2Iqeit3KkktXyprK0EqUztyZXR1cm4gVD8odFswXT0ocypNLXUqQytsKnopKihUPTEvVCksdFsxXT0oaSpDLW4qTS1hKnopKlQsdFsyXT0oZCpBLW0qXyt2KncpKlQsdFszXT0oaCpfLWMqQS1mKncpKlQsdFs0XT0odSpJLW8qTS1sKmspKlQsdFs1XT0ocipNLWkqSSthKmspKlQsdFs2XT0obSpiLXkqQS12KngpKlQsdFs3XT0ocCpBLWgqYitmKngpKlQsdFs4XT0obypDLXMqSStsKlMpKlQsdFs5XT0obipJLXIqQy1hKlMpKlQsdFsxMF09KHkqXy1kKmIrdipnKSpULHRbMTFdPShjKmItcCpfLWYqZykqVCx0WzEyXT0ocyprLW8qei11KlMpKlQsdFsxM109KHIqei1uKmsraSpTKSpULHRbMTRdPShkKngteSp3LW0qZykqVCx0WzE1XT0ocCp3LWMqeCtoKmcpKlQsdCk6bnVsbH0sdC5pc0NoYXI9dGksdC5pc01hcGJveFVSTD1LLHQua2V5c0RpZmZlcmVuY2U9ZnVuY3Rpb24odCxlKXt2YXIgcj1bXTtmb3IodmFyIG4gaW4gdCluIGluIGV8fHIucHVzaChuKTtyZXR1cm4gcn0sdC5tYWtlUmVxdWVzdD14dCx0Lm1hcE9iamVjdD12LHQubWVyY2F0b3JYZnJvbUxuZz1fZSx0Lm1lcmNhdG9yWWZyb21MYXQ9QWUsdC5tZXJjYXRvclpmcm9tQWx0aXR1ZGU9U2UsdC5tdWx0aXBseT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPWVbNF0sdT1lWzVdLGw9ZVs2XSxwPWVbN10sYz1lWzhdLGg9ZVs5XSxmPWVbMTBdLHk9ZVsxMV0sZD1lWzEyXSxtPWVbMTNdLHY9ZVsxNF0sZz1lWzE1XSx4PXJbMF0sYj1yWzFdLHc9clsyXSxfPXJbM107cmV0dXJuIHRbMF09eCpuK2Iqcyt3KmMrXypkLHRbMV09eCppK2IqdSt3KmgrXyptLHRbMl09eCphK2IqbCt3KmYrXyp2LHRbM109eCpvK2IqcCt3KnkrXypnLHRbNF09KHg9cls0XSkqbisoYj1yWzVdKSpzKyh3PXJbNl0pKmMrKF89cls3XSkqZCx0WzVdPXgqaStiKnUrdypoK18qbSx0WzZdPXgqYStiKmwrdypmK18qdix0WzddPXgqbytiKnArdyp5K18qZyx0WzhdPSh4PXJbOF0pKm4rKGI9cls5XSkqcysodz1yWzEwXSkqYysoXz1yWzExXSkqZCx0WzldPXgqaStiKnUrdypoK18qbSx0WzEwXT14KmErYipsK3cqZitfKnYsdFsxMV09eCpvK2IqcCt3KnkrXypnLHRbMTJdPSh4PXJbMTJdKSpuKyhiPXJbMTNdKSpzKyh3PXJbMTRdKSpjKyhfPXJbMTVdKSpkLHRbMTNdPXgqaStiKnUrdypoK18qbSx0WzE0XT14KmErYipsK3cqZitfKnYsdFsxNV09eCpvK2IqcCt3KnkrXypnLHR9LHQubXZ0PUFzLHQubm9ybWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9cipyK24qbitpKmk7cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLHRbMF09ZVswXSphLHRbMV09ZVsxXSphLHRbMl09ZVsyXSphLHR9LHQubnVtYmVyPUplLHQub2Zmc2NyZWVuQ2FudmFzU3VwcG9ydGVkPWZ0LHQub3J0aG89ZnVuY3Rpb24odCxlLHIsbixpLGEsbyl7dmFyIHM9MS8oZS1yKSx1PTEvKG4taSksbD0xLyhhLW8pO3JldHVybiB0WzBdPS0yKnMsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09LTIqdSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MipsLHRbMTFdPTAsdFsxMl09KGUrcikqcyx0WzEzXT0oaStuKSp1LHRbMTRdPShvK2EpKmwsdFsxNV09MSx0fSx0LnBhcnNlR2x5cGhQQkY9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBRcyh0KS5yZWFkRmllbGRzKGd1LFtdKX0sdC5wYmY9UXMsdC5wZXJmb3JtU3ltYm9sTGF5b3V0PWZ1bmN0aW9uKHQsZSxyLG4sYSxvLHMpe3QuY3JlYXRlQXJyYXlzKCksdC50aWxlUGl4ZWxSYXRpbz16ZS8oNTEyKnQub3ZlcnNjYWxpbmcpLHQuY29tcGFyZVRleHQ9e30sdC5pY29uc05lZWRMaW5lYXI9ITE7dmFyIHU9dC5sYXllcnNbMF0ubGF5b3V0LGw9dC5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMscD17fTtpZigiY29tcG9zaXRlIj09PXQudGV4dFNpemVEYXRhLmtpbmQpe3ZhciBjPXQudGV4dFNpemVEYXRhLGg9Yy5tYXhab29tO3AuY29tcG9zaXRlVGV4dFNpemVzPVtsWyJ0ZXh0LXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBtaShjLm1pblpvb20pLHMpLGxbInRleHQtc2l6ZSJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IG1pKGgpLHMpXTt9aWYoImNvbXBvc2l0ZSI9PT10Lmljb25TaXplRGF0YS5raW5kKXt2YXIgZj10Lmljb25TaXplRGF0YSx5PWYubWF4Wm9vbTtwLmNvbXBvc2l0ZUljb25TaXplcz1bbFsiaWNvbi1zaXplIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgbWkoZi5taW5ab29tKSxzKSxsWyJpY29uLXNpemUiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBtaSh5KSxzKV07fXAubGF5b3V0VGV4dFNpemU9bFsidGV4dC1zaXplIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgbWkodC56b29tKzEpLHMpLHAubGF5b3V0SWNvblNpemU9bFsiaWNvbi1zaXplIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgbWkodC56b29tKzEpLHMpLHAudGV4dE1heFNpemU9bFsidGV4dC1zaXplIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgbWkoMTgpKTtmb3IodmFyIGQ9dS5nZXQoInRleHQtbGluZS1oZWlnaHQiKSpZcyxtPSJtYXAiPT09dS5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50IikmJiJwb2ludCIhPT11LmdldCgic3ltYm9sLXBsYWNlbWVudCIpLHY9dS5nZXQoInRleHQta2VlcC11cHJpZ2h0IiksZz11LmdldCgidGV4dC1zaXplIikseD1mdW5jdGlvbigpe3ZhciBvPV9bYl0sbD11LmdldCgidGV4dC1mb250IikuZXZhbHVhdGUobyx7fSxzKS5qb2luKCIsIiksYz1nLmV2YWx1YXRlKG8se30scyksaD1wLmxheW91dFRleHRTaXplLmV2YWx1YXRlKG8se30scyksZj1wLmxheW91dEljb25TaXplLmV2YWx1YXRlKG8se30scykseT17aG9yaXpvbnRhbDp7fSx2ZXJ0aWNhbDp2b2lkIDB9LHg9by50ZXh0LEE9WzAsMF07aWYoeCl7dmFyIFM9eC50b1N0cmluZygpLGs9dS5nZXQoInRleHQtbGV0dGVyLXNwYWNpbmciKS5ldmFsdWF0ZShvLHt9LHMpKllzLEk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10O2U8ci5sZW5ndGg7ZSs9MSlpZihuPXJbZV0uY2hhckNvZGVBdCgwKSx0aS5BcmFiaWMobil8fHRpWyJBcmFiaWMgU3VwcGxlbWVudCJdKG4pfHx0aVsiQXJhYmljIEV4dGVuZGVkLUEiXShuKXx8dGlbIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQSJdKG4pfHx0aVsiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CIl0obikpcmV0dXJuICExO3ZhciBuO3JldHVybiAhMH0oUyk/azowLHo9dS5nZXQoInRleHQtYW5jaG9yIikuZXZhbHVhdGUobyx7fSxzKSxDPXUuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpO2lmKCFDKXt2YXIgTT11LmdldCgidGV4dC1yYWRpYWwtb2Zmc2V0IikuZXZhbHVhdGUobyx7fSxzKTtBPU0/eWwoeixbTSpZcyxmbF0pOnUuZ2V0KCJ0ZXh0LW9mZnNldCIpLmV2YWx1YXRlKG8se30scykubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdCpZc30pKTt9dmFyIFQ9bT8iY2VudGVyIjp1LmdldCgidGV4dC1qdXN0aWZ5IikuZXZhbHVhdGUobyx7fSxzKSxFPXUuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IiksUD0icG9pbnQiPT09RT91LmdldCgidGV4dC1tYXgtd2lkdGgiKS5ldmFsdWF0ZShvLHt9LHMpKllzOjAsQj1mdW5jdGlvbigpe3QuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZWkoUykmJih5LnZlcnRpY2FsPUV1KHgsZSxyLGEsbCxQLGQseiwibGVmdCIsSSxBLHp1LnZlcnRpY2FsLCEwLEUsaCxjKSk7fTtpZighbSYmQyl7Zm9yKHZhciBWPSJhdXRvIj09PVQ/Qy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBkbCh0KX0pKTpbVF0sRj0hMSxEPTA7RDxWLmxlbmd0aDtEKyspe3ZhciBMPVZbRF07aWYoIXkuaG9yaXpvbnRhbFtMXSlpZihGKXkuaG9yaXpvbnRhbFtMXT15Lmhvcml6b250YWxbMF07ZWxzZXt2YXIgUj1FdSh4LGUscixhLGwsUCxkLCJjZW50ZXIiLEwsSSxBLHp1Lmhvcml6b250YWwsITEsRSxoLGMpO1ImJih5Lmhvcml6b250YWxbTF09UixGPTE9PT1SLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpO319QigpO31lbHNleyJhdXRvIj09PVQmJihUPWRsKHopKTt2YXIgTz1FdSh4LGUscixhLGwsUCxkLHosVCxJLEEsenUuaG9yaXpvbnRhbCwhMSxFLGgsYyk7TyYmKHkuaG9yaXpvbnRhbFtUXT1PKSxCKCksZWkoUykmJm0mJnYmJih5LnZlcnRpY2FsPUV1KHgsZSxyLGEsbCxQLGQseixULEksQSx6dS52ZXJ0aWNhbCwhMSxFLGgsYykpO319dmFyIFU9dm9pZCAwLGo9ITE7aWYoby5pY29uJiZvLmljb24ubmFtZSl7dmFyIHE9bltvLmljb24ubmFtZV07cSYmKFU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPU91KHIpLGk9ZVswXS10LmRpc3BsYXlTaXplWzBdKm4uaG9yaXpvbnRhbEFsaWduLGE9ZVsxXS10LmRpc3BsYXlTaXplWzFdKm4udmVydGljYWxBbGlnbjtyZXR1cm4ge2ltYWdlOnQsdG9wOmEsYm90dG9tOmErdC5kaXNwbGF5U2l6ZVsxXSxsZWZ0OmkscmlnaHQ6aSt0LmRpc3BsYXlTaXplWzBdfX0oYVtvLmljb24ubmFtZV0sdS5nZXQoImljb24tb2Zmc2V0IikuZXZhbHVhdGUobyx7fSxzKSx1LmdldCgiaWNvbi1hbmNob3IiKS5ldmFsdWF0ZShvLHt9LHMpKSxqPXEuc2RmLHZvaWQgMD09PXQuc2RmSWNvbnM/dC5zZGZJY29ucz1xLnNkZjp0LnNkZkljb25zIT09cS5zZGYmJncoIlN0eWxlIHNoZWV0IHdhcm5pbmc6IENhbm5vdCBtaXggU0RGIGFuZCBub24tU0RGIGljb25zIGluIG9uZSBidWZmZXIiKSxxLnBpeGVsUmF0aW8hPT10LnBpeGVsUmF0aW8/dC5pY29uc05lZWRMaW5lYXI9ITA6MCE9PXUuZ2V0KCJpY29uLXJvdGF0ZSIpLmNvbnN0YW50T3IoMSkmJih0Lmljb25zTmVlZExpbmVhcj0hMCkpO312YXIgTj14bCh5Lmhvcml6b250YWwpfHx5LnZlcnRpY2FsO3QuaWNvbnNJblRleHQ9ISFOJiZOLmljb25zSW5UZXh0LChOfHxVKSYmZnVuY3Rpb24odCxlLHIsbixhLG8scyx1LGwscCxjKXt2YXIgaD1vLnRleHRNYXhTaXplLmV2YWx1YXRlKGUse30pO3ZvaWQgMD09PWgmJihoPXMpO3ZhciBmLHk9dC5sYXllcnNbMF0ubGF5b3V0LGQ9eS5nZXQoImljb24tb2Zmc2V0IikuZXZhbHVhdGUoZSx7fSxjKSxtPXhsKHIuaG9yaXpvbnRhbCksdj1zLzI0LGc9dC50aWxlUGl4ZWxSYXRpbyp2LHg9dC50aWxlUGl4ZWxSYXRpbypoLzI0LGI9dC50aWxlUGl4ZWxSYXRpbyp1LF89dC50aWxlUGl4ZWxSYXRpbyp5LmdldCgic3ltYm9sLXNwYWNpbmciKSxBPXkuZ2V0KCJ0ZXh0LXBhZGRpbmciKSp0LnRpbGVQaXhlbFJhdGlvLFM9eS5nZXQoImljb24tcGFkZGluZyIpKnQudGlsZVBpeGVsUmF0aW8saz15LmdldCgidGV4dC1tYXgtYW5nbGUiKS8xODAqTWF0aC5QSSxJPSJtYXAiPT09eS5nZXQoInRleHQtcm90YXRpb24tYWxpZ25tZW50IikmJiJwb2ludCIhPT15LmdldCgic3ltYm9sLXBsYWNlbWVudCIpLHo9Im1hcCI9PT15LmdldCgiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQiKSYmInBvaW50IiE9PXkuZ2V0KCJzeW1ib2wtcGxhY2VtZW50IiksQz15LmdldCgic3ltYm9sLXBsYWNlbWVudCIpLE09Xy8yLFQ9eS5nZXQoImljb24tdGV4dC1maXQiKTtuJiYibm9uZSIhPT1UJiYodC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZyLnZlcnRpY2FsJiYoZj1qdShuLHIudmVydGljYWwsVCx5LmdldCgiaWNvbi10ZXh0LWZpdC1wYWRkaW5nIiksZCx2KSksbSYmKG49anUobixtLFQseS5nZXQoImljb24tdGV4dC1maXQtcGFkZGluZyIpLGQsdikpKTt2YXIgRT1mdW5jdGlvbihpLHMpe3MueDwwfHxzLng+PXplfHxzLnk8MHx8cy55Pj16ZXx8ZnVuY3Rpb24odCxlLHIsbixpLGEsbyxzLHUsbCxwLGMsaCxmLHksZCxtLHYsZyx4LGIsXyxBLFMpe3ZhciBrLEkseixDLE0sVD10LmFkZFRvTGluZVZlcnRleEFycmF5KGUsciksRT0wLFA9MCxCPTAsVj0wLEY9LTEsRD0tMSxMPXt9LFI9YmEoIiIpLE89MCxVPTA7aWYodm9pZCAwPT09cy5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUoInRleHQtcmFkaWFsLW9mZnNldCIpPyhPPShrPXMubGF5b3V0LmdldCgidGV4dC1vZmZzZXQiKS5ldmFsdWF0ZShiLHt9LFMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQqWXN9KSkpWzBdLFU9a1sxXSk6KE89cy5sYXlvdXQuZ2V0KCJ0ZXh0LXJhZGlhbC1vZmZzZXQiKS5ldmFsdWF0ZShiLHt9LFMpKllzLFU9ZmwpLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmbi52ZXJ0aWNhbCl7dmFyIGo9cy5sYXlvdXQuZ2V0KCJ0ZXh0LXJvdGF0ZSIpLmV2YWx1YXRlKGIse30sUykrOTA7Qz1uZXcgb2wodSxyLGUsbCxwLGMsbi52ZXJ0aWNhbCxoLGYseSx0Lm92ZXJzY2FsaW5nLGopLG8mJihNPW5ldyBvbCh1LHIsZSxsLHAsYyxvLG0sdix5LHQub3ZlcnNjYWxpbmcsaikpO31pZihpKXt2YXIgcT1zLmxheW91dC5nZXQoImljb24tcm90YXRlIikuZXZhbHVhdGUoYix7fSksTj0ibm9uZSIhPT1zLmxheW91dC5nZXQoImljb24tdGV4dC1maXQiKSxLPWVsKGkscSxBLE4pLEc9bz9lbChvLHEsQSxOKTp2b2lkIDA7ej1uZXcgb2wodSxyLGUsbCxwLGMsaSxtLHYsITEsdC5vdmVyc2NhbGluZyxxKSxFPTQqSy5sZW5ndGg7dmFyIFo9dC5pY29uU2l6ZURhdGEsWD1udWxsOyJzb3VyY2UiPT09Wi5raW5kPyhYPVtOdSpzLmxheW91dC5nZXQoImljb24tc2l6ZSIpLmV2YWx1YXRlKGIse30pXSlbMF0+dmwmJncodC5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgImljb24tc2l6ZSIgaXMgPj0gJyttbCsnLiBSZWR1Y2UgeW91ciAiaWNvbi1zaXplIi4nKToiY29tcG9zaXRlIj09PVoua2luZCYmKChYPVtOdSpfLmNvbXBvc2l0ZUljb25TaXplc1swXS5ldmFsdWF0ZShiLHt9LFMpLE51Kl8uY29tcG9zaXRlSWNvblNpemVzWzFdLmV2YWx1YXRlKGIse30sUyldKVswXT52bHx8WFsxXT52bCkmJncodC5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgImljb24tc2l6ZSIgaXMgPj0gJyttbCsnLiBSZWR1Y2UgeW91ciAiaWNvbi1zaXplIi4nKSx0LmFkZFN5bWJvbHModC5pY29uLEssWCx4LGcsYiwhMSxlLFQubGluZVN0YXJ0SW5kZXgsVC5saW5lTGVuZ3RoLC0xLFMpLEY9dC5pY29uLnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xLEcmJihQPTQqRy5sZW5ndGgsdC5hZGRTeW1ib2xzKHQuaWNvbixHLFgseCxnLGIsenUudmVydGljYWwsZSxULmxpbmVTdGFydEluZGV4LFQubGluZUxlbmd0aCwtMSxTKSxEPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSk7fWZvcih2YXIgSiBpbiBuLmhvcml6b250YWwpe3ZhciBIPW4uaG9yaXpvbnRhbFtKXTtpZighSSl7Uj1iYShILnRleHQpO3ZhciBZPXMubGF5b3V0LmdldCgidGV4dC1yb3RhdGUiKS5ldmFsdWF0ZShiLHt9LFMpO0k9bmV3IG9sKHUscixlLGwscCxjLEgsaCxmLHksdC5vdmVyc2NhbGluZyxZKTt9dmFyICQ9MT09PUgucG9zaXRpb25lZExpbmVzLmxlbmd0aDtpZihCKz1nbCh0LGUsSCxhLHMseSxiLGQsVCxuLnZlcnRpY2FsP3p1Lmhvcml6b250YWw6enUuaG9yaXpvbnRhbE9ubHksJD9PYmplY3Qua2V5cyhuLmhvcml6b250YWwpOltKXSxMLEYsXyxTKSwkKWJyZWFrfW4udmVydGljYWwmJihWKz1nbCh0LGUsbi52ZXJ0aWNhbCxhLHMseSxiLGQsVCx6dS52ZXJ0aWNhbCxbInZlcnRpY2FsIl0sTCxELF8sUykpO3ZhciBXPUk/SS5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLFE9ST9JLmJveEVuZEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHR0PUM/Qy5ib3hTdGFydEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLGV0PUM/Qy5ib3hFbmRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxydD16P3ouYm94U3RhcnRJbmRleDp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxudD16P3ouYm94RW5kSW5kZXg6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsaXQ9TT9NLmJveFN0YXJ0SW5kZXg6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsYXQ9TT9NLmJveEVuZEluZGV4OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoO3QuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGg+PUNsLk1BWF9HTFlQSFMmJncoIlRvbyBtYW55IGdseXBocyBiZWluZyByZW5kZXJlZCBpbiBhIHRpbGUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjkwNyIpLHZvaWQgMCE9PWIuc29ydEtleSYmdC5hZGRUb1NvcnRLZXlSYW5nZXModC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLGIuc29ydEtleSksdC5zeW1ib2xJbnN0YW5jZXMuZW1wbGFjZUJhY2soZS54LGUueSxMLnJpZ2h0Pj0wP0wucmlnaHQ6LTEsTC5jZW50ZXI+PTA/TC5jZW50ZXI6LTEsTC5sZWZ0Pj0wP0wubGVmdDotMSxMLnZlcnRpY2FsfHwtMSxGLEQsUixXLFEsdHQsZXQscnQsbnQsaXQsYXQsbCxCLFYsRSxQLDAsaCxPLFUpO30odCxzLGkscixuLGEsZix0LmxheWVyc1swXSx0LmNvbGxpc2lvbkJveEFycmF5LGUuaW5kZXgsZS5zb3VyY2VMYXllckluZGV4LHQuaW5kZXgsZyxBLEksbCxiLFMseixkLGUsbyxwLGMpO307aWYoImxpbmUiPT09Qylmb3IodmFyIFA9MCxCPWZ1bmN0aW9uKHQsZSxyLG4sYSl7Zm9yKHZhciBvPVtdLHM9MDtzPHQubGVuZ3RoO3MrKylmb3IodmFyIHU9dFtzXSxsPXZvaWQgMCxwPTA7cDx1Lmxlbmd0aC0xO3ArKyl7dmFyIGM9dVtwXSxoPXVbcCsxXTtjLng8MCYmaC54PDB8fChjLng8MD9jPW5ldyBpKDAsYy55KygwLWMueCkvKGgueC1jLngpKihoLnktYy55KSkuX3JvdW5kKCk6aC54PDAmJihoPW5ldyBpKDAsYy55KygwLWMueCkvKGgueC1jLngpKihoLnktYy55KSkuX3JvdW5kKCkpLGMueTwwJiZoLnk8MHx8KGMueTwwP2M9bmV3IGkoYy54KygwLWMueSkvKGgueS1jLnkpKihoLngtYy54KSwwKS5fcm91bmQoKTpoLnk8MCYmKGg9bmV3IGkoYy54KygwLWMueSkvKGgueS1jLnkpKihoLngtYy54KSwwKS5fcm91bmQoKSksYy54Pj1uJiZoLng+PW58fChjLng+PW4/Yz1uZXcgaShuLGMueSsobi1jLngpLyhoLngtYy54KSooaC55LWMueSkpLl9yb3VuZCgpOmgueD49biYmKGg9bmV3IGkobixjLnkrKG4tYy54KS8oaC54LWMueCkqKGgueS1jLnkpKS5fcm91bmQoKSksYy55Pj1hJiZoLnk+PWF8fChjLnk+PWE/Yz1uZXcgaShjLngrKGEtYy55KS8oaC55LWMueSkqKGgueC1jLngpLGEpLl9yb3VuZCgpOmgueT49YSYmKGg9bmV3IGkoYy54KyhhLWMueSkvKGgueS1jLnkpKihoLngtYy54KSxhKS5fcm91bmQoKSksbCYmYy5lcXVhbHMobFtsLmxlbmd0aC0xXSl8fG8ucHVzaChsPVtjXSksbC5wdXNoKGgpKSkpKTt9cmV0dXJuIG99KGUuZ2VvbWV0cnksMCwwLHplLHplKTtQPEIubGVuZ3RoO1ArPTEpZm9yKHZhciBWPUJbUF0sRj0wLEQ9UXUoVixfLGssci52ZXJ0aWNhbHx8bSxuLDI0LHgsdC5vdmVyc2NhbGluZyx6ZSk7RjxELmxlbmd0aDtGKz0xKXt2YXIgTD1EW0ZdO20mJmJsKHQsbS50ZXh0LE0sTCl8fEUoVixMKTt9ZWxzZSBpZigibGluZS1jZW50ZXIiPT09Qylmb3IodmFyIFI9MCxPPWUuZ2VvbWV0cnk7UjxPLmxlbmd0aDtSKz0xKXt2YXIgVT1PW1JdO2lmKFUubGVuZ3RoPjEpe3ZhciBqPVd1KFUsayxyLnZlcnRpY2FsfHxtLG4sMjQseCk7aiYmRShVLGopO319ZWxzZSBpZigiUG9seWdvbiI9PT1lLnR5cGUpZm9yKHZhciBxPTAsTj1vcyhlLmdlb21ldHJ5LDApO3E8Ti5sZW5ndGg7cSs9MSl7dmFyIEs9TltxXSxHPWxsKEssMTYpO0UoS1swXSxuZXcgcXUoRy54LEcueSwwKSk7fWVsc2UgaWYoIkxpbmVTdHJpbmciPT09ZS50eXBlKWZvcih2YXIgWj0wLFg9ZS5nZW9tZXRyeTtaPFgubGVuZ3RoO1orPTEpe3ZhciBKPVhbWl07RShKLG5ldyBxdShKWzBdLngsSlswXS55LDApKTt9ZWxzZSBpZigiUG9pbnQiPT09ZS50eXBlKWZvcih2YXIgSD0wLFk9ZS5nZW9tZXRyeTtIPFkubGVuZ3RoO0grPTEpZm9yKHZhciAkPTAsVz1ZW0hdOyQ8Vy5sZW5ndGg7JCs9MSl7dmFyIFE9V1skXTtFKFtRXSxuZXcgcXUoUS54LFEueSwwKSk7fX0odCxvLHksVSxuLHAsaCxmLEEsaixzKTt9LGI9MCxfPXQuZmVhdHVyZXM7YjxfLmxlbmd0aDtiKz0xKXgoKTtvJiZ0LmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKCk7fSx0LnBlcnNwZWN0aXZlPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGEsbz0xL01hdGgudGFuKGUvMik7cmV0dXJuIHRbMF09by9yLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPW8sdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPS0xLHRbMTJdPTAsdFsxM109MCx0WzE1XT0wLG51bGwhPWkmJmkhPT0xLzA/KHRbMTBdPShpK24pKihhPTEvKG4taSkpLHRbMTRdPTIqaSpuKmEpOih0WzEwXT0tMSx0WzE0XT0tMipuKSx0fSx0LnBpY2s9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kgaW4gdCYmKHJbaV09dFtpXSk7fXJldHVybiByfSx0LnBsdWdpbj1kaSx0LnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbj1IYSx0LnBvc3RNYXBMb2FkRXZlbnQ9aXQsdC5wb3N0VHVybnN0aWxlRXZlbnQ9cnQsdC5wb3RwYWNrPV91LHQucmVmUHJvcGVydGllcz1bInR5cGUiLCJzb3VyY2UiLCJzb3VyY2UtbGF5ZXIiLCJtaW56b29tIiwibWF4em9vbSIsImZpbHRlciIsImxheW91dCJdLHQucmVnaXN0ZXI9WG4sdC5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiB0KHtwbHVnaW5TdGF0dXM6dWkscGx1Z2luVVJMOmxpfSksaGkub24oInBsdWdpblN0YXRlQ2hhbmdlIix0KSx0fSx0LnJvdGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLG89ZVszXSxzPU1hdGguc2luKHIpLHU9TWF0aC5jb3Mocik7cmV0dXJuIHRbMF09bip1K2Eqcyx0WzFdPWkqdStvKnMsdFsyXT1uKi1zK2EqdSx0WzNdPWkqLXMrbyp1LHR9LHQucm90YXRlWD1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxhPWVbNF0sbz1lWzVdLHM9ZVs2XSx1PWVbN10sbD1lWzhdLHA9ZVs5XSxjPWVbMTBdLGg9ZVsxMV07cmV0dXJuIGUhPT10JiYodFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0WzRdPWEqaStsKm4sdFs1XT1vKmkrcCpuLHRbNl09cyppK2Mqbix0WzddPXUqaStoKm4sdFs4XT1sKmktYSpuLHRbOV09cCppLW8qbix0WzEwXT1jKmktcypuLHRbMTFdPWgqaS11Km4sdH0sdC5yb3RhdGVaPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLGE9ZVswXSxvPWVbMV0scz1lWzJdLHU9ZVszXSxsPWVbNF0scD1lWzVdLGM9ZVs2XSxoPWVbN107cmV0dXJuIGUhPT10JiYodFs4XT1lWzhdLHRbOV09ZVs5XSx0WzEwXT1lWzEwXSx0WzExXT1lWzExXSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1hKmkrbCpuLHRbMV09byppK3Aqbix0WzJdPXMqaStjKm4sdFszXT11KmkraCpuLHRbNF09bCppLWEqbix0WzVdPXAqaS1vKm4sdFs2XT1jKmktcypuLHRbN109aCppLXUqbix0fSx0LnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxhPXJbMl07cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHRbMl09ZVsyXSpuLHRbM109ZVszXSpuLHRbNF09ZVs0XSppLHRbNV09ZVs1XSppLHRbNl09ZVs2XSppLHRbN109ZVs3XSppLHRbOF09ZVs4XSphLHRbOV09ZVs5XSphLHRbMTBdPWVbMTBdKmEsdFsxMV09ZVsxMV0qYSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSx0fSx0LnNjYWxlJDE9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0fSx0LnNjYWxlJDI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0fSx0LnNldENhY2hlTGltaXRzPWZ1bmN0aW9uKHQsZSl7b3Q9dCxzdD1lO30sdC5zZXRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj0hMSksImRlZmVycmVkIj09PXVpfHwibG9hZGluZyI9PT11aXx8ImxvYWRlZCI9PT11aSl0aHJvdyBuZXcgRXJyb3IoInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy4iKTtsaT1ELnJlc29sdmVVUkwodCksdWk9ImRlZmVycmVkIixzaT1lLGNpKCkscnx8eWkoKTt9LHQuc3BoZXJpY2FsVG9DYXJ0ZXNpYW49ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiByKz05MCxyKj1NYXRoLlBJLzE4MCxuKj1NYXRoLlBJLzE4MCx7eDplKk1hdGguY29zKHIpKk1hdGguc2luKG4pLHk6ZSpNYXRoLnNpbihyKSpNYXRoLnNpbihuKSx6OmUqTWF0aC5jb3Mobil9fSx0LnNxckxlbj1mdW5jdGlvbih0KXt2YXIgZT10WzBdLHI9dFsxXTtyZXR1cm4gZSplK3Iqcn0sdC5zdHlsZVNwZWM9Q3QsdC5zdWI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0tclswXSx0WzFdPWVbMV0tclsxXSx0WzJdPWVbMl0tclsyXSx0fSx0LnN5bWJvbFNpemU9WHUsdC50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl07cmV0dXJuIHRbMF09bipyWzBdK2kqclszXSthKnJbNl0sdFsxXT1uKnJbMV0raSpyWzRdK2Eqcls3XSx0WzJdPW4qclsyXStpKnJbNV0rYSpyWzhdLHR9LHQudHJhbnNmb3JtTWF0ND1mbyx0LnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG4saSxhLG8scyx1LGwscCxjLGgsZix5LGQ9clswXSxtPXJbMV0sdj1yWzJdO3JldHVybiBlPT09dD8odFsxMl09ZVswXSpkK2VbNF0qbStlWzhdKnYrZVsxMl0sdFsxM109ZVsxXSpkK2VbNV0qbStlWzldKnYrZVsxM10sdFsxNF09ZVsyXSpkK2VbNl0qbStlWzEwXSp2K2VbMTRdLHRbMTVdPWVbM10qZCtlWzddKm0rZVsxMV0qditlWzE1XSk6KGk9ZVsxXSxhPWVbMl0sbz1lWzNdLHM9ZVs0XSx1PWVbNV0sbD1lWzZdLHA9ZVs3XSxjPWVbOF0saD1lWzldLGY9ZVsxMF0seT1lWzExXSx0WzBdPW49ZVswXSx0WzFdPWksdFsyXT1hLHRbM109byx0WzRdPXMsdFs1XT11LHRbNl09bCx0WzddPXAsdFs4XT1jLHRbOV09aCx0WzEwXT1mLHRbMTFdPXksdFsxMl09bipkK3MqbStjKnYrZVsxMl0sdFsxM109aSpkK3UqbStoKnYrZVsxM10sdFsxNF09YSpkK2wqbStmKnYrZVsxNF0sdFsxNV09bypkK3AqbSt5KnYrZVsxNV0pLHR9LHQudHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudD1waSx0LnVuaXF1ZUlkPWgsdC52YWxpZGF0ZUN1c3RvbVN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7dmFyIGU9W10scj10LmlkO3JldHVybiB2b2lkIDA9PT1yJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAiaWQiJ30pLHZvaWQgMD09PXQucmVuZGVyJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogbWlzc2luZyByZXF1aXJlZCBtZXRob2QgInJlbmRlciInfSksdC5yZW5kZXJpbmdNb2RlJiYiMmQiIT09dC5yZW5kZXJpbmdNb2RlJiYiM2QiIT09dC5yZW5kZXJpbmdNb2RlJiZlLnB1c2goe21lc3NhZ2U6ImxheWVycy4iK3IrJzogcHJvcGVydHkgInJlbmRlcmluZ01vZGUiIG11c3QgYmUgZWl0aGVyICIyZCIgb3IgIjNkIid9KSxlfSx0LnZhbGlkYXRlTGlnaHQ9TG4sdC52YWxpZGF0ZVN0eWxlPURuLHQudmFsdWVzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgciBpbiB0KWUucHVzaCh0W3JdKTtyZXR1cm4gZX0sdC52ZWN0b3JUaWxlPUFzLHQudmVyc2lvbj0iMS45LjEiLHQud2Fybk9uY2U9dyx0LndlYnBTdXBwb3J0ZWQ9Uix0LndpbmRvdz1zZWxmLHQud3JhcD1sO30pKTsKCmRlZmluZShbIi4vc2hhcmVkIl0sKGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3ZhciByPXR5cGVvZiBlO2lmKCJudW1iZXIiPT09cnx8ImJvb2xlYW4iPT09cnx8InN0cmluZyI9PT1yfHxudWxsPT1lKXJldHVybiBKU09OLnN0cmluZ2lmeShlKTtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIGk9IlsiLG89MCxuPWU7bzxuLmxlbmd0aDtvKz0xKWkrPXQobltvXSkrIiwiO3JldHVybiBpKyJdIn1mb3IodmFyIGE9T2JqZWN0LmtleXMoZSkuc29ydCgpLHM9InsiLGw9MDtsPGEubGVuZ3RoO2wrKylzKz1KU09OLnN0cmluZ2lmeShhW2xdKSsiOiIrdChlW2FbbF1dKSsiLCI7cmV0dXJuIHMrIn0ifWZ1bmN0aW9uIHIocil7Zm9yKHZhciBpPSIiLG89MCxuPWUucmVmUHJvcGVydGllcztvPG4ubGVuZ3RoO28rPTEpaSs9Ii8iK3QocltuW29dXSk7cmV0dXJuIGl9dmFyIGk9ZnVuY3Rpb24oZSl7dGhpcy5rZXlDYWNoZT17fSxlJiZ0aGlzLnJlcGxhY2UoZSk7fTtpLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKGUpe3RoaXMuX2xheWVyQ29uZmlncz17fSx0aGlzLl9sYXllcnM9e30sdGhpcy51cGRhdGUoZSxbXSk7fSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxpKXtmb3IodmFyIG89dGhpcyxuPTAsYT10O248YS5sZW5ndGg7bis9MSl7dmFyIHM9YVtuXTt0aGlzLl9sYXllckNvbmZpZ3Nbcy5pZF09czt2YXIgbD10aGlzLl9sYXllcnNbcy5pZF09ZS5jcmVhdGVTdHlsZUxheWVyKHMpO2wuX2ZlYXR1cmVGaWx0ZXI9ZS5mZWF0dXJlRmlsdGVyKGwuZmlsdGVyKSx0aGlzLmtleUNhY2hlW3MuaWRdJiZkZWxldGUgdGhpcy5rZXlDYWNoZVtzLmlkXTt9Zm9yKHZhciB1PTAsaD1pO3U8aC5sZW5ndGg7dSs9MSl7dmFyIGM9aFt1XTtkZWxldGUgdGhpcy5rZXlDYWNoZVtjXSxkZWxldGUgdGhpcy5fbGF5ZXJDb25maWdzW2NdLGRlbGV0ZSB0aGlzLl9sYXllcnNbY107fXRoaXMuZmFtaWxpZXNCeVNvdXJjZT17fTtmb3IodmFyIHA9MCxmPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPXt9LG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIG49dCYmdFtlW29dLmlkXXx8cihlW29dKTt0JiYodFtlW29dLmlkXT1uKTt2YXIgYT1pW25dO2F8fChhPWlbbl09W10pLGEucHVzaChlW29dKTt9dmFyIHM9W107Zm9yKHZhciBsIGluIGkpcy5wdXNoKGlbbF0pO3JldHVybiBzfShlLnZhbHVlcyh0aGlzLl9sYXllckNvbmZpZ3MpLHRoaXMua2V5Q2FjaGUpO3A8Zi5sZW5ndGg7cCs9MSl7dmFyIGQ9ZltwXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBvLl9sYXllcnNbZS5pZF19KSksZz1kWzBdO2lmKCJub25lIiE9PWcudmlzaWJpbGl0eSl7dmFyIG09Zy5zb3VyY2V8fCIiLHY9dGhpcy5mYW1pbGllc0J5U291cmNlW21dO3Z8fCh2PXRoaXMuZmFtaWxpZXNCeVNvdXJjZVttXT17fSk7dmFyIHk9Zy5zb3VyY2VMYXllcnx8Il9nZW9qc29uVGlsZUxheWVyIix4PXZbeV07eHx8KHg9dlt5XT1bXSkseC5wdXNoKGQpO319fTt2YXIgbz1mdW5jdGlvbih0KXt2YXIgcj17fSxpPVtdO2Zvcih2YXIgbyBpbiB0KXt2YXIgbj10W29dLGE9cltvXT17fTtmb3IodmFyIHMgaW4gbil7dmFyIGw9blsrc107aWYobCYmMCE9PWwuYml0bWFwLndpZHRoJiYwIT09bC5iaXRtYXAuaGVpZ2h0KXt2YXIgdT17eDowLHk6MCx3OmwuYml0bWFwLndpZHRoKzIsaDpsLmJpdG1hcC5oZWlnaHQrMn07aS5wdXNoKHUpLGFbc109e3JlY3Q6dSxtZXRyaWNzOmwubWV0cmljc307fX19dmFyIGg9ZS5wb3RwYWNrKGkpLGM9bmV3IGUuQWxwaGFJbWFnZSh7d2lkdGg6aC53fHwxLGhlaWdodDpoLmh8fDF9KTtmb3IodmFyIHAgaW4gdCl7dmFyIGY9dFtwXTtmb3IodmFyIGQgaW4gZil7dmFyIGc9ZlsrZF07aWYoZyYmMCE9PWcuYml0bWFwLndpZHRoJiYwIT09Zy5iaXRtYXAuaGVpZ2h0KXt2YXIgbT1yW3BdW2RdLnJlY3Q7ZS5BbHBoYUltYWdlLmNvcHkoZy5iaXRtYXAsYyx7eDowLHk6MH0se3g6bS54KzEseTptLnkrMX0sZy5iaXRtYXApO319fXRoaXMuaW1hZ2U9Yyx0aGlzLnBvc2l0aW9ucz1yO307ZS5yZWdpc3RlcigiR2x5cGhBdGxhcyIsbyk7dmFyIG49ZnVuY3Rpb24odCl7dGhpcy50aWxlSUQ9bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0LnRpbGVJRC5vdmVyc2NhbGVkWix0LnRpbGVJRC53cmFwLHQudGlsZUlELmNhbm9uaWNhbC56LHQudGlsZUlELmNhbm9uaWNhbC54LHQudGlsZUlELmNhbm9uaWNhbC55KSx0aGlzLnVpZD10LnVpZCx0aGlzLnpvb209dC56b29tLHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy50aWxlU2l6ZT10LnRpbGVTaXplLHRoaXMuc291cmNlPXQuc291cmNlLHRoaXMub3ZlcnNjYWxpbmc9dGhpcy50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy5zaG93Q29sbGlzaW9uQm94ZXM9dC5zaG93Q29sbGlzaW9uQm94ZXMsdGhpcy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ISF0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLnJldHVybkRlcGVuZGVuY2llcz0hIXQucmV0dXJuRGVwZW5kZW5jaWVzLHRoaXMucHJvbW90ZUlkPXQucHJvbW90ZUlkO307ZnVuY3Rpb24gYSh0LHIsaSl7Zm9yKHZhciBvPW5ldyBlLkV2YWx1YXRpb25QYXJhbWV0ZXJzKHIpLG49MCxhPXQ7bjxhLmxlbmd0aDtuKz0xKWFbbl0ucmVjYWxjdWxhdGUobyxpKTt9ZnVuY3Rpb24gcyh0LHIpe3ZhciBpPWUuZ2V0QXJyYXlCdWZmZXIodC5yZXF1ZXN0LChmdW5jdGlvbih0LGksbyxuKXt0P3IodCk6aSYmcihudWxsLHt2ZWN0b3JUaWxlOm5ldyBlLnZlY3RvclRpbGUuVmVjdG9yVGlsZShuZXcgZS5wYmYoaSkpLHJhd0RhdGE6aSxjYWNoZUNvbnRyb2w6byxleHBpcmVzOm59KTt9KSk7cmV0dXJuIGZ1bmN0aW9uKCl7aS5jYW5jZWwoKSxyKCk7fX1uLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LHIsaSxuLHMpe3ZhciBsPXRoaXM7dGhpcy5zdGF0dXM9InBhcnNpbmciLHRoaXMuZGF0YT10LHRoaXMuY29sbGlzaW9uQm94QXJyYXk9bmV3IGUuQ29sbGlzaW9uQm94QXJyYXk7dmFyIHU9bmV3IGUuRGljdGlvbmFyeUNvZGVyKE9iamVjdC5rZXlzKHQubGF5ZXJzKS5zb3J0KCkpLGg9bmV3IGUuRmVhdHVyZUluZGV4KHRoaXMudGlsZUlELHRoaXMucHJvbW90ZUlkKTtoLmJ1Y2tldExheWVySURzPVtdO3ZhciBjLHAsZixkLGc9e30sbT17ZmVhdHVyZUluZGV4OmgsaWNvbkRlcGVuZGVuY2llczp7fSxwYXR0ZXJuRGVwZW5kZW5jaWVzOnt9LGdseXBoRGVwZW5kZW5jaWVzOnt9LGF2YWlsYWJsZUltYWdlczppfSx2PXIuZmFtaWxpZXNCeVNvdXJjZVt0aGlzLnNvdXJjZV07Zm9yKHZhciB5IGluIHYpe3ZhciB4PXQubGF5ZXJzW3ldO2lmKHgpezE9PT14LnZlcnNpb24mJmUud2Fybk9uY2UoJ1ZlY3RvciB0aWxlIHNvdXJjZSAiJyt0aGlzLnNvdXJjZSsnIiBsYXllciAiJyt5KyciIGRvZXMgbm90IHVzZSB2ZWN0b3IgdGlsZSBzcGVjIHYyIGFuZCB0aGVyZWZvcmUgbWF5IGhhdmUgc29tZSByZW5kZXJpbmcgZXJyb3JzLicpO2Zvcih2YXIgdz11LmVuY29kZSh5KSxTPVtdLEk9MDtJPHgubGVuZ3RoO0krKyl7dmFyIE09eC5mZWF0dXJlKEkpLGI9aC5nZXRJZChNLHkpO1MucHVzaCh7ZmVhdHVyZTpNLGlkOmIsaW5kZXg6SSxzb3VyY2VMYXllckluZGV4Ond9KTt9Zm9yKHZhciBQPTAsXz12W3ldO1A8Xy5sZW5ndGg7UCs9MSl7dmFyIGs9X1tQXSxUPWtbMF07VC5taW56b29tJiZ0aGlzLnpvb208TWF0aC5mbG9vcihULm1pbnpvb20pfHxULm1heHpvb20mJnRoaXMuem9vbT49VC5tYXh6b29tfHwibm9uZSIhPT1ULnZpc2liaWxpdHkmJihhKGssdGhpcy56b29tLGkpLChnW1QuaWRdPVQuY3JlYXRlQnVja2V0KHtpbmRleDpoLmJ1Y2tldExheWVySURzLmxlbmd0aCxsYXllcnM6ayx6b29tOnRoaXMuem9vbSxwaXhlbFJhdGlvOnRoaXMucGl4ZWxSYXRpbyxvdmVyc2NhbGluZzp0aGlzLm92ZXJzY2FsaW5nLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksc291cmNlTGF5ZXJJbmRleDp3LHNvdXJjZUlEOnRoaXMuc291cmNlfSkpLnBvcHVsYXRlKFMsbSx0aGlzLnRpbGVJRC5jYW5vbmljYWwpLGguYnVja2V0TGF5ZXJJRHMucHVzaChrLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkpKTt9fX12YXIgQz1lLm1hcE9iamVjdChtLmdseXBoRGVwZW5kZW5jaWVzLChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKE51bWJlcil9KSk7T2JqZWN0LmtleXMoQykubGVuZ3RoP24uc2VuZCgiZ2V0R2x5cGhzIix7dWlkOnRoaXMudWlkLHN0YWNrczpDfSwoZnVuY3Rpb24oZSx0KXtjfHwoYz1lLHA9dCxPLmNhbGwobCkpO30pKTpwPXt9O3ZhciBEPU9iamVjdC5rZXlzKG0uaWNvbkRlcGVuZGVuY2llcyk7RC5sZW5ndGg/bi5zZW5kKCJnZXRJbWFnZXMiLHtpY29uczpELHNvdXJjZTp0aGlzLnNvdXJjZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZToiaWNvbnMifSwoZnVuY3Rpb24oZSx0KXtjfHwoYz1lLGY9dCxPLmNhbGwobCkpO30pKTpmPXt9O3ZhciBMPU9iamVjdC5rZXlzKG0ucGF0dGVybkRlcGVuZGVuY2llcyk7ZnVuY3Rpb24gTygpe2lmKGMpcmV0dXJuIHMoYyk7aWYocCYmZiYmZCl7dmFyIHQ9bmV3IG8ocCkscj1uZXcgZS5JbWFnZUF0bGFzKGYsZCk7Zm9yKHZhciBuIGluIGcpe3ZhciBsPWdbbl07bCBpbnN0YW5jZW9mIGUuU3ltYm9sQnVja2V0PyhhKGwubGF5ZXJzLHRoaXMuem9vbSxpKSxlLnBlcmZvcm1TeW1ib2xMYXlvdXQobCxwLHQucG9zaXRpb25zLGYsci5pY29uUG9zaXRpb25zLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLHRoaXMudGlsZUlELmNhbm9uaWNhbCkpOmwuaGFzUGF0dGVybiYmKGwgaW5zdGFuY2VvZiBlLkxpbmVCdWNrZXR8fGwgaW5zdGFuY2VvZiBlLkZpbGxCdWNrZXR8fGwgaW5zdGFuY2VvZiBlLkZpbGxFeHRydXNpb25CdWNrZXQpJiYoYShsLmxheWVycyx0aGlzLnpvb20saSksbC5hZGRGZWF0dXJlcyhtLHRoaXMudGlsZUlELmNhbm9uaWNhbCxyLnBhdHRlcm5Qb3NpdGlvbnMpKTt9dGhpcy5zdGF0dXM9ImRvbmUiLHMobnVsbCx7YnVja2V0czplLnZhbHVlcyhnKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAhZS5pc0VtcHR5KCl9KSksZmVhdHVyZUluZGV4OmgsY29sbGlzaW9uQm94QXJyYXk6dGhpcy5jb2xsaXNpb25Cb3hBcnJheSxnbHlwaEF0bGFzSW1hZ2U6dC5pbWFnZSxpbWFnZUF0bGFzOnIsZ2x5cGhNYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/cDpudWxsLGljb25NYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/ZjpudWxsLGdseXBoUG9zaXRpb25zOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP3QucG9zaXRpb25zOm51bGx9KTt9fUwubGVuZ3RoP24uc2VuZCgiZ2V0SW1hZ2VzIix7aWNvbnM6TCxzb3VyY2U6dGhpcy5zb3VyY2UsdGlsZUlEOnRoaXMudGlsZUlELHR5cGU6InBhdHRlcm5zIn0sKGZ1bmN0aW9uKGUsdCl7Y3x8KGM9ZSxkPXQsTy5jYWxsKGwpKTt9KSk6ZD17fSxPLmNhbGwodGhpcyk7fTt2YXIgbD1mdW5jdGlvbihlLHQscixpKXt0aGlzLmFjdG9yPWUsdGhpcy5sYXllckluZGV4PXQsdGhpcy5hdmFpbGFibGVJbWFnZXM9cix0aGlzLmxvYWRWZWN0b3JEYXRhPWl8fHMsdGhpcy5sb2FkaW5nPXt9LHRoaXMubG9hZGVkPXt9O307bC5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24odCxyKXt2YXIgaT10aGlzLG89dC51aWQ7dGhpcy5sb2FkaW5nfHwodGhpcy5sb2FkaW5nPXt9KTt2YXIgYT0hISh0JiZ0LnJlcXVlc3QmJnQucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcpJiZuZXcgZS5SZXF1ZXN0UGVyZm9ybWFuY2UodC5yZXF1ZXN0KSxzPXRoaXMubG9hZGluZ1tvXT1uZXcgbih0KTtzLmFib3J0PXRoaXMubG9hZFZlY3RvckRhdGEodCwoZnVuY3Rpb24odCxuKXtpZihkZWxldGUgaS5sb2FkaW5nW29dLHR8fCFuKXJldHVybiBzLnN0YXR1cz0iZG9uZSIsaS5sb2FkZWRbb109cyxyKHQpO3ZhciBsPW4ucmF3RGF0YSx1PXt9O24uZXhwaXJlcyYmKHUuZXhwaXJlcz1uLmV4cGlyZXMpLG4uY2FjaGVDb250cm9sJiYodS5jYWNoZUNvbnRyb2w9bi5jYWNoZUNvbnRyb2wpO3ZhciBoPXt9O2lmKGEpe3ZhciBjPWEuZmluaXNoKCk7YyYmKGgucmVzb3VyY2VUaW1pbmc9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSkpO31zLnZlY3RvclRpbGU9bi52ZWN0b3JUaWxlLHMucGFyc2Uobi52ZWN0b3JUaWxlLGkubGF5ZXJJbmRleCxpLmF2YWlsYWJsZUltYWdlcyxpLmFjdG9yLChmdW5jdGlvbih0LGkpe2lmKHR8fCFpKXJldHVybiByKHQpO3IobnVsbCxlLmV4dGVuZCh7cmF3VGlsZURhdGE6bC5zbGljZSgwKX0saSx1LGgpKTt9KSksaS5sb2FkZWQ9aS5sb2FkZWR8fHt9LGkubG9hZGVkW29dPXM7fSkpO30sbC5wcm90b3R5cGUucmVsb2FkVGlsZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT10aGlzLmxvYWRlZCxvPWUudWlkLG49dGhpcztpZihpJiZpW29dKXt2YXIgYT1pW29dO2Euc2hvd0NvbGxpc2lvbkJveGVzPWUuc2hvd0NvbGxpc2lvbkJveGVzO3ZhciBzPWZ1bmN0aW9uKGUsaSl7dmFyIG89YS5yZWxvYWRDYWxsYmFjaztvJiYoZGVsZXRlIGEucmVsb2FkQ2FsbGJhY2ssYS5wYXJzZShhLnZlY3RvclRpbGUsbi5sYXllckluZGV4LHIuYXZhaWxhYmxlSW1hZ2VzLG4uYWN0b3IsbykpLHQoZSxpKTt9OyJwYXJzaW5nIj09PWEuc3RhdHVzP2EucmVsb2FkQ2FsbGJhY2s9czoiZG9uZSI9PT1hLnN0YXR1cyYmKGEudmVjdG9yVGlsZT9hLnBhcnNlKGEudmVjdG9yVGlsZSx0aGlzLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsdGhpcy5hY3RvcixzKTpzKCkpO319LGwucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubG9hZGluZyxpPWUudWlkO3ImJnJbaV0mJnJbaV0uYWJvcnQmJihyW2ldLmFib3J0KCksZGVsZXRlIHJbaV0pLHQoKTt9LGwucHJvdG90eXBlLnJlbW92ZVRpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmxvYWRlZCxpPWUudWlkO3ImJnJbaV0mJmRlbGV0ZSByW2ldLHQoKTt9O3ZhciB1PWUud2luZG93LkltYWdlQml0bWFwLGg9ZnVuY3Rpb24oKXt0aGlzLmxvYWRlZD17fTt9O2gucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKHQscil7dmFyIGk9dC51aWQsbz10LmVuY29kaW5nLG49dC5yYXdJbWFnZURhdGEsYT11JiZuIGluc3RhbmNlb2YgdT90aGlzLmdldEltYWdlRGF0YShuKTpuLHM9bmV3IGUuREVNRGF0YShpLGEsbyk7dGhpcy5sb2FkZWQ9dGhpcy5sb2FkZWR8fHt9LHRoaXMubG9hZGVkW2ldPXMscihudWxsLHMpO30saC5wcm90b3R5cGUuZ2V0SW1hZ2VEYXRhPWZ1bmN0aW9uKHQpe3RoaXMub2Zmc2NyZWVuQ2FudmFzJiZ0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHR8fCh0aGlzLm9mZnNjcmVlbkNhbnZhcz1uZXcgT2Zmc2NyZWVuQ2FudmFzKHQud2lkdGgsdC5oZWlnaHQpLHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dD10aGlzLm9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KCIyZCIpKSx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aD10LndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodD10LmhlaWdodCx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQpO3ZhciByPXRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5nZXRJbWFnZURhdGEoLTEsLTEsdC53aWR0aCsyLHQuaGVpZ2h0KzIpO3JldHVybiB0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aCx0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpLG5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9LHIuZGF0YSl9LGgucHJvdG90eXBlLnJlbW92ZVRpbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sb2FkZWQscj1lLnVpZDt0JiZ0W3JdJiZkZWxldGUgdFtyXTt9O3ZhciBjPXtSQURJVVM6NjM3ODEzNyxGTEFUVEVOSU5HOjEvMjk4LjI1NzIyMzU2MyxQT0xBUl9SQURJVVM6NjM1Njc1Mi4zMTQyfTtmdW5jdGlvbiBwKGUpe3ZhciB0PTA7aWYoZSYmZS5sZW5ndGg+MCl7dCs9TWF0aC5hYnMoZihlWzBdKSk7Zm9yKHZhciByPTE7cjxlLmxlbmd0aDtyKyspdC09TWF0aC5hYnMoZihlW3JdKSk7fXJldHVybiB0fWZ1bmN0aW9uIGYoZSl7dmFyIHQscixpLG8sbixhLHM9MCxsPWUubGVuZ3RoO2lmKGw+Mil7Zm9yKGE9MDthPGw7YSsrKWE9PT1sLTI/KGk9bC0yLG89bC0xLG49MCk6YT09PWwtMT8oaT1sLTEsbz0wLG49MSk6KGk9YSxvPWErMSxuPWErMiksdD1lW2ldLHI9ZVtvXSxzKz0oZChlW25dWzBdKS1kKHRbMF0pKSpNYXRoLnNpbihkKHJbMV0pKTtzPXMqYy5SQURJVVMqYy5SQURJVVMvMjt9cmV0dXJuIHN9ZnVuY3Rpb24gZChlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH12YXIgZz17Z2VvbWV0cnk6ZnVuY3Rpb24gZSh0KXt2YXIgcixpPTA7c3dpdGNoKHQudHlwZSl7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gcCh0LmNvb3JkaW5hdGVzKTtjYXNlIk11bHRpUG9seWdvbiI6Zm9yKHI9MDtyPHQuY29vcmRpbmF0ZXMubGVuZ3RoO3IrKylpKz1wKHQuY29vcmRpbmF0ZXNbcl0pO3JldHVybiBpO2Nhc2UiUG9pbnQiOmNhc2UiTXVsdGlQb2ludCI6Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIDA7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOmZvcihyPTA7cjx0Lmdlb21ldHJpZXMubGVuZ3RoO3IrKylpKz1lKHQuZ2VvbWV0cmllc1tyXSk7cmV0dXJuIGl9fSxyaW5nOmZ9O2Z1bmN0aW9uIG0oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUocix0KX19ZnVuY3Rpb24gdihlLHQpe2VbMF09eShlWzBdLHQ9ISF0KTtmb3IodmFyIHI9MTtyPGUubGVuZ3RoO3IrKyllW3JdPXkoZVtyXSwhdCk7cmV0dXJuIGV9ZnVuY3Rpb24geShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZy5yaW5nKGUpPj0wfShlKT09PXQ/ZTplLnJldmVyc2UoKX12YXIgeD1lLnZlY3RvclRpbGUuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTix3PWZ1bmN0aW9uKHQpe3RoaXMuX2ZlYXR1cmU9dCx0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLnR5cGU9dC50eXBlLHRoaXMucHJvcGVydGllcz10LnRhZ3MsImlkImluIHQmJiFpc05hTih0LmlkKSYmKHRoaXMuaWQ9cGFyc2VJbnQodC5pZCwxMCkpO307dy5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7aWYoMT09PXRoaXMuX2ZlYXR1cmUudHlwZSl7Zm9yKHZhciB0PVtdLHI9MCxpPXRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnk7cjxpLmxlbmd0aDtyKz0xKXt2YXIgbz1pW3JdO3QucHVzaChbbmV3IGUuUG9pbnQkMShvWzBdLG9bMV0pXSk7fXJldHVybiB0fWZvcih2YXIgbj1bXSxhPTAscz10aGlzLl9mZWF0dXJlLmdlb21ldHJ5O2E8cy5sZW5ndGg7YSs9MSl7Zm9yKHZhciBsPVtdLHU9MCxoPXNbYV07dTxoLmxlbmd0aDt1Kz0xKXt2YXIgYz1oW3VdO2wucHVzaChuZXcgZS5Qb2ludCQxKGNbMF0sY1sxXSkpO31uLnB1c2gobCk7fXJldHVybiBufSx3LnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB4LmNhbGwodGhpcyxlLHQscil9O3ZhciBTPWZ1bmN0aW9uKHQpe3RoaXMubGF5ZXJzPXtfZ2VvanNvblRpbGVMYXllcjp0aGlzfSx0aGlzLm5hbWU9Il9nZW9qc29uVGlsZUxheWVyIix0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLl9mZWF0dXJlcz10O307Uy5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHcodGhpcy5fZmVhdHVyZXNbZV0pfTt2YXIgST1lLnZlY3RvclRpbGUuVmVjdG9yVGlsZUZlYXR1cmUsTT1iO2Z1bmN0aW9uIGIoZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5mZWF0dXJlcz1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoO31mdW5jdGlvbiBQKGUsdCl7dGhpcy5pZD0ibnVtYmVyIj09dHlwZW9mIGUuaWQ/ZS5pZDp2b2lkIDAsdGhpcy50eXBlPWUudHlwZSx0aGlzLnJhd0dlb21ldHJ5PTE9PT1lLnR5cGU/W2UuZ2VvbWV0cnldOmUuZ2VvbWV0cnksdGhpcy5wcm9wZXJ0aWVzPWUudGFncyx0aGlzLmV4dGVudD10fHw0MDk2O31iLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUCh0aGlzLmZlYXR1cmVzW2VdLHRoaXMub3B0aW9ucy5leHRlbnQpfSxQLnByb3RvdHlwZS5sb2FkR2VvbWV0cnk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJhd0dlb21ldHJ5O3RoaXMuZ2VvbWV0cnk9W107Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe2Zvcih2YXIgaT10W3JdLG89W10sbj0wO248aS5sZW5ndGg7bisrKW8ucHVzaChuZXcgZS5Qb2ludCQxKGlbbl1bMF0saVtuXVsxXSkpO3RoaXMuZ2VvbWV0cnkucHVzaChvKTt9cmV0dXJuIHRoaXMuZ2VvbWV0cnl9LFAucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5fHx0aGlzLmxvYWRHZW9tZXRyeSgpO2Zvcih2YXIgZT10aGlzLmdlb21ldHJ5LHQ9MS8wLHI9LTEvMCxpPTEvMCxvPS0xLzAsbj0wO248ZS5sZW5ndGg7bisrKWZvcih2YXIgYT1lW25dLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTt0PU1hdGgubWluKHQsbC54KSxyPU1hdGgubWF4KHIsbC54KSxpPU1hdGgubWluKGksbC55KSxvPU1hdGgubWF4KG8sbC55KTt9cmV0dXJuIFt0LGkscixvXX0sUC5wcm90b3R5cGUudG9HZW9KU09OPUkucHJvdG90eXBlLnRvR2VvSlNPTjt2YXIgXz1ULGs9TTtmdW5jdGlvbiBUKHQpe3ZhciByPW5ldyBlLnBiZjtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gZS5sYXllcnMpdC53cml0ZU1lc3NhZ2UoMyxDLGUubGF5ZXJzW3JdKTt9KHQsciksci5maW5pc2goKX1mdW5jdGlvbiBDKGUsdCl7dmFyIHI7dC53cml0ZVZhcmludEZpZWxkKDE1LGUudmVyc2lvbnx8MSksdC53cml0ZVN0cmluZ0ZpZWxkKDEsZS5uYW1lfHwiIiksdC53cml0ZVZhcmludEZpZWxkKDUsZS5leHRlbnR8fDQwOTYpO3ZhciBpPXtrZXlzOltdLHZhbHVlczpbXSxrZXljYWNoZTp7fSx2YWx1ZWNhY2hlOnt9fTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWkuZmVhdHVyZT1lLmZlYXR1cmUociksdC53cml0ZU1lc3NhZ2UoMixELGkpO3ZhciBvPWkua2V5cztmb3Iocj0wO3I8by5sZW5ndGg7cisrKXQud3JpdGVTdHJpbmdGaWVsZCgzLG9bcl0pO3ZhciBuPWkudmFsdWVzO2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspdC53cml0ZU1lc3NhZ2UoNCxOLG5bcl0pO31mdW5jdGlvbiBEKGUsdCl7dmFyIHI9ZS5mZWF0dXJlO3ZvaWQgMCE9PXIuaWQmJnQud3JpdGVWYXJpbnRGaWVsZCgxLHIuaWQpLHQud3JpdGVNZXNzYWdlKDIsTCxlKSx0LndyaXRlVmFyaW50RmllbGQoMyxyLnR5cGUpLHQud3JpdGVNZXNzYWdlKDQsRSxyKTt9ZnVuY3Rpb24gTChlLHQpe3ZhciByPWUuZmVhdHVyZSxpPWUua2V5cyxvPWUudmFsdWVzLG49ZS5rZXljYWNoZSxhPWUudmFsdWVjYWNoZTtmb3IodmFyIHMgaW4gci5wcm9wZXJ0aWVzKXt2YXIgbD1uW3NdO3ZvaWQgMD09PWwmJihpLnB1c2gocyksbltzXT1sPWkubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQobCk7dmFyIHU9ci5wcm9wZXJ0aWVzW3NdLGg9dHlwZW9mIHU7InN0cmluZyIhPT1oJiYiYm9vbGVhbiIhPT1oJiYibnVtYmVyIiE9PWgmJih1PUpTT04uc3RyaW5naWZ5KHUpKTt2YXIgYz1oKyI6Iit1LHA9YVtjXTt2b2lkIDA9PT1wJiYoby5wdXNoKHUpLGFbY109cD1vLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KHApO319ZnVuY3Rpb24gTyhlLHQpe3JldHVybiAodDw8MykrKDcmZSl9ZnVuY3Rpb24geihlKXtyZXR1cm4gZTw8MV5lPj4zMX1mdW5jdGlvbiBFKGUsdCl7Zm9yKHZhciByPWUubG9hZEdlb21ldHJ5KCksaT1lLnR5cGUsbz0wLG49MCxhPXIubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbD1yW3NdLHU9MTsxPT09aSYmKHU9bC5sZW5ndGgpLHQud3JpdGVWYXJpbnQoTygxLHUpKTtmb3IodmFyIGg9Mz09PWk/bC5sZW5ndGgtMTpsLmxlbmd0aCxjPTA7YzxoO2MrKyl7MT09PWMmJjEhPT1pJiZ0LndyaXRlVmFyaW50KE8oMixoLTEpKTt2YXIgcD1sW2NdLngtbyxmPWxbY10ueS1uO3Qud3JpdGVWYXJpbnQoeihwKSksdC53cml0ZVZhcmludCh6KGYpKSxvKz1wLG4rPWY7fTM9PT1pJiZ0LndyaXRlVmFyaW50KE8oNywxKSk7fX1mdW5jdGlvbiBOKGUsdCl7dmFyIHI9dHlwZW9mIGU7InN0cmluZyI9PT1yP3Qud3JpdGVTdHJpbmdGaWVsZCgxLGUpOiJib29sZWFuIj09PXI/dC53cml0ZUJvb2xlYW5GaWVsZCg3LGUpOiJudW1iZXIiPT09ciYmKGUlMSE9MD90LndyaXRlRG91YmxlRmllbGQoMyxlKTplPDA/dC53cml0ZVNWYXJpbnRGaWVsZCg2LGUpOnQud3JpdGVWYXJpbnRGaWVsZCg1LGUpKTt9ZnVuY3Rpb24gRihlLHQscixpKXtBKGUscixpKSxBKHQsMipyLDIqaSksQSh0LDIqcisxLDIqaSsxKTt9ZnVuY3Rpb24gQShlLHQscil7dmFyIGk9ZVt0XTtlW3RdPWVbcl0sZVtyXT1pO31mdW5jdGlvbiBKKGUsdCxyLGkpe3ZhciBvPWUtcixuPXQtaTtyZXR1cm4gbypvK24qbn1fLmZyb21WZWN0b3JUaWxlSnM9VCxfLmZyb21HZW9qc29uVnQ9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXt9O2Zvcih2YXIgaSBpbiBlKXJbaV09bmV3IE0oZVtpXS5mZWF0dXJlcyx0KSxyW2ldLm5hbWU9aSxyW2ldLnZlcnNpb249dC52ZXJzaW9uLHJbaV0uZXh0ZW50PXQuZXh0ZW50O3JldHVybiBUKHtsYXllcnM6cn0pfSxfLkdlb0pTT05XcmFwcGVyPWs7dmFyIFo9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF19LEI9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV19LEc9ZnVuY3Rpb24oZSx0LHIsaSxvKXt2b2lkIDA9PT10JiYodD1aKSx2b2lkIDA9PT1yJiYocj1CKSx2b2lkIDA9PT1pJiYoaT02NCksdm9pZCAwPT09byYmKG89RmxvYXQ2NEFycmF5KSx0aGlzLm5vZGVTaXplPWksdGhpcy5wb2ludHM9ZTtmb3IodmFyIG49ZS5sZW5ndGg8NjU1MzY/VWludDE2QXJyYXk6VWludDMyQXJyYXksYT10aGlzLmlkcz1uZXcgbihlLmxlbmd0aCkscz10aGlzLmNvb3Jkcz1uZXcgbygyKmUubGVuZ3RoKSxsPTA7bDxlLmxlbmd0aDtsKyspYVtsXT1sLHNbMipsXT10KGVbbF0pLHNbMipsKzFdPXIoZVtsXSk7IWZ1bmN0aW9uIGUodCxyLGksbyxuLGEpe2lmKCEobi1vPD1pKSl7dmFyIHM9bytuPj4xOyFmdW5jdGlvbiBlKHQscixpLG8sbixhKXtmb3IoO24+bzspe2lmKG4tbz42MDApe3ZhciBzPW4tbysxLGw9aS1vKzEsdT1NYXRoLmxvZyhzKSxoPS41Kk1hdGguZXhwKDIqdS8zKSxjPS41Kk1hdGguc3FydCh1KmgqKHMtaCkvcykqKGwtcy8yPDA/LTE6MSk7ZSh0LHIsaSxNYXRoLm1heChvLE1hdGguZmxvb3IoaS1sKmgvcytjKSksTWF0aC5taW4obixNYXRoLmZsb29yKGkrKHMtbCkqaC9zK2MpKSxhKTt9dmFyIHA9clsyKmkrYV0sZj1vLGQ9bjtmb3IoRih0LHIsbyxpKSxyWzIqbithXT5wJiZGKHQscixvLG4pO2Y8ZDspe2ZvcihGKHQscixmLGQpLGYrKyxkLS07clsyKmYrYV08cDspZisrO2Zvcig7clsyKmQrYV0+cDspZC0tO31yWzIqbythXT09PXA/Rih0LHIsbyxkKTpGKHQsciwrK2QsbiksZDw9aSYmKG89ZCsxKSxpPD1kJiYobj1kLTEpO319KHQscixzLG8sbixhJTIpLGUodCxyLGksbyxzLTEsYSsxKSxlKHQscixpLHMrMSxuLGErMSk7fX0oYSxzLGksMCxhLmxlbmd0aC0xLDApO307Ry5wcm90b3R5cGUucmFuZ2U9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLGksbyxuLGEpe2Zvcih2YXIgcyxsLHU9WzAsZS5sZW5ndGgtMSwwXSxoPVtdO3UubGVuZ3RoOyl7dmFyIGM9dS5wb3AoKSxwPXUucG9wKCksZj11LnBvcCgpO2lmKHAtZjw9YSlmb3IodmFyIGQ9ZjtkPD1wO2QrKylsPXRbMipkKzFdLChzPXRbMipkXSk+PXImJnM8PW8mJmw+PWkmJmw8PW4mJmgucHVzaChlW2RdKTtlbHNle3ZhciBnPU1hdGguZmxvb3IoKGYrcCkvMik7bD10WzIqZysxXSwocz10WzIqZ10pPj1yJiZzPD1vJiZsPj1pJiZsPD1uJiZoLnB1c2goZVtnXSk7dmFyIG09KGMrMSklMjsoMD09PWM/cjw9czppPD1sKSYmKHUucHVzaChmKSx1LnB1c2goZy0xKSx1LnB1c2gobSkpLCgwPT09Yz9vPj1zOm4+PWwpJiYodS5wdXNoKGcrMSksdS5wdXNoKHApLHUucHVzaChtKSk7fX1yZXR1cm4gaH0odGhpcy5pZHMsdGhpcy5jb29yZHMsZSx0LHIsaSx0aGlzLm5vZGVTaXplKX0sRy5wcm90b3R5cGUud2l0aGluPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsaSxvLG4pe2Zvcih2YXIgYT1bMCxlLmxlbmd0aC0xLDBdLHM9W10sbD1vKm87YS5sZW5ndGg7KXt2YXIgdT1hLnBvcCgpLGg9YS5wb3AoKSxjPWEucG9wKCk7aWYoaC1jPD1uKWZvcih2YXIgcD1jO3A8PWg7cCsrKUoodFsyKnBdLHRbMipwKzFdLHIsaSk8PWwmJnMucHVzaChlW3BdKTtlbHNle3ZhciBmPU1hdGguZmxvb3IoKGMraCkvMiksZD10WzIqZl0sZz10WzIqZisxXTtKKGQsZyxyLGkpPD1sJiZzLnB1c2goZVtmXSk7dmFyIG09KHUrMSklMjsoMD09PXU/ci1vPD1kOmktbzw9ZykmJihhLnB1c2goYyksYS5wdXNoKGYtMSksYS5wdXNoKG0pKSwoMD09PXU/citvPj1kOmkrbz49ZykmJihhLnB1c2goZisxKSxhLnB1c2goaCksYS5wdXNoKG0pKTt9fXJldHVybiBzfSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQscix0aGlzLm5vZGVTaXplKX07dmFyIFk9e21pblpvb206MCxtYXhab29tOjE2LHJhZGl1czo0MCxleHRlbnQ6NTEyLG5vZGVTaXplOjY0LGxvZzohMSxnZW5lcmF0ZUlkOiExLHJlZHVjZTpudWxsLG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gZX19LFI9ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPSQoT2JqZWN0LmNyZWF0ZShZKSxlKSx0aGlzLnRyZWVzPW5ldyBBcnJheSh0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKTt9O2Z1bmN0aW9uIGooZSx0LHIsaSxvKXtyZXR1cm4ge3g6ZSx5OnQsem9vbToxLzAsaWQ6cixwYXJlbnRJZDotMSxudW1Qb2ludHM6aSxwcm9wZXJ0aWVzOm99fWZ1bmN0aW9uIFYoZSx0KXt2YXIgcj1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLGk9clsxXTtyZXR1cm4ge3g6cShyWzBdKSx5OlUoaSksem9vbToxLzAsaW5kZXg6dCxwYXJlbnRJZDotMX19ZnVuY3Rpb24gWChlKXtyZXR1cm4ge3R5cGU6IkZlYXR1cmUiLGlkOmUuaWQscHJvcGVydGllczpXKGUpLGdlb21ldHJ5Ont0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6WyhpPWUueCwzNjAqKGktLjUpKSwodD1lLnkscj0oMTgwLTM2MCp0KSpNYXRoLlBJLzE4MCwzNjAqTWF0aC5hdGFuKE1hdGguZXhwKHIpKS9NYXRoLlBJLTkwKV19fTt2YXIgdCxyLGk7fWZ1bmN0aW9uIFcoZSl7dmFyIHQ9ZS5udW1Qb2ludHMscj10Pj0xZTQ/TWF0aC5yb3VuZCh0LzFlMykrImsiOnQ+PTFlMz9NYXRoLnJvdW5kKHQvMTAwKS8xMCsiayI6dDtyZXR1cm4gJCgkKHt9LGUucHJvcGVydGllcykse2NsdXN0ZXI6ITAsY2x1c3Rlcl9pZDplLmlkLHBvaW50X2NvdW50OnQscG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6cn0pfWZ1bmN0aW9uIHEoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIFUoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHI8MD8wOnI+MT8xOnJ9ZnVuY3Rpb24gJChlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZX1mdW5jdGlvbiBIKGUpe3JldHVybiBlLnh9ZnVuY3Rpb24gSyhlKXtyZXR1cm4gZS55fWZ1bmN0aW9uIFEoZSx0LHIsaSxvLG4pe3ZhciBhPW8tcixzPW4taTtpZigwIT09YXx8MCE9PXMpe3ZhciBsPSgoZS1yKSphKyh0LWkpKnMpLyhhKmErcypzKTtsPjE/KHI9byxpPW4pOmw+MCYmKHIrPWEqbCxpKz1zKmwpO31yZXR1cm4gKGE9ZS1yKSphKyhzPXQtaSkqc31mdW5jdGlvbiBlZShlLHQscixpKXt2YXIgbz17aWQ6dm9pZCAwPT09ZT9udWxsOmUsdHlwZTp0LGdlb21ldHJ5OnIsdGFnczppLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmdlb21ldHJ5LHI9ZS50eXBlO2lmKCJQb2ludCI9PT1yfHwiTXVsdGlQb2ludCI9PT1yfHwiTGluZVN0cmluZyI9PT1yKXRlKGUsdCk7ZWxzZSBpZigiUG9seWdvbiI9PT1yfHwiTXVsdGlMaW5lU3RyaW5nIj09PXIpZm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGUoZSx0W2ldKTtlbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09cilmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWZvcih2YXIgbz0wO288dFtpXS5sZW5ndGg7bysrKXRlKGUsdFtpXVtvXSk7fShvKSxvfWZ1bmN0aW9uIHRlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKz0zKWUubWluWD1NYXRoLm1pbihlLm1pblgsdFtyXSksZS5taW5ZPU1hdGgubWluKGUubWluWSx0W3IrMV0pLGUubWF4WD1NYXRoLm1heChlLm1heFgsdFtyXSksZS5tYXhZPU1hdGgubWF4KGUubWF4WSx0W3IrMV0pO31mdW5jdGlvbiByZShlLHQscixpKXtpZih0Lmdlb21ldHJ5KXt2YXIgbz10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLG49dC5nZW9tZXRyeS50eXBlLGE9TWF0aC5wb3coci50b2xlcmFuY2UvKCgxPDxyLm1heFpvb20pKnIuZXh0ZW50KSwyKSxzPVtdLGw9dC5pZDtpZihyLnByb21vdGVJZD9sPXQucHJvcGVydGllc1tyLnByb21vdGVJZF06ci5nZW5lcmF0ZUlkJiYobD1pfHwwKSwiUG9pbnQiPT09bilpZShvLHMpO2Vsc2UgaWYoIk11bHRpUG9pbnQiPT09bilmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKylpZShvW3VdLHMpO2Vsc2UgaWYoIkxpbmVTdHJpbmciPT09bilvZShvLHMsYSwhMSk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PW4pe2lmKHIubGluZU1ldHJpY3Mpe2Zvcih1PTA7dTxvLmxlbmd0aDt1Kyspb2Uob1t1XSxzPVtdLGEsITEpLGUucHVzaChlZShsLCJMaW5lU3RyaW5nIixzLHQucHJvcGVydGllcykpO3JldHVybn1uZShvLHMsYSwhMSk7fWVsc2UgaWYoIlBvbHlnb24iPT09biluZShvLHMsYSwhMCk7ZWxzZXtpZigiTXVsdGlQb2x5Z29uIiE9PW4pe2lmKCJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bil7Zm9yKHU9MDt1PHQuZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7dSsrKXJlKGUse2lkOmwsZ2VvbWV0cnk6dC5nZW9tZXRyeS5nZW9tZXRyaWVzW3VdLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzfSxyLGkpO3JldHVybn10aHJvdyBuZXcgRXJyb3IoIklucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuIil9Zm9yKHU9MDt1PG8ubGVuZ3RoO3UrKyl7dmFyIGg9W107bmUob1t1XSxoLGEsITApLHMucHVzaChoKTt9fWUucHVzaChlZShsLG4scyx0LnByb3BlcnRpZXMpKTt9fWZ1bmN0aW9uIGllKGUsdCl7dC5wdXNoKGFlKGVbMF0pKSx0LnB1c2goc2UoZVsxXSkpLHQucHVzaCgwKTt9ZnVuY3Rpb24gb2UoZSx0LHIsaSl7Zm9yKHZhciBvLG4sYT0wLHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGw9YWUoZVtzXVswXSksdT1zZShlW3NdWzFdKTt0LnB1c2gobCksdC5wdXNoKHUpLHQucHVzaCgwKSxzPjAmJihhKz1pPyhvKnUtbCpuKS8yOk1hdGguc3FydChNYXRoLnBvdyhsLW8sMikrTWF0aC5wb3codS1uLDIpKSksbz1sLG49dTt9dmFyIGg9dC5sZW5ndGgtMzt0WzJdPTEsZnVuY3Rpb24gZSh0LHIsaSxvKXtmb3IodmFyIG4sYT1vLHM9aS1yPj4xLGw9aS1yLHU9dFtyXSxoPXRbcisxXSxjPXRbaV0scD10W2krMV0sZj1yKzM7ZjxpO2YrPTMpe3ZhciBkPVEodFtmXSx0W2YrMV0sdSxoLGMscCk7aWYoZD5hKW49ZixhPWQ7ZWxzZSBpZihkPT09YSl7dmFyIGc9TWF0aC5hYnMoZi1zKTtnPGwmJihuPWYsbD1nKTt9fWE+byYmKG4tcj4zJiZlKHQscixuLG8pLHRbbisyXT1hLGktbj4zJiZlKHQsbixpLG8pKTt9KHQsMCxoLHIpLHRbaCsyXT0xLHQuc2l6ZT1NYXRoLmFicyhhKSx0LnN0YXJ0PTAsdC5lbmQ9dC5zaXplO31mdW5jdGlvbiBuZShlLHQscixpKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIG49W107b2UoZVtvXSxuLHIsaSksdC5wdXNoKG4pO319ZnVuY3Rpb24gYWUoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIHNlKGUpe3ZhciB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIGxlKGUsdCxyLGksbyxuLGEscyl7aWYoaS89dCxuPj0oci89dCkmJmE8aSlyZXR1cm4gZTtpZihhPHJ8fG4+PWkpcmV0dXJuIG51bGw7Zm9yKHZhciBsPVtdLHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIGg9ZVt1XSxjPWguZ2VvbWV0cnkscD1oLnR5cGUsZj0wPT09bz9oLm1pblg6aC5taW5ZLGQ9MD09PW8/aC5tYXhYOmgubWF4WTtpZihmPj1yJiZkPGkpbC5wdXNoKGgpO2Vsc2UgaWYoIShkPHJ8fGY+PWkpKXt2YXIgZz1bXTtpZigiUG9pbnQiPT09cHx8Ik11bHRpUG9pbnQiPT09cCl1ZShjLGcscixpLG8pO2Vsc2UgaWYoIkxpbmVTdHJpbmciPT09cCloZShjLGcscixpLG8sITEscy5saW5lTWV0cmljcyk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PXApcGUoYyxnLHIsaSxvLCExKTtlbHNlIGlmKCJQb2x5Z29uIj09PXApcGUoYyxnLHIsaSxvLCEwKTtlbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09cClmb3IodmFyIG09MDttPGMubGVuZ3RoO20rKyl7dmFyIHY9W107cGUoY1ttXSx2LHIsaSxvLCEwKSx2Lmxlbmd0aCYmZy5wdXNoKHYpO31pZihnLmxlbmd0aCl7aWYocy5saW5lTWV0cmljcyYmIkxpbmVTdHJpbmciPT09cCl7Zm9yKG09MDttPGcubGVuZ3RoO20rKylsLnB1c2goZWUoaC5pZCxwLGdbbV0saC50YWdzKSk7Y29udGludWV9IkxpbmVTdHJpbmciIT09cCYmIk11bHRpTGluZVN0cmluZyIhPT1wfHwoMT09PWcubGVuZ3RoPyhwPSJMaW5lU3RyaW5nIixnPWdbMF0pOnA9Ik11bHRpTGluZVN0cmluZyIpLCJQb2ludCIhPT1wJiYiTXVsdGlQb2ludCIhPT1wfHwocD0zPT09Zy5sZW5ndGg/IlBvaW50IjoiTXVsdGlQb2ludCIpLGwucHVzaChlZShoLmlkLHAsZyxoLnRhZ3MpKTt9fX1yZXR1cm4gbC5sZW5ndGg/bDpudWxsfWZ1bmN0aW9uIHVlKGUsdCxyLGksbyl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0zKXt2YXIgYT1lW24rb107YT49ciYmYTw9aSYmKHQucHVzaChlW25dKSx0LnB1c2goZVtuKzFdKSx0LnB1c2goZVtuKzJdKSk7fX1mdW5jdGlvbiBoZShlLHQscixpLG8sbixhKXtmb3IodmFyIHMsbCx1PWNlKGUpLGg9MD09PW8/ZGU6Z2UsYz1lLnN0YXJ0LHA9MDtwPGUubGVuZ3RoLTM7cCs9Myl7dmFyIGY9ZVtwXSxkPWVbcCsxXSxnPWVbcCsyXSxtPWVbcCszXSx2PWVbcCs0XSx5PTA9PT1vP2Y6ZCx4PTA9PT1vP206dix3PSExO2EmJihzPU1hdGguc3FydChNYXRoLnBvdyhmLW0sMikrTWF0aC5wb3coZC12LDIpKSkseTxyP3g+ciYmKGw9aCh1LGYsZCxtLHYsciksYSYmKHUuc3RhcnQ9YytzKmwpKTp5Pmk/eDxpJiYobD1oKHUsZixkLG0sdixpKSxhJiYodS5zdGFydD1jK3MqbCkpOmZlKHUsZixkLGcpLHg8ciYmeT49ciYmKGw9aCh1LGYsZCxtLHYsciksdz0hMCkseD5pJiZ5PD1pJiYobD1oKHUsZixkLG0sdixpKSx3PSEwKSwhbiYmdyYmKGEmJih1LmVuZD1jK3MqbCksdC5wdXNoKHUpLHU9Y2UoZSkpLGEmJihjKz1zKTt9dmFyIFM9ZS5sZW5ndGgtMztmPWVbU10sZD1lW1MrMV0sZz1lW1MrMl0sKHk9MD09PW8/ZjpkKT49ciYmeTw9aSYmZmUodSxmLGQsZyksUz11Lmxlbmd0aC0zLG4mJlM+PTMmJih1W1NdIT09dVswXXx8dVtTKzFdIT09dVsxXSkmJmZlKHUsdVswXSx1WzFdLHVbMl0pLHUubGVuZ3RoJiZ0LnB1c2godSk7fWZ1bmN0aW9uIGNlKGUpe3ZhciB0PVtdO3JldHVybiB0LnNpemU9ZS5zaXplLHQuc3RhcnQ9ZS5zdGFydCx0LmVuZD1lLmVuZCx0fWZ1bmN0aW9uIHBlKGUsdCxyLGksbyxuKXtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKyloZShlW2FdLHQscixpLG8sbiwhMSk7fWZ1bmN0aW9uIGZlKGUsdCxyLGkpe2UucHVzaCh0KSxlLnB1c2gociksZS5wdXNoKGkpO31mdW5jdGlvbiBkZShlLHQscixpLG8sbil7dmFyIGE9KG4tdCkvKGktdCk7cmV0dXJuIGUucHVzaChuKSxlLnB1c2gocisoby1yKSphKSxlLnB1c2goMSksYX1mdW5jdGlvbiBnZShlLHQscixpLG8sbil7dmFyIGE9KG4tcikvKG8tcik7cmV0dXJuIGUucHVzaCh0KyhpLXQpKmEpLGUucHVzaChuKSxlLnB1c2goMSksYX1mdW5jdGlvbiBtZShlLHQpe2Zvcih2YXIgcj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvLG49ZVtpXSxhPW4udHlwZTtpZigiUG9pbnQiPT09YXx8Ik11bHRpUG9pbnQiPT09YXx8IkxpbmVTdHJpbmciPT09YSlvPXZlKG4uZ2VvbWV0cnksdCk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PWF8fCJQb2x5Z29uIj09PWEpe289W107Zm9yKHZhciBzPTA7czxuLmdlb21ldHJ5Lmxlbmd0aDtzKyspby5wdXNoKHZlKG4uZ2VvbWV0cnlbc10sdCkpO31lbHNlIGlmKCJNdWx0aVBvbHlnb24iPT09YSlmb3Iobz1bXSxzPTA7czxuLmdlb21ldHJ5Lmxlbmd0aDtzKyspe2Zvcih2YXIgbD1bXSx1PTA7dTxuLmdlb21ldHJ5W3NdLmxlbmd0aDt1KyspbC5wdXNoKHZlKG4uZ2VvbWV0cnlbc11bdV0sdCkpO28ucHVzaChsKTt9ci5wdXNoKGVlKG4uaWQsYSxvLG4udGFncykpO31yZXR1cm4gcn1mdW5jdGlvbiB2ZShlLHQpe3ZhciByPVtdO3Iuc2l6ZT1lLnNpemUsdm9pZCAwIT09ZS5zdGFydCYmKHIuc3RhcnQ9ZS5zdGFydCxyLmVuZD1lLmVuZCk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKz0zKXIucHVzaChlW2ldK3QsZVtpKzFdLGVbaSsyXSk7cmV0dXJuIHJ9ZnVuY3Rpb24geWUoZSx0KXtpZihlLnRyYW5zZm9ybWVkKXJldHVybiBlO3ZhciByLGksbyxuPTE8PGUueixhPWUueCxzPWUueTtmb3Iocj0wO3I8ZS5mZWF0dXJlcy5sZW5ndGg7cisrKXt2YXIgbD1lLmZlYXR1cmVzW3JdLHU9bC5nZW9tZXRyeSxoPWwudHlwZTtpZihsLmdlb21ldHJ5PVtdLDE9PT1oKWZvcihpPTA7aTx1Lmxlbmd0aDtpKz0yKWwuZ2VvbWV0cnkucHVzaCh4ZSh1W2ldLHVbaSsxXSx0LG4sYSxzKSk7ZWxzZSBmb3IoaT0wO2k8dS5sZW5ndGg7aSsrKXt2YXIgYz1bXTtmb3Iobz0wO288dVtpXS5sZW5ndGg7bys9MiljLnB1c2goeGUodVtpXVtvXSx1W2ldW28rMV0sdCxuLGEscykpO2wuZ2VvbWV0cnkucHVzaChjKTt9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24geGUoZSx0LHIsaSxvLG4pe3JldHVybiBbTWF0aC5yb3VuZChyKihlKmktbykpLE1hdGgucm91bmQocioodCppLW4pKV19ZnVuY3Rpb24gd2UoZSx0LHIsaSxvKXtmb3IodmFyIG49dD09PW8ubWF4Wm9vbT8wOm8udG9sZXJhbmNlLygoMTw8dCkqby5leHRlbnQpLGE9e2ZlYXR1cmVzOltdLG51bVBvaW50czowLG51bVNpbXBsaWZpZWQ6MCxudW1GZWF0dXJlczowLHNvdXJjZTpudWxsLHg6cix5Omksejp0LHRyYW5zZm9ybWVkOiExLG1pblg6MixtaW5ZOjEsbWF4WDotMSxtYXhZOjB9LHM9MDtzPGUubGVuZ3RoO3MrKyl7YS5udW1GZWF0dXJlcysrLFNlKGEsZVtzXSxuLG8pO3ZhciBsPWVbc10ubWluWCx1PWVbc10ubWluWSxoPWVbc10ubWF4WCxjPWVbc10ubWF4WTtsPGEubWluWCYmKGEubWluWD1sKSx1PGEubWluWSYmKGEubWluWT11KSxoPmEubWF4WCYmKGEubWF4WD1oKSxjPmEubWF4WSYmKGEubWF4WT1jKTt9cmV0dXJuIGF9ZnVuY3Rpb24gU2UoZSx0LHIsaSl7dmFyIG89dC5nZW9tZXRyeSxuPXQudHlwZSxhPVtdO2lmKCJQb2ludCI9PT1ufHwiTXVsdGlQb2ludCI9PT1uKWZvcih2YXIgcz0wO3M8by5sZW5ndGg7cys9MylhLnB1c2gob1tzXSksYS5wdXNoKG9bcysxXSksZS5udW1Qb2ludHMrKyxlLm51bVNpbXBsaWZpZWQrKztlbHNlIGlmKCJMaW5lU3RyaW5nIj09PW4pSWUoYSxvLGUsciwhMSwhMSk7ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PW58fCJQb2x5Z29uIj09PW4pZm9yKHM9MDtzPG8ubGVuZ3RoO3MrKylJZShhLG9bc10sZSxyLCJQb2x5Z29uIj09PW4sMD09PXMpO2Vsc2UgaWYoIk11bHRpUG9seWdvbiI9PT1uKWZvcih2YXIgbD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1vW2xdO2ZvcihzPTA7czx1Lmxlbmd0aDtzKyspSWUoYSx1W3NdLGUsciwhMCwwPT09cyk7fWlmKGEubGVuZ3RoKXt2YXIgaD10LnRhZ3N8fG51bGw7aWYoIkxpbmVTdHJpbmciPT09biYmaS5saW5lTWV0cmljcyl7Zm9yKHZhciBjIGluIGg9e30sdC50YWdzKWhbY109dC50YWdzW2NdO2gubWFwYm94X2NsaXBfc3RhcnQ9by5zdGFydC9vLnNpemUsaC5tYXBib3hfY2xpcF9lbmQ9by5lbmQvby5zaXplO312YXIgcD17Z2VvbWV0cnk6YSx0eXBlOiJQb2x5Z29uIj09PW58fCJNdWx0aVBvbHlnb24iPT09bj8zOiJMaW5lU3RyaW5nIj09PW58fCJNdWx0aUxpbmVTdHJpbmciPT09bj8yOjEsdGFnczpofTtudWxsIT09dC5pZCYmKHAuaWQ9dC5pZCksZS5mZWF0dXJlcy5wdXNoKHApO319ZnVuY3Rpb24gSWUoZSx0LHIsaSxvLG4pe3ZhciBhPWkqaTtpZihpPjAmJnQuc2l6ZTwobz9hOmkpKXIubnVtUG9pbnRzKz10Lmxlbmd0aC8zO2Vsc2V7Zm9yKHZhciBzPVtdLGw9MDtsPHQubGVuZ3RoO2wrPTMpKDA9PT1pfHx0W2wrMl0+YSkmJihyLm51bVNpbXBsaWZpZWQrKyxzLnB1c2godFtsXSkscy5wdXNoKHRbbCsxXSkpLHIubnVtUG9pbnRzKys7byYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxpPTAsbz1lLmxlbmd0aCxuPW8tMjtpPG87bj1pLGkrPTIpcis9KGVbaV0tZVtuXSkqKGVbaSsxXStlW24rMV0pO2lmKHI+MD09PXQpZm9yKGk9MCxvPWUubGVuZ3RoO2k8by8yO2krPTIpe3ZhciBhPWVbaV0scz1lW2krMV07ZVtpXT1lW28tMi1pXSxlW2krMV09ZVtvLTEtaV0sZVtvLTItaV09YSxlW28tMS1pXT1zO319KHMsbiksZS5wdXNoKHMpO319ZnVuY3Rpb24gTWUoZSx0KXt2YXIgcj0odD10aGlzLm9wdGlvbnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9KE9iamVjdC5jcmVhdGUodGhpcy5vcHRpb25zKSx0KSkuZGVidWc7aWYociYmY29uc29sZS50aW1lKCJwcmVwcm9jZXNzIGRhdGEiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcigibWF4Wm9vbSBzaG91bGQgYmUgaW4gdGhlIDAtMjQgcmFuZ2UiKTtpZih0LnByb21vdGVJZCYmdC5nZW5lcmF0ZUlkKXRocm93IG5ldyBFcnJvcigicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLiIpO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoIkZlYXR1cmVDb2xsZWN0aW9uIj09PWUudHlwZSlmb3IodmFyIGk9MDtpPGUuZmVhdHVyZXMubGVuZ3RoO2krKylyZShyLGUuZmVhdHVyZXNbaV0sdCxpKTtlbHNlIHJlKHIsIkZlYXR1cmUiPT09ZS50eXBlP2U6e2dlb21ldHJ5OmV9LHQpO3JldHVybiByfShlLHQpO3RoaXMudGlsZXM9e30sdGhpcy50aWxlQ29vcmRzPVtdLHImJihjb25zb2xlLnRpbWVFbmQoInByZXByb2Nlc3MgZGF0YSIpLGNvbnNvbGUubG9nKCJpbmRleDogbWF4Wm9vbTogJWQsIG1heFBvaW50czogJWQiLHQuaW5kZXhNYXhab29tLHQuaW5kZXhNYXhQb2ludHMpLGNvbnNvbGUudGltZSgiZ2VuZXJhdGUgdGlsZXMiKSx0aGlzLnN0YXRzPXt9LHRoaXMudG90YWw9MCksKGk9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJ1ZmZlci90LmV4dGVudCxpPWUsbz1sZShlLDEsLTEtcixyLDAsLTEsMix0KSxuPWxlKGUsMSwxLXIsMityLDAsLTEsMix0KTtyZXR1cm4gKG98fG4pJiYoaT1sZShlLDEsLXIsMStyLDAsLTEsMix0KXx8W10sbyYmKGk9bWUobywxKS5jb25jYXQoaSkpLG4mJihpPWkuY29uY2F0KG1lKG4sLTEpKSkpLGl9KGksdCkpLmxlbmd0aCYmdGhpcy5zcGxpdFRpbGUoaSwwLDAsMCksciYmKGkubGVuZ3RoJiZjb25zb2xlLmxvZygiZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkIix0aGlzLnRpbGVzWzBdLm51bUZlYXR1cmVzLHRoaXMudGlsZXNbMF0ubnVtUG9pbnRzKSxjb25zb2xlLnRpbWVFbmQoImdlbmVyYXRlIHRpbGVzIiksY29uc29sZS5sb2coInRpbGVzIGdlbmVyYXRlZDoiLHRoaXMudG90YWwsSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0cykpKTt9ZnVuY3Rpb24gYmUoZSx0LHIpe3JldHVybiAzMiooKDE8PGUpKnIrdCkrZX1mdW5jdGlvbiBQZShlLHQpe3ZhciByPWUudGlsZUlELmNhbm9uaWNhbDtpZighdGhpcy5fZ2VvSlNPTkluZGV4KXJldHVybiB0KG51bGwsbnVsbCk7dmFyIGk9dGhpcy5fZ2VvSlNPTkluZGV4LmdldFRpbGUoci56LHIueCxyLnkpO2lmKCFpKXJldHVybiB0KG51bGwsbnVsbCk7dmFyIG89bmV3IFMoaS5mZWF0dXJlcyksbj1fKG8pOzA9PT1uLmJ5dGVPZmZzZXQmJm4uYnl0ZUxlbmd0aD09PW4uYnVmZmVyLmJ5dGVMZW5ndGh8fChuPW5ldyBVaW50OEFycmF5KG4pKSx0KG51bGwse3ZlY3RvclRpbGU6byxyYXdEYXRhOm4uYnVmZmVyfSk7fVIucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLHI9dC5sb2csaT10Lm1pblpvb20sbz10Lm1heFpvb20sbj10Lm5vZGVTaXplO3ImJmNvbnNvbGUudGltZSgidG90YWwgdGltZSIpO3ZhciBhPSJwcmVwYXJlICIrZS5sZW5ndGgrIiBwb2ludHMiO3ImJmNvbnNvbGUudGltZShhKSx0aGlzLnBvaW50cz1lO2Zvcih2YXIgcz1bXSxsPTA7bDxlLmxlbmd0aDtsKyspZVtsXS5nZW9tZXRyeSYmcy5wdXNoKFYoZVtsXSxsKSk7dGhpcy50cmVlc1tvKzFdPW5ldyBHKHMsSCxLLG4sRmxvYXQzMkFycmF5KSxyJiZjb25zb2xlLnRpbWVFbmQoYSk7Zm9yKHZhciB1PW87dT49aTt1LS0pe3ZhciBoPStEYXRlLm5vdygpO3M9dGhpcy5fY2x1c3RlcihzLHUpLHRoaXMudHJlZXNbdV09bmV3IEcocyxILEssbixGbG9hdDMyQXJyYXkpLHImJmNvbnNvbGUubG9nKCJ6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXMiLHUscy5sZW5ndGgsK0RhdGUubm93KCktaCk7fXJldHVybiByJiZjb25zb2xlLnRpbWVFbmQoInRvdGFsIHRpbWUiKSx0aGlzfSxSLnByb3RvdHlwZS5nZXRDbHVzdGVycz1mdW5jdGlvbihlLHQpe3ZhciByPSgoZVswXSsxODApJTM2MCszNjApJTM2MC0xODAsaT1NYXRoLm1heCgtOTAsTWF0aC5taW4oOTAsZVsxXSkpLG89MTgwPT09ZVsyXT8xODA6KChlWzJdKzE4MCklMzYwKzM2MCklMzYwLTE4MCxuPU1hdGgubWF4KC05MCxNYXRoLm1pbig5MCxlWzNdKSk7aWYoZVsyXS1lWzBdPj0zNjApcj0tMTgwLG89MTgwO2Vsc2UgaWYocj5vKXt2YXIgYT10aGlzLmdldENsdXN0ZXJzKFtyLGksMTgwLG5dLHQpLHM9dGhpcy5nZXRDbHVzdGVycyhbLTE4MCxpLG8sbl0sdCk7cmV0dXJuIGEuY29uY2F0KHMpfWZvcih2YXIgbD10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbSh0KV0sdT1bXSxoPTAsYz1sLnJhbmdlKHEociksVShuKSxxKG8pLFUoaSkpO2g8Yy5sZW5ndGg7aCs9MSl7dmFyIHA9bC5wb2ludHNbY1toXV07dS5wdXNoKHAubnVtUG9pbnRzP1gocCk6dGhpcy5wb2ludHNbcC5pbmRleF0pO31yZXR1cm4gdX0sUi5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0T3JpZ2luSWQoZSkscj10aGlzLl9nZXRPcmlnaW5ab29tKGUpLGk9Ik5vIGNsdXN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLiIsbz10aGlzLnRyZWVzW3JdO2lmKCFvKXRocm93IG5ldyBFcnJvcihpKTt2YXIgbj1vLnBvaW50c1t0XTtpZighbil0aHJvdyBuZXcgRXJyb3IoaSk7Zm9yKHZhciBhPXRoaXMub3B0aW9ucy5yYWRpdXMvKHRoaXMub3B0aW9ucy5leHRlbnQqTWF0aC5wb3coMixyLTEpKSxzPVtdLGw9MCx1PW8ud2l0aGluKG4ueCxuLnksYSk7bDx1Lmxlbmd0aDtsKz0xKXt2YXIgaD1vLnBvaW50c1t1W2xdXTtoLnBhcmVudElkPT09ZSYmcy5wdXNoKGgubnVtUG9pbnRzP1goaCk6dGhpcy5wb2ludHNbaC5pbmRleF0pO31pZigwPT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGkpO3JldHVybiBzfSxSLnByb3RvdHlwZS5nZXRMZWF2ZXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVtdO3JldHVybiB0aGlzLl9hcHBlbmRMZWF2ZXMoaSxlLHQ9dHx8MTAscj1yfHwwLDApLGl9LFIucHJvdG90eXBlLmdldFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKGUpXSxvPU1hdGgucG93KDIsZSksbj10aGlzLm9wdGlvbnMsYT1uLnJhZGl1cy9uLmV4dGVudCxzPShyLWEpL28sbD0ocisxK2EpL28sdT17ZmVhdHVyZXM6W119O3JldHVybiB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoaS5yYW5nZSgodC1hKS9vLHMsKHQrMSthKS9vLGwpLGkucG9pbnRzLHQscixvLHUpLDA9PT10JiZ0aGlzLl9hZGRUaWxlRmVhdHVyZXMoaS5yYW5nZSgxLWEvbyxzLDEsbCksaS5wb2ludHMsbyxyLG8sdSksdD09PW8tMSYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoMCxzLGEvbyxsKSxpLnBvaW50cywtMSxyLG8sdSksdS5mZWF0dXJlcy5sZW5ndGg/dTpudWxsfSxSLnByb3RvdHlwZS5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fZ2V0T3JpZ2luWm9vbShlKS0xO3Q8PXRoaXMub3B0aW9ucy5tYXhab29tOyl7dmFyIHI9dGhpcy5nZXRDaGlsZHJlbihlKTtpZih0KyssMSE9PXIubGVuZ3RoKWJyZWFrO2U9clswXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQ7fXJldHVybiB0fSxSLnByb3RvdHlwZS5fYXBwZW5kTGVhdmVzPWZ1bmN0aW9uKGUsdCxyLGksbyl7Zm9yKHZhciBuPTAsYT10aGlzLmdldENoaWxkcmVuKHQpO248YS5sZW5ndGg7bis9MSl7dmFyIHM9YVtuXSxsPXMucHJvcGVydGllcztpZihsJiZsLmNsdXN0ZXI/bytsLnBvaW50X2NvdW50PD1pP28rPWwucG9pbnRfY291bnQ6bz10aGlzLl9hcHBlbmRMZWF2ZXMoZSxsLmNsdXN0ZXJfaWQscixpLG8pOm88aT9vKys6ZS5wdXNoKHMpLGUubGVuZ3RoPT09cilicmVha31yZXR1cm4gb30sUi5wcm90b3R5cGUuX2FkZFRpbGVGZWF0dXJlcz1mdW5jdGlvbihlLHQscixpLG8sbil7Zm9yKHZhciBhPTAscz1lO2E8cy5sZW5ndGg7YSs9MSl7dmFyIGw9dFtzW2FdXSx1PWwubnVtUG9pbnRzLGg9e3R5cGU6MSxnZW9tZXRyeTpbW01hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCoobC54Km8tcikpLE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCoobC55Km8taSkpXV0sdGFnczp1P1cobCk6dGhpcy5wb2ludHNbbC5pbmRleF0ucHJvcGVydGllc30sYz12b2lkIDA7dT9jPWwuaWQ6dGhpcy5vcHRpb25zLmdlbmVyYXRlSWQ/Yz1sLmluZGV4OnRoaXMucG9pbnRzW2wuaW5kZXhdLmlkJiYoYz10aGlzLnBvaW50c1tsLmluZGV4XS5pZCksdm9pZCAwIT09YyYmKGguaWQ9Yyksbi5mZWF0dXJlcy5wdXNoKGgpO319LFIucHJvdG90eXBlLl9saW1pdFpvb209ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KHRoaXMub3B0aW9ucy5taW5ab29tLE1hdGgubWluKGUsdGhpcy5vcHRpb25zLm1heFpvb20rMSkpfSxSLnByb3RvdHlwZS5fY2x1c3Rlcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxpPXRoaXMub3B0aW9ucyxvPWkucmVkdWNlLG49aS5yYWRpdXMvKGkuZXh0ZW50Kk1hdGgucG93KDIsdCkpLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHM9ZVthXTtpZighKHMuem9vbTw9dCkpe3Muem9vbT10O2Zvcih2YXIgbD10aGlzLnRyZWVzW3QrMV0sdT1sLndpdGhpbihzLngscy55LG4pLGg9cy5udW1Qb2ludHN8fDEsYz1zLngqaCxwPXMueSpoLGY9byYmaD4xP3RoaXMuX21hcChzLCEwKTpudWxsLGQ9KGE8PDUpKyh0KzEpK3RoaXMucG9pbnRzLmxlbmd0aCxnPTAsbT11O2c8bS5sZW5ndGg7Zys9MSl7dmFyIHY9bC5wb2ludHNbbVtnXV07aWYoISh2Lnpvb208PXQpKXt2Lnpvb209dDt2YXIgeT12Lm51bVBvaW50c3x8MTtjKz12LngqeSxwKz12LnkqeSxoKz15LHYucGFyZW50SWQ9ZCxvJiYoZnx8KGY9dGhpcy5fbWFwKHMsITApKSxvKGYsdGhpcy5fbWFwKHYpKSk7fX0xPT09aD9yLnB1c2gocyk6KHMucGFyZW50SWQ9ZCxyLnB1c2goaihjL2gscC9oLGQsaCxmKSkpO319cmV0dXJuIHJ9LFIucHJvdG90eXBlLl9nZXRPcmlnaW5JZD1mdW5jdGlvbihlKXtyZXR1cm4gZS10aGlzLnBvaW50cy5sZW5ndGg+PjV9LFIucHJvdG90eXBlLl9nZXRPcmlnaW5ab29tPWZ1bmN0aW9uKGUpe3JldHVybiAoZS10aGlzLnBvaW50cy5sZW5ndGgpJTMyfSxSLnByb3RvdHlwZS5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoZS5udW1Qb2ludHMpcmV0dXJuIHQ/JCh7fSxlLnByb3BlcnRpZXMpOmUucHJvcGVydGllczt2YXIgcj10aGlzLnBvaW50c1tlLmluZGV4XS5wcm9wZXJ0aWVzLGk9dGhpcy5vcHRpb25zLm1hcChyKTtyZXR1cm4gdCYmaT09PXI/JCh7fSxpKTppfSxNZS5wcm90b3R5cGUub3B0aW9ucz17bWF4Wm9vbToxNCxpbmRleE1heFpvb206NSxpbmRleE1heFBvaW50czoxZTUsdG9sZXJhbmNlOjMsZXh0ZW50OjQwOTYsYnVmZmVyOjY0LGxpbmVNZXRyaWNzOiExLHByb21vdGVJZDpudWxsLGdlbmVyYXRlSWQ6ITEsZGVidWc6MH0sTWUucHJvdG90eXBlLnNwbGl0VGlsZT1mdW5jdGlvbihlLHQscixpLG8sbixhKXtmb3IodmFyIHM9W2UsdCxyLGldLGw9dGhpcy5vcHRpb25zLHU9bC5kZWJ1ZztzLmxlbmd0aDspe2k9cy5wb3AoKSxyPXMucG9wKCksdD1zLnBvcCgpLGU9cy5wb3AoKTt2YXIgaD0xPDx0LGM9YmUodCxyLGkpLHA9dGhpcy50aWxlc1tjXTtpZighcCYmKHU+MSYmY29uc29sZS50aW1lKCJjcmVhdGlvbiIpLHA9dGhpcy50aWxlc1tjXT13ZShlLHQscixpLGwpLHRoaXMudGlsZUNvb3Jkcy5wdXNoKHt6OnQseDpyLHk6aX0pLHUpKXt1PjEmJihjb25zb2xlLmxvZygidGlsZSB6JWQtJWQtJWQgKGZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCwgc2ltcGxpZmllZDogJWQpIix0LHIsaSxwLm51bUZlYXR1cmVzLHAubnVtUG9pbnRzLHAubnVtU2ltcGxpZmllZCksY29uc29sZS50aW1lRW5kKCJjcmVhdGlvbiIpKTt2YXIgZj0ieiIrdDt0aGlzLnN0YXRzW2ZdPSh0aGlzLnN0YXRzW2ZdfHwwKSsxLHRoaXMudG90YWwrKzt9aWYocC5zb3VyY2U9ZSxvKXtpZih0PT09bC5tYXhab29tfHx0PT09byljb250aW51ZTt2YXIgZD0xPDxvLXQ7aWYociE9PU1hdGguZmxvb3Iobi9kKXx8aSE9PU1hdGguZmxvb3IoYS9kKSljb250aW51ZX1lbHNlIGlmKHQ9PT1sLmluZGV4TWF4Wm9vbXx8cC5udW1Qb2ludHM8PWwuaW5kZXhNYXhQb2ludHMpY29udGludWU7aWYocC5zb3VyY2U9bnVsbCwwIT09ZS5sZW5ndGgpe3U+MSYmY29uc29sZS50aW1lKCJjbGlwcGluZyIpO3ZhciBnLG0sdix5LHgsdyxTPS41KmwuYnVmZmVyL2wuZXh0ZW50LEk9LjUtUyxNPS41K1MsYj0xK1M7Zz1tPXY9eT1udWxsLHg9bGUoZSxoLHItUyxyK00sMCxwLm1pblgscC5tYXhYLGwpLHc9bGUoZSxoLHIrSSxyK2IsMCxwLm1pblgscC5tYXhYLGwpLGU9bnVsbCx4JiYoZz1sZSh4LGgsaS1TLGkrTSwxLHAubWluWSxwLm1heFksbCksbT1sZSh4LGgsaStJLGkrYiwxLHAubWluWSxwLm1heFksbCkseD1udWxsKSx3JiYodj1sZSh3LGgsaS1TLGkrTSwxLHAubWluWSxwLm1heFksbCkseT1sZSh3LGgsaStJLGkrYiwxLHAubWluWSxwLm1heFksbCksdz1udWxsKSx1PjEmJmNvbnNvbGUudGltZUVuZCgiY2xpcHBpbmciKSxzLnB1c2goZ3x8W10sdCsxLDIqciwyKmkpLHMucHVzaChtfHxbXSx0KzEsMipyLDIqaSsxKSxzLnB1c2godnx8W10sdCsxLDIqcisxLDIqaSkscy5wdXNoKHl8fFtdLHQrMSwyKnIrMSwyKmkrMSk7fX19LE1lLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLm9wdGlvbnMsbz1pLmV4dGVudCxuPWkuZGVidWc7aWYoZTwwfHxlPjI0KXJldHVybiBudWxsO3ZhciBhPTE8PGUscz1iZShlLHQ9KHQlYSthKSVhLHIpO2lmKHRoaXMudGlsZXNbc10pcmV0dXJuIHllKHRoaXMudGlsZXNbc10sbyk7bj4xJiZjb25zb2xlLmxvZygiZHJpbGxpbmcgZG93biB0byB6JWQtJWQtJWQiLGUsdCxyKTtmb3IodmFyIGwsdT1lLGg9dCxjPXI7IWwmJnU+MDspdS0tLGg9TWF0aC5mbG9vcihoLzIpLGM9TWF0aC5mbG9vcihjLzIpLGw9dGhpcy50aWxlc1tiZSh1LGgsYyldO3JldHVybiBsJiZsLnNvdXJjZT8obj4xJiZjb25zb2xlLmxvZygiZm91bmQgcGFyZW50IHRpbGUgeiVkLSVkLSVkIix1LGgsYyksbj4xJiZjb25zb2xlLnRpbWUoImRyaWxsaW5nIGRvd24iKSx0aGlzLnNwbGl0VGlsZShsLnNvdXJjZSx1LGgsYyxlLHQsciksbj4xJiZjb25zb2xlLnRpbWVFbmQoImRyaWxsaW5nIGRvd24iKSx0aGlzLnRpbGVzW3NdP3llKHRoaXMudGlsZXNbc10sbyk6bnVsbCk6bnVsbH07dmFyIF9lPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxyLGksbyl7dC5jYWxsKHRoaXMsZSxyLGksUGUpLG8mJih0aGlzLmxvYWRHZW9KU09OPW8pO31yZXR1cm4gdCYmKHIuX19wcm90b19fPXQpLChyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cixyLnByb3RvdHlwZS5sb2FkRGF0YT1mdW5jdGlvbihlLHQpe3RoaXMuX3BlbmRpbmdDYWxsYmFjayYmdGhpcy5fcGVuZGluZ0NhbGxiYWNrKG51bGwse2FiYW5kb25lZDohMH0pLHRoaXMuX3BlbmRpbmdDYWxsYmFjaz10LHRoaXMuX3BlbmRpbmdMb2FkRGF0YVBhcmFtcz1lLHRoaXMuX3N0YXRlJiYiSWRsZSIhPT10aGlzLl9zdGF0ZT90aGlzLl9zdGF0ZT0iTmVlZHNMb2FkRGF0YSI6KHRoaXMuX3N0YXRlPSJDb2FsZXNjaW5nIix0aGlzLl9sb2FkRGF0YSgpKTt9LHIucHJvdG90eXBlLl9sb2FkRGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5fcGVuZGluZ0NhbGxiYWNrJiZ0aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXMpe3ZhciByPXRoaXMuX3BlbmRpbmdDYWxsYmFjayxpPXRoaXMuX3BlbmRpbmdMb2FkRGF0YVBhcmFtcztkZWxldGUgdGhpcy5fcGVuZGluZ0NhbGxiYWNrLGRlbGV0ZSB0aGlzLl9wZW5kaW5nTG9hZERhdGFQYXJhbXM7dmFyIG89ISEoaSYmaS5yZXF1ZXN0JiZpLnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nKSYmbmV3IGUuUmVxdWVzdFBlcmZvcm1hbmNlKGkucmVxdWVzdCk7dGhpcy5sb2FkR2VvSlNPTihpLChmdW5jdGlvbihuLGEpe2lmKG58fCFhKXJldHVybiByKG4pO2lmKCJvYmplY3QiIT10eXBlb2YgYSlyZXR1cm4gcihuZXcgRXJyb3IoIklucHV0IGRhdGEgZ2l2ZW4gdG8gJyIraS5zb3VyY2UrIicgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuIikpOyFmdW5jdGlvbiBlKHQscil7c3dpdGNoKHQmJnQudHlwZXx8bnVsbCl7Y2FzZSJGZWF0dXJlQ29sbGVjdGlvbiI6cmV0dXJuIHQuZmVhdHVyZXM9dC5mZWF0dXJlcy5tYXAobShlLHIpKSx0O2Nhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjpyZXR1cm4gdC5nZW9tZXRyaWVzPXQuZ2VvbWV0cmllcy5tYXAobShlLHIpKSx0O2Nhc2UiRmVhdHVyZSI6cmV0dXJuIHQuZ2VvbWV0cnk9ZSh0Lmdlb21ldHJ5LHIpLHQ7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuICJQb2x5Z29uIj09PWUudHlwZT9lLmNvb3JkaW5hdGVzPXYoZS5jb29yZGluYXRlcyx0KToiTXVsdGlQb2x5Z29uIj09PWUudHlwZSYmKGUuY29vcmRpbmF0ZXM9ZS5jb29yZGluYXRlcy5tYXAobSh2LHQpKSksZX0odCxyKTtkZWZhdWx0OnJldHVybiB0fX0oYSwhMCk7dHJ5e3QuX2dlb0pTT05JbmRleD1pLmNsdXN0ZXI/bmV3IFIoZnVuY3Rpb24odCl7dmFyIHI9dC5zdXBlcmNsdXN0ZXJPcHRpb25zLGk9dC5jbHVzdGVyUHJvcGVydGllcztpZighaXx8IXIpcmV0dXJuIHI7Zm9yKHZhciBvPXt9LG49e30sYT17YWNjdW11bGF0ZWQ6bnVsbCx6b29tOjB9LHM9e3Byb3BlcnRpZXM6bnVsbH0sbD1PYmplY3Qua2V5cyhpKSx1PTAsaD1sO3U8aC5sZW5ndGg7dSs9MSl7dmFyIGM9aFt1XSxwPWlbY10sZj1wWzBdLGQ9ZS5jcmVhdGVFeHByZXNzaW9uKHBbMV0pLGc9ZS5jcmVhdGVFeHByZXNzaW9uKCJzdHJpbmciPT10eXBlb2YgZj9bZixbImFjY3VtdWxhdGVkIl0sWyJnZXQiLGNdXTpmKTtvW2NdPWQudmFsdWUsbltjXT1nLnZhbHVlO31yZXR1cm4gci5tYXA9ZnVuY3Rpb24oZSl7cy5wcm9wZXJ0aWVzPWU7Zm9yKHZhciB0PXt9LHI9MCxpPWw7cjxpLmxlbmd0aDtyKz0xKXt2YXIgbj1pW3JdO3Rbbl09b1tuXS5ldmFsdWF0ZShhLHMpO31yZXR1cm4gdH0sci5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXtzLnByb3BlcnRpZXM9dDtmb3IodmFyIHI9MCxpPWw7cjxpLmxlbmd0aDtyKz0xKXt2YXIgbz1pW3JdO2EuYWNjdW11bGF0ZWQ9ZVtvXSxlW29dPW5bb10uZXZhbHVhdGUoYSxzKTt9fSxyfShpKSkubG9hZChhLmZlYXR1cmVzKTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgTWUoZSx0KX0oYSxpLmdlb2pzb25WdE9wdGlvbnMpO31jYXRjaChuKXtyZXR1cm4gcihuKX10LmxvYWRlZD17fTt2YXIgcz17fTtpZihvKXt2YXIgbD1vLmZpbmlzaCgpO2wmJihzLnJlc291cmNlVGltaW5nPXt9LHMucmVzb3VyY2VUaW1pbmdbaS5zb3VyY2VdPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobCkpKTt9cihudWxsLHMpO30pKTt9fSxyLnByb3RvdHlwZS5jb2FsZXNjZT1mdW5jdGlvbigpeyJDb2FsZXNjaW5nIj09PXRoaXMuX3N0YXRlP3RoaXMuX3N0YXRlPSJJZGxlIjoiTmVlZHNMb2FkRGF0YSI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPSJDb2FsZXNjaW5nIix0aGlzLl9sb2FkRGF0YSgpKTt9LHIucHJvdG90eXBlLnJlbG9hZFRpbGU9ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzLmxvYWRlZDtyZXR1cm4gaSYmaVtlLnVpZF0/dC5wcm90b3R5cGUucmVsb2FkVGlsZS5jYWxsKHRoaXMsZSxyKTp0aGlzLmxvYWRUaWxlKGUscil9LHIucHJvdG90eXBlLmxvYWRHZW9KU09OPWZ1bmN0aW9uKHQscil7aWYodC5yZXF1ZXN0KWUuZ2V0SlNPTih0LnJlcXVlc3Qscik7ZWxzZXtpZigic3RyaW5nIiE9dHlwZW9mIHQuZGF0YSlyZXR1cm4gcihuZXcgRXJyb3IoIklucHV0IGRhdGEgZ2l2ZW4gdG8gJyIrdC5zb3VyY2UrIicgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuIikpO3RyeXtyZXR1cm4gcihudWxsLEpTT04ucGFyc2UodC5kYXRhKSl9Y2F0Y2goZSl7cmV0dXJuIHIobmV3IEVycm9yKCJJbnB1dCBkYXRhIGdpdmVuIHRvICciK3Quc291cmNlKyInIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LiIpKX19fSxyLnByb3RvdHlwZS5yZW1vdmVTb3VyY2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wZW5kaW5nQ2FsbGJhY2smJnRoaXMuX3BlbmRpbmdDYWxsYmFjayhudWxsLHthYmFuZG9uZWQ6ITB9KSx0KCk7fSxyLnByb3RvdHlwZS5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbT1mdW5jdGlvbihlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUuY2x1c3RlcklkKSk7fWNhdGNoKGUpe3QoZSk7fX0sci5wcm90b3R5cGUuZ2V0Q2x1c3RlckNoaWxkcmVuPWZ1bmN0aW9uKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2hpbGRyZW4oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fSxyLnByb3RvdHlwZS5nZXRDbHVzdGVyTGVhdmVzPWZ1bmN0aW9uKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0TGVhdmVzKGUuY2x1c3RlcklkLGUubGltaXQsZS5vZmZzZXQpKTt9Y2F0Y2goZSl7dChlKTt9fSxyfShsKSxrZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3RoaXMuc2VsZj10LHRoaXMuYWN0b3I9bmV3IGUuQWN0b3IodCx0aGlzKSx0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz17fSx0aGlzLndvcmtlclNvdXJjZVR5cGVzPXt2ZWN0b3I6bCxnZW9qc29uOl9lfSx0aGlzLndvcmtlclNvdXJjZXM9e30sdGhpcy5kZW1Xb3JrZXJTb3VyY2VzPXt9LHRoaXMuc2VsZi5yZWdpc3RlcldvcmtlclNvdXJjZT1mdW5jdGlvbihlLHQpe2lmKHIud29ya2VyU291cmNlVHlwZXNbZV0pdGhyb3cgbmV3IEVycm9yKCdXb3JrZXIgc291cmNlIHdpdGggbmFtZSAiJytlKyciIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTtyLndvcmtlclNvdXJjZVR5cGVzW2VdPXQ7fSx0aGlzLnNlbGYucmVnaXN0ZXJSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKHQpe2lmKGUucGx1Z2luLmlzUGFyc2VkKCkpdGhyb3cgbmV3IEVycm9yKCJSVEwgdGV4dCBwbHVnaW4gYWxyZWFkeSByZWdpc3RlcmVkLiIpO2UucGx1Z2luLmFwcGx5QXJhYmljU2hhcGluZz10LmFwcGx5QXJhYmljU2hhcGluZyxlLnBsdWdpbi5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQsZS5wbHVnaW4ucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O307fTtyZXR1cm4ga2UucHJvdG90eXBlLnNldFJlZmVycmVyPWZ1bmN0aW9uKGUsdCl7dGhpcy5yZWZlcnJlcj10O30sa2UucHJvdG90eXBlLnNldEltYWdlcz1mdW5jdGlvbihlLHQscil7dGhpcy5hdmFpbGFibGVJbWFnZXNbZV09dCxyKCk7fSxrZS5wcm90b3R5cGUuc2V0TGF5ZXJzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldExheWVySW5kZXgoZSkucmVwbGFjZSh0KSxyKCk7fSxrZS5wcm90b3R5cGUudXBkYXRlTGF5ZXJzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldExheWVySW5kZXgoZSkudXBkYXRlKHQubGF5ZXJzLHQucmVtb3ZlZElkcykscigpO30sa2UucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkubG9hZFRpbGUodCxyKTt9LGtlLnByb3RvdHlwZS5sb2FkREVNVGlsZT1mdW5jdGlvbihlLHQscil7dGhpcy5nZXRERU1Xb3JrZXJTb3VyY2UoZSx0LnNvdXJjZSkubG9hZFRpbGUodCxyKTt9LGtlLnByb3RvdHlwZS5yZWxvYWRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkucmVsb2FkVGlsZSh0LHIpO30sa2UucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbihlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLmFib3J0VGlsZSh0LHIpO30sa2UucHJvdG90eXBlLnJlbW92ZVRpbGU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5yZW1vdmVUaWxlKHQscik7fSxrZS5wcm90b3R5cGUucmVtb3ZlREVNVGlsZT1mdW5jdGlvbihlLHQpe3RoaXMuZ2V0REVNV29ya2VyU291cmNlKGUsdC5zb3VyY2UpLnJlbW92ZVRpbGUodCk7fSxrZS5wcm90b3R5cGUucmVtb3ZlU291cmNlPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLndvcmtlclNvdXJjZXNbZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdJiZ0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0pe3ZhciBpPXRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXTtkZWxldGUgdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdLHZvaWQgMCE9PWkucmVtb3ZlU291cmNlP2kucmVtb3ZlU291cmNlKHQscik6cigpO319LGtlLnByb3RvdHlwZS5sb2FkV29ya2VyU291cmNlPWZ1bmN0aW9uKGUsdCxyKXt0cnl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHModC51cmwpLHIoKTt9Y2F0Y2goZSl7cihlLnRvU3RyaW5nKCkpO319LGtlLnByb3RvdHlwZS5zeW5jUlRMUGx1Z2luU3RhdGU9ZnVuY3Rpb24odCxyLGkpe3RyeXtlLnBsdWdpbi5zZXRTdGF0ZShyKTt2YXIgbz1lLnBsdWdpbi5nZXRQbHVnaW5VUkwoKTtpZihlLnBsdWdpbi5pc0xvYWRlZCgpJiYhZS5wbHVnaW4uaXNQYXJzZWQoKSYmbnVsbCE9byl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHMobyk7dmFyIG49ZS5wbHVnaW4uaXNQYXJzZWQoKTtpKG4/dm9pZCAwOm5ldyBFcnJvcigiUlRMIFRleHQgUGx1Z2luIGZhaWxlZCB0byBpbXBvcnQgc2NyaXB0cyBmcm9tICIrbyksbik7fX1jYXRjaChlKXtpKGUudG9TdHJpbmcoKSk7fX0sa2UucHJvdG90eXBlLmdldEF2YWlsYWJsZUltYWdlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmF2YWlsYWJsZUltYWdlc1tlXTtyZXR1cm4gdHx8KHQ9W10pLHR9LGtlLnByb3RvdHlwZS5nZXRMYXllckluZGV4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGF5ZXJJbmRleGVzW2VdO3JldHVybiB0fHwodD10aGlzLmxheWVySW5kZXhlc1tlXT1uZXcgaSksdH0sa2UucHJvdG90eXBlLmdldFdvcmtlclNvdXJjZT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy53b3JrZXJTb3VyY2VzW2VdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdPXt9KSx0aGlzLndvcmtlclNvdXJjZXNbZV1bdF18fCh0aGlzLndvcmtlclNvdXJjZXNbZV1bdF09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVt0XVtyXXx8KHRoaXMud29ya2VyU291cmNlc1tlXVt0XVtyXT1uZXcgdGhpcy53b3JrZXJTb3VyY2VUeXBlc1t0XSh7c2VuZDpmdW5jdGlvbih0LHIsbyl7aS5hY3Rvci5zZW5kKHQscixvLGUpO319LHRoaXMuZ2V0TGF5ZXJJbmRleChlKSx0aGlzLmdldEF2YWlsYWJsZUltYWdlcyhlKSkpLHRoaXMud29ya2VyU291cmNlc1tlXVt0XVtyXX0sa2UucHJvdG90eXBlLmdldERFTVdvcmtlclNvdXJjZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV09e30pLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XT1uZXcgaCksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdfSxrZS5wcm90b3R5cGUuZW5mb3JjZUNhY2hlU2l6ZUxpbWl0PWZ1bmN0aW9uKHQscil7ZS5lbmZvcmNlQ2FjaGVTaXplTGltaXQocik7fSwidW5kZWZpbmVkIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZ2b2lkIDAhPT1lLndpbmRvdyYmZS53aW5kb3cgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmKGUud2luZG93Lndvcmtlcj1uZXcga2UoZS53aW5kb3cpKSxrZX0pKTsKCmRlZmluZShbIi4vc2hhcmVkIl0sKGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT10LmNyZWF0ZUNvbW1vbmpzTW9kdWxlKChmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiAhISgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCYmQXJyYXkucHJvdG90eXBlJiZBcnJheS5wcm90b3R5cGUuZXZlcnkmJkFycmF5LnByb3RvdHlwZS5maWx0ZXImJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoJiZBcnJheS5wcm90b3R5cGUuaW5kZXhPZiYmQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiZBcnJheS5wcm90b3R5cGUubWFwJiZBcnJheS5wcm90b3R5cGUuc29tZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0JiZBcnJheS5pc0FycmF5JiZGdW5jdGlvbi5wcm90b3R5cGUmJkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiZPYmplY3Qua2V5cyYmT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmT2JqZWN0LmlzU2VhbGVkJiZPYmplY3QuaXNGcm96ZW4mJk9iamVjdC5pc0V4dGVuc2libGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMmJk9iamVjdC5zZWFsJiZPYmplY3QuZnJlZXplJiZPYmplY3QucHJldmVudEV4dGVuc2lvbnMmJiJKU09OImluIHdpbmRvdyYmInBhcnNlImluIEpTT04mJiJzdHJpbmdpZnkiaW4gSlNPTiYmZnVuY3Rpb24oKXtpZighKCJXb3JrZXIiaW4gd2luZG93JiYiQmxvYiJpbiB3aW5kb3cmJiJVUkwiaW4gd2luZG93KSlyZXR1cm4gITE7dmFyIHQsZSxpPW5ldyBCbG9iKFsiIl0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KSxvPVVSTC5jcmVhdGVPYmplY3RVUkwoaSk7dHJ5e2U9bmV3IFdvcmtlcihvKSx0PSEwO31jYXRjaChlKXt0PSExO31yZXR1cm4gZSYmZS50ZXJtaW5hdGUoKSxVUkwucmV2b2tlT2JqZWN0VVJMKG8pLHR9KCkmJiJVaW50OENsYW1wZWRBcnJheSJpbiB3aW5kb3cmJkFycmF5QnVmZmVyLmlzVmlldyYmKG89dCYmdC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHZvaWQgMD09PWlbb10mJihpW29dPWZ1bmN0aW9uKHQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLG89T2JqZWN0LmNyZWF0ZShlLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO3JldHVybiBvLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9dCxpLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0P2kucHJvYmFibHlTdXBwb3J0c0NvbnRleHQoIndlYmdsIixvKXx8aS5wcm9iYWJseVN1cHBvcnRzQ29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIixvKTppLnN1cHBvcnRzQ29udGV4dD9pLnN1cHBvcnRzQ29udGV4dCgid2ViZ2wiLG8pfHxpLnN1cHBvcnRzQ29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIixvKTppLmdldENvbnRleHQoIndlYmdsIixvKXx8aS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLG8pfShvKSksaVtvXSkpO3ZhciBvO310LmV4cG9ydHM/dC5leHBvcnRzPWU6d2luZG93JiYod2luZG93Lm1hcGJveGdsPXdpbmRvdy5tYXBib3hnbHx8e30sd2luZG93Lm1hcGJveGdsLnN1cHBvcnRlZD1lKTt2YXIgaT17fTtlLndlYkdMQ29udGV4dEF0dHJpYnV0ZXM9e2FudGlhbGlhczohMSxhbHBoYTohMCxzdGVuY2lsOiEwLGRlcHRoOiEwfTt9KSksaT17Y3JlYXRlOmZ1bmN0aW9uKGUsaSxvKXt2YXIgcj10LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiB2b2lkIDAhPT1pJiYoci5jbGFzc05hbWU9aSksbyYmby5hcHBlbmRDaGlsZChyKSxyfSxjcmVhdGVOUzpmdW5jdGlvbihlLGkpe3JldHVybiB0LndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZSxpKX19LG89dC53aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2Z1bmN0aW9uIHIodCl7aWYoIW8pcmV0dXJuIHRbMF07Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXWluIG8pcmV0dXJuIHRbZV07cmV0dXJuIHRbMF19dmFyIGEsbj1yKFsidXNlclNlbGVjdCIsIk1velVzZXJTZWxlY3QiLCJXZWJraXRVc2VyU2VsZWN0IiwibXNVc2VyU2VsZWN0Il0pO2kuZGlzYWJsZURyYWc9ZnVuY3Rpb24oKXtvJiZuJiYoYT1vW25dLG9bbl09Im5vbmUiKTt9LGkuZW5hYmxlRHJhZz1mdW5jdGlvbigpe28mJm4mJihvW25dPWEpO307dmFyIHM9cihbInRyYW5zZm9ybSIsIldlYmtpdFRyYW5zZm9ybSJdKTtpLnNldFRyYW5zZm9ybT1mdW5jdGlvbih0LGUpe3Quc3R5bGVbc109ZTt9O3ZhciBsPSExO3RyeXt2YXIgYz1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtsPSEwO319KTt0LndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixjLGMpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRlc3QiLGMsYyk7fWNhdGNoKHQpe2w9ITE7fWkuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdC5hZGRFdmVudExpc3RlbmVyKGUsaSwicGFzc2l2ZSJpbiBvJiZsP286by5jYXB0dXJlKTt9LGkucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsaSxvKXt2b2lkIDA9PT1vJiYobz17fSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsaSwicGFzc2l2ZSJpbiBvJiZsP286by5jYXB0dXJlKTt9O3ZhciB1PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIix1LCEwKTt9O2Z1bmN0aW9uIGgodCl7dmFyIGU9dC51c2VySW1hZ2U7cmV0dXJuICEhKGUmJmUucmVuZGVyJiZlLnJlbmRlcigpKSYmKHQuZGF0YS5yZXBsYWNlKG5ldyBVaW50OEFycmF5KGUuZGF0YS5idWZmZXIpKSwhMCl9aS5zdXBwcmVzc0NsaWNrPWZ1bmN0aW9uKCl7dC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLHUsITApLHQud2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLHUsITApO30pLDApO30saS5tb3VzZVBvcz1mdW5jdGlvbihlLGkpe3ZhciBvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj10LndpbmRvdy5Ub3VjaEV2ZW50JiZpIGluc3RhbmNlb2YgdC53aW5kb3cuVG91Y2hFdmVudD9pLnRvdWNoZXNbMF06aTtyZXR1cm4gbmV3IHQuUG9pbnQoci5jbGllbnRYLW8ubGVmdC1lLmNsaWVudExlZnQsci5jbGllbnRZLW8udG9wLWUuY2xpZW50VG9wKX0saS50b3VjaFBvcz1mdW5jdGlvbihlLGkpe2Zvcih2YXIgbz1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9W10sYT0idG91Y2hlbmQiPT09aS50eXBlP2kuY2hhbmdlZFRvdWNoZXM6aS50b3VjaGVzLG49MDtuPGEubGVuZ3RoO24rKylyLnB1c2gobmV3IHQuUG9pbnQoYVtuXS5jbGllbnRYLW8ubGVmdC1lLmNsaWVudExlZnQsYVtuXS5jbGllbnRZLW8udG9wLWUuY2xpZW50VG9wKSk7cmV0dXJuIHJ9LGkubW91c2VCdXR0b249ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQud2luZG93Lkluc3RhbGxUcmlnZ2VyJiYyPT09ZS5idXR0b24mJmUuY3RybEtleSYmdC53aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZigiTUFDIik+PTA/MDplLmJ1dHRvbn0saS5yZW1vdmU9ZnVuY3Rpb24odCl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7fTt2YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7ZS5jYWxsKHRoaXMpLHRoaXMuaW1hZ2VzPXt9LHRoaXMudXBkYXRlZEltYWdlcz17fSx0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZT17fSx0aGlzLmxvYWRlZD0hMSx0aGlzLnJlcXVlc3RvcnM9W10sdGhpcy5wYXR0ZXJucz17fSx0aGlzLmF0bGFzSW1hZ2U9bmV3IHQuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSksdGhpcy5kaXJ0eT0hMDt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2FkZWR9LGkucHJvdG90eXBlLnNldExvYWRlZD1mdW5jdGlvbih0KXtpZih0aGlzLmxvYWRlZCE9PXQmJih0aGlzLmxvYWRlZD10LHQpKXtmb3IodmFyIGU9MCxpPXRoaXMucmVxdWVzdG9ycztlPGkubGVuZ3RoO2UrPTEpe3ZhciBvPWlbZV07dGhpcy5fbm90aWZ5KG8uaWRzLG8uY2FsbGJhY2spO310aGlzLnJlcXVlc3RvcnM9W107fX0saS5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW1hZ2VzW3RdfSxpLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbih0LGUpe3RoaXMuX3ZhbGlkYXRlKHQsZSkmJih0aGlzLmltYWdlc1t0XT1lKTt9LGkucHJvdG90eXBlLl92YWxpZGF0ZT1mdW5jdGlvbihlLGkpe3ZhciBvPSEwO3JldHVybiB0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaS5zdHJldGNoWCxpLmRhdGEmJmkuZGF0YS53aWR0aCl8fCh0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ0ltYWdlICInK2UrJyIgaGFzIGludmFsaWQgInN0cmV0Y2hYIiB2YWx1ZScpKSksbz0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKGkuc3RyZXRjaFksaS5kYXRhJiZpLmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignSW1hZ2UgIicrZSsnIiBoYXMgaW52YWxpZCAic3RyZXRjaFkiIHZhbHVlJykpKSxvPSExKSx0aGlzLl92YWxpZGF0ZUNvbnRlbnQoaS5jb250ZW50LGkpfHwodGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCdJbWFnZSAiJytlKyciIGhhcyBpbnZhbGlkICJjb250ZW50IiB2YWx1ZScpKSksbz0hMSksb30saS5wcm90b3R5cGUuX3ZhbGlkYXRlU3RyZXRjaD1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiAhMDtmb3IodmFyIGk9MCxvPTAscj10O288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXTtpZihhWzBdPGl8fGFbMV08YVswXXx8ZTxhWzFdKXJldHVybiAhMTtpPWFbMV07fXJldHVybiAhMH0saS5wcm90b3R5cGUuX3ZhbGlkYXRlQ29udGVudD1mdW5jdGlvbih0LGUpe3JldHVybiAhKHQmJig0IT09dC5sZW5ndGh8fHRbMF08MHx8ZS5kYXRhLndpZHRoPHRbMF18fHRbMV08MHx8ZS5kYXRhLmhlaWdodDx0WzFdfHx0WzJdPDB8fGUuZGF0YS53aWR0aDx0WzJdfHx0WzNdPDB8fGUuZGF0YS5oZWlnaHQ8dFszXXx8dFsyXTx0WzBdfHx0WzNdPHRbMV0pKX0saS5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24odCxlKXtlLnZlcnNpb249dGhpcy5pbWFnZXNbdF0udmVyc2lvbisxLHRoaXMuaW1hZ2VzW3RdPWUsdGhpcy51cGRhdGVkSW1hZ2VzW3RdPSEwO30saS5wcm90b3R5cGUucmVtb3ZlSW1hZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbWFnZXNbdF07ZGVsZXRlIHRoaXMuaW1hZ2VzW3RdLGRlbGV0ZSB0aGlzLnBhdHRlcm5zW3RdLGUudXNlckltYWdlJiZlLnVzZXJJbWFnZS5vblJlbW92ZSYmZS51c2VySW1hZ2Uub25SZW1vdmUoKTt9LGkucHJvdG90eXBlLmxpc3RJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5pbWFnZXMpfSxpLnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24odCxlKXt2YXIgaT0hMDtpZighdGhpcy5pc0xvYWRlZCgpKWZvcih2YXIgbz0wLHI9dDtvPHIubGVuZ3RoO28rPTEpdGhpcy5pbWFnZXNbcltvXV18fChpPSExKTt0aGlzLmlzTG9hZGVkKCl8fGk/dGhpcy5fbm90aWZ5KHQsZSk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczp0LGNhbGxiYWNrOmV9KTt9LGkucHJvdG90eXBlLl9ub3RpZnk9ZnVuY3Rpb24oZSxpKXtmb3IodmFyIG89e30scj0wLGE9ZTtyPGEubGVuZ3RoO3IrPTEpe3ZhciBuPWFbcl07dGhpcy5pbWFnZXNbbl18fHRoaXMuZmlyZShuZXcgdC5FdmVudCgic3R5bGVpbWFnZW1pc3NpbmciLHtpZDpufSkpO3ZhciBzPXRoaXMuaW1hZ2VzW25dO3M/b1tuXT17ZGF0YTpzLmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOnMucGl4ZWxSYXRpbyxzZGY6cy5zZGYsdmVyc2lvbjpzLnZlcnNpb24sc3RyZXRjaFg6cy5zdHJldGNoWCxzdHJldGNoWTpzLnN0cmV0Y2hZLGNvbnRlbnQ6cy5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4ocy51c2VySW1hZ2UmJnMudXNlckltYWdlLnJlbmRlcil9OnQud2Fybk9uY2UoJ0ltYWdlICInK24rJyIgY291bGQgbm90IGJlIGxvYWRlZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBhZGRlZCB0aGUgaW1hZ2Ugd2l0aCBtYXAuYWRkSW1hZ2UoKSBvciBhICJzcHJpdGUiIHByb3BlcnR5IGluIHlvdXIgc3R5bGUuIFlvdSBjYW4gcHJvdmlkZSBtaXNzaW5nIGltYWdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZSAic3R5bGVpbWFnZW1pc3NpbmciIG1hcCBldmVudC4nKTt9aShudWxsLG8pO30saS5wcm90b3R5cGUuZ2V0UGl4ZWxTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hdGxhc0ltYWdlO3JldHVybiB7d2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fSxpLnByb3RvdHlwZS5nZXRQYXR0ZXJuPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucGF0dGVybnNbZV0sbz10aGlzLmdldEltYWdlKGUpO2lmKCFvKXJldHVybiBudWxsO2lmKGkmJmkucG9zaXRpb24udmVyc2lvbj09PW8udmVyc2lvbilyZXR1cm4gaS5wb3NpdGlvbjtpZihpKWkucG9zaXRpb24udmVyc2lvbj1vLnZlcnNpb247ZWxzZXt2YXIgcj17dzpvLmRhdGEud2lkdGgrMixoOm8uZGF0YS5oZWlnaHQrMix4OjAseTowfSxhPW5ldyB0LkltYWdlUG9zaXRpb24ocixvKTt0aGlzLnBhdHRlcm5zW2VdPXtiaW46cixwb3NpdGlvbjphfTt9cmV0dXJuIHRoaXMuX3VwZGF0ZVBhdHRlcm5BdGxhcygpLHRoaXMucGF0dGVybnNbZV0ucG9zaXRpb259LGkucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSl7dmFyIGk9ZS5nbDt0aGlzLmF0bGFzVGV4dHVyZT90aGlzLmRpcnR5JiYodGhpcy5hdGxhc1RleHR1cmUudXBkYXRlKHRoaXMuYXRsYXNJbWFnZSksdGhpcy5kaXJ0eT0hMSk6dGhpcy5hdGxhc1RleHR1cmU9bmV3IHQuVGV4dHVyZShlLHRoaXMuYXRsYXNJbWFnZSxpLlJHQkEpLHRoaXMuYXRsYXNUZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKTt9LGkucHJvdG90eXBlLl91cGRhdGVQYXR0ZXJuQXRsYXM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtmb3IodmFyIGkgaW4gdGhpcy5wYXR0ZXJucyllLnB1c2godGhpcy5wYXR0ZXJuc1tpXS5iaW4pO3ZhciBvPXQucG90cGFjayhlKSxyPW8udyxhPW8uaCxuPXRoaXMuYXRsYXNJbWFnZTtmb3IodmFyIHMgaW4gbi5yZXNpemUoe3dpZHRoOnJ8fDEsaGVpZ2h0OmF8fDF9KSx0aGlzLnBhdHRlcm5zKXt2YXIgbD10aGlzLnBhdHRlcm5zW3NdLmJpbixjPWwueCsxLHU9bC55KzEsaD10aGlzLmltYWdlc1tzXS5kYXRhLHA9aC53aWR0aCxkPWguaGVpZ2h0O3QuUkdCQUltYWdlLmNvcHkoaCxuLHt4OjAseTowfSx7eDpjLHk6dX0se3dpZHRoOnAsaGVpZ2h0OmR9KSx0LlJHQkFJbWFnZS5jb3B5KGgsbix7eDowLHk6ZC0xfSx7eDpjLHk6dS0xfSx7d2lkdGg6cCxoZWlnaHQ6MX0pLHQuUkdCQUltYWdlLmNvcHkoaCxuLHt4OjAseTowfSx7eDpjLHk6dStkfSx7d2lkdGg6cCxoZWlnaHQ6MX0pLHQuUkdCQUltYWdlLmNvcHkoaCxuLHt4OnAtMSx5OjB9LHt4OmMtMSx5OnV9LHt3aWR0aDoxLGhlaWdodDpkfSksdC5SR0JBSW1hZ2UuY29weShoLG4se3g6MCx5OjB9LHt4OmMrcCx5OnV9LHt3aWR0aDoxLGhlaWdodDpkfSk7fXRoaXMuZGlydHk9ITA7fSxpLnByb3RvdHlwZS5iZWdpbkZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWU9e307fSxpLnByb3RvdHlwZS5kaXNwYXRjaFJlbmRlckNhbGxiYWNrcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXQ7ZTxpLmxlbmd0aDtlKz0xKXt2YXIgbz1pW2VdO2lmKCF0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVtvXSl7dGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbb109ITA7dmFyIHI9dGhpcy5pbWFnZXNbb107aChyKSYmdGhpcy51cGRhdGVJbWFnZShvLHIpO319fSxpfSh0LkV2ZW50ZWQpLGQ9bSxfPW0sZj0xZTIwO2Z1bmN0aW9uIG0odCxlLGksbyxyLGEpe3RoaXMuZm9udFNpemU9dHx8MjQsdGhpcy5idWZmZXI9dm9pZCAwPT09ZT8zOmUsdGhpcy5jdXRvZmY9b3x8LjI1LHRoaXMuZm9udEZhbWlseT1yfHwic2Fucy1zZXJpZiIsdGhpcy5mb250V2VpZ2h0PWF8fCJub3JtYWwiLHRoaXMucmFkaXVzPWl8fDg7dmFyIG49dGhpcy5zaXplPXRoaXMuZm9udFNpemUrMip0aGlzLmJ1ZmZlcjt0aGlzLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0aGlzLmNhbnZhcy53aWR0aD10aGlzLmNhbnZhcy5oZWlnaHQ9bix0aGlzLmN0eD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpLHRoaXMuY3R4LmZvbnQ9dGhpcy5mb250V2VpZ2h0KyIgIit0aGlzLmZvbnRTaXplKyJweCAiK3RoaXMuZm9udEZhbWlseSx0aGlzLmN0eC50ZXh0QmFzZWxpbmU9Im1pZGRsZSIsdGhpcy5jdHguZmlsbFN0eWxlPSJibGFjayIsdGhpcy5ncmlkT3V0ZXI9bmV3IEZsb2F0NjRBcnJheShuKm4pLHRoaXMuZ3JpZElubmVyPW5ldyBGbG9hdDY0QXJyYXkobipuKSx0aGlzLmY9bmV3IEZsb2F0NjRBcnJheShuKSx0aGlzLmQ9bmV3IEZsb2F0NjRBcnJheShuKSx0aGlzLno9bmV3IEZsb2F0NjRBcnJheShuKzEpLHRoaXMudj1uZXcgSW50MTZBcnJheShuKSx0aGlzLm1pZGRsZT1NYXRoLnJvdW5kKG4vMioobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJHZWNrby8iKT49MD8xLjI6MSkpO31mdW5jdGlvbiBnKHQsZSxpLG8scixhLG4pe2Zvcih2YXIgcz0wO3M8ZTtzKyspe2Zvcih2YXIgbD0wO2w8aTtsKyspb1tsXT10W2wqZStzXTtmb3IodihvLHIsYSxuLGkpLGw9MDtsPGk7bCsrKXRbbCplK3NdPXJbbF07fWZvcihsPTA7bDxpO2wrKyl7Zm9yKHM9MDtzPGU7cysrKW9bc109dFtsKmUrc107Zm9yKHYobyxyLGEsbixlKSxzPTA7czxlO3MrKyl0W2wqZStzXT1NYXRoLnNxcnQocltzXSk7fX1mdW5jdGlvbiB2KHQsZSxpLG8scil7aVswXT0wLG9bMF09LWYsb1sxXT0rZjtmb3IodmFyIGE9MSxuPTA7YTxyO2ErKyl7Zm9yKHZhciBzPSh0W2FdK2EqYS0odFtpW25dXStpW25dKmlbbl0pKS8oMiphLTIqaVtuXSk7czw9b1tuXTspcz0odFthXSthKmEtKHRbaVstLW5dXStpW25dKmlbbl0pKS8oMiphLTIqaVtuXSk7aVsrK25dPWEsb1tuXT1zLG9bbisxXT0rZjt9Zm9yKGE9MCxuPTA7YTxyO2ErKyl7Zm9yKDtvW24rMV08YTspbisrO2VbYV09KGEtaVtuXSkqKGEtaVtuXSkrdFtpW25dXTt9fW0ucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSx0aGlzLmN0eC5maWxsVGV4dCh0LHRoaXMuYnVmZmVyLHRoaXMubWlkZGxlKTtmb3IodmFyIGU9dGhpcy5jdHguZ2V0SW1hZ2VEYXRhKDAsMCx0aGlzLnNpemUsdGhpcy5zaXplKSxpPW5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUqdGhpcy5zaXplKSxvPTA7bzx0aGlzLnNpemUqdGhpcy5zaXplO28rKyl7dmFyIHI9ZS5kYXRhWzQqbyszXS8yNTU7dGhpcy5ncmlkT3V0ZXJbb109MT09PXI/MDowPT09cj9mOk1hdGgucG93KE1hdGgubWF4KDAsLjUtciksMiksdGhpcy5ncmlkSW5uZXJbb109MT09PXI/ZjowPT09cj8wOk1hdGgucG93KE1hdGgubWF4KDAsci0uNSksMik7fWZvcihnKHRoaXMuZ3JpZE91dGVyLHRoaXMuc2l6ZSx0aGlzLnNpemUsdGhpcy5mLHRoaXMuZCx0aGlzLnYsdGhpcy56KSxnKHRoaXMuZ3JpZElubmVyLHRoaXMuc2l6ZSx0aGlzLnNpemUsdGhpcy5mLHRoaXMuZCx0aGlzLnYsdGhpcy56KSxvPTA7bzx0aGlzLnNpemUqdGhpcy5zaXplO28rKylpW29dPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LE1hdGgucm91bmQoMjU1LTI1NSooKHRoaXMuZ3JpZE91dGVyW29dLXRoaXMuZ3JpZElubmVyW29dKS90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpKSk7cmV0dXJuIGl9LGQuZGVmYXVsdD1fO3ZhciB5PWZ1bmN0aW9uKHQsZSl7dGhpcy5yZXF1ZXN0TWFuYWdlcj10LHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWUsdGhpcy5lbnRyaWVzPXt9O307eS5wcm90b3R5cGUuc2V0VVJMPWZ1bmN0aW9uKHQpe3RoaXMudXJsPXQ7fSx5LnByb3RvdHlwZS5nZXRHbHlwaHM9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLHI9W107Zm9yKHZhciBhIGluIGUpZm9yKHZhciBuPTAscz1lW2FdO248cy5sZW5ndGg7bis9MSlyLnB1c2goe3N0YWNrOmEsaWQ6c1tuXX0pO3QuYXN5bmNBbGwociwoZnVuY3Rpb24odCxlKXt2YXIgaT10LnN0YWNrLHI9dC5pZCxhPW8uZW50cmllc1tpXTthfHwoYT1vLmVudHJpZXNbaV09e2dseXBoczp7fSxyZXF1ZXN0czp7fX0pO3ZhciBuPWEuZ2x5cGhzW3JdO2lmKHZvaWQgMD09PW4pe2lmKG49by5fdGlueVNERihhLGkscikpcmV0dXJuIGEuZ2x5cGhzW3JdPW4sdm9pZCBlKG51bGwse3N0YWNrOmksaWQ6cixnbHlwaDpufSk7dmFyIHM9TWF0aC5mbG9vcihyLzI1Nik7aWYoMjU2KnM+NjU1MzUpZShuZXcgRXJyb3IoImdseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWQiKSk7ZWxzZXt2YXIgbD1hLnJlcXVlc3RzW3NdO2x8fChsPWEucmVxdWVzdHNbc109W10seS5sb2FkR2x5cGhSYW5nZShpLHMsby51cmwsby5yZXF1ZXN0TWFuYWdlciwoZnVuY3Rpb24odCxlKXtpZihlKWZvcih2YXIgaSBpbiBlKW8uX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoK2kpfHwoYS5nbHlwaHNbK2ldPWVbK2ldKTtmb3IodmFyIHI9MCxuPWw7cjxuLmxlbmd0aDtyKz0xKSgwLG5bcl0pKHQsZSk7ZGVsZXRlIGEucmVxdWVzdHNbc107fSkpKSxsLnB1c2goKGZ1bmN0aW9uKHQsbyl7dD9lKHQpOm8mJmUobnVsbCx7c3RhY2s6aSxpZDpyLGdseXBoOm9bcl18fG51bGx9KTt9KSk7fX1lbHNlIGUobnVsbCx7c3RhY2s6aSxpZDpyLGdseXBoOm59KTt9KSwoZnVuY3Rpb24odCxlKXtpZih0KWkodCk7ZWxzZSBpZihlKXtmb3IodmFyIG89e30scj0wLGE9ZTtyPGEubGVuZ3RoO3IrPTEpe3ZhciBuPWFbcl0scz1uLnN0YWNrLGw9bi5pZCxjPW4uZ2x5cGg7KG9bc118fChvW3NdPXt9KSlbbF09YyYme2lkOmMuaWQsYml0bWFwOmMuYml0bWFwLmNsb25lKCksbWV0cmljczpjLm1ldHJpY3N9O31pKG51bGwsbyk7fX0pKTt9LHkucHJvdG90eXBlLl9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoPWZ1bmN0aW9uKGUpe3JldHVybiAhIXRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5JiYodC5pc0NoYXJbIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMiXShlKXx8dC5pc0NoYXJbIkhhbmd1bCBTeWxsYWJsZXMiXShlKXx8dC5pc0NoYXIuSGlyYWdhbmEoZSl8fHQuaXNDaGFyLkthdGFrYW5hKGUpKX0seS5wcm90b3R5cGUuX3RpbnlTREY9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5O2lmKHImJnRoaXMuX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgobykpe3ZhciBhPWUudGlueVNERjtpZighYSl7dmFyIG49IjQwMCI7L2JvbGQvaS50ZXN0KGkpP249IjkwMCI6L21lZGl1bS9pLnRlc3QoaSk/bj0iNTAwIjovbGlnaHQvaS50ZXN0KGkpJiYobj0iMjAwIiksYT1lLnRpbnlTREY9bmV3IHkuVGlueVNERigyNCwzLDgsLjI1LHIsbik7fXJldHVybiB7aWQ6byxiaXRtYXA6bmV3IHQuQWxwaGFJbWFnZSh7d2lkdGg6MzAsaGVpZ2h0OjMwfSxhLmRyYXcoU3RyaW5nLmZyb21DaGFyQ29kZShvKSkpLG1ldHJpY3M6e3dpZHRoOjI0LGhlaWdodDoyNCxsZWZ0OjAsdG9wOi04LGFkdmFuY2U6MjR9fX19LHkubG9hZEdseXBoUmFuZ2U9ZnVuY3Rpb24oZSxpLG8scixhKXt2YXIgbj0yNTYqaSxzPW4rMjU1LGw9ci50cmFuc2Zvcm1SZXF1ZXN0KHIubm9ybWFsaXplR2x5cGhzVVJMKG8pLnJlcGxhY2UoIntmb250c3RhY2t9IixlKS5yZXBsYWNlKCJ7cmFuZ2V9IixuKyItIitzKSx0LlJlc291cmNlVHlwZS5HbHlwaHMpO3QuZ2V0QXJyYXlCdWZmZXIobCwoZnVuY3Rpb24oZSxpKXtpZihlKWEoZSk7ZWxzZSBpZihpKXtmb3IodmFyIG89e30scj0wLG49dC5wYXJzZUdseXBoUEJGKGkpO3I8bi5sZW5ndGg7cis9MSl7dmFyIHM9bltyXTtvW3MuaWRdPXM7fWEobnVsbCxvKTt9fSkpO30seS5UaW55U0RGPWQ7dmFyIHg9ZnVuY3Rpb24oKXt0aGlzLnNwZWNpZmljYXRpb249dC5zdHlsZVNwZWMubGlnaHQucG9zaXRpb247fTt4LnByb3RvdHlwZS5wb3NzaWJseUV2YWx1YXRlPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oZS5leHByZXNzaW9uLmV2YWx1YXRlKGkpKX0seC5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB7eDp0Lm51bWJlcihlLngsaS54LG8pLHk6dC5udW1iZXIoZS55LGkueSxvKSx6OnQubnVtYmVyKGUueixpLnosbyl9fTt2YXIgYj1uZXcgdC5Qcm9wZXJ0aWVzKHthbmNob3I6bmV3IHQuRGF0YUNvbnN0YW50UHJvcGVydHkodC5zdHlsZVNwZWMubGlnaHQuYW5jaG9yKSxwb3NpdGlvbjpuZXcgeCxjb2xvcjpuZXcgdC5EYXRhQ29uc3RhbnRQcm9wZXJ0eSh0LnN0eWxlU3BlYy5saWdodC5jb2xvciksaW50ZW5zaXR5Om5ldyB0LkRhdGFDb25zdGFudFByb3BlcnR5KHQuc3R5bGVTcGVjLmxpZ2h0LmludGVuc2l0eSl9KSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoaSl7ZS5jYWxsKHRoaXMpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyB0LlRyYW5zaXRpb25hYmxlKGIpLHRoaXMuc2V0TGlnaHQoaSksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX0saS5wcm90b3R5cGUuc2V0TGlnaHQ9ZnVuY3Rpb24oZSxpKXtpZih2b2lkIDA9PT1pJiYoaT17fSksIXRoaXMuX3ZhbGlkYXRlKHQudmFsaWRhdGVMaWdodCxlLGkpKWZvcih2YXIgbyBpbiBlKXt2YXIgcj1lW29dO3QuZW5kc1dpdGgobywiLXRyYW5zaXRpb24iKT90aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uKG8uc2xpY2UoMCwtIi10cmFuc2l0aW9uIi5sZW5ndGgpLHIpOnRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKG8scik7fX0saS5wcm90b3R5cGUudXBkYXRlVHJhbnNpdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQodCx0aGlzLl90cmFuc2l0aW9uaW5nKTt9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9LGkucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKHQpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUodCk7fSxpLnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiAoIW98fCExIT09by52YWxpZGF0ZSkmJnQuZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcyxlLmNhbGwodC52YWxpZGF0ZVN0eWxlLHQuZXh0ZW5kKHt2YWx1ZTppLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KSkpfSxpfSh0LkV2ZW50ZWQpLEU9ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLm5leHRSb3c9MCx0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCksdGhpcy5kYXNoRW50cnk9e307fTtFLnByb3RvdHlwZS5nZXREYXNoPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5qb2luKCIsIikrU3RyaW5nKGUpO3JldHVybiB0aGlzLmRhc2hFbnRyeVtpXXx8KHRoaXMuZGFzaEVudHJ5W2ldPXRoaXMuYWRkRGFzaCh0LGUpKSx0aGlzLmRhc2hFbnRyeVtpXX0sRS5wcm90b3R5cGUuZ2V0RGFzaFJhbmdlcz1mdW5jdGlvbih0LGUsaSl7dmFyIG89W10scj10Lmxlbmd0aCUyPT0xPy10W3QubGVuZ3RoLTFdKmk6MCxhPXRbMF0qaSxuPSEwO28ucHVzaCh7bGVmdDpyLHJpZ2h0OmEsaXNEYXNoOm4semVyb0xlbmd0aDowPT09dFswXX0pO2Zvcih2YXIgcz10WzBdLGw9MTtsPHQubGVuZ3RoO2wrKyl7dmFyIGM9dFtsXTtvLnB1c2goe2xlZnQ6cj1zKmkscmlnaHQ6YT0ocys9YykqaSxpc0Rhc2g6bj0hbix6ZXJvTGVuZ3RoOjA9PT1jfSk7fXJldHVybiBvfSxFLnByb3RvdHlwZS5hZGRSb3VuZERhc2g9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz1lLzIscj0taTtyPD1pO3IrKylmb3IodmFyIGE9dGhpcy53aWR0aCoodGhpcy5uZXh0Um93K2krciksbj0wLHM9dFtuXSxsPTA7bDx0aGlzLndpZHRoO2wrKyl7bC9zLnJpZ2h0PjEmJihzPXRbKytuXSk7dmFyIGM9TWF0aC5hYnMobC1zLmxlZnQpLHU9TWF0aC5hYnMobC1zLnJpZ2h0KSxoPU1hdGgubWluKGMsdSkscD12b2lkIDAsZD1yL2kqKG8rMSk7aWYocy5pc0Rhc2gpe3ZhciBfPW8tTWF0aC5hYnMoZCk7cD1NYXRoLnNxcnQoaCpoK18qXyk7fWVsc2UgcD1vLU1hdGguc3FydChoKmgrZCpkKTt0aGlzLmRhdGFbYStsXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxwKzEyOCkpO319LEUucHJvdG90eXBlLmFkZFJlZ3VsYXJEYXNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgaT10W2VdLG89dFtlKzFdO2kuemVyb0xlbmd0aD90LnNwbGljZShlLDEpOm8mJm8uaXNEYXNoPT09aS5pc0Rhc2gmJihvLmxlZnQ9aS5sZWZ0LHQuc3BsaWNlKGUsMSkpO312YXIgcj10WzBdLGE9dFt0Lmxlbmd0aC0xXTtyLmlzRGFzaD09PWEuaXNEYXNoJiYoci5sZWZ0PWEubGVmdC10aGlzLndpZHRoLGEucmlnaHQ9ci5yaWdodCt0aGlzLndpZHRoKTtmb3IodmFyIG49dGhpcy53aWR0aCp0aGlzLm5leHRSb3cscz0wLGw9dFtzXSxjPTA7Yzx0aGlzLndpZHRoO2MrKyl7Yy9sLnJpZ2h0PjEmJihsPXRbKytzXSk7dmFyIHU9TWF0aC5hYnMoYy1sLmxlZnQpLGg9TWF0aC5hYnMoYy1sLnJpZ2h0KSxwPU1hdGgubWluKHUsaCk7dGhpcy5kYXRhW24rY109TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsKGwuaXNEYXNoP3A6LXApKzEyOCkpO319LEUucHJvdG90eXBlLmFkZERhc2g9ZnVuY3Rpb24oZSxpKXt2YXIgbz1pPzc6MCxyPTIqbysxO2lmKHRoaXMubmV4dFJvdytyPnRoaXMuaGVpZ2h0KXJldHVybiB0Lndhcm5PbmNlKCJMaW5lQXRsYXMgb3V0IG9mIHNwYWNlIiksbnVsbDtmb3IodmFyIGE9MCxuPTA7bjxlLmxlbmd0aDtuKyspYSs9ZVtuXTtpZigwIT09YSl7dmFyIHM9dGhpcy53aWR0aC9hLGw9dGhpcy5nZXREYXNoUmFuZ2VzKGUsdGhpcy53aWR0aCxzKTtpP3RoaXMuYWRkUm91bmREYXNoKGwscyxvKTp0aGlzLmFkZFJlZ3VsYXJEYXNoKGwpO312YXIgYz17eToodGhpcy5uZXh0Um93K28rLjUpL3RoaXMuaGVpZ2h0LGhlaWdodDoyKm8vdGhpcy5oZWlnaHQsd2lkdGg6YX07cmV0dXJuIHRoaXMubmV4dFJvdys9cix0aGlzLmRpcnR5PSEwLGN9LEUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5nbDt0aGlzLnRleHR1cmU/KGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksdGhpcy5kaXJ0eSYmKHRoaXMuZGlydHk9ITEsZS50ZXhTdWJJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LGUuQUxQSEEsZS5VTlNJR05FRF9CWVRFLHRoaXMuZGF0YSkpKToodGhpcy50ZXh0dXJlPWUuY3JlYXRlVGV4dHVyZSgpLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfV1JBUF9TLGUuUkVQRUFUKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9XUkFQX1QsZS5SRVBFQVQpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01JTl9GSUxURVIsZS5MSU5FQVIpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01BR19GSUxURVIsZS5MSU5FQVIpLGUudGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLkFMUEhBLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCxlLkFMUEhBLGUuVU5TSUdORURfQllURSx0aGlzLmRhdGEpKTt9O3ZhciBUPWZ1bmN0aW9uIGUoaSxvKXt0aGlzLndvcmtlclBvb2w9aSx0aGlzLmFjdG9ycz1bXSx0aGlzLmN1cnJlbnRBY3Rvcj0wLHRoaXMuaWQ9dC51bmlxdWVJZCgpO2Zvcih2YXIgcj10aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBuPW5ldyBlLkFjdG9yKHJbYV0sbyx0aGlzLmlkKTtuLm5hbWU9IldvcmtlciAiK2EsdGhpcy5hY3RvcnMucHVzaChuKTt9fTtmdW5jdGlvbiBJKGUsaSxvKXt2YXIgcj1mdW5jdGlvbihyLGEpe2lmKHIpcmV0dXJuIG8ocik7aWYoYSl7dmFyIG49dC5waWNrKHQuZXh0ZW5kKGEsZSksWyJ0aWxlcyIsIm1pbnpvb20iLCJtYXh6b29tIiwiYXR0cmlidXRpb24iLCJtYXBib3hfbG9nbyIsImJvdW5kcyIsInNjaGVtZSIsInRpbGVTaXplIiwiZW5jb2RpbmciXSk7YS52ZWN0b3JfbGF5ZXJzJiYobi52ZWN0b3JMYXllcnM9YS52ZWN0b3JfbGF5ZXJzLG4udmVjdG9yTGF5ZXJJZHM9bi52ZWN0b3JMYXllcnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKSksbi50aWxlcz1pLmNhbm9uaWNhbGl6ZVRpbGVzZXQobixlLnVybCksbyhudWxsLG4pO319O3JldHVybiBlLnVybD90LmdldEpTT04oaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU291cmNlVVJMKGUudXJsKSx0LlJlc291cmNlVHlwZS5Tb3VyY2UpLHIpOnQuYnJvd3Nlci5mcmFtZSgoZnVuY3Rpb24oKXtyZXR1cm4gcihudWxsLGUpfSkpfVQucHJvdG90eXBlLmJyb2FkY2FzdD1mdW5jdGlvbihlLGksbyl7dC5hc3luY0FsbCh0aGlzLmFjdG9ycywoZnVuY3Rpb24odCxvKXt0LnNlbmQoZSxpLG8pO30pLG89b3x8ZnVuY3Rpb24oKXt9KTt9LFQucHJvdG90eXBlLmdldEFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudEFjdG9yPSh0aGlzLmN1cnJlbnRBY3RvcisxKSV0aGlzLmFjdG9ycy5sZW5ndGgsdGhpcy5hY3RvcnNbdGhpcy5jdXJyZW50QWN0b3JdfSxULnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmFjdG9ycy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnJlbW92ZSgpO30pKSx0aGlzLmFjdG9ycz1bXSx0aGlzLndvcmtlclBvb2wucmVsZWFzZSh0aGlzLmlkKTt9LFQuQWN0b3I9dC5BY3Rvcjt2YXIgQz1mdW5jdGlvbihlLGksbyl7dGhpcy5ib3VuZHM9dC5MbmdMYXRCb3VuZHMuY29udmVydCh0aGlzLnZhbGlkYXRlQm91bmRzKGUpKSx0aGlzLm1pbnpvb209aXx8MCx0aGlzLm1heHpvb209b3x8MjQ7fTtDLnByb3RvdHlwZS52YWxpZGF0ZUJvdW5kcz1mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmND09PXQubGVuZ3RoP1tNYXRoLm1heCgtMTgwLHRbMF0pLE1hdGgubWF4KC05MCx0WzFdKSxNYXRoLm1pbigxODAsdFsyXSksTWF0aC5taW4oOTAsdFszXSldOlstMTgwLC05MCwxODAsOTBdfSxDLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXt2YXIgaT1NYXRoLnBvdygyLGUueiksbz1NYXRoLmZsb29yKHQubWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRXZXN0KCkpKmkpLHI9TWF0aC5mbG9vcih0Lm1lcmNhdG9yWWZyb21MYXQodGhpcy5ib3VuZHMuZ2V0Tm9ydGgoKSkqaSksYT1NYXRoLmNlaWwodC5tZXJjYXRvclhmcm9tTG5nKHRoaXMuYm91bmRzLmdldEVhc3QoKSkqaSksbj1NYXRoLmNlaWwodC5tZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldFNvdXRoKCkpKmkpO3JldHVybiBlLng+PW8mJmUueDxhJiZlLnk+PXImJmUueTxufTt2YXIgUz1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbyxyLGEpe2lmKGUuY2FsbCh0aGlzKSx0aGlzLmlkPWksdGhpcy5kaXNwYXRjaGVyPXIsdGhpcy50eXBlPSJ2ZWN0b3IiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnNjaGVtZT0ieHl6Iix0aGlzLnRpbGVTaXplPTUxMix0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsdC5leHRlbmQodGhpcyx0LnBpY2sobyxbInVybCIsInNjaGVtZSIsInRpbGVTaXplIiwicHJvbW90ZUlkIl0pKSx0aGlzLl9vcHRpb25zPXQuZXh0ZW5kKHt0eXBlOiJ2ZWN0b3IifSxvKSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9by5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsNTEyIT09dGhpcy50aWxlU2l6ZSl0aHJvdyBuZXcgRXJyb3IoInZlY3RvciB0aWxlIHNvdXJjZXMgbXVzdCBoYXZlIGEgdGlsZVNpemUgb2YgNTEyIik7dGhpcy5zZXRFdmVudGVkUGFyZW50KGEpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse2RhdGFUeXBlOiJzb3VyY2UifSkpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1JKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLChmdW5jdGlvbihpLG8pe2UuX3RpbGVKU09OUmVxdWVzdD1udWxsLGUuX2xvYWRlZD0hMCxpP2UuZmlyZShuZXcgdC5FcnJvckV2ZW50KGkpKTpvJiYodC5leHRlbmQoZSxvKSxvLmJvdW5kcyYmKGUudGlsZUJvdW5kcz1uZXcgQyhvLmJvdW5kcyxlLm1pbnpvb20sZS5tYXh6b29tKSksdC5wb3N0VHVybnN0aWxlRXZlbnQoby50aWxlcyxlLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSx0LnBvc3RNYXBMb2FkRXZlbnQoby50aWxlcyxlLm1hcC5fZ2V0TWFwSWQoKSxlLm1hcC5fcmVxdWVzdE1hbmFnZXIuX3NrdVRva2VuLGUubWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4pLGUuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJtZXRhZGF0YSJ9KSksZS5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InNvdXJjZSIsc291cmNlRGF0YVR5cGU6ImNvbnRlbnQifSkpKTt9KSk7fSxpLnByb3RvdHlwZS5sb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGVkfSxpLnByb3RvdHlwZS5oYXNUaWxlPWZ1bmN0aW9uKHQpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnModC5jYW5vbmljYWwpfSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcD10LHRoaXMubG9hZCgpO30saS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl90aWxlSlNPTlJlcXVlc3QmJih0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwpO30saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZXh0ZW5kKHt9LHRoaXMuX29wdGlvbnMpfSxpLnByb3RvdHlwZS5sb2FkVGlsZT1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSkpLHI9e3JlcXVlc3Q6dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3Qobyx0LlJlc291cmNlVHlwZS5UaWxlKSx1aWQ6ZS51aWQsdGlsZUlEOmUudGlsZUlELHpvb206ZS50aWxlSUQub3ZlcnNjYWxlZFosdGlsZVNpemU6dGhpcy50aWxlU2l6ZSplLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZCxwaXhlbFJhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkfTtmdW5jdGlvbiBhKG8scil7cmV0dXJuIGRlbGV0ZSBlLnJlcXVlc3QsZS5hYm9ydGVkP2kobnVsbCk6byYmNDA0IT09by5zdGF0dXM/aShvKToociYmci5yZXNvdXJjZVRpbWluZyYmKGUucmVzb3VyY2VUaW1pbmc9ci5yZXNvdXJjZVRpbWluZyksdGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnImJmUuc2V0RXhwaXJ5RGF0YShyKSxlLmxvYWRWZWN0b3JEYXRhKHIsdGhpcy5tYXAucGFpbnRlciksdC5jYWNoZUVudHJ5UG9zc2libHlBZGRlZCh0aGlzLmRpc3BhdGNoZXIpLGkobnVsbCksdm9pZChlLnJlbG9hZENhbGxiYWNrJiYodGhpcy5sb2FkVGlsZShlLGUucmVsb2FkQ2FsbGJhY2spLGUucmVsb2FkQ2FsbGJhY2s9bnVsbCkpKX1yLnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyxlLmFjdG9yJiYiZXhwaXJlZCIhPT1lLnN0YXRlPyJsb2FkaW5nIj09PWUuc3RhdGU/ZS5yZWxvYWRDYWxsYmFjaz1pOmUucmVxdWVzdD1lLmFjdG9yLnNlbmQoInJlbG9hZFRpbGUiLHIsYS5iaW5kKHRoaXMpKTooZS5hY3Rvcj10aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSxlLnJlcXVlc3Q9ZS5hY3Rvci5zZW5kKCJsb2FkVGlsZSIscixhLmJpbmQodGhpcykpKTt9LGkucHJvdG90eXBlLmFib3J0VGlsZT1mdW5jdGlvbih0KXt0LnJlcXVlc3QmJih0LnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIHQucmVxdWVzdCksdC5hY3RvciYmdC5hY3Rvci5zZW5kKCJhYm9ydFRpbGUiLHt1aWQ6dC51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9LHZvaWQgMCk7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQpe3QudW5sb2FkVmVjdG9yRGF0YSgpLHQuYWN0b3ImJnQuYWN0b3Iuc2VuZCgicmVtb3ZlVGlsZSIse3VpZDp0LnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0sdm9pZCAwKTt9LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksUD1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbyxyLGEpe2UuY2FsbCh0aGlzKSx0aGlzLmlkPWksdGhpcy5kaXNwYXRjaGVyPXIsdGhpcy5zZXRFdmVudGVkUGFyZW50KGEpLHRoaXMudHlwZT0icmFzdGVyIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5zY2hlbWU9Inh5eiIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9dC5leHRlbmQoe3R5cGU6InJhc3RlciJ9LG8pLHQuZXh0ZW5kKHRoaXMsdC5waWNrKG8sWyJ1cmwiLCJzY2hlbWUiLCJ0aWxlU2l6ZSJdKSk7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2xvYWRlZD0hMSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InNvdXJjZSJ9KSksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PUkodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsKGZ1bmN0aW9uKGksbyl7ZS5fdGlsZUpTT05SZXF1ZXN0PW51bGwsZS5fbG9hZGVkPSEwLGk/ZS5maXJlKG5ldyB0LkVycm9yRXZlbnQoaSkpOm8mJih0LmV4dGVuZChlLG8pLG8uYm91bmRzJiYoZS50aWxlQm91bmRzPW5ldyBDKG8uYm91bmRzLGUubWluem9vbSxlLm1heHpvb20pKSx0LnBvc3RUdXJuc3RpbGVFdmVudChvLnRpbGVzKSx0LnBvc3RNYXBMb2FkRXZlbnQoby50aWxlcyxlLm1hcC5fZ2V0TWFwSWQoKSxlLm1hcC5fcmVxdWVzdE1hbmFnZXIuX3NrdVRva2VuKSxlLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic291cmNlIixzb3VyY2VEYXRhVHlwZToibWV0YWRhdGEifSkpLGUuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJjb250ZW50In0pKSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fdGlsZUpTT05SZXF1ZXN0JiYodGhpcy5fdGlsZUpTT05SZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsKTt9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX0saS5wcm90b3R5cGUuaGFzVGlsZT1mdW5jdGlvbih0KXtyZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHQuY2Fub25pY2FsKX0saS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLHI9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwoZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSx0aGlzLnRpbGVTaXplKTtlLnJlcXVlc3Q9dC5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChyLHQuUmVzb3VyY2VUeXBlLlRpbGUpLChmdW5jdGlvbihyLGEpe2lmKGRlbGV0ZSBlLnJlcXVlc3QsZS5hYm9ydGVkKWUuc3RhdGU9InVubG9hZGVkIixpKG51bGwpO2Vsc2UgaWYocillLnN0YXRlPSJlcnJvcmVkIixpKHIpO2Vsc2UgaWYoYSl7by5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJmUuc2V0RXhwaXJ5RGF0YShhKSxkZWxldGUgYS5jYWNoZUNvbnRyb2wsZGVsZXRlIGEuZXhwaXJlczt2YXIgbj1vLm1hcC5wYWludGVyLmNvbnRleHQscz1uLmdsO2UudGV4dHVyZT1vLm1hcC5wYWludGVyLmdldFRpbGVUZXh0dXJlKGEud2lkdGgpLGUudGV4dHVyZT9lLnRleHR1cmUudXBkYXRlKGEse3VzZU1pcG1hcDohMH0pOihlLnRleHR1cmU9bmV3IHQuVGV4dHVyZShuLGEscy5SR0JBLHt1c2VNaXBtYXA6ITB9KSxlLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0Uscy5MSU5FQVJfTUlQTUFQX05FQVJFU1QpLG4uZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiZzLnRleFBhcmFtZXRlcmYocy5URVhUVVJFXzJELG4uZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULG4uZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4KSksZS5zdGF0ZT0ibG9hZGVkIix0LmNhY2hlRW50cnlQb3NzaWJseUFkZGVkKG8uZGlzcGF0Y2hlciksaShudWxsKTt9fSkpO30saS5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKHQsZSl7dC5yZXF1ZXN0JiYodC5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSB0LnJlcXVlc3QpLGUoKTt9LGkucHJvdG90eXBlLnVubG9hZFRpbGU9ZnVuY3Rpb24odCxlKXt0LnRleHR1cmUmJnRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKHQudGV4dHVyZSksZSgpO30saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiAhMX0saX0odC5FdmVudGVkKSx6PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoaSxvLHIsYSl7ZS5jYWxsKHRoaXMsaSxvLHIsYSksdGhpcy50eXBlPSJyYXN0ZXItZGVtIix0aGlzLm1heHpvb209MjIsdGhpcy5fb3B0aW9ucz10LmV4dGVuZCh7dHlwZToicmFzdGVyLWRlbSJ9LG8pLHRoaXMuZW5jb2Rpbmc9by5lbmNvZGluZ3x8Im1hcGJveCI7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB7dHlwZToicmFzdGVyLWRlbSIsdXJsOnRoaXMudXJsLHRpbGVTaXplOnRoaXMudGlsZVNpemUsdGlsZXM6dGhpcy50aWxlcyxib3VuZHM6dGhpcy5ib3VuZHMsZW5jb2Rpbmc6dGhpcy5lbmNvZGluZ319LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwoZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSx0aGlzLnRpbGVTaXplKTtmdW5jdGlvbiByKHQsbyl7dCYmKGUuc3RhdGU9ImVycm9yZWQiLGkodCkpLG8mJihlLmRlbT1vLGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwLGUuc3RhdGU9ImxvYWRlZCIsaShudWxsKSk7fWUucmVxdWVzdD10LmdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sdC5SZXNvdXJjZVR5cGUuVGlsZSksZnVuY3Rpb24obyxhKXtpZihkZWxldGUgZS5yZXF1ZXN0LGUuYWJvcnRlZCllLnN0YXRlPSJ1bmxvYWRlZCIsaShudWxsKTtlbHNlIGlmKG8pZS5zdGF0ZT0iZXJyb3JlZCIsaShvKTtlbHNlIGlmKGEpe3RoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZlLnNldEV4cGlyeURhdGEoYSksZGVsZXRlIGEuY2FjaGVDb250cm9sLGRlbGV0ZSBhLmV4cGlyZXM7dmFyIG49dC53aW5kb3cuSW1hZ2VCaXRtYXAmJmEgaW5zdGFuY2VvZiB0LndpbmRvdy5JbWFnZUJpdG1hcCYmdC5vZmZzY3JlZW5DYW52YXNTdXBwb3J0ZWQoKT9hOnQuYnJvd3Nlci5nZXRJbWFnZURhdGEoYSwxKSxzPXt1aWQ6ZS51aWQsY29vcmQ6ZS50aWxlSUQsc291cmNlOnRoaXMuaWQscmF3SW1hZ2VEYXRhOm4sZW5jb2Rpbmc6dGhpcy5lbmNvZGluZ307ZS5hY3RvciYmImV4cGlyZWQiIT09ZS5zdGF0ZXx8KGUuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksZS5hY3Rvci5zZW5kKCJsb2FkREVNVGlsZSIscyxyLmJpbmQodGhpcykpKTt9fS5iaW5kKHRoaXMpKSxlLm5laWdoYm9yaW5nVGlsZXM9dGhpcy5fZ2V0TmVpZ2hib3JpbmdUaWxlcyhlLnRpbGVJRCk7fSxpLnByb3RvdHlwZS5fZ2V0TmVpZ2hib3JpbmdUaWxlcz1mdW5jdGlvbihlKXt2YXIgaT1lLmNhbm9uaWNhbCxvPU1hdGgucG93KDIsaS56KSxyPShpLngtMStvKSVvLGE9MD09PWkueD9lLndyYXAtMTplLndyYXAsbj0oaS54KzErbyklbyxzPWkueCsxPT09bz9lLndyYXArMTplLndyYXAsbD17fTtyZXR1cm4gbFtuZXcgdC5PdmVyc2NhbGVkVGlsZUlEKGUub3ZlcnNjYWxlZFosYSxpLnoscixpLnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLHMsaS56LG4saS55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxpLnk+MCYmKGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLGEsaS56LHIsaS55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLGUud3JhcCxpLnosaS54LGkueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixzLGkueixuLGkueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSksaS55KzE8byYmKGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLGEsaS56LHIsaS55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IHQuT3ZlcnNjYWxlZFRpbGVJRChlLm92ZXJzY2FsZWRaLGUud3JhcCxpLnosaS54LGkueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5vdmVyc2NhbGVkWixzLGkueixuLGkueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSksbH0saS5wcm90b3R5cGUudW5sb2FkVGlsZT1mdW5jdGlvbih0KXt0LmRlbVRleHR1cmUmJnRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKHQuZGVtVGV4dHVyZSksdC5mYm8mJih0LmZiby5kZXN0cm95KCksZGVsZXRlIHQuZmJvKSx0LmRlbSYmZGVsZXRlIHQuZGVtLGRlbGV0ZSB0Lm5laWdoYm9yaW5nVGlsZXMsdC5zdGF0ZT0idW5sb2FkZWQiLHQuYWN0b3ImJnQuYWN0b3Iuc2VuZCgicmVtb3ZlREVNVGlsZSIse3VpZDp0LnVpZCxzb3VyY2U6dGhpcy5pZH0pO30saX0oUCksTD1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbyxyLGEpe2UuY2FsbCh0aGlzKSx0aGlzLmlkPWksdGhpcy50eXBlPSJnZW9qc29uIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MTgsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5fcmVtb3ZlZD0hMSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5hY3Rvcj1yLmdldEFjdG9yKCksdGhpcy5zZXRFdmVudGVkUGFyZW50KGEpLHRoaXMuX2RhdGE9by5kYXRhLHRoaXMuX29wdGlvbnM9dC5leHRlbmQoe30sbyksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPW8uY29sbGVjdFJlc291cmNlVGltaW5nLHRoaXMuX3Jlc291cmNlVGltaW5nPVtdLHZvaWQgMCE9PW8ubWF4em9vbSYmKHRoaXMubWF4em9vbT1vLm1heHpvb20pLG8udHlwZSYmKHRoaXMudHlwZT1vLnR5cGUpLG8uYXR0cmlidXRpb24mJih0aGlzLmF0dHJpYnV0aW9uPW8uYXR0cmlidXRpb24pLHRoaXMucHJvbW90ZUlkPW8ucHJvbW90ZUlkO3ZhciBuPXQuRVhURU5UL3RoaXMudGlsZVNpemU7dGhpcy53b3JrZXJPcHRpb25zPXQuZXh0ZW5kKHtzb3VyY2U6dGhpcy5pZCxjbHVzdGVyOm8uY2x1c3Rlcnx8ITEsZ2VvanNvblZ0T3B0aW9uczp7YnVmZmVyOih2b2lkIDAhPT1vLmJ1ZmZlcj9vLmJ1ZmZlcjoxMjgpKm4sdG9sZXJhbmNlOih2b2lkIDAhPT1vLnRvbGVyYW5jZT9vLnRvbGVyYW5jZTouMzc1KSpuLGV4dGVudDp0LkVYVEVOVCxtYXhab29tOnRoaXMubWF4em9vbSxsaW5lTWV0cmljczpvLmxpbmVNZXRyaWNzfHwhMSxnZW5lcmF0ZUlkOm8uZ2VuZXJhdGVJZHx8ITF9LHN1cGVyY2x1c3Rlck9wdGlvbnM6e21heFpvb206dm9pZCAwIT09by5jbHVzdGVyTWF4Wm9vbT9NYXRoLm1pbihvLmNsdXN0ZXJNYXhab29tLHRoaXMubWF4em9vbS0xKTp0aGlzLm1heHpvb20tMSxleHRlbnQ6dC5FWFRFTlQscmFkaXVzOihvLmNsdXN0ZXJSYWRpdXN8fDUwKSpuLGxvZzohMSxnZW5lcmF0ZUlkOm8uZ2VuZXJhdGVJZHx8ITF9LGNsdXN0ZXJQcm9wZXJ0aWVzOm8uY2x1c3RlclByb3BlcnRpZXN9LG8ud29ya2VyT3B0aW9ucyk7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic291cmNlIn0pKSx0aGlzLl91cGRhdGVXb3JrZXJEYXRhKChmdW5jdGlvbihpKXtpZihpKWUuZmlyZShuZXcgdC5FcnJvckV2ZW50KGkpKTtlbHNle3ZhciBvPXtkYXRhVHlwZToic291cmNlIixzb3VyY2VEYXRhVHlwZToibWV0YWRhdGEifTtlLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcmJmUuX3Jlc291cmNlVGltaW5nJiZlLl9yZXNvdXJjZVRpbWluZy5sZW5ndGg+MCYmKG8ucmVzb3VyY2VUaW1pbmc9ZS5fcmVzb3VyY2VUaW1pbmcsZS5fcmVzb3VyY2VUaW1pbmc9W10pLGUuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIsbykpO319KSk7fSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcD10LHRoaXMubG9hZCgpO30saS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLl9kYXRhPWUsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse2RhdGFUeXBlOiJzb3VyY2UifSkpLHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKGZ1bmN0aW9uKGUpe2lmKGUpaS5maXJlKG5ldyB0LkVycm9yRXZlbnQoZSkpO2Vsc2V7dmFyIG89e2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJjb250ZW50In07aS5fY29sbGVjdFJlc291cmNlVGltaW5nJiZpLl9yZXNvdXJjZVRpbWluZyYmaS5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoPjAmJihvLnJlc291cmNlVGltaW5nPWkuX3Jlc291cmNlVGltaW5nLGkuX3Jlc291cmNlVGltaW5nPVtdKSxpLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLG8pKTt9fSkpLHRoaXN9LGkucHJvdG90eXBlLmdldENsdXN0ZXJFeHBhbnNpb25ab29tPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZCgiZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbSIse2NsdXN0ZXJJZDp0LHNvdXJjZTp0aGlzLmlkfSxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRDbHVzdGVyQ2hpbGRyZW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlbiIse2NsdXN0ZXJJZDp0LHNvdXJjZTp0aGlzLmlkfSxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRDbHVzdGVyTGVhdmVzPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlcyIse3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXJJZDp0LGxpbWl0OmUsb2Zmc2V0Oml9LG8pLHRoaXN9LGkucHJvdG90eXBlLl91cGRhdGVXb3JrZXJEYXRhPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5fbG9hZGVkPSExO3ZhciBvPXQuZXh0ZW5kKHt9LHRoaXMud29ya2VyT3B0aW9ucykscj10aGlzLl9kYXRhOyJzdHJpbmciPT10eXBlb2Ygcj8oby5yZXF1ZXN0PXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQuYnJvd3Nlci5yZXNvbHZlVVJMKHIpLHQuUmVzb3VyY2VUeXBlLlNvdXJjZSksby5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpOm8uZGF0YT1KU09OLnN0cmluZ2lmeShyKSx0aGlzLmFjdG9yLnNlbmQodGhpcy50eXBlKyIubG9hZERhdGEiLG8sKGZ1bmN0aW9uKHQscil7aS5fcmVtb3ZlZHx8ciYmci5hYmFuZG9uZWR8fChpLl9sb2FkZWQ9ITAsciYmci5yZXNvdXJjZVRpbWluZyYmci5yZXNvdXJjZVRpbWluZ1tpLmlkXSYmKGkuX3Jlc291cmNlVGltaW5nPXIucmVzb3VyY2VUaW1pbmdbaS5pZF0uc2xpY2UoMCkpLGkuYWN0b3Iuc2VuZChpLnR5cGUrIi5jb2FsZXNjZSIse3NvdXJjZTpvLnNvdXJjZX0sbnVsbCksZSh0KSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUubG9hZFRpbGU9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLHI9ZS5hY3Rvcj8icmVsb2FkVGlsZSI6ImxvYWRUaWxlIjtlLmFjdG9yPXRoaXMuYWN0b3IsZS5yZXF1ZXN0PXRoaXMuYWN0b3Iuc2VuZChyLHt0eXBlOnRoaXMudHlwZSx1aWQ6ZS51aWQsdGlsZUlEOmUudGlsZUlELHpvb206ZS50aWxlSUQub3ZlcnNjYWxlZFosbWF4Wm9vbTp0aGlzLm1heHpvb20sdGlsZVNpemU6dGhpcy50aWxlU2l6ZSxzb3VyY2U6dGhpcy5pZCxwaXhlbFJhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkfSwoZnVuY3Rpb24odCxhKXtyZXR1cm4gZGVsZXRlIGUucmVxdWVzdCxlLnVubG9hZFZlY3RvckRhdGEoKSxlLmFib3J0ZWQ/aShudWxsKTp0P2kodCk6KGUubG9hZFZlY3RvckRhdGEoYSxvLm1hcC5wYWludGVyLCJyZWxvYWRUaWxlIj09PXIpLGkobnVsbCkpfSkpO30saS5wcm90b3R5cGUuYWJvcnRUaWxlPWZ1bmN0aW9uKHQpe3QucmVxdWVzdCYmKHQucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgdC5yZXF1ZXN0KSx0LmFib3J0ZWQ9ITA7fSxpLnByb3RvdHlwZS51bmxvYWRUaWxlPWZ1bmN0aW9uKHQpe3QudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuYWN0b3Iuc2VuZCgicmVtb3ZlVGlsZSIse3VpZDp0LnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pO30saS5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVkPSEwLHRoaXMuYWN0b3Iuc2VuZCgicmVtb3ZlU291cmNlIix7dHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KTt9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zLHt0eXBlOnRoaXMudHlwZSxkYXRhOnRoaXMuX2RhdGF9KX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiAhMX0saX0odC5FdmVudGVkKSxNPXQuY3JlYXRlTGF5b3V0KFt7bmFtZToiYV9wb3MiLHR5cGU6IkludDE2Iixjb21wb25lbnRzOjJ9LHtuYW1lOiJhX3RleHR1cmVfcG9zIix0eXBlOiJJbnQxNiIsY29tcG9uZW50czoyfV0pLEQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSh0LGksbyxyKXtlLmNhbGwodGhpcyksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMuY29vcmRpbmF0ZXM9aS5jb29yZGluYXRlcyx0aGlzLnR5cGU9ImltYWdlIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMub3B0aW9ucz1pO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpczt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhbG9hZGluZyIse2RhdGFUeXBlOiJzb3VyY2UifSkpLHRoaXMudXJsPXRoaXMub3B0aW9ucy51cmwsdC5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0aGlzLnVybCx0LlJlc291cmNlVHlwZS5JbWFnZSksKGZ1bmN0aW9uKHIsYSl7by5fbG9hZGVkPSEwLHI/by5maXJlKG5ldyB0LkVycm9yRXZlbnQocikpOmEmJihvLmltYWdlPWEsZSYmKG8uY29vcmRpbmF0ZXM9ZSksaSYmaSgpLG8uX2ZpbmlzaExvYWRpbmcoKSk7fSkpO30saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH0saS5wcm90b3R5cGUudXBkYXRlSW1hZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5pbWFnZSYmdC51cmw/KHRoaXMub3B0aW9ucy51cmw9dC51cmwsdGhpcy5sb2FkKHQuY29vcmRpbmF0ZXMsKGZ1bmN0aW9uKCl7ZS50ZXh0dXJlPW51bGw7fSkpLHRoaXMpOnRoaXN9LGkucHJvdG90eXBlLl9maW5pc2hMb2FkaW5nPWZ1bmN0aW9uKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHNvdXJjZURhdGFUeXBlOiJtZXRhZGF0YSJ9KSkpO30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKTt9LGkucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7dGhpcy5jb29yZGluYXRlcz1lO3ZhciBvPWUubWFwKHQuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQpO3RoaXMudGlsZUlEPWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0xLzAsbz0xLzAscj0tMS8wLGE9LTEvMCxuPTAscz1lO248cy5sZW5ndGg7bis9MSl7dmFyIGw9c1tuXTtpPU1hdGgubWluKGksbC54KSxvPU1hdGgubWluKG8sbC55KSxyPU1hdGgubWF4KHIsbC54KSxhPU1hdGgubWF4KGEsbC55KTt9dmFyIGM9TWF0aC5tYXgoci1pLGEtbyksdT1NYXRoLm1heCgwLE1hdGguZmxvb3IoLU1hdGgubG9nKGMpL01hdGguTE4yKSksaD1NYXRoLnBvdygyLHUpO3JldHVybiBuZXcgdC5DYW5vbmljYWxUaWxlSUQodSxNYXRoLmZsb29yKChpK3IpLzIqaCksTWF0aC5mbG9vcigobythKS8yKmgpKX0obyksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56O3ZhciByPW8ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gaS50aWxlSUQuZ2V0VGlsZVBvaW50KHQpLl9yb3VuZCgpfSkpO3JldHVybiB0aGlzLl9ib3VuZHNBcnJheT1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDRpOCx0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayhyWzBdLngsclswXS55LDAsMCksdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2soclsxXS54LHJbMV0ueSx0LkVYVEVOVCwwKSx0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayhyWzNdLngsclszXS55LDAsdC5FWFRFTlQpLHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHJbMl0ueCxyWzJdLnksdC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMuYm91bmRzQnVmZmVyJiYodGhpcy5ib3VuZHNCdWZmZXIuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmJvdW5kc0J1ZmZlciksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InNvdXJjZSIsc291cmNlRGF0YVR5cGU6ImNvbnRlbnQifSkpLHRoaXN9LGkucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXtpZigwIT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoJiZ0aGlzLmltYWdlKXt2YXIgZT10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsaT1lLmdsO2Zvcih2YXIgbyBpbiB0aGlzLmJvdW5kc0J1ZmZlcnx8KHRoaXMuYm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuX2JvdW5kc0FycmF5LE0ubWVtYmVycykpLHRoaXMuYm91bmRzU2VnbWVudHN8fCh0aGlzLmJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpKSx0aGlzLnRleHR1cmV8fCh0aGlzLnRleHR1cmU9bmV3IHQuVGV4dHVyZShlLHRoaXMuaW1hZ2UsaS5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpKSx0aGlzLnRpbGVzKXt2YXIgcj10aGlzLnRpbGVzW29dOyJsb2FkZWQiIT09ci5zdGF0ZSYmKHIuc3RhdGU9ImxvYWRlZCIsci50ZXh0dXJlPXRoaXMudGV4dHVyZSk7fX19LGkucHJvdG90eXBlLmxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dGhpcy50aWxlSUQmJnRoaXMudGlsZUlELmVxdWFscyh0LnRpbGVJRC5jYW5vbmljYWwpPyh0aGlzLnRpbGVzW1N0cmluZyh0LnRpbGVJRC53cmFwKV09dCx0LmJ1Y2tldHM9e30sZShudWxsKSk6KHQuc3RhdGU9ImVycm9yZWQiLGUobnVsbCkpO30saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHt0eXBlOiJpbWFnZSIsdXJsOnRoaXMub3B0aW9ucy51cmwsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGl9KHQuRXZlbnRlZCksQT1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKHQsaSxvLHIpe2UuY2FsbCh0aGlzLHQsaSxvLHIpLHRoaXMucm91bmRab29tPSEwLHRoaXMudHlwZT0idmlkZW8iLHRoaXMub3B0aW9ucz1pO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2FkZWQ9ITE7dmFyIGk9dGhpcy5vcHRpb25zO3RoaXMudXJscz1bXTtmb3IodmFyIG89MCxyPWkudXJscztvPHIubGVuZ3RoO28rPTEpdGhpcy51cmxzLnB1c2godGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocltvXSx0LlJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7dC5nZXRWaWRlbyh0aGlzLnVybHMsKGZ1bmN0aW9uKGksbyl7ZS5fbG9hZGVkPSEwLGk/ZS5maXJlKG5ldyB0LkVycm9yRXZlbnQoaSkpOm8mJihlLnZpZGVvPW8sZS52aWRlby5sb29wPSEwLGUudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigicGxheWluZyIsKGZ1bmN0aW9uKCl7ZS5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksZS5tYXAmJmUudmlkZW8ucGxheSgpLGUuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO30saS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLnZpZGVvJiZ0aGlzLnZpZGVvLnBhdXNlKCk7fSxpLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy52aWRlbyYmdGhpcy52aWRlby5wbGF5KCk7fSxpLnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGUpe2lmKHRoaXMudmlkZW8pe3ZhciBpPXRoaXMudmlkZW8uc2Vla2FibGU7ZTxpLnN0YXJ0KDApfHxlPmkuZW5kKDApP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK3RoaXMuaWQsbnVsbCwiUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICIraS5zdGFydCgwKSsiIGFuZCAiK2kuZW5kKDApKyItc2Vjb25kIG1hcmsuIikpKTp0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWU7fX0saS5wcm90b3R5cGUuZ2V0VmlkZW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWRlb30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXB8fCh0aGlzLm1hcD10LHRoaXMubG9hZCgpLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpKSk7fSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7aWYoISgwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHx0aGlzLnZpZGVvLnJlYWR5U3RhdGU8Mikpe3ZhciBlPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxpPWUuZ2w7Zm9yKHZhciBvIGluIHRoaXMuYm91bmRzQnVmZmVyfHwodGhpcy5ib3VuZHNCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksTS5tZW1iZXJzKSksdGhpcy5ib3VuZHNTZWdtZW50c3x8KHRoaXMuYm91bmRzU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMikpLHRoaXMudGV4dHVyZT90aGlzLnZpZGVvLnBhdXNlZHx8KHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSksaS50ZXhTdWJJbWFnZTJEKGkuVEVYVFVSRV8yRCwwLDAsMCxpLlJHQkEsaS5VTlNJR05FRF9CWVRFLHRoaXMudmlkZW8pKToodGhpcy50ZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx0aGlzLnZpZGVvLGkuUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKSksdGhpcy50aWxlcyl7dmFyIHI9dGhpcy50aWxlc1tvXTsibG9hZGVkIiE9PXIuc3RhdGUmJihyLnN0YXRlPSJsb2FkZWQiLHIudGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6InZpZGVvIix1cmxzOnRoaXMudXJscyxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9LGl9KEQpLFI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scixhKXtlLmNhbGwodGhpcyxpLG8scixhKSxvLmNvb3JkaW5hdGVzP0FycmF5LmlzQXJyYXkoby5jb29yZGluYXRlcykmJjQ9PT1vLmNvb3JkaW5hdGVzLmxlbmd0aCYmIW8uY29vcmRpbmF0ZXMuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICFBcnJheS5pc0FycmF5KHQpfHwyIT09dC5sZW5ndGh8fHQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuICJudW1iZXIiIT10eXBlb2YgdH0pKX0pKXx8dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCciY29vcmRpbmF0ZXMiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK2ksbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAiY29vcmRpbmF0ZXMiJykpKSxvLmFuaW1hdGUmJiJib29sZWFuIiE9dHlwZW9mIG8uYW5pbWF0ZSYmdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCdvcHRpb25hbCAiYW5pbWF0ZSIgcHJvcGVydHkgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUnKSkpLG8uY2FudmFzPyJzdHJpbmciPT10eXBlb2Ygby5jYW52YXN8fG8uY2FudmFzIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnR8fHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyB0LlZhbGlkYXRpb25FcnJvcigic291cmNlcy4iK2ksbnVsbCwnImNhbnZhcyIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IHQuVmFsaWRhdGlvbkVycm9yKCJzb3VyY2VzLiIraSxudWxsLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJjYW52YXMiJykpKSx0aGlzLm9wdGlvbnM9byx0aGlzLmFuaW1hdGU9dm9pZCAwPT09by5hbmltYXRlfHxvLmFuaW1hdGU7fXJldHVybiBlJiYoaS5fX3Byb3RvX189ZSksKGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ/dGhpcy5vcHRpb25zLmNhbnZhczp0LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKSksdGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKT90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkNhbnZhcyBkaW1lbnNpb25zIGNhbm5vdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVyby4iKSkpOih0aGlzLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nPSEwLHRoaXMubWFwLnRyaWdnZXJSZXBhaW50KCk7fSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZyYmKHRoaXMucHJlcGFyZSgpLHRoaXMuX3BsYXlpbmc9ITEpO30sdGhpcy5fZmluaXNoTG9hZGluZygpKTt9LGkucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc30saS5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZSgpO30saS5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpe3ZhciBlPSExO2lmKHRoaXMuY2FudmFzLndpZHRoIT09dGhpcy53aWR0aCYmKHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsZT0hMCksdGhpcy5jYW52YXMuaGVpZ2h0IT09dGhpcy5oZWlnaHQmJih0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsZT0hMCksIXRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkmJjAhPT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpe3ZhciBpPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxvPWkuZ2w7Zm9yKHZhciByIGluIHRoaXMuYm91bmRzQnVmZmVyfHwodGhpcy5ib3VuZHNCdWZmZXI9aS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksTS5tZW1iZXJzKSksdGhpcy5ib3VuZHNTZWdtZW50c3x8KHRoaXMuYm91bmRzU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMikpLHRoaXMudGV4dHVyZT8oZXx8dGhpcy5fcGxheWluZykmJnRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMse3ByZW11bHRpcGx5OiEwfSk6dGhpcy50ZXh0dXJlPW5ldyB0LlRleHR1cmUoaSx0aGlzLmNhbnZhcyxvLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy50aWxlcyl7dmFyIGE9dGhpcy50aWxlc1tyXTsibG9hZGVkIiE9PWEuc3RhdGUmJihhLnN0YXRlPSJsb2FkZWQiLGEudGV4dHVyZT10aGlzLnRleHR1cmUpO319fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6ImNhbnZhcyIsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319LGkucHJvdG90eXBlLmhhc1RyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ30saS5wcm90b3R5cGUuX2hhc0ludmFsaWREaW1lbnNpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1bdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XTt0PGUubGVuZ3RoO3QrPTEpe3ZhciBpPWVbdF07aWYoaXNOYU4oaSl8fGk8PTApcmV0dXJuICEwfXJldHVybiAhMX0saX0oRCksaz17dmVjdG9yOlMscmFzdGVyOlAsInJhc3Rlci1kZW0iOnosZ2VvanNvbjpMLHZpZGVvOkEsaW1hZ2U6RCxjYW52YXM6Un0sQj1mdW5jdGlvbihlLGksbyxyKXt2YXIgYT1uZXcga1tpLnR5cGVdKGUsaSxvLHIpO2lmKGEuaWQhPT1lKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgU291cmNlIGlkIHRvIGJlICIrZSsiIGluc3RlYWQgb2YgIithLmlkKTtyZXR1cm4gdC5iaW5kQWxsKFsibG9hZCIsImFib3J0IiwidW5sb2FkIiwic2VyaWFsaXplIiwicHJlcGFyZSJdLGEpLGF9O2Z1bmN0aW9uIE8oZSxpKXt2YXIgbz10LmlkZW50aXR5KFtdKTtyZXR1cm4gdC50cmFuc2xhdGUobyxvLFsxLDEsMF0pLHQuc2NhbGUobyxvLFsuNSplLndpZHRoLC41KmUuaGVpZ2h0LDFdKSx0Lm11bHRpcGx5KG8sbyxlLmNhbGN1bGF0ZVBvc01hdHJpeChpLnRvVW53cmFwcGVkKCkpKX1mdW5jdGlvbiBGKHQsZSxpLG8scixhKXt2YXIgbj1mdW5jdGlvbih0LGUsaSl7aWYodClmb3IodmFyIG89MCxyPXQ7bzxyLmxlbmd0aDtvKz0xKXt2YXIgYT1lW3Jbb11dO2lmKGEmJmEuc291cmNlPT09aSYmImZpbGwtZXh0cnVzaW9uIj09PWEudHlwZSlyZXR1cm4gITB9ZWxzZSBmb3IodmFyIG4gaW4gZSl7dmFyIHM9ZVtuXTtpZihzLnNvdXJjZT09PWkmJiJmaWxsLWV4dHJ1c2lvbiI9PT1zLnR5cGUpcmV0dXJuICEwfXJldHVybiAhMX0ociYmci5sYXllcnMsZSx0LmlkKSxzPWEubWF4UGl0Y2hTY2FsZUZhY3RvcigpLGw9dC50aWxlc0luKG8scyxuKTtsLnNvcnQoVSk7Zm9yKHZhciBjPVtdLHU9MCxoPWw7dTxoLmxlbmd0aDt1Kz0xKXt2YXIgcD1oW3VdO2MucHVzaCh7d3JhcHBlZFRpbGVJRDpwLnRpbGVJRC53cmFwcGVkKCkua2V5LHF1ZXJ5UmVzdWx0czpwLnRpbGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUsaSx0Ll9zdGF0ZSxwLnF1ZXJ5R2VvbWV0cnkscC5jYW1lcmFRdWVyeUdlb21ldHJ5LHAuc2NhbGUscixhLHMsTyh0LnRyYW5zZm9ybSxwLnRpbGVJRCkpfSk7fXZhciBkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxpPXt9LG89MCxyPXQ7bzxyLmxlbmd0aDtvKz0xKXt2YXIgYT1yW29dLG49YS5xdWVyeVJlc3VsdHMscz1hLndyYXBwZWRUaWxlSUQsbD1pW3NdPWlbc118fHt9O2Zvcih2YXIgYyBpbiBuKWZvcih2YXIgdT1uW2NdLGg9bFtjXT1sW2NdfHx7fSxwPWVbY109ZVtjXXx8W10sZD0wLF89dTtkPF8ubGVuZ3RoO2QrPTEpe3ZhciBmPV9bZF07aFtmLmZlYXR1cmVJbmRleF18fChoW2YuZmVhdHVyZUluZGV4XT0hMCxwLnB1c2goZikpO319cmV0dXJuIGV9KGMpO2Zvcih2YXIgXyBpbiBkKWRbX10uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9ZS5mZWF0dXJlLG89dC5nZXRGZWF0dXJlU3RhdGUoaS5sYXllclsic291cmNlLWxheWVyIl0saS5pZCk7aS5zb3VyY2U9aS5sYXllci5zb3VyY2UsaS5sYXllclsic291cmNlLWxheWVyIl0mJihpLnNvdXJjZUxheWVyPWkubGF5ZXJbInNvdXJjZS1sYXllciJdKSxpLnN0YXRlPW87fSkpO3JldHVybiBkfWZ1bmN0aW9uIFUodCxlKXt2YXIgaT10LnRpbGVJRCxvPWUudGlsZUlEO3JldHVybiBpLm92ZXJzY2FsZWRaLW8ub3ZlcnNjYWxlZFp8fGkuY2Fub25pY2FsLnktby5jYW5vbmljYWwueXx8aS53cmFwLW8ud3JhcHx8aS5jYW5vbmljYWwueC1vLmNhbm9uaWNhbC54fXZhciBOPWZ1bmN0aW9uKHQsZSl7dGhpcy5tYXg9dCx0aGlzLm9uUmVtb3ZlPWUsdGhpcy5yZXNldCgpO307Ti5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5kYXRhKWZvcih2YXIgZT0wLGk9dGhpcy5kYXRhW3RdO2U8aS5sZW5ndGg7ZSs9MSl7dmFyIG89aVtlXTtvLnRpbWVvdXQmJmNsZWFyVGltZW91dChvLnRpbWVvdXQpLHRoaXMub25SZW1vdmUoby52YWx1ZSk7fXJldHVybiB0aGlzLmRhdGE9e30sdGhpcy5vcmRlcj1bXSx0aGlzfSxOLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMscj10LndyYXBwZWQoKS5rZXk7dm9pZCAwPT09dGhpcy5kYXRhW3JdJiYodGhpcy5kYXRhW3JdPVtdKTt2YXIgYT17dmFsdWU6ZSx0aW1lb3V0OnZvaWQgMH07aWYodm9pZCAwIT09aSYmKGEudGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe28ucmVtb3ZlKHQsYSk7fSksaSkpLHRoaXMuZGF0YVtyXS5wdXNoKGEpLHRoaXMub3JkZXIucHVzaChyKSx0aGlzLm9yZGVyLmxlbmd0aD50aGlzLm1heCl7dmFyIG49dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodGhpcy5vcmRlclswXSk7biYmdGhpcy5vblJlbW92ZShuKTt9cmV0dXJuIHRoaXN9LE4ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdC53cmFwcGVkKCkua2V5IGluIHRoaXMuZGF0YX0sTi5wcm90b3R5cGUuZ2V0QW5kUmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0LndyYXBwZWQoKS5rZXkpOm51bGx9LE4ucHJvdG90eXBlLl9nZXRBbmRSZW1vdmVCeUtleT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRhdGFbdF0uc2hpZnQoKTtyZXR1cm4gZS50aW1lb3V0JiZjbGVhclRpbWVvdXQoZS50aW1lb3V0KSwwPT09dGhpcy5kYXRhW3RdLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVt0XSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YodCksMSksZS52YWx1ZX0sTi5wcm90b3R5cGUuZ2V0QnlLZXk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhW3RdO3JldHVybiBlP2VbMF0udmFsdWU6bnVsbH0sTi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLmRhdGFbdC53cmFwcGVkKCkua2V5XVswXS52YWx1ZTpudWxsfSxOLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5oYXModCkpcmV0dXJuIHRoaXM7dmFyIGk9dC53cmFwcGVkKCkua2V5LG89dm9pZCAwPT09ZT8wOnRoaXMuZGF0YVtpXS5pbmRleE9mKGUpLHI9dGhpcy5kYXRhW2ldW29dO3JldHVybiB0aGlzLmRhdGFbaV0uc3BsaWNlKG8sMSksci50aW1lb3V0JiZjbGVhclRpbWVvdXQoci50aW1lb3V0KSwwPT09dGhpcy5kYXRhW2ldLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVtpXSx0aGlzLm9uUmVtb3ZlKHIudmFsdWUpLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihpKSwxKSx0aGlzfSxOLnByb3RvdHlwZS5zZXRNYXhTaXplPWZ1bmN0aW9uKHQpe2Zvcih0aGlzLm1heD10O3RoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4Oyl7dmFyIGU9dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodGhpcy5vcmRlclswXSk7ZSYmdGhpcy5vblJlbW92ZShlKTt9cmV0dXJuIHRoaXN9LE4ucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIGkgaW4gdGhpcy5kYXRhKWZvcih2YXIgbz0wLHI9dGhpcy5kYXRhW2ldO288ci5sZW5ndGg7bys9MSl7dmFyIGE9cltvXTt0KGEudmFsdWUpfHxlLnB1c2goYSk7fWZvcih2YXIgbj0wLHM9ZTtuPHMubGVuZ3RoO24rPTEpe3ZhciBsPXNbbl07dGhpcy5yZW1vdmUobC52YWx1ZS50aWxlSUQsbCk7fX07dmFyIFo9ZnVuY3Rpb24odCxlLGkpe3RoaXMuY29udGV4dD10O3ZhciBvPXQuZ2w7dGhpcy5idWZmZXI9by5jcmVhdGVCdWZmZXIoKSx0aGlzLmR5bmFtaWNEcmF3PUJvb2xlYW4oaSksdGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHQuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKSxvLmJ1ZmZlckRhdGEoby5FTEVNRU5UX0FSUkFZX0JVRkZFUixlLmFycmF5QnVmZmVyLHRoaXMuZHluYW1pY0RyYXc/by5EWU5BTUlDX0RSQVc6by5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljRHJhd3x8ZGVsZXRlIGUuYXJyYXlCdWZmZXI7fTtaLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fSxaLnByb3RvdHlwZS51cGRhdGVEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdGhpcy5iaW5kKCksZS5idWZmZXJTdWJEYXRhKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsMCx0LmFycmF5QnVmZmVyKTt9LFoucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fTt2YXIgcT17SW50ODoiQllURSIsVWludDg6IlVOU0lHTkVEX0JZVEUiLEludDE2OiJTSE9SVCIsVWludDE2OiJVTlNJR05FRF9TSE9SVCIsSW50MzI6IklOVCIsVWludDMyOiJVTlNJR05FRF9JTlQiLEZsb2F0MzI6IkZMT0FUIn0saj1mdW5jdGlvbih0LGUsaSxvKXt0aGlzLmxlbmd0aD1lLmxlbmd0aCx0aGlzLmF0dHJpYnV0ZXM9aSx0aGlzLml0ZW1TaXplPWUuYnl0ZXNQZXJFbGVtZW50LHRoaXMuZHluYW1pY0RyYXc9byx0aGlzLmNvbnRleHQ9dDt2YXIgcj10LmdsO3RoaXMuYnVmZmVyPXIuY3JlYXRlQnVmZmVyKCksdC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksci5idWZmZXJEYXRhKHIuQVJSQVlfQlVGRkVSLGUuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9yLkRZTkFNSUNfRFJBVzpyLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHxkZWxldGUgZS5hcnJheUJ1ZmZlcjt9O2oucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO30sai5wcm90b3R5cGUudXBkYXRlRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5iaW5kKCksZS5idWZmZXJTdWJEYXRhKGUuQVJSQVlfQlVGRkVSLDAsdC5hcnJheUJ1ZmZlcik7fSxqLnByb3RvdHlwZS5lbmFibGVBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO2krKyl7dmFyIG89ZS5hdHRyaWJ1dGVzW3RoaXMuYXR0cmlidXRlc1tpXS5uYW1lXTt2b2lkIDAhPT1vJiZ0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG8pO319LGoucHJvdG90eXBlLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89MDtvPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7bysrKXt2YXIgcj10aGlzLmF0dHJpYnV0ZXNbb10sYT1lLmF0dHJpYnV0ZXNbci5uYW1lXTt2b2lkIDAhPT1hJiZ0LnZlcnRleEF0dHJpYlBvaW50ZXIoYSxyLmNvbXBvbmVudHMsdFtxW3IudHlwZV1dLCExLHRoaXMuaXRlbVNpemUsci5vZmZzZXQrdGhpcy5pdGVtU2l6ZSooaXx8MCkpO319LGoucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fTt2YXIgVj1mdW5jdGlvbih0KXt0aGlzLmdsPXQuZ2wsdGhpcy5kZWZhdWx0PXRoaXMuZ2V0RGVmYXVsdCgpLHRoaXMuY3VycmVudD10aGlzLmRlZmF1bHQsdGhpcy5kaXJ0eT0hMTt9O1YucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LFYucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt9LFYucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0fSxWLnByb3RvdHlwZS5zZXREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5zZXQodGhpcy5kZWZhdWx0KTt9O3ZhciBHPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0LkNvbG9yLnRyYW5zcGFyZW50fSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXJyZW50Oyh0LnIhPT1lLnJ8fHQuZyE9PWUuZ3x8dC5iIT09ZS5ifHx0LmEhPT1lLmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckNvbG9yKHQucix0LmcsdC5iLHQuYSksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxpfShWKSxXPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAxfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckRlcHRoKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0oViksWD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJTdGVuY2lsKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0oViksSD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gWyEwLCEwLCEwLCEwXX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDsodFswXSE9PWVbMF18fHRbMV0hPT1lWzFdfHx0WzJdIT09ZVsyXXx8dFszXSE9PWVbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jb2xvck1hc2sodFswXSx0WzFdLHRbMl0sdFszXSksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShWKSxLPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAhMH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhNYXNrKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0oViksWT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gMjU1fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsTWFzayh0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KFYpLEo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHtmdW5jOnRoaXMuZ2wuQUxXQVlTLHJlZjowLG1hc2s6MjU1fX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDsodC5mdW5jIT09ZS5mdW5jfHx0LnJlZiE9PWUucmVmfHx0Lm1hc2shPT1lLm1hc2t8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsRnVuYyh0LmZ1bmMsdC5yZWYsdC5tYXNrKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KFYpLFE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDtyZXR1cm4gW3QuS0VFUCx0LktFRVAsdC5LRUVQXX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDsodFswXSE9PWVbMF18fHRbMV0hPT1lWzFdfHx0WzJdIT09ZVsyXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxPcCh0WzBdLHRbMV0sdFsyXSksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShWKSwkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAhMX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7dD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KFYpLHR0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBbMCwxXX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3VycmVudDsodFswXSE9PWVbMF18fHRbMV0hPT1lWzFdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhSYW5nZSh0WzBdLHRbMV0pLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0oViksZXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDt0P2UuZW5hYmxlKGUuREVQVEhfVEVTVCk6ZS5kaXNhYmxlKGUuREVQVEhfVEVTVCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShWKSxpdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5MRVNTfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aEZ1bmModCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShWKSxvdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO3Q/ZS5lbmFibGUoZS5CTEVORCk6ZS5kaXNhYmxlKGUuQkxFTkQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0oVikscnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbDtyZXR1cm4gW3QuT05FLHQuWkVST119LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7KHRbMF0hPT1lWzBdfHx0WzFdIT09ZVsxXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRnVuYyh0WzBdLHRbMV0pLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0oViksYXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuQ29sb3IudHJhbnNwYXJlbnR9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7KHQuciE9PWUucnx8dC5nIT09ZS5nfHx0LmIhPT1lLmJ8fHQuYSE9PWUuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kQ29sb3IodC5yLHQuZyx0LmIsdC5hKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGl9KFYpLG50PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdsLkZVTkNfQUREfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEVxdWF0aW9uKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0oViksc3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuICExfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDt0P2UuZW5hYmxlKGUuQ1VMTF9GQUNFKTplLmRpc2FibGUoZS5DVUxMX0ZBQ0UpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0oViksbHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuQkFDS30sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpeyh0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY3VsbEZhY2UodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShWKSxjdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nbC5DQ1d9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmZyb250RmFjZSh0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExKTt9LGV9KFYpLHV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7KHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC51c2VQcm9ncmFtKHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITEpO30sZX0oViksaHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2wuVEVYVFVSRTB9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXsodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmFjdGl2ZVRleHR1cmUodCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShWKSxwdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3JldHVybiBbMCwwLHQuZHJhd2luZ0J1ZmZlcldpZHRoLHQuZHJhd2luZ0J1ZmZlckhlaWdodF19LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnJlbnQ7KHRbMF0hPT1lWzBdfHx0WzFdIT09ZVsxXXx8dFsyXSE9PWVbMl18fHRbM10hPT1lWzNdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudmlld3BvcnQodFswXSx0WzFdLHRbMl0sdFszXSksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShWKSxkdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7ZS5iaW5kRnJhbWVidWZmZXIoZS5GUkFNRUJVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KFYpLF90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dmFyIGU9dGhpcy5nbDtlLmJpbmRSZW5kZXJidWZmZXIoZS5SRU5ERVJCVUZGRVIsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShWKSxmdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7ZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShWKSxtdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7ZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0oViksZ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXREZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdsO2UuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fSxlfShWKSx2dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUpLHRoaXMudmFvPWUuZXh0VmVydGV4QXJyYXlPYmplY3Q7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMudmFvJiYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLnZhby5iaW5kVmVydGV4QXJyYXlPRVModCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMSk7fSxlfShWKSx5dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gNH0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe2lmKHQhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpe3ZhciBlPXRoaXMuZ2w7ZS5waXhlbFN0b3JlaShlLlVOUEFDS19BTElHTk1FTlQsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShWKSx4dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UucGl4ZWxTdG9yZWkoZS5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsdCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfShWKSxidD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gITF9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtpZih0IT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KXt2YXIgZT10aGlzLmdsO2UucGl4ZWxTdG9yZWkoZS5VTlBBQ0tfRkxJUF9ZX1dFQkdMLHQpLHRoaXMuY3VycmVudD10LHRoaXMuZGlydHk9ITE7fX0sZX0oViksd3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3QuY2FsbCh0aGlzLGUpLHRoaXMuY29udGV4dD1lLHRoaXMucGFyZW50PWk7fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksKGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZX0oViksRXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXREaXJ0eT1mdW5jdGlvbigpe3RoaXMuZGlydHk9ITA7fSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO3ZhciBlPXRoaXMuZ2w7ZS5mcmFtZWJ1ZmZlclRleHR1cmUyRChlLkZSQU1FQlVGRkVSLGUuQ09MT1JfQVRUQUNITUVOVDAsZS5URVhUVVJFXzJELHQsMCksdGhpcy5jdXJyZW50PXQsdGhpcy5kaXJ0eT0hMTt9fSxlfSh3dCksVHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLChlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSl7dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO3ZhciBlPXRoaXMuZ2w7ZS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihlLkZSQU1FQlVGRkVSLGUuREVQVEhfQVRUQUNITUVOVCxlLlJFTkRFUkJVRkZFUix0KSx0aGlzLmN1cnJlbnQ9dCx0aGlzLmRpcnR5PSExO319LGV9KHd0KSxJdD1mdW5jdGlvbih0LGUsaSxvKXt0aGlzLmNvbnRleHQ9dCx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9aTt2YXIgcj10aGlzLmZyYW1lYnVmZmVyPXQuZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTt0aGlzLmNvbG9yQXR0YWNobWVudD1uZXcgRXQodCxyKSxvJiYodGhpcy5kZXB0aEF0dGFjaG1lbnQ9bmV3IFR0KHQscikpO307SXQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRleHQuZ2wsZT10aGlzLmNvbG9yQXR0YWNobWVudC5nZXQoKTtpZihlJiZ0LmRlbGV0ZVRleHR1cmUoZSksdGhpcy5kZXB0aEF0dGFjaG1lbnQpe3ZhciBpPXRoaXMuZGVwdGhBdHRhY2htZW50LmdldCgpO2kmJnQuZGVsZXRlUmVuZGVyYnVmZmVyKGkpO310LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO307dmFyIEN0PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmZ1bmM9dCx0aGlzLm1hc2s9ZSx0aGlzLnJhbmdlPWk7fTtDdC5SZWFkT25seT0hMSxDdC5SZWFkV3JpdGU9ITAsQ3QuZGlzYWJsZWQ9bmV3IEN0KDUxOSxDdC5SZWFkT25seSxbMCwxXSk7dmFyIFN0PWZ1bmN0aW9uKHQsZSxpLG8scixhKXt0aGlzLnRlc3Q9dCx0aGlzLnJlZj1lLHRoaXMubWFzaz1pLHRoaXMuZmFpbD1vLHRoaXMuZGVwdGhGYWlsPXIsdGhpcy5wYXNzPWE7fTtTdC5kaXNhYmxlZD1uZXcgU3Qoe2Z1bmM6NTE5LG1hc2s6MH0sMCwwLDc2ODAsNzY4MCw3NjgwKTt2YXIgUHQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMuYmxlbmRGdW5jdGlvbj10LHRoaXMuYmxlbmRDb2xvcj1lLHRoaXMubWFzaz1pO307UHQuUmVwbGFjZT1bMSwwXSxQdC5kaXNhYmxlZD1uZXcgUHQoUHQuUmVwbGFjZSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMV0pLFB0LnVuYmxlbmRlZD1uZXcgUHQoUHQuUmVwbGFjZSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pLFB0LmFscGhhQmxlbmRlZD1uZXcgUHQoWzEsNzcxXSx0LkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO3ZhciB6dD1mdW5jdGlvbih0LGUsaSl7dGhpcy5lbmFibGU9dCx0aGlzLm1vZGU9ZSx0aGlzLmZyb250RmFjZT1pO307enQuZGlzYWJsZWQ9bmV3IHp0KCExLDEwMjksMjMwNSksenQuYmFja0NDVz1uZXcgenQoITAsMTAyOSwyMzA1KTt2YXIgTHQ9ZnVuY3Rpb24odCl7dGhpcy5nbD10LHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3Q9dGhpcy5nbC5nZXRFeHRlbnNpb24oIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiksdGhpcy5jbGVhckNvbG9yPW5ldyBHKHRoaXMpLHRoaXMuY2xlYXJEZXB0aD1uZXcgVyh0aGlzKSx0aGlzLmNsZWFyU3RlbmNpbD1uZXcgWCh0aGlzKSx0aGlzLmNvbG9yTWFzaz1uZXcgSCh0aGlzKSx0aGlzLmRlcHRoTWFzaz1uZXcgSyh0aGlzKSx0aGlzLnN0ZW5jaWxNYXNrPW5ldyBZKHRoaXMpLHRoaXMuc3RlbmNpbEZ1bmM9bmV3IEoodGhpcyksdGhpcy5zdGVuY2lsT3A9bmV3IFEodGhpcyksdGhpcy5zdGVuY2lsVGVzdD1uZXcgJCh0aGlzKSx0aGlzLmRlcHRoUmFuZ2U9bmV3IHR0KHRoaXMpLHRoaXMuZGVwdGhUZXN0PW5ldyBldCh0aGlzKSx0aGlzLmRlcHRoRnVuYz1uZXcgaXQodGhpcyksdGhpcy5ibGVuZD1uZXcgb3QodGhpcyksdGhpcy5ibGVuZEZ1bmM9bmV3IHJ0KHRoaXMpLHRoaXMuYmxlbmRDb2xvcj1uZXcgYXQodGhpcyksdGhpcy5ibGVuZEVxdWF0aW9uPW5ldyBudCh0aGlzKSx0aGlzLmN1bGxGYWNlPW5ldyBzdCh0aGlzKSx0aGlzLmN1bGxGYWNlU2lkZT1uZXcgbHQodGhpcyksdGhpcy5mcm9udEZhY2U9bmV3IGN0KHRoaXMpLHRoaXMucHJvZ3JhbT1uZXcgdXQodGhpcyksdGhpcy5hY3RpdmVUZXh0dXJlPW5ldyBodCh0aGlzKSx0aGlzLnZpZXdwb3J0PW5ldyBwdCh0aGlzKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlcj1uZXcgZHQodGhpcyksdGhpcy5iaW5kUmVuZGVyYnVmZmVyPW5ldyBfdCh0aGlzKSx0aGlzLmJpbmRUZXh0dXJlPW5ldyBmdCh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhCdWZmZXI9bmV3IG10KHRoaXMpLHRoaXMuYmluZEVsZW1lbnRCdWZmZXI9bmV3IGd0KHRoaXMpLHRoaXMuYmluZFZlcnRleEFycmF5T0VTPXRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJm5ldyB2dCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2s9bmV3IHl0KHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE9bmV3IHh0KHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZPW5ldyBidCh0aGlzKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYz10LmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHQuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHQuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIiksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heD10LmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKSx0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQ9dC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSx0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQmJnQuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpLHRoaXMuZXh0VGltZXJRdWVyeT10LmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iik7fTtMdC5wcm90b3R5cGUuc2V0RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMudW5iaW5kVkFPKCksdGhpcy5jbGVhckNvbG9yLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJTdGVuY2lsLnNldERlZmF1bHQoKSx0aGlzLmNvbG9yTWFzay5zZXREZWZhdWx0KCksdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZC5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRDb2xvci5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEVxdWF0aW9uLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCksdGhpcy5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCk7fSxMdC5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyQ29sb3IuZGlydHk9ITAsdGhpcy5jbGVhckRlcHRoLmRpcnR5PSEwLHRoaXMuY2xlYXJTdGVuY2lsLmRpcnR5PSEwLHRoaXMuY29sb3JNYXNrLmRpcnR5PSEwLHRoaXMuZGVwdGhNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbE1hc2suZGlydHk9ITAsdGhpcy5zdGVuY2lsRnVuYy5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxPcC5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxUZXN0LmRpcnR5PSEwLHRoaXMuZGVwdGhSYW5nZS5kaXJ0eT0hMCx0aGlzLmRlcHRoVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kLmRpcnR5PSEwLHRoaXMuYmxlbmRGdW5jLmRpcnR5PSEwLHRoaXMuYmxlbmRDb2xvci5kaXJ0eT0hMCx0aGlzLmJsZW5kRXF1YXRpb24uZGlydHk9ITAsdGhpcy5jdWxsRmFjZS5kaXJ0eT0hMCx0aGlzLmN1bGxGYWNlU2lkZS5kaXJ0eT0hMCx0aGlzLmZyb250RmFjZS5kaXJ0eT0hMCx0aGlzLnByb2dyYW0uZGlydHk9ITAsdGhpcy5hY3RpdmVUZXh0dXJlLmRpcnR5PSEwLHRoaXMudmlld3BvcnQuZGlydHk9ITAsdGhpcy5iaW5kRnJhbWVidWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kUmVuZGVyYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFRleHR1cmUuZGlydHk9ITAsdGhpcy5iaW5kVmVydGV4QnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZEVsZW1lbnRCdWZmZXIuZGlydHk9ITAsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuYmluZFZlcnRleEFycmF5T0VTLmRpcnR5PSEwKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2suZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5kaXJ0eT0hMCx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5kaXJ0eT0hMDt9LEx0LnByb3RvdHlwZS5jcmVhdGVJbmRleEJ1ZmZlcj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgWih0aGlzLHQsZSl9LEx0LnByb3RvdHlwZS5jcmVhdGVWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgaih0aGlzLHQsZSxpKX0sTHQucHJvdG90eXBlLmNyZWF0ZVJlbmRlcmJ1ZmZlcj1mdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5nbCxyPW8uY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQociksby5yZW5kZXJidWZmZXJTdG9yYWdlKG8uUkVOREVSQlVGRkVSLHQsZSxpKSx0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpLHJ9LEx0LnByb3RvdHlwZS5jcmVhdGVGcmFtZWJ1ZmZlcj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBJdCh0aGlzLHQsZSxpKX0sTHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29sb3IsaT10LmRlcHRoLG89dGhpcy5nbCxyPTA7ZSYmKHJ8PW8uQ09MT1JfQlVGRkVSX0JJVCx0aGlzLmNsZWFyQ29sb3Iuc2V0KGUpLHRoaXMuY29sb3JNYXNrLnNldChbITAsITAsITAsITBdKSksdm9pZCAwIT09aSYmKHJ8PW8uREVQVEhfQlVGRkVSX0JJVCx0aGlzLmRlcHRoUmFuZ2Uuc2V0KFswLDFdKSx0aGlzLmNsZWFyRGVwdGguc2V0KGkpLHRoaXMuZGVwdGhNYXNrLnNldCghMCkpLG8uY2xlYXIocik7fSxMdC5wcm90b3R5cGUuc2V0Q3VsbEZhY2U9ZnVuY3Rpb24odCl7ITE9PT10LmVuYWJsZT90aGlzLmN1bGxGYWNlLnNldCghMSk6KHRoaXMuY3VsbEZhY2Uuc2V0KCEwKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXQodC5tb2RlKSx0aGlzLmZyb250RmFjZS5zZXQodC5mcm9udEZhY2UpKTt9LEx0LnByb3RvdHlwZS5zZXREZXB0aE1vZGU9ZnVuY3Rpb24odCl7dC5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fHQubWFzaz8odGhpcy5kZXB0aFRlc3Quc2V0KCEwKSx0aGlzLmRlcHRoRnVuYy5zZXQodC5mdW5jKSx0aGlzLmRlcHRoTWFzay5zZXQodC5tYXNrKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0KHQucmFuZ2UpKTp0aGlzLmRlcHRoVGVzdC5zZXQoITEpO30sTHQucHJvdG90eXBlLnNldFN0ZW5jaWxNb2RlPWZ1bmN0aW9uKHQpe3QudGVzdC5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fHQubWFzaz8odGhpcy5zdGVuY2lsVGVzdC5zZXQoITApLHRoaXMuc3RlbmNpbE1hc2suc2V0KHQubWFzayksdGhpcy5zdGVuY2lsT3Auc2V0KFt0LmZhaWwsdC5kZXB0aEZhaWwsdC5wYXNzXSksdGhpcy5zdGVuY2lsRnVuYy5zZXQoe2Z1bmM6dC50ZXN0LmZ1bmMscmVmOnQucmVmLG1hc2s6dC50ZXN0Lm1hc2t9KSk6dGhpcy5zdGVuY2lsVGVzdC5zZXQoITEpO30sTHQucHJvdG90eXBlLnNldENvbG9yTW9kZT1mdW5jdGlvbihlKXt0LmRlZXBFcXVhbChlLmJsZW5kRnVuY3Rpb24sUHQuUmVwbGFjZSk/dGhpcy5ibGVuZC5zZXQoITEpOih0aGlzLmJsZW5kLnNldCghMCksdGhpcy5ibGVuZEZ1bmMuc2V0KGUuYmxlbmRGdW5jdGlvbiksdGhpcy5ibGVuZENvbG9yLnNldChlLmJsZW5kQ29sb3IpKSx0aGlzLmNvbG9yTWFzay5zZXQoZS5tYXNrKTt9LEx0LnByb3RvdHlwZS51bmJpbmRWQU89ZnVuY3Rpb24oKXt0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0JiZ0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQobnVsbCk7fTt2YXIgTXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShpLG8scil7dmFyIGE9dGhpcztlLmNhbGwodGhpcyksdGhpcy5pZD1pLHRoaXMuZGlzcGF0Y2hlcj1yLHRoaXMub24oImRhdGEiLChmdW5jdGlvbih0KXsic291cmNlIj09PXQuZGF0YVR5cGUmJiJtZXRhZGF0YSI9PT10LnNvdXJjZURhdGFUeXBlJiYoYS5fc291cmNlTG9hZGVkPSEwKSxhLl9zb3VyY2VMb2FkZWQmJiFhLl9wYXVzZWQmJiJzb3VyY2UiPT09dC5kYXRhVHlwZSYmImNvbnRlbnQiPT09dC5zb3VyY2VEYXRhVHlwZSYmKGEucmVsb2FkKCksYS50cmFuc2Zvcm0mJmEudXBkYXRlKGEudHJhbnNmb3JtKSk7fSkpLHRoaXMub24oImVycm9yIiwoZnVuY3Rpb24oKXthLl9zb3VyY2VFcnJvcmVkPSEwO30pKSx0aGlzLl9zb3VyY2U9QihpLG8scix0aGlzKSx0aGlzLl90aWxlcz17fSx0aGlzLl9jYWNoZT1uZXcgTigwLHRoaXMuX3VubG9hZFRpbGUuYmluZCh0aGlzKSksdGhpcy5fdGltZXJzPXt9LHRoaXMuX2NhY2hlVGltZXJzPXt9LHRoaXMuX21heFRpbGVDYWNoZVNpemU9bnVsbCx0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy5fc3RhdGU9bmV3IHQuU291cmNlRmVhdHVyZVN0YXRlO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXt0aGlzLm1hcD10LHRoaXMuX21heFRpbGVDYWNoZVNpemU9dD90Ll9tYXhUaWxlQ2FjaGVTaXplOm51bGwsdGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2Uub25BZGQmJnRoaXMuX3NvdXJjZS5vbkFkZCh0KTt9LGkucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX3NvdXJjZSYmdGhpcy5fc291cmNlLm9uUmVtb3ZlJiZ0aGlzLl9zb3VyY2Uub25SZW1vdmUodCk7fSxpLnByb3RvdHlwZS5sb2FkZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2VFcnJvcmVkKXJldHVybiAhMDtpZighdGhpcy5fc291cmNlTG9hZGVkKXJldHVybiAhMTtpZighdGhpcy5fc291cmNlLmxvYWRlZCgpKXJldHVybiAhMTtmb3IodmFyIHQgaW4gdGhpcy5fdGlsZXMpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO2lmKCJsb2FkZWQiIT09ZS5zdGF0ZSYmImVycm9yZWQiIT09ZS5zdGF0ZSlyZXR1cm4gITF9cmV0dXJuICEwfSxpLnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSxpLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMDt9LGkucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe2lmKHRoaXMuX3BhdXNlZCl7dmFyIHQ9dGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU7dGhpcy5fcGF1c2VkPSExLHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLHQmJnRoaXMucmVsb2FkKCksdGhpcy50cmFuc2Zvcm0mJnRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTt9fSxpLnByb3RvdHlwZS5fbG9hZFRpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fc291cmNlLmxvYWRUaWxlKHQsZSl9LGkucHJvdG90eXBlLl91bmxvYWRUaWxlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSh0LChmdW5jdGlvbigpe30pKX0saS5wcm90b3R5cGUuX2Fib3J0VGlsZT1mdW5jdGlvbih0KXtpZih0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKHQsKGZ1bmN0aW9uKCl7fSkpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlLnNlcmlhbGl6ZSgpfSxpLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLl9zb3VyY2UucHJlcGFyZSYmdGhpcy5fc291cmNlLnByZXBhcmUoKSx0aGlzLl9zdGF0ZS5jb2FsZXNjZUNoYW5nZXModGhpcy5fdGlsZXMsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl90aWxlcyl7dmFyIGk9dGhpcy5fdGlsZXNbZV07aS51cGxvYWQodCksaS5wcmVwYXJlKHRoaXMubWFwLnN0eWxlLmltYWdlTWFuYWdlcik7fX0saS5wcm90b3R5cGUuZ2V0SWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHQudmFsdWVzKHRoaXMuX3RpbGVzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbGVJRH0pKS5zb3J0KER0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleX0pKX0saS5wcm90b3R5cGUuZ2V0UmVuZGVyYWJsZUlkcz1mdW5jdGlvbihlKXt2YXIgaT10aGlzLG89W107Zm9yKHZhciByIGluIHRoaXMuX3RpbGVzKXRoaXMuX2lzSWRSZW5kZXJhYmxlKHIsZSkmJm8ucHVzaCh0aGlzLl90aWxlc1tyXSk7cmV0dXJuIGU/by5zb3J0KChmdW5jdGlvbihlLG8pe3ZhciByPWUudGlsZUlELGE9by50aWxlSUQsbj1uZXcgdC5Qb2ludChyLmNhbm9uaWNhbC54LHIuY2Fub25pY2FsLnkpLl9yb3RhdGUoaS50cmFuc2Zvcm0uYW5nbGUpLHM9bmV3IHQuUG9pbnQoYS5jYW5vbmljYWwueCxhLmNhbm9uaWNhbC55KS5fcm90YXRlKGkudHJhbnNmb3JtLmFuZ2xlKTtyZXR1cm4gci5vdmVyc2NhbGVkWi1hLm92ZXJzY2FsZWRafHxzLnktbi55fHxzLngtbi54fSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudGlsZUlELmtleX0pKTpvLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudGlsZUlEfSkpLnNvcnQoRHQpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5fSkpfSxpLnByb3RvdHlwZS5oYXNSZW5kZXJhYmxlUGFyZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZExvYWRlZFBhcmVudCh0LDApO3JldHVybiAhIWUmJnRoaXMuX2lzSWRSZW5kZXJhYmxlKGUudGlsZUlELmtleSl9LGkucHJvdG90eXBlLl9pc0lkUmVuZGVyYWJsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90aWxlc1t0XSYmdGhpcy5fdGlsZXNbdF0uaGFzRGF0YSgpJiYhdGhpcy5fY292ZXJlZFRpbGVzW3RdJiYoZXx8IXRoaXMuX3RpbGVzW3RdLmhvbGRpbmdGb3JGYWRlKCkpfSxpLnByb3RvdHlwZS5yZWxvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9wYXVzZWQpdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITA7ZWxzZSBmb3IodmFyIHQgaW4gdGhpcy5fY2FjaGUucmVzZXQoKSx0aGlzLl90aWxlcykiZXJyb3JlZCIhPT10aGlzLl90aWxlc1t0XS5zdGF0ZSYmdGhpcy5fcmVsb2FkVGlsZSh0LCJyZWxvYWRpbmciKTt9LGkucHJvdG90eXBlLl9yZWxvYWRUaWxlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fdGlsZXNbdF07aSYmKCJsb2FkaW5nIiE9PWkuc3RhdGUmJihpLnN0YXRlPWUpLHRoaXMuX2xvYWRUaWxlKGksdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsaSx0LGUpKSk7fSxpLnByb3RvdHlwZS5fdGlsZUxvYWRlZD1mdW5jdGlvbihlLGksbyxyKXtpZihyKXJldHVybiBlLnN0YXRlPSJlcnJvcmVkIix2b2lkKDQwNCE9PXIuc3RhdHVzP3RoaXMuX3NvdXJjZS5maXJlKG5ldyB0LkVycm9yRXZlbnQocix7dGlsZTplfSkpOnRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKSk7ZS50aW1lQWRkZWQ9dC5icm93c2VyLm5vdygpLCJleHBpcmVkIj09PW8mJihlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSEwKSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoaSxlKSwicmFzdGVyLWRlbSI9PT10aGlzLmdldFNvdXJjZSgpLnR5cGUmJmUuZGVtJiZ0aGlzLl9iYWNrZmlsbERFTShlKSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplVGlsZVN0YXRlKGUsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl9zb3VyY2UuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzb3VyY2UiLHRpbGU6ZSxjb29yZDplLnRpbGVJRH0pKTt9LGkucHJvdG90eXBlLl9iYWNrZmlsbERFTT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKCksaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO2lmKHQubmVpZ2hib3JpbmdUaWxlcyYmdC5uZWlnaGJvcmluZ1RpbGVzW29dKXt2YXIgcj10aGlzLmdldFRpbGVCeUlEKG8pO2EodCxyKSxhKHIsdCk7fX1mdW5jdGlvbiBhKHQsZSl7dC5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITA7dmFyIGk9ZS50aWxlSUQuY2Fub25pY2FsLngtdC50aWxlSUQuY2Fub25pY2FsLngsbz1lLnRpbGVJRC5jYW5vbmljYWwueS10LnRpbGVJRC5jYW5vbmljYWwueSxyPU1hdGgucG93KDIsdC50aWxlSUQuY2Fub25pY2FsLnopLGE9ZS50aWxlSUQua2V5OzA9PT1pJiYwPT09b3x8TWF0aC5hYnMobyk+MXx8KE1hdGguYWJzKGkpPjEmJigxPT09TWF0aC5hYnMoaStyKT9pKz1yOjE9PT1NYXRoLmFicyhpLXIpJiYoaS09cikpLGUuZGVtJiZ0LmRlbSYmKHQuZGVtLmJhY2tmaWxsQm9yZGVyKGUuZGVtLGksbyksdC5uZWlnaGJvcmluZ1RpbGVzJiZ0Lm5laWdoYm9yaW5nVGlsZXNbYV0mJih0Lm5laWdoYm9yaW5nVGlsZXNbYV0uYmFja2ZpbGxlZD0hMCkpKTt9fSxpLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFRpbGVCeUlEKHQua2V5KX0saS5wcm90b3R5cGUuZ2V0VGlsZUJ5SUQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RpbGVzW3RdfSxpLnByb3RvdHlwZS5fcmV0YWluTG9hZGVkQ2hpbGRyZW49ZnVuY3Rpb24odCxlLGksbyl7Zm9yKHZhciByIGluIHRoaXMuX3RpbGVzKXt2YXIgYT10aGlzLl90aWxlc1tyXTtpZighKG9bcl18fCFhLmhhc0RhdGEoKXx8YS50aWxlSUQub3ZlcnNjYWxlZFo8PWV8fGEudGlsZUlELm92ZXJzY2FsZWRaPmkpKXtmb3IodmFyIG49YS50aWxlSUQ7YSYmYS50aWxlSUQub3ZlcnNjYWxlZFo+ZSsxOyl7dmFyIHM9YS50aWxlSUQuc2NhbGVkVG8oYS50aWxlSUQub3ZlcnNjYWxlZFotMSk7KGE9dGhpcy5fdGlsZXNbcy5rZXldKSYmYS5oYXNEYXRhKCkmJihuPXMpO31mb3IodmFyIGw9bjtsLm92ZXJzY2FsZWRaPmU7KWlmKHRbKGw9bC5zY2FsZWRUbyhsLm92ZXJzY2FsZWRaLTEpKS5rZXldKXtvW24ua2V5XT1uO2JyZWFrfX19fSxpLnByb3RvdHlwZS5maW5kTG9hZGVkUGFyZW50PWZ1bmN0aW9uKHQsZSl7aWYodC5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe3ZhciBpPXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW3Qua2V5XTtyZXR1cm4gaSYmaS50aWxlSUQub3ZlcnNjYWxlZFo+PWU/aTpudWxsfWZvcih2YXIgbz10Lm92ZXJzY2FsZWRaLTE7bz49ZTtvLS0pe3ZhciByPXQuc2NhbGVkVG8obyksYT10aGlzLl9nZXRMb2FkZWRUaWxlKHIpO2lmKGEpcmV0dXJuIGF9fSxpLnByb3RvdHlwZS5fZ2V0TG9hZGVkVGlsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWxlc1t0LmtleV07cmV0dXJuIGUmJmUuaGFzRGF0YSgpP2U6dGhpcy5fY2FjaGUuZ2V0QnlLZXkodC53cmFwcGVkKCkua2V5KX0saS5wcm90b3R5cGUudXBkYXRlQ2FjaGVTaXplPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY2VpbCh0LndpZHRoL3RoaXMuX3NvdXJjZS50aWxlU2l6ZSkrMSxpPU1hdGguY2VpbCh0LmhlaWdodC90aGlzLl9zb3VyY2UudGlsZVNpemUpKzEsbz1NYXRoLmZsb29yKGUqaSo1KSxyPSJudW1iZXIiPT10eXBlb2YgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT9NYXRoLm1pbih0aGlzLl9tYXhUaWxlQ2FjaGVTaXplLG8pOm87dGhpcy5fY2FjaGUuc2V0TWF4U2l6ZShyKTt9LGkucHJvdG90eXBlLmhhbmRsZVdyYXBKdW1wPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgucm91bmQoKHQtKHZvaWQgMD09PXRoaXMuX3ByZXZMbmc/dDp0aGlzLl9wcmV2TG5nKSkvMzYwKTtpZih0aGlzLl9wcmV2TG5nPXQsZSl7dmFyIGk9e307Zm9yKHZhciBvIGluIHRoaXMuX3RpbGVzKXt2YXIgcj10aGlzLl90aWxlc1tvXTtyLnRpbGVJRD1yLnRpbGVJRC51bndyYXBUbyhyLnRpbGVJRC53cmFwK2UpLGlbci50aWxlSUQua2V5XT1yO31mb3IodmFyIGEgaW4gdGhpcy5fdGlsZXM9aSx0aGlzLl90aW1lcnMpY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1thXSksZGVsZXRlIHRoaXMuX3RpbWVyc1thXTtmb3IodmFyIG4gaW4gdGhpcy5fdGlsZXMpdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKG4sdGhpcy5fdGlsZXNbbl0pO319LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzO2lmKHRoaXMudHJhbnNmb3JtPWUsdGhpcy5fc291cmNlTG9hZGVkJiYhdGhpcy5fcGF1c2VkKXt2YXIgcjt0aGlzLnVwZGF0ZUNhY2hlU2l6ZShlKSx0aGlzLmhhbmRsZVdyYXBKdW1wKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcpLHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLnVzZWQ/dGhpcy5fc291cmNlLnRpbGVJRD9yPWUuZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRoaXMuX3NvdXJjZS50aWxlSUQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZS5jYW5vbmljYWwueixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpfSkpOihyPWUuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWR9KSx0aGlzLl9zb3VyY2UuaGFzVGlsZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBvLl9zb3VyY2UuaGFzVGlsZSh0KX0pKSkpOnI9W107dmFyIGE9ZS5jb3ZlcmluZ1pvb21MZXZlbCh0aGlzLl9zb3VyY2UpLG49TWF0aC5tYXgoYS1pLm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxzPU1hdGgubWF4KGEraS5tYXhVbmRlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLGw9dGhpcy5fdXBkYXRlUmV0YWluZWRUaWxlcyhyLGEpO2lmKEF0KHRoaXMuX3NvdXJjZS50eXBlKSl7Zm9yKHZhciBjPXt9LHU9e30saD0wLHA9T2JqZWN0LmtleXMobCk7aDxwLmxlbmd0aDtoKz0xKXt2YXIgZD1wW2hdLF89bFtkXSxmPXRoaXMuX3RpbGVzW2RdO2lmKGYmJiEoZi5mYWRlRW5kVGltZSYmZi5mYWRlRW5kVGltZTw9dC5icm93c2VyLm5vdygpKSl7dmFyIG09dGhpcy5maW5kTG9hZGVkUGFyZW50KF8sbik7bSYmKHRoaXMuX2FkZFRpbGUobS50aWxlSUQpLGNbbS50aWxlSUQua2V5XT1tLnRpbGVJRCksdVtkXT1fO319Zm9yKHZhciBnIGluIHRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKHUsYSxzLGwpLGMpbFtnXXx8KHRoaXMuX2NvdmVyZWRUaWxlc1tnXT0hMCxsW2ddPWNbZ10pO31mb3IodmFyIHYgaW4gbCl0aGlzLl90aWxlc1t2XS5jbGVhckZhZGVIb2xkKCk7Zm9yKHZhciB5PTAseD10LmtleXNEaWZmZXJlbmNlKHRoaXMuX3RpbGVzLGwpO3k8eC5sZW5ndGg7eSs9MSl7dmFyIGI9eFt5XSx3PXRoaXMuX3RpbGVzW2JdO3cuaGFzU3ltYm9sQnVja2V0cyYmIXcuaG9sZGluZ0ZvckZhZGUoKT93LnNldEhvbGREdXJhdGlvbih0aGlzLm1hcC5fZmFkZUR1cmF0aW9uKTp3Lmhhc1N5bWJvbEJ1Y2tldHMmJiF3LnN5bWJvbEZhZGVGaW5pc2hlZCgpfHx0aGlzLl9yZW1vdmVUaWxlKGIpO310aGlzLl91cGRhdGVMb2FkZWRQYXJlbnRUaWxlQ2FjaGUoKTt9fSxpLnByb3RvdHlwZS5yZWxlYXNlU3ltYm9sRmFkZVRpbGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW3RdLmhvbGRpbmdGb3JGYWRlKCkmJnRoaXMuX3JlbW92ZVRpbGUodCk7fSxpLnByb3RvdHlwZS5fdXBkYXRlUmV0YWluZWRUaWxlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbz17fSxyPXt9LGE9TWF0aC5tYXgoZS1pLm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxuPU1hdGgubWF4KGUraS5tYXhVbmRlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLHM9e30sbD0wLGM9dDtsPGMubGVuZ3RoO2wrPTEpe3ZhciB1PWNbbF0saD10aGlzLl9hZGRUaWxlKHUpO29bdS5rZXldPXUsaC5oYXNEYXRhKCl8fGU8dGhpcy5fc291cmNlLm1heHpvb20mJihzW3Uua2V5XT11KTt9dGhpcy5fcmV0YWluTG9hZGVkQ2hpbGRyZW4ocyxlLG4sbyk7Zm9yKHZhciBwPTAsZD10O3A8ZC5sZW5ndGg7cCs9MSl7dmFyIF89ZFtwXSxmPXRoaXMuX3RpbGVzW18ua2V5XTtpZighZi5oYXNEYXRhKCkpe2lmKGUrMT50aGlzLl9zb3VyY2UubWF4em9vbSl7dmFyIG09Xy5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSlbMF0sZz10aGlzLmdldFRpbGUobSk7aWYoZyYmZy5oYXNEYXRhKCkpe29bbS5rZXldPW07Y29udGludWV9fWVsc2V7dmFyIHY9Xy5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSk7aWYob1t2WzBdLmtleV0mJm9bdlsxXS5rZXldJiZvW3ZbMl0ua2V5XSYmb1t2WzNdLmtleV0pY29udGludWV9Zm9yKHZhciB5PWYud2FzUmVxdWVzdGVkKCkseD1fLm92ZXJzY2FsZWRaLTE7eD49YTstLXgpe3ZhciBiPV8uc2NhbGVkVG8oeCk7aWYocltiLmtleV0pYnJlYWs7aWYocltiLmtleV09ITAsIShmPXRoaXMuZ2V0VGlsZShiKSkmJnkmJihmPXRoaXMuX2FkZFRpbGUoYikpLGYmJihvW2Iua2V5XT1iLHk9Zi53YXNSZXF1ZXN0ZWQoKSxmLmhhc0RhdGEoKSkpYnJlYWt9fX1yZXR1cm4gb30saS5wcm90b3R5cGUuX3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fSx0aGlzLl90aWxlcyl7Zm9yKHZhciBlPVtdLGk9dm9pZCAwLG89dGhpcy5fdGlsZXNbdF0udGlsZUlEO28ub3ZlcnNjYWxlZFo+MDspe2lmKG8ua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKXtpPXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW28ua2V5XTticmVha31lLnB1c2goby5rZXkpO3ZhciByPW8uc2NhbGVkVG8oby5vdmVyc2NhbGVkWi0xKTtpZihpPXRoaXMuX2dldExvYWRlZFRpbGUocikpYnJlYWs7bz1yO31mb3IodmFyIGE9MCxuPWU7YTxuLmxlbmd0aDthKz0xKXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW25bYV1dPWk7fX0saS5wcm90b3R5cGUuX2FkZFRpbGU9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fdGlsZXNbZS5rZXldO2lmKGkpcmV0dXJuIGk7KGk9dGhpcy5fY2FjaGUuZ2V0QW5kUmVtb3ZlKGUpKSYmKHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihlLmtleSxpKSxpLnRpbGVJRD1lLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUoaSx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSYmKGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0pLGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0sdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LGkpKSk7dmFyIG89Qm9vbGVhbihpKTtyZXR1cm4gb3x8KGk9bmV3IHQuVGlsZShlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpKSx0aGlzLl9sb2FkVGlsZShpLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLGksZS5rZXksaS5zdGF0ZSkpKSxpPyhpLnVzZXMrKyx0aGlzLl90aWxlc1tlLmtleV09aSxvfHx0aGlzLl9zb3VyY2UuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHt0aWxlOmksY29vcmQ6aS50aWxlSUQsZGF0YVR5cGU6InNvdXJjZSJ9KSksaSk6bnVsbH0saS5wcm90b3R5cGUuX3NldFRpbGVSZWxvYWRUaW1lcj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dCBpbiB0aGlzLl90aW1lcnMmJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW3RdKSxkZWxldGUgdGhpcy5fdGltZXJzW3RdKTt2YXIgbz1lLmdldEV4cGlyeVRpbWVvdXQoKTtvJiYodGhpcy5fdGltZXJzW3RdPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5fcmVsb2FkVGlsZSh0LCJleHBpcmVkIiksZGVsZXRlIGkuX3RpbWVyc1t0XTt9KSxvKSk7fSxpLnByb3RvdHlwZS5fcmVtb3ZlVGlsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWxlc1t0XTtlJiYoZS51c2VzLS0sZGVsZXRlIHRoaXMuX3RpbGVzW3RdLHRoaXMuX3RpbWVyc1t0XSYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbdF0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbdF0pLGUudXNlcz4wfHwoZS5oYXNEYXRhKCkmJiJyZWxvYWRpbmciIT09ZS5zdGF0ZT90aGlzLl9jYWNoZS5hZGQoZS50aWxlSUQsZSxlLmdldEV4cGlyeVRpbWVvdXQoKSk6KGUuYWJvcnRlZD0hMCx0aGlzLl9hYm9ydFRpbGUoZSksdGhpcy5fdW5sb2FkVGlsZShlKSkpKTt9LGkucHJvdG90eXBlLmNsZWFyVGlsZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITEsdGhpcy5fcGF1c2VkPSExLHRoaXMuX3RpbGVzKXRoaXMuX3JlbW92ZVRpbGUodCk7dGhpcy5fY2FjaGUucmVzZXQoKTt9LGkucHJvdG90eXBlLnRpbGVzSW49ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXMsYT1bXSxuPXRoaXMudHJhbnNmb3JtO2lmKCFuKXJldHVybiBhO2Zvcih2YXIgcz1vP24uZ2V0Q2FtZXJhUXVlcnlHZW9tZXRyeShlKTplLGw9ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnBvaW50Q29vcmRpbmF0ZSh0KX0pKSxjPXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbi5wb2ludENvb3JkaW5hdGUodCl9KSksdT10aGlzLmdldElkcygpLGg9MS8wLHA9MS8wLGQ9LTEvMCxfPS0xLzAsZj0wLG09YztmPG0ubGVuZ3RoO2YrPTEpe3ZhciBnPW1bZl07aD1NYXRoLm1pbihoLGcueCkscD1NYXRoLm1pbihwLGcueSksZD1NYXRoLm1heChkLGcueCksXz1NYXRoLm1heChfLGcueSk7fWZvcih2YXIgdj1mdW5jdGlvbihlKXt2YXIgbz1yLl90aWxlc1t1W2VdXTtpZighby5ob2xkaW5nRm9yRmFkZSgpKXt2YXIgcz1vLnRpbGVJRCxmPU1hdGgucG93KDIsbi56b29tLW8udGlsZUlELm92ZXJzY2FsZWRaKSxtPWkqby5xdWVyeVBhZGRpbmcqdC5FWFRFTlQvby50aWxlU2l6ZS9mLGc9W3MuZ2V0VGlsZVBvaW50KG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZShoLHApKSxzLmdldFRpbGVQb2ludChuZXcgdC5NZXJjYXRvckNvb3JkaW5hdGUoZCxfKSldO2lmKGdbMF0ueC1tPHQuRVhURU5UJiZnWzBdLnktbTx0LkVYVEVOVCYmZ1sxXS54K20+PTAmJmdbMV0ueSttPj0wKXt2YXIgdj1sLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHMuZ2V0VGlsZVBvaW50KHQpfSkpLHk9Yy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBzLmdldFRpbGVQb2ludCh0KX0pKTthLnB1c2goe3RpbGU6byx0aWxlSUQ6cyxxdWVyeUdlb21ldHJ5OnYsY2FtZXJhUXVlcnlHZW9tZXRyeTp5LHNjYWxlOmZ9KTt9fX0seT0wO3k8dS5sZW5ndGg7eSsrKXYoeSk7cmV0dXJuIGF9LGkucHJvdG90eXBlLmdldFZpc2libGVDb29yZGluYXRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxpPXRoaXMuZ2V0UmVuZGVyYWJsZUlkcyh0KS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl90aWxlc1t0XS50aWxlSUR9KSksbz0wLHI9aTtvPHIubGVuZ3RoO28rPTEpe3ZhciBhPXJbb107YS5wb3NNYXRyaXg9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KGEudG9VbndyYXBwZWQoKSk7fXJldHVybiBpfSxpLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5fc291cmNlLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7aWYoQXQodGhpcy5fc291cmNlLnR5cGUpKWZvcih2YXIgZSBpbiB0aGlzLl90aWxlcyl7dmFyIGk9dGhpcy5fdGlsZXNbZV07aWYodm9pZCAwIT09aS5mYWRlRW5kVGltZSYmaS5mYWRlRW5kVGltZT49dC5icm93c2VyLm5vdygpKXJldHVybiAhMH1yZXR1cm4gITF9LGkucHJvdG90eXBlLnNldEZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUsaSl7dGhpcy5fc3RhdGUudXBkYXRlU3RhdGUodD10fHwiX2dlb2pzb25UaWxlTGF5ZXIiLGUsaSk7fSxpLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX3N0YXRlLnJlbW92ZUZlYXR1cmVTdGF0ZSh0PXR8fCJfZ2VvanNvblRpbGVMYXllciIsZSxpKTt9LGkucHJvdG90eXBlLmdldEZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRTdGF0ZSh0PXR8fCJfZ2VvanNvblRpbGVMYXllciIsZSl9LGkucHJvdG90eXBlLnNldERlcGVuZGVuY2llcz1mdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5fdGlsZXNbdF07byYmby5zZXREZXBlbmRlbmNpZXMoZSxpKTt9LGkucHJvdG90eXBlLnJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW2ldLmhhc0RlcGVuZGVuY3kodCxlKSYmdGhpcy5fcmVsb2FkVGlsZShpLCJyZWxvYWRpbmciKTt0aGlzLl9jYWNoZS5maWx0ZXIoKGZ1bmN0aW9uKGkpe3JldHVybiAhaS5oYXNEZXBlbmRlbmN5KHQsZSl9KSk7fSxpfSh0LkV2ZW50ZWQpO2Z1bmN0aW9uIER0KHQsZSl7dmFyIGk9TWF0aC5hYnMoMip0LndyYXApLSsodC53cmFwPDApLG89TWF0aC5hYnMoMiplLndyYXApLSsoZS53cmFwPDApO3JldHVybiB0Lm92ZXJzY2FsZWRaLWUub3ZlcnNjYWxlZFp8fG8taXx8ZS5jYW5vbmljYWwueS10LmNhbm9uaWNhbC55fHxlLmNhbm9uaWNhbC54LXQuY2Fub25pY2FsLnh9ZnVuY3Rpb24gQXQodCl7cmV0dXJuICJyYXN0ZXIiPT09dHx8ImltYWdlIj09PXR8fCJ2aWRlbyI9PT10fWZ1bmN0aW9uIFJ0KCl7cmV0dXJuIG5ldyB0LndpbmRvdy5Xb3JrZXIobXIud29ya2VyVXJsKX1NdC5tYXhPdmVyem9vbWluZz0xMCxNdC5tYXhVbmRlcnpvb21pbmc9Mzt2YXIga3Q9ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZT17fTt9O2t0LnByb3RvdHlwZS5hY3F1aXJlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLndvcmtlcnMpZm9yKHRoaXMud29ya2Vycz1bXTt0aGlzLndvcmtlcnMubGVuZ3RoPGt0LndvcmtlckNvdW50Oyl0aGlzLndvcmtlcnMucHVzaChuZXcgUnQpO3JldHVybiB0aGlzLmFjdGl2ZVt0XT0hMCx0aGlzLndvcmtlcnMuc2xpY2UoKX0sa3QucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuYWN0aXZlW3RdLDA9PT1PYmplY3Qua2V5cyh0aGlzLmFjdGl2ZSkubGVuZ3RoJiYodGhpcy53b3JrZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QudGVybWluYXRlKCk7fSkpLHRoaXMud29ya2Vycz1udWxsKTt9O3ZhciBCdCxPdD1NYXRoLmZsb29yKHQuYnJvd3Nlci5oYXJkd2FyZUNvbmN1cnJlbmN5LzIpO2Z1bmN0aW9uIEZ0KGUsaSl7dmFyIG89e307Zm9yKHZhciByIGluIGUpInJlZiIhPT1yJiYob1tyXT1lW3JdKTtyZXR1cm4gdC5yZWZQcm9wZXJ0aWVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QgaW4gaSYmKG9bdF09aVt0XSk7fSkpLG99ZnVuY3Rpb24gVXQodCl7dD10LnNsaWNlKCk7Zm9yKHZhciBlPU9iamVjdC5jcmVhdGUobnVsbCksaT0wO2k8dC5sZW5ndGg7aSsrKWVbdFtpXS5pZF09dFtpXTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKykicmVmImluIHRbb10mJih0W29dPUZ0KHRbb10sZVt0W29dLnJlZl0pKTtyZXR1cm4gdH1rdC53b3JrZXJDb3VudD1NYXRoLm1heChNYXRoLm1pbihPdCw2KSwxKTt2YXIgTnQ9e3NldFN0eWxlOiJzZXRTdHlsZSIsYWRkTGF5ZXI6ImFkZExheWVyIixyZW1vdmVMYXllcjoicmVtb3ZlTGF5ZXIiLHNldFBhaW50UHJvcGVydHk6InNldFBhaW50UHJvcGVydHkiLHNldExheW91dFByb3BlcnR5OiJzZXRMYXlvdXRQcm9wZXJ0eSIsc2V0RmlsdGVyOiJzZXRGaWx0ZXIiLGFkZFNvdXJjZToiYWRkU291cmNlIixyZW1vdmVTb3VyY2U6InJlbW92ZVNvdXJjZSIsc2V0R2VvSlNPTlNvdXJjZURhdGE6InNldEdlb0pTT05Tb3VyY2VEYXRhIixzZXRMYXllclpvb21SYW5nZToic2V0TGF5ZXJab29tUmFuZ2UiLHNldExheWVyUHJvcGVydHk6InNldExheWVyUHJvcGVydHkiLHNldENlbnRlcjoic2V0Q2VudGVyIixzZXRab29tOiJzZXRab29tIixzZXRCZWFyaW5nOiJzZXRCZWFyaW5nIixzZXRQaXRjaDoic2V0UGl0Y2giLHNldFNwcml0ZToic2V0U3ByaXRlIixzZXRHbHlwaHM6InNldEdseXBocyIsc2V0VHJhbnNpdGlvbjoic2V0VHJhbnNpdGlvbiIsc2V0TGlnaHQ6InNldExpZ2h0In07ZnVuY3Rpb24gWnQodCxlLGkpe2kucHVzaCh7Y29tbWFuZDpOdC5hZGRTb3VyY2UsYXJnczpbdCxlW3RdXX0pO31mdW5jdGlvbiBxdCh0LGUsaSl7ZS5wdXNoKHtjb21tYW5kOk50LnJlbW92ZVNvdXJjZSxhcmdzOlt0XX0pLGlbdF09ITA7fWZ1bmN0aW9uIGp0KHQsZSxpLG8pe3F0KHQsaSxvKSxadCh0LGUsaSk7fWZ1bmN0aW9uIFZ0KGUsaSxvKXt2YXIgcjtmb3IociBpbiBlW29dKWlmKGVbb10uaGFzT3duUHJvcGVydHkocikmJiJkYXRhIiE9PXImJiF0LmRlZXBFcXVhbChlW29dW3JdLGlbb11bcl0pKXJldHVybiAhMTtmb3IociBpbiBpW29dKWlmKGlbb10uaGFzT3duUHJvcGVydHkocikmJiJkYXRhIiE9PXImJiF0LmRlZXBFcXVhbChlW29dW3JdLGlbb11bcl0pKXJldHVybiAhMTtyZXR1cm4gITB9ZnVuY3Rpb24gR3QoZSxpLG8scixhLG4pe3ZhciBzO2ZvcihzIGluIGk9aXx8e30sZT1lfHx7fSllLmhhc093blByb3BlcnR5KHMpJiYodC5kZWVwRXF1YWwoZVtzXSxpW3NdKXx8by5wdXNoKHtjb21tYW5kOm4sYXJnczpbcixzLGlbc10sYV19KSk7Zm9yKHMgaW4gaSlpLmhhc093blByb3BlcnR5KHMpJiYhZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQuZGVlcEVxdWFsKGVbc10saVtzXSl8fG8ucHVzaCh7Y29tbWFuZDpuLGFyZ3M6W3IscyxpW3NdLGFdfSkpO31mdW5jdGlvbiBXdCh0KXtyZXR1cm4gdC5pZH1mdW5jdGlvbiBYdCh0LGUpe3JldHVybiB0W2UuaWRdPWUsdH12YXIgSHQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMuYm94Q2VsbHM9W10scj10aGlzLmNpcmNsZUNlbGxzPVtdO3RoaXMueENlbGxDb3VudD1NYXRoLmNlaWwodC9pKSx0aGlzLnlDZWxsQ291bnQ9TWF0aC5jZWlsKGUvaSk7Zm9yKHZhciBhPTA7YTx0aGlzLnhDZWxsQ291bnQqdGhpcy55Q2VsbENvdW50O2ErKylvLnB1c2goW10pLHIucHVzaChbXSk7dGhpcy5jaXJjbGVLZXlzPVtdLHRoaXMuYm94S2V5cz1bXSx0aGlzLmJib3hlcz1bXSx0aGlzLmNpcmNsZXM9W10sdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy54U2NhbGU9dGhpcy54Q2VsbENvdW50L3QsdGhpcy55U2NhbGU9dGhpcy55Q2VsbENvdW50L2UsdGhpcy5ib3hVaWQ9MCx0aGlzLmNpcmNsZVVpZD0wO307ZnVuY3Rpb24gS3QoZSxpLG8scixhKXt2YXIgbj10LmNyZWF0ZSgpO3JldHVybiBpPyh0LnNjYWxlKG4sbixbMS9hLDEvYSwxXSksb3x8dC5yb3RhdGVaKG4sbixyLmFuZ2xlKSk6dC5tdWx0aXBseShuLHIubGFiZWxQbGFuZU1hdHJpeCxlKSxufWZ1bmN0aW9uIFl0KGUsaSxvLHIsYSl7aWYoaSl7dmFyIG49dC5jbG9uZShlKTtyZXR1cm4gdC5zY2FsZShuLG4sW2EsYSwxXSksb3x8dC5yb3RhdGVaKG4sbiwtci5hbmdsZSksbn1yZXR1cm4gci5nbENvb3JkTWF0cml4fWZ1bmN0aW9uIEp0KGUsaSl7dmFyIG89W2UueCxlLnksMCwxXTtzZShvLG8saSk7dmFyIHI9b1szXTtyZXR1cm4ge3BvaW50Om5ldyB0LlBvaW50KG9bMF0vcixvWzFdL3IpLHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTpyfX1mdW5jdGlvbiBRdCh0LGUpe3ZhciBpPXRbMF0vdFszXSxvPXRbMV0vdFszXTtyZXR1cm4gaT49LWVbMF0mJmk8PWVbMF0mJm8+PS1lWzFdJiZvPD1lWzFdfWZ1bmN0aW9uICR0KGUsaSxvLHIsYSxuLHMsbCl7dmFyIGM9cj9lLnRleHRTaXplRGF0YTplLmljb25TaXplRGF0YSx1PXQuZXZhbHVhdGVTaXplRm9yWm9vbShjLG8udHJhbnNmb3JtLnpvb20pLGg9WzI1Ni9vLndpZHRoKjIrMSwyNTYvby5oZWlnaHQqMisxXSxwPXI/ZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTplLmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5O3AuY2xlYXIoKTtmb3IodmFyIGQ9ZS5saW5lVmVydGV4QXJyYXksXz1yP2UudGV4dC5wbGFjZWRTeW1ib2xBcnJheTplLmljb24ucGxhY2VkU3ltYm9sQXJyYXksZj1vLnRyYW5zZm9ybS53aWR0aC9vLnRyYW5zZm9ybS5oZWlnaHQsbT0hMSxnPTA7ZzxfLmxlbmd0aDtnKyspe3ZhciB2PV8uZ2V0KGcpO2lmKHYuaGlkZGVufHx2LndyaXRpbmdNb2RlPT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbCYmIW0pbmUodi5udW1HbHlwaHMscCk7ZWxzZXttPSExO3ZhciB5PVt2LmFuY2hvclgsdi5hbmNob3JZLDAsMV07aWYodC50cmFuc2Zvcm1NYXQ0KHkseSxpKSxRdCh5LGgpKXt2YXIgeD0uNSt5WzNdL28udHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UqLjUsYj10LmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoYyx1LHYpLHc9cz9iKng6Yi94LEU9bmV3IHQuUG9pbnQodi5hbmNob3JYLHYuYW5jaG9yWSksVD1KdChFLGEpLnBvaW50LEk9e30sQz1pZSh2LHcsITEsbCxpLGEsbixlLmdseXBoT2Zmc2V0QXJyYXksZCxwLFQsRSxJLGYpO209Qy51c2VWZXJ0aWNhbCwoQy5ub3RFbm91Z2hSb29tfHxtfHxDLm5lZWRzRmxpcHBpbmcmJmllKHYsdywhMCxsLGksYSxuLGUuZ2x5cGhPZmZzZXRBcnJheSxkLHAsVCxFLEksZikubm90RW5vdWdoUm9vbSkmJm5lKHYubnVtR2x5cGhzLHApO31lbHNlIG5lKHYubnVtR2x5cGhzLHApO319cj9lLnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHApOmUuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEocCk7fWZ1bmN0aW9uIHRlKHQsZSxpLG8scixhLG4scyxsLGMsdSxoKXt2YXIgcD1zLmdseXBoU3RhcnRJbmRleCtzLm51bUdseXBocyxkPXMubGluZVN0YXJ0SW5kZXgsXz1zLmxpbmVTdGFydEluZGV4K3MubGluZUxlbmd0aCxmPWUuZ2V0b2Zmc2V0WChzLmdseXBoU3RhcnRJbmRleCksbT1lLmdldG9mZnNldFgocC0xKSxnPXJlKHQqZixpLG8scixhLG4scy5zZWdtZW50LGQsXyxsLGMsdSxoKTtpZighZylyZXR1cm4gbnVsbDt2YXIgdj1yZSh0Km0saSxvLHIsYSxuLHMuc2VnbWVudCxkLF8sbCxjLHUsaCk7cmV0dXJuIHY/e2ZpcnN0OmcsbGFzdDp2fTpudWxsfWZ1bmN0aW9uIGVlKGUsaSxvLHIpe3JldHVybiBlPT09dC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsJiZNYXRoLmFicyhvLnktaS55KT5NYXRoLmFicyhvLngtaS54KSpyP3t1c2VWZXJ0aWNhbDohMH06KGU9PT10LldyaXRpbmdNb2RlLnZlcnRpY2FsP2kueTxvLnk6aS54Pm8ueCk/e25lZWRzRmxpcHBpbmc6ITB9Om51bGx9ZnVuY3Rpb24gaWUoZSxpLG8scixhLG4scyxsLGMsdSxoLHAsZCxfKXt2YXIgZixtPWkvMjQsZz1lLmxpbmVPZmZzZXRYKm0sdj1lLmxpbmVPZmZzZXRZKm07aWYoZS5udW1HbHlwaHM+MSl7dmFyIHk9ZS5nbHlwaFN0YXJ0SW5kZXgrZS5udW1HbHlwaHMseD1lLmxpbmVTdGFydEluZGV4LGI9ZS5saW5lU3RhcnRJbmRleCtlLmxpbmVMZW5ndGgsdz10ZShtLGwsZyx2LG8saCxwLGUsYyxuLGQsITEpO2lmKCF3KXJldHVybiB7bm90RW5vdWdoUm9vbTohMH07dmFyIEU9SnQody5maXJzdC5wb2ludCxzKS5wb2ludCxUPUp0KHcubGFzdC5wb2ludCxzKS5wb2ludDtpZihyJiYhbyl7dmFyIEk9ZWUoZS53cml0aW5nTW9kZSxFLFQsXyk7aWYoSSlyZXR1cm4gSX1mPVt3LmZpcnN0XTtmb3IodmFyIEM9ZS5nbHlwaFN0YXJ0SW5kZXgrMTtDPHktMTtDKyspZi5wdXNoKHJlKG0qbC5nZXRvZmZzZXRYKEMpLGcsdixvLGgscCxlLnNlZ21lbnQseCxiLGMsbixkLCExKSk7Zi5wdXNoKHcubGFzdCk7fWVsc2V7aWYociYmIW8pe3ZhciBTPUp0KHAsYSkucG9pbnQsUD1lLmxpbmVTdGFydEluZGV4K2Uuc2VnbWVudCsxLHo9bmV3IHQuUG9pbnQoYy5nZXR4KFApLGMuZ2V0eShQKSksTD1KdCh6LGEpLE09TC5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9MLnBvaW50Om9lKHAseixTLDEsYSksRD1lZShlLndyaXRpbmdNb2RlLFMsTSxfKTtpZihEKXJldHVybiBEfXZhciBBPXJlKG0qbC5nZXRvZmZzZXRYKGUuZ2x5cGhTdGFydEluZGV4KSxnLHYsbyxoLHAsZS5zZWdtZW50LGUubGluZVN0YXJ0SW5kZXgsZS5saW5lU3RhcnRJbmRleCtlLmxpbmVMZW5ndGgsYyxuLGQsITEpO2lmKCFBKXJldHVybiB7bm90RW5vdWdoUm9vbTohMH07Zj1bQV07fWZvcih2YXIgUj0wLGs9ZjtSPGsubGVuZ3RoO1IrPTEpe3ZhciBCPWtbUl07dC5hZGREeW5hbWljQXR0cmlidXRlcyh1LEIucG9pbnQsQi5hbmdsZSk7fXJldHVybiB7fX1mdW5jdGlvbiBvZSh0LGUsaSxvLHIpe3ZhciBhPUp0KHQuYWRkKHQuc3ViKGUpLl91bml0KCkpLHIpLnBvaW50LG49aS5zdWIoYSk7cmV0dXJuIGkuYWRkKG4uX211bHQoby9uLm1hZygpKSl9ZnVuY3Rpb24gcmUoZSxpLG8scixhLG4scyxsLGMsdSxoLHAsZCl7dmFyIF89cj9lLWk6ZStpLGY9Xz4wPzE6LTEsbT0wO3ImJihmKj0tMSxtPU1hdGguUEkpLGY8MCYmKG0rPU1hdGguUEkpO2Zvcih2YXIgZz1mPjA/bCtzOmwrcysxLHY9Zyx5PWEseD1hLGI9MCx3PTAsRT1NYXRoLmFicyhfKTtiK3c8PUU7KXtpZigoZys9Zik8bHx8Zz49YylyZXR1cm4gbnVsbDtpZih4PXksdm9pZCAwPT09KHk9cFtnXSkpe3ZhciBUPW5ldyB0LlBvaW50KHUuZ2V0eChnKSx1LmdldHkoZykpLEk9SnQoVCxoKTtpZihJLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wKXk9cFtnXT1JLnBvaW50O2Vsc2V7dmFyIEM9Zy1mO3k9b2UoMD09PWI/bjpuZXcgdC5Qb2ludCh1LmdldHgoQyksdS5nZXR5KEMpKSxULHgsRS1iKzEsaCk7fX1iKz13LHc9eC5kaXN0KHkpO312YXIgUz0oRS1iKS93LFA9eS5zdWIoeCksej1QLm11bHQoUykuX2FkZCh4KTtyZXR1cm4gei5fYWRkKFAuX3VuaXQoKS5fcGVycCgpLl9tdWx0KG8qZikpLHtwb2ludDp6LGFuZ2xlOm0rTWF0aC5hdGFuMih5LnkteC55LHkueC14LngpLHRpbGVEaXN0YW5jZTpkP3twcmV2VGlsZURpc3RhbmNlOmctZj09PXY/MDp1LmdldHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yKGctZiksbGFzdFNlZ21lbnRWaWV3cG9ydERpc3RhbmNlOkUtYn06bnVsbH19SHQucHJvdG90eXBlLmtleXNMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3hLZXlzLmxlbmd0aCt0aGlzLmNpcmNsZUtleXMubGVuZ3RofSxIdC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSxpLG8scil7dGhpcy5fZm9yRWFjaENlbGwoZSxpLG8scix0aGlzLl9pbnNlcnRCb3hDZWxsLHRoaXMuYm94VWlkKyspLHRoaXMuYm94S2V5cy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2goZSksdGhpcy5iYm94ZXMucHVzaChpKSx0aGlzLmJib3hlcy5wdXNoKG8pLHRoaXMuYmJveGVzLnB1c2gocik7fSxIdC5wcm90b3R5cGUuaW5zZXJ0Q2lyY2xlPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMuX2ZvckVhY2hDZWxsKGUtbyxpLW8sZStvLGkrbyx0aGlzLl9pbnNlcnRDaXJjbGVDZWxsLHRoaXMuY2lyY2xlVWlkKyspLHRoaXMuY2lyY2xlS2V5cy5wdXNoKHQpLHRoaXMuY2lyY2xlcy5wdXNoKGUpLHRoaXMuY2lyY2xlcy5wdXNoKGkpLHRoaXMuY2lyY2xlcy5wdXNoKG8pO30sSHQucHJvdG90eXBlLl9pbnNlcnRCb3hDZWxsPWZ1bmN0aW9uKHQsZSxpLG8scixhKXt0aGlzLmJveENlbGxzW3JdLnB1c2goYSk7fSxIdC5wcm90b3R5cGUuX2luc2VydENpcmNsZUNlbGw9ZnVuY3Rpb24odCxlLGksbyxyLGEpe3RoaXMuY2lyY2xlQ2VsbHNbcl0ucHVzaChhKTt9LEh0LnByb3RvdHlwZS5fcXVlcnk9ZnVuY3Rpb24odCxlLGksbyxyLGEpe2lmKGk8MHx8dD50aGlzLndpZHRofHxvPDB8fGU+dGhpcy5oZWlnaHQpcmV0dXJuICFyJiZbXTt2YXIgbj1bXTtpZih0PD0wJiZlPD0wJiZ0aGlzLndpZHRoPD1pJiZ0aGlzLmhlaWdodDw9byl7aWYocilyZXR1cm4gITA7Zm9yKHZhciBzPTA7czx0aGlzLmJveEtleXMubGVuZ3RoO3MrKyluLnB1c2goe2tleTp0aGlzLmJveEtleXNbc10seDE6dGhpcy5iYm94ZXNbNCpzXSx5MTp0aGlzLmJib3hlc1s0KnMrMV0seDI6dGhpcy5iYm94ZXNbNCpzKzJdLHkyOnRoaXMuYmJveGVzWzQqcyszXX0pO2Zvcih2YXIgbD0wO2w8dGhpcy5jaXJjbGVLZXlzLmxlbmd0aDtsKyspe3ZhciBjPXRoaXMuY2lyY2xlc1szKmxdLHU9dGhpcy5jaXJjbGVzWzMqbCsxXSxoPXRoaXMuY2lyY2xlc1szKmwrMl07bi5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW2xdLHgxOmMtaCx5MTp1LWgseDI6YytoLHkyOnUraH0pO31yZXR1cm4gYT9uLmZpbHRlcihhKTpufXJldHVybiB0aGlzLl9mb3JFYWNoQ2VsbCh0LGUsaSxvLHRoaXMuX3F1ZXJ5Q2VsbCxuLHtoaXRUZXN0OnIsc2VlblVpZHM6e2JveDp7fSxjaXJjbGU6e319fSxhKSxyP24ubGVuZ3RoPjA6bn0sSHQucHJvdG90eXBlLl9xdWVyeUNpcmNsZT1mdW5jdGlvbih0LGUsaSxvLHIpe3ZhciBhPXQtaSxuPXQraSxzPWUtaSxsPWUraTtpZihuPDB8fGE+dGhpcy53aWR0aHx8bDwwfHxzPnRoaXMuaGVpZ2h0KXJldHVybiAhbyYmW107dmFyIGM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKGEscyxuLGwsdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLGMse2hpdFRlc3Q6byxjaXJjbGU6e3g6dCx5OmUscmFkaXVzOml9LHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sciksbz9jLmxlbmd0aD4wOmN9LEh0LnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUsaSxvLHIpe3JldHVybiB0aGlzLl9xdWVyeSh0LGUsaSxvLCExLHIpfSxIdC5wcm90b3R5cGUuaGl0VGVzdD1mdW5jdGlvbih0LGUsaSxvLHIpe3JldHVybiB0aGlzLl9xdWVyeSh0LGUsaSxvLCEwLHIpfSxIdC5wcm90b3R5cGUuaGl0VGVzdENpcmNsZT1mdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gdGhpcy5fcXVlcnlDaXJjbGUodCxlLGksITAsbyl9LEh0LnByb3RvdHlwZS5fcXVlcnlDZWxsPWZ1bmN0aW9uKHQsZSxpLG8scixhLG4scyl7dmFyIGw9bi5zZWVuVWlkcyxjPXRoaXMuYm94Q2VsbHNbcl07aWYobnVsbCE9PWMpZm9yKHZhciB1PXRoaXMuYmJveGVzLGg9MCxwPWM7aDxwLmxlbmd0aDtoKz0xKXt2YXIgZD1wW2hdO2lmKCFsLmJveFtkXSl7bC5ib3hbZF09ITA7dmFyIF89NCpkO2lmKHQ8PXVbXysyXSYmZTw9dVtfKzNdJiZpPj11W18rMF0mJm8+PXVbXysxXSYmKCFzfHxzKHRoaXMuYm94S2V5c1tkXSkpKXtpZihuLmhpdFRlc3QpcmV0dXJuIGEucHVzaCghMCksITA7YS5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW2RdLHgxOnVbX10seTE6dVtfKzFdLHgyOnVbXysyXSx5Mjp1W18rM119KTt9fX12YXIgZj10aGlzLmNpcmNsZUNlbGxzW3JdO2lmKG51bGwhPT1mKWZvcih2YXIgbT10aGlzLmNpcmNsZXMsZz0wLHY9ZjtnPHYubGVuZ3RoO2crPTEpe3ZhciB5PXZbZ107aWYoIWwuY2lyY2xlW3ldKXtsLmNpcmNsZVt5XT0hMDt2YXIgeD0zKnk7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobVt4XSxtW3grMV0sbVt4KzJdLHQsZSxpLG8pJiYoIXN8fHModGhpcy5jaXJjbGVLZXlzW3ldKSkpe2lmKG4uaGl0VGVzdClyZXR1cm4gYS5wdXNoKCEwKSwhMDt2YXIgYj1tW3hdLHc9bVt4KzFdLEU9bVt4KzJdO2EucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1t5XSx4MTpiLUUseTE6dy1FLHgyOmIrRSx5Mjp3K0V9KTt9fX19LEh0LnByb3RvdHlwZS5fcXVlcnlDZWxsQ2lyY2xlPWZ1bmN0aW9uKHQsZSxpLG8scixhLG4scyl7dmFyIGw9bi5jaXJjbGUsYz1uLnNlZW5VaWRzLHU9dGhpcy5ib3hDZWxsc1tyXTtpZihudWxsIT09dSlmb3IodmFyIGg9dGhpcy5iYm94ZXMscD0wLGQ9dTtwPGQubGVuZ3RoO3ArPTEpe3ZhciBfPWRbcF07aWYoIWMuYm94W19dKXtjLmJveFtfXT0hMDt2YXIgZj00Kl87aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobC54LGwueSxsLnJhZGl1cyxoW2YrMF0saFtmKzFdLGhbZisyXSxoW2YrM10pJiYoIXN8fHModGhpcy5ib3hLZXlzW19dKSkpcmV0dXJuIGEucHVzaCghMCksITB9fXZhciBtPXRoaXMuY2lyY2xlQ2VsbHNbcl07aWYobnVsbCE9PW0pZm9yKHZhciBnPXRoaXMuY2lyY2xlcyx2PTAseT1tO3Y8eS5sZW5ndGg7dis9MSl7dmFyIHg9eVt2XTtpZighYy5jaXJjbGVbeF0pe2MuY2lyY2xlW3hdPSEwO3ZhciBiPTMqeDtpZih0aGlzLl9jaXJjbGVzQ29sbGlkZShnW2JdLGdbYisxXSxnW2IrMl0sbC54LGwueSxsLnJhZGl1cykmJighc3x8cyh0aGlzLmNpcmNsZUtleXNbeF0pKSlyZXR1cm4gYS5wdXNoKCEwKSwhMH19fSxIdC5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKHQsZSxpLG8scixhLG4scyl7Zm9yKHZhciBsPXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQodCksYz10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKGUpLHU9dGhpcy5fY29udmVydFRvWENlbGxDb29yZChpKSxoPXRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQobykscD1sO3A8PXU7cCsrKWZvcih2YXIgZD1jO2Q8PWg7ZCsrKWlmKHIuY2FsbCh0aGlzLHQsZSxpLG8sdGhpcy54Q2VsbENvdW50KmQrcCxhLG4scykpcmV0dXJufSxIdC5wcm90b3R5cGUuX2NvbnZlcnRUb1hDZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy54Q2VsbENvdW50LTEsTWF0aC5mbG9vcih0KnRoaXMueFNjYWxlKSkpfSxIdC5wcm90b3R5cGUuX2NvbnZlcnRUb1lDZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy55Q2VsbENvdW50LTEsTWF0aC5mbG9vcih0KnRoaXMueVNjYWxlKSkpfSxIdC5wcm90b3R5cGUuX2NpcmNsZXNDb2xsaWRlPWZ1bmN0aW9uKHQsZSxpLG8scixhKXt2YXIgbj1vLXQscz1yLWUsbD1pK2E7cmV0dXJuIGwqbD5uKm4rcypzfSxIdC5wcm90b3R5cGUuX2NpcmNsZUFuZFJlY3RDb2xsaWRlPWZ1bmN0aW9uKHQsZSxpLG8scixhLG4pe3ZhciBzPShhLW8pLzIsbD1NYXRoLmFicyh0LShvK3MpKTtpZihsPnMraSlyZXR1cm4gITE7dmFyIGM9KG4tcikvMix1PU1hdGguYWJzKGUtKHIrYykpO2lmKHU+YytpKXJldHVybiAhMTtpZihsPD1zfHx1PD1jKXJldHVybiAhMDt2YXIgaD1sLXMscD11LWM7cmV0dXJuIGgqaCtwKnA8PWkqaX07dmFyIGFlPW5ldyBGbG9hdDMyQXJyYXkoWy0xLzAsLTEvMCwwLC0xLzAsLTEvMCwwLC0xLzAsLTEvMCwwLC0xLzAsLTEvMCwwXSk7ZnVuY3Rpb24gbmUodCxlKXtmb3IodmFyIGk9MDtpPHQ7aSsrKXt2YXIgbz1lLmxlbmd0aDtlLnJlc2l6ZShvKzQpLGUuZmxvYXQzMi5zZXQoYWUsMypvKTt9fWZ1bmN0aW9uIHNlKHQsZSxpKXt2YXIgbz1lWzBdLHI9ZVsxXTtyZXR1cm4gdFswXT1pWzBdKm8raVs0XSpyK2lbMTJdLHRbMV09aVsxXSpvK2lbNV0qcitpWzEzXSx0WzNdPWlbM10qbytpWzddKnIraVsxNV0sdH12YXIgbGU9ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPW5ldyBIdCh0LndpZHRoKzIwMCx0LmhlaWdodCsyMDAsMjUpKSx2b2lkIDA9PT1pJiYoaT1uZXcgSHQodC53aWR0aCsyMDAsdC5oZWlnaHQrMjAwLDI1KSksdGhpcy50cmFuc2Zvcm09dCx0aGlzLmdyaWQ9ZSx0aGlzLmlnbm9yZWRHcmlkPWksdGhpcy5waXRjaGZhY3Rvcj1NYXRoLmNvcyh0Ll9waXRjaCkqdC5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeT10LndpZHRoKzEwMCx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5PXQuaGVpZ2h0KzEwMCx0aGlzLmdyaWRSaWdodEJvdW5kYXJ5PXQud2lkdGgrMjAwLHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5PXQuaGVpZ2h0KzIwMDt9O2Z1bmN0aW9uIGNlKHQsZSxpKXt0W2UrNF09aT8xOjA7fWZ1bmN0aW9uIHVlKGUsaSxvKXtyZXR1cm4gaSoodC5FWFRFTlQvKGUudGlsZVNpemUqTWF0aC5wb3coMixvLWUudGlsZUlELm92ZXJzY2FsZWRaKSkpfWxlLnByb3RvdHlwZS5wbGFjZUNvbGxpc2lvbkJveD1mdW5jdGlvbih0LGUsaSxvLHIpe3ZhciBhPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8obyx0LmFuY2hvclBvaW50WCx0LmFuY2hvclBvaW50WSksbj1pKmEucGVyc3BlY3RpdmVSYXRpbyxzPXQueDEqbithLnBvaW50LngsbD10LnkxKm4rYS5wb2ludC55LGM9dC54MipuK2EucG9pbnQueCx1PXQueTIqbithLnBvaW50Lnk7cmV0dXJuICF0aGlzLmlzSW5zaWRlR3JpZChzLGwsYyx1KXx8IWUmJnRoaXMuZ3JpZC5oaXRUZXN0KHMsbCxjLHUscik/e2JveDpbXSxvZmZzY3JlZW46ITF9Ontib3g6W3MsbCxjLHVdLG9mZnNjcmVlbjp0aGlzLmlzT2Zmc2NyZWVuKHMsbCxjLHUpfX0sbGUucHJvdG90eXBlLmFwcHJveGltYXRlVGlsZURpc3RhbmNlPWZ1bmN0aW9uKHQsZSxpLG8scil7dmFyIGE9dC5sYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2UqaTtyZXR1cm4gdC5wcmV2VGlsZURpc3RhbmNlK2ErKChyPzE6by90aGlzLnBpdGNoZmFjdG9yKS0xKSphKk1hdGguYWJzKE1hdGguc2luKGUpKX0sbGUucHJvdG90eXBlLnBsYWNlQ29sbGlzaW9uQ2lyY2xlcz1mdW5jdGlvbihlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkKXt2YXIgXz1bXSxmPXRoaXMucHJvamVjdEFuY2hvcihjLGEuYW5jaG9yWCxhLmFuY2hvclkpLG09bC8yNCxnPWEubGluZU9mZnNldFgqbCx2PWEubGluZU9mZnNldFkqbCx5PW5ldyB0LlBvaW50KGEuYW5jaG9yWCxhLmFuY2hvclkpLHg9dGUobSxzLGcsdiwhMSxKdCh5LHUpLnBvaW50LHksYSxuLHUse30sITApLGI9ITEsdz0hMSxFPSEwLFQ9Zi5wZXJzcGVjdGl2ZVJhdGlvKnIsST0xLyhyKm8pLEM9MCxTPTA7eCYmKEM9dGhpcy5hcHByb3hpbWF0ZVRpbGVEaXN0YW5jZSh4LmZpcnN0LnRpbGVEaXN0YW5jZSx4LmZpcnN0LmFuZ2xlLEksZi5jYW1lcmFEaXN0YW5jZSxwKSxTPXRoaXMuYXBwcm94aW1hdGVUaWxlRGlzdGFuY2UoeC5sYXN0LnRpbGVEaXN0YW5jZSx4Lmxhc3QuYW5nbGUsSSxmLmNhbWVyYURpc3RhbmNlLHApKTtmb3IodmFyIFA9MDtQPGUubGVuZ3RoO1ArPTUpe3ZhciB6PWVbUF0sTD1lW1ArMV0sTT1lW1ArMl0sRD1lW1ArM107aWYoIXh8fEQ8LUN8fEQ+UyljZShlLFAsITEpO2Vsc2V7dmFyIEE9dGhpcy5wcm9qZWN0UG9pbnQoYyx6LEwpLFI9TSpUO2lmKF8ubGVuZ3RoPjApe3ZhciBrPUEueC1fW18ubGVuZ3RoLTRdLEI9QS55LV9bXy5sZW5ndGgtM107aWYoUipSKjI+ayprK0IqQiYmUCs4PGUubGVuZ3RoKXt2YXIgTz1lW1ArOF07aWYoTz4tQyYmTzxTKXtjZShlLFAsITEpO2NvbnRpbnVlfX19Xy5wdXNoKEEueCxBLnksUixQLzUpLGNlKGUsUCwhMCk7dmFyIEY9QS54LVIsVT1BLnktUixOPUEueCtSLFo9QS55K1I7aWYoRT1FJiZ0aGlzLmlzT2Zmc2NyZWVuKEYsVSxOLFopLHc9d3x8dGhpcy5pc0luc2lkZUdyaWQoRixVLE4sWiksIWkmJnRoaXMuZ3JpZC5oaXRUZXN0Q2lyY2xlKEEueCxBLnksUixkKSl7aWYoIWgpcmV0dXJuIHtjaXJjbGVzOltdLG9mZnNjcmVlbjohMX07Yj0hMDt9fX1yZXR1cm4ge2NpcmNsZXM6Ynx8IXc/W106XyxvZmZzY3JlZW46RX19LGxlLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkU3ltYm9scz1mdW5jdGlvbihlKXtpZigwPT09ZS5sZW5ndGh8fDA9PT10aGlzLmdyaWQua2V5c0xlbmd0aCgpJiYwPT09dGhpcy5pZ25vcmVkR3JpZC5rZXlzTGVuZ3RoKCkpcmV0dXJuIHt9O2Zvcih2YXIgaT1bXSxvPTEvMCxyPTEvMCxhPS0xLzAsbj0tMS8wLHM9MCxsPWU7czxsLmxlbmd0aDtzKz0xKXt2YXIgYz1sW3NdLHU9bmV3IHQuUG9pbnQoYy54KzEwMCxjLnkrMTAwKTtvPU1hdGgubWluKG8sdS54KSxyPU1hdGgubWluKHIsdS55KSxhPU1hdGgubWF4KGEsdS54KSxuPU1hdGgubWF4KG4sdS55KSxpLnB1c2godSk7fWZvcih2YXIgaD17fSxwPXt9LGQ9MCxfPXRoaXMuZ3JpZC5xdWVyeShvLHIsYSxuKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShvLHIsYSxuKSk7ZDxfLmxlbmd0aDtkKz0xKXt2YXIgZj1fW2RdLG09Zi5rZXk7aWYodm9pZCAwPT09aFttLmJ1Y2tldEluc3RhbmNlSWRdJiYoaFttLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSwhaFttLmJ1Y2tldEluc3RhbmNlSWRdW20uZmVhdHVyZUluZGV4XSl7dmFyIGc9W25ldyB0LlBvaW50KGYueDEsZi55MSksbmV3IHQuUG9pbnQoZi54MixmLnkxKSxuZXcgdC5Qb2ludChmLngyLGYueTIpLG5ldyB0LlBvaW50KGYueDEsZi55MildO3QucG9seWdvbkludGVyc2VjdHNQb2x5Z29uKGksZykmJihoW20uYnVja2V0SW5zdGFuY2VJZF1bbS5mZWF0dXJlSW5kZXhdPSEwLHZvaWQgMD09PXBbbS5idWNrZXRJbnN0YW5jZUlkXSYmKHBbbS5idWNrZXRJbnN0YW5jZUlkXT1bXSkscFttLmJ1Y2tldEluc3RhbmNlSWRdLnB1c2gobS5mZWF0dXJlSW5kZXgpKTt9fXJldHVybiBwfSxsZS5wcm90b3R5cGUuaW5zZXJ0Q29sbGlzaW9uQm94PWZ1bmN0aW9uKHQsZSxpLG8scil7KGU/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQpLmluc2VydCh7YnVja2V0SW5zdGFuY2VJZDppLGZlYXR1cmVJbmRleDpvLGNvbGxpc2lvbkdyb3VwSUQ6cn0sdFswXSx0WzFdLHRbMl0sdFszXSk7fSxsZS5wcm90b3R5cGUuaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcz1mdW5jdGlvbih0LGUsaSxvLHIpe2Zvcih2YXIgYT1lP3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkLG49e2J1Y2tldEluc3RhbmNlSWQ6aSxmZWF0dXJlSW5kZXg6byxjb2xsaXNpb25Hcm91cElEOnJ9LHM9MDtzPHQubGVuZ3RoO3MrPTQpYS5pbnNlcnRDaXJjbGUobix0W3NdLHRbcysxXSx0W3MrMl0pO30sbGUucHJvdG90eXBlLnByb2plY3RBbmNob3I9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPVtlLGksMCwxXTtyZXR1cm4gc2UobyxvLHQpLHtwZXJzcGVjdGl2ZVJhdGlvOi41K3RoaXMudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2Uvb1szXSouNSxjYW1lcmFEaXN0YW5jZTpvWzNdfX0sbGUucHJvdG90eXBlLnByb2plY3RQb2ludD1mdW5jdGlvbihlLGksbyl7dmFyIHI9W2ksbywwLDFdO3JldHVybiBzZShyLHIsZSksbmV3IHQuUG9pbnQoKHJbMF0vclszXSsxKS8yKnRoaXMudHJhbnNmb3JtLndpZHRoKzEwMCwoLXJbMV0vclszXSsxKS8yKnRoaXMudHJhbnNmb3JtLmhlaWdodCsxMDApfSxsZS5wcm90b3R5cGUucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW89ZnVuY3Rpb24oZSxpLG8pe3ZhciByPVtpLG8sMCwxXTtyZXR1cm4gc2UocixyLGUpLHtwb2ludDpuZXcgdC5Qb2ludCgoclswXS9yWzNdKzEpLzIqdGhpcy50cmFuc2Zvcm0ud2lkdGgrMTAwLCgtclsxXS9yWzNdKzEpLzIqdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KzEwMCkscGVyc3BlY3RpdmVSYXRpbzouNSt0aGlzLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL3JbM10qLjV9fSxsZS5wcm90b3R5cGUuaXNPZmZzY3JlZW49ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIGk8MTAwfHx0Pj10aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnl8fG88MTAwfHxlPnRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnl9LGxlLnByb3RvdHlwZS5pc0luc2lkZUdyaWQ9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIGk+PTAmJnQ8dGhpcy5ncmlkUmlnaHRCb3VuZGFyeSYmbz49MCYmZTx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeX07dmFyIGhlPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMub3BhY2l0eT10P01hdGgubWF4KDAsTWF0aC5taW4oMSx0Lm9wYWNpdHkrKHQucGxhY2VkP2U6LWUpKSk6byYmaT8xOjAsdGhpcy5wbGFjZWQ9aTt9O2hlLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5vcGFjaXR5JiYhdGhpcy5wbGFjZWR9O3ZhciBwZT1mdW5jdGlvbih0LGUsaSxvLHIpe3RoaXMudGV4dD1uZXcgaGUodD90LnRleHQ6bnVsbCxlLGksciksdGhpcy5pY29uPW5ldyBoZSh0P3QuaWNvbjpudWxsLGUsbyxyKTt9O3BlLnByb3RvdHlwZS5pc0hpZGRlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSYmdGhpcy5pY29uLmlzSGlkZGVuKCl9O3ZhciBkZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50ZXh0PXQsdGhpcy5pY29uPWUsdGhpcy5za2lwRmFkZT1pO30sX2U9ZnVuY3Rpb24odCxlLGksbyxyKXt0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9dCx0aGlzLmZlYXR1cmVJbmRleD1lLHRoaXMuc291cmNlTGF5ZXJJbmRleD1pLHRoaXMuYnVja2V0SW5kZXg9byx0aGlzLnRpbGVJRD1yO30sZmU9ZnVuY3Rpb24odCl7dGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM9dCx0aGlzLm1heEdyb3VwSUQ9MCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz17fTt9O2Z1bmN0aW9uIG1lKGUsaSxvLHIsYSl7dmFyIG49dC5nZXRBbmNob3JBbGlnbm1lbnQoZSkscz0tKG4uaG9yaXpvbnRhbEFsaWduLS41KSppLGw9LShuLnZlcnRpY2FsQWxpZ24tLjUpKm8sYz10LmV2YWx1YXRlVmFyaWFibGVPZmZzZXQoZSxyKTtyZXR1cm4gbmV3IHQuUG9pbnQocytjWzBdKmEsbCtjWzFdKmEpfWZ1bmN0aW9uIGdlKGUsaSxvLHIsYSxuKXt2YXIgcz1lLngxLGw9ZS54MixjPWUueTEsdT1lLnkyLGg9ZS5hbmNob3JQb2ludFgscD1lLmFuY2hvclBvaW50WSxkPW5ldyB0LlBvaW50KGksbyk7cmV0dXJuIHImJmQuX3JvdGF0ZShhP246LW4pLHt4MTpzK2QueCx5MTpjK2QueSx4MjpsK2QueCx5Mjp1K2QueSxhbmNob3JQb2ludFg6aCxhbmNob3JQb2ludFk6cH19ZmUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZih0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucylyZXR1cm4ge0lEOjAscHJlZGljYXRlOm51bGx9O2lmKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1t0XSl7dmFyIGU9Kyt0aGlzLm1heEdyb3VwSUQ7dGhpcy5jb2xsaXNpb25Hcm91cHNbdF09e0lEOmUscHJlZGljYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbGxpc2lvbkdyb3VwSUQ9PT1lfX07fXJldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwc1t0XX07dmFyIHZlPWZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMudHJhbnNmb3JtPXQuY2xvbmUoKSx0aGlzLmNvbGxpc2lvbkluZGV4PW5ldyBsZSh0aGlzLnRyYW5zZm9ybSksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249ZSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyBmZShpKSx0aGlzLnByZXZQbGFjZW1lbnQ9byxvJiYoby5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e307fTtmdW5jdGlvbiB5ZSh0LGUsaSxvLHIpe3QuZW1wbGFjZUJhY2soZT8xOjAsaT8xOjAsb3x8MCxyfHwwKSx0LmVtcGxhY2VCYWNrKGU/MTowLGk/MTowLG98fDAscnx8MCksdC5lbXBsYWNlQmFjayhlPzE6MCxpPzE6MCxvfHwwLHJ8fDApLHQuZW1wbGFjZUJhY2soZT8xOjAsaT8xOjAsb3x8MCxyfHwwKTt9dmUucHJvdG90eXBlLmdldEJ1Y2tldFBhcnRzPWZ1bmN0aW9uKGUsaSxvLHIpe3ZhciBhPW8uZ2V0QnVja2V0KGkpLG49by5sYXRlc3RGZWF0dXJlSW5kZXg7aWYoYSYmbiYmaS5pZD09PWEubGF5ZXJJZHNbMF0pe3ZhciBzPW8uY29sbGlzaW9uQm94QXJyYXksbD1hLmxheWVyc1swXS5sYXlvdXQsYz1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20tby50aWxlSUQub3ZlcnNjYWxlZFopLHU9by50aWxlU2l6ZS90LkVYVEVOVCxoPXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChvLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxwPUt0KGgsIm1hcCI9PT1sLmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSwibWFwIj09PWwuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLHRoaXMudHJhbnNmb3JtLHVlKG8sMSx0aGlzLnRyYW5zZm9ybS56b29tKSk7dGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVthLmJ1Y2tldEluc3RhbmNlSWRdPW5ldyBfZShhLmJ1Y2tldEluc3RhbmNlSWQsbixhLnNvdXJjZUxheWVySW5kZXgsYS5pbmRleCxvLnRpbGVJRCk7dmFyIGQ9e2J1Y2tldDphLGxheW91dDpsLHBvc01hdHJpeDpoLHRleHRMYWJlbFBsYW5lTWF0cml4OnAsc2NhbGU6Yyx0ZXh0UGl4ZWxSYXRpbzp1LGhvbGRpbmdGb3JGYWRlOm8uaG9sZGluZ0ZvckZhZGUoKSxjb2xsaXNpb25Cb3hBcnJheTpzLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOnQuZXZhbHVhdGVTaXplRm9yWm9vbShhLnRleHRTaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxjb2xsaXNpb25Hcm91cDp0aGlzLmNvbGxpc2lvbkdyb3Vwcy5nZXQoYS5zb3VyY2VJRCl9O2lmKHIpZm9yKHZhciBfPTAsZj1hLnNvcnRLZXlSYW5nZXM7XzxmLmxlbmd0aDtfKz0xKXt2YXIgbT1mW19dO2UucHVzaCh7c29ydEtleTptLnNvcnRLZXksc3ltYm9sSW5zdGFuY2VTdGFydDptLnN5bWJvbEluc3RhbmNlU3RhcnQsc3ltYm9sSW5zdGFuY2VFbmQ6bS5zeW1ib2xJbnN0YW5jZUVuZCxwYXJhbWV0ZXJzOmR9KTt9ZWxzZSBlLnB1c2goe3N5bWJvbEluc3RhbmNlU3RhcnQ6MCxzeW1ib2xJbnN0YW5jZUVuZDphLnN5bWJvbEluc3RhbmNlcy5sZW5ndGgscGFyYW1ldGVyczpkfSk7fX0sdmUucHJvdG90eXBlLmF0dGVtcHRBbmNob3JQbGFjZW1lbnQ9ZnVuY3Rpb24odCxlLGksbyxyLGEsbixzLGwsYyx1LGgscCxkLF8pe3ZhciBmLG09W2gudGV4dE9mZnNldDAsaC50ZXh0T2Zmc2V0MV0sZz1tZSh0LGksbyxtLHIpLHY9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChnZShlLGcueCxnLnksYSxuLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx1LHMsbCxjLnByZWRpY2F0ZSk7aWYoIV98fDAhPT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGdlKF8sZy54LGcueSxhLG4sdGhpcy50cmFuc2Zvcm0uYW5nbGUpLHUscyxsLGMucHJlZGljYXRlKS5ib3gubGVuZ3RoKXJldHVybiB2LmJveC5sZW5ndGg+MD8odGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2guY3Jvc3NUaWxlSURdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1toLmNyb3NzVGlsZUlEXSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbaC5jcm9zc1RpbGVJRF0udGV4dCYmKGY9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1toLmNyb3NzVGlsZUlEXS5hbmNob3IpLHRoaXMudmFyaWFibGVPZmZzZXRzW2guY3Jvc3NUaWxlSURdPXt0ZXh0T2Zmc2V0Om0sd2lkdGg6aSxoZWlnaHQ6byxhbmNob3I6dCx0ZXh0Qm94U2NhbGU6cixwcmV2QW5jaG9yOmZ9LHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHAsdCxoLGQpLHAuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihwLGQsaCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbaC5jcm9zc1RpbGVJRF09ZCkse3NoaWZ0OmcscGxhY2VkR2x5cGhCb3hlczp2fSk6dm9pZCAwfSx2ZS5wcm90b3R5cGUucGxhY2VMYXllckJ1Y2tldFBhcnQ9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXMsYT1lLnBhcmFtZXRlcnMsbj1hLmJ1Y2tldCxzPWEubGF5b3V0LGw9YS5wb3NNYXRyaXgsYz1hLnRleHRMYWJlbFBsYW5lTWF0cml4LHU9YS5zY2FsZSxoPWEudGV4dFBpeGVsUmF0aW8scD1hLmhvbGRpbmdGb3JGYWRlLGQ9YS5jb2xsaXNpb25Cb3hBcnJheSxfPWEucGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUsZj1hLmNvbGxpc2lvbkdyb3VwLG09cy5nZXQoInRleHQtb3B0aW9uYWwiKSxnPXMuZ2V0KCJpY29uLW9wdGlvbmFsIiksdj1zLmdldCgidGV4dC1hbGxvdy1vdmVybGFwIikseT1zLmdldCgiaWNvbi1hbGxvdy1vdmVybGFwIikseD0ibWFwIj09PXMuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLGI9Im1hcCI9PT1zLmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSx3PSJub25lIiE9PXMuZ2V0KCJpY29uLXRleHQtZml0IiksRT0idmlld3BvcnQteSI9PT1zLmdldCgic3ltYm9sLXotb3JkZXIiKSxUPXYmJih5fHwhbi5oYXNJY29uRGF0YSgpfHxnKSxJPXkmJih2fHwhbi5oYXNUZXh0RGF0YSgpfHxtKTshbi5jb2xsaXNpb25BcnJheXMmJmQmJm4uZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhkKTt2YXIgQz1mdW5jdGlvbihlLGEpe2lmKCFpW2UuY3Jvc3NUaWxlSURdKWlmKHApci5wbGFjZW1lbnRzW2UuY3Jvc3NUaWxlSURdPW5ldyBkZSghMSwhMSwhMSk7ZWxzZXt2YXIgZCxFPSExLEM9ITEsUz0hMCxQPW51bGwsej17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGx9LEw9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsfSxNPW51bGwsRD1udWxsLEE9MCxSPTAsaz0wO2EudGV4dEZlYXR1cmVJbmRleCYmKEE9YS50ZXh0RmVhdHVyZUluZGV4KSxhLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCYmKFI9YS52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgpO3ZhciBCPWEudGV4dEJveDtpZihCKXt2YXIgTz1mdW5jdGlvbihpKXt2YXIgbz10LldyaXRpbmdNb2RlLmhvcml6b250YWw7aWYobi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhaSYmci5wcmV2UGxhY2VtZW50KXt2YXIgYT1yLnByZXZQbGFjZW1lbnQucGxhY2VkT3JpZW50YXRpb25zW2UuY3Jvc3NUaWxlSURdO2EmJihyLnBsYWNlZE9yaWVudGF0aW9uc1tlLmNyb3NzVGlsZUlEXT1hLHIubWFya1VzZWRPcmllbnRhdGlvbihuLG89YSxlKSk7fXJldHVybiBvfSxGPWZ1bmN0aW9uKGksbyl7aWYobi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZlLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcz4wJiZhLnZlcnRpY2FsVGV4dEJveClmb3IodmFyIHI9MCxzPW4ud3JpdGluZ01vZGVzO3I8cy5sZW5ndGgmJihzW3JdPT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbD8oej1vKCksTD16KTp6PWkoKSwhKHomJnouYm94JiZ6LmJveC5sZW5ndGgpKTtyKz0xKTtlbHNlIHo9aSgpO307aWYocy5nZXQoInRleHQtdmFyaWFibGUtYW5jaG9yIikpe3ZhciBVPXMuZ2V0KCJ0ZXh0LXZhcmlhYmxlLWFuY2hvciIpO2lmKHIucHJldlBsYWNlbWVudCYmci5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tlLmNyb3NzVGlsZUlEXSl7dmFyIE49ci5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tlLmNyb3NzVGlsZUlEXTtVLmluZGV4T2YoTi5hbmNob3IpPjAmJihVPVUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCE9PU4uYW5jaG9yfSkpKS51bnNoaWZ0KE4uYW5jaG9yKTt9dmFyIFo9ZnVuY3Rpb24odCxpLG8pe2Zvcih2YXIgYT10LngyLXQueDEscz10LnkyLXQueTEsYz1lLnRleHRCb3hTY2FsZSx1PXcmJiF5P2k6bnVsbCxwPXtib3g6W10sb2Zmc2NyZWVuOiExfSxkPXY/MipVLmxlbmd0aDpVLmxlbmd0aCxfPTA7XzxkOysrXyl7dmFyIG09ci5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KFVbXyVVLmxlbmd0aF0sdCxhLHMsYyx4LGIsaCxsLGYsXz49VS5sZW5ndGgsZSxuLG8sdSk7aWYobSYmKHA9bS5wbGFjZWRHbHlwaEJveGVzKSYmcC5ib3gmJnAuYm94Lmxlbmd0aCl7RT0hMCxQPW0uc2hpZnQ7YnJlYWt9fXJldHVybiBwfTtGKChmdW5jdGlvbigpe3JldHVybiBaKEIsYS5pY29uQm94LHQuV3JpdGluZ01vZGUuaG9yaXpvbnRhbCl9KSwoZnVuY3Rpb24oKXt2YXIgaT1hLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gbi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhKHomJnouYm94JiZ6LmJveC5sZW5ndGgpJiZlLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcz4wJiZpP1ooaSxhLnZlcnRpY2FsSWNvbkJveCx0LldyaXRpbmdNb2RlLnZlcnRpY2FsKTp7Ym94Om51bGwsb2Zmc2NyZWVuOm51bGx9fSkpLHomJihFPXouYm94LFM9ei5vZmZzY3JlZW4pO3ZhciBxPU8oeiYmei5ib3gpO2lmKCFFJiZyLnByZXZQbGFjZW1lbnQpe3ZhciBqPXIucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbZS5jcm9zc1RpbGVJRF07aiYmKHIudmFyaWFibGVPZmZzZXRzW2UuY3Jvc3NUaWxlSURdPWosci5tYXJrVXNlZEp1c3RpZmljYXRpb24obixqLmFuY2hvcixlLHEpKTt9fWVsc2V7dmFyIFY9ZnVuY3Rpb24odCxpKXt2YXIgbz1yLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHQsdixoLGwsZi5wcmVkaWNhdGUpO3JldHVybiBvJiZvLmJveCYmby5ib3gubGVuZ3RoJiYoci5tYXJrVXNlZE9yaWVudGF0aW9uKG4saSxlKSxyLnBsYWNlZE9yaWVudGF0aW9uc1tlLmNyb3NzVGlsZUlEXT1pKSxvfTtGKChmdW5jdGlvbigpe3JldHVybiBWKEIsdC5Xcml0aW5nTW9kZS5ob3Jpem9udGFsKX0pLChmdW5jdGlvbigpe3ZhciBpPWEudmVydGljYWxUZXh0Qm94O3JldHVybiBuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJmUubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAmJmk/VihpLHQuV3JpdGluZ01vZGUudmVydGljYWwpOntib3g6bnVsbCxvZmZzY3JlZW46bnVsbH19KSksTyh6JiZ6LmJveCYmei5ib3gubGVuZ3RoKTt9fUU9KGQ9eikmJmQuYm94JiZkLmJveC5sZW5ndGg+MCxTPWQmJmQub2Zmc2NyZWVuO3ZhciBHPWEudGV4dENpcmNsZXM7aWYoRyl7dmFyIFc9bi50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCksWD10LmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUobi50ZXh0U2l6ZURhdGEsXyxXKTtNPXIuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKEcsdix1LGgsVyxuLmxpbmVWZXJ0ZXhBcnJheSxuLmdseXBoT2Zmc2V0QXJyYXksWCxsLGMsbyxiLGYucHJlZGljYXRlKSxFPXZ8fE0uY2lyY2xlcy5sZW5ndGg+MCxTPVMmJk0ub2Zmc2NyZWVuO31pZihhLmljb25GZWF0dXJlSW5kZXgmJihrPWEuaWNvbkZlYXR1cmVJbmRleCksYS5pY29uQm94KXt2YXIgSD1mdW5jdGlvbih0KXt2YXIgZT13JiZQP2dlKHQsUC54LFAueSx4LGIsci50cmFuc2Zvcm0uYW5nbGUpOnQ7cmV0dXJuIHIuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goZSx5LGgsbCxmLnByZWRpY2F0ZSl9O0M9TCYmTC5ib3gmJkwuYm94Lmxlbmd0aCYmYS52ZXJ0aWNhbEljb25Cb3g/KEQ9SChhLnZlcnRpY2FsSWNvbkJveCkpLmJveC5sZW5ndGg+MDooRD1IKGEuaWNvbkJveCkpLmJveC5sZW5ndGg+MCxTPVMmJkQub2Zmc2NyZWVuO312YXIgSz1tfHwwPT09ZS5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyYmMD09PWUubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzLFk9Z3x8MD09PWUubnVtSWNvblZlcnRpY2VzO0t8fFk/WT9LfHwoQz1DJiZFKTpFPUMmJkU6Qz1FPUMmJkUsRSYmZCYmZC5ib3gmJnIuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KGQuYm94LHMuZ2V0KCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiKSxuLmJ1Y2tldEluc3RhbmNlSWQsTCYmTC5ib3gmJlI/UjpBLGYuSUQpLEMmJkQmJnIuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KEQuYm94LHMuZ2V0KCJpY29uLWlnbm9yZS1wbGFjZW1lbnQiKSxuLmJ1Y2tldEluc3RhbmNlSWQsayxmLklEKSxFJiZNJiZyLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMoTS5jaXJjbGVzLHMuZ2V0KCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnQiKSxuLmJ1Y2tldEluc3RhbmNlSWQsQSxmLklEKSxyLnBsYWNlbWVudHNbZS5jcm9zc1RpbGVJRF09bmV3IGRlKEV8fFQsQ3x8SSxTfHxuLmp1c3RSZWxvYWRlZCksaVtlLmNyb3NzVGlsZUlEXT0hMDt9fTtpZihFKWZvcih2YXIgUz1uLmdldFNvcnRlZFN5bWJvbEluZGV4ZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpLFA9Uy5sZW5ndGgtMTtQPj0wOy0tUCl7dmFyIHo9U1tQXTtDKG4uc3ltYm9sSW5zdGFuY2VzLmdldCh6KSxuLmNvbGxpc2lvbkFycmF5c1t6XSk7fWVsc2UgZm9yKHZhciBMPWUuc3ltYm9sSW5zdGFuY2VTdGFydDtMPGUuc3ltYm9sSW5zdGFuY2VFbmQ7TCsrKUMobi5zeW1ib2xJbnN0YW5jZXMuZ2V0KEwpLG4uY29sbGlzaW9uQXJyYXlzW0xdKTtuLmp1c3RSZWxvYWRlZD0hMTt9LHZlLnByb3RvdHlwZS5tYXJrVXNlZEp1c3RpZmljYXRpb249ZnVuY3Rpb24oZSxpLG8scil7dmFyIGE7YT1yPT09dC5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9vLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OntsZWZ0Om8ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxjZW50ZXI6by5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgscmlnaHQ6by5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleH1bdC5nZXRBbmNob3JKdXN0aWZpY2F0aW9uKGkpXTtmb3IodmFyIG49MCxzPVtvLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XTtuPHMubGVuZ3RoO24rPTEpe3ZhciBsPXNbbl07bD49MCYmKGUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQobCkuY3Jvc3NUaWxlSUQ9YT49MCYmbCE9PWE/MDpvLmNyb3NzVGlsZUlEKTt9fSx2ZS5wcm90b3R5cGUubWFya1VzZWRPcmllbnRhdGlvbj1mdW5jdGlvbihlLGksbyl7Zm9yKHZhciByPWk9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWx8fGk9PT10LldyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5P2k6MCxhPWk9PT10LldyaXRpbmdNb2RlLnZlcnRpY2FsP2k6MCxuPTAscz1bby5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG8uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG8ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhdO248cy5sZW5ndGg7bis9MSllLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHNbbl0pLnBsYWNlZE9yaWVudGF0aW9uPXI7by52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCYmKGUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoby52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkucGxhY2VkT3JpZW50YXRpb249YSk7fSx2ZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKHQpe3RoaXMuY29tbWl0VGltZT10LHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz10aGlzLnRyYW5zZm9ybS56b29tO3ZhciBlPXRoaXMucHJldlBsYWNlbWVudCxpPSExO3RoaXMucHJldlpvb21BZGp1c3RtZW50PWU/ZS56b29tQWRqdXN0bWVudCh0aGlzLnRyYW5zZm9ybS56b29tKTowO3ZhciBvPWU/ZS5zeW1ib2xGYWRlQ2hhbmdlKHQpOjEscj1lP2Uub3BhY2l0aWVzOnt9LGE9ZT9lLnZhcmlhYmxlT2Zmc2V0czp7fSxuPWU/ZS5wbGFjZWRPcmllbnRhdGlvbnM6e307Zm9yKHZhciBzIGluIHRoaXMucGxhY2VtZW50cyl7dmFyIGw9dGhpcy5wbGFjZW1lbnRzW3NdLGM9cltzXTtjPyh0aGlzLm9wYWNpdGllc1tzXT1uZXcgcGUoYyxvLGwudGV4dCxsLmljb24pLGk9aXx8bC50ZXh0IT09Yy50ZXh0LnBsYWNlZHx8bC5pY29uIT09Yy5pY29uLnBsYWNlZCk6KHRoaXMub3BhY2l0aWVzW3NdPW5ldyBwZShudWxsLG8sbC50ZXh0LGwuaWNvbixsLnNraXBGYWRlKSxpPWl8fGwudGV4dHx8bC5pY29uKTt9Zm9yKHZhciB1IGluIHIpe3ZhciBoPXJbdV07aWYoIXRoaXMub3BhY2l0aWVzW3VdKXt2YXIgcD1uZXcgcGUoaCxvLCExLCExKTtwLmlzSGlkZGVuKCl8fCh0aGlzLm9wYWNpdGllc1t1XT1wLGk9aXx8aC50ZXh0LnBsYWNlZHx8aC5pY29uLnBsYWNlZCk7fX1mb3IodmFyIGQgaW4gYSl0aGlzLnZhcmlhYmxlT2Zmc2V0c1tkXXx8IXRoaXMub3BhY2l0aWVzW2RdfHx0aGlzLm9wYWNpdGllc1tkXS5pc0hpZGRlbigpfHwodGhpcy52YXJpYWJsZU9mZnNldHNbZF09YVtkXSk7Zm9yKHZhciBfIGluIG4pdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbX118fCF0aGlzLm9wYWNpdGllc1tfXXx8dGhpcy5vcGFjaXRpZXNbX10uaXNIaWRkZW4oKXx8KHRoaXMucGxhY2VkT3JpZW50YXRpb25zW19dPW5bX10pO2k/dGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT10OiJudW1iZXIiIT10eXBlb2YgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSYmKHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU9ZT9lLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lOnQpO30sdmUucHJvdG90eXBlLnVwZGF0ZUxheWVyT3BhY2l0aWVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXt9LG89MCxyPWU7bzxyLmxlbmd0aDtvKz0xKXt2YXIgYT1yW29dLG49YS5nZXRCdWNrZXQodCk7biYmYS5sYXRlc3RGZWF0dXJlSW5kZXgmJnQuaWQ9PT1uLmxheWVySWRzWzBdJiZ0aGlzLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcyhuLGksYS5jb2xsaXNpb25Cb3hBcnJheSk7fX0sdmUucHJvdG90eXBlLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcz1mdW5jdGlvbihlLGksbyl7dmFyIHI9dGhpcztlLmhhc1RleHREYXRhKCkmJmUudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSxlLmhhc0ljb25EYXRhKCkmJmUuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSxlLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJmUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpLGUuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCksZS5oYXNJY29uQ29sbGlzaW9uQ2lyY2xlRGF0YSgpJiZlLmljb25Db2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKSxlLmhhc1RleHRDb2xsaXNpb25DaXJjbGVEYXRhKCkmJmUudGV4dENvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO3ZhciBhPWUubGF5ZXJzWzBdLmxheW91dCxuPW5ldyBwZShudWxsLDAsITEsITEsITApLHM9YS5nZXQoInRleHQtYWxsb3ctb3ZlcmxhcCIpLGw9YS5nZXQoImljb24tYWxsb3ctb3ZlcmxhcCIpLGM9YS5nZXQoInRleHQtdmFyaWFibGUtYW5jaG9yIiksdT0ibWFwIj09PWEuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLGg9Im1hcCI9PT1hLmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSxwPSJub25lIiE9PWEuZ2V0KCJpY29uLXRleHQtZml0IiksZD1uZXcgcGUobnVsbCwwLHMmJihsfHwhZS5oYXNJY29uRGF0YSgpfHxhLmdldCgiaWNvbi1vcHRpb25hbCIpKSxsJiYoc3x8IWUuaGFzVGV4dERhdGEoKXx8YS5nZXQoInRleHQtb3B0aW9uYWwiKSksITApOyFlLmNvbGxpc2lvbkFycmF5cyYmbyYmKGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8ZS5oYXNJY29uQ29sbGlzaW9uQ2lyY2xlRGF0YSgpfHxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCl8fGUuaGFzVGV4dENvbGxpc2lvbkNpcmNsZURhdGEoKSkmJmUuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhvKTtmb3IodmFyIF89ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0wO288ZS80O28rKyl0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhpKTt9LGY9ZnVuY3Rpb24obyl7dmFyIGE9ZS5zeW1ib2xJbnN0YW5jZXMuZ2V0KG8pLHM9YS5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyxsPWEubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzLGY9YS5jcm9zc1RpbGVJRCxtPWlbZl0sZz1yLm9wYWNpdGllc1tmXTttP2c9bjpnfHwoci5vcGFjaXRpZXNbZl09Zz1kKSxpW2ZdPSEwO3ZhciB2PWEubnVtSWNvblZlcnRpY2VzPjAseT1yLnBsYWNlZE9yaWVudGF0aW9uc1thLmNyb3NzVGlsZUlEXSx4PXk9PT10LldyaXRpbmdNb2RlLnZlcnRpY2FsLGI9eT09PXQuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8eT09PXQuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHk7aWYocz4wfHxsPjApe3ZhciB3PVNlKGcudGV4dCk7XyhlLnRleHQscyx4P1BlOncpLF8oZS50ZXh0LGwsYj9QZTp3KTt2YXIgRT1nLnRleHQuaXNIaWRkZW4oKTtbYS5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxhLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxhLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Q+PTAmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQpLmhpZGRlbj1FfHx4PzE6MCk7fSkpLGEudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGEudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLmhpZGRlbj1FfHxiPzE6MCk7dmFyIFQ9ci52YXJpYWJsZU9mZnNldHNbYS5jcm9zc1RpbGVJRF07VCYmci5tYXJrVXNlZEp1c3RpZmljYXRpb24oZSxULmFuY2hvcixhLHkpO3ZhciBJPXIucGxhY2VkT3JpZW50YXRpb25zW2EuY3Jvc3NUaWxlSURdO0kmJihyLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihlLCJsZWZ0IixhLEkpLHIubWFya1VzZWRPcmllbnRhdGlvbihlLEksYSkpO31pZih2KXt2YXIgQz1TZShnLmljb24pLFM9IShwJiZhLnZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4JiZ4KTthLnBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmKF8oZS5pY29uLGEubnVtSWNvblZlcnRpY2VzLFM/QzpQZSksZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5LmdldChhLnBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuPWcuaWNvbi5pc0hpZGRlbigpKSxhLnZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Pj0wJiYoXyhlLmljb24sYS5udW1WZXJ0aWNhbEljb25WZXJ0aWNlcyxTP1BlOkMpLGUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuPWcuaWNvbi5pc0hpZGRlbigpKTt9aWYoZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHxlLmhhc0ljb25Db2xsaXNpb25DaXJjbGVEYXRhKCl8fGUuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKXx8ZS5oYXNUZXh0Q29sbGlzaW9uQ2lyY2xlRGF0YSgpKXt2YXIgUD1lLmNvbGxpc2lvbkFycmF5c1tvXTtpZihQKXt2YXIgej1uZXcgdC5Qb2ludCgwLDApO2lmKFAudGV4dEJveHx8UC52ZXJ0aWNhbFRleHRCb3gpe3ZhciBMPSEwO2lmKGMpe3ZhciBNPXIudmFyaWFibGVPZmZzZXRzW2ZdO00/KHo9bWUoTS5hbmNob3IsTS53aWR0aCxNLmhlaWdodCxNLnRleHRPZmZzZXQsTS50ZXh0Qm94U2NhbGUpLHUmJnouX3JvdGF0ZShoP3IudHJhbnNmb3JtLmFuZ2xlOi1yLnRyYW5zZm9ybS5hbmdsZSkpOkw9ITE7fVAudGV4dEJveCYmeWUoZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LGcudGV4dC5wbGFjZWQsIUx8fHgsei54LHoueSksUC52ZXJ0aWNhbFRleHRCb3gmJnllKGUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxnLnRleHQucGxhY2VkLCFMfHxiLHoueCx6LnkpO312YXIgRD1Cb29sZWFuKCFiJiZQLnZlcnRpY2FsSWNvbkJveCk7UC5pY29uQm94JiZ5ZShlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksZy5pY29uLnBsYWNlZCxELHA/ei54OjAscD96Lnk6MCksUC52ZXJ0aWNhbEljb25Cb3gmJnllKGUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxnLmljb24ucGxhY2VkLCFELHA/ei54OjAscD96Lnk6MCk7dmFyIEE9UC50ZXh0Q2lyY2xlcztpZihBJiZlLmhhc1RleHRDb2xsaXNpb25DaXJjbGVEYXRhKCkpZm9yKHZhciBSPTA7UjxBLmxlbmd0aDtSKz01KXllKGUudGV4dENvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheSxnLnRleHQucGxhY2VkLG18fDA9PT1BW1IrNF0pO319fSxtPTA7bTxlLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7bSsrKWYobSk7ZS5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpLHRoaXMucmV0YWluZWRRdWVyeURhdGFbZS5idWNrZXRJbnN0YW5jZUlkXSYmKHRoaXMucmV0YWluZWRRdWVyeURhdGFbZS5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyPWUuZmVhdHVyZVNvcnRPcmRlciksZS5oYXNUZXh0RGF0YSgpJiZlLnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlciYmZS50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShlLnRleHQub3BhY2l0eVZlcnRleEFycmF5KSxlLmhhc0ljb25EYXRhKCkmJmUuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyJiZlLmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGUuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpLGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZlLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZlLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSxlLmhhc0ljb25Db2xsaXNpb25DaXJjbGVEYXRhKCkmJmUuaWNvbkNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJmUuaWNvbkNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShlLmljb25Db2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QXJyYXkpLGUuaGFzVGV4dENvbGxpc2lvbkNpcmNsZURhdGEoKSYmZS50ZXh0Q29sbGlzaW9uQ2lyY2xlLmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmZS50ZXh0Q29sbGlzaW9uQ2lyY2xlLmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGUudGV4dENvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7fSx2ZS5wcm90b3R5cGUuc3ltYm9sRmFkZUNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6KHQtdGhpcy5jb21taXRUaW1lKS90aGlzLmZhZGVEdXJhdGlvbit0aGlzLnByZXZab29tQWRqdXN0bWVudH0sdmUucHJvdG90eXBlLnpvb21BZGp1c3RtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heCgwLCh0aGlzLnRyYW5zZm9ybS56b29tLXQpLzEuNSl9LHZlLnByb3RvdHlwZS5oYXNUcmFuc2l0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFsZXx8dC10aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPHRoaXMuZmFkZUR1cmF0aW9ufSx2ZS5wcm90b3R5cGUuc3RpbGxSZWNlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9PT1lPzEtdGhpcy56b29tQWRqdXN0bWVudChlKToxO3JldHVybiB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9ZSx0aGlzLmNvbW1pdFRpbWUrdGhpcy5mYWRlRHVyYXRpb24qaT50fSx2ZS5wcm90b3R5cGUuc2V0U3RhbGU9ZnVuY3Rpb24oKXt0aGlzLnN0YWxlPSEwO307dmFyIHhlPU1hdGgucG93KDIsMjUpLGJlPU1hdGgucG93KDIsMjQpLHdlPU1hdGgucG93KDIsMTcpLEVlPU1hdGgucG93KDIsMTYpLFRlPU1hdGgucG93KDIsOSksSWU9TWF0aC5wb3coMiw4KSxDZT1NYXRoLnBvdygyLDEpO2Z1bmN0aW9uIFNlKHQpe2lmKDA9PT10Lm9wYWNpdHkmJiF0LnBsYWNlZClyZXR1cm4gMDtpZigxPT09dC5vcGFjaXR5JiZ0LnBsYWNlZClyZXR1cm4gNDI5NDk2NzI5NTt2YXIgZT10LnBsYWNlZD8xOjAsaT1NYXRoLmZsb29yKDEyNyp0Lm9wYWNpdHkpO3JldHVybiBpKnhlK2UqYmUraSp3ZStlKkVlK2kqVGUrZSpJZStpKkNlK2V9dmFyIFBlPTAsemU9ZnVuY3Rpb24odCl7dGhpcy5fc29ydEFjcm9zc1RpbGVzPSJ2aWV3cG9ydC15IiE9PXQubGF5b3V0LmdldCgic3ltYm9sLXotb3JkZXIiKSYmdm9pZCAwIT09dC5sYXlvdXQuZ2V0KCJzeW1ib2wtc29ydC1rZXkiKS5jb25zdGFudE9yKDEpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXg9MCx0aGlzLl9jdXJyZW50UGFydEluZGV4PTAsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcz17fSx0aGlzLl9idWNrZXRQYXJ0cz1bXTt9O3plLnByb3RvdHlwZS5jb250aW51ZVBsYWNlbWVudD1mdW5jdGlvbih0LGUsaSxvLHIpe2Zvcih2YXIgYT10aGlzLl9idWNrZXRQYXJ0czt0aGlzLl9jdXJyZW50VGlsZUluZGV4PHQubGVuZ3RoOylpZihlLmdldEJ1Y2tldFBhcnRzKGEsbyx0W3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdLHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyksdGhpcy5fY3VycmVudFRpbGVJbmRleCsrLHIoKSlyZXR1cm4gITA7Zm9yKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyYmKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcz0hMSxhLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc29ydEtleS1lLnNvcnRLZXl9KSkpO3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXg8YS5sZW5ndGg7KWlmKGUucGxhY2VMYXllckJ1Y2tldFBhcnQoYVt0aGlzLl9jdXJyZW50UGFydEluZGV4XSx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzLGkpLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXgrKyxyKCkpcmV0dXJuICEwO3JldHVybiAhMX07dmFyIExlPWZ1bmN0aW9uKHQsZSxpLG8scixhLG4pe3RoaXMucGxhY2VtZW50PW5ldyB2ZSh0LHIsYSxuKSx0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg9ZS5sZW5ndGgtMSx0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQ9aSx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9byx0aGlzLl9kb25lPSExO307TGUucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb25lfSxMZS5wcm90b3R5cGUuY29udGludWVQbGFjZW1lbnQ9ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgcj10aGlzLGE9dC5icm93c2VyLm5vdygpLG49ZnVuY3Rpb24oKXt2YXIgZT10LmJyb3dzZXIubm93KCktYTtyZXR1cm4gIXIuX2ZvcmNlRnVsbFBsYWNlbWVudCYmZT4yfTt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXt2YXIgcz1pW2VbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XV0sbD10aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtpZigic3ltYm9sIj09PXMudHlwZSYmKCFzLm1pbnpvb218fHMubWluem9vbTw9bCkmJighcy5tYXh6b29tfHxzLm1heHpvb20+bCkpe2lmKHRoaXMuX2luUHJvZ3Jlc3NMYXllcnx8KHRoaXMuX2luUHJvZ3Jlc3NMYXllcj1uZXcgemUocykpLHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChvW3Muc291cmNlXSx0aGlzLnBsYWNlbWVudCx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMscyxuKSlyZXR1cm47ZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcjt9dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS07fXRoaXMuX2RvbmU9ITA7fSxMZS5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQodCksdGhpcy5wbGFjZW1lbnR9O3ZhciBNZT01MTIvdC5FWFRFTlQvMixEZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50aWxlSUQ9dCx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXM9e30sdGhpcy5idWNrZXRJbnN0YW5jZUlkPWk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciByPWUuZ2V0KG8pLGE9ci5rZXk7dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2FdfHwodGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2FdPVtdKSx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbYV0ucHVzaCh7Y3Jvc3NUaWxlSUQ6ci5jcm9zc1RpbGVJRCxjb29yZDp0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHIsdCl9KTt9fTtEZS5wcm90b3R5cGUuZ2V0U2NhbGVkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSxpKXt2YXIgbz1NZS9NYXRoLnBvdygyLGkuY2Fub25pY2FsLnotdGhpcy50aWxlSUQuY2Fub25pY2FsLnopO3JldHVybiB7eDpNYXRoLmZsb29yKChpLmNhbm9uaWNhbC54KnQuRVhURU5UK2UuYW5jaG9yWCkqbykseTpNYXRoLmZsb29yKChpLmNhbm9uaWNhbC55KnQuRVhURU5UK2UuYW5jaG9yWSkqbyl9fSxEZS5wcm90b3R5cGUuZmluZE1hdGNoZXM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz10aGlzLnRpbGVJRC5jYW5vbmljYWwuejxlLmNhbm9uaWNhbC56PzE6TWF0aC5wb3coMix0aGlzLnRpbGVJRC5jYW5vbmljYWwuei1lLmNhbm9uaWNhbC56KSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBhPXQuZ2V0KHIpO2lmKCFhLmNyb3NzVGlsZUlEKXt2YXIgbj10aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbYS5rZXldO2lmKG4pZm9yKHZhciBzPXRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoYSxlKSxsPTAsYz1uO2w8Yy5sZW5ndGg7bCs9MSl7dmFyIHU9Y1tsXTtpZihNYXRoLmFicyh1LmNvb3JkLngtcy54KTw9byYmTWF0aC5hYnModS5jb29yZC55LXMueSk8PW8mJiFpW3UuY3Jvc3NUaWxlSURdKXtpW3UuY3Jvc3NUaWxlSURdPSEwLGEuY3Jvc3NUaWxlSUQ9dS5jcm9zc1RpbGVJRDticmVha319fX19O3ZhciBBZT1mdW5jdGlvbigpe3RoaXMubWF4Q3Jvc3NUaWxlSUQ9MDt9O0FlLnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbigpe3JldHVybiArK3RoaXMubWF4Q3Jvc3NUaWxlSUR9O3ZhciBSZT1mdW5jdGlvbigpe3RoaXMuaW5kZXhlcz17fSx0aGlzLnVzZWRDcm9zc1RpbGVJRHM9e30sdGhpcy5sbmc9MDt9O1JlLnByb3RvdHlwZS5oYW5kbGVXcmFwSnVtcD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLnJvdW5kKCh0LXRoaXMubG5nKS8zNjApO2lmKDAhPT1lKWZvcih2YXIgaSBpbiB0aGlzLmluZGV4ZXMpe3ZhciBvPXRoaXMuaW5kZXhlc1tpXSxyPXt9O2Zvcih2YXIgYSBpbiBvKXt2YXIgbj1vW2FdO24udGlsZUlEPW4udGlsZUlELnVud3JhcFRvKG4udGlsZUlELndyYXArZSkscltuLnRpbGVJRC5rZXldPW47fXRoaXMuaW5kZXhlc1tpXT1yO310aGlzLmxuZz10O30sUmUucHJvdG90eXBlLmFkZEJ1Y2tldD1mdW5jdGlvbih0LGUsaSl7aWYodGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdJiZ0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldKXtpZih0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl1bdC5rZXldLmJ1Y2tldEluc3RhbmNlSWQ9PT1lLmJ1Y2tldEluc3RhbmNlSWQpcmV0dXJuICExO3RoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHQub3ZlcnNjYWxlZFosdGhpcy5pbmRleGVzW3Qub3ZlcnNjYWxlZFpdW3Qua2V5XSk7fWZvcih2YXIgbz0wO288ZS5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO28rKyllLnN5bWJvbEluc3RhbmNlcy5nZXQobykuY3Jvc3NUaWxlSUQ9MDt0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl18fCh0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdC5vdmVyc2NhbGVkWl09e30pO3ZhciByPXRoaXMudXNlZENyb3NzVGlsZUlEc1t0Lm92ZXJzY2FsZWRaXTtmb3IodmFyIGEgaW4gdGhpcy5pbmRleGVzKXt2YXIgbj10aGlzLmluZGV4ZXNbYV07aWYoTnVtYmVyKGEpPnQub3ZlcnNjYWxlZFopZm9yKHZhciBzIGluIG4pe3ZhciBsPW5bc107bC50aWxlSUQuaXNDaGlsZE9mKHQpJiZsLmZpbmRNYXRjaGVzKGUuc3ltYm9sSW5zdGFuY2VzLHQscik7fWVsc2V7dmFyIGM9blt0LnNjYWxlZFRvKE51bWJlcihhKSkua2V5XTtjJiZjLmZpbmRNYXRjaGVzKGUuc3ltYm9sSW5zdGFuY2VzLHQscik7fX1mb3IodmFyIHU9MDt1PGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDt1Kyspe3ZhciBoPWUuc3ltYm9sSW5zdGFuY2VzLmdldCh1KTtoLmNyb3NzVGlsZUlEfHwoaC5jcm9zc1RpbGVJRD1pLmdlbmVyYXRlKCkscltoLmNyb3NzVGlsZUlEXT0hMCk7fXJldHVybiB2b2lkIDA9PT10aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl0mJih0aGlzLmluZGV4ZXNbdC5vdmVyc2NhbGVkWl09e30pLHRoaXMuaW5kZXhlc1t0Lm92ZXJzY2FsZWRaXVt0LmtleV09bmV3IERlKHQsZS5zeW1ib2xJbnN0YW5jZXMsZS5idWNrZXRJbnN0YW5jZUlkKSwhMH0sUmUucHJvdG90eXBlLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXMpZm9yKHZhciBvPTAscj1lLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbaV07bzxyLmxlbmd0aDtvKz0xKWRlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdF1bcltvXS5jcm9zc1RpbGVJRF07fSxSZS5wcm90b3R5cGUucmVtb3ZlU3RhbGVCdWNrZXRzPWZ1bmN0aW9uKHQpe3ZhciBlPSExO2Zvcih2YXIgaSBpbiB0aGlzLmluZGV4ZXMpe3ZhciBvPXRoaXMuaW5kZXhlc1tpXTtmb3IodmFyIHIgaW4gbyl0W29bcl0uYnVja2V0SW5zdGFuY2VJZF18fCh0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhpLG9bcl0pLGRlbGV0ZSBvW3JdLGU9ITApO31yZXR1cm4gZX07dmFyIGtlPWZ1bmN0aW9uKCl7dGhpcy5sYXllckluZGV4ZXM9e30sdGhpcy5jcm9zc1RpbGVJRHM9bmV3IEFlLHRoaXMubWF4QnVja2V0SW5zdGFuY2VJZD0wLHRoaXMuYnVja2V0c0luQ3VycmVudFBsYWNlbWVudD17fTt9O2tlLnByb3RvdHlwZS5hZGRMYXllcj1mdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcy5sYXllckluZGV4ZXNbdC5pZF07dm9pZCAwPT09byYmKG89dGhpcy5sYXllckluZGV4ZXNbdC5pZF09bmV3IFJlKTt2YXIgcj0hMSxhPXt9O28uaGFuZGxlV3JhcEp1bXAoaSk7Zm9yKHZhciBuPTAscz1lO248cy5sZW5ndGg7bis9MSl7dmFyIGw9c1tuXSxjPWwuZ2V0QnVja2V0KHQpO2MmJnQuaWQ9PT1jLmxheWVySWRzWzBdJiYoYy5idWNrZXRJbnN0YW5jZUlkfHwoYy5idWNrZXRJbnN0YW5jZUlkPSsrdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkKSxvLmFkZEJ1Y2tldChsLnRpbGVJRCxjLHRoaXMuY3Jvc3NUaWxlSURzKSYmKHI9ITApLGFbYy5idWNrZXRJbnN0YW5jZUlkXT0hMCk7fXJldHVybiBvLnJlbW92ZVN0YWxlQnVja2V0cyhhKSYmKHI9ITApLHJ9LGtlLnByb3RvdHlwZS5wcnVuZVVudXNlZExheWVycz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdPSEwO30pKSx0aGlzLmxheWVySW5kZXhlcyllW2ldfHxkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbaV07fTt2YXIgQmU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5lbWl0VmFsaWRhdGlvbkVycm9ycyhlLGkmJmkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gInNvdXJjZS5jYW52YXMiIT09dC5pZGVudGlmaWVyfSkpKX0sT2U9dC5waWNrKE50LFsiYWRkTGF5ZXIiLCJyZW1vdmVMYXllciIsInNldFBhaW50UHJvcGVydHkiLCJzZXRMYXlvdXRQcm9wZXJ0eSIsInNldEZpbHRlciIsImFkZFNvdXJjZSIsInJlbW92ZVNvdXJjZSIsInNldExheWVyWm9vbVJhbmdlIiwic2V0TGlnaHQiLCJzZXRUcmFuc2l0aW9uIiwic2V0R2VvSlNPTlNvdXJjZURhdGEiXSksRmU9dC5waWNrKE50LFsic2V0Q2VudGVyIiwic2V0Wm9vbSIsInNldEJlYXJpbmciLCJzZXRQaXRjaCJdKSxVZT1mdW5jdGlvbigpe3ZhciBlPXt9LGk9dC5zdHlsZVNwZWMuJHZlcnNpb247Zm9yKHZhciBvIGluIHQuc3R5bGVTcGVjLiRyb290KXt2YXIgcixhPXQuc3R5bGVTcGVjLiRyb290W29dO2lmKGEucmVxdWlyZWQpbnVsbCE9KHI9InZlcnNpb24iPT09bz9pOiJhcnJheSI9PT1hLnR5cGU/W106e30pJiYoZVtvXT1yKTt9cmV0dXJuIGV9KCksTmU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShvLHIpe3ZhciBhPXRoaXM7dm9pZCAwPT09ciYmKHI9e30pLGUuY2FsbCh0aGlzKSx0aGlzLm1hcD1vLHRoaXMuZGlzcGF0Y2hlcj1uZXcgVCgoQnR8fChCdD1uZXcga3QpLEJ0KSx0aGlzKSx0aGlzLmltYWdlTWFuYWdlcj1uZXcgcCx0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuZ2x5cGhNYW5hZ2VyPW5ldyB5KG8uX3JlcXVlc3RNYW5hZ2VyLHIubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KSx0aGlzLmxpbmVBdGxhcz1uZXcgRSgyNTYsNTEyKSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBrZSx0aGlzLl9sYXllcnM9e30sdGhpcy5fc2VyaWFsaXplZExheWVycz17fSx0aGlzLl9vcmRlcj1bXSx0aGlzLnNvdXJjZUNhY2hlcz17fSx0aGlzLnpvb21IaXN0b3J5PW5ldyB0Llpvb21IaXN0b3J5LHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9W10sdGhpcy5fcmVzZXRVcGRhdGVzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgic2V0UmVmZXJyZXIiLHQuZ2V0UmVmZXJyZXIoKSk7dmFyIG49dGhpczt0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s9aS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlKChmdW5jdGlvbihlKXtuLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJzeW5jUlRMUGx1Z2luU3RhdGUiLHtwbHVnaW5TdGF0dXM6ZS5wbHVnaW5TdGF0dXMscGx1Z2luVVJMOmUucGx1Z2luVVJMfSwoZnVuY3Rpb24oZSxpKXtpZih0LnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQoZSksaSYmaS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkpZm9yKHZhciBvIGluIG4uc291cmNlQ2FjaGVzKW4uc291cmNlQ2FjaGVzW29dLnJlbG9hZCgpO30pKTt9KSksdGhpcy5vbigiZGF0YSIsKGZ1bmN0aW9uKHQpe2lmKCJzb3VyY2UiPT09dC5kYXRhVHlwZSYmIm1ldGFkYXRhIj09PXQuc291cmNlRGF0YVR5cGUpe3ZhciBlPWEuc291cmNlQ2FjaGVzW3Quc291cmNlSWRdO2lmKGUpe3ZhciBpPWUuZ2V0U291cmNlKCk7aWYoaSYmaS52ZWN0b3JMYXllcklkcylmb3IodmFyIG8gaW4gYS5fbGF5ZXJzKXt2YXIgcj1hLl9sYXllcnNbb107ci5zb3VyY2U9PT1pLmlkJiZhLl92YWxpZGF0ZUxheWVyKHIpO319fX0pKTt9cmV0dXJuIGUmJihpLl9fcHJvdG9fXz1lKSwoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUubG9hZFVSTD1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic3R5bGUifSkpO3ZhciByPSJib29sZWFuIj09dHlwZW9mIGkudmFsaWRhdGU/aS52YWxpZGF0ZTohdC5pc01hcGJveFVSTChlKTtlPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChlLGkuYWNjZXNzVG9rZW4pO3ZhciBhPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGUsdC5SZXNvdXJjZVR5cGUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9dC5nZXRKU09OKGEsKGZ1bmN0aW9uKGUsaSl7by5fcmVxdWVzdD1udWxsLGU/by5maXJlKG5ldyB0LkVycm9yRXZlbnQoZSkpOmkmJm8uX2xvYWQoaSxyKTt9KSk7fSxpLnByb3RvdHlwZS5sb2FkSlNPTj1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YWxvYWRpbmciLHtkYXRhVHlwZToic3R5bGUifSkpLHRoaXMuX3JlcXVlc3Q9dC5icm93c2VyLmZyYW1lKChmdW5jdGlvbigpe28uX3JlcXVlc3Q9bnVsbCxvLl9sb2FkKGUsITEhPT1pLnZhbGlkYXRlKTt9KSk7fSxpLnByb3RvdHlwZS5sb2FkRW1wdHk9ZnVuY3Rpb24oKXt0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGFsb2FkaW5nIix7ZGF0YVR5cGU6InN0eWxlIn0pKSx0aGlzLl9sb2FkKFVlLCExKTt9LGkucHJvdG90eXBlLl9sb2FkPWZ1bmN0aW9uKGUsaSl7aWYoIWl8fCFCZSh0aGlzLHQudmFsaWRhdGVTdHlsZShlKSkpe2Zvcih2YXIgbyBpbiB0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PWUsZS5zb3VyY2VzKXRoaXMuYWRkU291cmNlKG8sZS5zb3VyY2VzW29dLHt2YWxpZGF0ZTohMX0pO2Uuc3ByaXRlP3RoaXMuX2xvYWRTcHJpdGUoZS5zcHJpdGUpOnRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKGUuZ2x5cGhzKTt2YXIgcj1VdCh0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTt0aGlzLl9vcmRlcj1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKHZhciBhPTAsbj1yO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXTsocz10LmNyZWF0ZVN0eWxlTGF5ZXIocykpLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnMuaWR9fSksdGhpcy5fbGF5ZXJzW3MuaWRdPXMsdGhpcy5fc2VyaWFsaXplZExheWVyc1tzLmlkXT1zLnNlcmlhbGl6ZSgpO310aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJzZXRMYXllcnMiLHRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcikpLHRoaXMubGlnaHQ9bmV3IHcodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic3R5bGUifSkpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgic3R5bGUubG9hZCIpKTt9fSxpLnByb3RvdHlwZS5fbG9hZFNwcml0ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSxpLG8pe3ZhciByLGEsbixzPXQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvPjE/IkAyeCI6IiIsbD10LmdldEpTT04oaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU3ByaXRlVVJMKGUscywiLmpzb24iKSx0LlJlc291cmNlVHlwZS5TcHJpdGVKU09OKSwoZnVuY3Rpb24odCxlKXtsPW51bGwsbnx8KG49dCxyPWUsdSgpKTt9KSksYz10LmdldEltYWdlKGkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZVNwcml0ZVVSTChlLHMsIi5wbmciKSx0LlJlc291cmNlVHlwZS5TcHJpdGVJbWFnZSksKGZ1bmN0aW9uKHQsZSl7Yz1udWxsLG58fChuPXQsYT1lLHUoKSk7fSkpO2Z1bmN0aW9uIHUoKXtpZihuKW8obik7ZWxzZSBpZihyJiZhKXt2YXIgZT10LmJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGEpLGk9e307Zm9yKHZhciBzIGluIHIpe3ZhciBsPXJbc10sYz1sLndpZHRoLHU9bC5oZWlnaHQsaD1sLngscD1sLnksZD1sLnNkZixfPWwucGl4ZWxSYXRpbyxmPWwuc3RyZXRjaFgsbT1sLnN0cmV0Y2hZLGc9bC5jb250ZW50LHY9bmV3IHQuUkdCQUltYWdlKHt3aWR0aDpjLGhlaWdodDp1fSk7dC5SR0JBSW1hZ2UuY29weShlLHYse3g6aCx5OnB9LHt4OjAseTowfSx7d2lkdGg6YyxoZWlnaHQ6dX0pLGlbc109e2RhdGE6dixwaXhlbFJhdGlvOl8sc2RmOmQsc3RyZXRjaFg6ZixzdHJldGNoWTptLGNvbnRlbnQ6Z307fW8obnVsbCxpKTt9fXJldHVybiB7Y2FuY2VsOmZ1bmN0aW9uKCl7bCYmKGwuY2FuY2VsKCksbD1udWxsKSxjJiYoYy5jYW5jZWwoKSxjPW51bGwpO319fShlLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwoZnVuY3Rpb24oZSxvKXtpZihpLl9zcHJpdGVSZXF1ZXN0PW51bGwsZSlpLmZpcmUobmV3IHQuRXJyb3JFdmVudChlKSk7ZWxzZSBpZihvKWZvcih2YXIgciBpbiBvKWkuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKHIsb1tyXSk7aS5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwKSxpLl9hdmFpbGFibGVJbWFnZXM9aS5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLGkuZGlzcGF0Y2hlci5icm9hZGNhc3QoInNldEltYWdlcyIsaS5fYXZhaWxhYmxlSW1hZ2VzKSxpLmZpcmUobmV3IHQuRXZlbnQoImRhdGEiLHtkYXRhVHlwZToic3R5bGUifSkpO30pKTt9LGkucHJvdG90eXBlLl92YWxpZGF0ZUxheWVyPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc291cmNlQ2FjaGVzW2Uuc291cmNlXTtpZihpKXt2YXIgbz1lLnNvdXJjZUxheWVyO2lmKG8pe3ZhciByPWkuZ2V0U291cmNlKCk7KCJnZW9qc29uIj09PXIudHlwZXx8ci52ZWN0b3JMYXllcklkcyYmLTE9PT1yLnZlY3RvckxheWVySWRzLmluZGV4T2YobykpJiZ0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ1NvdXJjZSBsYXllciAiJytvKyciIGRvZXMgbm90IGV4aXN0IG9uIHNvdXJjZSAiJytyLmlkKyciIGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciAiJytlLmlkKyciJykpKTt9fX0saS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClyZXR1cm4gITE7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKWlmKCF0aGlzLnNvdXJjZUNhY2hlc1t0XS5sb2FkZWQoKSlyZXR1cm4gITE7cmV0dXJuICEhdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKX0saS5wcm90b3R5cGUuX3NlcmlhbGl6ZUxheWVycz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0wLG89dDtpPG8ubGVuZ3RoO2krPTEpe3ZhciByPXRoaXMuX2xheWVyc1tvW2ldXTsiY3VzdG9tIiE9PXIudHlwZSYmZS5wdXNoKHIuc2VyaWFsaXplKCkpO31yZXR1cm4gZX0saS5wcm90b3R5cGUuaGFzVHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlQ2FjaGVzKWlmKHRoaXMuc291cmNlQ2FjaGVzW3RdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKHZhciBlIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtyZXR1cm4gITF9LGkucHJvdG90eXBlLl9jaGVja0xvYWRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKCJTdHlsZSBpcyBub3QgZG9uZSBsb2FkaW5nIil9LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLl9sb2FkZWQpe3ZhciBpPXRoaXMuX2NoYW5nZWQ7aWYodGhpcy5fY2hhbmdlZCl7dmFyIG89T2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycykscj1PYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzKTtmb3IodmFyIGEgaW4gKG8ubGVuZ3RofHxyLmxlbmd0aCkmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhvLHIpLHRoaXMuX3VwZGF0ZWRTb3VyY2VzKXt2YXIgbj10aGlzLl91cGRhdGVkU291cmNlc1thXTsicmVsb2FkIj09PW4/dGhpcy5fcmVsb2FkU291cmNlKGEpOiJjbGVhciI9PT1uJiZ0aGlzLl9jbGVhclNvdXJjZShhKTt9Zm9yKHZhciBzIGluIHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpLHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKXRoaXMuX2xheWVyc1tzXS51cGRhdGVUcmFuc2l0aW9ucyhlKTt0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKGUpLHRoaXMuX3Jlc2V0VXBkYXRlcygpO31mb3IodmFyIGwgaW4gdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbbF0udXNlZD0hMTtmb3IodmFyIGM9MCx1PXRoaXMuX29yZGVyO2M8dS5sZW5ndGg7Yys9MSl7dmFyIGg9dGhpcy5fbGF5ZXJzW3VbY11dO2gucmVjYWxjdWxhdGUoZSx0aGlzLl9hdmFpbGFibGVJbWFnZXMpLCFoLmlzSGlkZGVuKGUuem9vbSkmJmguc291cmNlJiYodGhpcy5zb3VyY2VDYWNoZXNbaC5zb3VyY2VdLnVzZWQ9ITApO310aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKGUpLHRoaXMuej1lLnpvb20saSYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7ZGF0YVR5cGU6InN0eWxlIn0pKTt9fSxpLnByb3RvdHlwZS5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LmtleXModGhpcy5fY2hhbmdlZEltYWdlcyk7aWYodC5sZW5ndGgpe2Zvcih2YXIgZSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tlXS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbImljb25zIiwicGF0dGVybnMiXSx0KTt0aGlzLl9jaGFuZ2VkSW1hZ2VzPXt9O319LGkucHJvdG90eXBlLl91cGRhdGVXb3JrZXJMYXllcnM9ZnVuY3Rpb24odCxlKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCJ1cGRhdGVMYXllcnMiLHtsYXllcnM6dGhpcy5fc2VyaWFsaXplTGF5ZXJzKHQpLHJlbW92ZWRJZHM6ZX0pO30saS5wcm90b3R5cGUuX3Jlc2V0VXBkYXRlcz1mdW5jdGlvbigpe3RoaXMuX2NoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMuX3VwZGF0ZWRTb3VyY2VzPXt9LHRoaXMuX3VwZGF0ZWRQYWludFByb3BzPXt9LHRoaXMuX2NoYW5nZWRJbWFnZXM9e307fSxpLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksQmUodGhpcyx0LnZhbGlkYXRlU3R5bGUoZSkpKXJldHVybiAhMTsoZT10LmNsb25lJDEoZSkpLmxheWVycz1VdChlLmxheWVycyk7dmFyIG89ZnVuY3Rpb24oZSxpKXtpZighZSlyZXR1cm4gW3tjb21tYW5kOk50LnNldFN0eWxlLGFyZ3M6W2ldfV07dmFyIG89W107dHJ5e2lmKCF0LmRlZXBFcXVhbChlLnZlcnNpb24saS52ZXJzaW9uKSlyZXR1cm4gW3tjb21tYW5kOk50LnNldFN0eWxlLGFyZ3M6W2ldfV07dC5kZWVwRXF1YWwoZS5jZW50ZXIsaS5jZW50ZXIpfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0Q2VudGVyLGFyZ3M6W2kuY2VudGVyXX0pLHQuZGVlcEVxdWFsKGUuem9vbSxpLnpvb20pfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0Wm9vbSxhcmdzOltpLnpvb21dfSksdC5kZWVwRXF1YWwoZS5iZWFyaW5nLGkuYmVhcmluZyl8fG8ucHVzaCh7Y29tbWFuZDpOdC5zZXRCZWFyaW5nLGFyZ3M6W2kuYmVhcmluZ119KSx0LmRlZXBFcXVhbChlLnBpdGNoLGkucGl0Y2gpfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0UGl0Y2gsYXJnczpbaS5waXRjaF19KSx0LmRlZXBFcXVhbChlLnNwcml0ZSxpLnNwcml0ZSl8fG8ucHVzaCh7Y29tbWFuZDpOdC5zZXRTcHJpdGUsYXJnczpbaS5zcHJpdGVdfSksdC5kZWVwRXF1YWwoZS5nbHlwaHMsaS5nbHlwaHMpfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0R2x5cGhzLGFyZ3M6W2kuZ2x5cGhzXX0pLHQuZGVlcEVxdWFsKGUudHJhbnNpdGlvbixpLnRyYW5zaXRpb24pfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0VHJhbnNpdGlvbixhcmdzOltpLnRyYW5zaXRpb25dfSksdC5kZWVwRXF1YWwoZS5saWdodCxpLmxpZ2h0KXx8by5wdXNoKHtjb21tYW5kOk50LnNldExpZ2h0LGFyZ3M6W2kubGlnaHRdfSk7dmFyIHI9e30sYT1bXTshZnVuY3Rpb24oZSxpLG8scil7dmFyIGE7Zm9yKGEgaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkoYSkmJihpLmhhc093blByb3BlcnR5KGEpfHxxdChhLG8scikpO2ZvcihhIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShhKSYmKGUuaGFzT3duUHJvcGVydHkoYSk/dC5kZWVwRXF1YWwoZVthXSxpW2FdKXx8KCJnZW9qc29uIj09PWVbYV0udHlwZSYmImdlb2pzb24iPT09aVthXS50eXBlJiZWdChlLGksYSk/by5wdXNoKHtjb21tYW5kOk50LnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W2EsaVthXS5kYXRhXX0pOmp0KGEsaSxvLHIpKTpadChhLGksbykpO30oZS5zb3VyY2VzLGkuc291cmNlcyxhLHIpO3ZhciBuPVtdO2UubGF5ZXJzJiZlLmxheWVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3Quc291cmNlXT9vLnB1c2goe2NvbW1hbmQ6TnQucmVtb3ZlTGF5ZXIsYXJnczpbdC5pZF19KTpuLnB1c2godCk7fSkpLG89by5jb25jYXQoYSksZnVuY3Rpb24oZSxpLG8pe2k9aXx8W107dmFyIHIsYSxuLHMsbCxjLHUsaD0oZT1lfHxbXSkubWFwKFd0KSxwPWkubWFwKFd0KSxkPWUucmVkdWNlKFh0LHt9KSxfPWkucmVkdWNlKFh0LHt9KSxmPWguc2xpY2UoKSxtPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHI9MCxhPTA7cjxoLmxlbmd0aDtyKyspXy5oYXNPd25Qcm9wZXJ0eShuPWhbcl0pP2ErKzooby5wdXNoKHtjb21tYW5kOk50LnJlbW92ZUxheWVyLGFyZ3M6W25dfSksZi5zcGxpY2UoZi5pbmRleE9mKG4sYSksMSkpO2ZvcihyPTAsYT0wO3I8cC5sZW5ndGg7cisrKWZbZi5sZW5ndGgtMS1yXSE9PShuPXBbcC5sZW5ndGgtMS1yXSkmJihkLmhhc093blByb3BlcnR5KG4pPyhvLnB1c2goe2NvbW1hbmQ6TnQucmVtb3ZlTGF5ZXIsYXJnczpbbl19KSxmLnNwbGljZShmLmxhc3RJbmRleE9mKG4sZi5sZW5ndGgtYSksMSkpOmErKyxvLnB1c2goe2NvbW1hbmQ6TnQuYWRkTGF5ZXIsYXJnczpbX1tuXSxjPWZbZi5sZW5ndGgtcl1dfSksZi5zcGxpY2UoZi5sZW5ndGgtciwwLG4pLG1bbl09ITApO2ZvcihyPTA7cjxwLmxlbmd0aDtyKyspaWYocz1kW249cFtyXV0sbD1fW25dLCFtW25dJiYhdC5kZWVwRXF1YWwocyxsKSlpZih0LmRlZXBFcXVhbChzLnNvdXJjZSxsLnNvdXJjZSkmJnQuZGVlcEVxdWFsKHNbInNvdXJjZS1sYXllciJdLGxbInNvdXJjZS1sYXllciJdKSYmdC5kZWVwRXF1YWwocy50eXBlLGwudHlwZSkpe2Zvcih1IGluIEd0KHMubGF5b3V0LGwubGF5b3V0LG8sbixudWxsLE50LnNldExheW91dFByb3BlcnR5KSxHdChzLnBhaW50LGwucGFpbnQsbyxuLG51bGwsTnQuc2V0UGFpbnRQcm9wZXJ0eSksdC5kZWVwRXF1YWwocy5maWx0ZXIsbC5maWx0ZXIpfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0RmlsdGVyLGFyZ3M6W24sbC5maWx0ZXJdfSksdC5kZWVwRXF1YWwocy5taW56b29tLGwubWluem9vbSkmJnQuZGVlcEVxdWFsKHMubWF4em9vbSxsLm1heHpvb20pfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0TGF5ZXJab29tUmFuZ2UsYXJnczpbbixsLm1pbnpvb20sbC5tYXh6b29tXX0pLHMpcy5oYXNPd25Qcm9wZXJ0eSh1KSYmImxheW91dCIhPT11JiYicGFpbnQiIT09dSYmImZpbHRlciIhPT11JiYibWV0YWRhdGEiIT09dSYmIm1pbnpvb20iIT09dSYmIm1heHpvb20iIT09dSYmKDA9PT11LmluZGV4T2YoInBhaW50LiIpP0d0KHNbdV0sbFt1XSxvLG4sdS5zbGljZSg2KSxOdC5zZXRQYWludFByb3BlcnR5KTp0LmRlZXBFcXVhbChzW3VdLGxbdV0pfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltuLHUsbFt1XV19KSk7Zm9yKHUgaW4gbClsLmhhc093blByb3BlcnR5KHUpJiYhcy5oYXNPd25Qcm9wZXJ0eSh1KSYmImxheW91dCIhPT11JiYicGFpbnQiIT09dSYmImZpbHRlciIhPT11JiYibWV0YWRhdGEiIT09dSYmIm1pbnpvb20iIT09dSYmIm1heHpvb20iIT09dSYmKDA9PT11LmluZGV4T2YoInBhaW50LiIpP0d0KHNbdV0sbFt1XSxvLG4sdS5zbGljZSg2KSxOdC5zZXRQYWludFByb3BlcnR5KTp0LmRlZXBFcXVhbChzW3VdLGxbdV0pfHxvLnB1c2goe2NvbW1hbmQ6TnQuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltuLHUsbFt1XV19KSk7fWVsc2Ugby5wdXNoKHtjb21tYW5kOk50LnJlbW92ZUxheWVyLGFyZ3M6W25dfSksYz1mW2YubGFzdEluZGV4T2YobikrMV0sby5wdXNoKHtjb21tYW5kOk50LmFkZExheWVyLGFyZ3M6W2wsY119KTt9KG4saS5sYXllcnMsbyk7fWNhdGNoKHQpe2NvbnNvbGUud2FybigiVW5hYmxlIHRvIGNvbXB1dGUgc3R5bGUgZGlmZjoiLHQpLG89W3tjb21tYW5kOk50LnNldFN0eWxlLGFyZ3M6W2ldfV07fXJldHVybiBvfSh0aGlzLnNlcmlhbGl6ZSgpLGUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuICEodC5jb21tYW5kIGluIEZlKX0pKTtpZigwPT09by5sZW5ndGgpcmV0dXJuICExO3ZhciByPW8uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gISh0LmNvbW1hbmQgaW4gT2UpfSkpO2lmKHIubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKCJVbmltcGxlbWVudGVkOiAiK3IubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21tYW5kfSkpLmpvaW4oIiwgIikrIi4iKTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbih0KXsic2V0VHJhbnNpdGlvbiIhPT10LmNvbW1hbmQmJmlbdC5jb21tYW5kXS5hcHBseShpLHQuYXJncyk7fSkpLHRoaXMuc3R5bGVzaGVldD1lLCEwfSxpLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbihlLGkpe2lmKHRoaXMuZ2V0SW1hZ2UoZSkpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiQW4gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuIikpKTt0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShlLGkpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1tlXT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzdHlsZSJ9KSk7fSxpLnByb3RvdHlwZS51cGRhdGVJbWFnZT1mdW5jdGlvbih0LGUpe3RoaXMuaW1hZ2VNYW5hZ2VyLnVwZGF0ZUltYWdlKHQsZSk7fSxpLnByb3RvdHlwZS5nZXRJbWFnZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UodCl9LGkucHJvdG90eXBlLnJlbW92ZUltYWdlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmdldEltYWdlKGUpKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIk5vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy4iKSkpO3RoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKGUpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1tlXT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZGF0YSIse2RhdGFUeXBlOiJzdHlsZSJ9KSk7fSxpLnByb3RvdHlwZS5saXN0SW1hZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpfSxpLnByb3RvdHlwZS5hZGRTb3VyY2U9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPXRoaXM7aWYodm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwIT09dGhpcy5zb3VyY2VDYWNoZXNbZV0pdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggdGhpcyBJRCIpO2lmKCFpLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJUaGUgdHlwZSBwcm9wZXJ0eSBtdXN0IGJlIGRlZmluZWQsIGJ1dCB0aGUgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogIitPYmplY3Qua2V5cyhpKS5qb2luKCIsICIpKyIuIik7aWYoIShbInZlY3RvciIsInJhc3RlciIsImdlb2pzb24iLCJ2aWRlbyIsImltYWdlIl0uaW5kZXhPZihpLnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuc291cmNlLCJzb3VyY2VzLiIrZSxpLG51bGwsbykpKXt0aGlzLm1hcCYmdGhpcy5tYXAuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmKGkuY29sbGVjdFJlc291cmNlVGltaW5nPSEwKTt2YXIgYT10aGlzLnNvdXJjZUNhY2hlc1tlXT1uZXcgTXQoZSxpLHRoaXMuZGlzcGF0Y2hlcik7YS5zdHlsZT10aGlzLGEuc2V0RXZlbnRlZFBhcmVudCh0aGlzLChmdW5jdGlvbigpe3JldHVybiB7aXNTb3VyY2VMb2FkZWQ6ci5sb2FkZWQoKSxzb3VyY2U6YS5zZXJpYWxpemUoKSxzb3VyY2VJZDplfX0pKSxhLm9uQWRkKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO319LGkucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbihlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHZvaWQgMD09PXRoaXMuc291cmNlQ2FjaGVzW2VdKXRocm93IG5ldyBFcnJvcigiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRCIpO2Zvcih2YXIgaSBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW2ldLnNvdXJjZT09PWUpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignU291cmNlICInK2UrJyIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgIicraSsnIiBpcyB1c2luZyBpdC4nKSkpO3ZhciBvPXRoaXMuc291cmNlQ2FjaGVzW2VdO2RlbGV0ZSB0aGlzLnNvdXJjZUNhY2hlc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZFNvdXJjZXNbZV0sby5maXJlKG5ldyB0LkV2ZW50KCJkYXRhIix7c291cmNlRGF0YVR5cGU6Im1ldGFkYXRhIixkYXRhVHlwZToic291cmNlIixzb3VyY2VJZDplfSkpLG8uc2V0RXZlbnRlZFBhcmVudChudWxsKSxvLmNsZWFyVGlsZXMoKSxvLm9uUmVtb3ZlJiZvLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO30saS5wcm90b3R5cGUuc2V0R2VvSlNPTlNvdXJjZURhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuc291cmNlQ2FjaGVzW3RdLmdldFNvdXJjZSgpLnNldERhdGEoZSksdGhpcy5fY2hhbmdlZD0hMDt9LGkucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZXNbdF0mJnRoaXMuc291cmNlQ2FjaGVzW3RdLmdldFNvdXJjZSgpfSxpLnByb3RvdHlwZS5hZGRMYXllcj1mdW5jdGlvbihlLGksbyl7dm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIHI9ZS5pZDtpZih0aGlzLmdldExheWVyKHIpKXRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignTGF5ZXIgd2l0aCBpZCAiJytyKyciIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwJykpKTtlbHNle3ZhciBhO2lmKCJjdXN0b20iPT09ZS50eXBlKXtpZihCZSh0aGlzLHQudmFsaWRhdGVDdXN0b21TdHlsZUxheWVyKGUpKSlyZXR1cm47YT10LmNyZWF0ZVN0eWxlTGF5ZXIoZSk7fWVsc2V7aWYoIm9iamVjdCI9PXR5cGVvZiBlLnNvdXJjZSYmKHRoaXMuYWRkU291cmNlKHIsZS5zb3VyY2UpLGU9dC5jbG9uZSQxKGUpLGU9dC5leHRlbmQoZSx7c291cmNlOnJ9KSksdGhpcy5fdmFsaWRhdGUodC52YWxpZGF0ZVN0eWxlLmxheWVyLCJsYXllcnMuIityLGUse2FycmF5SW5kZXg6LTF9LG8pKXJldHVybjthPXQuY3JlYXRlU3R5bGVMYXllcihlKSx0aGlzLl92YWxpZGF0ZUxheWVyKGEpLGEuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtsYXllcjp7aWQ6cn19KSx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzW2EuaWRdPWEuc2VyaWFsaXplKCk7fXZhciBuPWk/dGhpcy5fb3JkZXIuaW5kZXhPZihpKTp0aGlzLl9vcmRlci5sZW5ndGg7aWYoaSYmLTE9PT1uKXRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcignTGF5ZXIgd2l0aCBpZCAiJytpKyciIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLicpKSk7ZWxzZXtpZih0aGlzLl9vcmRlci5zcGxpY2UobiwwLHIpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX2xheWVyc1tyXT1hLHRoaXMuX3JlbW92ZWRMYXllcnNbcl0mJmEuc291cmNlJiYiY3VzdG9tIiE9PWEudHlwZSl7dmFyIHM9dGhpcy5fcmVtb3ZlZExheWVyc1tyXTtkZWxldGUgdGhpcy5fcmVtb3ZlZExheWVyc1tyXSxzLnR5cGUhPT1hLnR5cGU/dGhpcy5fdXBkYXRlZFNvdXJjZXNbYS5zb3VyY2VdPSJjbGVhciI6KHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Euc291cmNlXT0icmVsb2FkIix0aGlzLnNvdXJjZUNhY2hlc1thLnNvdXJjZV0ucGF1c2UoKSk7fXRoaXMuX3VwZGF0ZUxheWVyKGEpLGEub25BZGQmJmEub25BZGQodGhpcy5tYXApO319fSxpLnByb3RvdHlwZS5tb3ZlTGF5ZXI9ZnVuY3Rpb24oZSxpKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW2VdKXtpZihlIT09aSl7dmFyIG89dGhpcy5fb3JkZXIuaW5kZXhPZihlKTt0aGlzLl9vcmRlci5zcGxpY2UobywxKTt2YXIgcj1pP3RoaXMuX29yZGVyLmluZGV4T2YoaSk6dGhpcy5fb3JkZXIubGVuZ3RoO2kmJi0xPT09cj90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoJ0xheWVyIHdpdGggaWQgIicraSsnIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC4nKSkpOih0aGlzLl9vcmRlci5zcGxpY2UociwwLGUpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwKTt9fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBtb3ZlZC4iKSkpO30saS5wcm90b3R5cGUucmVtb3ZlTGF5ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgaT10aGlzLl9sYXllcnNbZV07aWYoaSl7aS5zZXRFdmVudGVkUGFyZW50KG51bGwpO3ZhciBvPXRoaXMuX29yZGVyLmluZGV4T2YoZSk7dGhpcy5fb3JkZXIuc3BsaWNlKG8sMSksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9yZW1vdmVkTGF5ZXJzW2VdPWksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZExheWVyc1tlXSxkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbZV0saS5vblJlbW92ZSYmaS5vblJlbW92ZSh0aGlzLm1hcCk7fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF5ZXJzW3RdfSxpLnByb3RvdHlwZS5oYXNMYXllcj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzLl9sYXllcnN9LGkucHJvdG90eXBlLnNldExheWVyWm9vbVJhbmdlPWZ1bmN0aW9uKGUsaSxvKXt0aGlzLl9jaGVja0xvYWRlZCgpO3ZhciByPXRoaXMuZ2V0TGF5ZXIoZSk7cj9yLm1pbnpvb209PT1pJiZyLm1heHpvb209PT1vfHwobnVsbCE9aSYmKHIubWluem9vbT1pKSxudWxsIT1vJiYoci5tYXh6b29tPW8pLHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitlKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGhhdmUgem9vbSBleHRlbnQuIikpKTt9LGkucHJvdG90eXBlLnNldEZpbHRlcj1mdW5jdGlvbihlLGksbyl7dm9pZCAwPT09byYmKG89e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIHI9dGhpcy5nZXRMYXllcihlKTtpZihyKXtpZighdC5kZWVwRXF1YWwoci5maWx0ZXIsaSkpcmV0dXJuIG51bGw9PWk/KHIuZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKHQudmFsaWRhdGVTdHlsZS5maWx0ZXIsImxheWVycy4iK3IuaWQrIi5maWx0ZXIiLGksbnVsbCxvKXx8KHIuZmlsdGVyPXQuY2xvbmUkMShpKSx0aGlzLl91cGRhdGVMYXllcihyKSkpfWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC4iKSkpO30saS5wcm90b3R5cGUuZ2V0RmlsdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNsb25lJDEodGhpcy5nZXRMYXllcihlKS5maWx0ZXIpfSxpLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbihlLGksbyxyKXt2b2lkIDA9PT1yJiYocj17fSksdGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgYT10aGlzLmdldExheWVyKGUpO2E/dC5kZWVwRXF1YWwoYS5nZXRMYXlvdXRQcm9wZXJ0eShpKSxvKXx8KGEuc2V0TGF5b3V0UHJvcGVydHkoaSxvLHIpLHRoaXMuX3VwZGF0ZUxheWVyKGEpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitlKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC4iKSkpO30saS5wcm90b3R5cGUuZ2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24oZSxpKXt2YXIgbz10aGlzLmdldExheWVyKGUpO2lmKG8pcmV0dXJuIG8uZ2V0TGF5b3V0UHJvcGVydHkoaSk7dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgbGF5ZXIgJyIrZSsiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuIikpKTt9LGkucHJvdG90eXBlLnNldFBhaW50UHJvcGVydHk9ZnVuY3Rpb24oZSxpLG8scil7dm9pZCAwPT09ciYmKHI9e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGE9dGhpcy5nZXRMYXllcihlKTthP3QuZGVlcEVxdWFsKGEuZ2V0UGFpbnRQcm9wZXJ0eShpKSxvKXx8KGEuc2V0UGFpbnRQcm9wZXJ0eShpLG8scikmJnRoaXMuX3VwZGF0ZUxheWVyKGEpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbZV09ITApOnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIGxheWVyICciK2UrIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0TGF5ZXIodCkuZ2V0UGFpbnRQcm9wZXJ0eShlKX0saS5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKGUsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTt2YXIgbz1lLnNvdXJjZSxyPWUuc291cmNlTGF5ZXIsYT10aGlzLnNvdXJjZUNhY2hlc1tvXTtpZih2b2lkIDAhPT1hKXt2YXIgbj1hLmdldFNvdXJjZSgpLnR5cGU7Imdlb2pzb24iPT09biYmcj90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci4iKSkpOiJ2ZWN0b3IiIT09bnx8cj8odm9pZCAwPT09ZS5pZCYmdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC4iKSkpLGEuc2V0RmVhdHVyZVN0YXRlKHIsZS5pZCxpKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuIikpKTt9ZWxzZSB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBzb3VyY2UgJyIrbysiJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuIikpKTt9LGkucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVTdGF0ZT1mdW5jdGlvbihlLGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIG89ZS5zb3VyY2Uscj10aGlzLnNvdXJjZUNhY2hlc1tvXTtpZih2b2lkIDAhPT1yKXt2YXIgYT1yLmdldFNvdXJjZSgpLnR5cGUsbj0idmVjdG9yIj09PWE/ZS5zb3VyY2VMYXllcjp2b2lkIDA7InZlY3RvciIhPT1hfHxuP2kmJiJzdHJpbmciIT10eXBlb2YgZS5pZCYmIm51bWJlciIhPXR5cGVvZiBlLmlkP3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiQSBmZWF0dXJlIGlkIGlzIHJlcXVyZWQgdG8gcmVtb3ZlIGl0cyBzcGVjaWZpYyBzdGF0ZSBwcm9wZXJ0eS4iKSkpOnIucmVtb3ZlRmVhdHVyZVN0YXRlKG4sZS5pZCxpKTp0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy4iKSkpO31lbHNlIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHNvdXJjZSAnIitvKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS4iKSkpO30saS5wcm90b3R5cGUuZ2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIGk9ZS5zb3VyY2Usbz1lLnNvdXJjZUxheWVyLHI9dGhpcy5zb3VyY2VDYWNoZXNbaV07aWYodm9pZCAwIT09cil7aWYoInZlY3RvciIhPT1yLmdldFNvdXJjZSgpLnR5cGV8fG8pcmV0dXJuIHZvaWQgMD09PWUuaWQmJnRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIGZlYXR1cmUgaWQgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQuIikpKSxyLmdldEZlYXR1cmVTdGF0ZShvLGUuaWQpO3RoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLiIpKSk7fWVsc2UgdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgc291cmNlICciK2krIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLiIpKSk7fSxpLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZXh0ZW5kKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0sdGhpcy5zdHlsZXNoZWV0JiZ0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbil9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0LmZpbHRlck9iamVjdCh7dmVyc2lvbjp0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixuYW1lOnRoaXMuc3R5bGVzaGVldC5uYW1lLG1ldGFkYXRhOnRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxsaWdodDp0aGlzLnN0eWxlc2hlZXQubGlnaHQsY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHNvdXJjZXM6dC5tYXBPYmplY3QodGhpcy5zb3VyY2VDYWNoZXMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNlcmlhbGl6ZSgpfSkpLGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSwoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR9KSl9LGkucHJvdG90eXBlLl91cGRhdGVMYXllcj1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVkTGF5ZXJzW3QuaWRdPSEwLHQuc291cmNlJiYhdGhpcy5fdXBkYXRlZFNvdXJjZXNbdC5zb3VyY2VdJiYicmFzdGVyIiE9PXRoaXMuc291cmNlQ2FjaGVzW3Quc291cmNlXS5nZXRTb3VyY2UoKS50eXBlJiYodGhpcy5fdXBkYXRlZFNvdXJjZXNbdC5zb3VyY2VdPSJyZWxvYWQiLHRoaXMuc291cmNlQ2FjaGVzW3Quc291cmNlXS5wYXVzZSgpKSx0aGlzLl9jaGFuZ2VkPSEwO30saS5wcm90b3R5cGUuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxpPWZ1bmN0aW9uKHQpe3JldHVybiAiZmlsbC1leHRydXNpb24iPT09ZS5fbGF5ZXJzW3RdLnR5cGV9LG89e30scj1bXSxhPXRoaXMuX29yZGVyLmxlbmd0aC0xO2E+PTA7YS0tKXt2YXIgbj10aGlzLl9vcmRlclthXTtpZihpKG4pKXtvW25dPWE7Zm9yKHZhciBzPTAsbD10O3M8bC5sZW5ndGg7cys9MSl7dmFyIGM9bFtzXVtuXTtpZihjKWZvcih2YXIgdT0wLGg9Yzt1PGgubGVuZ3RoO3UrPTEpci5wdXNoKGhbdV0pO319fXIuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5pbnRlcnNlY3Rpb25aLXQuaW50ZXJzZWN0aW9uWn0pKTtmb3IodmFyIHA9W10sZD10aGlzLl9vcmRlci5sZW5ndGgtMTtkPj0wO2QtLSl7dmFyIF89dGhpcy5fb3JkZXJbZF07aWYoaShfKSlmb3IodmFyIGY9ci5sZW5ndGgtMTtmPj0wO2YtLSl7dmFyIG09cltmXS5mZWF0dXJlO2lmKG9bbS5sYXllci5pZF08ZClicmVhaztwLnB1c2gobSksci5wb3AoKTt9ZWxzZSBmb3IodmFyIGc9MCx2PXQ7Zzx2Lmxlbmd0aDtnKz0xKXt2YXIgeT12W2ddW19dO2lmKHkpZm9yKHZhciB4PTAsYj15O3g8Yi5sZW5ndGg7eCs9MSlwLnB1c2goYlt4XS5mZWF0dXJlKTt9fXJldHVybiBwfSxpLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXM9ZnVuY3Rpb24oZSxpLG8pe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyIixpLmZpbHRlcixudWxsLGkpO3ZhciByPXt9O2lmKGkmJmkubGF5ZXJzKXtpZighQXJyYXkuaXNBcnJheShpLmxheWVycykpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigicGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS4iKSkpLFtdO2Zvcih2YXIgYT0wLG49aS5sYXllcnM7YTxuLmxlbmd0aDthKz0xKXt2YXIgcz1uW2FdLGw9dGhpcy5fbGF5ZXJzW3NdO2lmKCFsKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIlRoZSBsYXllciAnIitzKyInIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHF1ZXJpZWQgZm9yIGZlYXR1cmVzLiIpKSksW107cltsLnNvdXJjZV09ITA7fX12YXIgYz1bXTtmb3IodmFyIHUgaW4gaS5hdmFpbGFibGVJbWFnZXM9dGhpcy5fYXZhaWxhYmxlSW1hZ2VzLHRoaXMuc291cmNlQ2FjaGVzKWkubGF5ZXJzJiYhclt1XXx8Yy5wdXNoKEYodGhpcy5zb3VyY2VDYWNoZXNbdV0sdGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMsZSxpLG8pKTtyZXR1cm4gdGhpcy5wbGFjZW1lbnQmJmMucHVzaChmdW5jdGlvbih0LGUsaSxvLHIsYSxuKXtmb3IodmFyIHM9e30sbD1hLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzKG8pLGM9W10sdT0wLGg9T2JqZWN0LmtleXMobCkubWFwKE51bWJlcik7dTxoLmxlbmd0aDt1Kz0xKWMucHVzaChuW2hbdV1dKTtjLnNvcnQoVSk7Zm9yKHZhciBwPWZ1bmN0aW9uKCl7dmFyIGk9X1tkXSxvPWkuZmVhdHVyZUluZGV4Lmxvb2t1cFN5bWJvbEZlYXR1cmVzKGxbaS5idWNrZXRJbnN0YW5jZUlkXSxlLGkuYnVja2V0SW5kZXgsaS5zb3VyY2VMYXllckluZGV4LHIuZmlsdGVyLHIubGF5ZXJzLHIuYXZhaWxhYmxlSW1hZ2VzLHQpO2Zvcih2YXIgYSBpbiBvKXt2YXIgbj1zW2FdPXNbYV18fFtdLGM9b1thXTtjLnNvcnQoKGZ1bmN0aW9uKHQsZSl7dmFyIG89aS5mZWF0dXJlU29ydE9yZGVyO2lmKG8pe3ZhciByPW8uaW5kZXhPZih0LmZlYXR1cmVJbmRleCk7cmV0dXJuIG8uaW5kZXhPZihlLmZlYXR1cmVJbmRleCktcn1yZXR1cm4gZS5mZWF0dXJlSW5kZXgtdC5mZWF0dXJlSW5kZXh9KSk7Zm9yKHZhciB1PTAsaD1jO3U8aC5sZW5ndGg7dSs9MSluLnB1c2goaFt1XSk7fX0sZD0wLF89YztkPF8ubGVuZ3RoO2QrPTEpcCgpO3ZhciBmPWZ1bmN0aW9uKGUpe3NbZV0uZm9yRWFjaCgoZnVuY3Rpb24obyl7dmFyIHI9by5mZWF0dXJlLGE9aVt0W2VdLnNvdXJjZV0uZ2V0RmVhdHVyZVN0YXRlKHIubGF5ZXJbInNvdXJjZS1sYXllciJdLHIuaWQpO3Iuc291cmNlPXIubGF5ZXIuc291cmNlLHIubGF5ZXJbInNvdXJjZS1sYXllciJdJiYoci5zb3VyY2VMYXllcj1yLmxheWVyWyJzb3VyY2UtbGF5ZXIiXSksci5zdGF0ZT1hO30pKTt9O2Zvcih2YXIgbSBpbiBzKWYobSk7cmV0dXJuIHN9KHRoaXMuX2xheWVycyx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzLHRoaXMuc291cmNlQ2FjaGVzLGUsaSx0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleCx0aGlzLnBsYWNlbWVudC5yZXRhaW5lZFF1ZXJ5RGF0YSkpLHRoaXMuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhjKX0saS5wcm90b3R5cGUucXVlcnlTb3VyY2VGZWF0dXJlcz1mdW5jdGlvbihlLGkpe2kmJmkuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh0LnZhbGlkYXRlU3R5bGUuZmlsdGVyLCJxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlciIsaS5maWx0ZXIsbnVsbCxpKTt2YXIgbz10aGlzLnNvdXJjZUNhY2hlc1tlXTtyZXR1cm4gbz9mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldFRpbGVCeUlEKGUpfSkpLG89W10scj17fSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBuPWlbYV0scz1uLnRpbGVJRC5jYW5vbmljYWwua2V5O3Jbc118fChyW3NdPSEwLG4ucXVlcnlTb3VyY2VGZWF0dXJlcyhvLGUpKTt9cmV0dXJuIG99KG8saSk6W119LGkucHJvdG90eXBlLmFkZFNvdXJjZVR5cGU9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBpLmdldFNvdXJjZVR5cGUodCk/byhuZXcgRXJyb3IoJ0Egc291cmNlIHR5cGUgY2FsbGVkICInK3QrJyIgYWxyZWFkeSBleGlzdHMuJykpOihpLnNldFNvdXJjZVR5cGUodCxlKSxlLndvcmtlclNvdXJjZVVSTD92b2lkIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoImxvYWRXb3JrZXJTb3VyY2UiLHtuYW1lOnQsdXJsOmUud29ya2VyU291cmNlVVJMfSxvKTpvKG51bGwsbnVsbCkpfSxpLnByb3RvdHlwZS5nZXRMaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCl9LGkucHJvdG90eXBlLnNldExpZ2h0PWZ1bmN0aW9uKGUsaSl7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMuX2NoZWNrTG9hZGVkKCk7dmFyIG89dGhpcy5saWdodC5nZXRMaWdodCgpLHI9ITE7Zm9yKHZhciBhIGluIGUpaWYoIXQuZGVlcEVxdWFsKGVbYV0sb1thXSkpe3I9ITA7YnJlYWt9aWYocil7dmFyIG49e25vdzp0LmJyb3dzZXIubm93KCksdHJhbnNpdGlvbjp0LmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX07dGhpcy5saWdodC5zZXRMaWdodChlLGkpLHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMobik7fX0saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKGUsaSxvLHIsYSl7cmV0dXJuIHZvaWQgMD09PWEmJihhPXt9KSwoIWF8fCExIT09YS52YWxpZGF0ZSkmJkJlKHRoaXMsZS5jYWxsKHQudmFsaWRhdGVTdHlsZSx0LmV4dGVuZCh7a2V5Omksc3R5bGU6dGhpcy5zZXJpYWxpemUoKSx2YWx1ZTpvLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30scikpKX0saS5wcm90b3R5cGUuX3JlbW92ZT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksdC5ldmVudGVkLm9mZigicGx1Z2luU3RhdGVDaGFuZ2UiLHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayksdGhpcy5fbGF5ZXJzKXRoaXMuX2xheWVyc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO2Zvcih2YXIgaSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tpXS5jbGVhclRpbGVzKCksdGhpcy5zb3VyY2VDYWNoZXNbaV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTt0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLmRpc3BhdGNoZXIucmVtb3ZlKCk7fSxpLnByb3RvdHlwZS5fY2xlYXJTb3VyY2U9ZnVuY3Rpb24odCl7dGhpcy5zb3VyY2VDYWNoZXNbdF0uY2xlYXJUaWxlcygpO30saS5wcm90b3R5cGUuX3JlbG9hZFNvdXJjZT1mdW5jdGlvbih0KXt0aGlzLnNvdXJjZUNhY2hlc1t0XS5yZXN1bWUoKSx0aGlzLnNvdXJjZUNhY2hlc1t0XS5yZWxvYWQoKTt9LGkucHJvdG90eXBlLl91cGRhdGVTb3VyY2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLnNvdXJjZUNhY2hlc1tlXS51cGRhdGUodCk7fSxpLnByb3RvdHlwZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNvdXJjZUNhY2hlcyl0aGlzLl9yZWxvYWRTb3VyY2UodCk7fSxpLnByb3RvdHlwZS5fdXBkYXRlUGxhY2VtZW50PWZ1bmN0aW9uKGUsaSxvLHIsYSl7dm9pZCAwPT09YSYmKGE9ITEpO2Zvcih2YXIgbj0hMSxzPSExLGw9e30sYz0wLHU9dGhpcy5fb3JkZXI7Yzx1Lmxlbmd0aDtjKz0xKXt2YXIgaD10aGlzLl9sYXllcnNbdVtjXV07aWYoInN5bWJvbCI9PT1oLnR5cGUpe2lmKCFsW2guc291cmNlXSl7dmFyIHA9dGhpcy5zb3VyY2VDYWNoZXNbaC5zb3VyY2VdO2xbaC5zb3VyY2VdPXAuZ2V0UmVuZGVyYWJsZUlkcyghMCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gcC5nZXRUaWxlQnlJRCh0KX0pKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBlLnRpbGVJRC5vdmVyc2NhbGVkWi10LnRpbGVJRC5vdmVyc2NhbGVkWnx8KHQudGlsZUlELmlzTGVzc1RoYW4oZS50aWxlSUQpPy0xOjEpfSkpO312YXIgZD10aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LmFkZExheWVyKGgsbFtoLnNvdXJjZV0sZS5jZW50ZXIubG5nKTtuPW58fGQ7fX1pZih0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LnBydW5lVW51c2VkTGF5ZXJzKHRoaXMuX29yZGVyKSwoKGE9YXx8dGhpcy5fbGF5ZXJPcmRlckNoYW5nZWR8fDA9PT1vKXx8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KHQuYnJvd3Nlci5ub3coKSxlLnpvb20pKSYmKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50PW5ldyBMZShlLHRoaXMuX29yZGVyLGEsaSxvLHIsdGhpcy5wbGFjZW1lbnQpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSExKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKT90aGlzLnBsYWNlbWVudC5zZXRTdGFsZSgpOih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlcix0aGlzLl9sYXllcnMsbCksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJih0aGlzLnBsYWNlbWVudD10aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQodC5icm93c2VyLm5vdygpKSxzPSEwKSxuJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8bilmb3IodmFyIF89MCxmPXRoaXMuX29yZGVyO188Zi5sZW5ndGg7Xys9MSl7dmFyIG09dGhpcy5fbGF5ZXJzW2ZbX11dOyJzeW1ib2wiPT09bS50eXBlJiZ0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyhtLGxbbS5zb3VyY2VdKTt9cmV0dXJuICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKXx8dGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnModC5icm93c2VyLm5vdygpKX0saS5wcm90b3R5cGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpdGhpcy5zb3VyY2VDYWNoZXNbdF0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpO30saS5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXMoZS5pY29ucyxpKSx0aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTt2YXIgbz10aGlzLnNvdXJjZUNhY2hlc1tlLnNvdXJjZV07byYmby5zZXREZXBlbmRlbmNpZXMoZS50aWxlSUQua2V5LGUudHlwZSxlLmljb25zKTt9LGkucHJvdG90eXBlLmdldEdseXBocz1mdW5jdGlvbih0LGUsaSl7dGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKGUuc3RhY2tzLGkpO30saS5wcm90b3R5cGUuZ2V0UmVzb3VyY2U9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0Lm1ha2VSZXF1ZXN0KGksbyl9LGl9KHQuRXZlbnRlZCk7TmUuZ2V0U291cmNlVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4ga1t0XX0sTmUuc2V0U291cmNlVHlwZT1mdW5jdGlvbih0LGUpe2tbdF09ZTt9LE5lLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U9dC5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO3ZhciBaZT10LmNyZWF0ZUxheW91dChbe25hbWU6ImFfcG9zIix0eXBlOiJJbnQxNiIsY29tcG9uZW50czoyfV0pLHFlPV9pKCIjaWZkZWYgR0xfRVNcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuI2Vsc2VcbiNpZiAhZGVmaW5lZChsb3dwKVxuI2RlZmluZSBsb3dwXG4jZW5kaWZcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxuI2RlZmluZSBtZWRpdW1wXG4jZW5kaWZcbiNpZiAhZGVmaW5lZChoaWdocClcbiNkZWZpbmUgaGlnaHBcbiNlbmRpZlxuI2VuZGlmIiwiI2lmZGVmIEdMX0VTXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4jZWxzZVxuI2lmICFkZWZpbmVkKGxvd3ApXG4jZGVmaW5lIGxvd3BcbiNlbmRpZlxuI2lmICFkZWZpbmVkKG1lZGl1bXApXG4jZGVmaW5lIG1lZGl1bXBcbiNlbmRpZlxuI2lmICFkZWZpbmVkKGhpZ2hwKVxuI2RlZmluZSBoaWdocFxuI2VuZGlmXG4jZW5kaWZcbnZlYzIgdW5wYWNrX2Zsb2F0KGNvbnN0IGZsb2F0IHBhY2tlZFZhbHVlKSB7aW50IHBhY2tlZEludFZhbHVlPWludChwYWNrZWRWYWx1ZSk7aW50IHYwPXBhY2tlZEludFZhbHVlLzI1NjtyZXR1cm4gdmVjMih2MCxwYWNrZWRJbnRWYWx1ZS12MCoyNTYpO312ZWMyIHVucGFja19vcGFjaXR5KGNvbnN0IGZsb2F0IHBhY2tlZE9wYWNpdHkpIHtpbnQgaW50T3BhY2l0eT1pbnQocGFja2VkT3BhY2l0eSkvMjtyZXR1cm4gdmVjMihmbG9hdChpbnRPcGFjaXR5KS8xMjcuMCxtb2QocGFja2VkT3BhY2l0eSwyLjApKTt9dmVjNCBkZWNvZGVfY29sb3IoY29uc3QgdmVjMiBlbmNvZGVkQ29sb3IpIHtyZXR1cm4gdmVjNCh1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzBdKS8yNTUuMCx1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzFdKS8yNTUuMFxuKTt9ZmxvYXQgdW5wYWNrX21peF92ZWMyKGNvbnN0IHZlYzIgcGFja2VkVmFsdWUsY29uc3QgZmxvYXQgdCkge3JldHVybiBtaXgocGFja2VkVmFsdWVbMF0scGFja2VkVmFsdWVbMV0sdCk7fXZlYzQgdW5wYWNrX21peF9jb2xvcihjb25zdCB2ZWM0IHBhY2tlZENvbG9ycyxjb25zdCBmbG9hdCB0KSB7dmVjNCBtaW5Db2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMF0scGFja2VkQ29sb3JzWzFdKSk7dmVjNCBtYXhDb2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMl0scGFja2VkQ29sb3JzWzNdKSk7cmV0dXJuIG1peChtaW5Db2xvcixtYXhDb2xvcix0KTt9dmVjMiBnZXRfcGF0dGVybl9wb3MoY29uc3QgdmVjMiBwaXhlbF9jb29yZF91cHBlcixjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX2xvd2VyLGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLGNvbnN0IGZsb2F0IHRpbGVfdW5pdHNfdG9fcGl4ZWxzLGNvbnN0IHZlYzIgcG9zKSB7dmVjMiBvZmZzZXQ9bW9kKG1vZChtb2QocGl4ZWxfY29vcmRfdXBwZXIscGF0dGVybl9zaXplKSoyNTYuMCxwYXR0ZXJuX3NpemUpKjI1Ni4wK3BpeGVsX2Nvb3JkX2xvd2VyLHBhdHRlcm5fc2l6ZSk7cmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscypwb3Mrb2Zmc2V0KS9wYXR0ZXJuX3NpemU7fSIpLGplPV9pKCJ1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yPXVfY29sb3IqdV9vcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxWZT1faSgidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X21peDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZvaWQgbWFpbigpIHt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHVfcGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peCh1X3BhdHRlcm5fdGxfYi91X3RleHNpemUsdV9wYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7Z2xfRnJhZ0NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfbWl4KSp1X29wYWNpdHk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3NjYWxlX2EqdV9wYXR0ZXJuX3NpemVfYSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9zY2FsZV9iKnVfcGF0dGVybl9zaXplX2IsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7fSIpLEdlPV9pKCJ2YXJ5aW5nIHZlYzMgdl9kYXRhO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcbnZlYzIgZXh0cnVkZT12X2RhdGEueHk7ZmxvYXQgZXh0cnVkZV9sZW5ndGg9bGVuZ3RoKGV4dHJ1ZGUpO2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj12X2RhdGEuejtmbG9hdCBhbnRpYWxpYXNlZF9ibHVyPS1tYXgoYmx1cixhbnRpYWxpYXNibHVyKTtmbG9hdCBvcGFjaXR5X3Q9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzZWRfYmx1cixleHRydWRlX2xlbmd0aC0xLjApO2Zsb2F0IGNvbG9yX3Q9c3Ryb2tlX3dpZHRoIDwgMC4wMSA/IDAuMCA6IHNtb290aHN0ZXAoYW50aWFsaWFzZWRfYmx1ciwwLjAsZXh0cnVkZV9sZW5ndGgtcmFkaXVzLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKSk7Z2xfRnJhZ0NvbG9yPW9wYWNpdHlfdCptaXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gYm9vbCB1X3NjYWxlX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMyB2X2RhdGE7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XG52b2lkIG1haW4odm9pZCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcbnZlYzIgZXh0cnVkZT12ZWMyKG1vZChhX3BvcywyLjApKjIuMC0xLjApO3ZlYzIgY2lyY2xlX2NlbnRlcj1mbG9vcihhX3BvcyowLjUpO2lmICh1X3BpdGNoX3dpdGhfbWFwKSB7dmVjMiBjb3JuZXJfcG9zaXRpb249Y2lyY2xlX2NlbnRlcjtpZiAodV9zY2FsZV93aXRoX21hcCkge2Nvcm5lcl9wb3NpdGlvbis9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlO30gZWxzZSB7dmVjNCBwcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4KnZlYzQoY2lyY2xlX2NlbnRlciwwLDEpO2Nvcm5lcl9wb3NpdGlvbis9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKihwcm9qZWN0ZWRfY2VudGVyLncvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKTt9Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChjb3JuZXJfcG9zaXRpb24sMCwxKTt9IGVsc2Uge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoY2lyY2xlX2NlbnRlciwwLDEpO2lmICh1X3NjYWxlX3dpdGhfbWFwKSB7Z2xfUG9zaXRpb24ueHkrPWV4dHJ1ZGUqKHJhZGl1cytzdHJva2Vfd2lkdGgpKnVfZXh0cnVkZV9zY2FsZSp1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7fSBlbHNlIHtnbF9Qb3NpdGlvbi54eSs9ZXh0cnVkZSoocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLnc7fX1sb3dwIGZsb2F0IGFudGlhbGlhc2JsdXI9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKTt2X2RhdGE9dmVjMyhleHRydWRlLngsZXh0cnVkZS55LGFudGlhbGlhc2JsdXIpO30iKSxXZT1faSgidm9pZCBtYWluKCkge2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7fSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO30iKSxYZT1faSgidW5pZm9ybSBoaWdocCBmbG9hdCB1X2ludGVuc2l0eTt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxuZmxvYXQgZD0tMC41KjMuMCozLjAqZG90KHZfZXh0cnVkZSx2X2V4dHJ1ZGUpO2Zsb2F0IHZhbD13ZWlnaHQqdV9pbnRlbnNpdHkqR0FVU1NfQ09FRipleHAoZCk7Z2xfRnJhZ0NvbG9yPXZlYzQodmFsLDEuMCwxLjAsMS4wKTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eTthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk89MS4wLzI1NS4wLzE2LjA7XG4jZGVmaW5lIEdBVVNTX0NPRUYgMC4zOTg5NDIyODA0MDE0MzI3XG52b2lkIG1haW4odm9pZCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xudmVjMiB1bnNjYWxlZF9leHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7ZmxvYXQgUz1zcXJ0KC0yLjAqbG9nKFpFUk8vd2VpZ2h0L3VfaW50ZW5zaXR5L0dBVVNTX0NPRUYpKS8zLjA7dl9leHRydWRlPVMqdW5zY2FsZWRfZXh0cnVkZTt2ZWMyIGV4dHJ1ZGU9dl9leHRydWRlKnJhZGl1cyp1X2V4dHJ1ZGVfc2NhbGU7dmVjNCBwb3M9dmVjNChmbG9vcihhX3BvcyowLjUpK2V4dHJ1ZGUsMCwxKTtnbF9Qb3NpdGlvbj11X21hdHJpeCpwb3M7fSIpLEhlPV9pKCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2Zsb2F0IHQ9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpLnI7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9jb2xvcl9yYW1wLHZlYzIodCwwLjUpKTtnbF9GcmFnQ29sb3I9Y29sb3IqdV9vcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMC4wKTtcbiNlbmRpZlxufSIsInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV93b3JsZCwwLDEpO3ZfcG9zLng9YV9wb3MueDt2X3Bvcy55PTEuMC1hX3Bvcy55O30iKSxLZT1faSgidmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7ZmxvYXQgYWxwaGE9MC41O2dsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDEuMCkqYWxwaGE7aWYgKHZfcGxhY2VkID4gMC41KSB7Z2xfRnJhZ0NvbG9yPXZlYzQoMC4wLDAuMCwxLjAsMC41KSphbHBoYTt9aWYgKHZfbm90VXNlZCA+IDAuNSkge2dsX0ZyYWdDb2xvcio9LjE7fX0iLCJhdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX2FuY2hvcl9wb3M7YXR0cmlidXRlIHZlYzIgYV9leHRydWRlO2F0dHJpYnV0ZSB2ZWMyIGFfcGxhY2VkO2F0dHJpYnV0ZSB2ZWMyIGFfc2hpZnQ7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfYW5jaG9yX3BvcywwLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCw0LjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMC4wLDEuMCk7Z2xfUG9zaXRpb24ueHkrPShhX2V4dHJ1ZGUrYV9zaGlmdCkqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLncqY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfcGxhY2VkPWFfcGxhY2VkLng7dl9ub3RVc2VkPWFfcGxhY2VkLnk7fSIpLFllPV9pKCJ1bmlmb3JtIGZsb2F0IHVfb3ZlcnNjYWxlX2ZhY3Rvcjt2YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO3ZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO3ZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTt2YXJ5aW5nIHZlYzIgdl9leHRydWRlX3NjYWxlO3ZvaWQgbWFpbigpIHtmbG9hdCBhbHBoYT0wLjU7dmVjNCBjb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDEuMCkqYWxwaGE7aWYgKHZfcGxhY2VkID4gMC41KSB7Y29sb3I9dmVjNCgwLjAsMC4wLDEuMCwwLjUpKmFscGhhO31pZiAodl9ub3RVc2VkID4gMC41KSB7Y29sb3IqPS4yO31mbG9hdCBleHRydWRlX3NjYWxlX2xlbmd0aD1sZW5ndGgodl9leHRydWRlX3NjYWxlKTtmbG9hdCBleHRydWRlX2xlbmd0aD1sZW5ndGgodl9leHRydWRlKSpleHRydWRlX3NjYWxlX2xlbmd0aDtmbG9hdCBzdHJva2Vfd2lkdGg9MTUuMCpleHRydWRlX3NjYWxlX2xlbmd0aC91X292ZXJzY2FsZV9mYWN0b3I7ZmxvYXQgcmFkaXVzPXZfcmFkaXVzKmV4dHJ1ZGVfc2NhbGVfbGVuZ3RoO2Zsb2F0IGRpc3RhbmNlX3RvX2VkZ2U9YWJzKGV4dHJ1ZGVfbGVuZ3RoLXJhZGl1cyk7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoLXN0cm9rZV93aWR0aCwwLjAsLWRpc3RhbmNlX3RvX2VkZ2UpO2dsX0ZyYWdDb2xvcj1vcGFjaXR5X3QqY29sb3I7fSIsImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfYW5jaG9yX3BvczthdHRyaWJ1dGUgdmVjMiBhX2V4dHJ1ZGU7YXR0cmlidXRlIHZlYzIgYV9wbGFjZWQ7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZV9zY2FsZTt2b2lkIG1haW4oKSB7dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfYW5jaG9yX3BvcywwLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCw0LjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMC4wLDEuMCk7aGlnaHAgZmxvYXQgcGFkZGluZ19mYWN0b3I9MS4yO2dsX1Bvc2l0aW9uLnh5Kz1hX2V4dHJ1ZGUqdV9leHRydWRlX3NjYWxlKnBhZGRpbmdfZmFjdG9yKmdsX1Bvc2l0aW9uLncqY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfcGxhY2VkPWFfcGxhY2VkLng7dl9ub3RVc2VkPWFfcGxhY2VkLnk7dl9yYWRpdXM9YWJzKGFfZXh0cnVkZS55KTt2X2V4dHJ1ZGU9YV9leHRydWRlKnBhZGRpbmdfZmFjdG9yO3ZfZXh0cnVkZV9zY2FsZT11X2V4dHJ1ZGVfc2NhbGUqdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKmNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt9IiksSmU9X2koInVuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yO3VuaWZvcm0gc2FtcGxlcjJEIHVfb3ZlcmxheTt2YXJ5aW5nIHZlYzIgdl91djt2b2lkIG1haW4oKSB7dmVjNCBvdmVybGF5X2NvbG9yPXRleHR1cmUyRCh1X292ZXJsYXksdl91dik7Z2xfRnJhZ0NvbG9yPW1peCh1X2NvbG9yLG92ZXJsYXlfY29sb3Isb3ZlcmxheV9jb2xvci5hKTt9IiwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfdXY7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9vdmVybGF5X3NjYWxlO3ZvaWQgbWFpbigpIHt2X3V2PWFfcG9zLzgxOTIuMDtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKnVfb3ZlcmxheV9zY2FsZSwwLDEpO30iKSxRZT1faSgiI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG5nbF9GcmFnQ29sb3I9Y29sb3Iqb3BhY2l0eTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt9IiksJGU9X2koInZhcnlpbmcgdmVjMiB2X3BvcztcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfcG9zLWdsX0ZyYWdDb29yZC54eSk7ZmxvYXQgYWxwaGE9MS4wLXNtb290aHN0ZXAoMC4wLDEuMCxkaXN0KTtnbF9GcmFnQ29sb3I9b3V0bGluZV9jb2xvciooYWxwaGEqb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3ZhcnlpbmcgdmVjMiB2X3BvcztcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO30iKSx0aT1faSgidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZhcnlpbmcgdmVjMiB2X3BvcztcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3NfYSwxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHBhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgocGF0dGVybl90bF9iL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7ZmxvYXQgZGlzdD1sZW5ndGgodl9wb3MtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO2dsX0ZyYWdDb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpKmFscGhhKm9wYWNpdHk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gdmVjMyB1X3NjYWxlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZhcnlpbmcgdmVjMiB2X3BvcztcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7ZmxvYXQgdGlsZVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2ZWMyIGRpc3BsYXlfc2l6ZV9hPShwYXR0ZXJuX2JyX2EtcGF0dGVybl90bF9hKS9waXhlbF9yYXRpb19mcm9tO3ZlYzIgZGlzcGxheV9zaXplX2I9KHBhdHRlcm5fYnJfYi1wYXR0ZXJuX3RsX2IpL3BpeGVsX3JhdGlvX3RvO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixmcm9tU2NhbGUqZGlzcGxheV9zaXplX2EsdGlsZVJhdGlvLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlUmF0aW8sYV9wb3MpO3ZfcG9zPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7fSIpLGVpPV9pKCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bF9hL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2EvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7dmVjMiBpbWFnZWNvb3JkX2I9bW9kKHZfcG9zX2IsMS4wKTt2ZWMyIHBvczI9bWl4KHBhdHRlcm5fdGxfYi91X3RleHNpemUscGF0dGVybl9icl9iL3VfdGV4c2l6ZSxpbWFnZWNvb3JkX2IpO3ZlYzQgY29sb3IyPXRleHR1cmUyRCh1X2ltYWdlLHBvczIpO2dsX0ZyYWdDb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpKm9wYWNpdHk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gdmVjMyB1X3NjYWxlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlWm9vbVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixmcm9tU2NhbGUqZGlzcGxheV9zaXplX2EsdGlsZVpvb21SYXRpbyxhX3Bvcyk7dl9wb3NfYj1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLHRvU2NhbGUqZGlzcGxheV9zaXplX2IsdGlsZVpvb21SYXRpbyxhX3Bvcyk7fSIpLGlpPV9pKCJ2YXJ5aW5nIHZlYzQgdl9jb2xvcjt2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yPXZfY29sb3I7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfdmVydGljYWxfZ3JhZGllbnQ7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjNCBhX25vcm1hbF9lZDt2YXJ5aW5nIHZlYzQgdl9jb2xvcjtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgYmFzZVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBoZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgaGVpZ2h0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG52ZWMzIG5vcm1hbD1hX25vcm1hbF9lZC54eXo7YmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLGhlaWdodCk7ZmxvYXQgdD1tb2Qobm9ybWFsLngsMi4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLHQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlLDEpO2Zsb2F0IGNvbG9ydmFsdWU9Y29sb3IuciowLjIxMjYrY29sb3IuZyowLjcxNTIrY29sb3IuYiowLjA3MjI7dl9jb2xvcj12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7dmVjNCBhbWJpZW50bGlnaHQ9dmVjNCgwLjAzLDAuMDMsMC4wMywxLjApO2NvbG9yKz1hbWJpZW50bGlnaHQ7ZmxvYXQgZGlyZWN0aW9uYWw9Y2xhbXAoZG90KG5vcm1hbC8xNjM4NC4wLHVfbGlnaHRwb3MpLDAuMCwxLjApO2RpcmVjdGlvbmFsPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPSgoMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9dl9jb2xvci5yKz1jbGFtcChjb2xvci5yKmRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvci5yLG1peCgwLjAsMC4zLDEuMC11X2xpZ2h0Y29sb3IuciksMS4wKTt2X2NvbG9yLmcrPWNsYW1wKGNvbG9yLmcqZGlyZWN0aW9uYWwqdV9saWdodGNvbG9yLmcsbWl4KDAuMCwwLjMsMS4wLXVfbGlnaHRjb2xvci5nKSwxLjApO3ZfY29sb3IuYis9Y2xhbXAoY29sb3IuYipkaXJlY3Rpb25hbCp1X2xpZ2h0Y29sb3IuYixtaXgoMC4wLDAuMywxLjAtdV9saWdodGNvbG9yLmIpLDEuMCk7dl9jb2xvcio9dV9vcGFjaXR5O30iKSxvaT1faSgidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfZmFkZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZhcnlpbmcgdmVjNCB2X2xpZ2h0aW5nO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJhc2VcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBiYXNlXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhlaWdodFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTt2ZWM0IG1peGVkQ29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9mYWRlKTtnbF9GcmFnQ29sb3I9bWl4ZWRDb2xvcip2X2xpZ2h0aW5nO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2ZhY3Rvcjt1bmlmb3JtIHZlYzMgdV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfdmVydGljYWxfZ3JhZGllbnQ7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHZlYzMgdV9saWdodGNvbG9yO3VuaWZvcm0gbG93cCB2ZWMzIHVfbGlnaHRwb3M7dW5pZm9ybSBsb3dwIGZsb2F0IHVfbGlnaHRpbnRlbnNpdHk7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzQgYV9ub3JtYWxfZWQ7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjMyBub3JtYWw9YV9ub3JtYWxfZWQueHl6O2Zsb2F0IGVkZ2VkaXN0YW5jZT1hX25vcm1hbF9lZC53O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87YmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLGhlaWdodCk7ZmxvYXQgdD1tb2Qobm9ybWFsLngsMi4wKTtmbG9hdCB6PXQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MseiwxKTt2ZWMyIHBvcz1ub3JtYWwueD09MS4wICYmIG5vcm1hbC55PT0wLjAgJiYgbm9ybWFsLno9PTE2Mzg0LjBcbj8gYV9wb3NcbjogdmVjMihlZGdlZGlzdGFuY2Useip1X2hlaWdodF9mYWN0b3IpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixmcm9tU2NhbGUqZGlzcGxheV9zaXplX2EsdGlsZVJhdGlvLHBvcyk7dl9wb3NfYj1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLHRvU2NhbGUqZGlzcGxheV9zaXplX2IsdGlsZVJhdGlvLHBvcyk7dl9saWdodGluZz12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7ZmxvYXQgZGlyZWN0aW9uYWw9Y2xhbXAoZG90KG5vcm1hbC8xNjM4My4wLHVfbGlnaHRwb3MpLDAuMCwxLjApO2RpcmVjdGlvbmFsPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMC41K3VfbGlnaHRpbnRlbnNpdHkpLDEuMCksZGlyZWN0aW9uYWwpO2lmIChub3JtYWwueSAhPTAuMCkge2RpcmVjdGlvbmFsKj0oKDEuMC11X3ZlcnRpY2FsX2dyYWRpZW50KSsodV92ZXJ0aWNhbF9ncmFkaWVudCpjbGFtcCgodCtiYXNlKSpwb3coaGVpZ2h0LzE1MC4wLDAuNSksbWl4KDAuNywwLjk4LDEuMC11X2xpZ2h0aW50ZW5zaXR5KSwxLjApKSk7fXZfbGlnaHRpbmcucmdiKz1jbGFtcChkaXJlY3Rpb25hbCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X2xpZ2h0aW5nKj11X29wYWNpdHk7fSIpLHJpPV9pKCIjaWZkZWYgR0xfRVNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiNlbmRpZlxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gZmxvYXQgdV9tYXh6b29tO3VuaWZvcm0gdmVjNCB1X3VucGFjaztmbG9hdCBnZXRFbGV2YXRpb24odmVjMiBjb29yZCxmbG9hdCBiaWFzKSB7dmVjNCBkYXRhPXRleHR1cmUyRCh1X2ltYWdlLGNvb3JkKSoyNTUuMDtkYXRhLmE9LTEuMDtyZXR1cm4gZG90KGRhdGEsdV91bnBhY2spLzQuMDt9dm9pZCBtYWluKCkge3ZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgYT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LC1lcHNpbG9uLnkpLDAuMCk7ZmxvYXQgYj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigwLC1lcHNpbG9uLnkpLDAuMCk7ZmxvYXQgYz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsLWVwc2lsb24ueSksMC4wKTtmbG9hdCBkPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsMCksMC4wKTtmbG9hdCBlPWdldEVsZXZhdGlvbih2X3BvcywwLjApO2Zsb2F0IGY9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LDApLDAuMCk7ZmxvYXQgZz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LGVwc2lsb24ueSksMC4wKTtmbG9hdCBoPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsZXBzaWxvbi55KSwwLjApO2Zsb2F0IGk9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LGVwc2lsb24ueSksMC4wKTtmbG9hdCBleGFnZ2VyYXRpb249dV96b29tIDwgMi4wID8gMC40IDogdV96b29tIDwgNC41ID8gMC4zNSA6IDAuMzt2ZWMyIGRlcml2PXZlYzIoKGMrZitmK2kpLShhK2QrZCtnKSwoZytoK2graSktKGErYitiK2MpKS8gcG93KDIuMCwodV96b29tLXVfbWF4em9vbSkqZXhhZ2dlcmF0aW9uKzE5LjI1NjItdV96b29tKTtnbF9GcmFnQ29sb3I9Y2xhbXAodmVjNChkZXJpdi54LzIuMCswLjUsZGVyaXYueS8yLjArMC41LDEuMCwxLjApLDAuMCwxLjApO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9kaW1lbnNpb247YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtoaWdocCB2ZWMyIGVwc2lsb249MS4wL3VfZGltZW5zaW9uO2Zsb2F0IHNjYWxlPSh1X2RpbWVuc2lvbi54LTIuMCkvdV9kaW1lbnNpb24ueDt2X3Bvcz0oYV90ZXh0dXJlX3Bvcy84MTkyLjApKnNjYWxlK2Vwc2lsb247fSIpLGFpPV9pKCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9sYXRyYW5nZTt1bmlmb3JtIHZlYzIgdV9saWdodDt1bmlmb3JtIHZlYzQgdV9zaGFkb3c7dW5pZm9ybSB2ZWM0IHVfaGlnaGxpZ2h0O3VuaWZvcm0gdmVjNCB1X2FjY2VudDtcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTNcbnZvaWQgbWFpbigpIHt2ZWM0IHBpeGVsPXRleHR1cmUyRCh1X2ltYWdlLHZfcG9zKTt2ZWMyIGRlcml2PSgocGl4ZWwucmcqMi4wKS0xLjApO2Zsb2F0IHNjYWxlRmFjdG9yPWNvcyhyYWRpYW5zKCh1X2xhdHJhbmdlWzBdLXVfbGF0cmFuZ2VbMV0pKigxLjAtdl9wb3MueSkrdV9sYXRyYW5nZVsxXSkpO2Zsb2F0IHNsb3BlPWF0YW4oMS4yNSpsZW5ndGgoZGVyaXYpL3NjYWxlRmFjdG9yKTtmbG9hdCBhc3BlY3Q9ZGVyaXYueCAhPTAuMCA/IGF0YW4oZGVyaXYueSwtZGVyaXYueCkgOiBQSS8yLjAqKGRlcml2LnkgPiAwLjAgPyAxLjAgOi0xLjApO2Zsb2F0IGludGVuc2l0eT11X2xpZ2h0Lng7ZmxvYXQgYXppbXV0aD11X2xpZ2h0LnkrUEk7ZmxvYXQgYmFzZT0xLjg3NS1pbnRlbnNpdHkqMS43NTtmbG9hdCBtYXhWYWx1ZT0wLjUqUEk7ZmxvYXQgc2NhbGVkU2xvcGU9aW50ZW5zaXR5ICE9MC41ID8gKChwb3coYmFzZSxzbG9wZSktMS4wKS8ocG93KGJhc2UsbWF4VmFsdWUpLTEuMCkpKm1heFZhbHVlIDogc2xvcGU7ZmxvYXQgYWNjZW50PWNvcyhzY2FsZWRTbG9wZSk7dmVjNCBhY2NlbnRfY29sb3I9KDEuMC1hY2NlbnQpKnVfYWNjZW50KmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7ZmxvYXQgc2hhZGU9YWJzKG1vZCgoYXNwZWN0K2F6aW11dGgpL1BJKzAuNSwyLjApLTEuMCk7dmVjNCBzaGFkZV9jb2xvcj1taXgodV9zaGFkb3csdV9oaWdobGlnaHQsc2hhZGUpKnNpbihzY2FsZWRTbG9wZSkqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtnbF9GcmFnQ29sb3I9YWNjZW50X2NvbG9yKigxLjAtc2hhZGVfY29sb3IuYSkrc2hhZGVfY29sb3I7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9YV90ZXh0dXJlX3Bvcy84MTkyLjA7fSIpLG5pPV9pKCJ1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkpO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsIlxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfcmF0aW87dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfbGluZXNvZmFyO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dl9saW5lc29mYXI9KGZsb29yKGFfZGF0YS56LzQuMCkrYV9kYXRhLncqNjQuMCkqMi4wO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpzY2FsZTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqc2NhbGUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QvdV9yYXRpbywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyL3VfcmF0aW8sMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO30iKSxzaT1faSgidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBoaWdocCBmbG9hdCB2X2xpbmVwcm9ncmVzcztcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTt2ZWM0IGNvbG9yPXRleHR1cmUyRCh1X2ltYWdlLHZlYzIodl9saW5lcHJvZ3Jlc3MsMC41KSk7Z2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJcbiNkZWZpbmUgTUFYX0xJTkVfRElTVEFOQ0UgMzI3NjcuMFxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfcmF0aW87dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIGZsb2F0IHZfbGluZXByb2dyZXNzO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvZmZzZXRcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO3ZfbGluZXByb2dyZXNzPShmbG9vcihhX2RhdGEuei80LjApK2FfZGF0YS53KjY0LjApKjIuMC9NQVhfTElORV9ESVNUQU5DRTt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0L3VfcmF0aW8sMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mi91X3JhdGlvLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt9IiksbGk9X2koInVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3VuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfc2NhbGU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgZmxvYXQgdl93aWR0aDtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7ZmxvYXQgdGlsZVpvb21SYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWMyIGRpc3BsYXlfc2l6ZV9hPShwYXR0ZXJuX2JyX2EtcGF0dGVybl90bF9hKS9waXhlbF9yYXRpb19mcm9tO3ZlYzIgZGlzcGxheV9zaXplX2I9KHBhdHRlcm5fYnJfYi1wYXR0ZXJuX3RsX2IpL3BpeGVsX3JhdGlvX3RvO3ZlYzIgcGF0dGVybl9zaXplX2E9dmVjMihkaXNwbGF5X3NpemVfYS54KmZyb21TY2FsZS90aWxlWm9vbVJhdGlvLGRpc3BsYXlfc2l6ZV9hLnkpO3ZlYzIgcGF0dGVybl9zaXplX2I9dmVjMihkaXNwbGF5X3NpemVfYi54KnRvU2NhbGUvdGlsZVpvb21SYXRpbyxkaXNwbGF5X3NpemVfYi55KTtmbG9hdCBhc3BlY3RfYT1kaXNwbGF5X3NpemVfYS55L3Zfd2lkdGg7ZmxvYXQgYXNwZWN0X2I9ZGlzcGxheV9zaXplX2IueS92X3dpZHRoO2Zsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtmbG9hdCB4X2E9bW9kKHZfbGluZXNvZmFyL3BhdHRlcm5fc2l6ZV9hLngqYXNwZWN0X2EsMS4wKTtmbG9hdCB4X2I9bW9kKHZfbGluZXNvZmFyL3BhdHRlcm5fc2l6ZV9iLngqYXNwZWN0X2IsMS4wKTtmbG9hdCB5PTAuNSp2X25vcm1hbC55KzAuNTt2ZWMyIHRleGVsX3NpemU9MS4wL3VfdGV4c2l6ZTt2ZWMyIHBvc19hPW1peChwYXR0ZXJuX3RsX2EqdGV4ZWxfc2l6ZS10ZXhlbF9zaXplLHBhdHRlcm5fYnJfYSp0ZXhlbF9zaXplK3RleGVsX3NpemUsdmVjMih4X2EseSkpO3ZlYzIgcG9zX2I9bWl4KHBhdHRlcm5fdGxfYip0ZXhlbF9zaXplLXRleGVsX3NpemUscGF0dGVybl9icl9iKnRleGVsX3NpemUrdGV4ZWxfc2l6ZSx2ZWMyKHhfYix5KSk7dmVjNCBjb2xvcj1taXgodGV4dHVyZTJEKHVfaW1hZ2UscG9zX2EpLHRleHR1cmUyRCh1X2ltYWdlLHBvc19iKSx1X2ZhZGUpO2dsX0ZyYWdDb2xvcj1jb2xvciphbHBoYSpvcGFjaXR5O1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsIlxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxuI2RlZmluZSBMSU5FX0RJU1RBTkNFX1NDQUxFIDIuMFxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X3JhdGlvO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgZmxvYXQgdl93aWR0aDtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO2Zsb2F0IGFfbGluZXNvZmFyPShmbG9vcihhX2RhdGEuei80LjApK2FfZGF0YS53KjY0LjApKkxJTkVfRElTVEFOQ0VfU0NBTEU7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKnNjYWxlO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpzY2FsZSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdC91X3JhdGlvLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIvdV9yYXRpbywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTt2X2xpbmVzb2Zhcj1hX2xpbmVzb2Zhcjt2X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7dl93aWR0aD1mbG9vcndpZHRoO30iKSxjaT1faSgidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X3NkZmdhbW1hO3VuaWZvcm0gZmxvYXQgdV9taXg7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgdmVjMiB2X3dpZHRoMjt2YXJ5aW5nIHZlYzIgdl90ZXhfYTt2YXJ5aW5nIHZlYzIgdl90ZXhfYjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO2Zsb2F0IHNkZmRpc3RfYT10ZXh0dXJlMkQodV9pbWFnZSx2X3RleF9hKS5hO2Zsb2F0IHNkZmRpc3RfYj10ZXh0dXJlMkQodV9pbWFnZSx2X3RleF9iKS5hO2Zsb2F0IHNkZmRpc3Q9bWl4KHNkZmRpc3RfYSxzZGZkaXN0X2IsdV9taXgpO2FscGhhKj1zbW9vdGhzdGVwKDAuNS11X3NkZmdhbW1hL2Zsb29yd2lkdGgsMC41K3Vfc2RmZ2FtbWEvZmxvb3J3aWR0aCxzZGZkaXN0KTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkpO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsIlxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxuI2RlZmluZSBMSU5FX0RJU1RBTkNFX1NDQUxFIDIuMFxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfcmF0aW87dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5zY2FsZV9hO3VuaWZvcm0gZmxvYXQgdV90ZXhfeV9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5zY2FsZV9iO3VuaWZvcm0gZmxvYXQgdV90ZXhfeV9iO3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X3RleF9hO3ZhcnlpbmcgdmVjMiB2X3RleF9iO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvZmZzZXRcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO2Zsb2F0IGFfbGluZXNvZmFyPShmbG9vcihhX2RhdGEuei80LjApK2FfZGF0YS53KjY0LjApKkxJTkVfRElTVEFOQ0VfU0NBTEU7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKnNjYWxlO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpzY2FsZSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdC91X3JhdGlvLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIvdV9yYXRpbywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTt2X3RleF9hPXZlYzIoYV9saW5lc29mYXIqdV9wYXR0ZXJuc2NhbGVfYS54L2Zsb29yd2lkdGgsbm9ybWFsLnkqdV9wYXR0ZXJuc2NhbGVfYS55K3VfdGV4X3lfYSk7dl90ZXhfYj12ZWMyKGFfbGluZXNvZmFyKnVfcGF0dGVybnNjYWxlX2IueC9mbG9vcndpZHRoLG5vcm1hbC55KnVfcGF0dGVybnNjYWxlX2IueSt1X3RleF95X2IpO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt9IiksdWk9X2koInVuaWZvcm0gZmxvYXQgdV9mYWRlX3Q7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTE7dmFyeWluZyB2ZWMyIHZfcG9zMDt2YXJ5aW5nIHZlYzIgdl9wb3MxO3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2xvdzt1bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19oaWdoO3VuaWZvcm0gZmxvYXQgdV9zYXR1cmF0aW9uX2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfY29udHJhc3RfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NwaW5fd2VpZ2h0czt2b2lkIG1haW4oKSB7dmVjNCBjb2xvcjA9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UxLHZfcG9zMSk7aWYgKGNvbG9yMC5hID4gMC4wKSB7Y29sb3IwLnJnYj1jb2xvcjAucmdiL2NvbG9yMC5hO31pZiAoY29sb3IxLmEgPiAwLjApIHtjb2xvcjEucmdiPWNvbG9yMS5yZ2IvY29sb3IxLmE7fXZlYzQgY29sb3I9bWl4KGNvbG9yMCxjb2xvcjEsdV9mYWRlX3QpO2NvbG9yLmEqPXVfb3BhY2l0eTt2ZWMzIHJnYj1jb2xvci5yZ2I7cmdiPXZlYzMoZG90KHJnYix1X3NwaW5fd2VpZ2h0cy54eXopLGRvdChyZ2IsdV9zcGluX3dlaWdodHMuenh5KSxkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnl6eCkpO2Zsb2F0IGF2ZXJhZ2U9KGNvbG9yLnIrY29sb3IuZytjb2xvci5iKS8zLjA7cmdiKz0oYXZlcmFnZS1yZ2IpKnVfc2F0dXJhdGlvbl9mYWN0b3I7cmdiPShyZ2ItMC41KSp1X2NvbnRyYXN0X2ZhY3RvciswLjU7dmVjMyB1X2hpZ2hfdmVjPXZlYzModV9icmlnaHRuZXNzX2xvdyx1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3cpO3ZlYzMgdV9sb3dfdmVjPXZlYzModV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gpO2dsX0ZyYWdDb2xvcj12ZWM0KG1peCh1X2hpZ2hfdmVjLHVfbG93X3ZlYyxyZ2IpKmNvbG9yLmEsY29sb3IuYSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3RsX3BhcmVudDt1bmlmb3JtIGZsb2F0IHVfc2NhbGVfcGFyZW50O3VuaWZvcm0gZmxvYXQgdV9idWZmZXJfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3BvczA9KCgoYV90ZXh0dXJlX3Bvcy84MTkyLjApLTAuNSkvdV9idWZmZXJfc2NhbGUgKSswLjU7dl9wb3MxPSh2X3BvczAqdV9zY2FsZV9wYXJlbnQpK3VfdGxfcGFyZW50O30iKSxoaT1faSgidW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3ZhcnlpbmcgdmVjMiB2X3RleDt2YXJ5aW5nIGZsb2F0IHZfZmFkZV9vcGFjaXR5O1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxubG93cCBmbG9hdCBhbHBoYT1vcGFjaXR5KnZfZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlLHZfdGV4KSphbHBoYTtcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XG4jZW5kaWZcbn0iLCJjb25zdCBmbG9hdCBQST0zLjE0MTU5MjY1MzU4OTc5MzthdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9kYXRhO2F0dHJpYnV0ZSB2ZWM0IGFfcGl4ZWxvZmZzZXQ7YXR0cmlidXRlIHZlYzMgYV9wcm9qZWN0ZWRfcG9zO2F0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTt1bmlmb3JtIGJvb2wgdV9pc19zaXplX3pvb21fY29uc3RhbnQ7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplX3Q7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemU7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3BpdGNoO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3ZhcnlpbmcgdmVjMiB2X3RleDt2YXJ5aW5nIGZsb2F0IHZfZmFkZV9vcGFjaXR5O1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX2RhdGEueHk7dmVjMiBhX3NpemU9YV9kYXRhLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7dmVjMiBhX21pbkZvbnRTY2FsZT1hX3BpeGVsb2Zmc2V0Lnp3LzI1Ni4wO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1syXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzQgcHJvamVjdGVkUG9pbnQ9dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbz11X3BpdGNoX3dpdGhfbWFwID9cbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKDAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDQuMCk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRQcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRQb2ludC54eS9wcm9qZWN0ZWRQb2ludC53O3ZlYzIgYj1vZmZzZXRQcm9qZWN0ZWRQb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRQb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9aGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7dmVjNCBwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LDAuMCwxLjApO2dsX1Bvc2l0aW9uPXVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrcm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKm1heChhX21pbkZvbnRTY2FsZSxmb250U2NhbGUpK2FfcHhvZmZzZXQvMTYuMCksMC4wLDEuMCk7dl90ZXg9YV90ZXgvdV90ZXhzaXplO3ZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTt2X2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbigxLjAsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7fSIpLHBpPV9pKCIjZGVmaW5lIFNERl9QWCA4LjBcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBib29sIHVfaXNfdGV4dDt2YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXG52b2lkIG1haW4oKSB7XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXG5mbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO3ZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZhZGVfb3BhY2l0eT12X2RhdGExWzJdO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxufSIsImNvbnN0IGZsb2F0IFBJPTMuMTQxNTkyNjUzNTg5NzkzO2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX2RhdGE7YXR0cmlidXRlIHZlYzQgYV9waXhlbG9mZnNldDthdHRyaWJ1dGUgdmVjMyBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9waXRjaDt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dmFyeWluZyB2ZWMyIHZfZGF0YTA7dmFyeWluZyB2ZWMzIHZfZGF0YTE7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX2RhdGEueHk7dmVjMiBhX3NpemU9YV9kYXRhLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzJdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRQb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsNC4wKTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MrdmVjMigxLDApLDAsMSk7dmVjMiBhPXByb2plY3RlZFBvaW50Lnh5L3Byb2plY3RlZFBvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZFBvaW50Lnh5L29mZnNldFByb2plY3RlZFBvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO31oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTt2ZWM0IHByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksMC4wLDEuMCk7Z2xfUG9zaXRpb249dV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3Mudytyb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqZm9udFNjYWxlK2FfcHhvZmZzZXQpLDAuMCwxLjApO2Zsb2F0IGdhbW1hX3NjYWxlPWdsX1Bvc2l0aW9uLnc7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4oMS4wLGZhZGVfb3BhY2l0eVswXStmYWRlX2NoYW5nZSkpO3ZfZGF0YTA9YV90ZXgvdV90ZXhzaXplO3ZfZGF0YTE9dmVjMyhnYW1tYV9zY2FsZSxzaXplLGludGVycG9sYXRlZF9mYWRlX29wYWNpdHkpO30iKSxkaT1faSgiI2RlZmluZSBTREZfUFggOC4wXG4jZGVmaW5lIFNERiAxLjBcbiNkZWZpbmUgSUNPTiAwLjBcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZV9pY29uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxudm9pZCBtYWluKCkge1xuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxuZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07aWYgKHZfZGF0YTEudz09SUNPTikge3ZlYzIgdGV4X2ljb249dl9kYXRhMC56dztsb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlX2ljb24sdGV4X2ljb24pKmFscGhhO1xuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcbiNlbmRpZlxucmV0dXJuO312ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZvbnRTY2FsZT1zaXplLzI0LjA7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7aWYgKHVfaXNfaGFsbykge2NvbG9yPWhhbG9fY29sb3I7Z2FtbWE9KGhhbG9fYmx1cioxLjE5L1NERl9QWCtFREdFX0dBTU1BKS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2J1ZmY9KDYuMC1oYWxvX3dpZHRoL2ZvbnRTY2FsZSkvU0RGX1BYO31sb3dwIGZsb2F0IGRpc3Q9dGV4dHVyZTJEKHVfdGV4dHVyZSx0ZXgpLmE7aGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkPWdhbW1hKmdhbW1hX3NjYWxlO2hpZ2hwIGZsb2F0IGFscGhhPXNtb290aHN0ZXAoYnVmZi1nYW1tYV9zY2FsZWQsYnVmZitnYW1tYV9zY2FsZWQsZGlzdCk7Z2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xuI2VuZGlmXG59IiwiY29uc3QgZmxvYXQgUEk9My4xNDE1OTI2NTM1ODk3OTM7YXR0cmlidXRlIHZlYzQgYV9wb3Nfb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTthdHRyaWJ1dGUgdmVjMyBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9waXRjaDt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZV9pY29uO3ZhcnlpbmcgdmVjNCB2X2RhdGEwO3ZhcnlpbmcgdmVjNCB2X2RhdGExO1xuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcbnZvaWQgbWFpbigpIHtcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV9kYXRhLnh5O3ZlYzIgYV9zaXplPWFfZGF0YS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO2Zsb2F0IGlzX3NkZj1hX3NpemVbMF0tMi4wKmFfc2l6ZV9taW47aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzJdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRQb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsNC4wKTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250U2NhbGU9c2l6ZS8yNC4wO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0UHJvamVjdGVkUG9pbnQ9dV9tYXRyaXgqdmVjNChhX3Bvcyt2ZWMyKDEsMCksMCwxKTt2ZWMyIGE9cHJvamVjdGVkUG9pbnQueHkvcHJvamVjdGVkUG9pbnQudzt2ZWMyIGI9b2Zmc2V0UHJvamVjdGVkUG9pbnQueHkvb2Zmc2V0UHJvamVjdGVkUG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fWhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO3ZlYzQgcHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSwwLjAsMS4wKTtnbF9Qb3NpdGlvbj11X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K3JvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250U2NhbGUpLDAuMCwxLjApO2Zsb2F0IGdhbW1hX3NjYWxlPWdsX1Bvc2l0aW9uLnc7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4oMS4wLGZhZGVfb3BhY2l0eVswXStmYWRlX2NoYW5nZSkpO3ZfZGF0YTAueHk9YV90ZXgvdV90ZXhzaXplO3ZfZGF0YTAuenc9YV90ZXgvdV90ZXhzaXplX2ljb247dl9kYXRhMT12ZWM0KGdhbW1hX3NjYWxlLHNpemUsaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSxpc19zZGYpO30iKTtmdW5jdGlvbiBfaSh0LGUpe3ZhciBpPS8jcHJhZ21hIG1hcGJveDogKFtcd10rKSAoW1x3XSspIChbXHddKykgKFtcd10rKS9nLG89e307cmV0dXJuIHtmcmFnbWVudFNvdXJjZTp0PXQucmVwbGFjZShpLChmdW5jdGlvbih0LGUsaSxyLGEpe3JldHVybiBvW2FdPSEwLCJkZWZpbmUiPT09ZT8iXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfIithKyJcbnZhcnlpbmcgIitpKyIgIityKyIgIithKyI7XG4jZWxzZVxudW5pZm9ybSAiK2krIiAiK3IrIiB1XyIrYSsiO1xuI2VuZGlmXG4iOiJcbiNpZmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG4gICAgIitpKyIgIityKyIgIithKyIgPSB1XyIrYSsiO1xuI2VuZGlmXG4ifSkpLHZlcnRleFNvdXJjZTplPWUucmVwbGFjZShpLChmdW5jdGlvbih0LGUsaSxyLGEpe3ZhciBuPSJmbG9hdCI9PT1yPyJ2ZWMyIjoidmVjNCIscz1hLm1hdGNoKC9jb2xvci8pPyJjb2xvciI6bjtyZXR1cm4gb1thXT8iZGVmaW5lIj09PWU/IlxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyIrYSsiXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8iK2ErIl90O1xuYXR0cmlidXRlICIraSsiICIrbisiIGFfIithKyI7XG52YXJ5aW5nICIraSsiICIrcisiICIrYSsiO1xuI2Vsc2VcbnVuaWZvcm0gIitpKyIgIityKyIgdV8iK2ErIjtcbiNlbmRpZlxuIjoidmVjNCI9PT1zPyJcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8iK2ErIlxuICAgICIrYSsiID0gYV8iK2ErIjtcbiNlbHNlXG4gICAgIitpKyIgIityKyIgIithKyIgPSB1XyIrYSsiO1xuI2VuZGlmXG4iOiJcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8iK2ErIlxuICAgICIrYSsiID0gdW5wYWNrX21peF8iK3MrIihhXyIrYSsiLCB1XyIrYSsiX3QpO1xuI2Vsc2VcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiI6ImRlZmluZSI9PT1lPyJcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8iK2ErIlxudW5pZm9ybSBsb3dwIGZsb2F0IHVfIithKyJfdDtcbmF0dHJpYnV0ZSAiK2krIiAiK24rIiBhXyIrYSsiO1xuI2Vsc2VcbnVuaWZvcm0gIitpKyIgIityKyIgdV8iK2ErIjtcbiNlbmRpZlxuIjoidmVjNCI9PT1zPyJcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8iK2ErIlxuICAgICIraSsiICIrcisiICIrYSsiID0gYV8iK2ErIjtcbiNlbHNlXG4gICAgIitpKyIgIityKyIgIithKyIgPSB1XyIrYSsiO1xuI2VuZGlmXG4iOiJcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8iK2ErIlxuICAgICIraSsiICIrcisiICIrYSsiID0gdW5wYWNrX21peF8iK3MrIihhXyIrYSsiLCB1XyIrYSsiX3QpO1xuI2Vsc2VcbiAgICAiK2krIiAiK3IrIiAiK2ErIiA9IHVfIithKyI7XG4jZW5kaWZcbiJ9KSl9fXZhciBmaT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwcmVsdWRlOnFlLGJhY2tncm91bmQ6amUsYmFja2dyb3VuZFBhdHRlcm46VmUsY2lyY2xlOkdlLGNsaXBwaW5nTWFzazpXZSxoZWF0bWFwOlhlLGhlYXRtYXBUZXh0dXJlOkhlLGNvbGxpc2lvbkJveDpLZSxjb2xsaXNpb25DaXJjbGU6WWUsZGVidWc6SmUsZmlsbDpRZSxmaWxsT3V0bGluZTokZSxmaWxsT3V0bGluZVBhdHRlcm46dGksZmlsbFBhdHRlcm46ZWksZmlsbEV4dHJ1c2lvbjppaSxmaWxsRXh0cnVzaW9uUGF0dGVybjpvaSxoaWxsc2hhZGVQcmVwYXJlOnJpLGhpbGxzaGFkZTphaSxsaW5lOm5pLGxpbmVHcmFkaWVudDpzaSxsaW5lUGF0dGVybjpsaSxsaW5lU0RGOmNpLHJhc3Rlcjp1aSxzeW1ib2xJY29uOmhpLHN5bWJvbFNERjpwaSxzeW1ib2xUZXh0QW5kSWNvbjpkaX0pLG1pPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZFByb2dyYW09bnVsbCx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1bXSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW51bGwsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLnZhbz1udWxsO307bWkucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxlLGksbyxyLGEsbixzKXt0aGlzLmNvbnRleHQ9dDtmb3IodmFyIGw9dGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycy5sZW5ndGghPT1vLmxlbmd0aCxjPTA7IWwmJmM8by5sZW5ndGg7YysrKXRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnNbY10hPT1vW2NdJiYobD0hMCk7dC5leHRWZXJ0ZXhBcnJheU9iamVjdCYmdGhpcy52YW8mJnRoaXMuYm91bmRQcm9ncmFtPT09ZSYmdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlcj09PWkmJiFsJiZ0aGlzLmJvdW5kSW5kZXhCdWZmZXI9PT1yJiZ0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PT09YSYmdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXI9PT1uJiZ0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjI9PT1zPyh0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pLG4mJm4uYmluZCgpLHImJnIuZHluYW1pY0RyYXcmJnIuYmluZCgpLHMmJnMuYmluZCgpKTp0aGlzLmZyZXNoQmluZChlLGksbyxyLGEsbixzKTt9LG1pLnByb3RvdHlwZS5mcmVzaEJpbmQ9ZnVuY3Rpb24odCxlLGksbyxyLGEsbil7dmFyIHMsbD10Lm51bUF0dHJpYnV0ZXMsYz10aGlzLmNvbnRleHQsdT1jLmdsO2lmKGMuZXh0VmVydGV4QXJyYXlPYmplY3QpdGhpcy52YW8mJnRoaXMuZGVzdHJveSgpLHRoaXMudmFvPWMuZXh0VmVydGV4QXJyYXlPYmplY3QuY3JlYXRlVmVydGV4QXJyYXlPRVMoKSxjLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pLHM9MCx0aGlzLmJvdW5kUHJvZ3JhbT10LHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9ZSx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPWksdGhpcy5ib3VuZEluZGV4QnVmZmVyPW8sdGhpcy5ib3VuZFZlcnRleE9mZnNldD1yLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyPWEsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIyPW47ZWxzZXtzPWMuY3VycmVudE51bUF0dHJpYnV0ZXN8fDA7Zm9yKHZhciBoPWw7aDxzO2grKyl1LmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShoKTt9ZS5lbmFibGVBdHRyaWJ1dGVzKHUsdCk7Zm9yKHZhciBwPTAsZD1pO3A8ZC5sZW5ndGg7cCs9MSlkW3BdLmVuYWJsZUF0dHJpYnV0ZXModSx0KTthJiZhLmVuYWJsZUF0dHJpYnV0ZXModSx0KSxuJiZuLmVuYWJsZUF0dHJpYnV0ZXModSx0KSxlLmJpbmQoKSxlLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKHUsdCxyKTtmb3IodmFyIF89MCxmPWk7XzxmLmxlbmd0aDtfKz0xKXt2YXIgbT1mW19dO20uYmluZCgpLG0uc2V0VmVydGV4QXR0cmliUG9pbnRlcnModSx0LHIpO31hJiYoYS5iaW5kKCksYS5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyh1LHQscikpLG8mJm8uYmluZCgpLG4mJihuLmJpbmQoKSxuLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKHUsdCxyKSksYy5jdXJyZW50TnVtQXR0cmlidXRlcz1sO30sbWkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnZhbyYmKHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyksdGhpcy52YW89bnVsbCk7fTt2YXIgZ2k9ZnVuY3Rpb24odCxlLGksbyxyKXt2YXIgYT10LmdsO3RoaXMucHJvZ3JhbT1hLmNyZWF0ZVByb2dyYW0oKTt2YXIgbj1pP2kuZGVmaW5lcygpOltdO3ImJm4ucHVzaCgiI2RlZmluZSBPVkVSRFJBV19JTlNQRUNUT1I7Iik7dmFyIHM9bi5jb25jYXQocWUuZnJhZ21lbnRTb3VyY2UsZS5mcmFnbWVudFNvdXJjZSkuam9pbigiXG4iKSxsPW4uY29uY2F0KHFlLnZlcnRleFNvdXJjZSxlLnZlcnRleFNvdXJjZSkuam9pbigiXG4iKSxjPWEuY3JlYXRlU2hhZGVyKGEuRlJBR01FTlRfU0hBREVSKTtpZihhLmlzQ29udGV4dExvc3QoKSl0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwO2Vsc2V7YS5zaGFkZXJTb3VyY2UoYyxzKSxhLmNvbXBpbGVTaGFkZXIoYyksYS5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLGMpO3ZhciB1PWEuY3JlYXRlU2hhZGVyKGEuVkVSVEVYX1NIQURFUik7aWYoYS5pc0NvbnRleHRMb3N0KCkpdGhpcy5mYWlsZWRUb0NyZWF0ZT0hMDtlbHNle2Euc2hhZGVyU291cmNlKHUsbCksYS5jb21waWxlU2hhZGVyKHUpLGEuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSx1KTtmb3IodmFyIGg9aT9pLmxheW91dEF0dHJpYnV0ZXM6W10scD0wO3A8aC5sZW5ndGg7cCsrKWEuYmluZEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxwLGhbcF0ubmFtZSk7YS5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMubnVtQXR0cmlidXRlcz1hLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLGEuQUNUSVZFX0FUVFJJQlVURVMpLHRoaXMuYXR0cmlidXRlcz17fTtmb3IodmFyIGQ9e30sXz0wO188dGhpcy5udW1BdHRyaWJ1dGVzO18rKyl7dmFyIGY9YS5nZXRBY3RpdmVBdHRyaWIodGhpcy5wcm9ncmFtLF8pO2YmJih0aGlzLmF0dHJpYnV0ZXNbZi5uYW1lXT1hLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxmLm5hbWUpKTt9Zm9yKHZhciBtPWEuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sYS5BQ1RJVkVfVU5JRk9STVMpLGc9MDtnPG07ZysrKXt2YXIgdj1hLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5wcm9ncmFtLGcpO3YmJihkW3YubmFtZV09YS5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLHYubmFtZSkpO310aGlzLmZpeGVkVW5pZm9ybXM9byh0LGQpLHRoaXMuYmluZGVyVW5pZm9ybXM9aT9pLmdldFVuaWZvcm1zKHQsZCk6W107fX19O2Z1bmN0aW9uIHZpKHQsZSxpKXt2YXIgbz0xL3VlKGksMSxlLnRyYW5zZm9ybS50aWxlWm9vbSkscj1NYXRoLnBvdygyLGkudGlsZUlELm92ZXJzY2FsZWRaKSxhPWkudGlsZVNpemUqTWF0aC5wb3coMixlLnRyYW5zZm9ybS50aWxlWm9vbSkvcixuPWEqKGkudGlsZUlELmNhbm9uaWNhbC54K2kudGlsZUlELndyYXAqcikscz1hKmkudGlsZUlELmNhbm9uaWNhbC55O3JldHVybiB7dV9pbWFnZTowLHVfdGV4c2l6ZTppLmltYWdlQXRsYXNUZXh0dXJlLnNpemUsdV9zY2FsZTpbbyx0LmZyb21TY2FsZSx0LnRvU2NhbGVdLHVfZmFkZTp0LnQsdV9waXhlbF9jb29yZF91cHBlcjpbbj4+MTYscz4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1Jm4sNjU1MzUmc119fWdpLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxpLG8scixhLG4scyxsLGMsdSxoLHAsZCxfLGYpe3ZhciBtLGc9dC5nbDtpZighdGhpcy5mYWlsZWRUb0NyZWF0ZSl7Zm9yKHZhciB2IGluIHQucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKSx0LnNldERlcHRoTW9kZShpKSx0LnNldFN0ZW5jaWxNb2RlKG8pLHQuc2V0Q29sb3JNb2RlKHIpLHQuc2V0Q3VsbEZhY2UoYSksdGhpcy5maXhlZFVuaWZvcm1zKXRoaXMuZml4ZWRVbmlmb3Jtc1t2XS5zZXQoblt2XSk7ZCYmZC5zZXRVbmlmb3Jtcyh0LHRoaXMuYmluZGVyVW5pZm9ybXMsaCx7em9vbTpwfSk7Zm9yKHZhciB5PShtPXt9LG1bZy5MSU5FU109MixtW2cuVFJJQU5HTEVTXT0zLG1bZy5MSU5FX1NUUklQXT0xLG0pW2VdLHg9MCxiPXUuZ2V0KCk7eDxiLmxlbmd0aDt4Kz0xKXt2YXIgdz1iW3hdLEU9dy52YW9zfHwody52YW9zPXt9KTsoRVtzXXx8KEVbc109bmV3IG1pKSkuYmluZCh0LHRoaXMsbCxkP2QuZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCk6W10sYyx3LnZlcnRleE9mZnNldCxfLGYpLGcuZHJhd0VsZW1lbnRzKGUsdy5wcmltaXRpdmVMZW5ndGgqeSxnLlVOU0lHTkVEX1NIT1JULHcucHJpbWl0aXZlT2Zmc2V0KnkqMik7fX19O3ZhciB5aT1mdW5jdGlvbihlLGksbyxyKXt2YXIgYT1pLnN0eWxlLmxpZ2h0LG49YS5wcm9wZXJ0aWVzLmdldCgicG9zaXRpb24iKSxzPVtuLngsbi55LG4uel0sbD10LmNyZWF0ZSQxKCk7InZpZXdwb3J0Ij09PWEucHJvcGVydGllcy5nZXQoImFuY2hvciIpJiZ0LmZyb21Sb3RhdGlvbihsLC1pLnRyYW5zZm9ybS5hbmdsZSksdC50cmFuc2Zvcm1NYXQzKHMscyxsKTt2YXIgYz1hLnByb3BlcnRpZXMuZ2V0KCJjb2xvciIpO3JldHVybiB7dV9tYXRyaXg6ZSx1X2xpZ2h0cG9zOnMsdV9saWdodGludGVuc2l0eTphLnByb3BlcnRpZXMuZ2V0KCJpbnRlbnNpdHkiKSx1X2xpZ2h0Y29sb3I6W2MucixjLmcsYy5iXSx1X3ZlcnRpY2FsX2dyYWRpZW50OitvLHVfb3BhY2l0eTpyfX0seGk9ZnVuY3Rpb24oZSxpLG8scixhLG4scyl7cmV0dXJuIHQuZXh0ZW5kKHlpKGUsaSxvLHIpLHZpKG4saSxzKSx7dV9oZWlnaHRfZmFjdG9yOi1NYXRoLnBvdygyLGEub3ZlcnNjYWxlZFopL3MudGlsZVNpemUvOH0pfSxiaT1mdW5jdGlvbih0KXtyZXR1cm4ge3VfbWF0cml4OnR9fSx3aT1mdW5jdGlvbihlLGksbyxyKXtyZXR1cm4gdC5leHRlbmQoYmkoZSksdmkobyxpLHIpKX0sRWk9ZnVuY3Rpb24odCxlKXtyZXR1cm4ge3VfbWF0cml4OnQsdV93b3JsZDplfX0sVGk9ZnVuY3Rpb24oZSxpLG8scixhKXtyZXR1cm4gdC5leHRlbmQod2koZSxpLG8scikse3Vfd29ybGQ6YX0pfSxJaT1mdW5jdGlvbihlLGksbyxyKXt2YXIgYSxuLHM9ZS50cmFuc2Zvcm07aWYoIm1hcCI9PT1yLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLWFsaWdubWVudCIpKXt2YXIgbD11ZShvLDEscy56b29tKTthPSEwLG49W2wsbF07fWVsc2UgYT0hMSxuPXMucGl4ZWxzVG9HTFVuaXRzO3JldHVybiB7dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOnMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx1X3NjYWxlX3dpdGhfbWFwOisoIm1hcCI9PT1yLnBhaW50LmdldCgiY2lyY2xlLXBpdGNoLXNjYWxlIikpLHVfbWF0cml4OmUudHJhbnNsYXRlUG9zTWF0cml4KGkucG9zTWF0cml4LG8sci5wYWludC5nZXQoImNpcmNsZS10cmFuc2xhdGUiKSxyLnBhaW50LmdldCgiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3IiKSksdV9waXRjaF93aXRoX21hcDorYSx1X2RldmljZV9waXhlbF9yYXRpbzp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyx1X2V4dHJ1ZGVfc2NhbGU6bn19LENpPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3BpeGVsc190b190aWxlX3VuaXRzKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2V4dHJ1ZGVfc2NhbGUpLHVfb3ZlcnNjYWxlX2ZhY3RvcjpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3ZlcnNjYWxlX2ZhY3Rvcil9fSxTaT1mdW5jdGlvbih0LGUsaSl7dmFyIG89dWUoaSwxLGUuem9vbSkscj1NYXRoLnBvdygyLGUuem9vbS1pLnRpbGVJRC5vdmVyc2NhbGVkWiksYT1pLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKTtyZXR1cm4ge3VfbWF0cml4OnQsdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOmUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx1X3BpeGVsc190b190aWxlX3VuaXRzOm8sdV9leHRydWRlX3NjYWxlOltlLnBpeGVsc1RvR0xVbml0c1swXS8obypyKSxlLnBpeGVsc1RvR0xVbml0c1sxXS8obypyKV0sdV9vdmVyc2NhbGVfZmFjdG9yOmF9fSxQaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTEpLHt1X21hdHJpeDp0LHVfY29sb3I6ZSx1X292ZXJsYXk6MCx1X292ZXJsYXlfc2NhbGU6aX19LHppPWZ1bmN0aW9uKHQpe3JldHVybiB7dV9tYXRyaXg6dH19LExpPWZ1bmN0aW9uKHQsZSxpLG8pe3JldHVybiB7dV9tYXRyaXg6dCx1X2V4dHJ1ZGVfc2NhbGU6dWUoZSwxLGkpLHVfaW50ZW5zaXR5Om99fSxNaT1mdW5jdGlvbihlLGksbyl7dmFyIHI9by5wYWludC5nZXQoImhpbGxzaGFkZS1zaGFkb3ctY29sb3IiKSxhPW8ucGFpbnQuZ2V0KCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yIiksbj1vLnBhaW50LmdldCgiaGlsbHNoYWRlLWFjY2VudC1jb2xvciIpLHM9by5wYWludC5nZXQoImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uIikqKE1hdGguUEkvMTgwKTsidmlld3BvcnQiPT09by5wYWludC5nZXQoImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yIikmJihzLT1lLnRyYW5zZm9ybS5hbmdsZSk7dmFyIGwsYyx1LGg9IWUub3B0aW9ucy5tb3Zpbmc7cmV0dXJuIHt1X21hdHJpeDplLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoaS50aWxlSUQudG9VbndyYXBwZWQoKSxoKSx1X2ltYWdlOjAsdV9sYXRyYW5nZToobD1pLnRpbGVJRCxjPU1hdGgucG93KDIsbC5jYW5vbmljYWwueiksdT1sLmNhbm9uaWNhbC55LFtuZXcgdC5NZXJjYXRvckNvb3JkaW5hdGUoMCx1L2MpLnRvTG5nTGF0KCkubGF0LG5ldyB0Lk1lcmNhdG9yQ29vcmRpbmF0ZSgwLCh1KzEpL2MpLnRvTG5nTGF0KCkubGF0XSksdV9saWdodDpbby5wYWludC5nZXQoImhpbGxzaGFkZS1leGFnZ2VyYXRpb24iKSxzXSx1X3NoYWRvdzpyLHVfaGlnaGxpZ2h0OmEsdV9hY2NlbnQ6bn19LERpPWZ1bmN0aW9uKGUsaSxvKXt2YXIgcj1pLnN0cmlkZSxhPXQuY3JlYXRlKCk7cmV0dXJuIHQub3J0aG8oYSwwLHQuRVhURU5ULC10LkVYVEVOVCwwLDAsMSksdC50cmFuc2xhdGUoYSxhLFswLC10LkVYVEVOVCwwXSkse3VfbWF0cml4OmEsdV9pbWFnZToxLHVfZGltZW5zaW9uOltyLHJdLHVfem9vbTplLm92ZXJzY2FsZWRaLHVfbWF4em9vbTpvLHVfdW5wYWNrOmkuZ2V0VW5wYWNrVmVjdG9yKCl9fSxBaT1mdW5jdGlvbihlLGksbyl7dmFyIHI9ZS50cmFuc2Zvcm07cmV0dXJuIHt1X21hdHJpeDpGaShlLGksbyksdV9yYXRpbzoxL3VlKGksMSxyLnpvb20pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHVfdW5pdHNfdG9fcGl4ZWxzOlsxL3IucGl4ZWxzVG9HTFVuaXRzWzBdLDEvci5waXhlbHNUb0dMVW5pdHNbMV1dfX0sUmk9ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0LmV4dGVuZChBaShlLGksbykse3VfaW1hZ2U6MH0pfSxraT1mdW5jdGlvbihlLGksbyxyKXt2YXIgYT1lLnRyYW5zZm9ybSxuPU9pKGksYSk7cmV0dXJuIHt1X21hdHJpeDpGaShlLGksbyksdV90ZXhzaXplOmkuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3JhdGlvOjEvdWUoaSwxLGEuem9vbSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86dC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdV9pbWFnZTowLHVfc2NhbGU6W24sci5mcm9tU2NhbGUsci50b1NjYWxlXSx1X2ZhZGU6ci50LHVfdW5pdHNfdG9fcGl4ZWxzOlsxL2EucGl4ZWxzVG9HTFVuaXRzWzBdLDEvYS5waXhlbHNUb0dMVW5pdHNbMV1dfX0sQmk9ZnVuY3Rpb24oZSxpLG8scixhKXt2YXIgbj1lLmxpbmVBdGxhcyxzPU9pKGksZS50cmFuc2Zvcm0pLGw9InJvdW5kIj09PW8ubGF5b3V0LmdldCgibGluZS1jYXAiKSxjPW4uZ2V0RGFzaChyLmZyb20sbCksdT1uLmdldERhc2goci50byxsKSxoPWMud2lkdGgqYS5mcm9tU2NhbGUscD11LndpZHRoKmEudG9TY2FsZTtyZXR1cm4gdC5leHRlbmQoQWkoZSxpLG8pLHt1X3BhdHRlcm5zY2FsZV9hOltzL2gsLWMuaGVpZ2h0LzJdLHVfcGF0dGVybnNjYWxlX2I6W3MvcCwtdS5oZWlnaHQvMl0sdV9zZGZnYW1tYTpuLndpZHRoLygyNTYqTWF0aC5taW4oaCxwKSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbykvMix1X2ltYWdlOjAsdV90ZXhfeV9hOmMueSx1X3RleF95X2I6dS55LHVfbWl4OmEudH0pfTtmdW5jdGlvbiBPaSh0LGUpe3JldHVybiAxL3VlKHQsMSxlLnRpbGVab29tKX1mdW5jdGlvbiBGaSh0LGUsaSl7cmV0dXJuIHQudHJhbnNsYXRlUG9zTWF0cml4KGUudGlsZUlELnBvc01hdHJpeCxlLGkucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZSIpLGkucGFpbnQuZ2V0KCJsaW5lLXRyYW5zbGF0ZS1hbmNob3IiKSl9dmFyIFVpPWZ1bmN0aW9uKHQsZSxpLG8scil7cmV0dXJuIHt1X21hdHJpeDp0LHVfdGxfcGFyZW50OmUsdV9zY2FsZV9wYXJlbnQ6aSx1X2J1ZmZlcl9zY2FsZToxLHVfZmFkZV90Om8ubWl4LHVfb3BhY2l0eTpvLm9wYWNpdHkqci5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5IiksdV9pbWFnZTA6MCx1X2ltYWdlMToxLHVfYnJpZ2h0bmVzc19sb3c6ci5wYWludC5nZXQoInJhc3Rlci1icmlnaHRuZXNzLW1pbiIpLHVfYnJpZ2h0bmVzc19oaWdoOnIucGFpbnQuZ2V0KCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXgiKSx1X3NhdHVyYXRpb25fZmFjdG9yOihuPXIucGFpbnQuZ2V0KCJyYXN0ZXItc2F0dXJhdGlvbiIpLG4+MD8xLTEvKDEuMDAxLW4pOi1uKSx1X2NvbnRyYXN0X2ZhY3RvcjooYT1yLnBhaW50LmdldCgicmFzdGVyLWNvbnRyYXN0IiksYT4wPzEvKDEtYSk6MSthKSx1X3NwaW5fd2VpZ2h0czpOaShyLnBhaW50LmdldCgicmFzdGVyLWh1ZS1yb3RhdGUiKSl9O3ZhciBhLG47fTtmdW5jdGlvbiBOaSh0KXt0Kj1NYXRoLlBJLzE4MDt2YXIgZT1NYXRoLnNpbih0KSxpPU1hdGguY29zKHQpO3JldHVybiBbKDIqaSsxKS8zLCgtTWF0aC5zcXJ0KDMpKmUtaSsxKS8zLChNYXRoLnNxcnQoMykqZS1pKzEpLzNdfXZhciBaaT1mdW5jdGlvbih0LGUsaSxvLHIsYSxuLHMsbCxjKXt2YXIgdT1yLnRyYW5zZm9ybTtyZXR1cm4ge3VfaXNfc2l6ZV96b29tX2NvbnN0YW50OisoImNvbnN0YW50Ij09PXR8fCJzb3VyY2UiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KygiY29uc3RhbnQiPT09dHx8ImNhbWVyYSI9PT10KSx1X3NpemVfdDplP2UudVNpemVUOjAsdV9zaXplOmU/ZS51U2l6ZTowLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTp1LmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9waXRjaDp1LnBpdGNoLzM2MCoyKk1hdGguUEksdV9yb3RhdGVfc3ltYm9sOitpLHVfYXNwZWN0X3JhdGlvOnUud2lkdGgvdS5oZWlnaHQsdV9mYWRlX2NoYW5nZTpyLm9wdGlvbnMuZmFkZUR1cmF0aW9uP3Iuc3ltYm9sRmFkZUNoYW5nZToxLHVfbWF0cml4OmEsdV9sYWJlbF9wbGFuZV9tYXRyaXg6bix1X2Nvb3JkX21hdHJpeDpzLHVfaXNfdGV4dDorbCx1X3BpdGNoX3dpdGhfbWFwOitvLHVfdGV4c2l6ZTpjLHVfdGV4dHVyZTowfX0scWk9ZnVuY3Rpb24oZSxpLG8scixhLG4scyxsLGMsdSxoKXt2YXIgcD1hLnRyYW5zZm9ybTtyZXR1cm4gdC5leHRlbmQoWmkoZSxpLG8scixhLG4scyxsLGMsdSkse3VfZ2FtbWFfc2NhbGU6cj9NYXRoLmNvcyhwLl9waXRjaCkqcC5jYW1lcmFUb0NlbnRlckRpc3RhbmNlOjEsdV9kZXZpY2VfcGl4ZWxfcmF0aW86dC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdV9pc19oYWxvOitofSl9LGppPWZ1bmN0aW9uKGUsaSxvLHIsYSxuLHMsbCxjLHUpe3JldHVybiB0LmV4dGVuZChxaShlLGksbyxyLGEsbixzLGwsITAsYywhMCkse3VfdGV4c2l6ZV9pY29uOnUsdV90ZXh0dXJlX2ljb246MX0pfSxWaT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHt1X21hdHJpeDp0LHVfb3BhY2l0eTplLHVfY29sb3I6aX19LEdpPWZ1bmN0aW9uKGUsaSxvLHIsYSxuKXtyZXR1cm4gdC5leHRlbmQoZnVuY3Rpb24odCxlLGksbyl7dmFyIHI9aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybih0LmZyb20udG9TdHJpbmcoKSksYT1pLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKHQudG8udG9TdHJpbmcoKSksbj1pLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKSxzPW4ud2lkdGgsbD1uLmhlaWdodCxjPU1hdGgucG93KDIsby50aWxlSUQub3ZlcnNjYWxlZFopLHU9by50aWxlU2l6ZSpNYXRoLnBvdygyLGkudHJhbnNmb3JtLnRpbGVab29tKS9jLGg9dSooby50aWxlSUQuY2Fub25pY2FsLngrby50aWxlSUQud3JhcCpjKSxwPXUqby50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV9wYXR0ZXJuX3RsX2E6ci50bCx1X3BhdHRlcm5fYnJfYTpyLmJyLHVfcGF0dGVybl90bF9iOmEudGwsdV9wYXR0ZXJuX2JyX2I6YS5icix1X3RleHNpemU6W3MsbF0sdV9taXg6ZS50LHVfcGF0dGVybl9zaXplX2E6ci5kaXNwbGF5U2l6ZSx1X3BhdHRlcm5fc2l6ZV9iOmEuZGlzcGxheVNpemUsdV9zY2FsZV9hOmUuZnJvbVNjYWxlLHVfc2NhbGVfYjplLnRvU2NhbGUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL3VlKG8sMSxpLnRyYW5zZm9ybS50aWxlWm9vbSksdV9waXhlbF9jb29yZF91cHBlcjpbaD4+MTYscD4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1JmgsNjU1MzUmcF19fShyLG4sbyxhKSx7dV9tYXRyaXg6ZSx1X29wYWNpdHk6aX0pfSxXaT17ZmlsbEV4dHJ1c2lvbjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9saWdodHBvczpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfbGlnaHRwb3MpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2xpZ2h0aW50ZW5zaXR5KSx1X2xpZ2h0Y29sb3I6bmV3IHQuVW5pZm9ybTNmKGUsaS51X2xpZ2h0Y29sb3IpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3ZlcnRpY2FsX2dyYWRpZW50KSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpfX0sZmlsbEV4dHJ1c2lvblBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGlnaHRwb3M6bmV3IHQuVW5pZm9ybTNmKGUsaS51X2xpZ2h0cG9zKSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9saWdodGludGVuc2l0eSksdV9saWdodGNvbG9yOm5ldyB0LlVuaWZvcm0zZihlLGkudV9saWdodGNvbG9yKSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyB0LlVuaWZvcm0xZihlLGkudV92ZXJ0aWNhbF9ncmFkaWVudCksdV9oZWlnaHRfZmFjdG9yOm5ldyB0LlVuaWZvcm0xZihlLGkudV9oZWlnaHRfZmFjdG9yKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF91cHBlciksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfbG93ZXIpLHVfc2NhbGU6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NjYWxlKSx1X2ZhZGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGUpLHVfb3BhY2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3BhY2l0eSl9fSxmaWxsOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KX19LGZpbGxQYXR0ZXJuOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF91cHBlciksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfbG93ZXIpLHVfc2NhbGU6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NjYWxlKSx1X2ZhZGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGUpfX0sZmlsbE91dGxpbmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfd29ybGQ6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3dvcmxkKX19LGZpbGxPdXRsaW5lUGF0dGVybjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV93b3JsZDpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfd29ybGQpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3RleHNpemU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemUpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX3VwcGVyKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyB0LlVuaWZvcm0yZihlLGkudV9waXhlbF9jb29yZF9sb3dlciksdV9zY2FsZTpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfc2NhbGUpLHVfZmFkZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZSl9fSxjaXJjbGU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9zY2FsZV93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfc2NhbGVfd2l0aF9tYXApLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3BpdGNoX3dpdGhfbWFwKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2V4dHJ1ZGVfc2NhbGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0sY29sbGlzaW9uQm94OkNpLGNvbGxpc2lvbkNpcmNsZTpDaSxkZWJ1ZzpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9jb2xvcjpuZXcgdC5Vbmlmb3JtQ29sb3IoZSxpLnVfY29sb3IpLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfb3ZlcmxheTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfb3ZlcmxheSksdV9vdmVybGF5X3NjYWxlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9vdmVybGF5X3NjYWxlKX19LGNsaXBwaW5nTWFzazpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCl9fSxoZWF0bWFwOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X2V4dHJ1ZGVfc2NhbGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2V4dHJ1ZGVfc2NhbGUpLHVfaW50ZW5zaXR5Om5ldyB0LlVuaWZvcm0xZihlLGkudV9pbnRlbnNpdHkpLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpfX0saGVhdG1hcFRleHR1cmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfd29ybGQ6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3dvcmxkKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV9jb2xvcl9yYW1wOm5ldyB0LlVuaWZvcm0xaShlLGkudV9jb2xvcl9yYW1wKSx1X29wYWNpdHk6bmV3IHQuVW5pZm9ybTFmKGUsaS51X29wYWNpdHkpfX0saGlsbHNoYWRlOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSksdV9sYXRyYW5nZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfbGF0cmFuZ2UpLHVfbGlnaHQ6bmV3IHQuVW5pZm9ybTJmKGUsaS51X2xpZ2h0KSx1X3NoYWRvdzpuZXcgdC5Vbmlmb3JtQ29sb3IoZSxpLnVfc2hhZG93KSx1X2hpZ2hsaWdodDpuZXcgdC5Vbmlmb3JtQ29sb3IoZSxpLnVfaGlnaGxpZ2h0KSx1X2FjY2VudDpuZXcgdC5Vbmlmb3JtQ29sb3IoZSxpLnVfYWNjZW50KX19LGhpbGxzaGFkZVByZXBhcmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X2RpbWVuc2lvbjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfZGltZW5zaW9uKSx1X3pvb206bmV3IHQuVW5pZm9ybTFmKGUsaS51X3pvb20pLHVfbWF4em9vbTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfbWF4em9vbSksdV91bnBhY2s6bmV3IHQuVW5pZm9ybTRmKGUsaS51X3VucGFjayl9fSxsaW5lOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X21hdHJpeDpuZXcgdC5Vbmlmb3JtTWF0cml4NGYoZSxpLnVfbWF0cml4KSx1X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9yYXRpbyksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2RldmljZV9waXhlbF9yYXRpbyksdV91bml0c190b19waXhlbHM6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3VuaXRzX3RvX3BpeGVscyl9fSxsaW5lR3JhZGllbnQ6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X3JhdGlvKSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZGV2aWNlX3BpeGVsX3JhdGlvKSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdW5pdHNfdG9fcGl4ZWxzKSx1X2ltYWdlOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pbWFnZSl9fSxsaW5lUGF0dGVybjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9yYXRpbyksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2RldmljZV9waXhlbF9yYXRpbyksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyB0LlVuaWZvcm0yZihlLGkudV91bml0c190b19waXhlbHMpLHVfc2NhbGU6bmV3IHQuVW5pZm9ybTNmKGUsaS51X3NjYWxlKSx1X2ZhZGU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X2ZhZGUpfX0sbGluZVNERjpmdW5jdGlvbihlLGkpe3JldHVybiB7dV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcmF0aW8pLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB0LlVuaWZvcm0xZihlLGkudV9kZXZpY2VfcGl4ZWxfcmF0aW8pLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyB0LlVuaWZvcm0yZihlLGkudV91bml0c190b19waXhlbHMpLHVfcGF0dGVybnNjYWxlX2E6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BhdHRlcm5zY2FsZV9hKSx1X3BhdHRlcm5zY2FsZV9iOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuc2NhbGVfYiksdV9zZGZnYW1tYTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2RmZ2FtbWEpLHVfaW1hZ2U6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlKSx1X3RleF95X2E6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3RleF95X2EpLHVfdGV4X3lfYjpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfdGV4X3lfYiksdV9taXg6bmV3IHQuVW5pZm9ybTFmKGUsaS51X21peCl9fSxyYXN0ZXI6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfdGxfcGFyZW50Om5ldyB0LlVuaWZvcm0yZihlLGkudV90bF9wYXJlbnQpLHVfc2NhbGVfcGFyZW50Om5ldyB0LlVuaWZvcm0xZihlLGkudV9zY2FsZV9wYXJlbnQpLHVfYnVmZmVyX3NjYWxlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9idWZmZXJfc2NhbGUpLHVfZmFkZV90Om5ldyB0LlVuaWZvcm0xZihlLGkudV9mYWRlX3QpLHVfb3BhY2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3BhY2l0eSksdV9pbWFnZTA6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlMCksdV9pbWFnZTE6bmV3IHQuVW5pZm9ybTFpKGUsaS51X2ltYWdlMSksdV9icmlnaHRuZXNzX2xvdzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYnJpZ2h0bmVzc19sb3cpLHVfYnJpZ2h0bmVzc19oaWdoOm5ldyB0LlVuaWZvcm0xZihlLGkudV9icmlnaHRuZXNzX2hpZ2gpLHVfc2F0dXJhdGlvbl9mYWN0b3I6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NhdHVyYXRpb25fZmFjdG9yKSx1X2NvbnRyYXN0X2ZhY3RvcjpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY29udHJhc3RfZmFjdG9yKSx1X3NwaW5fd2VpZ2h0czpuZXcgdC5Vbmlmb3JtM2YoZSxpLnVfc3Bpbl93ZWlnaHRzKX19LHN5bWJvbEljb246ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyB0LlVuaWZvcm0xaShlLGkudV9pc19zaXplX3pvb21fY29uc3RhbnQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyB0LlVuaWZvcm0xaShlLGkudV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpLHVfc2l6ZV90Om5ldyB0LlVuaWZvcm0xZihlLGkudV9zaXplX3QpLHVfc2l6ZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2l6ZSksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlKSx1X3BpdGNoOm5ldyB0LlVuaWZvcm0xZihlLGkudV9waXRjaCksdV9yb3RhdGVfc3ltYm9sOm5ldyB0LlVuaWZvcm0xaShlLGkudV9yb3RhdGVfc3ltYm9sKSx1X2FzcGVjdF9yYXRpbzpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfYXNwZWN0X3JhdGlvKSx1X2ZhZGVfY2hhbmdlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9mYWRlX2NoYW5nZSksdV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X21hdHJpeCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X2xhYmVsX3BsYW5lX21hdHJpeCksdV9jb29yZF9tYXRyaXg6bmV3IHQuVW5pZm9ybU1hdHJpeDRmKGUsaS51X2Nvb3JkX21hdHJpeCksdV9pc190ZXh0Om5ldyB0LlVuaWZvcm0xaShlLGkudV9pc190ZXh0KSx1X3BpdGNoX3dpdGhfbWFwOm5ldyB0LlVuaWZvcm0xaShlLGkudV9waXRjaF93aXRoX21hcCksdV90ZXhzaXplOm5ldyB0LlVuaWZvcm0yZihlLGkudV90ZXhzaXplKSx1X3RleHR1cmU6bmV3IHQuVW5pZm9ybTFpKGUsaS51X3RleHR1cmUpfX0sc3ltYm9sU0RGOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV96b29tX2NvbnN0YW50KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSx1X3NpemVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2l6ZV90KSx1X3NpemU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9waXRjaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcGl0Y2gpLHVfcm90YXRlX3N5bWJvbDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcm90YXRlX3N5bWJvbCksdV9hc3BlY3RfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2FzcGVjdF9yYXRpbyksdV9mYWRlX2NoYW5nZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV9jaGFuZ2UpLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9sYWJlbF9wbGFuZV9tYXRyaXgpLHVfY29vcmRfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9jb29yZF9tYXRyaXgpLHVfaXNfdGV4dDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfdGV4dCksdV9waXRjaF93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcGl0Y2hfd2l0aF9tYXApLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV90ZXh0dXJlOm5ldyB0LlVuaWZvcm0xaShlLGkudV90ZXh0dXJlKSx1X2dhbW1hX3NjYWxlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9nYW1tYV9zY2FsZSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2RldmljZV9waXhlbF9yYXRpbyksdV9pc19oYWxvOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pc19oYWxvKX19LHN5bWJvbFRleHRBbmRJY29uOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV96b29tX2NvbnN0YW50KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSx1X3NpemVfdDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2l6ZV90KSx1X3NpemU6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NpemUpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSksdV9waXRjaDpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfcGl0Y2gpLHVfcm90YXRlX3N5bWJvbDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcm90YXRlX3N5bWJvbCksdV9hc3BlY3RfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2FzcGVjdF9yYXRpbyksdV9mYWRlX2NoYW5nZTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfZmFkZV9jaGFuZ2UpLHVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9sYWJlbF9wbGFuZV9tYXRyaXgpLHVfY29vcmRfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9jb29yZF9tYXRyaXgpLHVfaXNfdGV4dDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaXNfdGV4dCksdV9waXRjaF93aXRoX21hcDpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfcGl0Y2hfd2l0aF9tYXApLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV90ZXhzaXplX2ljb246bmV3IHQuVW5pZm9ybTJmKGUsaS51X3RleHNpemVfaWNvbiksdV90ZXh0dXJlOm5ldyB0LlVuaWZvcm0xaShlLGkudV90ZXh0dXJlKSx1X3RleHR1cmVfaWNvbjpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfdGV4dHVyZV9pY29uKSx1X2dhbW1hX3NjYWxlOm5ldyB0LlVuaWZvcm0xZihlLGkudV9nYW1tYV9zY2FsZSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IHQuVW5pZm9ybTFmKGUsaS51X2RldmljZV9waXhlbF9yYXRpbyksdV9pc19oYWxvOm5ldyB0LlVuaWZvcm0xaShlLGkudV9pc19oYWxvKX19LGJhY2tncm91bmQ6ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfb3BhY2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3BhY2l0eSksdV9jb2xvcjpuZXcgdC5Vbmlmb3JtQ29sb3IoZSxpLnVfY29sb3IpfX0sYmFja2dyb3VuZFBhdHRlcm46ZnVuY3Rpb24oZSxpKXtyZXR1cm4ge3VfbWF0cml4Om5ldyB0LlVuaWZvcm1NYXRyaXg0ZihlLGkudV9tYXRyaXgpLHVfb3BhY2l0eTpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfb3BhY2l0eSksdV9pbWFnZTpuZXcgdC5Vbmlmb3JtMWkoZSxpLnVfaW1hZ2UpLHVfcGF0dGVybl90bF9hOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuX3RsX2EpLHVfcGF0dGVybl9icl9hOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuX2JyX2EpLHVfcGF0dGVybl90bF9iOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuX3RsX2IpLHVfcGF0dGVybl9icl9iOm5ldyB0LlVuaWZvcm0yZihlLGkudV9wYXR0ZXJuX2JyX2IpLHVfdGV4c2l6ZTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfdGV4c2l6ZSksdV9taXg6bmV3IHQuVW5pZm9ybTFmKGUsaS51X21peCksdV9wYXR0ZXJuX3NpemVfYTpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGF0dGVybl9zaXplX2EpLHVfcGF0dGVybl9zaXplX2I6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BhdHRlcm5fc2l6ZV9iKSx1X3NjYWxlX2E6bmV3IHQuVW5pZm9ybTFmKGUsaS51X3NjYWxlX2EpLHVfc2NhbGVfYjpuZXcgdC5Vbmlmb3JtMWYoZSxpLnVfc2NhbGVfYiksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgdC5Vbmlmb3JtMmYoZSxpLnVfcGl4ZWxfY29vcmRfdXBwZXIpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IHQuVW5pZm9ybTJmKGUsaS51X3BpeGVsX2Nvb3JkX2xvd2VyKSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyB0LlVuaWZvcm0xZihlLGkudV90aWxlX3VuaXRzX3RvX3BpeGVscyl9fX07ZnVuY3Rpb24gWGkodCxlLGksbyxyLGEsbixzKXtmb3IodmFyIGw9dC5jb250ZXh0LGM9bC5nbCx1PXQudXNlUHJvZ3JhbShyPyJjb2xsaXNpb25DaXJjbGUiOiJjb2xsaXNpb25Cb3giKSxoPTA7aDxvLmxlbmd0aDtoKyspe3ZhciBwPW9baF0sZD1lLmdldFRpbGUocCksXz1kLmdldEJ1Y2tldChpKTtpZihfKXt2YXIgZj1yP3M/Xy50ZXh0Q29sbGlzaW9uQ2lyY2xlOl8uaWNvbkNvbGxpc2lvbkNpcmNsZTpzP18udGV4dENvbGxpc2lvbkJveDpfLmljb25Db2xsaXNpb25Cb3g7aWYoZil7dmFyIG09cC5wb3NNYXRyaXg7MD09PWFbMF0mJjA9PT1hWzFdfHwobT10LnRyYW5zbGF0ZVBvc01hdHJpeChwLnBvc01hdHJpeCxkLGEsbikpLHUuZHJhdyhsLHI/Yy5UUklBTkdMRVM6Yy5MSU5FUyxDdC5kaXNhYmxlZCxTdC5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSx6dC5kaXNhYmxlZCxTaShtLHQudHJhbnNmb3JtLGQpLGkuaWQsZi5sYXlvdXRWZXJ0ZXhCdWZmZXIsZi5pbmRleEJ1ZmZlcixmLnNlZ21lbnRzLG51bGwsdC50cmFuc2Zvcm0uem9vbSxudWxsLG51bGwsZi5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpO319fX1mdW5jdGlvbiBIaSh0LGUsaSxvLHIsYSxuKXtYaSh0LGUsaSxvLCExLHIsYSxuKSxYaSh0LGUsaSxvLCEwLHIsYSxuKTt9dmFyIEtpPXQuaWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSgxNikpO2Z1bmN0aW9uIFlpKGUsaSxvLHIsYSxuKXt2YXIgcz10LmdldEFuY2hvckFsaWdubWVudChlKSxsPS0ocy5ob3Jpem9udGFsQWxpZ24tLjUpKmksYz0tKHMudmVydGljYWxBbGlnbi0uNSkqbyx1PXQuZXZhbHVhdGVWYXJpYWJsZU9mZnNldChlLHIpO3JldHVybiBuZXcgdC5Qb2ludCgobC9hK3VbMF0pKm4sKGMvYSt1WzFdKSpuKX1mdW5jdGlvbiBKaShlLGksbyxyLGEsbixzLGwsYyx1LGgpe3ZhciBwPWUudGV4dC5wbGFjZWRTeW1ib2xBcnJheSxkPWUudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksXz1lLmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5LGY9e307ZC5jbGVhcigpO2Zvcih2YXIgbT0wO208cC5sZW5ndGg7bSsrKXt2YXIgZz1wLmdldChtKSx2PWcuaGlkZGVufHwhZy5jcm9zc1RpbGVJRHx8ZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhZy5wbGFjZWRPcmllbnRhdGlvbj9udWxsOnJbZy5jcm9zc1RpbGVJRF07aWYodil7dmFyIHk9bmV3IHQuUG9pbnQoZy5hbmNob3JYLGcuYW5jaG9yWSkseD1KdCh5LG8/bDpzKSxiPS41K24uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS94LnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSouNSx3PWEuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShlLnRleHRTaXplRGF0YSx1LGcpKmIvdC5PTkVfRU07byYmKHcqPWUudGlsZVBpeGVsUmF0aW8vYyk7Zm9yKHZhciBFPVlpKHYuYW5jaG9yLHYud2lkdGgsdi5oZWlnaHQsdi50ZXh0T2Zmc2V0LHYudGV4dEJveFNjYWxlLHcpLFQ9bz9KdCh5LmFkZChFKSxzKS5wb2ludDp4LnBvaW50LmFkZChpP0Uucm90YXRlKC1uLmFuZ2xlKTpFKSxJPWUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmZy5wbGFjZWRPcmllbnRhdGlvbj09PXQuV3JpdGluZ01vZGUudmVydGljYWw/TWF0aC5QSS8yOjAsQz0wO0M8Zy5udW1HbHlwaHM7QysrKXQuYWRkRHluYW1pY0F0dHJpYnV0ZXMoZCxULEkpO2gmJmcuYXNzb2NpYXRlZEljb25JbmRleD49MCYmKGZbZy5hc3NvY2lhdGVkSWNvbkluZGV4XT17c2hpZnRlZEFuY2hvcjpULGFuZ2xlOkl9KTt9ZWxzZSBuZShnLm51bUdseXBocyxkKTt9aWYoaCl7Xy5jbGVhcigpO2Zvcih2YXIgUz1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXksUD0wO1A8Uy5sZW5ndGg7UCsrKXt2YXIgej1TLmdldChQKTtpZih6LmhpZGRlbiluZSh6Lm51bUdseXBocyxfKTtlbHNle3ZhciBMPWZbUF07aWYoTClmb3IodmFyIE09MDtNPHoubnVtR2x5cGhzO00rKyl0LmFkZER5bmFtaWNBdHRyaWJ1dGVzKF8sTC5zaGlmdGVkQW5jaG9yLEwuYW5nbGUpO2Vsc2UgbmUoei5udW1HbHlwaHMsXyk7fX1lLmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKF8pO31lLnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGQpO31mdW5jdGlvbiBRaSh0LGUsaSl7cmV0dXJuIGkuaWNvbnNJblRleHQmJmU/InN5bWJvbFRleHRBbmRJY29uIjp0PyJzeW1ib2xTREYiOiJzeW1ib2xJY29uIn1mdW5jdGlvbiAkaShlLGksbyxyLGEsbixzLGwsYyx1LGgscCl7Zm9yKHZhciBkPWUuY29udGV4dCxfPWQuZ2wsZj1lLnRyYW5zZm9ybSxtPSJtYXAiPT09bCxnPSJtYXAiPT09Yyx2PW0mJiJwb2ludCIhPT1vLmxheW91dC5nZXQoInN5bWJvbC1wbGFjZW1lbnQiKSx5PW0mJiFnJiYhdix4PXZvaWQgMCE9PW8ubGF5b3V0LmdldCgic3ltYm9sLXNvcnQta2V5IikuY29uc3RhbnRPcigxKSxiPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxDdC5SZWFkT25seSksdz1vLmxheW91dC5nZXQoInRleHQtdmFyaWFibGUtYW5jaG9yIiksRT1bXSxUPTAsST1yO1Q8SS5sZW5ndGg7VCs9MSl7dmFyIEM9SVtUXSxTPWkuZ2V0VGlsZShDKSxQPVMuZ2V0QnVja2V0KG8pO2lmKFApe3ZhciB6PWE/UC50ZXh0OlAuaWNvbjtpZih6JiZ6LnNlZ21lbnRzLmdldCgpLmxlbmd0aCl7dmFyIEw9ei5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLE09YXx8UC5zZGZJY29ucyxEPWE/UC50ZXh0U2l6ZURhdGE6UC5pY29uU2l6ZURhdGEsQT1nfHwwIT09Zi5waXRjaCxSPWUudXNlUHJvZ3JhbShRaShNLGEsUCksTCksaz10LmV2YWx1YXRlU2l6ZUZvclpvb20oRCxmLnpvb20pLEI9dm9pZCAwLE89WzAsMF0sRj12b2lkIDAsVT12b2lkIDAsTj1udWxsLFo9dm9pZCAwO2lmKGEpRj1TLmdseXBoQXRsYXNUZXh0dXJlLFU9Xy5MSU5FQVIsQj1TLmdseXBoQXRsYXNUZXh0dXJlLnNpemUsUC5pY29uc0luVGV4dCYmKE89Uy5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLE49Uy5pbWFnZUF0bGFzVGV4dHVyZSxaPUF8fGUub3B0aW9ucy5yb3RhdGluZ3x8ZS5vcHRpb25zLnpvb21pbmd8fCJjb21wb3NpdGUiPT09RC5raW5kfHwiY2FtZXJhIj09PUQua2luZD9fLkxJTkVBUjpfLk5FQVJFU1QpO2Vsc2V7dmFyIHE9MSE9PW8ubGF5b3V0LmdldCgiaWNvbi1zaXplIikuY29uc3RhbnRPcigwKXx8UC5pY29uc05lZWRMaW5lYXI7Rj1TLmltYWdlQXRsYXNUZXh0dXJlLFU9TXx8ZS5vcHRpb25zLnJvdGF0aW5nfHxlLm9wdGlvbnMuem9vbWluZ3x8cXx8QT9fLkxJTkVBUjpfLk5FQVJFU1QsQj1TLmltYWdlQXRsYXNUZXh0dXJlLnNpemU7fXZhciBqPXVlKFMsMSxlLnRyYW5zZm9ybS56b29tKSxWPUt0KEMucG9zTWF0cml4LGcsbSxlLnRyYW5zZm9ybSxqKSxHPVl0KEMucG9zTWF0cml4LGcsbSxlLnRyYW5zZm9ybSxqKSxXPXcmJlAuaGFzVGV4dERhdGEoKSxYPSJub25lIiE9PW8ubGF5b3V0LmdldCgiaWNvbi10ZXh0LWZpdCIpJiZXJiZQLmhhc0ljb25EYXRhKCk7diYmJHQoUCxDLnBvc01hdHJpeCxlLGEsVixHLGcsdSk7dmFyIEg9ZS50cmFuc2xhdGVQb3NNYXRyaXgoQy5wb3NNYXRyaXgsUyxuLHMpLEs9dnx8YSYmd3x8WD9LaTpWLFk9ZS50cmFuc2xhdGVQb3NNYXRyaXgoRyxTLG4scywhMCksSj1NJiYwIT09by5wYWludC5nZXQoYT8idGV4dC1oYWxvLXdpZHRoIjoiaWNvbi1oYWxvLXdpZHRoIikuY29uc3RhbnRPcigxKSxRPXtwcm9ncmFtOlIsYnVmZmVyczp6LHVuaWZvcm1WYWx1ZXM6TT9QLmljb25zSW5UZXh0P2ppKEQua2luZCxrLHksZyxlLEgsSyxZLEIsTyk6cWkoRC5raW5kLGsseSxnLGUsSCxLLFksYSxCLCEwKTpaaShELmtpbmQsayx5LGcsZSxILEssWSxhLEIpLGF0bGFzVGV4dHVyZTpGLGF0bGFzVGV4dHVyZUljb246TixhdGxhc0ludGVycG9sYXRpb246VSxhdGxhc0ludGVycG9sYXRpb25JY29uOlosaXNTREY6TSxoYXNIYWxvOkp9O2lmKHgpZm9yKHZhciAkPTAsdHQ9ei5zZWdtZW50cy5nZXQoKTskPHR0Lmxlbmd0aDskKz0xKXt2YXIgZXQ9dHRbJF07RS5wdXNoKHtzZWdtZW50czpuZXcgdC5TZWdtZW50VmVjdG9yKFtldF0pLHNvcnRLZXk6ZXQuc29ydEtleSxzdGF0ZTpRfSk7fWVsc2UgRS5wdXNoKHtzZWdtZW50czp6LnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTpRfSk7fX19eCYmRS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNvcnRLZXktZS5zb3J0S2V5fSkpO2Zvcih2YXIgaXQ9MCxvdD1FO2l0PG90Lmxlbmd0aDtpdCs9MSl7dmFyIHJ0PW90W2l0XSxhdD1ydC5zdGF0ZTtpZihkLmFjdGl2ZVRleHR1cmUuc2V0KF8uVEVYVFVSRTApLGF0LmF0bGFzVGV4dHVyZS5iaW5kKGF0LmF0bGFzSW50ZXJwb2xhdGlvbixfLkNMQU1QX1RPX0VER0UpLGF0LmF0bGFzVGV4dHVyZUljb24mJihkLmFjdGl2ZVRleHR1cmUuc2V0KF8uVEVYVFVSRTEpLGF0LmF0bGFzVGV4dHVyZUljb24mJmF0LmF0bGFzVGV4dHVyZUljb24uYmluZChhdC5hdGxhc0ludGVycG9sYXRpb25JY29uLF8uQ0xBTVBfVE9fRURHRSkpLGF0LmlzU0RGKXt2YXIgbnQ9YXQudW5pZm9ybVZhbHVlczthdC5oYXNIYWxvJiYobnQudV9pc19oYWxvPTEsdG8oYXQuYnVmZmVycyxydC5zZWdtZW50cyxvLGUsYXQucHJvZ3JhbSxiLGgscCxudCkpLG50LnVfaXNfaGFsbz0wO310byhhdC5idWZmZXJzLHJ0LnNlZ21lbnRzLG8sZSxhdC5wcm9ncmFtLGIsaCxwLGF0LnVuaWZvcm1WYWx1ZXMpO319ZnVuY3Rpb24gdG8odCxlLGksbyxyLGEsbixzLGwpe3ZhciBjPW8uY29udGV4dDtyLmRyYXcoYyxjLmdsLlRSSUFOR0xFUyxhLG4scyx6dC5kaXNhYmxlZCxsLGkuaWQsdC5sYXlvdXRWZXJ0ZXhCdWZmZXIsdC5pbmRleEJ1ZmZlcixlLGkucGFpbnQsby50cmFuc2Zvcm0uem9vbSx0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksdC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLHQub3BhY2l0eVZlcnRleEJ1ZmZlcik7fWZ1bmN0aW9uIGVvKHQsZSxpLG8scixhLG4pe3ZhciBzLGwsYyx1LGgscD10LmNvbnRleHQuZ2wsZD1pLnBhaW50LmdldCgiZmlsbC1wYXR0ZXJuIiksXz1kJiZkLmNvbnN0YW50T3IoMSksZj1pLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKTtuPyhsPV8mJiFpLmdldFBhaW50UHJvcGVydHkoImZpbGwtb3V0bGluZS1jb2xvciIpPyJmaWxsT3V0bGluZVBhdHRlcm4iOiJmaWxsT3V0bGluZSIscz1wLkxJTkVTKToobD1fPyJmaWxsUGF0dGVybiI6ImZpbGwiLHM9cC5UUklBTkdMRVMpO2Zvcih2YXIgbT0wLGc9bzttPGcubGVuZ3RoO20rPTEpe3ZhciB2PWdbbV0seT1lLmdldFRpbGUodik7aWYoIV98fHkucGF0dGVybnNMb2FkZWQoKSl7dmFyIHg9eS5nZXRCdWNrZXQoaSk7aWYoeCl7dmFyIGI9eC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLHc9dC51c2VQcm9ncmFtKGwsYik7XyYmKHQuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChwLlRFWFRVUkUwKSx5LmltYWdlQXRsYXNUZXh0dXJlLmJpbmQocC5MSU5FQVIscC5DTEFNUF9UT19FREdFKSxiLnVwZGF0ZVBhaW50QnVmZmVycyhmKSk7dmFyIEU9ZC5jb25zdGFudE9yKG51bGwpO2lmKEUmJnkuaW1hZ2VBdGxhcyl7dmFyIFQ9eS5pbWFnZUF0bGFzLEk9VC5wYXR0ZXJuUG9zaXRpb25zW0UudG8udG9TdHJpbmcoKV0sQz1ULnBhdHRlcm5Qb3NpdGlvbnNbRS5mcm9tLnRvU3RyaW5nKCldO0kmJkMmJmIuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKEksQyk7fXZhciBTPXQudHJhbnNsYXRlUG9zTWF0cml4KHYucG9zTWF0cml4LHksaS5wYWludC5nZXQoImZpbGwtdHJhbnNsYXRlIiksaS5wYWludC5nZXQoImZpbGwtdHJhbnNsYXRlLWFuY2hvciIpKTtpZihuKXt1PXguaW5kZXhCdWZmZXIyLGg9eC5zZWdtZW50czI7dmFyIFA9W3AuZHJhd2luZ0J1ZmZlcldpZHRoLHAuZHJhd2luZ0J1ZmZlckhlaWdodF07Yz0iZmlsbE91dGxpbmVQYXR0ZXJuIj09PWwmJl8/VGkoUyx0LGYseSxQKTpFaShTLFApO31lbHNlIHU9eC5pbmRleEJ1ZmZlcixoPXguc2VnbWVudHMsYz1fP3dpKFMsdCxmLHkpOmJpKFMpO3cuZHJhdyh0LmNvbnRleHQscyxyLHQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyh2KSxhLHp0LmRpc2FibGVkLGMsaS5pZCx4LmxheW91dFZlcnRleEJ1ZmZlcix1LGgsaS5wYWludCx0LnRyYW5zZm9ybS56b29tLGIpO319fX1mdW5jdGlvbiBpbyh0LGUsaSxvLHIsYSxuKXtmb3IodmFyIHM9dC5jb250ZXh0LGw9cy5nbCxjPWkucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuIiksdT1jLmNvbnN0YW50T3IoMSksaD1pLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKSxwPWkucGFpbnQuZ2V0KCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5IiksZD0wLF89bztkPF8ubGVuZ3RoO2QrPTEpe3ZhciBmPV9bZF0sbT1lLmdldFRpbGUoZiksZz1tLmdldEJ1Y2tldChpKTtpZihnKXt2YXIgdj1nLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCkseT10LnVzZVByb2dyYW0odT8iZmlsbEV4dHJ1c2lvblBhdHRlcm4iOiJmaWxsRXh0cnVzaW9uIix2KTt1JiYodC5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLG0uaW1hZ2VBdGxhc1RleHR1cmUuYmluZChsLkxJTkVBUixsLkNMQU1QX1RPX0VER0UpLHYudXBkYXRlUGFpbnRCdWZmZXJzKGgpKTt2YXIgeD1jLmNvbnN0YW50T3IobnVsbCk7aWYoeCYmbS5pbWFnZUF0bGFzKXt2YXIgYj1tLmltYWdlQXRsYXMsdz1iLnBhdHRlcm5Qb3NpdGlvbnNbeC50by50b1N0cmluZygpXSxFPWIucGF0dGVyblBvc2l0aW9uc1t4LmZyb20udG9TdHJpbmcoKV07dyYmRSYmdi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnModyxFKTt9dmFyIFQ9dC50cmFuc2xhdGVQb3NNYXRyaXgoZi5wb3NNYXRyaXgsbSxpLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlIiksaS5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3IiKSksST1pLnBhaW50LmdldCgiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnQiKSxDPXU/eGkoVCx0LEkscCxmLGgsbSk6eWkoVCx0LEkscCk7eS5kcmF3KHMscy5nbC5UUklBTkdMRVMscixhLG4senQuYmFja0NDVyxDLGkuaWQsZy5sYXlvdXRWZXJ0ZXhCdWZmZXIsZy5pbmRleEJ1ZmZlcixnLnNlZ21lbnRzLGkucGFpbnQsdC50cmFuc2Zvcm0uem9vbSx2KTt9fX1mdW5jdGlvbiBvbyh0LGUsaSxvLHIsYSl7dmFyIG49dC5jb250ZXh0LHM9bi5nbCxsPWUuZmJvO2lmKGwpe3ZhciBjPXQudXNlUHJvZ3JhbSgiaGlsbHNoYWRlIik7bi5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV8yRCxsLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7dmFyIHU9TWkodCxlLGkpO2MuZHJhdyhuLHMuVFJJQU5HTEVTLG8scixhLHp0LmRpc2FibGVkLHUsaS5pZCx0LnJhc3RlckJvdW5kc0J1ZmZlcix0LnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHQucmFzdGVyQm91bmRzU2VnbWVudHMpO319ZnVuY3Rpb24gcm8oZSxpLG8scixhLG4scyl7dmFyIGw9ZS5jb250ZXh0LGM9bC5nbCx1PWkuZGVtO2lmKHUmJnUuZGF0YSl7dmFyIGg9dS5kaW0scD11LnN0cmlkZSxkPXUuZ2V0UGl4ZWxzKCk7aWYobC5hY3RpdmVUZXh0dXJlLnNldChjLlRFWFRVUkUxKSxsLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCghMSksaS5kZW1UZXh0dXJlPWkuZGVtVGV4dHVyZXx8ZS5nZXRUaWxlVGV4dHVyZShwKSxpLmRlbVRleHR1cmUpe3ZhciBfPWkuZGVtVGV4dHVyZTtfLnVwZGF0ZShkLHtwcmVtdWx0aXBseTohMX0pLF8uYmluZChjLk5FQVJFU1QsYy5DTEFNUF9UT19FREdFKTt9ZWxzZSBpLmRlbVRleHR1cmU9bmV3IHQuVGV4dHVyZShsLGQsYy5SR0JBLHtwcmVtdWx0aXBseTohMX0pLGkuZGVtVGV4dHVyZS5iaW5kKGMuTkVBUkVTVCxjLkNMQU1QX1RPX0VER0UpO2wuYWN0aXZlVGV4dHVyZS5zZXQoYy5URVhUVVJFMCk7dmFyIGY9aS5mYm87aWYoIWYpe3ZhciBtPW5ldyB0LlRleHR1cmUobCx7d2lkdGg6aCxoZWlnaHQ6aCxkYXRhOm51bGx9LGMuUkdCQSk7bS5iaW5kKGMuTElORUFSLGMuQ0xBTVBfVE9fRURHRSksKGY9aS5mYm89bC5jcmVhdGVGcmFtZWJ1ZmZlcihoLGgsITApKS5jb2xvckF0dGFjaG1lbnQuc2V0KG0udGV4dHVyZSk7fWwuYmluZEZyYW1lYnVmZmVyLnNldChmLmZyYW1lYnVmZmVyKSxsLnZpZXdwb3J0LnNldChbMCwwLGgsaF0pLGUudXNlUHJvZ3JhbSgiaGlsbHNoYWRlUHJlcGFyZSIpLmRyYXcobCxjLlRSSUFOR0xFUyxhLG4scyx6dC5kaXNhYmxlZCxEaShpLnRpbGVJRCx1LHIpLG8uaWQsZS5yYXN0ZXJCb3VuZHNCdWZmZXIsZS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixlLnJhc3RlckJvdW5kc1NlZ21lbnRzKSxpLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMTt9fWZ1bmN0aW9uIGFvKGUsaSxvLHIsYSl7dmFyIG49ci5wYWludC5nZXQoInJhc3Rlci1mYWRlLWR1cmF0aW9uIik7aWYobj4wKXt2YXIgcz10LmJyb3dzZXIubm93KCksbD0ocy1lLnRpbWVBZGRlZCkvbixjPWk/KHMtaS50aW1lQWRkZWQpL246LTEsdT1vLmdldFNvdXJjZSgpLGg9YS5jb3ZlcmluZ1pvb21MZXZlbCh7dGlsZVNpemU6dS50aWxlU2l6ZSxyb3VuZFpvb206dS5yb3VuZFpvb219KSxwPSFpfHxNYXRoLmFicyhpLnRpbGVJRC5vdmVyc2NhbGVkWi1oKT5NYXRoLmFicyhlLnRpbGVJRC5vdmVyc2NhbGVkWi1oKSxkPXAmJmUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24/MTp0LmNsYW1wKHA/bDoxLWMsMCwxKTtyZXR1cm4gZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiYmbD49MSYmKGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITEpLGk/e29wYWNpdHk6MSxtaXg6MS1kfTp7b3BhY2l0eTpkLG1peDowfX1yZXR1cm4ge29wYWNpdHk6MSxtaXg6MH19dmFyIG5vPW5ldyB0LkNvbG9yKDEsMCwwLDEpLHNvPW5ldyB0LkNvbG9yKDAsMSwwLDEpLGxvPW5ldyB0LkNvbG9yKDAsMCwxLDEpLGNvPW5ldyB0LkNvbG9yKDEsMCwxLDEpLHVvPW5ldyB0LkNvbG9yKDAsMSwxLDEpO2Z1bmN0aW9uIGhvKHQsZSxpLG8pe19vKHQsMCxlK2kvMix0LnRyYW5zZm9ybS53aWR0aCxpLG8pO31mdW5jdGlvbiBwbyh0LGUsaSxvKXtfbyh0LGUtaS8yLDAsaSx0LnRyYW5zZm9ybS5oZWlnaHQsbyk7fWZ1bmN0aW9uIF9vKGUsaSxvLHIsYSxuKXt2YXIgcz1lLmNvbnRleHQsbD1zLmdsO2wuZW5hYmxlKGwuU0NJU1NPUl9URVNUKSxsLnNjaXNzb3IoaSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxvKnQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLHIqdC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sYSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbykscy5jbGVhcih7Y29sb3I6bn0pLGwuZGlzYWJsZShsLlNDSVNTT1JfVEVTVCk7fWZ1bmN0aW9uIGZvKGUsaSxvKXt2YXIgcj1lLmNvbnRleHQsYT1yLmdsLG49by5wb3NNYXRyaXgscz1lLnVzZVByb2dyYW0oImRlYnVnIiksbD1DdC5kaXNhYmxlZCxjPVN0LmRpc2FibGVkLHU9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7ci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSxlLmVtcHR5VGV4dHVyZS5iaW5kKGEuTElORUFSLGEuQ0xBTVBfVE9fRURHRSkscy5kcmF3KHIsYS5MSU5FX1NUUklQLGwsYyx1LHp0LmRpc2FibGVkLFBpKG4sdC5Db2xvci5yZWQpLCIkZGVidWciLGUuZGVidWdCdWZmZXIsZS50aWxlQm9yZGVySW5kZXhCdWZmZXIsZS5kZWJ1Z1NlZ21lbnRzKTt2YXIgaD1pLmdldFRpbGVCeUlEKG8ua2V5KS5sYXRlc3RSYXdUaWxlRGF0YSxwPU1hdGguZmxvb3IoKGgmJmguYnl0ZUxlbmd0aHx8MCkvMTAyNCksZD1pLmdldFRpbGUobykudGlsZVNpemUsXz01MTIvTWF0aC5taW4oZCw1MTIpKihvLm92ZXJzY2FsZWRaL2UudHJhbnNmb3JtLnpvb20pKi41LGY9by5jYW5vbmljYWwudG9TdHJpbmcoKTtvLm92ZXJzY2FsZWRaIT09by5jYW5vbmljYWwueiYmKGYrPSIgPT4gIitvLm92ZXJzY2FsZWRaKSxmdW5jdGlvbih0LGUpe3QuaW5pdERlYnVnT3ZlcmxheUNhbnZhcygpO3ZhciBpPXQuZGVidWdPdmVybGF5Q2FudmFzLG89dC5jb250ZXh0LmdsLHI9dC5kZWJ1Z092ZXJsYXlDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTtyLmNsZWFyUmVjdCgwLDAsaS53aWR0aCxpLmhlaWdodCksci5zaGFkb3dDb2xvcj0id2hpdGUiLHIuc2hhZG93Qmx1cj0yLHIubGluZVdpZHRoPTEuNSxyLnN0cm9rZVN0eWxlPSJ3aGl0ZSIsci50ZXh0QmFzZWxpbmU9InRvcCIsci5mb250PSJib2xkIDM2cHggT3BlbiBTYW5zLCBzYW5zLXNlcmlmIixyLmZpbGxUZXh0KGUsNSw1KSxyLnN0cm9rZVRleHQoZSw1LDUpLHQuZGVidWdPdmVybGF5VGV4dHVyZS51cGRhdGUoaSksdC5kZWJ1Z092ZXJsYXlUZXh0dXJlLmJpbmQoby5MSU5FQVIsby5DTEFNUF9UT19FREdFKTt9KGUsZisiICIrcCsia2IiKSxzLmRyYXcocixhLlRSSUFOR0xFUyxsLGMsUHQuYWxwaGFCbGVuZGVkLHp0LmRpc2FibGVkLFBpKG4sdC5Db2xvci50cmFuc3BhcmVudCxfKSwiJGRlYnVnIixlLmRlYnVnQnVmZmVyLGUucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsZS5kZWJ1Z1NlZ21lbnRzKTt9dmFyIG1vPXtzeW1ib2w6ZnVuY3Rpb24oZSxpLG8scixhKXtpZigidHJhbnNsdWNlbnQiPT09ZS5yZW5kZXJQYXNzKXt2YXIgbj1TdC5kaXNhYmxlZCxzPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO28ubGF5b3V0LmdldCgidGV4dC12YXJpYWJsZS1hbmNob3IiKSYmZnVuY3Rpb24oZSxpLG8scixhLG4scyl7Zm9yKHZhciBsPWkudHJhbnNmb3JtLGM9Im1hcCI9PT1hLHU9Im1hcCI9PT1uLGg9MCxwPWU7aDxwLmxlbmd0aDtoKz0xKXt2YXIgZD1wW2hdLF89ci5nZXRUaWxlKGQpLGY9Xy5nZXRCdWNrZXQobyk7aWYoZiYmZi50ZXh0JiZmLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKXt2YXIgbT10LmV2YWx1YXRlU2l6ZUZvclpvb20oZi50ZXh0U2l6ZURhdGEsbC56b29tKSxnPXVlKF8sMSxpLnRyYW5zZm9ybS56b29tKSx2PUt0KGQucG9zTWF0cml4LHUsYyxpLnRyYW5zZm9ybSxnKSx5PSJub25lIiE9PW8ubGF5b3V0LmdldCgiaWNvbi10ZXh0LWZpdCIpJiZmLmhhc0ljb25EYXRhKCk7aWYobSl7dmFyIHg9TWF0aC5wb3coMixsLnpvb20tXy50aWxlSUQub3ZlcnNjYWxlZFopO0ppKGYsYyx1LHMsdC5zeW1ib2xTaXplLGwsdixkLnBvc01hdHJpeCx4LG0seSk7fX19fShyLGUsbyxpLG8ubGF5b3V0LmdldCgidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQiKSxvLmxheW91dC5nZXQoInRleHQtcGl0Y2gtYWxpZ25tZW50IiksYSksMCE9PW8ucGFpbnQuZ2V0KCJpY29uLW9wYWNpdHkiKS5jb25zdGFudE9yKDEpJiYkaShlLGksbyxyLCExLG8ucGFpbnQuZ2V0KCJpY29uLXRyYW5zbGF0ZSIpLG8ucGFpbnQuZ2V0KCJpY29uLXRyYW5zbGF0ZS1hbmNob3IiKSxvLmxheW91dC5nZXQoImljb24tcm90YXRpb24tYWxpZ25tZW50Iiksby5sYXlvdXQuZ2V0KCJpY29uLXBpdGNoLWFsaWdubWVudCIpLG8ubGF5b3V0LmdldCgiaWNvbi1rZWVwLXVwcmlnaHQiKSxuLHMpLDAhPT1vLnBhaW50LmdldCgidGV4dC1vcGFjaXR5IikuY29uc3RhbnRPcigxKSYmJGkoZSxpLG8sciwhMCxvLnBhaW50LmdldCgidGV4dC10cmFuc2xhdGUiKSxvLnBhaW50LmdldCgidGV4dC10cmFuc2xhdGUtYW5jaG9yIiksby5sYXlvdXQuZ2V0KCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCIpLG8ubGF5b3V0LmdldCgidGV4dC1waXRjaC1hbGlnbm1lbnQiKSxvLmxheW91dC5nZXQoInRleHQta2VlcC11cHJpZ2h0IiksbixzKSxpLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMmJihIaShlLGksbyxyLG8ucGFpbnQuZ2V0KCJ0ZXh0LXRyYW5zbGF0ZSIpLG8ucGFpbnQuZ2V0KCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3IiKSwhMCksSGkoZSxpLG8scixvLnBhaW50LmdldCgiaWNvbi10cmFuc2xhdGUiKSxvLnBhaW50LmdldCgiaWNvbi10cmFuc2xhdGUtYW5jaG9yIiksITEpKTt9fSxjaXJjbGU6ZnVuY3Rpb24oZSxpLG8scil7aWYoInRyYW5zbHVjZW50Ij09PWUucmVuZGVyUGFzcyl7dmFyIGE9by5wYWludC5nZXQoImNpcmNsZS1vcGFjaXR5Iiksbj1vLnBhaW50LmdldCgiY2lyY2xlLXN0cm9rZS13aWR0aCIpLHM9by5wYWludC5nZXQoImNpcmNsZS1zdHJva2Utb3BhY2l0eSIpLGw9dm9pZCAwIT09by5sYXlvdXQuZ2V0KCJjaXJjbGUtc29ydC1rZXkiKS5jb25zdGFudE9yKDEpO2lmKDAhPT1hLmNvbnN0YW50T3IoMSl8fDAhPT1uLmNvbnN0YW50T3IoMSkmJjAhPT1zLmNvbnN0YW50T3IoMSkpe2Zvcih2YXIgYz1lLmNvbnRleHQsdT1jLmdsLGg9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEN0LlJlYWRPbmx5KSxwPVN0LmRpc2FibGVkLGQ9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXz1bXSxmPTA7ZjxyLmxlbmd0aDtmKyspe3ZhciBtPXJbZl0sZz1pLmdldFRpbGUobSksdj1nLmdldEJ1Y2tldChvKTtpZih2KXt2YXIgeT12LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCkseD17cHJvZ3JhbUNvbmZpZ3VyYXRpb246eSxwcm9ncmFtOmUudXNlUHJvZ3JhbSgiY2lyY2xlIix5KSxsYXlvdXRWZXJ0ZXhCdWZmZXI6di5sYXlvdXRWZXJ0ZXhCdWZmZXIsaW5kZXhCdWZmZXI6di5pbmRleEJ1ZmZlcix1bmlmb3JtVmFsdWVzOklpKGUsbSxnLG8pfTtpZihsKWZvcih2YXIgYj0wLHc9di5zZWdtZW50cy5nZXQoKTtiPHcubGVuZ3RoO2IrPTEpe3ZhciBFPXdbYl07Xy5wdXNoKHtzZWdtZW50czpuZXcgdC5TZWdtZW50VmVjdG9yKFtFXSksc29ydEtleTpFLnNvcnRLZXksc3RhdGU6eH0pO31lbHNlIF8ucHVzaCh7c2VnbWVudHM6di5zZWdtZW50cyxzb3J0S2V5OjAsc3RhdGU6eH0pO319bCYmXy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNvcnRLZXktZS5zb3J0S2V5fSkpO2Zvcih2YXIgVD0wLEk9XztUPEkubGVuZ3RoO1QrPTEpe3ZhciBDPUlbVF0sUz1DLnN0YXRlO1MucHJvZ3JhbS5kcmF3KGMsdS5UUklBTkdMRVMsaCxwLGQsenQuZGlzYWJsZWQsUy51bmlmb3JtVmFsdWVzLG8uaWQsUy5sYXlvdXRWZXJ0ZXhCdWZmZXIsUy5pbmRleEJ1ZmZlcixDLnNlZ21lbnRzLG8ucGFpbnQsZS50cmFuc2Zvcm0uem9vbSxTLnByb2dyYW1Db25maWd1cmF0aW9uKTt9fX19LGhlYXRtYXA6ZnVuY3Rpb24oZSxpLG8scil7aWYoMCE9PW8ucGFpbnQuZ2V0KCJoZWF0bWFwLW9wYWNpdHkiKSlpZigib2Zmc2NyZWVuIj09PWUucmVuZGVyUGFzcyl7dmFyIGE9ZS5jb250ZXh0LG49YS5nbCxzPVN0LmRpc2FibGVkLGw9bmV3IFB0KFtuLk9ORSxuLk9ORV0sdC5Db2xvci50cmFuc3BhcmVudCxbITAsITAsITAsITBdKTshZnVuY3Rpb24odCxlLGkpe3ZhciBvPXQuZ2w7dC5hY3RpdmVUZXh0dXJlLnNldChvLlRFWFRVUkUxKSx0LnZpZXdwb3J0LnNldChbMCwwLGUud2lkdGgvNCxlLmhlaWdodC80XSk7dmFyIHI9aS5oZWF0bWFwRmJvO2lmKHIpby5iaW5kVGV4dHVyZShvLlRFWFRVUkVfMkQsci5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLHQuYmluZEZyYW1lYnVmZmVyLnNldChyLmZyYW1lYnVmZmVyKTtlbHNle3ZhciBhPW8uY3JlYXRlVGV4dHVyZSgpO28uYmluZFRleHR1cmUoby5URVhUVVJFXzJELGEpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX1dSQVBfUyxvLkNMQU1QX1RPX0VER0UpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX1dSQVBfVCxvLkNMQU1QX1RPX0VER0UpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX01JTl9GSUxURVIsby5MSU5FQVIpLG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX01BR19GSUxURVIsby5MSU5FQVIpLHI9aS5oZWF0bWFwRmJvPXQuY3JlYXRlRnJhbWVidWZmZXIoZS53aWR0aC80LGUuaGVpZ2h0LzQsITEpLGZ1bmN0aW9uIHQoZSxpLG8scil7dmFyIGE9ZS5nbDthLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsYS5SR0JBLGkud2lkdGgvNCxpLmhlaWdodC80LDAsYS5SR0JBLGUuZXh0VGV4dHVyZUhhbGZGbG9hdD9lLmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVM6YS5VTlNJR05FRF9CWVRFLG51bGwpLHIuY29sb3JBdHRhY2htZW50LnNldChvKSxlLmV4dFRleHR1cmVIYWxmRmxvYXQmJmEuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhhLkZSQU1FQlVGRkVSKSE9PWEuRlJBTUVCVUZGRVJfQ09NUExFVEUmJihlLmV4dFRleHR1cmVIYWxmRmxvYXQ9bnVsbCxyLmNvbG9yQXR0YWNobWVudC5zZXREaXJ0eSgpLHQoZSxpLG8scikpO30odCxlLGEscik7fX0oYSxlLG8pLGEuY2xlYXIoe2NvbG9yOnQuQ29sb3IudHJhbnNwYXJlbnR9KTtmb3IodmFyIGM9MDtjPHIubGVuZ3RoO2MrKyl7dmFyIHU9cltjXTtpZighaS5oYXNSZW5kZXJhYmxlUGFyZW50KHUpKXt2YXIgaD1pLmdldFRpbGUodSkscD1oLmdldEJ1Y2tldChvKTtpZihwKXt2YXIgZD1wLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCk7ZS51c2VQcm9ncmFtKCJoZWF0bWFwIixkKS5kcmF3KGEsbi5UUklBTkdMRVMsQ3QuZGlzYWJsZWQscyxsLHp0LmRpc2FibGVkLExpKHUucG9zTWF0cml4LGgsZS50cmFuc2Zvcm0uem9vbSxvLnBhaW50LmdldCgiaGVhdG1hcC1pbnRlbnNpdHkiKSksby5pZCxwLmxheW91dFZlcnRleEJ1ZmZlcixwLmluZGV4QnVmZmVyLHAuc2VnbWVudHMsby5wYWludCxlLnRyYW5zZm9ybS56b29tLGQpO319fWEudmlld3BvcnQuc2V0KFswLDAsZS53aWR0aCxlLmhlaWdodF0pO31lbHNlInRyYW5zbHVjZW50Ij09PWUucmVuZGVyUGFzcyYmKGUuY29udGV4dC5zZXRDb2xvck1vZGUoZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLGZ1bmN0aW9uKGUsaSl7dmFyIG89ZS5jb250ZXh0LHI9by5nbCxhPWkuaGVhdG1hcEZibztpZihhKXtvLmFjdGl2ZVRleHR1cmUuc2V0KHIuVEVYVFVSRTApLHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELGEuY29sb3JBdHRhY2htZW50LmdldCgpKSxvLmFjdGl2ZVRleHR1cmUuc2V0KHIuVEVYVFVSRTEpO3ZhciBuPWkuY29sb3JSYW1wVGV4dHVyZTtufHwobj1pLmNvbG9yUmFtcFRleHR1cmU9bmV3IHQuVGV4dHVyZShvLGkuY29sb3JSYW1wLHIuUkdCQSkpLG4uYmluZChyLkxJTkVBUixyLkNMQU1QX1RPX0VER0UpLGUudXNlUHJvZ3JhbSgiaGVhdG1hcFRleHR1cmUiKS5kcmF3KG8sci5UUklBTkdMRVMsQ3QuZGlzYWJsZWQsU3QuZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksenQuZGlzYWJsZWQsZnVuY3Rpb24oZSxpLG8scil7dmFyIGE9dC5jcmVhdGUoKTt0Lm9ydGhvKGEsMCxlLndpZHRoLGUuaGVpZ2h0LDAsMCwxKTt2YXIgbj1lLmNvbnRleHQuZ2w7cmV0dXJuIHt1X21hdHJpeDphLHVfd29ybGQ6W24uZHJhd2luZ0J1ZmZlcldpZHRoLG4uZHJhd2luZ0J1ZmZlckhlaWdodF0sdV9pbWFnZTowLHVfY29sb3JfcmFtcDoxLHVfb3BhY2l0eTppLnBhaW50LmdldCgiaGVhdG1hcC1vcGFjaXR5Iil9fShlLGkpLGkuaWQsZS52aWV3cG9ydEJ1ZmZlcixlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLGUudmlld3BvcnRTZWdtZW50cyxpLnBhaW50LGUudHJhbnNmb3JtLnpvb20pO319KGUsbykpO30sbGluZTpmdW5jdGlvbihlLGksbyxyKXtpZigidHJhbnNsdWNlbnQiPT09ZS5yZW5kZXJQYXNzKXt2YXIgYT1vLnBhaW50LmdldCgibGluZS1vcGFjaXR5Iiksbj1vLnBhaW50LmdldCgibGluZS13aWR0aCIpO2lmKDAhPT1hLmNvbnN0YW50T3IoMSkmJjAhPT1uLmNvbnN0YW50T3IoMSkpe3ZhciBzPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxDdC5SZWFkT25seSksbD1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxjPW8ucGFpbnQuZ2V0KCJsaW5lLWRhc2hhcnJheSIpLHU9by5wYWludC5nZXQoImxpbmUtcGF0dGVybiIpLGg9dS5jb25zdGFudE9yKDEpLHA9by5wYWludC5nZXQoImxpbmUtZ3JhZGllbnQiKSxkPW8uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLF89aD8ibGluZVBhdHRlcm4iOmM/ImxpbmVTREYiOnA/ImxpbmVHcmFkaWVudCI6ImxpbmUiLGY9ZS5jb250ZXh0LG09Zi5nbCxnPSEwO2lmKHApe2YuYWN0aXZlVGV4dHVyZS5zZXQobS5URVhUVVJFMCk7dmFyIHY9by5ncmFkaWVudFRleHR1cmU7aWYoIW8uZ3JhZGllbnQpcmV0dXJuO3Z8fCh2PW8uZ3JhZGllbnRUZXh0dXJlPW5ldyB0LlRleHR1cmUoZixvLmdyYWRpZW50LG0uUkdCQSkpLHYuYmluZChtLkxJTkVBUixtLkNMQU1QX1RPX0VER0UpO31mb3IodmFyIHk9MCx4PXI7eTx4Lmxlbmd0aDt5Kz0xKXt2YXIgYj14W3ldLHc9aS5nZXRUaWxlKGIpO2lmKCFofHx3LnBhdHRlcm5zTG9hZGVkKCkpe3ZhciBFPXcuZ2V0QnVja2V0KG8pO2lmKEUpe3ZhciBUPUUucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSxJPWUuY29udGV4dC5wcm9ncmFtLmdldCgpLEM9ZS51c2VQcm9ncmFtKF8sVCksUz1nfHxDLnByb2dyYW0hPT1JLFA9dS5jb25zdGFudE9yKG51bGwpO2lmKFAmJncuaW1hZ2VBdGxhcyl7dmFyIHo9dy5pbWFnZUF0bGFzLEw9ei5wYXR0ZXJuUG9zaXRpb25zW1AudG8udG9TdHJpbmcoKV0sTT16LnBhdHRlcm5Qb3NpdGlvbnNbUC5mcm9tLnRvU3RyaW5nKCldO0wmJk0mJlQuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKEwsTSk7fXZhciBEPWg/a2koZSx3LG8sZCk6Yz9CaShlLHcsbyxjLGQpOnA/UmkoZSx3LG8pOkFpKGUsdyxvKTtoPyhmLmFjdGl2ZVRleHR1cmUuc2V0KG0uVEVYVFVSRTApLHcuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChtLkxJTkVBUixtLkNMQU1QX1RPX0VER0UpLFQudXBkYXRlUGFpbnRCdWZmZXJzKGQpKTpjJiYoU3x8ZS5saW5lQXRsYXMuZGlydHkpJiYoZi5hY3RpdmVUZXh0dXJlLnNldChtLlRFWFRVUkUwKSxlLmxpbmVBdGxhcy5iaW5kKGYpKSxDLmRyYXcoZixtLlRSSUFOR0xFUyxzLGUuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhiKSxsLHp0LmRpc2FibGVkLEQsby5pZCxFLmxheW91dFZlcnRleEJ1ZmZlcixFLmluZGV4QnVmZmVyLEUuc2VnbWVudHMsby5wYWludCxlLnRyYW5zZm9ybS56b29tLFQpLGc9ITE7fX19fX19LGZpbGw6ZnVuY3Rpb24oZSxpLG8scil7dmFyIGE9by5wYWludC5nZXQoImZpbGwtY29sb3IiKSxuPW8ucGFpbnQuZ2V0KCJmaWxsLW9wYWNpdHkiKTtpZigwIT09bi5jb25zdGFudE9yKDEpKXt2YXIgcz1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxsPW8ucGFpbnQuZ2V0KCJmaWxsLXBhdHRlcm4iKSxjPWUub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpJiYhbC5jb25zdGFudE9yKDEpJiYxPT09YS5jb25zdGFudE9yKHQuQ29sb3IudHJhbnNwYXJlbnQpLmEmJjE9PT1uLmNvbnN0YW50T3IoMCk/Im9wYXF1ZSI6InRyYW5zbHVjZW50IjtpZihlLnJlbmRlclBhc3M9PT1jKXt2YXIgdT1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDEsIm9wYXF1ZSI9PT1lLnJlbmRlclBhc3M/Q3QuUmVhZFdyaXRlOkN0LlJlYWRPbmx5KTtlbyhlLGksbyxyLHUscywhMSk7fWlmKCJ0cmFuc2x1Y2VudCI9PT1lLnJlbmRlclBhc3MmJm8ucGFpbnQuZ2V0KCJmaWxsLWFudGlhbGlhcyIpKXt2YXIgaD1lLmRlcHRoTW9kZUZvclN1YmxheWVyKG8uZ2V0UGFpbnRQcm9wZXJ0eSgiZmlsbC1vdXRsaW5lLWNvbG9yIik/MjowLEN0LlJlYWRPbmx5KTtlbyhlLGksbyxyLGgscywhMCk7fX19LCJmaWxsLWV4dHJ1c2lvbiI6ZnVuY3Rpb24odCxlLGksbyl7dmFyIHI9aS5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLW9wYWNpdHkiKTtpZigwIT09ciYmInRyYW5zbHVjZW50Ij09PXQucmVuZGVyUGFzcyl7dmFyIGE9bmV3IEN0KHQuY29udGV4dC5nbC5MRVFVQUwsQ3QuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtpZigxIT09cnx8aS5wYWludC5nZXQoImZpbGwtZXh0cnVzaW9uLXBhdHRlcm4iKS5jb25zdGFudE9yKDEpKWlvKHQsZSxpLG8sYSxTdC5kaXNhYmxlZCxQdC5kaXNhYmxlZCksaW8odCxlLGksbyxhLHQuc3RlbmNpbE1vZGVGb3IzRCgpLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtlbHNle3ZhciBuPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO2lvKHQsZSxpLG8sYSxTdC5kaXNhYmxlZCxuKTt9fX0saGlsbHNoYWRlOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKCJvZmZzY3JlZW4iPT09dC5yZW5kZXJQYXNzfHwidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXtmb3IodmFyIHI9dC5jb250ZXh0LGE9ZS5nZXRTb3VyY2UoKS5tYXh6b29tLG49dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEN0LlJlYWRPbmx5KSxzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9InRyYW5zbHVjZW50Ij09PXQucmVuZGVyUGFzcz90LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKG8pOlt7fSxvXSxjPWxbMF0sdT0wLGg9bFsxXTt1PGgubGVuZ3RoO3UrPTEpe3ZhciBwPWhbdV0sZD1lLmdldFRpbGUocCk7ZC5uZWVkc0hpbGxzaGFkZVByZXBhcmUmJiJvZmZzY3JlZW4iPT09dC5yZW5kZXJQYXNzP3JvKHQsZCxpLGEsbixTdC5kaXNhYmxlZCxzKToidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzJiZvbyh0LGQsaSxuLGNbcC5vdmVyc2NhbGVkWl0scyk7fXIudmlld3BvcnQuc2V0KFswLDAsdC53aWR0aCx0LmhlaWdodF0pO319LHJhc3RlcjpmdW5jdGlvbih0LGUsaSxvKXtpZigidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzJiYwIT09aS5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5IikmJm8ubGVuZ3RoKWZvcih2YXIgcj10LmNvbnRleHQsYT1yLmdsLG49ZS5nZXRTb3VyY2UoKSxzPXQudXNlUHJvZ3JhbSgicmFzdGVyIiksbD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxjPW4gaW5zdGFuY2VvZiBEP1t7fSxvXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKG8pLHU9Y1swXSxoPWNbMV0scD1oW2gubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLGQ9IXQub3B0aW9ucy5tb3ZpbmcsXz0wLGY9aDtfPGYubGVuZ3RoO18rPTEpe3ZhciBtPWZbX10sZz10LmRlcHRoTW9kZUZvclN1YmxheWVyKG0ub3ZlcnNjYWxlZFotcCwxPT09aS5wYWludC5nZXQoInJhc3Rlci1vcGFjaXR5Iik/Q3QuUmVhZFdyaXRlOkN0LlJlYWRPbmx5LGEuTEVTUyksdj1lLmdldFRpbGUobSkseT10LnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgobS50b1Vud3JhcHBlZCgpLGQpO3YucmVnaXN0ZXJGYWRlRHVyYXRpb24oaS5wYWludC5nZXQoInJhc3Rlci1mYWRlLWR1cmF0aW9uIikpO3ZhciB4PWUuZmluZExvYWRlZFBhcmVudChtLDApLGI9YW8odix4LGUsaSx0LnRyYW5zZm9ybSksdz12b2lkIDAsRT12b2lkIDAsVD0ibmVhcmVzdCI9PT1pLnBhaW50LmdldCgicmFzdGVyLXJlc2FtcGxpbmciKT9hLk5FQVJFU1Q6YS5MSU5FQVI7ci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSx2LnRleHR1cmUuYmluZChULGEuQ0xBTVBfVE9fRURHRSxhLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCksci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUxKSx4Pyh4LnRleHR1cmUuYmluZChULGEuQ0xBTVBfVE9fRURHRSxhLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCksdz1NYXRoLnBvdygyLHgudGlsZUlELm92ZXJzY2FsZWRaLXYudGlsZUlELm92ZXJzY2FsZWRaKSxFPVt2LnRpbGVJRC5jYW5vbmljYWwueCp3JTEsdi50aWxlSUQuY2Fub25pY2FsLnkqdyUxXSk6di50ZXh0dXJlLmJpbmQoVCxhLkNMQU1QX1RPX0VER0UsYS5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO3ZhciBJPVVpKHksRXx8WzAsMF0sd3x8MSxiLGkpO24gaW5zdGFuY2VvZiBEP3MuZHJhdyhyLGEuVFJJQU5HTEVTLGcsU3QuZGlzYWJsZWQsbCx6dC5kaXNhYmxlZCxJLGkuaWQsbi5ib3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixuLmJvdW5kc1NlZ21lbnRzKTpzLmRyYXcocixhLlRSSUFOR0xFUyxnLHVbbS5vdmVyc2NhbGVkWl0sbCx6dC5kaXNhYmxlZCxJLGkuaWQsdC5yYXN0ZXJCb3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnJhc3RlckJvdW5kc1NlZ21lbnRzKTt9fSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1pLnBhaW50LmdldCgiYmFja2dyb3VuZC1jb2xvciIpLHI9aS5wYWludC5nZXQoImJhY2tncm91bmQtb3BhY2l0eSIpO2lmKDAhPT1yKXt2YXIgYT10LmNvbnRleHQsbj1hLmdsLHM9dC50cmFuc2Zvcm0sbD1zLnRpbGVTaXplLGM9aS5wYWludC5nZXQoImJhY2tncm91bmQtcGF0dGVybiIpO2lmKCF0LmlzUGF0dGVybk1pc3NpbmcoYykpe3ZhciB1PSFjJiYxPT09by5hJiYxPT09ciYmdC5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/Im9wYXF1ZSI6InRyYW5zbHVjZW50IjtpZih0LnJlbmRlclBhc3M9PT11KXt2YXIgaD1TdC5kaXNhYmxlZCxwPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwib3BhcXVlIj09PXU/Q3QuUmVhZFdyaXRlOkN0LlJlYWRPbmx5KSxkPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLF89dC51c2VQcm9ncmFtKGM/ImJhY2tncm91bmRQYXR0ZXJuIjoiYmFja2dyb3VuZCIpLGY9cy5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpsfSk7YyYmKGEuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMCksdC5pbWFnZU1hbmFnZXIuYmluZCh0LmNvbnRleHQpKTtmb3IodmFyIG09aS5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCksZz0wLHY9ZjtnPHYubGVuZ3RoO2crPTEpe3ZhciB5PXZbZ10seD10LnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoeS50b1Vud3JhcHBlZCgpKSxiPWM/R2koeCxyLHQsYyx7dGlsZUlEOnksdGlsZVNpemU6bH0sbSk6VmkoeCxyLG8pO18uZHJhdyhhLG4uVFJJQU5HTEVTLHAsaCxkLHp0LmRpc2FibGVkLGIsaS5pZCx0LnRpbGVFeHRlbnRCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnRpbGVFeHRlbnRTZWdtZW50cyk7fX19fX0sZGVidWc6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKWZvKHQsZSxpW29dKTt9LGN1c3RvbTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dC5jb250ZXh0LHI9aS5pbXBsZW1lbnRhdGlvbjtpZigib2Zmc2NyZWVuIj09PXQucmVuZGVyUGFzcyl7dmFyIGE9ci5wcmVyZW5kZXI7YSYmKHQuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLG8uc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxhLmNhbGwocixvLmdsLHQudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpLG8uc2V0RGlydHkoKSx0LnNldEJhc2VTdGF0ZSgpKTt9ZWxzZSBpZigidHJhbnNsdWNlbnQiPT09dC5yZW5kZXJQYXNzKXt0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxvLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksby5zZXRTdGVuY2lsTW9kZShTdC5kaXNhYmxlZCk7dmFyIG49IjNkIj09PXIucmVuZGVyaW5nTW9kZT9uZXcgQ3QodC5jb250ZXh0LmdsLkxFUVVBTCxDdC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxDdC5SZWFkT25seSk7by5zZXREZXB0aE1vZGUobiksci5yZW5kZXIoby5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxvLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSxvLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7fX19LGdvPWZ1bmN0aW9uKHQsZSl7dGhpcy5jb250ZXh0PW5ldyBMdCh0KSx0aGlzLnRyYW5zZm9ybT1lLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLnNldHVwKCksdGhpcy5udW1TdWJsYXllcnM9TXQubWF4VW5kZXJ6b29taW5nK010Lm1heE92ZXJ6b29taW5nKzEsdGhpcy5kZXB0aEVwc2lsb249MS9NYXRoLnBvdygyLDE2KSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBrZSx0aGlzLmdwdVRpbWVycz17fTt9O2dvLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSxpKXtpZih0aGlzLndpZHRoPWUqdC5icm93c2VyLmRldmljZVBpeGVsUmF0aW8sdGhpcy5oZWlnaHQ9aSp0LmJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuc3R5bGUpZm9yKHZhciBvPTAscj10aGlzLnN0eWxlLl9vcmRlcjtvPHIubGVuZ3RoO28rPTEpdGhpcy5zdHlsZS5fbGF5ZXJzW3Jbb11dLnJlc2l6ZSgpO30sZ28ucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQyaTQ7aS5lbXBsYWNlQmFjaygwLDApLGkuZW1wbGFjZUJhY2sodC5FWFRFTlQsMCksaS5lbXBsYWNlQmFjaygwLHQuRVhURU5UKSxpLmVtcGxhY2VCYWNrKHQuRVhURU5ULHQuRVhURU5UKSx0aGlzLnRpbGVFeHRlbnRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxaZS5tZW1iZXJzKSx0aGlzLnRpbGVFeHRlbnRTZWdtZW50cz10LlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTt2YXIgbz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDJpNDtvLmVtcGxhY2VCYWNrKDAsMCksby5lbXBsYWNlQmFjayh0LkVYVEVOVCwwKSxvLmVtcGxhY2VCYWNrKDAsdC5FWFRFTlQpLG8uZW1wbGFjZUJhY2sodC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMuZGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobyxaZS5tZW1iZXJzKSx0aGlzLmRlYnVnU2VnbWVudHM9dC5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsNSk7dmFyIHI9bmV3IHQuU3RydWN0QXJyYXlMYXlvdXQ0aTg7ci5lbXBsYWNlQmFjaygwLDAsMCwwKSxyLmVtcGxhY2VCYWNrKHQuRVhURU5ULDAsdC5FWFRFTlQsMCksci5lbXBsYWNlQmFjaygwLHQuRVhURU5ULDAsdC5FWFRFTlQpLHIuZW1wbGFjZUJhY2sodC5FWFRFTlQsdC5FWFRFTlQsdC5FWFRFTlQsdC5FWFRFTlQpLHRoaXMucmFzdGVyQm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHIsTS5tZW1iZXJzKSx0aGlzLnJhc3RlckJvdW5kc1NlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciBhPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0Mmk0O2EuZW1wbGFjZUJhY2soMCwwKSxhLmVtcGxhY2VCYWNrKDEsMCksYS5lbXBsYWNlQmFjaygwLDEpLGEuZW1wbGFjZUJhY2soMSwxKSx0aGlzLnZpZXdwb3J0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGEsWmUubWVtYmVycyksdGhpcy52aWV3cG9ydFNlZ21lbnRzPXQuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO3ZhciBuPW5ldyB0LlN0cnVjdEFycmF5TGF5b3V0MXVpMjtuLmVtcGxhY2VCYWNrKDApLG4uZW1wbGFjZUJhY2soMSksbi5lbXBsYWNlQmFjaygzKSxuLmVtcGxhY2VCYWNrKDIpLG4uZW1wbGFjZUJhY2soMCksdGhpcy50aWxlQm9yZGVySW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuKTt2YXIgcz1uZXcgdC5TdHJ1Y3RBcnJheUxheW91dDN1aTY7cy5lbXBsYWNlQmFjaygwLDEsMikscy5lbXBsYWNlQmFjaygyLDEsMyksdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyB0LlRleHR1cmUoZSx7d2lkdGg6MSxoZWlnaHQ6MSxkYXRhOm5ldyBVaW50OEFycmF5KFswLDAsMCwwXSl9LGUuZ2wuUkdCQSk7dmFyIGw9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RlbmNpbENsZWFyTW9kZT1uZXcgU3Qoe2Z1bmM6bC5BTFdBWVMsbWFzazowfSwwLDI1NSxsLlpFUk8sbC5aRVJPLGwuWkVSTyk7fSxnby5wcm90b3R5cGUuY2xlYXJTdGVuY2lsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9ZS5nbDt0aGlzLm5leHRTdGVuY2lsSUQ9MSx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMDt2YXIgbz10LmNyZWF0ZSgpO3Qub3J0aG8obywwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLDEpLHQuc2NhbGUobyxvLFtpLmRyYXdpbmdCdWZmZXJXaWR0aCxpLmRyYXdpbmdCdWZmZXJIZWlnaHQsMF0pLHRoaXMudXNlUHJvZ3JhbSgiY2xpcHBpbmdNYXNrIikuZHJhdyhlLGkuVFJJQU5HTEVTLEN0LmRpc2FibGVkLHRoaXMuc3RlbmNpbENsZWFyTW9kZSxQdC5kaXNhYmxlZCx6dC5kaXNhYmxlZCx6aShvKSwiJGNsaXBwaW5nIix0aGlzLnZpZXdwb3J0QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy52aWV3cG9ydFNlZ21lbnRzKTt9LGdvLnByb3RvdHlwZS5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3M9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlIT09dC5zb3VyY2UmJnQuaXNUaWxlQ2xpcHBlZCgpJiZlJiZlLmxlbmd0aCl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT10LnNvdXJjZTt2YXIgaT10aGlzLmNvbnRleHQsbz1pLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtlLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksaS5zZXRDb2xvck1vZGUoUHQuZGlzYWJsZWQpLGkuc2V0RGVwdGhNb2RlKEN0LmRpc2FibGVkKTt2YXIgcj10aGlzLnVzZVByb2dyYW0oImNsaXBwaW5nTWFzayIpO3RoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e307Zm9yKHZhciBhPTAsbj1lO2E8bi5sZW5ndGg7YSs9MSl7dmFyIHM9blthXSxsPXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbcy5rZXldPXRoaXMubmV4dFN0ZW5jaWxJRCsrO3IuZHJhdyhpLG8uVFJJQU5HTEVTLEN0LmRpc2FibGVkLG5ldyBTdCh7ZnVuYzpvLkFMV0FZUyxtYXNrOjB9LGwsMjU1LG8uS0VFUCxvLktFRVAsby5SRVBMQUNFKSxQdC5kaXNhYmxlZCx6dC5kaXNhYmxlZCx6aShzLnBvc01hdHJpeCksIiRjbGlwcGluZyIsdGhpcy50aWxlRXh0ZW50QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy50aWxlRXh0ZW50U2VnbWVudHMpO319fSxnby5wcm90b3R5cGUuc3RlbmNpbE1vZGVGb3IzRD1mdW5jdGlvbigpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCsxPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTt2YXIgdD10aGlzLm5leHRTdGVuY2lsSUQrKyxlPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IFN0KHtmdW5jOmUuTk9URVFVQUwsbWFzazoyNTV9LHQsMjU1LGUuS0VFUCxlLktFRVAsZS5SRVBMQUNFKX0sZ28ucHJvdG90eXBlLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgU3Qoe2Z1bmM6ZS5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0sMCxlLktFRVAsZS5LRUVQLGUuUkVQTEFDRSl9LGdvLnByb3RvdHlwZS5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuY29udGV4dC5nbCxvPXQuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRafSkpLHI9b1tvLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixhPW9bMF0ub3ZlcnNjYWxlZFotcisxO2lmKGE+MSl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5uZXh0U3RlbmNpbElEK2E+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpO2Zvcih2YXIgbj17fSxzPTA7czxhO3MrKyluW3Mrcl09bmV3IFN0KHtmdW5jOmkuR0VRVUFMLG1hc2s6MjU1fSxzK3RoaXMubmV4dFN0ZW5jaWxJRCwyNTUsaS5LRUVQLGkuS0VFUCxpLlJFUExBQ0UpO3JldHVybiB0aGlzLm5leHRTdGVuY2lsSUQrPWEsW24sb119cmV0dXJuIFsoZT17fSxlW3JdPVN0LmRpc2FibGVkLGUpLG9dfSxnby5wcm90b3R5cGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yP25ldyBQdChbZS5DT05TVEFOVF9DT0xPUixlLk9ORV0sbmV3IHQuQ29sb3IoMS84LDEvOCwxLzgsMCksWyEwLCEwLCEwLCEwXSk6Im9wYXF1ZSI9PT10aGlzLnJlbmRlclBhc3M/UHQudW5ibGVuZGVkOlB0LmFscGhhQmxlbmRlZH0sZ28ucHJvdG90eXBlLmRlcHRoTW9kZUZvclN1YmxheWVyPWZ1bmN0aW9uKHQsZSxpKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpcmV0dXJuIEN0LmRpc2FibGVkO3ZhciBvPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycyt0KSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IEN0KGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsZSxbbyxvXSl9LGdvLnByb3RvdHlwZS5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudExheWVyPHRoaXMub3BhcXVlUGFzc0N1dG9mZn0sZ28ucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXM7dGhpcy5zdHlsZT1lLHRoaXMub3B0aW9ucz1pLHRoaXMubGluZUF0bGFzPWUubGluZUF0bGFzLHRoaXMuaW1hZ2VNYW5hZ2VyPWUuaW1hZ2VNYW5hZ2VyLHRoaXMuZ2x5cGhNYW5hZ2VyPWUuZ2x5cGhNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT1lLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKHQuYnJvd3Nlci5ub3coKSksdGhpcy5pbWFnZU1hbmFnZXIuYmVnaW5GcmFtZSgpO3ZhciByPXRoaXMuc3R5bGUuX29yZGVyLGE9dGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBuIGluIGEpe3ZhciBzPWFbbl07cy51c2VkJiZzLnByZXBhcmUodGhpcy5jb250ZXh0KTt9dmFyIGwsYyx1PXt9LGg9e30scD17fTtmb3IodmFyIGQgaW4gYSl7dmFyIF89YVtkXTt1W2RdPV8uZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCksaFtkXT11W2RdLnNsaWNlKCkucmV2ZXJzZSgpLHBbZF09Xy5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoITApLnJldmVyc2UoKTt9dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTEvMDtmb3IodmFyIGY9MDtmPHIubGVuZ3RoO2YrKylpZih0aGlzLnN0eWxlLl9sYXllcnNbcltmXV0uaXMzRCgpKXt0aGlzLm9wYXF1ZVBhc3NDdXRvZmY9ZjticmVha310aGlzLnJlbmRlclBhc3M9Im9mZnNjcmVlbiI7Zm9yKHZhciBtPTAsZz1yO208Zy5sZW5ndGg7bSs9MSl7dmFyIHY9dGhpcy5zdHlsZS5fbGF5ZXJzW2dbbV1dO2lmKHYuaGFzT2Zmc2NyZWVuUGFzcygpJiYhdi5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSl7dmFyIHk9aFt2LnNvdXJjZV07KCJjdXN0b20iPT09di50eXBlfHx5Lmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxhW3Yuc291cmNlXSx2LHkpO319Zm9yKHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6aS5zaG93T3ZlcmRyYXdJbnNwZWN0b3I/dC5Db2xvci5ibGFjazp0LkNvbG9yLnRyYW5zcGFyZW50LGRlcHRoOjF9KSx0aGlzLmNsZWFyU3RlbmNpbCgpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1pLnNob3dPdmVyZHJhd0luc3BlY3Rvcix0aGlzLmRlcHRoUmFuZ2VGb3IzRD1bMCwxLShlLl9vcmRlci5sZW5ndGgrMikqdGhpcy5udW1TdWJsYXllcnMqdGhpcy5kZXB0aEVwc2lsb25dLHRoaXMucmVuZGVyUGFzcz0ib3BhcXVlIix0aGlzLmN1cnJlbnRMYXllcj1yLmxlbmd0aC0xO3RoaXMuY3VycmVudExheWVyPj0wO3RoaXMuY3VycmVudExheWVyLS0pe3ZhciB4PXRoaXMuc3R5bGUuX2xheWVyc1tyW3RoaXMuY3VycmVudExheWVyXV0sYj1hW3guc291cmNlXSx3PXVbeC5zb3VyY2VdO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHgsdyksdGhpcy5yZW5kZXJMYXllcih0aGlzLGIseCx3KTt9Zm9yKHRoaXMucmVuZGVyUGFzcz0idHJhbnNsdWNlbnQiLHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8ci5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7dmFyIEU9dGhpcy5zdHlsZS5fbGF5ZXJzW3JbdGhpcy5jdXJyZW50TGF5ZXJdXSxUPWFbRS5zb3VyY2VdLEk9KCJzeW1ib2wiPT09RS50eXBlP3A6aClbRS5zb3VyY2VdO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKEUsdVtFLnNvdXJjZV0pLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxULEUsSSk7fXRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMmJih0LnZhbHVlcyh0aGlzLnN0eWxlLl9sYXllcnMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Quc291cmNlJiYhdC5pc0hpZGRlbihvLnRyYW5zZm9ybS56b29tKSYmKHQuc291cmNlIT09KGMmJmMuaWQpJiYoYz1vLnN0eWxlLnNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pLCghbHx8bC5nZXRTb3VyY2UoKS5tYXh6b29tPGMuZ2V0U291cmNlKCkubWF4em9vbSkmJihsPWMpKTt9KSksbCYmbW8uZGVidWcodGhpcyxsLGwuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkpKSx0aGlzLm9wdGlvbnMuc2hvd1BhZGRpbmcmJmZ1bmN0aW9uKHQpe3ZhciBlPXQudHJhbnNmb3JtLnBhZGRpbmc7aG8odCx0LnRyYW5zZm9ybS5oZWlnaHQtKGUudG9wfHwwKSwzLG5vKSxobyh0LGUuYm90dG9tfHwwLDMsc28pLHBvKHQsZS5sZWZ0fHwwLDMsbG8pLHBvKHQsdC50cmFuc2Zvcm0ud2lkdGgtKGUucmlnaHR8fDApLDMsY28pO3ZhciBpPXQudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbih0LGUsaSxvKXtfbyh0LGUtMSxpLTEwLDIsMjAsbyksX28odCxlLTEwLGktMSwyMCwyLG8pO30odCxpLngsdC50cmFuc2Zvcm0uaGVpZ2h0LWkueSx1byk7fSh0aGlzKSx0aGlzLmNvbnRleHQuc2V0RGVmYXVsdCgpO30sZ28ucHJvdG90eXBlLnJlbmRlckxheWVyPWZ1bmN0aW9uKHQsZSxpLG8pe2kuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fCgiYmFja2dyb3VuZCI9PT1pLnR5cGV8fCJjdXN0b20iPT09aS50eXBlfHxvLmxlbmd0aCkmJih0aGlzLmlkPWkuaWQsdGhpcy5ncHVUaW1pbmdTdGFydChpKSxtb1tpLnR5cGVdKHQsZSxpLG8sdGhpcy5zdHlsZS5wbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzKSx0aGlzLmdwdVRpbWluZ0VuZCgpKTt9LGdvLnByb3RvdHlwZS5ncHVUaW1pbmdTdGFydD1mdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXt2YXIgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxpPXRoaXMuZ3B1VGltZXJzW3QuaWRdO2l8fChpPXRoaXMuZ3B1VGltZXJzW3QuaWRdPXtjYWxsczowLGNwdVRpbWU6MCxxdWVyeTplLmNyZWF0ZVF1ZXJ5RVhUKCl9KSxpLmNhbGxzKyssZS5iZWdpblF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCxpLnF1ZXJ5KTt9fSxnby5wcm90b3R5cGUuZ3B1VGltaW5nRW5kPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmdwdVRpbWluZyl7dmFyIHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7dC5lbmRRdWVyeUVYVCh0LlRJTUVfRUxBUFNFRF9FWFQpO319LGdvLnByb3RvdHlwZS5jb2xsZWN0R3B1VGltZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncHVUaW1lcnM7cmV0dXJuIHRoaXMuZ3B1VGltZXJzPXt9LHR9LGdvLnByb3RvdHlwZS5xdWVyeUdwdVRpbWVycz1mdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdCl7dmFyIG89dFtpXSxyPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LGE9ci5nZXRRdWVyeU9iamVjdEVYVChvLnF1ZXJ5LHIuUVVFUllfUkVTVUxUX0VYVCkvMWU2O3IuZGVsZXRlUXVlcnlFWFQoby5xdWVyeSksZVtpXT1hO31yZXR1cm4gZX0sZ28ucHJvdG90eXBlLnRyYW5zbGF0ZVBvc01hdHJpeD1mdW5jdGlvbihlLGksbyxyLGEpe2lmKCFvWzBdJiYhb1sxXSlyZXR1cm4gZTt2YXIgbj1hPyJtYXAiPT09cj90aGlzLnRyYW5zZm9ybS5hbmdsZTowOiJ2aWV3cG9ydCI9PT1yPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKG4pe3ZhciBzPU1hdGguc2luKG4pLGw9TWF0aC5jb3Mobik7bz1bb1swXSpsLW9bMV0qcyxvWzBdKnMrb1sxXSpsXTt9dmFyIGM9W2E/b1swXTp1ZShpLG9bMF0sdGhpcy50cmFuc2Zvcm0uem9vbSksYT9vWzFdOnVlKGksb1sxXSx0aGlzLnRyYW5zZm9ybS56b29tKSwwXSx1PW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiB0LnRyYW5zbGF0ZSh1LGUsYyksdX0sZ28ucHJvdG90eXBlLnNhdmVUaWxlVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXTtlP2UucHVzaCh0KTp0aGlzLl90aWxlVGV4dHVyZXNbdC5zaXplWzBdXT1bdF07fSxnby5wcm90b3R5cGUuZ2V0VGlsZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdGlsZVRleHR1cmVzW3RdO3JldHVybiBlJiZlLmxlbmd0aD4wP2UucG9wKCk6bnVsbH0sZ28ucHJvdG90eXBlLmlzUGF0dGVybk1pc3Npbmc9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuICExO3ZhciBlPXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4odC5mcm9tLnRvU3RyaW5nKCkpLGk9dGhpcy5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybih0LnRvLnRvU3RyaW5nKCkpO3JldHVybiAhZXx8IWl9LGdvLnByb3RvdHlwZS51c2VQcm9ncmFtPWZ1bmN0aW9uKHQsZSl7dGhpcy5jYWNoZT10aGlzLmNhY2hlfHx7fTt2YXIgaT0iIit0KyhlP2UuY2FjaGVLZXk6IiIpKyh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I/Ii9vdmVyZHJhdyI6IiIpO3JldHVybiB0aGlzLmNhY2hlW2ldfHwodGhpcy5jYWNoZVtpXT1uZXcgZ2kodGhpcy5jb250ZXh0LGZpW3RdLGUsV2lbdF0sdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKSksdGhpcy5jYWNoZVtpXX0sZ28ucHJvdG90eXBlLnNldEN1c3RvbUxheWVyRGVmYXVsdHM9ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2suc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCk7fSxnby5wcm90b3R5cGUuc2V0QmFzZVN0YXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuY29udGV4dC5jdWxsRmFjZS5zZXQoITEpLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5jb250ZXh0LmJsZW5kRXF1YXRpb24uc2V0KHQuRlVOQ19BREQpO30sZ28ucHJvdG90eXBlLmluaXREZWJ1Z092ZXJsYXlDYW52YXM9ZnVuY3Rpb24oKXtudWxsPT10aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyYmKHRoaXMuZGVidWdPdmVybGF5Q2FudmFzPXQud2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLHRoaXMuZGVidWdPdmVybGF5Q2FudmFzLndpZHRoPTUxMix0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy5oZWlnaHQ9NTEyLHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZT1uZXcgdC5UZXh0dXJlKHRoaXMuY29udGV4dCx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyx0aGlzLmNvbnRleHQuZ2wuUkdCQSkpO30sZ28ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmVtcHR5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlJiZ0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUuZGVzdHJveSgpO307dmFyIHZvPWZ1bmN0aW9uKHQsZSl7dGhpcy5wb2ludHM9dCx0aGlzLnBsYW5lcz1lO307dm8uZnJvbUludlByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24oZSxpLG8pe3ZhciByPU1hdGgucG93KDIsbyksYT1bWy0xLDEsLTEsMV0sWzEsMSwtMSwxXSxbMSwtMSwtMSwxXSxbLTEsLTEsLTEsMV0sWy0xLDEsMSwxXSxbMSwxLDEsMV0sWzEsLTEsMSwxXSxbLTEsLTEsMSwxXV0ubWFwKChmdW5jdGlvbihpKXtyZXR1cm4gdC50cmFuc2Zvcm1NYXQ0KFtdLGksZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5zY2FsZSQxKFtdLGUsMS9lWzNdL2kqcil9KSksbj1bWzAsMSwyXSxbNiw1LDRdLFswLDMsN10sWzIsMSw1XSxbMywyLDZdLFswLDQsNV1dLm1hcCgoZnVuY3Rpb24oZSl7dmFyIGk9dC5zdWIoW10sYVtlWzBdXSxhW2VbMV1dKSxvPXQuc3ViKFtdLGFbZVsyXV0sYVtlWzFdXSkscj10Lm5vcm1hbGl6ZShbXSx0LmNyb3NzKFtdLGksbykpLG49LXQuZG90KHIsYVtlWzFdXSk7cmV0dXJuIHIuY29uY2F0KG4pfSkpO3JldHVybiBuZXcgdm8oYSxuKX07dmFyIHlvPWZ1bmN0aW9uKGUsaSl7dGhpcy5taW49ZSx0aGlzLm1heD1pLHRoaXMuY2VudGVyPXQuc2NhbGUkMihbXSx0LmFkZChbXSx0aGlzLm1pbix0aGlzLm1heCksLjUpO307eW8ucHJvdG90eXBlLnF1YWRyYW50PWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1bZSUyPT0wLGU8Ml0sbz10LmNsb25lJDIodGhpcy5taW4pLHI9dC5jbG9uZSQyKHRoaXMubWF4KSxhPTA7YTxpLmxlbmd0aDthKyspb1thXT1pW2FdP3RoaXMubWluW2FdOnRoaXMuY2VudGVyW2FdLHJbYV09aVthXT90aGlzLmNlbnRlclthXTp0aGlzLm1heFthXTtyZXR1cm4gclsyXT10aGlzLm1heFsyXSxuZXcgeW8obyxyKX0seW8ucHJvdG90eXBlLmRpc3RhbmNlWD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMF0sdFswXSksdGhpcy5taW5bMF0pLXRbMF19LHlvLnByb3RvdHlwZS5kaXN0YW5jZVk9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzFdLHRbMV0pLHRoaXMubWluWzFdKS10WzFdfSx5by5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihlKXtmb3IodmFyIGk9W1t0aGlzLm1pblswXSx0aGlzLm1pblsxXSwwLDFdLFt0aGlzLm1heFswXSx0aGlzLm1pblsxXSwwLDFdLFt0aGlzLm1heFswXSx0aGlzLm1heFsxXSwwLDFdLFt0aGlzLm1pblswXSx0aGlzLm1heFsxXSwwLDFdXSxvPSEwLHI9MDtyPGUucGxhbmVzLmxlbmd0aDtyKyspe2Zvcih2YXIgYT1lLnBsYW5lc1tyXSxuPTAscz0wO3M8aS5sZW5ndGg7cysrKW4rPXQuZG90JDEoYSxpW3NdKT49MDtpZigwPT09bilyZXR1cm4gMDtuIT09aS5sZW5ndGgmJihvPSExKTt9aWYobylyZXR1cm4gMjtmb3IodmFyIGw9MDtsPDM7bCsrKXtmb3IodmFyIGM9TnVtYmVyLk1BWF9WQUxVRSx1PS1OdW1iZXIuTUFYX1ZBTFVFLGg9MDtoPGUucG9pbnRzLmxlbmd0aDtoKyspe3ZhciBwPWUucG9pbnRzW2hdW2xdLXRoaXMubWluW2xdO2M9TWF0aC5taW4oYyxwKSx1PU1hdGgubWF4KHUscCk7fWlmKHU8MHx8Yz50aGlzLm1heFtsXS10aGlzLm1pbltsXSlyZXR1cm4gMH1yZXR1cm4gMX07dmFyIHhvPWZ1bmN0aW9uKHQsZSxpLG8pe2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PW8mJihvPTApLGlzTmFOKHQpfHx0PDB8fGlzTmFOKGUpfHxlPDB8fGlzTmFOKGkpfHxpPDB8fGlzTmFOKG8pfHxvPDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhbHVlIGZvciBlZGdlLWluc2V0cywgdG9wLCBib3R0b20sIGxlZnQgYW5kIHJpZ2h0IG11c3QgYWxsIGJlIG51bWJlcnMiKTt0aGlzLnRvcD10LHRoaXMuYm90dG9tPWUsdGhpcy5sZWZ0PWksdGhpcy5yaWdodD1vO307eG8ucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gbnVsbCE9aS50b3AmJm51bGwhPWUudG9wJiYodGhpcy50b3A9dC5udW1iZXIoZS50b3AsaS50b3AsbykpLG51bGwhPWkuYm90dG9tJiZudWxsIT1lLmJvdHRvbSYmKHRoaXMuYm90dG9tPXQubnVtYmVyKGUuYm90dG9tLGkuYm90dG9tLG8pKSxudWxsIT1pLmxlZnQmJm51bGwhPWUubGVmdCYmKHRoaXMubGVmdD10Lm51bWJlcihlLmxlZnQsaS5sZWZ0LG8pKSxudWxsIT1pLnJpZ2h0JiZudWxsIT1lLnJpZ2h0JiYodGhpcy5yaWdodD10Lm51bWJlcihlLnJpZ2h0LGkucmlnaHQsbykpLHRoaXN9LHhvLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oZSxpKXt2YXIgbz10LmNsYW1wKCh0aGlzLmxlZnQrZS10aGlzLnJpZ2h0KS8yLDAsZSkscj10LmNsYW1wKCh0aGlzLnRvcCtpLXRoaXMuYm90dG9tKS8yLDAsaSk7cmV0dXJuIG5ldyB0LlBvaW50KG8scil9LHhvLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudG9wPT09dC50b3AmJnRoaXMuYm90dG9tPT09dC5ib3R0b20mJnRoaXMubGVmdD09PXQubGVmdCYmdGhpcy5yaWdodD09PXQucmlnaHR9LHhvLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgeG8odGhpcy50b3AsdGhpcy5ib3R0b20sdGhpcy5sZWZ0LHRoaXMucmlnaHQpfSx4by5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHt0b3A6dGhpcy50b3AsYm90dG9tOnRoaXMuYm90dG9tLGxlZnQ6dGhpcy5sZWZ0LHJpZ2h0OnRoaXMucmlnaHR9fTt2YXIgYm89ZnVuY3Rpb24oZSxpLG8scixhKXt0aGlzLnRpbGVTaXplPTUxMix0aGlzLm1heFZhbGlkTGF0aXR1ZGU9ODUuMDUxMTI5LHRoaXMuX3JlbmRlcldvcmxkQ29waWVzPXZvaWQgMD09PWF8fGEsdGhpcy5fbWluWm9vbT1lfHwwLHRoaXMuX21heFpvb209aXx8MjIsdGhpcy5fbWluUGl0Y2g9bnVsbD09bz8wOm8sdGhpcy5fbWF4UGl0Y2g9bnVsbD09cj82MDpyLHRoaXMuc2V0TWF4Qm91bmRzKCksdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fY2VudGVyPW5ldyB0LkxuZ0xhdCgwLDApLHRoaXMuem9vbT0wLHRoaXMuYW5nbGU9MCx0aGlzLl9mb3Y9LjY0MzUwMTEwODc5MzI4NDQsdGhpcy5fcGl0Y2g9MCx0aGlzLl91bm1vZGlmaWVkPSEwLHRoaXMuX2VkZ2VJbnNldHM9bmV3IHhvLHRoaXMuX3Bvc01hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZT17fTt9LHdvPXttaW5ab29tOntjb25maWd1cmFibGU6ITB9LG1heFpvb206e2NvbmZpZ3VyYWJsZTohMH0sbWluUGl0Y2g6e2NvbmZpZ3VyYWJsZTohMH0sbWF4UGl0Y2g6e2NvbmZpZ3VyYWJsZTohMH0scmVuZGVyV29ybGRDb3BpZXM6e2NvbmZpZ3VyYWJsZTohMH0sd29ybGRTaXplOntjb25maWd1cmFibGU6ITB9LGNlbnRlck9mZnNldDp7Y29uZmlndXJhYmxlOiEwfSxzaXplOntjb25maWd1cmFibGU6ITB9LGJlYXJpbmc6e2NvbmZpZ3VyYWJsZTohMH0scGl0Y2g6e2NvbmZpZ3VyYWJsZTohMH0sZm92Ontjb25maWd1cmFibGU6ITB9LHpvb206e2NvbmZpZ3VyYWJsZTohMH0sY2VudGVyOntjb25maWd1cmFibGU6ITB9LHBhZGRpbmc6e2NvbmZpZ3VyYWJsZTohMH0sY2VudGVyUG9pbnQ6e2NvbmZpZ3VyYWJsZTohMH0sdW5tb2RpZmllZDp7Y29uZmlndXJhYmxlOiEwfSxwb2ludDp7Y29uZmlndXJhYmxlOiEwfX07Ym8ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGJvKHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSx0aGlzLl9taW5QaXRjaCx0aGlzLm1heFBpdGNoLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKTtyZXR1cm4gdC50aWxlU2l6ZT10aGlzLnRpbGVTaXplLHQubGF0UmFuZ2U9dGhpcy5sYXRSYW5nZSx0LndpZHRoPXRoaXMud2lkdGgsdC5oZWlnaHQ9dGhpcy5oZWlnaHQsdC5fY2VudGVyPXRoaXMuX2NlbnRlcix0Lnpvb209dGhpcy56b29tLHQuYW5nbGU9dGhpcy5hbmdsZSx0Ll9mb3Y9dGhpcy5fZm92LHQuX3BpdGNoPXRoaXMuX3BpdGNoLHQuX3VubW9kaWZpZWQ9dGhpcy5fdW5tb2RpZmllZCx0Ll9lZGdlSW5zZXRzPXRoaXMuX2VkZ2VJbnNldHMuY2xvbmUoKSx0Ll9jYWxjTWF0cmljZXMoKSx0fSx3by5taW5ab29tLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5ab29tfSx3by5taW5ab29tLnNldD1mdW5jdGlvbih0KXt0aGlzLl9taW5ab29tIT09dCYmKHRoaXMuX21pblpvb209dCx0aGlzLnpvb209TWF0aC5tYXgodGhpcy56b29tLHQpKTt9LHdvLm1heFpvb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFpvb219LHdvLm1heFpvb20uc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX21heFpvb20hPT10JiYodGhpcy5fbWF4Wm9vbT10LHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sdCkpO30sd28ubWluUGl0Y2guZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pblBpdGNofSx3by5taW5QaXRjaC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fbWluUGl0Y2ghPT10JiYodGhpcy5fbWluUGl0Y2g9dCx0aGlzLnBpdGNoPU1hdGgubWF4KHRoaXMucGl0Y2gsdCkpO30sd28ubWF4UGl0Y2guZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofSx3by5tYXhQaXRjaC5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fbWF4UGl0Y2ghPT10JiYodGhpcy5fbWF4UGl0Y2g9dCx0aGlzLnBpdGNoPU1hdGgubWluKHRoaXMucGl0Y2gsdCkpO30sd28ucmVuZGVyV29ybGRDb3BpZXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzfSx3by5yZW5kZXJXb3JsZENvcGllcy5zZXQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09dD90PSEwOm51bGw9PT10JiYodD0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9dDt9LHdvLndvcmxkU2l6ZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWxlU2l6ZSp0aGlzLnNjYWxlfSx3by5jZW50ZXJPZmZzZXQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuX3N1Yih0aGlzLnNpemUuX2RpdigyKSl9LHdvLnNpemUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LlBvaW50KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSx3by5iZWFyaW5nLmdldD1mdW5jdGlvbigpe3JldHVybiAtdGhpcy5hbmdsZS9NYXRoLlBJKjE4MH0sd28uYmVhcmluZy5zZXQ9ZnVuY3Rpb24oZSl7dmFyIGk9LXQud3JhcChlLC0xODAsMTgwKSpNYXRoLlBJLzE4MDt0aGlzLmFuZ2xlIT09aSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5hbmdsZT1pLHRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMucm90YXRpb25NYXRyaXg9dC5jcmVhdGUkMigpLHQucm90YXRlKHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLmFuZ2xlKSk7fSx3by5waXRjaC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl0Y2gvTWF0aC5QSSoxODB9LHdvLnBpdGNoLnNldD1mdW5jdGlvbihlKXt2YXIgaT10LmNsYW1wKGUsdGhpcy5taW5QaXRjaCx0aGlzLm1heFBpdGNoKS8xODAqTWF0aC5QSTt0aGlzLl9waXRjaCE9PWkmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3BpdGNoPWksdGhpcy5fY2FsY01hdHJpY2VzKCkpO30sd28uZm92LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3YvTWF0aC5QSSoxODB9LHdvLmZvdi5zZXQ9ZnVuY3Rpb24odCl7dD1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsdCkpLHRoaXMuX2ZvdiE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj10LzE4MCpNYXRoLlBJLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LHdvLnpvb20uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pvb219LHdvLnpvb20uc2V0PWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgubWluKE1hdGgubWF4KHQsdGhpcy5taW5ab29tKSx0aGlzLm1heFpvb20pO3RoaXMuX3pvb20hPT1lJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl96b29tPWUsdGhpcy5zY2FsZT10aGlzLnpvb21TY2FsZShlKSx0aGlzLnRpbGVab29tPU1hdGguZmxvb3IoZSksdGhpcy56b29tRnJhY3Rpb249ZS10aGlzLnRpbGVab29tLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9LHdvLmNlbnRlci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2VudGVyfSx3by5jZW50ZXIuc2V0PWZ1bmN0aW9uKHQpe3QubGF0PT09dGhpcy5fY2VudGVyLmxhdCYmdC5sbmc9PT10aGlzLl9jZW50ZXIubG5nfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jZW50ZXI9dCx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fSx3by5wYWRkaW5nLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLnRvSlNPTigpfSx3by5wYWRkaW5nLnNldD1mdW5jdGlvbih0KXt0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyh0KXx8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZSh0aGlzLl9lZGdlSW5zZXRzLHQsMSksdGhpcy5fY2FsY01hdHJpY2VzKCkpO30sd28uY2VudGVyUG9pbnQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZ2V0Q2VudGVyKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxiby5wcm90b3R5cGUuaXNQYWRkaW5nRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKHQpfSxiby5wcm90b3R5cGUuaW50ZXJwb2xhdGVQYWRkaW5nPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2VkZ2VJbnNldHMuaW50ZXJwb2xhdGUodCxlLGkpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO30sYm8ucHJvdG90eXBlLmNvdmVyaW5nWm9vbUxldmVsPWZ1bmN0aW9uKHQpe3ZhciBlPSh0LnJvdW5kWm9vbT9NYXRoLnJvdW5kOk1hdGguZmxvb3IpKHRoaXMuem9vbSt0aGlzLnNjYWxlWm9vbSh0aGlzLnRpbGVTaXplL3QudGlsZVNpemUpKTtyZXR1cm4gTWF0aC5tYXgoMCxlKX0sYm8ucHJvdG90eXBlLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcz1mdW5jdGlvbihlKXt2YXIgaT1bbmV3IHQuVW53cmFwcGVkVGlsZUlEKDAsZSldO2lmKHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKWZvcih2YXIgbz10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgdC5Qb2ludCgwLDApKSxyPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB0LlBvaW50KHRoaXMud2lkdGgsMCkpLGE9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLG49dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQoMCx0aGlzLmhlaWdodCkpLHM9TWF0aC5mbG9vcihNYXRoLm1pbihvLngsci54LGEueCxuLngpKSxsPU1hdGguZmxvb3IoTWF0aC5tYXgoby54LHIueCxhLngsbi54KSksYz1zLTE7Yzw9bCsxO2MrKykwIT09YyYmaS5wdXNoKG5ldyB0LlVud3JhcHBlZFRpbGVJRChjLGUpKTtyZXR1cm4gaX0sYm8ucHJvdG90eXBlLmNvdmVyaW5nVGlsZXM9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5jb3ZlcmluZ1pvb21MZXZlbChlKSxvPWk7aWYodm9pZCAwIT09ZS5taW56b29tJiZpPGUubWluem9vbSlyZXR1cm4gW107dm9pZCAwIT09ZS5tYXh6b29tJiZpPmUubWF4em9vbSYmKGk9ZS5tYXh6b29tKTt2YXIgcj10Lk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHRoaXMuY2VudGVyKSxhPU1hdGgucG93KDIsaSksbj1bYSpyLngsYSpyLnksMF0scz12by5mcm9tSW52UHJvamVjdGlvbk1hdHJpeCh0aGlzLmludlByb2pNYXRyaXgsdGhpcy53b3JsZFNpemUsaSksbD1lLm1pbnpvb218fDA7dGhpcy5waXRjaDw9NjAmJnRoaXMuX2VkZ2VJbnNldHMudG9wPC4xJiYobD1pKTt2YXIgYz1mdW5jdGlvbih0KXtyZXR1cm4ge2FhYmI6bmV3IHlvKFt0KmEsMCwwXSxbKHQrMSkqYSxhLDBdKSx6b29tOjAseDowLHk6MCx3cmFwOnQsZnVsbHlWaXNpYmxlOiExfX0sdT1bXSxoPVtdLHA9aSxkPWUucmVwYXJzZU92ZXJzY2FsZWQ/bzppO2lmKHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKWZvcih2YXIgXz0xO188PTM7XysrKXUucHVzaChjKC1fKSksdS5wdXNoKGMoXykpO2Zvcih1LnB1c2goYygwKSk7dS5sZW5ndGg+MDspe3ZhciBmPXUucG9wKCksbT1mLngsZz1mLnksdj1mLmZ1bGx5VmlzaWJsZTtpZighdil7dmFyIHk9Zi5hYWJiLmludGVyc2VjdHMocyk7aWYoMD09PXkpY29udGludWU7dj0yPT09eTt9dmFyIHg9Zi5hYWJiLmRpc3RhbmNlWChuKSxiPWYuYWFiYi5kaXN0YW5jZVkobiksdz1NYXRoLm1heChNYXRoLmFicyh4KSxNYXRoLmFicyhiKSk7aWYoZi56b29tPT09cHx8dz4zKygxPDxwLWYuem9vbSktMiYmZi56b29tPj1sKWgucHVzaCh7dGlsZUlEOm5ldyB0Lk92ZXJzY2FsZWRUaWxlSUQoZi56b29tPT09cD9kOmYuem9vbSxmLndyYXAsZi56b29tLG0sZyksZGlzdGFuY2VTcTp0LnNxckxlbihbblswXS0uNS1tLG5bMV0tLjUtZ10pfSk7ZWxzZSBmb3IodmFyIEU9MDtFPDQ7RSsrKXt2YXIgVD0obTw8MSkrRSUyLEk9KGc8PDEpKyhFPj4xKTt1LnB1c2goe2FhYmI6Zi5hYWJiLnF1YWRyYW50KEUpLHpvb206Zi56b29tKzEseDpULHk6SSx3cmFwOmYud3JhcCxmdWxseVZpc2libGU6dn0pO319cmV0dXJuIGguc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kaXN0YW5jZVNxLWUuZGlzdGFuY2VTcX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbGVJRH0pKX0sYm8ucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMucGl4ZWxzVG9HTFVuaXRzPVsyL3QsLTIvZV0sdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fSx3by51bm1vZGlmaWVkLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bm1vZGlmaWVkfSxiby5wcm90b3R5cGUuem9vbVNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLHQpfSxiby5wcm90b3R5cGUuc2NhbGVab29tPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmxvZyh0KS9NYXRoLkxOMn0sYm8ucHJvdG90eXBlLnByb2plY3Q9ZnVuY3Rpb24oZSl7dmFyIGk9dC5jbGFtcChlLmxhdCwtdGhpcy5tYXhWYWxpZExhdGl0dWRlLHRoaXMubWF4VmFsaWRMYXRpdHVkZSk7cmV0dXJuIG5ldyB0LlBvaW50KHQubWVyY2F0b3JYZnJvbUxuZyhlLmxuZykqdGhpcy53b3JsZFNpemUsdC5tZXJjYXRvcllmcm9tTGF0KGkpKnRoaXMud29ybGRTaXplKX0sYm8ucHJvdG90eXBlLnVucHJvamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQuTWVyY2F0b3JDb29yZGluYXRlKGUueC90aGlzLndvcmxkU2l6ZSxlLnkvdGhpcy53b3JsZFNpemUpLnRvTG5nTGF0KCl9LHdvLnBvaW50LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb2plY3QodGhpcy5jZW50ZXIpfSxiby5wcm90b3R5cGUuc2V0TG9jYXRpb25BdFBvaW50PWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpcy5wb2ludENvb3JkaW5hdGUoaSkscj10aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmNlbnRlclBvaW50KSxhPXRoaXMubG9jYXRpb25Db29yZGluYXRlKGUpLG49bmV3IHQuTWVyY2F0b3JDb29yZGluYXRlKGEueC0oby54LXIueCksYS55LShvLnktci55KSk7dGhpcy5jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24obiksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpO30sYm8ucHJvdG90eXBlLmxvY2F0aW9uUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZVBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKHQpKX0sYm8ucHJvdG90eXBlLnBvaW50TG9jYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMucG9pbnRDb29yZGluYXRlKHQpKX0sYm8ucHJvdG90eXBlLmxvY2F0aW9uQ29vcmRpbmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChlKX0sYm8ucHJvdG90eXBlLmNvb3JkaW5hdGVMb2NhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdC50b0xuZ0xhdCgpfSxiby5wcm90b3R5cGUucG9pbnRDb29yZGluYXRlPWZ1bmN0aW9uKGUpe3ZhciBpPVtlLngsZS55LDAsMV0sbz1bZS54LGUueSwxLDFdO3QudHJhbnNmb3JtTWF0NChpLGksdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLHQudHJhbnNmb3JtTWF0NChvLG8sdGhpcy5waXhlbE1hdHJpeEludmVyc2UpO3ZhciByPWlbM10sYT1vWzNdLG49aVsxXS9yLHM9b1sxXS9hLGw9aVsyXS9yLGM9b1syXS9hLHU9bD09PWM/MDooMC1sKS8oYy1sKTtyZXR1cm4gbmV3IHQuTWVyY2F0b3JDb29yZGluYXRlKHQubnVtYmVyKGlbMF0vcixvWzBdL2EsdSkvdGhpcy53b3JsZFNpemUsdC5udW1iZXIobixzLHUpL3RoaXMud29ybGRTaXplKX0sYm8ucHJvdG90eXBlLmNvb3JkaW5hdGVQb2ludD1mdW5jdGlvbihlKXt2YXIgaT1bZS54KnRoaXMud29ybGRTaXplLGUueSp0aGlzLndvcmxkU2l6ZSwwLDFdO3JldHVybiB0LnRyYW5zZm9ybU1hdDQoaSxpLHRoaXMucGl4ZWxNYXRyaXgpLG5ldyB0LlBvaW50KGlbMF0vaVszXSxpWzFdL2lbM10pfSxiby5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIChuZXcgdC5MbmdMYXRCb3VuZHMpLmV4dGVuZCh0aGlzLnBvaW50TG9jYXRpb24obmV3IHQuUG9pbnQoMCwwKSkpLmV4dGVuZCh0aGlzLnBvaW50TG9jYXRpb24obmV3IHQuUG9pbnQodGhpcy53aWR0aCwwKSkpLmV4dGVuZCh0aGlzLnBvaW50TG9jYXRpb24obmV3IHQuUG9pbnQodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpKS5leHRlbmQodGhpcy5wb2ludExvY2F0aW9uKG5ldyB0LlBvaW50KDAsdGhpcy5oZWlnaHQpKSl9LGJvLnByb3RvdHlwZS5nZXRNYXhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXRSYW5nZSYmMj09PXRoaXMubGF0UmFuZ2UubGVuZ3RoJiZ0aGlzLmxuZ1JhbmdlJiYyPT09dGhpcy5sbmdSYW5nZS5sZW5ndGg/bmV3IHQuTG5nTGF0Qm91bmRzKFt0aGlzLmxuZ1JhbmdlWzBdLHRoaXMubGF0UmFuZ2VbMF1dLFt0aGlzLmxuZ1JhbmdlWzFdLHRoaXMubGF0UmFuZ2VbMV1dKTpudWxsfSxiby5wcm90b3R5cGUuc2V0TWF4Qm91bmRzPWZ1bmN0aW9uKHQpe3Q/KHRoaXMubG5nUmFuZ2U9W3QuZ2V0V2VzdCgpLHQuZ2V0RWFzdCgpXSx0aGlzLmxhdFJhbmdlPVt0LmdldFNvdXRoKCksdC5nZXROb3J0aCgpXSx0aGlzLl9jb25zdHJhaW4oKSk6KHRoaXMubG5nUmFuZ2U9bnVsbCx0aGlzLmxhdFJhbmdlPVstdGhpcy5tYXhWYWxpZExhdGl0dWRlLHRoaXMubWF4VmFsaWRMYXRpdHVkZV0pO30sYm8ucHJvdG90eXBlLmNhbGN1bGF0ZVBvc01hdHJpeD1mdW5jdGlvbihlLGkpe3ZvaWQgMD09PWkmJihpPSExKTt2YXIgbz1lLmtleSxyPWk/dGhpcy5fYWxpZ25lZFBvc01hdHJpeENhY2hlOnRoaXMuX3Bvc01hdHJpeENhY2hlO2lmKHJbb10pcmV0dXJuIHJbb107dmFyIGE9ZS5jYW5vbmljYWwsbj10aGlzLndvcmxkU2l6ZS90aGlzLnpvb21TY2FsZShhLnopLHM9YS54K01hdGgucG93KDIsYS56KSplLndyYXAsbD10LmlkZW50aXR5KG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gdC50cmFuc2xhdGUobCxsLFtzKm4sYS55Km4sMF0pLHQuc2NhbGUobCxsLFtuL3QuRVhURU5ULG4vdC5FWFRFTlQsMV0pLHQubXVsdGlwbHkobCxpP3RoaXMuYWxpZ25lZFByb2pNYXRyaXg6dGhpcy5wcm9qTWF0cml4LGwpLHJbb109bmV3IEZsb2F0MzJBcnJheShsKSxyW29dfSxiby5wcm90b3R5cGUuY3VzdG9tTGF5ZXJNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXJjYXRvck1hdHJpeC5zbGljZSgpfSxiby5wcm90b3R5cGUuX2NvbnN0cmFpbj1mdW5jdGlvbigpe2lmKHRoaXMuY2VudGVyJiZ0aGlzLndpZHRoJiZ0aGlzLmhlaWdodCYmIXRoaXMuX2NvbnN0cmFpbmluZyl7dGhpcy5fY29uc3RyYWluaW5nPSEwO3ZhciBlLGksbyxyLGE9LTkwLG49OTAscz0tMTgwLGw9MTgwLGM9dGhpcy5zaXplLHU9dGhpcy5fdW5tb2RpZmllZDtpZih0aGlzLmxhdFJhbmdlKXt2YXIgaD10aGlzLmxhdFJhbmdlO2E9dC5tZXJjYXRvcllmcm9tTGF0KGhbMV0pKnRoaXMud29ybGRTaXplLGU9KG49dC5tZXJjYXRvcllmcm9tTGF0KGhbMF0pKnRoaXMud29ybGRTaXplKS1hPGMueT9jLnkvKG4tYSk6MDt9aWYodGhpcy5sbmdSYW5nZSl7dmFyIHA9dGhpcy5sbmdSYW5nZTtzPXQubWVyY2F0b3JYZnJvbUxuZyhwWzBdKSp0aGlzLndvcmxkU2l6ZSxpPShsPXQubWVyY2F0b3JYZnJvbUxuZyhwWzFdKSp0aGlzLndvcmxkU2l6ZSktczxjLng/Yy54LyhsLXMpOjA7fXZhciBkPXRoaXMucG9pbnQsXz1NYXRoLm1heChpfHwwLGV8fDApO2lmKF8pcmV0dXJuIHRoaXMuY2VudGVyPXRoaXMudW5wcm9qZWN0KG5ldyB0LlBvaW50KGk/KGwrcykvMjpkLngsZT8obithKS8yOmQueSkpLHRoaXMuem9vbSs9dGhpcy5zY2FsZVpvb20oXyksdGhpcy5fdW5tb2RpZmllZD11LHZvaWQodGhpcy5fY29uc3RyYWluaW5nPSExKTtpZih0aGlzLmxhdFJhbmdlKXt2YXIgZj1kLnksbT1jLnkvMjtmLW08YSYmKHI9YSttKSxmK20+biYmKHI9bi1tKTt9aWYodGhpcy5sbmdSYW5nZSl7dmFyIGc9ZC54LHY9Yy54LzI7Zy12PHMmJihvPXMrdiksZyt2PmwmJihvPWwtdik7fXZvaWQgMD09PW8mJnZvaWQgMD09PXJ8fCh0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgdC5Qb2ludCh2b2lkIDAhPT1vP286ZC54LHZvaWQgMCE9PXI/cjpkLnkpKSksdGhpcy5fdW5tb2RpZmllZD11LHRoaXMuX2NvbnN0cmFpbmluZz0hMTt9fSxiby5wcm90b3R5cGUuX2NhbGNNYXRyaWNlcz1mdW5jdGlvbigpe2lmKHRoaXMuaGVpZ2h0KXt2YXIgZT10aGlzLmNlbnRlck9mZnNldDt0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U9LjUvTWF0aC50YW4odGhpcy5fZm92LzIpKnRoaXMuaGVpZ2h0O3ZhciBpPU1hdGguUEkvMit0aGlzLl9waXRjaCxvPXRoaXMuX2ZvdiooLjUrZS55L3RoaXMuaGVpZ2h0KSxyPU1hdGguc2luKG8pKnRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9NYXRoLnNpbih0LmNsYW1wKE1hdGguUEktaS1vLC4wMSxNYXRoLlBJLS4wMSkpLGE9dGhpcy5wb2ludCxuPWEueCxzPWEueSxsPTEuMDEqKE1hdGguY29zKE1hdGguUEkvMi10aGlzLl9waXRjaCkqcit0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UpLGM9dGhpcy5oZWlnaHQvNTAsdT1uZXcgRmxvYXQ2NEFycmF5KDE2KTt0LnBlcnNwZWN0aXZlKHUsdGhpcy5fZm92LHRoaXMud2lkdGgvdGhpcy5oZWlnaHQsYyxsKSx1WzhdPTIqLWUueC90aGlzLndpZHRoLHVbOV09MiplLnkvdGhpcy5oZWlnaHQsdC5zY2FsZSh1LHUsWzEsLTEsMV0pLHQudHJhbnNsYXRlKHUsdSxbMCwwLC10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2VdKSx0LnJvdGF0ZVgodSx1LHRoaXMuX3BpdGNoKSx0LnJvdGF0ZVoodSx1LHRoaXMuYW5nbGUpLHQudHJhbnNsYXRlKHUsdSxbLW4sLXMsMF0pLHRoaXMubWVyY2F0b3JNYXRyaXg9dC5zY2FsZShbXSx1LFt0aGlzLndvcmxkU2l6ZSx0aGlzLndvcmxkU2l6ZSx0aGlzLndvcmxkU2l6ZV0pLHQuc2NhbGUodSx1LFsxLDEsdC5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLDFdKSx0aGlzLnByb2pNYXRyaXg9dSx0aGlzLmludlByb2pNYXRyaXg9dC5pbnZlcnQoW10sdGhpcy5wcm9qTWF0cml4KTt2YXIgaD10aGlzLndpZHRoJTIvMixwPXRoaXMuaGVpZ2h0JTIvMixkPU1hdGguY29zKHRoaXMuYW5nbGUpLF89TWF0aC5zaW4odGhpcy5hbmdsZSksZj1uLU1hdGgucm91bmQobikrZCpoK18qcCxtPXMtTWF0aC5yb3VuZChzKStkKnArXypoLGc9bmV3IEZsb2F0NjRBcnJheSh1KTtpZih0LnRyYW5zbGF0ZShnLGcsW2Y+LjU/Zi0xOmYsbT4uNT9tLTE6bSwwXSksdGhpcy5hbGlnbmVkUHJvak1hdHJpeD1nLHU9dC5jcmVhdGUoKSx0LnNjYWxlKHUsdSxbdGhpcy53aWR0aC8yLC10aGlzLmhlaWdodC8yLDFdKSx0LnRyYW5zbGF0ZSh1LHUsWzEsLTEsMF0pLHRoaXMubGFiZWxQbGFuZU1hdHJpeD11LHU9dC5jcmVhdGUoKSx0LnNjYWxlKHUsdSxbMSwtMSwxXSksdC50cmFuc2xhdGUodSx1LFstMSwtMSwwXSksdC5zY2FsZSh1LHUsWzIvdGhpcy53aWR0aCwyL3RoaXMuaGVpZ2h0LDFdKSx0aGlzLmdsQ29vcmRNYXRyaXg9dSx0aGlzLnBpeGVsTWF0cml4PXQubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5sYWJlbFBsYW5lTWF0cml4LHRoaXMucHJvak1hdHJpeCksISh1PXQuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucGl4ZWxNYXRyaXgpKSl0aHJvdyBuZXcgRXJyb3IoImZhaWxlZCB0byBpbnZlcnQgbWF0cml4Iik7dGhpcy5waXhlbE1hdHJpeEludmVyc2U9dSx0aGlzLl9wb3NNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGU9e307fX0sYm8ucHJvdG90eXBlLm1heFBpdGNoU2NhbGVGYWN0b3I9ZnVuY3Rpb24oKXtpZighdGhpcy5waXhlbE1hdHJpeEludmVyc2UpcmV0dXJuIDE7dmFyIGU9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHQuUG9pbnQoMCwwKSksaT1bZS54KnRoaXMud29ybGRTaXplLGUueSp0aGlzLndvcmxkU2l6ZSwwLDFdO3JldHVybiB0LnRyYW5zZm9ybU1hdDQoaSxpLHRoaXMucGl4ZWxNYXRyaXgpWzNdL3RoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZX0sYm8ucHJvdG90eXBlLmdldENhbWVyYVBvaW50PWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC50YW4odGhpcy5fcGl0Y2gpKih0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2V8fDEpO3JldHVybiB0aGlzLmNlbnRlclBvaW50LmFkZChuZXcgdC5Qb2ludCgwLGUpKX0sYm8ucHJvdG90eXBlLmdldENhbWVyYVF1ZXJ5R2VvbWV0cnk9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5nZXRDYW1lcmFQb2ludCgpO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gW2VbMF0saV07Zm9yKHZhciBvPWkueCxyPWkueSxhPWkueCxuPWkueSxzPTAsbD1lO3M8bC5sZW5ndGg7cys9MSl7dmFyIGM9bFtzXTtvPU1hdGgubWluKG8sYy54KSxyPU1hdGgubWluKHIsYy55KSxhPU1hdGgubWF4KGEsYy54KSxuPU1hdGgubWF4KG4sYy55KTt9cmV0dXJuIFtuZXcgdC5Qb2ludChvLHIpLG5ldyB0LlBvaW50KGEsciksbmV3IHQuUG9pbnQoYSxuKSxuZXcgdC5Qb2ludChvLG4pLG5ldyB0LlBvaW50KG8scildfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhiby5wcm90b3R5cGUsd28pO3ZhciBFbz1mdW5jdGlvbihlKXt2YXIgaSxvLHIsYTt0aGlzLl9oYXNoTmFtZT1lJiZlbmNvZGVVUklDb21wb25lbnQoZSksdC5iaW5kQWxsKFsiX2dldEN1cnJlbnRIYXNoIiwiX29uSGFzaENoYW5nZSIsIl91cGRhdGVIYXNoIl0sdGhpcyksdGhpcy5fdXBkYXRlSGFzaD0oaT10aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSxvPSExLHI9bnVsbCxhPWZ1bmN0aW9uKCl7cj1udWxsLG8mJihpKCkscj1zZXRUaW1lb3V0KGEsMzAwKSxvPSExKTt9LGZ1bmN0aW9uKCl7cmV0dXJuIG89ITAscnx8YSgpLHJ9KTt9O0VvLnByb3RvdHlwZS5hZGRUbz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSx0aGlzLl9tYXAub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZUhhc2gpLHRoaXN9LEVvLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSx0aGlzLl9tYXAub2ZmKCJtb3ZlZW5kIix0aGlzLl91cGRhdGVIYXNoKSxjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlSGFzaCgpKSxkZWxldGUgdGhpcy5fbWFwLHRoaXN9LEVvLnByb3RvdHlwZS5nZXRIYXNoU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX21hcC5nZXRDZW50ZXIoKSxvPU1hdGgucm91bmQoMTAwKnRoaXMuX21hcC5nZXRab29tKCkpLzEwMCxyPU1hdGguY2VpbCgobypNYXRoLkxOMitNYXRoLmxvZyg1MTIvMzYwLy41KSkvTWF0aC5MTjEwKSxhPU1hdGgucG93KDEwLHIpLG49TWF0aC5yb3VuZChpLmxuZyphKS9hLHM9TWF0aC5yb3VuZChpLmxhdCphKS9hLGw9dGhpcy5fbWFwLmdldEJlYXJpbmcoKSxjPXRoaXMuX21hcC5nZXRQaXRjaCgpLHU9IiI7aWYodSs9ZT8iLyIrbisiLyIrcysiLyIrbzpvKyIvIitzKyIvIituLChsfHxjKSYmKHUrPSIvIitNYXRoLnJvdW5kKDEwKmwpLzEwKSxjJiYodSs9Ii8iK01hdGgucm91bmQoYykpLHRoaXMuX2hhc2hOYW1lKXt2YXIgaD10aGlzLl9oYXNoTmFtZSxwPSExLGQ9dC53aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKS5zcGxpdCgiJiIpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdCgiPSIpWzBdO3JldHVybiBlPT09aD8ocD0hMCxlKyI9Iit1KTp0fSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSk7cmV0dXJuIHB8fGQucHVzaChoKyI9Iit1KSwiIyIrZC5qb2luKCImIil9cmV0dXJuICIjIit1fSxFby5wcm90b3R5cGUuX2dldEN1cnJlbnRIYXNoPWZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLG89dC53aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCIjIiwiIik7cmV0dXJuIHRoaXMuX2hhc2hOYW1lPyhvLnNwbGl0KCImIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdCgiPSIpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3RbMF09PT1pLl9oYXNoTmFtZSYmKGU9dCk7fSkpLChlJiZlWzFdfHwiIikuc3BsaXQoIi8iKSk6by5zcGxpdCgiLyIpfSxFby5wcm90b3R5cGUuX29uSGFzaENoYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldEN1cnJlbnRIYXNoKCk7aWYodC5sZW5ndGg+PTMmJiF0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0KX0pKSl7dmFyIGU9dGhpcy5fbWFwLmRyYWdSb3RhdGUuaXNFbmFibGVkKCkmJnRoaXMuX21hcC50b3VjaFpvb21Sb3RhdGUuaXNFbmFibGVkKCk/Kyh0WzNdfHwwKTp0aGlzLl9tYXAuZ2V0QmVhcmluZygpO3JldHVybiB0aGlzLl9tYXAuanVtcFRvKHtjZW50ZXI6Wyt0WzJdLCt0WzFdXSx6b29tOit0WzBdLGJlYXJpbmc6ZSxwaXRjaDorKHRbNF18fDApfSksITB9cmV0dXJuICExfSxFby5wcm90b3R5cGUuX3VwZGF0ZUhhc2hVbnRocm90dGxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SGFzaFN0cmluZygpO3RyeXt0LndpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh0LndpbmRvdy5oaXN0b3J5LnN0YXRlLCIiLGUpO31jYXRjaCh0KXt9fTt2YXIgVG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhvLHIsYSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHM9aS5tb3VzZVBvcyhyLmdldENhbnZhc0NvbnRhaW5lcigpLGEpLGw9ci51bnByb2plY3Qocyk7ZS5jYWxsKHRoaXMsbyx0LmV4dGVuZCh7cG9pbnQ6cyxsbmdMYXQ6bCxvcmlnaW5hbEV2ZW50OmF9LG4pKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PXI7fWUmJihvLl9fcHJvdG9fXz1lKSwoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW87dmFyIHI9e2RlZmF1bHRQcmV2ZW50ZWQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBvLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fSxyLmRlZmF1bHRQcmV2ZW50ZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8ucHJvdG90eXBlLHIpLG99KHQuRXZlbnQpLElvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG8obyxyLGEpe3ZhciBuPWkudG91Y2hQb3Moci5nZXRDYW52YXNDb250YWluZXIoKSxhKSxzPW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gci51bnByb2plY3QodCl9KSksbD1uLnJlZHVjZSgoZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIHQuYWRkKGUuZGl2KG8ubGVuZ3RoKSl9KSxuZXcgdC5Qb2ludCgwLDApKSxjPXIudW5wcm9qZWN0KGwpO2UuY2FsbCh0aGlzLG8se3BvaW50czpuLHBvaW50OmwsbG5nTGF0czpzLGxuZ0xhdDpjLG9yaWdpbmFsRXZlbnQ6YX0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITE7fWUmJihvLl9fcHJvdG9fXz1lKSwoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW87dmFyIHI9e2RlZmF1bHRQcmV2ZW50ZWQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBvLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fSxyLmRlZmF1bHRQcmV2ZW50ZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8ucHJvdG90eXBlLHIpLG99KHQuRXZlbnQpLENvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG8pe3QuY2FsbCh0aGlzLGUse29yaWdpbmFsRXZlbnQ6b30pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITE7fXQmJihlLl9fcHJvdG9fXz10KSwoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWU7dmFyIGk9e2RlZmF1bHRQcmV2ZW50ZWQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fSxpLmRlZmF1bHRQcmV2ZW50ZWQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLGkpLGV9KHQuRXZlbnQpLFNvPWZ1bmN0aW9uKGUpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5fZGVsdGE9MCx0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9LjAxLHRoaXMuX3doZWVsWm9vbVJhdGU9MS80NTAsdC5iaW5kQWxsKFsiX29uV2hlZWwiLCJfb25UaW1lb3V0IiwiX29uU2Nyb2xsRnJhbWUiLCJfb25TY3JvbGxGaW5pc2hlZCJdLHRoaXMpO307U28ucHJvdG90eXBlLnNldFpvb21SYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRab29tUmF0ZT10O30sU28ucHJvdG90eXBlLnNldFdoZWVsWm9vbVJhdGU9ZnVuY3Rpb24odCl7dGhpcy5fd2hlZWxab29tUmF0ZT10O30sU28ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9LFNvLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX2FjdGl2ZX0sU28ucHJvdG90eXBlLmlzWm9vbWluZz1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3pvb21pbmd9LFNvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24odCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPXQmJiJjZW50ZXIiPT09dC5hcm91bmQpO30sU28ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxTby5wcm90b3R5cGUub25XaGVlbD1mdW5jdGlvbihlKXtpZih0aGlzLmlzRW5hYmxlZCgpKXt2YXIgaT1lLmRlbHRhTW9kZT09PXQud2luZG93LldoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkU/NDAqZS5kZWx0YVk6ZS5kZWx0YVksbz10LmJyb3dzZXIubm93KCkscj1vLSh0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWV8fDApO3RoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT1vLDAhPT1pJiZpJTQuMDAwMjQ0MTQwNjI1PT0wP3RoaXMuX3R5cGU9IndoZWVsIjowIT09aSYmTWF0aC5hYnMoaSk8ND90aGlzLl90eXBlPSJ0cmFja3BhZCI6cj40MDA/KHRoaXMuX3R5cGU9bnVsbCx0aGlzLl9sYXN0VmFsdWU9aSx0aGlzLl90aW1lb3V0PXNldFRpbWVvdXQodGhpcy5fb25UaW1lb3V0LDQwLGUpKTp0aGlzLl90eXBlfHwodGhpcy5fdHlwZT1NYXRoLmFicyhyKmkpPDIwMD8idHJhY2twYWQiOiJ3aGVlbCIsdGhpcy5fdGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0PW51bGwsaSs9dGhpcy5fbGFzdFZhbHVlKSksZS5zaGlmdEtleSYmaSYmKGkvPTQpLHRoaXMuX3R5cGUmJih0aGlzLl9sYXN0V2hlZWxFdmVudD1lLHRoaXMuX2RlbHRhLT1pLHRoaXMuaXNBY3RpdmUoKXx8dGhpcy5fc3RhcnQoZSkpLGUucHJldmVudERlZmF1bHQoKTt9fSxTby5wcm90b3R5cGUuX29uVGltZW91dD1mdW5jdGlvbih0KXt0aGlzLl90eXBlPSJ3aGVlbCIsdGhpcy5fZGVsdGEtPXRoaXMuX2xhc3RWYWx1ZSx0aGlzLmlzQWN0aXZlKCl8fHRoaXMuX3N0YXJ0KHQpO30sU28ucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbihlKXtpZih0aGlzLl9kZWx0YSl7dGhpcy5fZnJhbWVJZCYmKHRoaXMuX21hcC5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZnJhbWVJZCksdGhpcy5fZnJhbWVJZD1udWxsKSx0aGlzLl9hY3RpdmU9ITAsdGhpcy5pc1pvb21pbmcoKXx8KHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVzdGFydCIse29yaWdpbmFsRXZlbnQ6ZX0pKSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudCgiem9vbXN0YXJ0Iix7b3JpZ2luYWxFdmVudDplfSkpKSx0aGlzLl9maW5pc2hUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fZmluaXNoVGltZW91dCk7dmFyIG89aS5tb3VzZVBvcyh0aGlzLl9lbCxlKTt0aGlzLl9hcm91bmQ9dC5MbmdMYXQuY29udmVydCh0aGlzLl9hcm91bmRDZW50ZXI/dGhpcy5fbWFwLmdldENlbnRlcigpOnRoaXMuX21hcC51bnByb2plY3QobykpLHRoaXMuX2Fyb3VuZFBvaW50PXRoaXMuX21hcC50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludCh0aGlzLl9hcm91bmQpLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPXRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uU2Nyb2xsRnJhbWUpKTt9fSxTby5wcm90b3R5cGUuX29uU2Nyb2xsRnJhbWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX2ZyYW1lSWQ9bnVsbCx0aGlzLmlzQWN0aXZlKCkpe3ZhciBpPXRoaXMuX21hcC50cmFuc2Zvcm07aWYoMCE9PXRoaXMuX2RlbHRhKXt2YXIgbz0id2hlZWwiPT09dGhpcy5fdHlwZSYmTWF0aC5hYnModGhpcy5fZGVsdGEpPjQuMDAwMjQ0MTQwNjI1P3RoaXMuX3doZWVsWm9vbVJhdGU6dGhpcy5fZGVmYXVsdFpvb21SYXRlLHI9Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEqbykpKTt0aGlzLl9kZWx0YTwwJiYwIT09ciYmKHI9MS9yKTt2YXIgYT0ibnVtYmVyIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/aS56b29tU2NhbGUodGhpcy5fdGFyZ2V0Wm9vbSk6aS5zY2FsZTt0aGlzLl90YXJnZXRab29tPU1hdGgubWluKGkubWF4Wm9vbSxNYXRoLm1heChpLm1pblpvb20saS5zY2FsZVpvb20oYSpyKSkpLCJ3aGVlbCI9PT10aGlzLl90eXBlJiYodGhpcy5fc3RhcnRab29tPWkuem9vbSx0aGlzLl9lYXNpbmc9dGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCkpLHRoaXMuX2RlbHRhPTA7fXZhciBuPSJudW1iZXIiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90aGlzLl90YXJnZXRab29tOmkuem9vbSxzPXRoaXMuX3N0YXJ0Wm9vbSxsPXRoaXMuX2Vhc2luZyxjPSExO2lmKCJ3aGVlbCI9PT10aGlzLl90eXBlJiZzJiZsKXt2YXIgdT1NYXRoLm1pbigodC5icm93c2VyLm5vdygpLXRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSkvMjAwLDEpLGg9bCh1KTtpLnpvb209dC5udW1iZXIocyxuLGgpLHU8MT90aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD10aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vblNjcm9sbEZyYW1lKSk6Yz0hMDt9ZWxzZSBpLnpvb209bixjPSEwO2kuc2V0TG9jYXRpb25BdFBvaW50KHRoaXMuX2Fyb3VuZCx0aGlzLl9hcm91bmRQb2ludCksdGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoIm1vdmUiLHtvcmlnaW5hbEV2ZW50OnRoaXMuX2xhc3RXaGVlbEV2ZW50fSkpLHRoaXMuX21hcC5maXJlKG5ldyB0LkV2ZW50KCJ6b29tIix7b3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0V2hlZWxFdmVudH0pKSxjJiYodGhpcy5fYWN0aXZlPSExLHRoaXMuX2ZpbmlzaFRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl96b29taW5nPSExLGUuX21hcC5maXJlKG5ldyB0LkV2ZW50KCJ6b29tZW5kIix7b3JpZ2luYWxFdmVudDplLl9sYXN0V2hlZWxFdmVudH0pKSxlLl9tYXAuZmlyZShuZXcgdC5FdmVudCgibW92ZWVuZCIse29yaWdpbmFsRXZlbnQ6ZS5fbGFzdFdoZWVsRXZlbnR9KSksZGVsZXRlIGUuX3RhcmdldFpvb207fSksMjAwKSk7fX0sU28ucHJvdG90eXBlLl9zbW9vdGhPdXRFYXNpbmc9ZnVuY3Rpb24oZSl7dmFyIGk9dC5lYXNlO2lmKHRoaXMuX3ByZXZFYXNlKXt2YXIgbz10aGlzLl9wcmV2RWFzZSxyPSh0LmJyb3dzZXIubm93KCktby5zdGFydCkvby5kdXJhdGlvbixhPW8uZWFzaW5nKHIrLjAxKS1vLmVhc2luZyhyKSxuPS4yNy9NYXRoLnNxcnQoYSphKzFlLTQpKi4wMSxzPU1hdGguc3FydCguMDcyOS1uKm4pO2k9dC5iZXppZXIobixzLC4yNSwxKTt9cmV0dXJuIHRoaXMuX3ByZXZFYXNlPXtzdGFydDp0LmJyb3dzZXIubm93KCksZHVyYXRpb246ZSxlYXNpbmc6aX0saX07dmFyIFBvPWZ1bmN0aW9uKGUsaSl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9jb250YWluZXI9ZS5nZXRDb250YWluZXIoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT1pLmNsaWNrVG9sZXJhbmNlfHwxLHQuYmluZEFsbChbIl9vbk1vdXNlTW92ZSIsIl9vbk1vdXNlVXAiLCJfb25LZXlEb3duIl0sdGhpcyk7fTtQby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH0sUG8ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfSxQby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO30sUG8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxQby5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7dGhpcy5pc0VuYWJsZWQoKSYmZS5zaGlmdEtleSYmMD09PWUuYnV0dG9uJiYodC53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSwhMSksdC53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLCExKSx0LndpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXAsITEpLGkuZGlzYWJsZURyYWcoKSx0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPWkubW91c2VQb3ModGhpcy5fZWwsZSksdGhpcy5fYWN0aXZlPSEwKTt9LFBvLnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9aS5tb3VzZVBvcyh0aGlzLl9lbCx0KTtpZighKHRoaXMuX2xhc3RQb3MuZXF1YWxzKGUpfHwhdGhpcy5fYm94JiZlLmRpc3QodGhpcy5fc3RhcnRQb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKSl7dmFyIG89dGhpcy5fc3RhcnRQb3M7dGhpcy5fbGFzdFBvcz1lLHRoaXMuX2JveHx8KHRoaXMuX2JveD1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtYm94em9vbSIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3Jvc3NoYWlyIiksdGhpcy5fZmlyZUV2ZW50KCJib3h6b29tc3RhcnQiLHQpKTt2YXIgcj1NYXRoLm1pbihvLngsZS54KSxhPU1hdGgubWF4KG8ueCxlLngpLG49TWF0aC5taW4oby55LGUueSkscz1NYXRoLm1heChvLnksZS55KTtpLnNldFRyYW5zZm9ybSh0aGlzLl9ib3gsInRyYW5zbGF0ZSgiK3IrInB4LCIrbisicHgpIiksdGhpcy5fYm94LnN0eWxlLndpZHRoPWEtcisicHgiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9cy1uKyJweCI7fX0sUG8ucHJvdG90eXBlLl9vbk1vdXNlVXA9ZnVuY3Rpb24oZSl7aWYoMD09PWUuYnV0dG9uKXt2YXIgbz10aGlzLl9zdGFydFBvcyxyPWkubW91c2VQb3ModGhpcy5fZWwsZSk7dGhpcy5fZmluaXNoKCksaS5zdXBwcmVzc0NsaWNrKCksby54PT09ci54JiZvLnk9PT1yLnk/dGhpcy5fZmlyZUV2ZW50KCJib3h6b29tY2FuY2VsIixlKTp0aGlzLl9tYXAuZml0U2NyZWVuQ29vcmRpbmF0ZXMobyxyLHRoaXMuX21hcC5nZXRCZWFyaW5nKCkse2xpbmVhcjohMH0pLmZpcmUobmV3IHQuRXZlbnQoImJveHpvb21lbmQiLHtvcmlnaW5hbEV2ZW50OmV9KSk7fX0sUG8ucHJvdG90eXBlLl9vbktleURvd249ZnVuY3Rpb24odCl7Mjc9PT10LmtleUNvZGUmJih0aGlzLl9maW5pc2goKSx0aGlzLl9maXJlRXZlbnQoImJveHpvb21jYW5jZWwiLHQpKTt9LFBvLnByb3RvdHlwZS5fZmluaXNoPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlPSExLHQud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmUsITEpLHQud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX29uS2V5RG93biwhMSksdC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwLCExKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3Jvc3NoYWlyIiksdGhpcy5fYm94JiYoaS5yZW1vdmUodGhpcy5fYm94KSx0aGlzLl9ib3g9bnVsbCksaS5lbmFibGVEcmFnKCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zO30sUG8ucHJvdG90eXBlLl9maXJlRXZlbnQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoZSx7b3JpZ2luYWxFdmVudDppfSkpfTt2YXIgem89dC5iZXppZXIoMCwwLC4yNSwxKSxMbz1mdW5jdGlvbihlLGkpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWkuZWxlbWVudHx8ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9zdGF0ZT0iZGlzYWJsZWQiLHRoaXMuX2J1dHRvbj1pLmJ1dHRvbnx8InJpZ2h0Iix0aGlzLl9iZWFyaW5nU25hcD1pLmJlYXJpbmdTbmFwfHwwLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZT0hMSE9PWkucGl0Y2hXaXRoUm90YXRlLHRoaXMuX2NsaWNrVG9sZXJhbmNlPWkuY2xpY2tUb2xlcmFuY2V8fDEsdC5iaW5kQWxsKFsib25Nb3VzZURvd24iLCJfb25Nb3VzZU1vdmUiLCJfb25Nb3VzZVVwIiwiX29uQmx1ciIsIl9vbkRyYWdGcmFtZSJdLHRoaXMpO307TG8ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiAiZGlzYWJsZWQiIT09dGhpcy5fc3RhdGV9LExvLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiAiYWN0aXZlIj09PXRoaXMuX3N0YXRlfSxMby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX3N0YXRlPSJlbmFibGVkIik7fSxMby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbmFibGVkKCkpc3dpdGNoKHRoaXMuX3N0YXRlKXtjYXNlImFjdGl2ZSI6dGhpcy5fc3RhdGU9ImRpc2FibGVkIix0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5fZmlyZUV2ZW50KCJyb3RhdGVlbmQiKSx0aGlzLl9waXRjaFdpdGhSb3RhdGUmJnRoaXMuX2ZpcmVFdmVudCgicGl0Y2hlbmQiKSx0aGlzLl9maXJlRXZlbnQoIm1vdmVlbmQiKTticmVhaztjYXNlInBlbmRpbmciOnRoaXMuX3N0YXRlPSJkaXNhYmxlZCIsdGhpcy5fdW5iaW5kKCk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9zdGF0ZT0iZGlzYWJsZWQiO319LExvLnByb3RvdHlwZS5vbk1vdXNlRG93bj1mdW5jdGlvbihlKXtpZigiZW5hYmxlZCI9PT10aGlzLl9zdGF0ZSl7dmFyIG89InRvdWNoc3RhcnQiPT09ZS50eXBlO2lmKG8pdGhpcy5fc3RhcnRUaW1lPURhdGUubm93KCk7ZWxzZSBpZigicmlnaHQiPT09dGhpcy5fYnV0dG9uKXtpZih0aGlzLl9ldmVudEJ1dHRvbj1pLm1vdXNlQnV0dG9uKGUpLGUuYWx0S2V5fHxlLm1ldGFLZXkpcmV0dXJuO2lmKHRoaXMuX2V2ZW50QnV0dG9uIT09KGUuY3RybEtleT8wOjIpKXJldHVybn1lbHNle2lmKGUuY3RybEtleXx8MCE9PWkubW91c2VCdXR0b24oZSkpcmV0dXJuO3RoaXMuX2V2ZW50QnV0dG9uPTA7fWkuZGlzYWJsZURyYWcoKSxvPyh0LndpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLHRoaXMuX29uTW91c2VNb3ZlLHtjYXB0dXJlOiEwfSksdC53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLHRoaXMuX29uTW91c2VVcCkpOih0LndpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlLHtjYXB0dXJlOiEwfSksdC53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwKSksdC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25CbHVyKSx0aGlzLl9zdGF0ZT0icGVuZGluZyIsdGhpcy5faW5lcnRpYT1bW3QuYnJvd3Nlci5ub3coKSx0aGlzLl9tYXAuZ2V0QmVhcmluZygpXV0sdGhpcy5fc3RhcnRQb3M9dGhpcy5fcHJldlBvcz10aGlzLl9sYXN0UG9zPWkubW91c2VQb3ModGhpcy5fZWwsZSksdGhpcy5fY2VudGVyPXRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQsZS5wcmV2ZW50RGVmYXVsdCgpO319LExvLnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9aS5tb3VzZVBvcyh0aGlzLl9lbCx0KTt0aGlzLl9sYXN0UG9zLmVxdWFscyhlKXx8InBlbmRpbmciPT09dGhpcy5fc3RhdGUmJmUuZGlzdCh0aGlzLl9zdGFydFBvcyk8dGhpcy5fY2xpY2tUb2xlcmFuY2V8fCh0aGlzLl9sYXN0TW92ZUV2ZW50PXQsdGhpcy5fbGFzdFBvcz1lLCJwZW5kaW5nIj09PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9ImFjdGl2ZSIsdGhpcy5fZmlyZUV2ZW50KCJyb3RhdGVzdGFydCIsdCksdGhpcy5fZmlyZUV2ZW50KCJtb3Zlc3RhcnQiLHQpLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSYmdGhpcy5fZmlyZUV2ZW50KCJwaXRjaHN0YXJ0Iix0KSksdGhpcy5fZnJhbWVJZHx8KHRoaXMuX2ZyYW1lSWQ9dGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25EcmFnRnJhbWUpKSk7fSxMby5wcm90b3R5cGUuX29uRHJhZ0ZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVJZD1udWxsO3ZhciBlPXRoaXMuX2xhc3RNb3ZlRXZlbnQ7aWYoZSl7dmFyIGk9dGhpcy5fbWFwLnRyYW5zZm9ybSxvPXRoaXMuX3ByZXZQb3Mscj10aGlzLl9sYXN0UG9zLGE9aS5iZWFyaW5nLS44KihvLngtci54KSxuPWkucGl0Y2gtIC0uNSooby55LXIueSkscz10aGlzLl9pbmVydGlhLGw9c1tzLmxlbmd0aC0xXTt0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSxzLnB1c2goW3QuYnJvd3Nlci5ub3coKSx0aGlzLl9tYXAuX25vcm1hbGl6ZUJlYXJpbmcoYSxsWzFdKV0pO3ZhciBjPWkuYmVhcmluZztpZihpLmJlYXJpbmc9YSx0aGlzLl9waXRjaFdpdGhSb3RhdGUpe3ZhciB1PWkucGl0Y2g7aS5waXRjaD1uLGkucGl0Y2ghPT11JiZ0aGlzLl9maXJlRXZlbnQoInBpdGNoIixlKTt9aS5iZWFyaW5nIT09YyYmdGhpcy5fZmlyZUV2ZW50KCJyb3RhdGUiLGUpLHRoaXMuX2ZpcmVFdmVudCgibW92ZSIsZSksZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQsdGhpcy5fcHJldlBvcz10aGlzLl9sYXN0UG9zO319LExvLnByb3RvdHlwZS5fb25Nb3VzZVVwPWZ1bmN0aW9uKHQpe3ZhciBlPSJ0b3VjaGVuZCI9PT10LnR5cGU7aWYoZSYmdGhpcy5fc3RhcnRQb3M9PT10aGlzLl9sYXN0UG9zJiZEYXRlLm5vdygpLXRoaXMuX3N0YXJ0VGltZTwzMDAmJnRoaXMuX2VsLmNsaWNrKCksZXx8aS5tb3VzZUJ1dHRvbih0KT09PXRoaXMuX2V2ZW50QnV0dG9uKXN3aXRjaCh0aGlzLl9zdGF0ZSl7Y2FzZSJhY3RpdmUiOnRoaXMuX3N0YXRlPSJlbmFibGVkIixpLnN1cHByZXNzQ2xpY2soKSx0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5faW5lcnRpYWxSb3RhdGUodCk7YnJlYWs7Y2FzZSJwZW5kaW5nIjp0aGlzLl9zdGF0ZT0iZW5hYmxlZCIsdGhpcy5fdW5iaW5kKCk7fX0sTG8ucHJvdG90eXBlLl9vbkJsdXI9ZnVuY3Rpb24odCl7c3dpdGNoKHRoaXMuX3N0YXRlKXtjYXNlImFjdGl2ZSI6dGhpcy5fc3RhdGU9ImVuYWJsZWQiLHRoaXMuX3VuYmluZCgpLHRoaXMuX2RlYWN0aXZhdGUoKSx0aGlzLl9maXJlRXZlbnQoInJvdGF0ZWVuZCIsdCksdGhpcy5fcGl0Y2hXaXRoUm90YXRlJiZ0aGlzLl9maXJlRXZlbnQoInBpdGNoZW5kIix0KSx0aGlzLl9maXJlRXZlbnQoIm1vdmVlbmQiLHQpO2JyZWFrO2Nhc2UicGVuZGluZyI6dGhpcy5fc3RhdGU9ImVuYWJsZWQiLHRoaXMuX3VuYmluZCgpO319LExvLnByb3RvdHlwZS5fdW5iaW5kPWZ1bmN0aW9uKCl7dC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSx7Y2FwdHVyZTohMH0pLHQud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMuX29uTW91c2VVcCksdC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSx7Y2FwdHVyZTohMH0pLHQud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIix0aGlzLl9vbk1vdXNlVXApLHQud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksaS5lbmFibGVEcmFnKCk7fSxMby5wcm90b3R5cGUuX2RlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZUlkJiYodGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKSx0aGlzLl9mcmFtZUlkPW51bGwpLGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50LGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fcHJldlBvcyxkZWxldGUgdGhpcy5fbGFzdFBvczt9LExvLnByb3RvdHlwZS5faW5lcnRpYWxSb3RhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLl9maXJlRXZlbnQoInJvdGF0ZWVuZCIsdCksdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7dmFyIGk9dGhpcy5fbWFwLG89aS5nZXRCZWFyaW5nKCkscj10aGlzLl9pbmVydGlhLGE9ZnVuY3Rpb24oKXtNYXRoLmFicyhvKTxlLl9iZWFyaW5nU25hcD9pLnJlc2V0Tm9ydGgoe25vTW92ZVN0YXJ0OiEwfSx7b3JpZ2luYWxFdmVudDp0fSk6ZS5fZmlyZUV2ZW50KCJtb3ZlZW5kIix0KSxlLl9waXRjaFdpdGhSb3RhdGUmJmUuX2ZpcmVFdmVudCgicGl0Y2hlbmQiLHQpO307aWYoci5sZW5ndGg8MilhKCk7ZWxzZXt2YXIgbj1yWzBdLHM9cltyLmxlbmd0aC0xXSxsPWkuX25vcm1hbGl6ZUJlYXJpbmcobyxyW3IubGVuZ3RoLTJdWzFdKSxjPXNbMV0tblsxXSx1PWM8MD8tMToxLGg9KHNbMF0tblswXSkvMWUzO2lmKDAhPT1jJiYwIT09aCl7dmFyIHA9TWF0aC5hYnMoYyooLjI1L2gpKTtwPjE4MCYmKHA9MTgwKTt2YXIgZD1wLzE4MDtsKz11KnAqKGQvMiksTWF0aC5hYnMoaS5fbm9ybWFsaXplQmVhcmluZyhsLDApKTx0aGlzLl9iZWFyaW5nU25hcCYmKGw9aS5fbm9ybWFsaXplQmVhcmluZygwLGwpKSxpLnJvdGF0ZVRvKGwse2R1cmF0aW9uOjFlMypkLGVhc2luZzp6byxub01vdmVTdGFydDohMH0se29yaWdpbmFsRXZlbnQ6dH0pO31lbHNlIGEoKTt9fSxMby5wcm90b3R5cGUuX2ZpcmVFdmVudD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChlLGk/e29yaWdpbmFsRXZlbnQ6aX06e30pKX0sTG8ucHJvdG90eXBlLl9kcmFpbkluZXJ0aWFCdWZmZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5faW5lcnRpYSxpPXQuYnJvd3Nlci5ub3coKTtlLmxlbmd0aD4wJiZpLWVbMF1bMF0+MTYwOyllLnNoaWZ0KCk7fTt2YXIgTW89e2xpbmVhcml0eTouMyxlYXNpbmc6dC5iZXppZXIoMCwwLC4zLDEpLG1heFNwZWVkOjE0MDAsZGVjZWxlcmF0aW9uOjI1MDB9LERvPWZ1bmN0aW9uKGUsaSl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9zdGF0ZT0iZGlzYWJsZWQiLHRoaXMuX2NsaWNrVG9sZXJhbmNlPWkuY2xpY2tUb2xlcmFuY2V8fDEsdGhpcy5faW5lcnRpYU9wdGlvbnM9TW8sdC5iaW5kQWxsKFsiX29uTW92ZSIsIl9vbk1vdXNlVXAiLCJfb25Ub3VjaEVuZCIsIl9vbkJsdXIiLCJfb25EcmFnRnJhbWUiXSx0aGlzKTt9O0RvLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gImRpc2FibGVkIiE9PXRoaXMuX3N0YXRlfSxEby5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gImFjdGl2ZSI9PT10aGlzLl9zdGF0ZX0sRG8ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbihlKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4iKSx0aGlzLl9zdGF0ZT0iZW5hYmxlZCIsdGhpcy5faW5lcnRpYU9wdGlvbnM9dC5leHRlbmQoTW8sZSkpO30sRG8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXtpZih0aGlzLmlzRW5hYmxlZCgpKXN3aXRjaCh0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC10b3VjaC1kcmFnLXBhbiIpLHRoaXMuX3N0YXRlKXtjYXNlImFjdGl2ZSI6dGhpcy5fc3RhdGU9ImRpc2FibGVkIix0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5fZmlyZUV2ZW50KCJkcmFnZW5kIiksdGhpcy5fZmlyZUV2ZW50KCJtb3ZlZW5kIik7YnJlYWs7Y2FzZSJwZW5kaW5nIjp0aGlzLl9zdGF0ZT0iZGlzYWJsZWQiLHRoaXMuX3VuYmluZCgpO2JyZWFrO2RlZmF1bHQ6dGhpcy5fc3RhdGU9ImRpc2FibGVkIjt9fSxEby5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7ImVuYWJsZWQiPT09dGhpcy5fc3RhdGUmJihlLmN0cmxLZXl8fDAhPT1pLm1vdXNlQnV0dG9uKGUpfHwoaS5hZGRFdmVudExpc3RlbmVyKHQud2luZG93LmRvY3VtZW50LCJtb3VzZW1vdmUiLHRoaXMuX29uTW92ZSx7Y2FwdHVyZTohMH0pLGkuYWRkRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCwibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwKSx0aGlzLl9zdGFydChlKSkpO30sRG8ucHJvdG90eXBlLm9uVG91Y2hTdGFydD1mdW5jdGlvbihlKXt0aGlzLmlzRW5hYmxlZCgpJiYoZS50b3VjaGVzJiZlLnRvdWNoZXMubGVuZ3RoPjEmJigicGVuZGluZyI9PT10aGlzLl9zdGF0ZXx8ImFjdGl2ZSI9PT10aGlzLl9zdGF0ZSl8fChpLmFkZEV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsInRvdWNobW92ZSIsdGhpcy5fb25Nb3ZlLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITF9KSxpLmFkZEV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsInRvdWNoZW5kIix0aGlzLl9vblRvdWNoRW5kKSx0aGlzLl9zdGFydChlKSkpO30sRG8ucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbihlKXt0LndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkJsdXIpLHRoaXMuX3N0YXRlPSJwZW5kaW5nIix0aGlzLl9zdGFydFBvcz10aGlzLl9tb3VzZURvd25Qb3M9dGhpcy5fcHJldlBvcz10aGlzLl9sYXN0UG9zPWkubW91c2VQb3ModGhpcy5fZWwsZSksdGhpcy5fc3RhcnRUb3VjaD10aGlzLl9sYXN0VG91Y2g9dC53aW5kb3cuVG91Y2hFdmVudCYmZSBpbnN0YW5jZW9mIHQud2luZG93LlRvdWNoRXZlbnQ/aS50b3VjaFBvcyh0aGlzLl9lbCxlKTpudWxsLHRoaXMuX2luZXJ0aWE9W1t0LmJyb3dzZXIubm93KCksdGhpcy5fc3RhcnRQb3NdXTt9LERvLnByb3RvdHlwZS5fdG91Y2hlc01hdGNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuICEoIXR8fCFlfHx0Lmxlbmd0aCE9PWUubGVuZ3RoKSYmdC5ldmVyeSgoZnVuY3Rpb24odCxpKXtyZXR1cm4gZVtpXT09PXR9KSl9LERvLnByb3RvdHlwZS5fb25Nb3ZlPWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbz10LndpbmRvdy5Ub3VjaEV2ZW50JiZlIGluc3RhbmNlb2YgdC53aW5kb3cuVG91Y2hFdmVudD9pLnRvdWNoUG9zKHRoaXMuX2VsLGUpOm51bGwscj1pLm1vdXNlUG9zKHRoaXMuX2VsLGUpOyhvP3RoaXMuX3RvdWNoZXNNYXRjaCh0aGlzLl9sYXN0VG91Y2gsbyk6dGhpcy5fbGFzdFBvcy5lcXVhbHMocikpfHwicGVuZGluZyI9PT10aGlzLl9zdGF0ZSYmci5kaXN0KHRoaXMuX21vdXNlRG93blBvcyk8dGhpcy5fY2xpY2tUb2xlcmFuY2V8fCh0aGlzLl9sYXN0TW92ZUV2ZW50PWUsdGhpcy5fbGFzdFBvcz1yLHRoaXMuX2xhc3RUb3VjaD1vLHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWEucHVzaChbdC5icm93c2VyLm5vdygpLHRoaXMuX2xhc3RQb3NdKSwicGVuZGluZyI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPSJhY3RpdmUiLHRoaXMuX3Nob3VsZFN0YXJ0PSEwKSx0aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD10aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vbkRyYWdGcmFtZSkpKTt9LERvLnByb3RvdHlwZS5fb25EcmFnRnJhbWU9ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZUlkPW51bGw7dmFyIHQ9dGhpcy5fbGFzdE1vdmVFdmVudDtpZih0KWlmKHRoaXMuX21hcC50b3VjaFpvb21Sb3RhdGUuaXNBY3RpdmUoKSl0aGlzLl9hYm9ydCh0KTtlbHNlIGlmKHRoaXMuX3Nob3VsZFN0YXJ0JiYodGhpcy5fZmlyZUV2ZW50KCJkcmFnc3RhcnQiLHQpLHRoaXMuX2ZpcmVFdmVudCgibW92ZXN0YXJ0Iix0KSx0aGlzLl9zaG91bGRTdGFydD0hMSksdGhpcy5pc0FjdGl2ZSgpKXt2YXIgZT10aGlzLl9tYXAudHJhbnNmb3JtO2Uuc2V0TG9jYXRpb25BdFBvaW50KGUucG9pbnRMb2NhdGlvbih0aGlzLl9wcmV2UG9zKSx0aGlzLl9sYXN0UG9zKSx0aGlzLl9maXJlRXZlbnQoImRyYWciLHQpLHRoaXMuX2ZpcmVFdmVudCgibW92ZSIsdCksdGhpcy5fcHJldlBvcz10aGlzLl9sYXN0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O319LERvLnByb3RvdHlwZS5fb25Nb3VzZVVwPWZ1bmN0aW9uKHQpe2lmKDA9PT1pLm1vdXNlQnV0dG9uKHQpKXN3aXRjaCh0aGlzLl9zdGF0ZSl7Y2FzZSJhY3RpdmUiOnRoaXMuX3N0YXRlPSJlbmFibGVkIixpLnN1cHByZXNzQ2xpY2soKSx0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5faW5lcnRpYWxQYW4odCk7YnJlYWs7Y2FzZSJwZW5kaW5nIjp0aGlzLl9zdGF0ZT0iZW5hYmxlZCIsdGhpcy5fdW5iaW5kKCk7fX0sRG8ucHJvdG90eXBlLl9vblRvdWNoRW5kPWZ1bmN0aW9uKHQpe2lmKHQudG91Y2hlcyYmMCE9PXQudG91Y2hlcy5sZW5ndGgpc3dpdGNoKHRoaXMuX3N0YXRlKXtjYXNlInBlbmRpbmciOmNhc2UiYWN0aXZlIjpicmVhaztjYXNlImVuYWJsZWQiOnRoaXMub25Ub3VjaFN0YXJ0KHQpO31lbHNlIHN3aXRjaCh0aGlzLl9zdGF0ZSl7Y2FzZSJhY3RpdmUiOnRoaXMuX3N0YXRlPSJlbmFibGVkIix0aGlzLl91bmJpbmQoKSx0aGlzLl9kZWFjdGl2YXRlKCksdGhpcy5faW5lcnRpYWxQYW4odCk7YnJlYWs7Y2FzZSJwZW5kaW5nIjp0aGlzLl9zdGF0ZT0iZW5hYmxlZCIsdGhpcy5fdW5iaW5kKCk7YnJlYWs7Y2FzZSJlbmFibGVkIjp0aGlzLl91bmJpbmQoKTt9fSxEby5wcm90b3R5cGUuX2Fib3J0PWZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLl9zdGF0ZSl7Y2FzZSJhY3RpdmUiOnRoaXMuX3N0YXRlPSJlbmFibGVkIix0aGlzLl9zaG91bGRTdGFydHx8KHRoaXMuX2ZpcmVFdmVudCgiZHJhZ2VuZCIsZSksdGhpcy5fZmlyZUV2ZW50KCJtb3ZlZW5kIixlKSksdGhpcy5fdW5iaW5kKCksdGhpcy5fZGVhY3RpdmF0ZSgpLHQud2luZG93LlRvdWNoRXZlbnQmJmUgaW5zdGFuY2VvZiB0LndpbmRvdy5Ub3VjaEV2ZW50JiZlLnRvdWNoZXMubGVuZ3RoPjEmJmkuYWRkRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCwidG91Y2hlbmQiLHRoaXMuX29uVG91Y2hFbmQpO2JyZWFrO2Nhc2UicGVuZGluZyI6dGhpcy5fc3RhdGU9ImVuYWJsZWQiLHRoaXMuX3VuYmluZCgpO2JyZWFrO2Nhc2UiZW5hYmxlZCI6dGhpcy5fdW5iaW5kKCk7fX0sRG8ucHJvdG90eXBlLl9vbkJsdXI9ZnVuY3Rpb24odCl7dGhpcy5fYWJvcnQodCk7fSxEby5wcm90b3R5cGUuX3VuYmluZD1mdW5jdGlvbigpe2kucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCwidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUse2NhcHR1cmU6ITAscGFzc2l2ZTohMX0pLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCwidG91Y2hlbmQiLHRoaXMuX29uVG91Y2hFbmQpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCwibW91c2Vtb3ZlIix0aGlzLl9vbk1vdmUse2NhcHR1cmU6ITB9KSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuX29uTW91c2VVcCksaS5yZW1vdmVFdmVudExpc3RlbmVyKHQud2luZG93LCJibHVyIix0aGlzLl9vbkJsdXIpO30sRG8ucHJvdG90eXBlLl9kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVJZCYmKHRoaXMuX21hcC5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZnJhbWVJZCksdGhpcy5fZnJhbWVJZD1udWxsKSxkZWxldGUgdGhpcy5fbGFzdE1vdmVFdmVudCxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX3ByZXZQb3MsZGVsZXRlIHRoaXMuX21vdXNlRG93blBvcyxkZWxldGUgdGhpcy5fbGFzdFBvcyxkZWxldGUgdGhpcy5fc3RhcnRUb3VjaCxkZWxldGUgdGhpcy5fbGFzdFRvdWNoLGRlbGV0ZSB0aGlzLl9zaG91bGRTdGFydDt9LERvLnByb3RvdHlwZS5faW5lcnRpYWxQYW49ZnVuY3Rpb24odCl7dGhpcy5fZmlyZUV2ZW50KCJkcmFnZW5kIix0KSx0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTt2YXIgZT10aGlzLl9pbmVydGlhO2lmKGUubGVuZ3RoPDIpdGhpcy5fZmlyZUV2ZW50KCJtb3ZlZW5kIix0KTtlbHNle3ZhciBpPWVbZS5sZW5ndGgtMV0sbz1lWzBdLHI9aVsxXS5zdWIob1sxXSksYT0oaVswXS1vWzBdKS8xZTM7aWYoMD09PWF8fGlbMV0uZXF1YWxzKG9bMV0pKXRoaXMuX2ZpcmVFdmVudCgibW92ZWVuZCIsdCk7ZWxzZXt2YXIgbj10aGlzLl9pbmVydGlhT3B0aW9ucyxzPW4ubGluZWFyaXR5LGw9bi5lYXNpbmcsYz1uLm1heFNwZWVkLHU9bi5kZWNlbGVyYXRpb24saD1yLm11bHQocy9hKSxwPWgubWFnKCk7cD5jJiYocD1jLGguX3VuaXQoKS5fbXVsdChwKSk7dmFyIGQ9cC8odSpzKSxfPWgubXVsdCgtZC8yKTt0aGlzLl9tYXAucGFuQnkoXyx7ZHVyYXRpb246MWUzKmQsZWFzaW5nOmwsbm9Nb3ZlU3RhcnQ6ITB9LHtvcmlnaW5hbEV2ZW50OnR9KTt9fX0sRG8ucHJvdG90eXBlLl9maXJlRXZlbnQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IHQuRXZlbnQoZSxpP3tvcmlnaW5hbEV2ZW50Oml9Ont9KSl9LERvLnByb3RvdHlwZS5fZHJhaW5JbmVydGlhQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2luZXJ0aWEsaT10LmJyb3dzZXIubm93KCk7ZS5sZW5ndGg+MCYmaS1lWzBdWzBdPjE2MDspZS5zaGlmdCgpO307dmFyIEFvPWZ1bmN0aW9uKGUpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCksdC5iaW5kQWxsKFsiX29uS2V5RG93biJdLHRoaXMpO307ZnVuY3Rpb24gUm8odCl7cmV0dXJuIHQqKDItdCl9QW8ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9LEFvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZWwuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLCExKSx0aGlzLl9lbmFibGVkPSEwKTt9LEFvLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX29uS2V5RG93biksdGhpcy5fZW5hYmxlZD0hMSk7fSxBby5wcm90b3R5cGUuX29uS2V5RG93bj1mdW5jdGlvbih0KXtpZighKHQuYWx0S2V5fHx0LmN0cmxLZXl8fHQubWV0YUtleSkpe3ZhciBlPTAsaT0wLG89MCxyPTAsYT0wO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgNjE6Y2FzZSAxMDc6Y2FzZSAxNzE6Y2FzZSAxODc6ZT0xO2JyZWFrO2Nhc2UgMTg5OmNhc2UgMTA5OmNhc2UgMTczOmU9LTE7YnJlYWs7Y2FzZSAzNzp0LnNoaWZ0S2V5P2k9LTE6KHQucHJldmVudERlZmF1bHQoKSxyPS0xKTticmVhaztjYXNlIDM5OnQuc2hpZnRLZXk/aT0xOih0LnByZXZlbnREZWZhdWx0KCkscj0xKTticmVhaztjYXNlIDM4OnQuc2hpZnRLZXk/bz0xOih0LnByZXZlbnREZWZhdWx0KCksYT0tMSk7YnJlYWs7Y2FzZSA0MDp0LnNoaWZ0S2V5P289LTE6KGE9MSx0LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBuPXRoaXMuX21hcCxzPW4uZ2V0Wm9vbSgpLGw9e2R1cmF0aW9uOjMwMCxkZWxheUVuZEV2ZW50czo1MDAsZWFzaW5nOlJvLHpvb206ZT9NYXRoLnJvdW5kKHMpK2UqKHQuc2hpZnRLZXk/MjoxKTpzLGJlYXJpbmc6bi5nZXRCZWFyaW5nKCkrMTUqaSxwaXRjaDpuLmdldFBpdGNoKCkrMTAqbyxvZmZzZXQ6WzEwMCotciwxMDAqLWFdLGNlbnRlcjpuLmdldENlbnRlcigpfTtuLmVhc2VUbyhsLHtvcmlnaW5hbEV2ZW50OnR9KTt9fTt2YXIga289ZnVuY3Rpb24oZSl7dGhpcy5fbWFwPWUsdC5iaW5kQWxsKFsiX29uRGJsQ2xpY2siLCJfb25ab29tRW5kIl0sdGhpcyk7fTtrby5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH0sa28ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfSxrby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO30sa28ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSk7fSxrby5wcm90b3R5cGUub25Ub3VjaFN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5pc0VuYWJsZWQoKSYmISh0LnBvaW50cy5sZW5ndGg+MSkpaWYodGhpcy5fdGFwcGVkKXt2YXIgaT10aGlzLl90YXBwZWRQb2ludDtpZihpJiZpLmRpc3QodC5wb2ludHNbMF0pPD0zMCl7dC5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7dmFyIG89ZnVuY3Rpb24oKXtlLl90YXBwZWQmJmUuX3pvb20odCksZS5fbWFwLm9mZigidG91Y2hjYW5jZWwiLHIpLGUuX3Jlc2V0VGFwcGVkKCk7fSxyPWZ1bmN0aW9uKCl7ZS5fbWFwLm9mZigidG91Y2hlbmQiLG8pLGUuX3Jlc2V0VGFwcGVkKCk7fTt0aGlzLl9tYXAub25jZSgidG91Y2hlbmQiLG8pLHRoaXMuX21hcC5vbmNlKCJ0b3VjaGNhbmNlbCIscik7fWVsc2UgdGhpcy5fcmVzZXRUYXBwZWQoKTt9ZWxzZSB0aGlzLl90YXBwZWRQb2ludD10LnBvaW50c1swXSx0aGlzLl90YXBwZWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl90YXBwZWQ9bnVsbCxlLl90YXBwZWRQb2ludD1udWxsO30pLDMwMCk7fSxrby5wcm90b3R5cGUuX3Jlc2V0VGFwcGVkPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RhcHBlZCksdGhpcy5fdGFwcGVkPW51bGwsdGhpcy5fdGFwcGVkUG9pbnQ9bnVsbDt9LGtvLnByb3RvdHlwZS5vbkRibENsaWNrPWZ1bmN0aW9uKHQpe3RoaXMuaXNFbmFibGVkKCkmJih0Lm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKSx0aGlzLl96b29tKHQpKTt9LGtvLnByb3RvdHlwZS5fem9vbT1mdW5jdGlvbih0KXt0aGlzLl9hY3RpdmU9ITAsdGhpcy5fbWFwLm9uKCJ6b29tZW5kIix0aGlzLl9vblpvb21FbmQpLHRoaXMuX21hcC56b29tVG8odGhpcy5fbWFwLmdldFpvb20oKSsodC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5Py0xOjEpLHthcm91bmQ6dC5sbmdMYXR9LHQpO30sa28ucHJvdG90eXBlLl9vblpvb21FbmQ9ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fbWFwLm9mZigiem9vbWVuZCIsdGhpcy5fb25ab29tRW5kKTt9O3ZhciBCbz10LmJlemllcigwLDAsLjE1LDEpLE9vPWZ1bmN0aW9uKGUpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCksdC5iaW5kQWxsKFsiX29uTW92ZSIsIl9vbkVuZCIsIl9vblRvdWNoRnJhbWUiXSx0aGlzKTt9O09vLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfSxPby5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKHQpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZSIpLHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPSEhdCYmImNlbnRlciI9PT10LmFyb3VuZCk7fSxPby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZSIpLHRoaXMuX2VuYWJsZWQ9ITEpO30sT28ucHJvdG90eXBlLmRpc2FibGVSb3RhdGlvbj1mdW5jdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITA7fSxPby5wcm90b3R5cGUuZW5hYmxlUm90YXRpb249ZnVuY3Rpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExO30sT28ucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJiEhdGhpcy5fZ2VzdHVyZUludGVudH0sT28ucHJvdG90eXBlLm9uU3RhcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0VuYWJsZWQoKSYmMj09PWUudG91Y2hlcy5sZW5ndGgpe3ZhciBvPWkubW91c2VQb3ModGhpcy5fZWwsZS50b3VjaGVzWzBdKSxyPWkubW91c2VQb3ModGhpcy5fZWwsZS50b3VjaGVzWzFdKSxhPW8uYWRkKHIpLmRpdigyKTt0aGlzLl9zdGFydFZlYz1vLnN1YihyKSx0aGlzLl9zdGFydEFyb3VuZD10aGlzLl9tYXAudHJhbnNmb3JtLnBvaW50TG9jYXRpb24oYSksdGhpcy5fZ2VzdHVyZUludGVudD12b2lkIDAsdGhpcy5faW5lcnRpYT1bXSxpLmFkZEV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsInRvdWNobW92ZSIsdGhpcy5fb25Nb3ZlLHtwYXNzaXZlOiExfSksaS5hZGRFdmVudExpc3RlbmVyKHQud2luZG93LmRvY3VtZW50LCJ0b3VjaGVuZCIsdGhpcy5fb25FbmQpO319LE9vLnByb3RvdHlwZS5fZ2V0VG91Y2hFdmVudERhdGE9ZnVuY3Rpb24odCl7dmFyIGU9aS5tb3VzZVBvcyh0aGlzLl9lbCx0LnRvdWNoZXNbMF0pLG89aS5tb3VzZVBvcyh0aGlzLl9lbCx0LnRvdWNoZXNbMV0pLHI9ZS5zdWIobyk7cmV0dXJuIHt2ZWM6cixjZW50ZXI6ZS5hZGQobykuZGl2KDIpLHNjYWxlOnIubWFnKCkvdGhpcy5fc3RhcnRWZWMubWFnKCksYmVhcmluZzp0aGlzLl9yb3RhdGlvbkRpc2FibGVkPzA6MTgwKnIuYW5nbGVXaXRoKHRoaXMuX3N0YXJ0VmVjKS9NYXRoLlBJfX0sT28ucHJvdG90eXBlLl9vbk1vdmU9ZnVuY3Rpb24oZSl7aWYoMj09PWUudG91Y2hlcy5sZW5ndGgpe3ZhciBpPXRoaXMuX2dldFRvdWNoRXZlbnREYXRhKGUpLG89aS52ZWMscj1pLnNjYWxlLGE9aS5iZWFyaW5nO2lmKCF0aGlzLl9nZXN0dXJlSW50ZW50KXt2YXIgbj10aGlzLl9yb3RhdGlvbkRpc2FibGVkJiYxIT09cnx8TWF0aC5hYnMoMS1yKT4uMTU7TWF0aC5hYnMoYSk+MTA/dGhpcy5fZ2VzdHVyZUludGVudD0icm90YXRlIjpuJiYodGhpcy5fZ2VzdHVyZUludGVudD0iem9vbSIpLHRoaXMuX2dlc3R1cmVJbnRlbnQmJih0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudCh0aGlzLl9nZXN0dXJlSW50ZW50KyJzdGFydCIse29yaWdpbmFsRXZlbnQ6ZX0pKSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudCgibW92ZXN0YXJ0Iix7b3JpZ2luYWxFdmVudDplfSkpLHRoaXMuX3N0YXJ0VmVjPW8pO310aGlzLl9sYXN0VG91Y2hFdmVudD1lLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPXRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uVG91Y2hGcmFtZSkpLGUucHJldmVudERlZmF1bHQoKTt9fSxPby5wcm90b3R5cGUuX29uVG91Y2hGcmFtZT1mdW5jdGlvbigpe3RoaXMuX2ZyYW1lSWQ9bnVsbDt2YXIgZT10aGlzLl9nZXN0dXJlSW50ZW50O2lmKGUpe3ZhciBpPXRoaXMuX21hcC50cmFuc2Zvcm07dGhpcy5fc3RhcnRTY2FsZXx8KHRoaXMuX3N0YXJ0U2NhbGU9aS5zY2FsZSx0aGlzLl9zdGFydEJlYXJpbmc9aS5iZWFyaW5nKTt2YXIgbz10aGlzLl9nZXRUb3VjaEV2ZW50RGF0YSh0aGlzLl9sYXN0VG91Y2hFdmVudCkscj1vLmNlbnRlcixhPW8uYmVhcmluZyxuPW8uc2NhbGUscz1pLnBvaW50TG9jYXRpb24ociksbD1pLmxvY2F0aW9uUG9pbnQocyk7InJvdGF0ZSI9PT1lJiYoaS5iZWFyaW5nPXRoaXMuX3N0YXJ0QmVhcmluZythKSxpLnpvb209aS5zY2FsZVpvb20odGhpcy5fc3RhcnRTY2FsZSpuKSxpLnNldExvY2F0aW9uQXRQb2ludCh0aGlzLl9zdGFydEFyb3VuZCxsKSx0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChlLHtvcmlnaW5hbEV2ZW50OnRoaXMuX2xhc3RUb3VjaEV2ZW50fSkpLHRoaXMuX21hcC5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlIix7b3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0VG91Y2hFdmVudH0pKSx0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhLnB1c2goW3QuYnJvd3Nlci5ub3coKSxuLHJdKTt9fSxPby5wcm90b3R5cGUuX29uRW5kPWZ1bmN0aW9uKGUpe2kucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LndpbmRvdy5kb2N1bWVudCwidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUse3Bhc3NpdmU6ITF9KSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIodC53aW5kb3cuZG9jdW1lbnQsInRvdWNoZW5kIix0aGlzLl9vbkVuZCk7dmFyIG89dGhpcy5fZ2VzdHVyZUludGVudCxyPXRoaXMuX3N0YXJ0U2NhbGU7aWYodGhpcy5fZnJhbWVJZCYmKHRoaXMuX21hcC5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZnJhbWVJZCksdGhpcy5fZnJhbWVJZD1udWxsKSxkZWxldGUgdGhpcy5fZ2VzdHVyZUludGVudCxkZWxldGUgdGhpcy5fc3RhcnRTY2FsZSxkZWxldGUgdGhpcy5fc3RhcnRCZWFyaW5nLGRlbGV0ZSB0aGlzLl9sYXN0VG91Y2hFdmVudCxvKXt0aGlzLl9tYXAuZmlyZShuZXcgdC5FdmVudChvKyJlbmQiLHtvcmlnaW5hbEV2ZW50OmV9KSksdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7dmFyIGE9dGhpcy5faW5lcnRpYSxuPXRoaXMuX21hcDtpZihhLmxlbmd0aDwyKW4uc25hcFRvTm9ydGgoe30se29yaWdpbmFsRXZlbnQ6ZX0pO2Vsc2V7dmFyIHM9YVthLmxlbmd0aC0xXSxsPWFbMF0sYz1uLnRyYW5zZm9ybS5zY2FsZVpvb20ocipzWzFdKSx1PW4udHJhbnNmb3JtLnNjYWxlWm9vbShyKmxbMV0pLGg9KHNbMF0tbFswXSkvMWUzLHA9c1syXTtpZigwIT09aCYmYyE9PXUpe3ZhciBkPS4xNSooYy11KS9oO01hdGguYWJzKGQpPjIuNSYmKGQ9ZD4wPzIuNTotMi41KTt2YXIgXz0xZTMqTWF0aC5hYnMoZC8oMTIqLjE1KSk7bi5lYXNlVG8oe3pvb206YytkKl8vMmUzLGR1cmF0aW9uOl8sZWFzaW5nOkJvLGFyb3VuZDp0aGlzLl9hcm91bmRDZW50ZXI/bi5nZXRDZW50ZXIoKTpuLnVucHJvamVjdChwKSxub01vdmVTdGFydDohMH0se29yaWdpbmFsRXZlbnQ6ZX0pO31lbHNlIG4uc25hcFRvTm9ydGgoe30se29yaWdpbmFsRXZlbnQ6ZX0pO319fSxPby5wcm90b3R5cGUuX2RyYWluSW5lcnRpYUJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9pbmVydGlhLGk9dC5icm93c2VyLm5vdygpO2UubGVuZ3RoPjImJmktZVswXVswXT4xNjA7KWUuc2hpZnQoKTt9O3ZhciBGbz17c2Nyb2xsWm9vbTpTbyxib3hab29tOlBvLGRyYWdSb3RhdGU6TG8sZHJhZ1BhbjpEbyxrZXlib2FyZDpBbyxkb3VibGVDbGlja1pvb206a28sdG91Y2hab29tUm90YXRlOk9vfSxVbz1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKGksbyl7ZS5jYWxsKHRoaXMpLHRoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMudHJhbnNmb3JtPWksdGhpcy5fYmVhcmluZ1NuYXA9by5iZWFyaW5nU25hcCx0LmJpbmRBbGwoWyJfcmVuZGVyRnJhbWVDYWxsYmFjayJdLHRoaXMpO31yZXR1cm4gZSYmKGkuX19wcm90b19fPWUpLChpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQuTG5nTGF0KHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcsdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCl9LGkucHJvdG90eXBlLnNldENlbnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmp1bXBUbyh7Y2VudGVyOnR9LGUpfSxpLnByb3RvdHlwZS5wYW5CeT1mdW5jdGlvbihlLGksbyl7cmV0dXJuIGU9dC5Qb2ludC5jb252ZXJ0KGUpLm11bHQoLTEpLHRoaXMucGFuVG8odGhpcy50cmFuc2Zvcm0uY2VudGVyLHQuZXh0ZW5kKHtvZmZzZXQ6ZX0saSksbyl9LGkucHJvdG90eXBlLnBhblRvPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gdGhpcy5lYXNlVG8odC5leHRlbmQoe2NlbnRlcjplfSxpKSxvKX0saS5wcm90b3R5cGUuZ2V0Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS56b29tfSxpLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuanVtcFRvKHt6b29tOnR9LGUpLHRoaXN9LGkucHJvdG90eXBlLnpvb21Ubz1mdW5jdGlvbihlLGksbyl7cmV0dXJuIHRoaXMuZWFzZVRvKHQuZXh0ZW5kKHt6b29tOmV9LGkpLG8pfSxpLnByb3RvdHlwZS56b29tSW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCkrMSx0LGUpLHRoaXN9LGkucHJvdG90eXBlLnpvb21PdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCktMSx0LGUpLHRoaXN9LGkucHJvdG90eXBlLmdldEJlYXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZ30saS5wcm90b3R5cGUuc2V0QmVhcmluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmp1bXBUbyh7YmVhcmluZzp0fSxlKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRQYWRkaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBhZGRpbmd9LGkucHJvdG90eXBlLnNldFBhZGRpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BhZGRpbmc6dH0sZSksdGhpc30saS5wcm90b3R5cGUucm90YXRlVG89ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0aGlzLmVhc2VUbyh0LmV4dGVuZCh7YmVhcmluZzplfSxpKSxvKX0saS5wcm90b3R5cGUucmVzZXROb3J0aD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLnJvdGF0ZVRvKDAsdC5leHRlbmQoe2R1cmF0aW9uOjFlM30sZSksaSksdGhpc30saS5wcm90b3R5cGUucmVzZXROb3J0aFBpdGNoPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHRoaXMuZWFzZVRvKHQuZXh0ZW5kKHtiZWFyaW5nOjAscGl0Y2g6MCxkdXJhdGlvbjoxZTN9LGUpLGkpLHRoaXN9LGkucHJvdG90eXBlLnNuYXBUb05vcnRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWJzKHRoaXMuZ2V0QmVhcmluZygpKTx0aGlzLl9iZWFyaW5nU25hcD90aGlzLnJlc2V0Tm9ydGgodCxlKTp0aGlzfSxpLnByb3RvdHlwZS5nZXRQaXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5waXRjaH0saS5wcm90b3R5cGUuc2V0UGl0Y2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BpdGNoOnR9LGUpLHRoaXN9LGkucHJvdG90eXBlLmNhbWVyYUZvckJvdW5kcz1mdW5jdGlvbihlLGkpe3JldHVybiBlPXQuTG5nTGF0Qm91bmRzLmNvbnZlcnQoZSksdGhpcy5fY2FtZXJhRm9yQm94QW5kQmVhcmluZyhlLmdldE5vcnRoV2VzdCgpLGUuZ2V0U291dGhFYXN0KCksMCxpKX0saS5wcm90b3R5cGUuX2NhbWVyYUZvckJveEFuZEJlYXJpbmc9ZnVuY3Rpb24oZSxpLG8scil7dmFyIGE9e3RvcDowLGJvdHRvbTowLHJpZ2h0OjAsbGVmdDowfTtpZigibnVtYmVyIj09dHlwZW9mKHI9dC5leHRlbmQoe3BhZGRpbmc6YSxvZmZzZXQ6WzAsMF0sbWF4Wm9vbTp0aGlzLnRyYW5zZm9ybS5tYXhab29tfSxyKSkucGFkZGluZyl7dmFyIG49ci5wYWRkaW5nO3IucGFkZGluZz17dG9wOm4sYm90dG9tOm4scmlnaHQ6bixsZWZ0Om59O31yLnBhZGRpbmc9dC5leHRlbmQoYSxyLnBhZGRpbmcpO3ZhciBzPXRoaXMudHJhbnNmb3JtLGw9cy5wYWRkaW5nLGM9cy5wcm9qZWN0KHQuTG5nTGF0LmNvbnZlcnQoZSkpLHU9cy5wcm9qZWN0KHQuTG5nTGF0LmNvbnZlcnQoaSkpLGg9Yy5yb3RhdGUoLW8qTWF0aC5QSS8xODApLHA9dS5yb3RhdGUoLW8qTWF0aC5QSS8xODApLGQ9bmV3IHQuUG9pbnQoTWF0aC5tYXgoaC54LHAueCksTWF0aC5tYXgoaC55LHAueSkpLF89bmV3IHQuUG9pbnQoTWF0aC5taW4oaC54LHAueCksTWF0aC5taW4oaC55LHAueSkpLGY9ZC5zdWIoXyksbT0ocy53aWR0aC0obC5sZWZ0K2wucmlnaHQrci5wYWRkaW5nLmxlZnQrci5wYWRkaW5nLnJpZ2h0KSkvZi54LGc9KHMuaGVpZ2h0LShsLnRvcCtsLmJvdHRvbStyLnBhZGRpbmcudG9wK3IucGFkZGluZy5ib3R0b20pKS9mLnk7aWYoIShnPDB8fG08MCkpe3ZhciB2PU1hdGgubWluKHMuc2NhbGVab29tKHMuc2NhbGUqTWF0aC5taW4obSxnKSksci5tYXhab29tKSx5PXQuUG9pbnQuY29udmVydChyLm9mZnNldCkseD1uZXcgdC5Qb2ludCh5LngrKHIucGFkZGluZy5sZWZ0LXIucGFkZGluZy5yaWdodCkvMix5LnkrKHIucGFkZGluZy50b3Atci5wYWRkaW5nLmJvdHRvbSkvMikubXVsdChzLnNjYWxlL3Muem9vbVNjYWxlKHYpKTtyZXR1cm4ge2NlbnRlcjpzLnVucHJvamVjdChjLmFkZCh1KS5kaXYoMikuc3ViKHgpKSx6b29tOnYsYmVhcmluZzpvfX10Lndhcm5PbmNlKCJNYXAgY2Fubm90IGZpdCB3aXRoaW4gY2FudmFzIHdpdGggdGhlIGdpdmVuIGJvdW5kcywgcGFkZGluZywgYW5kL29yIG9mZnNldC4iKTt9LGkucHJvdG90eXBlLmZpdEJvdW5kcz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKHRoaXMuY2FtZXJhRm9yQm91bmRzKHQsZSksZSxpKX0saS5wcm90b3R5cGUuZml0U2NyZWVuQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSxpLG8scixhKXtyZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwodGhpcy5fY2FtZXJhRm9yQm94QW5kQmVhcmluZyh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKHQuUG9pbnQuY29udmVydChlKSksdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbih0LlBvaW50LmNvbnZlcnQoaSkpLG8scikscixhKX0saS5wcm90b3R5cGUuX2ZpdEludGVybmFsPWZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gZT8oZGVsZXRlKGk9dC5leHRlbmQoZSxpKSkucGFkZGluZyxpLmxpbmVhcj90aGlzLmVhc2VUbyhpLG8pOnRoaXMuZmx5VG8oaSxvKSk6dGhpc30saS5wcm90b3R5cGUuanVtcFRvPWZ1bmN0aW9uKGUsaSl7dGhpcy5zdG9wKCk7dmFyIG89dGhpcy50cmFuc2Zvcm0scj0hMSxhPSExLG49ITE7cmV0dXJuICJ6b29tImluIGUmJm8uem9vbSE9PStlLnpvb20mJihyPSEwLG8uem9vbT0rZS56b29tKSx2b2lkIDAhPT1lLmNlbnRlciYmKG8uY2VudGVyPXQuTG5nTGF0LmNvbnZlcnQoZS5jZW50ZXIpKSwiYmVhcmluZyJpbiBlJiZvLmJlYXJpbmchPT0rZS5iZWFyaW5nJiYoYT0hMCxvLmJlYXJpbmc9K2UuYmVhcmluZyksInBpdGNoImluIGUmJm8ucGl0Y2ghPT0rZS5waXRjaCYmKG49ITAsby5waXRjaD0rZS5waXRjaCksbnVsbD09ZS5wYWRkaW5nfHxvLmlzUGFkZGluZ0VxdWFsKGUucGFkZGluZyl8fChvLnBhZGRpbmc9ZS5wYWRkaW5nKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVzdGFydCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoIm1vdmUiLGkpKSxyJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInpvb21zdGFydCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoInpvb20iLGkpKS5maXJlKG5ldyB0LkV2ZW50KCJ6b29tZW5kIixpKSksYSYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJyb3RhdGVzdGFydCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoInJvdGF0ZSIsaSkpLmZpcmUobmV3IHQuRXZlbnQoInJvdGF0ZWVuZCIsaSkpLG4mJnRoaXMuZmlyZShuZXcgdC5FdmVudCgicGl0Y2hzdGFydCIsaSkpLmZpcmUobmV3IHQuRXZlbnQoInBpdGNoIixpKSkuZmlyZShuZXcgdC5FdmVudCgicGl0Y2hlbmQiLGkpKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVlbmQiLGkpKX0saS5wcm90b3R5cGUuZWFzZVRvPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpczt0aGlzLnN0b3AoKSwoITE9PT0oZT10LmV4dGVuZCh7b2Zmc2V0OlswLDBdLGR1cmF0aW9uOjUwMCxlYXNpbmc6dC5lYXNlfSxlKSkuYW5pbWF0ZXx8IWUuZXNzZW50aWFsJiZ0LmJyb3dzZXIucHJlZmVyc1JlZHVjZWRNb3Rpb24pJiYoZS5kdXJhdGlvbj0wKTt2YXIgcj10aGlzLnRyYW5zZm9ybSxhPXRoaXMuZ2V0Wm9vbSgpLG49dGhpcy5nZXRCZWFyaW5nKCkscz10aGlzLmdldFBpdGNoKCksbD10aGlzLmdldFBhZGRpbmcoKSxjPSJ6b29tImluIGU/K2Uuem9vbTphLHU9ImJlYXJpbmciaW4gZT90aGlzLl9ub3JtYWxpemVCZWFyaW5nKGUuYmVhcmluZyxuKTpuLGg9InBpdGNoImluIGU/K2UucGl0Y2g6cyxwPSJwYWRkaW5nImluIGU/ZS5wYWRkaW5nOnIucGFkZGluZyxkPXQuUG9pbnQuY29udmVydChlLm9mZnNldCksXz1yLmNlbnRlclBvaW50LmFkZChkKSxmPXIucG9pbnRMb2NhdGlvbihfKSxtPXQuTG5nTGF0LmNvbnZlcnQoZS5jZW50ZXJ8fGYpO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihtKTt2YXIgZyx2LHk9ci5wcm9qZWN0KGYpLHg9ci5wcm9qZWN0KG0pLnN1Yih5KSxiPXIuem9vbVNjYWxlKGMtYSk7cmV0dXJuIGUuYXJvdW5kJiYoZz10LkxuZ0xhdC5jb252ZXJ0KGUuYXJvdW5kKSx2PXIubG9jYXRpb25Qb2ludChnKSksdGhpcy5fem9vbWluZz1jIT09YSx0aGlzLl9yb3RhdGluZz1uIT09dSx0aGlzLl9waXRjaGluZz1oIT09cyx0aGlzLl9wYWRkaW5nPSFyLmlzUGFkZGluZ0VxdWFsKHApLHRoaXMuX3ByZXBhcmVFYXNlKGksZS5ub01vdmVTdGFydCksY2xlYXJUaW1lb3V0KHRoaXMuX2Vhc2VFbmRUaW1lb3V0SUQpLHRoaXMuX2Vhc2UoKGZ1bmN0aW9uKGUpe2lmKG8uX3pvb21pbmcmJihyLnpvb209dC5udW1iZXIoYSxjLGUpKSxvLl9yb3RhdGluZyYmKHIuYmVhcmluZz10Lm51bWJlcihuLHUsZSkpLG8uX3BpdGNoaW5nJiYoci5waXRjaD10Lm51bWJlcihzLGgsZSkpLG8uX3BhZGRpbmcmJihyLmludGVycG9sYXRlUGFkZGluZyhsLHAsZSksXz1yLmNlbnRlclBvaW50LmFkZChkKSksZylyLnNldExvY2F0aW9uQXRQb2ludChnLHYpO2Vsc2V7dmFyIGY9ci56b29tU2NhbGUoci56b29tLWEpLG09Yz5hP01hdGgubWluKDIsYik6TWF0aC5tYXgoLjUsYiksdz1NYXRoLnBvdyhtLDEtZSksRT1yLnVucHJvamVjdCh5LmFkZCh4Lm11bHQoZSp3KSkubXVsdChmKSk7ci5zZXRMb2NhdGlvbkF0UG9pbnQoci5yZW5kZXJXb3JsZENvcGllcz9FLndyYXAoKTpFLF8pO31vLl9maXJlTW92ZUV2ZW50cyhpKTt9KSwoZnVuY3Rpb24oKXtlLmRlbGF5RW5kRXZlbnRzP28uX2Vhc2VFbmRUaW1lb3V0SUQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gby5fYWZ0ZXJFYXNlKGkpfSksZS5kZWxheUVuZEV2ZW50cyk6by5fYWZ0ZXJFYXNlKGkpO30pLGUpLHRoaXN9LGkucHJvdG90eXBlLl9wcmVwYXJlRWFzZT1mdW5jdGlvbihlLGkpe3RoaXMuX21vdmluZz0hMCxpfHx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVzdGFydCIsZSkpLHRoaXMuX3pvb21pbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgiem9vbXN0YXJ0IixlKSksdGhpcy5fcm90YXRpbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgicm90YXRlc3RhcnQiLGUpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJwaXRjaHN0YXJ0IixlKSk7fSxpLnByb3RvdHlwZS5fZmlyZU1vdmVFdmVudHM9ZnVuY3Rpb24oZSl7dGhpcy5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlIixlKSksdGhpcy5fem9vbWluZyYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ6b29tIixlKSksdGhpcy5fcm90YXRpbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgicm90YXRlIixlKSksdGhpcy5fcGl0Y2hpbmcmJnRoaXMuZmlyZShuZXcgdC5FdmVudCgicGl0Y2giLGUpKTt9LGkucHJvdG90eXBlLl9hZnRlckVhc2U9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fem9vbWluZyxvPXRoaXMuX3JvdGF0aW5nLHI9dGhpcy5fcGl0Y2hpbmc7dGhpcy5fbW92aW5nPSExLHRoaXMuX3pvb21pbmc9ITEsdGhpcy5fcm90YXRpbmc9ITEsdGhpcy5fcGl0Y2hpbmc9ITEsdGhpcy5fcGFkZGluZz0hMSxpJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInpvb21lbmQiLGUpKSxvJiZ0aGlzLmZpcmUobmV3IHQuRXZlbnQoInJvdGF0ZWVuZCIsZSkpLHImJnRoaXMuZmlyZShuZXcgdC5FdmVudCgicGl0Y2hlbmQiLGUpKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVlbmQiLGUpKTt9LGkucHJvdG90eXBlLmZseVRvPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpcztpZighZS5lc3NlbnRpYWwmJnQuYnJvd3Nlci5wcmVmZXJzUmVkdWNlZE1vdGlvbil7dmFyIHI9dC5waWNrKGUsWyJjZW50ZXIiLCJ6b29tIiwiYmVhcmluZyIsInBpdGNoIiwiYXJvdW5kIl0pO3JldHVybiB0aGlzLmp1bXBUbyhyLGkpfXRoaXMuc3RvcCgpLGU9dC5leHRlbmQoe29mZnNldDpbMCwwXSxzcGVlZDoxLjIsY3VydmU6MS40MixlYXNpbmc6dC5lYXNlfSxlKTt2YXIgYT10aGlzLnRyYW5zZm9ybSxuPXRoaXMuZ2V0Wm9vbSgpLHM9dGhpcy5nZXRCZWFyaW5nKCksbD10aGlzLmdldFBpdGNoKCksYz10aGlzLmdldFBhZGRpbmcoKSx1PSJ6b29tImluIGU/dC5jbGFtcCgrZS56b29tLGEubWluWm9vbSxhLm1heFpvb20pOm4saD0iYmVhcmluZyJpbiBlP3RoaXMuX25vcm1hbGl6ZUJlYXJpbmcoZS5iZWFyaW5nLHMpOnMscD0icGl0Y2giaW4gZT8rZS5waXRjaDpsLGQ9InBhZGRpbmciaW4gZT9lLnBhZGRpbmc6YS5wYWRkaW5nLF89YS56b29tU2NhbGUodS1uKSxmPXQuUG9pbnQuY29udmVydChlLm9mZnNldCksbT1hLmNlbnRlclBvaW50LmFkZChmKSxnPWEucG9pbnRMb2NhdGlvbihtKSx2PXQuTG5nTGF0LmNvbnZlcnQoZS5jZW50ZXJ8fGcpO3RoaXMuX25vcm1hbGl6ZUNlbnRlcih2KTt2YXIgeT1hLnByb2plY3QoZykseD1hLnByb2plY3Qodikuc3ViKHkpLGI9ZS5jdXJ2ZSx3PU1hdGgubWF4KGEud2lkdGgsYS5oZWlnaHQpLEU9dy9fLFQ9eC5tYWcoKTtpZigibWluWm9vbSJpbiBlKXt2YXIgST10LmNsYW1wKE1hdGgubWluKGUubWluWm9vbSxuLHUpLGEubWluWm9vbSxhLm1heFpvb20pLEM9dy9hLnpvb21TY2FsZShJLW4pO2I9TWF0aC5zcXJ0KEMvVCoyKTt9dmFyIFM9YipiO2Z1bmN0aW9uIFAodCl7dmFyIGU9KEUqRS13KncrKHQ/LTE6MSkqUypTKlQqVCkvKDIqKHQ/RTp3KSpTKlQpO3JldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoZSplKzEpLWUpfWZ1bmN0aW9uIHoodCl7cmV0dXJuIChNYXRoLmV4cCh0KS1NYXRoLmV4cCgtdCkpLzJ9ZnVuY3Rpb24gTCh0KXtyZXR1cm4gKE1hdGguZXhwKHQpK01hdGguZXhwKC10KSkvMn12YXIgTT1QKDApLEQ9ZnVuY3Rpb24odCl7cmV0dXJuIEwoTSkvTChNK2IqdCl9LEE9ZnVuY3Rpb24odCl7cmV0dXJuIHcqKChMKE0pKih6KGU9TStiKnQpL0woZSkpLXooTSkpL1MpL1Q7dmFyIGU7fSxSPShQKDEpLU0pL2I7aWYoTWF0aC5hYnMoVCk8MWUtNnx8IWlzRmluaXRlKFIpKXtpZihNYXRoLmFicyh3LUUpPDFlLTYpcmV0dXJuIHRoaXMuZWFzZVRvKGUsaSk7dmFyIGs9RTx3Py0xOjE7Uj1NYXRoLmFicyhNYXRoLmxvZyhFL3cpKS9iLEE9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sRD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5leHAoaypiKnQpfTt9cmV0dXJuIGUuZHVyYXRpb249ImR1cmF0aW9uImluIGU/K2UuZHVyYXRpb246MWUzKlIvKCJzY3JlZW5TcGVlZCJpbiBlPytlLnNjcmVlblNwZWVkL2I6K2Uuc3BlZWQpLGUubWF4RHVyYXRpb24mJmUuZHVyYXRpb24+ZS5tYXhEdXJhdGlvbiYmKGUuZHVyYXRpb249MCksdGhpcy5fem9vbWluZz0hMCx0aGlzLl9yb3RhdGluZz1zIT09aCx0aGlzLl9waXRjaGluZz1wIT09bCx0aGlzLl9wYWRkaW5nPSFhLmlzUGFkZGluZ0VxdWFsKGQpLHRoaXMuX3ByZXBhcmVFYXNlKGksITEpLHRoaXMuX2Vhc2UoKGZ1bmN0aW9uKGUpe3ZhciByPWUqUixfPTEvRChyKTthLnpvb209MT09PWU/dTpuK2Euc2NhbGVab29tKF8pLG8uX3JvdGF0aW5nJiYoYS5iZWFyaW5nPXQubnVtYmVyKHMsaCxlKSksby5fcGl0Y2hpbmcmJihhLnBpdGNoPXQubnVtYmVyKGwscCxlKSksby5fcGFkZGluZyYmKGEuaW50ZXJwb2xhdGVQYWRkaW5nKGMsZCxlKSxtPWEuY2VudGVyUG9pbnQuYWRkKGYpKTt2YXIgZz0xPT09ZT92OmEudW5wcm9qZWN0KHkuYWRkKHgubXVsdChBKHIpKSkubXVsdChfKSk7YS5zZXRMb2NhdGlvbkF0UG9pbnQoYS5yZW5kZXJXb3JsZENvcGllcz9nLndyYXAoKTpnLG0pLG8uX2ZpcmVNb3ZlRXZlbnRzKGkpO30pLChmdW5jdGlvbigpe3JldHVybiBvLl9hZnRlckVhc2UoaSl9KSxlKSx0aGlzfSxpLnByb3RvdHlwZS5pc0Vhc2luZz1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX2Vhc2VGcmFtZUlkfSxpLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7aWYodGhpcy5fZWFzZUZyYW1lSWQmJih0aGlzLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9lYXNlRnJhbWVJZCksZGVsZXRlIHRoaXMuX2Vhc2VGcmFtZUlkLGRlbGV0ZSB0aGlzLl9vbkVhc2VGcmFtZSksdGhpcy5fb25FYXNlRW5kKXt2YXIgdD10aGlzLl9vbkVhc2VFbmQ7ZGVsZXRlIHRoaXMuX29uRWFzZUVuZCx0LmNhbGwodGhpcyk7fXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5fZWFzZT1mdW5jdGlvbihlLGksbyl7ITE9PT1vLmFuaW1hdGV8fDA9PT1vLmR1cmF0aW9uPyhlKDEpLGkoKSk6KHRoaXMuX2Vhc2VTdGFydD10LmJyb3dzZXIubm93KCksdGhpcy5fZWFzZU9wdGlvbnM9byx0aGlzLl9vbkVhc2VGcmFtZT1lLHRoaXMuX29uRWFzZUVuZD1pLHRoaXMuX2Vhc2VGcmFtZUlkPXRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKSk7fSxpLnByb3RvdHlwZS5fcmVuZGVyRnJhbWVDYWxsYmFjaz1mdW5jdGlvbigpe3ZhciBlPU1hdGgubWluKCh0LmJyb3dzZXIubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKTt0aGlzLl9vbkVhc2VGcmFtZSh0aGlzLl9lYXNlT3B0aW9ucy5lYXNpbmcoZSkpLGU8MT90aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjayk6dGhpcy5zdG9wKCk7fSxpLnByb3RvdHlwZS5fbm9ybWFsaXplQmVhcmluZz1mdW5jdGlvbihlLGkpe2U9dC53cmFwKGUsLTE4MCwxODApO3ZhciBvPU1hdGguYWJzKGUtaSk7cmV0dXJuIE1hdGguYWJzKGUtMzYwLWkpPG8mJihlLT0zNjApLE1hdGguYWJzKGUrMzYwLWkpPG8mJihlKz0zNjApLGV9LGkucHJvdG90eXBlLl9ub3JtYWxpemVDZW50ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50cmFuc2Zvcm07aWYoZS5yZW5kZXJXb3JsZENvcGllcyYmIWUubG5nUmFuZ2Upe3ZhciBpPXQubG5nLWUuY2VudGVyLmxuZzt0LmxuZys9aT4xODA/LTM2MDppPC0xODA/MzYwOjA7fX0saX0odC5FdmVudGVkKSxObz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT17fSksdGhpcy5vcHRpb25zPWUsdC5iaW5kQWxsKFsiX3VwZGF0ZUVkaXRMaW5rIiwiX3VwZGF0ZURhdGEiLCJfdXBkYXRlQ29tcGFjdCJdLHRoaXMpO307Tm8ucHJvdG90eXBlLmdldERlZmF1bHRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiAiYm90dG9tLXJpZ2h0In0sTm8ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmNvbXBhY3Q7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYiIpLHRoaXMuX2lubmVyQ29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lciIsdGhpcy5fY29udGFpbmVyKSxlJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY29tcGFjdCIpLHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCksdGhpcy5fbWFwLm9uKCJzdHlsZWRhdGEiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbigic291cmNlZGF0YSIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9uKCJtb3ZlZW5kIix0aGlzLl91cGRhdGVFZGl0TGluayksdm9pZCAwPT09ZSYmKHRoaXMuX21hcC5vbigicmVzaXplIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCkpLHRoaXMuX2NvbnRhaW5lcn0sTm8ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAub2ZmKCJzdHlsZWRhdGEiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vZmYoInNvdXJjZWRhdGEiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vZmYoIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx0aGlzLl9tYXAub2ZmKCJyZXNpemUiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX21hcD12b2lkIDAsdGhpcy5fYXR0cmliSFRNTD12b2lkIDA7fSxOby5wcm90b3R5cGUuX3VwZGF0ZUVkaXRMaW5rPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZWRpdExpbms7ZXx8KGU9dGhpcy5fZWRpdExpbms9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5tYXBib3gtaW1wcm92ZS1tYXAiKSk7dmFyIGk9W3trZXk6Im93bmVyIix2YWx1ZTp0aGlzLnN0eWxlT3duZXJ9LHtrZXk6ImlkIix2YWx1ZTp0aGlzLnN0eWxlSWR9LHtrZXk6ImFjY2Vzc190b2tlbiIsdmFsdWU6dGhpcy5fbWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW58fHQuY29uZmlnLkFDQ0VTU19UT0tFTn1dO2lmKGUpe3ZhciBvPWkucmVkdWNlKChmdW5jdGlvbih0LGUsbyl7cmV0dXJuIGUudmFsdWUmJih0Kz1lLmtleSsiPSIrZS52YWx1ZSsobzxpLmxlbmd0aC0xPyImIjoiIikpLHR9KSwiPyIpO2UuaHJlZj10LmNvbmZpZy5GRUVEQkFDS19VUkwrIi8iK28rKHRoaXMuX21hcC5faGFzaD90aGlzLl9tYXAuX2hhc2guZ2V0SGFzaFN0cmluZyghMCk6IiIpLGUucmVsPSJub29wZW5lciBub2ZvbGxvdyI7fX0sTm8ucHJvdG90eXBlLl91cGRhdGVEYXRhPWZ1bmN0aW9uKHQpeyF0fHwibWV0YWRhdGEiIT09dC5zb3VyY2VEYXRhVHlwZSYmInN0eWxlIiE9PXQuZGF0YVR5cGV8fCh0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpKTt9LE5vLnByb3RvdHlwZS5fdXBkYXRlQXR0cmlidXRpb25zPWZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwLnN0eWxlKXt2YXIgdD1bXTtpZih0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24mJihBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbik/dD10LmNvbmNhdCh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gInN0cmluZyIhPXR5cGVvZiB0PyIiOnR9KSkpOiJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiZ0LnB1c2godGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKSksdGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQpe3ZhciBlPXRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0O3RoaXMuc3R5bGVPd25lcj1lLm93bmVyLHRoaXMuc3R5bGVJZD1lLmlkO312YXIgaT10aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO2Zvcih2YXIgbyBpbiBpKXt2YXIgcj1pW29dO2lmKHIudXNlZCl7dmFyIGE9ci5nZXRTb3VyY2UoKTthLmF0dHJpYnV0aW9uJiZ0LmluZGV4T2YoYS5hdHRyaWJ1dGlvbik8MCYmdC5wdXNoKGEuYXR0cmlidXRpb24pO319dC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aC1lLmxlbmd0aH0pKTt2YXIgbj0odD10LmZpbHRlcigoZnVuY3Rpb24oZSxpKXtmb3IodmFyIG89aSsxO288dC5sZW5ndGg7bysrKWlmKHRbb10uaW5kZXhPZihlKT49MClyZXR1cm4gITE7cmV0dXJuICEwfSkpKS5qb2luKCIgfCAiKTtuIT09dGhpcy5fYXR0cmliSFRNTCYmKHRoaXMuX2F0dHJpYkhUTUw9bix0Lmxlbmd0aD8odGhpcy5faW5uZXJDb250YWluZXIuaW5uZXJIVE1MPW4sdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWF0dHJpYi1lbXB0eSIpKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtYXR0cmliLWVtcHR5IiksdGhpcy5fZWRpdExpbms9bnVsbCk7fX0sTm8ucHJvdG90eXBlLl91cGRhdGVDb21wYWN0PWZ1bmN0aW9uKCl7dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPD02NDA/dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWNvbXBhY3QiKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY29tcGFjdCIpO307dmFyIFpvPWZ1bmN0aW9uKCl7dC5iaW5kQWxsKFsiX3VwZGF0ZUxvZ28iXSx0aGlzKSx0LmJpbmRBbGwoWyJfdXBkYXRlQ29tcGFjdCJdLHRoaXMpO307Wm8ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCIpO3ZhciBlPWkuY3JlYXRlKCJhIiwibWFwYm94Z2wtY3RybC1sb2dvIik7cmV0dXJuIGUudGFyZ2V0PSJfYmxhbmsiLGUucmVsPSJub29wZW5lciBub2ZvbGxvdyIsZS5ocmVmPSJodHRwczovL3d3dy5tYXBib3guY29tLyIsZS5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoIkxvZ29Db250cm9sLlRpdGxlIikpLGUuc2V0QXR0cmlidXRlKCJyZWwiLCJub29wZW5lciBub2ZvbGxvdyIpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChlKSx0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fbWFwLm9uKCJzb3VyY2VkYXRhIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl91cGRhdGVMb2dvKCksdGhpcy5fbWFwLm9uKCJyZXNpemUiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSx0aGlzLl9jb250YWluZXJ9LFpvLnByb3RvdHlwZS5vblJlbW92ZT1mdW5jdGlvbigpe2kucmVtb3ZlKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwLm9mZigic291cmNlZGF0YSIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fbWFwLm9mZigicmVzaXplIix0aGlzLl91cGRhdGVDb21wYWN0KTt9LFpvLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gImJvdHRvbS1sZWZ0In0sWm8ucHJvdG90eXBlLl91cGRhdGVMb2dvPWZ1bmN0aW9uKHQpe3QmJiJtZXRhZGF0YSIhPT10LnNvdXJjZURhdGFUeXBlfHwodGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dGhpcy5fbG9nb1JlcXVpcmVkKCk/ImJsb2NrIjoibm9uZSIpO30sWm8ucHJvdG90eXBlLl9sb2dvUmVxdWlyZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9tYXAuc3R5bGUpe3ZhciB0PXRoaXMuX21hcC5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBlIGluIHQpaWYodFtlXS5nZXRTb3VyY2UoKS5tYXBib3hfbG9nbylyZXR1cm4gITA7cmV0dXJuICExfX0sWm8ucHJvdG90eXBlLl91cGRhdGVDb21wYWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyLmNoaWxkcmVuO2lmKHQubGVuZ3RoKXt2YXIgZT10WzBdO3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDwyNTA/ZS5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jb21wYWN0Iik6ZS5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jb21wYWN0Iik7fX07dmFyIHFvPWZ1bmN0aW9uKCl7dGhpcy5fcXVldWU9W10sdGhpcy5faWQ9MCx0aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITE7fTtxby5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPSsrdGhpcy5faWQ7cmV0dXJuIHRoaXMuX3F1ZXVlLnB1c2goe2NhbGxiYWNrOnQsaWQ6ZSxjYW5jZWxsZWQ6ITF9KSxlfSxxby5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jdXJyZW50bHlSdW5uaW5nLGk9MCxvPWU/dGhpcy5fcXVldWUuY29uY2F0KGUpOnRoaXMuX3F1ZXVlO2k8by5sZW5ndGg7aSs9MSl7dmFyIHI9b1tpXTtpZihyLmlkPT09dClyZXR1cm4gdm9pZChyLmNhbmNlbGxlZD0hMCl9fSxxby5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY3VycmVudGx5UnVubmluZz10aGlzLl9xdWV1ZTt0aGlzLl9xdWV1ZT1bXTtmb3IodmFyIGU9MCxpPXQ7ZTxpLmxlbmd0aDtlKz0xKXt2YXIgbz1pW2VdO2lmKCFvLmNhbmNlbGxlZCYmKG8uY2FsbGJhY2soKSx0aGlzLl9jbGVhcmVkKSlicmVha310aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITE7fSxxby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50bHlSdW5uaW5nJiYodGhpcy5fY2xlYXJlZD0hMCksdGhpcy5fcXVldWU9W107fTt2YXIgam89eyJGdWxsc2NyZWVuQ29udHJvbC5FbnRlciI6IkVudGVyIGZ1bGxzY3JlZW4iLCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0IjoiRXhpdCBmdWxsc2NyZWVuIiwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvbiI6IkZpbmQgbXkgbG9jYXRpb24iLCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlIjoiTG9jYXRpb24gbm90IGF2YWlsYWJsZSIsIkxvZ29Db250cm9sLlRpdGxlIjoiTWFwYm94IGxvZ28iLCJOYXZpZ2F0aW9uQ29udHJvbC5SZXNldEJlYXJpbmciOiJSZXNldCBiZWFyaW5nIHRvIG5vcnRoIiwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluIjoiWm9vbSBpbiIsIk5hdmlnYXRpb25Db250cm9sLlpvb21PdXQiOiJab29tIG91dCIsIlNjYWxlQ29udHJvbC5GZWV0IjoiZnQiLCJTY2FsZUNvbnRyb2wuTWV0ZXJzIjoibSIsIlNjYWxlQ29udHJvbC5LaWxvbWV0ZXJzIjoia20iLCJTY2FsZUNvbnRyb2wuTWlsZXMiOiJtaSIsIlNjYWxlQ29udHJvbC5OYXV0aWNhbE1pbGVzIjoibm0ifSxWbz10LndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50LEdvPXQud2luZG93LkhUTUxFbGVtZW50LFdvPXQud2luZG93LkltYWdlQml0bWFwLFhvPTAsSG89NjAsS289e2NlbnRlcjpbMCwwXSx6b29tOjAsYmVhcmluZzowLHBpdGNoOjAsbWluWm9vbTotMixtYXhab29tOjIyLG1pblBpdGNoOlhvLG1heFBpdGNoOkhvLGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCxiZWFyaW5nU25hcDo3LGNsaWNrVG9sZXJhbmNlOjMsaGFzaDohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsdHJhY2tSZXNpemU6ITAscmVuZGVyV29ybGRDb3BpZXM6ITAscmVmcmVzaEV4cGlyZWRUaWxlczohMCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiJzYW5zLXNlcmlmIix0cmFuc2Zvcm1SZXF1ZXN0Om51bGwsYWNjZXNzVG9rZW46bnVsbCxmYWRlRHVyYXRpb246MzAwLGNyb3NzU291cmNlQ29sbGlzaW9uczohMH0sWW89ZnVuY3Rpb24obyl7ZnVuY3Rpb24gcihlKXt2YXIgcj10aGlzO2lmKG51bGwhPShlPXQuZXh0ZW5kKHt9LEtvLGUpKS5taW5ab29tJiZudWxsIT1lLm1heFpvb20mJmUubWluWm9vbT5lLm1heFpvb20pdGhyb3cgbmV3IEVycm9yKCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblpvb20iKTtpZihudWxsIT1lLm1pblBpdGNoJiZudWxsIT1lLm1heFBpdGNoJiZlLm1pblBpdGNoPmUubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaCIpO2lmKG51bGwhPWUubWluUGl0Y2gmJmUubWluUGl0Y2g8WG8pdGhyb3cgbmV3IEVycm9yKCJtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAiK1hvKTtpZihudWxsIT1lLm1heFBpdGNoJiZlLm1heFBpdGNoPkhvKXRocm93IG5ldyBFcnJvcigibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gIitIbyk7dmFyIGE9bmV3IGJvKGUubWluWm9vbSxlLm1heFpvb20sZS5taW5QaXRjaCxlLm1heFBpdGNoLGUucmVuZGVyV29ybGRDb3BpZXMpO2lmKG8uY2FsbCh0aGlzLGEsZSksdGhpcy5faW50ZXJhY3RpdmU9ZS5pbnRlcmFjdGl2ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPWUubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCx0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsdGhpcy5fYW50aWFsaWFzPWUuYW50aWFsaWFzLHRoaXMuX3RyYWNrUmVzaXplPWUudHJhY2tSZXNpemUsdGhpcy5fYmVhcmluZ1NuYXA9ZS5iZWFyaW5nU25hcCx0aGlzLl9yZWZyZXNoRXhwaXJlZFRpbGVzPWUucmVmcmVzaEV4cGlyZWRUaWxlcyx0aGlzLl9mYWRlRHVyYXRpb249ZS5mYWRlRHVyYXRpb24sdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zPWUuY3Jvc3NTb3VyY2VDb2xsaXNpb25zLHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yPTEsdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPWUuY29sbGVjdFJlc291cmNlVGltaW5nLHRoaXMuX3JlbmRlclRhc2tRdWV1ZT1uZXcgcW8sdGhpcy5fY29udHJvbHM9W10sdGhpcy5fbWFwSWQ9dC51bmlxdWVJZCgpLHRoaXMuX2xvY2FsZT10LmV4dGVuZCh7fSxqbyxlLmxvY2FsZSksdGhpcy5fcmVxdWVzdE1hbmFnZXI9bmV3IHQuUmVxdWVzdE1hbmFnZXIoZS50cmFuc2Zvcm1SZXF1ZXN0LGUuYWNjZXNzVG9rZW4pLCJzdHJpbmciPT10eXBlb2YgZS5jb250YWluZXIpe2lmKHRoaXMuX2NvbnRhaW5lcj10LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmNvbnRhaW5lciksIXRoaXMuX2NvbnRhaW5lcil0aHJvdyBuZXcgRXJyb3IoIkNvbnRhaW5lciAnIitlLmNvbnRhaW5lcisiJyBub3QgZm91bmQuIil9ZWxzZXtpZighKGUuY29udGFpbmVyIGluc3RhbmNlb2YgR28pKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0eXBlOiAnY29udGFpbmVyJyBtdXN0IGJlIGEgU3RyaW5nIG9yIEhUTUxFbGVtZW50LiIpO3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjt9aWYoZS5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKGUubWF4Qm91bmRzKSx0LmJpbmRBbGwoWyJfb25XaW5kb3dPbmxpbmUiLCJfb25XaW5kb3dSZXNpemUiLCJfY29udGV4dExvc3QiLCJfY29udGV4dFJlc3RvcmVkIl0sdGhpcyksdGhpcy5fc2V0dXBDb250YWluZXIoKSx0aGlzLl9zZXR1cFBhaW50ZXIoKSx2b2lkIDA9PT10aGlzLnBhaW50ZXIpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTC4iKTt0aGlzLm9uKCJtb3ZlIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5fdXBkYXRlKCExKX0pKSx0aGlzLm9uKCJtb3ZlZW5kIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5fdXBkYXRlKCExKX0pKSx0aGlzLm9uKCJ6b29tIiwoZnVuY3Rpb24oKXtyZXR1cm4gci5fdXBkYXRlKCEwKX0pKSx2b2lkIDAhPT10LndpbmRvdyYmKHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm9ubGluZSIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLHQud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpKSxmdW5jdGlvbih0LGUpe3ZhciBvPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCkscj1udWxsLGE9ITEsbj1udWxsO2Zvcih2YXIgcyBpbiBGbyl0W3NdPW5ldyBGb1tzXSh0LGUpLGUuaW50ZXJhY3RpdmUmJmVbc10mJnRbc10uZW5hYmxlKGVbc10pO2kuYWRkRXZlbnRMaXN0ZW5lcihvLCJtb3VzZW91dCIsKGZ1bmN0aW9uKGUpe3QuZmlyZShuZXcgVG8oIm1vdXNlb3V0Iix0LGUpKTt9KSksaS5hZGRFdmVudExpc3RlbmVyKG8sIm1vdXNlZG93biIsKGZ1bmN0aW9uKHIpe2E9ITAsbj1pLm1vdXNlUG9zKG8scik7dmFyIHM9bmV3IFRvKCJtb3VzZWRvd24iLHQscik7dC5maXJlKHMpLHMuZGVmYXVsdFByZXZlbnRlZHx8KGUuaW50ZXJhY3RpdmUmJiF0LmRvdWJsZUNsaWNrWm9vbS5pc0FjdGl2ZSgpJiZ0LnN0b3AoKSx0LmJveFpvb20ub25Nb3VzZURvd24ociksdC5ib3hab29tLmlzQWN0aXZlKCl8fHQuZHJhZ1Bhbi5pc0FjdGl2ZSgpfHx0LmRyYWdSb3RhdGUub25Nb3VzZURvd24ociksdC5ib3hab29tLmlzQWN0aXZlKCl8fHQuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpfHx0LmRyYWdQYW4ub25Nb3VzZURvd24ocikpO30pKSxpLmFkZEV2ZW50TGlzdGVuZXIobywibW91c2V1cCIsKGZ1bmN0aW9uKGUpe3ZhciBpPXQuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO3ImJiFpJiZ0LmZpcmUobmV3IFRvKCJjb250ZXh0bWVudSIsdCxyKSkscj1udWxsLGE9ITEsdC5maXJlKG5ldyBUbygibW91c2V1cCIsdCxlKSk7fSkpLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJtb3VzZW1vdmUiLChmdW5jdGlvbihlKXtpZighdC5kcmFnUGFuLmlzQWN0aXZlKCkmJiF0LmRyYWdSb3RhdGUuaXNBY3RpdmUoKSl7Zm9yKHZhciBpPWUudGFyZ2V0O2kmJmkhPT1vOylpPWkucGFyZW50Tm9kZTtpPT09byYmdC5maXJlKG5ldyBUbygibW91c2Vtb3ZlIix0LGUpKTt9fSkpLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJtb3VzZW92ZXIiLChmdW5jdGlvbihlKXtmb3IodmFyIGk9ZS50YXJnZXQ7aSYmaSE9PW87KWk9aS5wYXJlbnROb2RlO2k9PT1vJiZ0LmZpcmUobmV3IFRvKCJtb3VzZW92ZXIiLHQsZSkpO30pKSxpLmFkZEV2ZW50TGlzdGVuZXIobywidG91Y2hzdGFydCIsKGZ1bmN0aW9uKGkpe3ZhciBvPW5ldyBJbygidG91Y2hzdGFydCIsdCxpKTt0LmZpcmUobyksby5kZWZhdWx0UHJldmVudGVkfHwoZS5pbnRlcmFjdGl2ZSYmdC5zdG9wKCksdC5ib3hab29tLmlzQWN0aXZlKCl8fHQuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpfHx0LmRyYWdQYW4ub25Ub3VjaFN0YXJ0KGkpLHQudG91Y2hab29tUm90YXRlLm9uU3RhcnQoaSksdC5kb3VibGVDbGlja1pvb20ub25Ub3VjaFN0YXJ0KG8pKTt9KSx7cGFzc2l2ZTohMX0pLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJ0b3VjaG1vdmUiLChmdW5jdGlvbihlKXt0LmZpcmUobmV3IElvKCJ0b3VjaG1vdmUiLHQsZSkpO30pLHtwYXNzaXZlOiExfSksaS5hZGRFdmVudExpc3RlbmVyKG8sInRvdWNoZW5kIiwoZnVuY3Rpb24oZSl7dC5maXJlKG5ldyBJbygidG91Y2hlbmQiLHQsZSkpO30pKSxpLmFkZEV2ZW50TGlzdGVuZXIobywidG91Y2hjYW5jZWwiLChmdW5jdGlvbihlKXt0LmZpcmUobmV3IElvKCJ0b3VjaGNhbmNlbCIsdCxlKSk7fSkpLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJjbGljayIsKGZ1bmN0aW9uKHIpe3ZhciBhPWkubW91c2VQb3MobyxyKTsoIW58fGEuZXF1YWxzKG4pfHxhLmRpc3Qobik8ZS5jbGlja1RvbGVyYW5jZSkmJnQuZmlyZShuZXcgVG8oImNsaWNrIix0LHIpKTt9KSksaS5hZGRFdmVudExpc3RlbmVyKG8sImRibGNsaWNrIiwoZnVuY3Rpb24oZSl7dmFyIGk9bmV3IFRvKCJkYmxjbGljayIsdCxlKTt0LmZpcmUoaSksaS5kZWZhdWx0UHJldmVudGVkfHx0LmRvdWJsZUNsaWNrWm9vbS5vbkRibENsaWNrKGkpO30pKSxpLmFkZEV2ZW50TGlzdGVuZXIobywiY29udGV4dG1lbnUiLChmdW5jdGlvbihlKXt2YXIgaT10LmRyYWdSb3RhdGUuaXNBY3RpdmUoKTthfHxpP2EmJihyPWUpOnQuZmlyZShuZXcgVG8oImNvbnRleHRtZW51Iix0LGUpKSwodC5kcmFnUm90YXRlLmlzRW5hYmxlZCgpfHx0Lmxpc3RlbnMoImNvbnRleHRtZW51IikpJiZlLnByZXZlbnREZWZhdWx0KCk7fSkpLGkuYWRkRXZlbnRMaXN0ZW5lcihvLCJ3aGVlbCIsKGZ1bmN0aW9uKGkpe2UuaW50ZXJhY3RpdmUmJnQuc3RvcCgpO3ZhciBvPW5ldyBDbygid2hlZWwiLHQsaSk7dC5maXJlKG8pLG8uZGVmYXVsdFByZXZlbnRlZHx8dC5zY3JvbGxab29tLm9uV2hlZWwoaSk7fSkse3Bhc3NpdmU6ITF9KTt9KHRoaXMsZSksdGhpcy5faGFzaD1lLmhhc2gmJm5ldyBFbygic3RyaW5nIj09dHlwZW9mIGUuaGFzaCYmZS5oYXNofHx2b2lkIDApLmFkZFRvKHRoaXMpLHRoaXMuX2hhc2gmJnRoaXMuX2hhc2guX29uSGFzaENoYW5nZSgpfHwodGhpcy5qdW1wVG8oe2NlbnRlcjplLmNlbnRlcix6b29tOmUuem9vbSxiZWFyaW5nOmUuYmVhcmluZyxwaXRjaDplLnBpdGNofSksZS5ib3VuZHMmJih0aGlzLnJlc2l6ZSgpLHRoaXMuZml0Qm91bmRzKGUuYm91bmRzLHQuZXh0ZW5kKHt9LGUuZml0Qm91bmRzT3B0aW9ucyx7ZHVyYXRpb246MH0pKSkpLHRoaXMucmVzaXplKCksdGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWUubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LGUuc3R5bGUmJnRoaXMuc2V0U3R5bGUoZS5zdHlsZSx7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OmUubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5fSksZS5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuYWRkQ29udHJvbChuZXcgTm8oe2N1c3RvbUF0dHJpYnV0aW9uOmUuY3VzdG9tQXR0cmlidXRpb259KSksdGhpcy5hZGRDb250cm9sKG5ldyBabyxlLmxvZ29Qb3NpdGlvbiksdGhpcy5vbigic3R5bGUubG9hZCIsKGZ1bmN0aW9uKCl7ci50cmFuc2Zvcm0udW5tb2RpZmllZCYmci5qdW1wVG8oci5zdHlsZS5zdHlsZXNoZWV0KTt9KSksdGhpcy5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe3IuX3VwZGF0ZSgic3R5bGUiPT09ZS5kYXRhVHlwZSksci5maXJlKG5ldyB0LkV2ZW50KGUuZGF0YVR5cGUrImRhdGEiLGUpKTt9KSksdGhpcy5vbigiZGF0YWxvYWRpbmciLChmdW5jdGlvbihlKXtyLmZpcmUobmV3IHQuRXZlbnQoZS5kYXRhVHlwZSsiZGF0YWxvYWRpbmciLGUpKTt9KSk7fW8mJihyLl9fcHJvdG9fXz1vKSwoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvJiZvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXI7dmFyIGE9e3Nob3dUaWxlQm91bmRhcmllczp7Y29uZmlndXJhYmxlOiEwfSxzaG93UGFkZGluZzp7Y29uZmlndXJhYmxlOiEwfSxzaG93Q29sbGlzaW9uQm94ZXM6e2NvbmZpZ3VyYWJsZTohMH0sc2hvd092ZXJkcmF3SW5zcGVjdG9yOntjb25maWd1cmFibGU6ITB9LHJlcGFpbnQ6e2NvbmZpZ3VyYWJsZTohMH0sdmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMH0sdmVyc2lvbjp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIHIucHJvdG90eXBlLl9nZXRNYXBJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXBJZH0sci5wcm90b3R5cGUuYWRkQ29udHJvbD1mdW5jdGlvbihlLGkpe2lmKHZvaWQgMD09PWkmJmUuZ2V0RGVmYXVsdFBvc2l0aW9uJiYoaT1lLmdldERlZmF1bHRQb3NpdGlvbigpKSx2b2lkIDA9PT1pJiYoaT0idG9wLXJpZ2h0IiksIWV8fCFlLm9uQWRkKXJldHVybiB0aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy4iKSkpO3ZhciBvPWUub25BZGQodGhpcyk7dGhpcy5fY29udHJvbHMucHVzaChlKTt2YXIgcj10aGlzLl9jb250cm9sUG9zaXRpb25zW2ldO3JldHVybiAtMSE9PWkuaW5kZXhPZigiYm90dG9tIik/ci5pbnNlcnRCZWZvcmUobyxyLmZpcnN0Q2hpbGQpOnIuYXBwZW5kQ2hpbGQobyksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlQ29udHJvbD1mdW5jdGlvbihlKXtpZighZXx8IWUub25SZW1vdmUpcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiSW52YWxpZCBhcmd1bWVudCB0byBtYXAucmVtb3ZlQ29udHJvbCgpLiBBcmd1bWVudCBtdXN0IGJlIGEgY29udHJvbCB3aXRoIG9uQWRkIGFuZCBvblJlbW92ZSBtZXRob2RzLiIpKSk7dmFyIGk9dGhpcy5fY29udHJvbHMuaW5kZXhPZihlKTtyZXR1cm4gaT4tMSYmdGhpcy5fY29udHJvbHMuc3BsaWNlKGksMSksZS5vblJlbW92ZSh0aGlzKSx0aGlzfSxyLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fY29udGFpbmVyRGltZW5zaW9ucygpLG89aVswXSxyPWlbMV07cmV0dXJuIHRoaXMuX3Jlc2l6ZUNhbnZhcyhvLHIpLHRoaXMudHJhbnNmb3JtLnJlc2l6ZShvLHIpLHRoaXMucGFpbnRlci5yZXNpemUobyxyKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoIm1vdmVzdGFydCIsZSkpLmZpcmUobmV3IHQuRXZlbnQoIm1vdmUiLGUpKS5maXJlKG5ldyB0LkV2ZW50KCJyZXNpemUiLGUpKS5maXJlKG5ldyB0LkV2ZW50KCJtb3ZlZW5kIixlKSksdGhpc30sci5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldEJvdW5kcygpfSxyLnByb3RvdHlwZS5nZXRNYXhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCl9LHIucHJvdG90eXBlLnNldE1heEJvdW5kcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKHQuTG5nTGF0Qm91bmRzLmNvbnZlcnQoZSkpLHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5zZXRNaW5ab29tPWZ1bmN0aW9uKHQpe2lmKCh0PW51bGw9PXQ/LTI6dCk+PS0yJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhab29tKXJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRab29tKCk8dCYmdGhpcy5zZXRab29tKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlIil9LHIucHJvdG90eXBlLmdldE1pblpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX0sci5wcm90b3R5cGUuc2V0TWF4Wm9vbT1mdW5jdGlvbih0KXtpZigodD1udWxsPT10PzIyOnQpPj10aGlzLnRyYW5zZm9ybS5taW5ab29tKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRab29tKCk+dCYmdGhpcy5zZXRab29tKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb20iKX0sci5wcm90b3R5cGUuZ2V0TWF4Wm9vbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfSxyLnByb3RvdHlwZS5zZXRNaW5QaXRjaD1mdW5jdGlvbih0KXtpZigodD1udWxsPT10P1hvOnQpPFhvKXRocm93IG5ldyBFcnJvcigibWluUGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gIitYbyk7aWYodD49WG8mJnQ8PXRoaXMudHJhbnNmb3JtLm1heFBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKTx0JiZ0aGlzLnNldFBpdGNoKHQpLHRoaXM7dGhyb3cgbmV3IEVycm9yKCJtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gIitYbysiIGFuZCB0aGUgY3VycmVudCBtYXhQaXRjaCwgaW5jbHVzaXZlIil9LHIucHJvdG90eXBlLmdldE1pblBpdGNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNofSxyLnByb3RvdHlwZS5zZXRNYXhQaXRjaD1mdW5jdGlvbih0KXtpZigodD1udWxsPT10P0hvOnQpPkhvKXRocm93IG5ldyBFcnJvcigibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gIitIbyk7aWYodD49dGhpcy50cmFuc2Zvcm0ubWluUGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPnQmJnRoaXMuc2V0UGl0Y2godCksdGhpczt0aHJvdyBuZXcgRXJyb3IoIm1heFBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblBpdGNoIil9LHIucHJvdG90eXBlLmdldE1heFBpdGNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNofSxyLnByb3RvdHlwZS5nZXRSZW5kZXJXb3JsZENvcGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc30sci5wcm90b3R5cGUuc2V0UmVuZGVyV29ybGRDb3BpZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzPXQsdGhpcy5fdXBkYXRlKCl9LHIucHJvdG90eXBlLnByb2plY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQodC5MbmdMYXQuY29udmVydChlKSl9LHIucHJvdG90eXBlLnVucHJvamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbih0LlBvaW50LmNvbnZlcnQoZSkpfSxyLnByb3RvdHlwZS5pc01vdmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3Zpbmd8fHRoaXMuZHJhZ1Bhbi5pc0FjdGl2ZSgpfHx0aGlzLmRyYWdSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5zY3JvbGxab29tLmlzQWN0aXZlKCl9LHIucHJvdG90eXBlLmlzWm9vbWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLnNjcm9sbFpvb20uaXNab29taW5nKCl9LHIucHJvdG90eXBlLmlzUm90YXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpbmd8fHRoaXMuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpfSxyLnByb3RvdHlwZS5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciBvLHI9dGhpcztpZigibW91c2VlbnRlciI9PT10fHwibW91c2VvdmVyIj09PXQpe3ZhciBhPSExO3JldHVybiB7bGF5ZXI6ZSxsaXN0ZW5lcjppLGRlbGVnYXRlczp7bW91c2Vtb3ZlOmZ1bmN0aW9uKG8pe3ZhciBuPXIuZ2V0TGF5ZXIoZSk/ci5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoby5wb2ludCx7bGF5ZXJzOltlXX0pOltdO24ubGVuZ3RoP2F8fChhPSEwLGkuY2FsbChyLG5ldyBUbyh0LHIsby5vcmlnaW5hbEV2ZW50LHtmZWF0dXJlczpufSkpKTphPSExO30sbW91c2VvdXQ6ZnVuY3Rpb24oKXthPSExO319fX1pZigibW91c2VsZWF2ZSI9PT10fHwibW91c2VvdXQiPT09dCl7dmFyIG49ITE7cmV0dXJuIHtsYXllcjplLGxpc3RlbmVyOmksZGVsZWdhdGVzOnttb3VzZW1vdmU6ZnVuY3Rpb24obyl7KHIuZ2V0TGF5ZXIoZSk/ci5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoby5wb2ludCx7bGF5ZXJzOltlXX0pOltdKS5sZW5ndGg/bj0hMDpuJiYobj0hMSxpLmNhbGwocixuZXcgVG8odCxyLG8ub3JpZ2luYWxFdmVudCkpKTt9LG1vdXNlb3V0OmZ1bmN0aW9uKGUpe24mJihuPSExLGkuY2FsbChyLG5ldyBUbyh0LHIsZS5vcmlnaW5hbEV2ZW50KSkpO319fX1yZXR1cm4ge2xheWVyOmUsbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6KG89e30sb1t0XT1mdW5jdGlvbih0KXt2YXIgbz1yLmdldExheWVyKGUpP3IucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQucG9pbnQse2xheWVyczpbZV19KTpbXTtvLmxlbmd0aCYmKHQuZmVhdHVyZXM9byxpLmNhbGwocix0KSxkZWxldGUgdC5mZWF0dXJlcyk7fSxvKX19LHIucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pKXJldHVybiBvLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsdCxlKTt2YXIgcj10aGlzLl9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcih0LGUsaSk7Zm9yKHZhciBhIGluIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVycz10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnN8fHt9LHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0XT10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdF18fFtdLHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0XS5wdXNoKHIpLHIuZGVsZWdhdGVzKXRoaXMub24oYSxyLmRlbGVnYXRlc1thXSk7cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIG8ucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLHQsZSk7dmFyIHI9dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIodCxlLGkpO2Zvcih2YXIgYSBpbiByLmRlbGVnYXRlcyl0aGlzLm9uY2UoYSxyLmRlbGVnYXRlc1thXSk7cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcztyZXR1cm4gdm9pZCAwPT09aT9vLnByb3RvdHlwZS5vZmYuY2FsbCh0aGlzLHQsZSk6KHRoaXMuX2RlbGVnYXRlZExpc3RlbmVycyYmdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3RdJiZmdW5jdGlvbihvKXtmb3IodmFyIGE9b1t0XSxuPTA7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07aWYocy5sYXllcj09PWUmJnMubGlzdGVuZXI9PT1pKXtmb3IodmFyIGwgaW4gcy5kZWxlZ2F0ZXMpci5vZmYobCxzLmRlbGVnYXRlc1tsXSk7cmV0dXJuIGEuc3BsaWNlKG4sMSkscn19fSh0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnMpLHRoaXMpfSxyLnByb3RvdHlwZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXM9ZnVuY3Rpb24oZSxpKXtpZighdGhpcy5zdHlsZSlyZXR1cm4gW107dmFyIG87aWYodm9pZCAwIT09aXx8dm9pZCAwPT09ZXx8ZSBpbnN0YW5jZW9mIHQuUG9pbnR8fEFycmF5LmlzQXJyYXkoZSl8fChpPWUsZT12b2lkIDApLGk9aXx8e30sKGU9ZXx8W1swLDBdLFt0aGlzLnRyYW5zZm9ybS53aWR0aCx0aGlzLnRyYW5zZm9ybS5oZWlnaHRdXSlpbnN0YW5jZW9mIHQuUG9pbnR8fCJudW1iZXIiPT10eXBlb2YgZVswXSlvPVt0LlBvaW50LmNvbnZlcnQoZSldO2Vsc2V7dmFyIHI9dC5Qb2ludC5jb252ZXJ0KGVbMF0pLGE9dC5Qb2ludC5jb252ZXJ0KGVbMV0pO289W3IsbmV3IHQuUG9pbnQoYS54LHIueSksYSxuZXcgdC5Qb2ludChyLngsYS55KSxyXTt9cmV0dXJuIHRoaXMuc3R5bGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG8saSx0aGlzLnRyYW5zZm9ybSl9LHIucHJvdG90eXBlLnF1ZXJ5U291cmNlRmVhdHVyZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5xdWVyeVNvdXJjZUZlYXR1cmVzKHQsZSl9LHIucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGUsaSl7cmV0dXJuICExIT09KGk9dC5leHRlbmQoe30se2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseTp0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHl9LGkpKS5kaWZmJiZpLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT09PXRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmdGhpcy5zdHlsZSYmZT8odGhpcy5fZGlmZlN0eWxlKGUsaSksdGhpcyk6KHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT1pLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSx0aGlzLl91cGRhdGVTdHlsZShlLGkpKX0sci5wcm90b3R5cGUuX2dldFVJU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2xvY2FsZVt0XTtpZihudWxsPT1lKXRocm93IG5ldyBFcnJvcigiTWlzc2luZyBVSSBzdHJpbmcgJyIrdCsiJyIpO3JldHVybiBlfSxyLnByb3RvdHlwZS5fdXBkYXRlU3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZSYmKHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLnN0eWxlLl9yZW1vdmUoKSksdD8odGhpcy5zdHlsZT1uZXcgTmUodGhpcyxlfHx7fSksdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMse3N0eWxlOnRoaXMuc3R5bGV9KSwic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5zdHlsZS5sb2FkVVJMKHQpOnRoaXMuc3R5bGUubG9hZEpTT04odCksdGhpcyk6KGRlbGV0ZSB0aGlzLnN0eWxlLHRoaXMpfSxyLnByb3RvdHlwZS5fbGF6eUluaXRFbXB0eVN0eWxlPWZ1bmN0aW9uKCl7dGhpcy5zdHlsZXx8KHRoaXMuc3R5bGU9bmV3IE5lKHRoaXMse30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksdGhpcy5zdHlsZS5sb2FkRW1wdHkoKSk7fSxyLnByb3RvdHlwZS5fZGlmZlN0eWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpcztpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciByPXRoaXMuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVN0eWxlVVJMKGUpLGE9dGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChyLHQuUmVzb3VyY2VUeXBlLlN0eWxlKTt0LmdldEpTT04oYSwoZnVuY3Rpb24oZSxyKXtlP28uZmlyZShuZXcgdC5FcnJvckV2ZW50KGUpKTpyJiZvLl91cGRhdGVEaWZmKHIsaSk7fSkpO31lbHNlIm9iamVjdCI9PXR5cGVvZiBlJiZ0aGlzLl91cGRhdGVEaWZmKGUsaSk7fSxyLnByb3RvdHlwZS5fdXBkYXRlRGlmZj1mdW5jdGlvbihlLGkpe3RyeXt0aGlzLnN0eWxlLnNldFN0YXRlKGUpJiZ0aGlzLl91cGRhdGUoITApO31jYXRjaChvKXt0Lndhcm5PbmNlKCJVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAiKyhvLm1lc3NhZ2V8fG8uZXJyb3J8fG8pKyIuICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guIiksdGhpcy5fdXBkYXRlU3R5bGUoZSxpKTt9fSxyLnByb3RvdHlwZS5nZXRTdHlsZT1mdW5jdGlvbigpe2lmKHRoaXMuc3R5bGUpcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCl9LHIucHJvdG90eXBlLmlzU3R5bGVMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmxvYWRlZCgpOnQud2Fybk9uY2UoIlRoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuIil9LHIucHJvdG90eXBlLmFkZFNvdXJjZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZFNvdXJjZSh0LGUpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmlzU291cmNlTG9hZGVkPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2VdO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGkubG9hZGVkKCk7dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCBJRCAnIitlKyInIikpKTt9LHIucHJvdG90eXBlLmFyZVRpbGVzTG9hZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7Zm9yKHZhciBlIGluIHQpe3ZhciBpPXRbZV0uX3RpbGVzO2Zvcih2YXIgbyBpbiBpKXt2YXIgcj1pW29dO2lmKCJsb2FkZWQiIT09ci5zdGF0ZSYmImVycm9yZWQiIT09ci5zdGF0ZSlyZXR1cm4gITF9fXJldHVybiAhMH0sci5wcm90b3R5cGUuYWRkU291cmNlVHlwZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlVHlwZSh0LGUsaSl9LHIucHJvdG90eXBlLnJlbW92ZVNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UodCksdGhpcy5fdXBkYXRlKCEwKX0sci5wcm90b3R5cGUuZ2V0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZSh0KX0sci5wcm90b3R5cGUuYWRkSW1hZ2U9ZnVuY3Rpb24oZSxpLG8pe3ZvaWQgMD09PW8mJihvPXt9KTt2YXIgcj1vLnBpeGVsUmF0aW87dm9pZCAwPT09ciYmKHI9MSk7dmFyIGE9by5zZGY7dm9pZCAwPT09YSYmKGE9ITEpO3ZhciBuPW8uc3RyZXRjaFgscz1vLnN0cmV0Y2hZLGw9by5jb250ZW50O2lmKHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLGkgaW5zdGFuY2VvZiBWb3x8V28mJmkgaW5zdGFuY2VvZiBXbyl7dmFyIGM9dC5icm93c2VyLmdldEltYWdlRGF0YShpKTt0aGlzLnN0eWxlLmFkZEltYWdlKGUse2RhdGE6bmV3IHQuUkdCQUltYWdlKHt3aWR0aDpjLndpZHRoLGhlaWdodDpjLmhlaWdodH0sYy5kYXRhKSxwaXhlbFJhdGlvOnIsc3RyZXRjaFg6bixzdHJldGNoWTpzLGNvbnRlbnQ6bCxzZGY6YSx2ZXJzaW9uOjB9KTt9ZWxzZXtpZih2b2lkIDA9PT1pLndpZHRofHx2b2lkIDA9PT1pLmhlaWdodClyZXR1cm4gdGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAiKSkpO3ZhciB1PWk7dGhpcy5zdHlsZS5hZGRJbWFnZShlLHtkYXRhOm5ldyB0LlJHQkFJbWFnZSh7d2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9LG5ldyBVaW50OEFycmF5KGkuZGF0YSkpLHBpeGVsUmF0aW86cixzdHJldGNoWDpuLHN0cmV0Y2hZOnMsY29udGVudDpsLHNkZjphLHZlcnNpb246MCx1c2VySW1hZ2U6dX0pLHUub25BZGQmJnUub25BZGQodGhpcyxlKTt9fSxyLnByb3RvdHlwZS51cGRhdGVJbWFnZT1mdW5jdGlvbihlLGkpe3ZhciBvPXRoaXMuc3R5bGUuZ2V0SW1hZ2UoZSk7aWYoIW8pcmV0dXJuIHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiVGhlIG1hcCBoYXMgbm8gaW1hZ2Ugd2l0aCB0aGF0IGlkLiBJZiB5b3UgYXJlIGFkZGluZyBhIG5ldyBpbWFnZSB1c2UgYG1hcC5hZGRJbWFnZSguLi4pYCBpbnN0ZWFkLiIpKSk7dmFyIHI9aSBpbnN0YW5jZW9mIFZvfHxXbyYmaSBpbnN0YW5jZW9mIFdvP3QuYnJvd3Nlci5nZXRJbWFnZURhdGEoaSk6aSxhPXIud2lkdGgsbj1yLmhlaWdodCxzPXIuZGF0YTtyZXR1cm4gdm9pZCAwPT09YXx8dm9pZCAwPT09bj90aGlzLmZpcmUobmV3IHQuRXJyb3JFdmVudChuZXcgRXJyb3IoIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC51cGRhdGVJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYCIpKSk6YSE9PW8uZGF0YS53aWR0aHx8biE9PW8uZGF0YS5oZWlnaHQ/dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJUaGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdXBkYXRlZCBpbWFnZSBtdXN0IGJlIHRoYXQgc2FtZSBhcyB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGUgaW1hZ2UiKSkpOihvLmRhdGEucmVwbGFjZShzLCEoaSBpbnN0YW5jZW9mIFZvfHxXbyYmaSBpbnN0YW5jZW9mIFdvKSksdm9pZCB0aGlzLnN0eWxlLnVwZGF0ZUltYWdlKGUsbykpfSxyLnByb3RvdHlwZS5oYXNJbWFnZT1mdW5jdGlvbihlKXtyZXR1cm4gZT8hIXRoaXMuc3R5bGUuZ2V0SW1hZ2UoZSk6KHRoaXMuZmlyZShuZXcgdC5FcnJvckV2ZW50KG5ldyBFcnJvcigiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZCIpKSksITEpfSxyLnByb3RvdHlwZS5yZW1vdmVJbWFnZT1mdW5jdGlvbih0KXt0aGlzLnN0eWxlLnJlbW92ZUltYWdlKHQpO30sci5wcm90b3R5cGUubG9hZEltYWdlPWZ1bmN0aW9uKGUsaSl7dC5nZXRJbWFnZSh0aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGUsdC5SZXNvdXJjZVR5cGUuSW1hZ2UpLGkpO30sci5wcm90b3R5cGUubGlzdEltYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLmxpc3RJbWFnZXMoKX0sci5wcm90b3R5cGUuYWRkTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRMYXllcih0LGUpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLm1vdmVMYXllcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLm1vdmVMYXllcih0LGUpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLnJlbW92ZUxheWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUxheWVyKHQpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmdldExheWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldExheWVyKHQpfSxyLnByb3RvdHlwZS5zZXRMYXllclpvb21SYW5nZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TGF5ZXJab29tUmFuZ2UodCxlLGkpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLnNldEZpbHRlcj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPXt9KSx0aGlzLnN0eWxlLnNldEZpbHRlcih0LGUsaSksdGhpcy5fdXBkYXRlKCEwKX0sci5wcm90b3R5cGUuZ2V0RmlsdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0eWxlLmdldEZpbHRlcih0KX0sci5wcm90b3R5cGUuc2V0UGFpbnRQcm9wZXJ0eT1mdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89e30pLHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eSh0LGUsaSxvKSx0aGlzLl91cGRhdGUoITApfSxyLnByb3RvdHlwZS5nZXRQYWludFByb3BlcnR5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eSh0LGUpfSxyLnByb3RvdHlwZS5zZXRMYXlvdXRQcm9wZXJ0eT1mdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89e30pLHRoaXMuc3R5bGUuc2V0TGF5b3V0UHJvcGVydHkodCxlLGksbyksdGhpcy5fdXBkYXRlKCEwKX0sci5wcm90b3R5cGUuZ2V0TGF5b3V0UHJvcGVydHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXlvdXRQcm9wZXJ0eSh0LGUpfSxyLnByb3RvdHlwZS5zZXRMaWdodD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5zZXRMaWdodCh0LGUpLHRoaXMuX3VwZGF0ZSghMCl9LHIucHJvdG90eXBlLmdldExpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGlnaHQoKX0sci5wcm90b3R5cGUuc2V0RmVhdHVyZVN0YXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmVhdHVyZVN0YXRlKHQsZSksdGhpcy5fdXBkYXRlKCl9LHIucHJvdG90eXBlLnJlbW92ZUZlYXR1cmVTdGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUZlYXR1cmVTdGF0ZSh0LGUpLHRoaXMuX3VwZGF0ZSgpfSxyLnByb3RvdHlwZS5nZXRGZWF0dXJlU3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0RmVhdHVyZVN0YXRlKHQpfSxyLnByb3RvdHlwZS5nZXRDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfSxyLnByb3RvdHlwZS5nZXRDYW52YXNDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyfSxyLnByb3RvdHlwZS5nZXRDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FudmFzfSxyLnByb3RvdHlwZS5fY29udGFpbmVyRGltZW5zaW9ucz1mdW5jdGlvbigpe3ZhciB0PTAsZT0wO3JldHVybiB0aGlzLl9jb250YWluZXImJih0PXRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aHx8NDAwLGU9dGhpcy5fY29udGFpbmVyLmNsaWVudEhlaWdodHx8MzAwKSxbdCxlXX0sci5wcm90b3R5cGUuX2RldGVjdE1pc3NpbmdDU1M9ZnVuY3Rpb24oKXsicmdiKDI1MCwgMTI4LCAxMTQpIiE9PXQud2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZSgiYmFja2dyb3VuZC1jb2xvciIpJiZ0Lndhcm5PbmNlKCJUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yIE1hcGJveCBHTCBKUywgd2hpY2ggbWF5IGNhdXNlIHRoZSBtYXAgdG8gZGlzcGxheSBpbmNvcnJlY3RseS4gUGxlYXNlIGVuc3VyZSB5b3VyIHBhZ2UgaW5jbHVkZXMgbWFwYm94LWdsLmNzcywgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uIik7fSxyLnByb3RvdHlwZS5fc2V0dXBDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXI7dC5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1tYXAiKSwodGhpcy5fbWlzc2luZ0NTU0NhbmFyeT1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY2FuYXJ5Iix0KSkuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIix0aGlzLl9kZXRlY3RNaXNzaW5nQ1NTKCk7dmFyIGU9dGhpcy5fY2FudmFzQ29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1jYW52YXMtY29udGFpbmVyIix0KTt0aGlzLl9pbnRlcmFjdGl2ZSYmZS5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1pbnRlcmFjdGl2ZSIpLHRoaXMuX2NhbnZhcz1pLmNyZWF0ZSgiY2FudmFzIiwibWFwYm94Z2wtY2FudmFzIixlKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fY29udGV4dExvc3QsITEpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIjAiKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIiwiTWFwIik7dmFyIG89dGhpcy5fY29udGFpbmVyRGltZW5zaW9ucygpO3RoaXMuX3Jlc2l6ZUNhbnZhcyhvWzBdLG9bMV0pO3ZhciByPXRoaXMuX2NvbnRyb2xDb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyIix0KSxhPXRoaXMuX2NvbnRyb2xQb3NpdGlvbnM9e307WyJ0b3AtbGVmdCIsInRvcC1yaWdodCIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLXJpZ2h0Il0uZm9yRWFjaCgoZnVuY3Rpb24odCl7YVt0XT1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybC0iK3Qscik7fSkpO30sci5wcm90b3R5cGUuX3Jlc2l6ZUNhbnZhcz1mdW5jdGlvbihlLGkpe3ZhciBvPXQuYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvfHwxO3RoaXMuX2NhbnZhcy53aWR0aD1vKmUsdGhpcy5fY2FudmFzLmhlaWdodD1vKmksdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoPWUrInB4Iix0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0PWkrInB4Ijt9LHIucHJvdG90eXBlLl9zZXR1cFBhaW50ZXI9ZnVuY3Rpb24oKXt2YXIgaT10LmV4dGVuZCh7fSxlLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6dGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6dGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyLGFudGlhbGlhczp0aGlzLl9hbnRpYWxpYXN8fCExfSksbz10aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiLGkpfHx0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIixpKTtvPyh0aGlzLnBhaW50ZXI9bmV3IGdvKG8sdGhpcy50cmFuc2Zvcm0pLHQud2VicFN1cHBvcnRlZC50ZXN0U3VwcG9ydChvKSk6dGhpcy5maXJlKG5ldyB0LkVycm9yRXZlbnQobmV3IEVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTCIpKSk7fSxyLnByb3RvdHlwZS5fY29udGV4dExvc3Q9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ3ZWJnbGNvbnRleHRsb3N0Iix7b3JpZ2luYWxFdmVudDplfSkpO30sci5wcm90b3R5cGUuX2NvbnRleHRSZXN0b3JlZD1mdW5jdGlvbihlKXt0aGlzLl9zZXR1cFBhaW50ZXIoKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHtvcmlnaW5hbEV2ZW50OmV9KSk7fSxyLnByb3RvdHlwZS5sb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5sb2FkZWQoKX0sci5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZT8odGhpcy5fc3R5bGVEaXJ0eT10aGlzLl9zdHlsZURpcnR5fHx0LHRoaXMuX3NvdXJjZXNEaXJ0eT0hMCx0aGlzLnRyaWdnZXJSZXBhaW50KCksdGhpcyk6dGhpc30sci5wcm90b3R5cGUuX3JlcXVlc3RSZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmFkZCh0KX0sci5wcm90b3R5cGUuX2NhbmNlbFJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUodCk7fSxyLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLG89MCxyPXRoaXMucGFpbnRlci5jb250ZXh0LmV4dFRpbWVyUXVlcnk7dGhpcy5saXN0ZW5zKCJncHUtdGltaW5nLWZyYW1lIikmJihlPXIuY3JlYXRlUXVlcnlFWFQoKSxyLmJlZ2luUXVlcnlFWFQoci5USU1FX0VMQVBTRURfRVhULGUpLG89dC5icm93c2VyLm5vdygpKSx0aGlzLnBhaW50ZXIuY29udGV4dC5zZXREaXJ0eSgpLHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKCk7dmFyIGE9ITE7aWYodGhpcy5zdHlsZSYmdGhpcy5fc3R5bGVEaXJ0eSl7dGhpcy5fc3R5bGVEaXJ0eT0hMTt2YXIgbj10aGlzLnRyYW5zZm9ybS56b29tLHM9dC5icm93c2VyLm5vdygpO3RoaXMuc3R5bGUuem9vbUhpc3RvcnkudXBkYXRlKG4scyk7dmFyIGw9bmV3IHQuRXZhbHVhdGlvblBhcmFtZXRlcnMobix7bm93OnMsZmFkZUR1cmF0aW9uOnRoaXMuX2ZhZGVEdXJhdGlvbix6b29tSGlzdG9yeTp0aGlzLnN0eWxlLnpvb21IaXN0b3J5LHRyYW5zaXRpb246dGhpcy5zdHlsZS5nZXRUcmFuc2l0aW9uKCl9KSxjPWwuY3Jvc3NGYWRpbmdGYWN0b3IoKTsxPT09YyYmYz09PXRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yfHwoYT0hMCx0aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcj1jKSx0aGlzLnN0eWxlLnVwZGF0ZShsKTt9aWYodGhpcy5zdHlsZSYmdGhpcy5fc291cmNlc0RpcnR5JiYodGhpcy5fc291cmNlc0RpcnR5PSExLHRoaXMuc3R5bGUuX3VwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pKSx0aGlzLl9wbGFjZW1lbnREaXJ0eT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl91cGRhdGVQbGFjZW1lbnQodGhpcy5wYWludGVyLnRyYW5zZm9ybSx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyx0aGlzLl9mYWRlRHVyYXRpb24sdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zKSx0aGlzLnBhaW50ZXIucmVuZGVyKHRoaXMuc3R5bGUse3Nob3dUaWxlQm91bmRhcmllczp0aGlzLnNob3dUaWxlQm91bmRhcmllcyxzaG93T3ZlcmRyYXdJbnNwZWN0b3I6dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yLHJvdGF0aW5nOnRoaXMuaXNSb3RhdGluZygpLHpvb21pbmc6dGhpcy5pc1pvb21pbmcoKSxtb3Zpbmc6dGhpcy5pc01vdmluZygpLGZhZGVEdXJhdGlvbjp0aGlzLl9mYWRlRHVyYXRpb24sc2hvd1BhZGRpbmc6dGhpcy5zaG93UGFkZGluZyxncHVUaW1pbmc6ISF0aGlzLmxpc3RlbnMoImdwdS10aW1pbmctbGF5ZXIiKX0pLHRoaXMuZmlyZShuZXcgdC5FdmVudCgicmVuZGVyIikpLHRoaXMubG9hZGVkKCkmJiF0aGlzLl9sb2FkZWQmJih0aGlzLl9sb2FkZWQ9ITAsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJsb2FkIikpKSx0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpfHxhKSYmKHRoaXMuX3N0eWxlRGlydHk9ITApLHRoaXMuc3R5bGUmJiF0aGlzLl9wbGFjZW1lbnREaXJ0eSYmdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpLHRoaXMubGlzdGVucygiZ3B1LXRpbWluZy1mcmFtZSIpKXt2YXIgdT10LmJyb3dzZXIubm93KCktbztyLmVuZFF1ZXJ5RVhUKHIuVElNRV9FTEFQU0VEX0VYVCxlKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciBvPXIuZ2V0UXVlcnlPYmplY3RFWFQoZSxyLlFVRVJZX1JFU1VMVF9FWFQpLzFlNjtyLmRlbGV0ZVF1ZXJ5RVhUKGUpLGkuZmlyZShuZXcgdC5FdmVudCgiZ3B1LXRpbWluZy1mcmFtZSIse2NwdVRpbWU6dSxncHVUaW1lOm99KSk7fSksNTApO31pZih0aGlzLmxpc3RlbnMoImdwdS10aW1pbmctbGF5ZXIiKSl7dmFyIGg9dGhpcy5wYWludGVyLmNvbGxlY3RHcHVUaW1lcnMoKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciBlPWkucGFpbnRlci5xdWVyeUdwdVRpbWVycyhoKTtpLmZpcmUobmV3IHQuRXZlbnQoImdwdS10aW1pbmctbGF5ZXIiLHtsYXllclRpbWVzOmV9KSk7fSksNTApO31yZXR1cm4gdGhpcy5fc291cmNlc0RpcnR5fHx0aGlzLl9zdHlsZURpcnR5fHx0aGlzLl9wbGFjZW1lbnREaXJ0eXx8dGhpcy5fcmVwYWludD90aGlzLnRyaWdnZXJSZXBhaW50KCk6IXRoaXMuaXNNb3ZpbmcoKSYmdGhpcy5sb2FkZWQoKSYmKHRoaXMuX2Z1bGx5TG9hZGVkfHwodGhpcy5fZnVsbHlMb2FkZWQ9ITApLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiaWRsZSIpKSksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5faGFzaCYmdGhpcy5faGFzaC5yZW1vdmUoKTtmb3IodmFyIGU9MCxpPXRoaXMuX2NvbnRyb2xzO2U8aS5sZW5ndGg7ZSs9MSlpW2VdLm9uUmVtb3ZlKHRoaXMpO3RoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5wYWludGVyLmRlc3Ryb3koKSx0aGlzLnNldFN0eWxlKG51bGwpLHZvaWQgMCE9PXQud2luZG93JiYodC53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksdC53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigib25saW5lIix0aGlzLl9vbldpbmRvd09ubGluZSwhMSkpO3ZhciBvPXRoaXMucGFpbnRlci5jb250ZXh0LmdsLmdldEV4dGVuc2lvbigiV0VCR0xfbG9zZV9jb250ZXh0Iik7byYmby5sb3NlQ29udGV4dCgpLEpvKHRoaXMuX2NhbnZhc0NvbnRhaW5lciksSm8odGhpcy5fY29udHJvbENvbnRhaW5lciksSm8odGhpcy5fbWlzc2luZ0NTU0NhbmFyeSksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLW1hcCIpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgicmVtb3ZlIikpO30sci5wcm90b3R5cGUudHJpZ2dlclJlcGFpbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc3R5bGUmJiF0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lPXQuYnJvd3Nlci5mcmFtZSgoZnVuY3Rpb24odCl7ZS5fZnJhbWU9bnVsbCxlLl9yZW5kZXIoKTt9KSkpO30sci5wcm90b3R5cGUuX29uV2luZG93T25saW5lPWZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlKCk7fSxyLnByb3RvdHlwZS5fb25XaW5kb3dSZXNpemU9ZnVuY3Rpb24odCl7dGhpcy5fdHJhY2tSZXNpemUmJnRoaXMucmVzaXplKHtvcmlnaW5hbEV2ZW50OnR9KS5fdXBkYXRlKCk7fSxhLnNob3dUaWxlQm91bmRhcmllcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXN9LGEuc2hvd1RpbGVCb3VuZGFyaWVzLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMhPT10JiYodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzPXQsdGhpcy5fdXBkYXRlKCkpO30sYS5zaG93UGFkZGluZy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9zaG93UGFkZGluZ30sYS5zaG93UGFkZGluZy5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc2hvd1BhZGRpbmchPT10JiYodGhpcy5fc2hvd1BhZGRpbmc9dCx0aGlzLl91cGRhdGUoKSk7fSxhLnNob3dDb2xsaXNpb25Cb3hlcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXN9LGEuc2hvd0NvbGxpc2lvbkJveGVzLnNldD1mdW5jdGlvbih0KXt0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMhPT10JiYodGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzPXQsdD90aGlzLnN0eWxlLl9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCk6dGhpcy5fdXBkYXRlKCkpO30sYS5zaG93T3ZlcmRyYXdJbnNwZWN0b3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuICEhdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yfSxhLnNob3dPdmVyZHJhd0luc3BlY3Rvci5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yIT09dCYmKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj10LHRoaXMuX3VwZGF0ZSgpKTt9LGEucmVwYWludC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9yZXBhaW50fSxhLnJlcGFpbnQuc2V0PWZ1bmN0aW9uKHQpe3RoaXMuX3JlcGFpbnQhPT10JiYodGhpcy5fcmVwYWludD10LHRoaXMudHJpZ2dlclJlcGFpbnQoKSk7fSxhLnZlcnRpY2VzLmdldD1mdW5jdGlvbigpe3JldHVybiAhIXRoaXMuX3ZlcnRpY2VzfSxhLnZlcnRpY2VzLnNldD1mdW5jdGlvbih0KXt0aGlzLl92ZXJ0aWNlcz10LHRoaXMuX3VwZGF0ZSgpO30sci5wcm90b3R5cGUuX3NldENhY2hlTGltaXRzPWZ1bmN0aW9uKGUsaSl7dC5zZXRDYWNoZUxpbWl0cyhlLGkpO30sYS52ZXJzaW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB0LnZlcnNpb259LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHIucHJvdG90eXBlLGEpLHJ9KFVvKTtmdW5jdGlvbiBKbyh0KXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt9dmFyIFFvPXtzaG93Q29tcGFzczohMCxzaG93Wm9vbTohMCx2aXN1YWxpemVQaXRjaDohMX0sJG89ZnVuY3Rpb24oZSl7dmFyIG89dGhpczt0aGlzLm9wdGlvbnM9dC5leHRlbmQoe30sUW8sZSksdGhpcy5fY29udGFpbmVyPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXAiKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfSkpLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKHQuYmluZEFsbChbIl9zZXRCdXR0b25UaXRsZSIsIl91cGRhdGVab29tQnV0dG9ucyJdLHRoaXMpLHRoaXMuX3pvb21JbkJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oIm1hcGJveGdsLWN0cmwtem9vbS1pbiIsKGZ1bmN0aW9uKHQpe3JldHVybiBvLl9tYXAuem9vbUluKHt9LHtvcmlnaW5hbEV2ZW50OnR9KX0pKSxpLmNyZWF0ZSgic3BhbiIsIm1hcGJveGdsLWN0cmwtaWNvbiIsdGhpcy5fem9vbUluQnV0dG9uKS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oIm1hcGJveGdsLWN0cmwtem9vbS1vdXQiLChmdW5jdGlvbih0KXtyZXR1cm4gby5fbWFwLnpvb21PdXQoe30se29yaWdpbmFsRXZlbnQ6dH0pfSkpLGkuY3JlYXRlKCJzcGFuIiwibWFwYm94Z2wtY3RybC1pY29uIix0aGlzLl96b29tT3V0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCkpLHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcyYmKHQuYmluZEFsbChbIl9yb3RhdGVDb21wYXNzQXJyb3ciXSx0aGlzKSx0aGlzLl9jb21wYXNzPXRoaXMuX2NyZWF0ZUJ1dHRvbigibWFwYm94Z2wtY3RybC1jb21wYXNzIiwoZnVuY3Rpb24odCl7by5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP28uX21hcC5yZXNldE5vcnRoUGl0Y2goe30se29yaWdpbmFsRXZlbnQ6dH0pOm8uX21hcC5yZXNldE5vcnRoKHt9LHtvcmlnaW5hbEV2ZW50OnR9KTt9KSksdGhpcy5fY29tcGFzc0ljb249aS5jcmVhdGUoInNwYW4iLCJtYXBib3hnbC1jdHJsLWljb24iLHRoaXMuX2NvbXBhc3MpLHRoaXMuX2NvbXBhc3NJY29uLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCEwKSk7fTtmdW5jdGlvbiB0cihlLGksbyl7aWYoZT1uZXcgdC5MbmdMYXQoZS5sbmcsZS5sYXQpLGkpe3ZhciByPW5ldyB0LkxuZ0xhdChlLmxuZy0zNjAsZS5sYXQpLGE9bmV3IHQuTG5nTGF0KGUubG5nKzM2MCxlLmxhdCksbj1vLmxvY2F0aW9uUG9pbnQoZSkuZGlzdFNxcihpKTtvLmxvY2F0aW9uUG9pbnQocikuZGlzdFNxcihpKTxuP2U9cjpvLmxvY2F0aW9uUG9pbnQoYSkuZGlzdFNxcihpKTxuJiYoZT1hKTt9Zm9yKDtNYXRoLmFicyhlLmxuZy1vLmNlbnRlci5sbmcpPjE4MDspe3ZhciBzPW8ubG9jYXRpb25Qb2ludChlKTtpZihzLng+PTAmJnMueT49MCYmcy54PD1vLndpZHRoJiZzLnk8PW8uaGVpZ2h0KWJyZWFrO2UubG5nPm8uY2VudGVyLmxuZz9lLmxuZy09MzYwOmUubG5nKz0zNjA7fXJldHVybiBlfSRvLnByb3RvdHlwZS5fdXBkYXRlWm9vbUJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0Wm9vbSgpO3RoaXMuX3pvb21JbkJ1dHRvbi5kaXNhYmxlZD10PT09dGhpcy5fbWFwLmdldE1heFpvb20oKSx0aGlzLl96b29tT3V0QnV0dG9uLmRpc2FibGVkPXQ9PT10aGlzLl9tYXAuZ2V0TWluWm9vbSgpO30sJG8ucHJvdG90eXBlLl9yb3RhdGVDb21wYXNzQXJyb3c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/InNjYWxlKCIrMS9NYXRoLnBvdyhNYXRoLmNvcyh0aGlzLl9tYXAudHJhbnNmb3JtLnBpdGNoKihNYXRoLlBJLzE4MCkpLC41KSsiKSByb3RhdGVYKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5waXRjaCsiZGVnKSByb3RhdGVaKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpKyJkZWcpIjoicm90YXRlKCIrdGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpKyJkZWcpIjt0aGlzLl9jb21wYXNzSWNvbi5zdHlsZS50cmFuc2Zvcm09dDt9LCRvLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5vcHRpb25zLnNob3dab29tJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbUluQnV0dG9uLCJab29tSW4iKSx0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLCJab29tT3V0IiksdGhpcy5fbWFwLm9uKCJ6b29tIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fY29tcGFzcywiUmVzZXRCZWFyaW5nIiksdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZ0aGlzLl9tYXAub24oInBpdGNoIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX21hcC5vbigicm90YXRlIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpLHRoaXMuX2hhbmRsZXI9bmV3IExvKHQse2J1dHRvbjoibGVmdCIsZWxlbWVudDp0aGlzLl9jb21wYXNzLGNsaWNrVG9sZXJhbmNlOnQuZHJhZ1JvdGF0ZS5fY2xpY2tUb2xlcmFuY2V9KSxpLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fY29tcGFzcywibW91c2Vkb3duIix0aGlzLl9oYW5kbGVyLm9uTW91c2VEb3duKSxpLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fY29tcGFzcywidG91Y2hzdGFydCIsdGhpcy5faGFuZGxlci5vbk1vdXNlRG93bix7cGFzc2l2ZTohMX0pLHRoaXMuX2hhbmRsZXIuZW5hYmxlKCkpLHRoaXMuX2NvbnRhaW5lcn0sJG8ucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJnRoaXMuX21hcC5vZmYoInpvb20iLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJnRoaXMuX21hcC5vZmYoInBpdGNoIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLHRoaXMuX21hcC5vZmYoInJvdGF0ZSIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fY29tcGFzcywibW91c2Vkb3duIix0aGlzLl9oYW5kbGVyLm9uTW91c2VEb3duKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fY29tcGFzcywidG91Y2hzdGFydCIsdGhpcy5faGFuZGxlci5vbk1vdXNlRG93bix7cGFzc2l2ZTohMX0pLHRoaXMuX2hhbmRsZXIuZGlzYWJsZSgpLGRlbGV0ZSB0aGlzLl9oYW5kbGVyKSxkZWxldGUgdGhpcy5fbWFwO30sJG8ucHJvdG90eXBlLl9jcmVhdGVCdXR0b249ZnVuY3Rpb24odCxlKXt2YXIgbz1pLmNyZWF0ZSgiYnV0dG9uIix0LHRoaXMuX2NvbnRhaW5lcik7cmV0dXJuIG8udHlwZT0iYnV0dG9uIixvLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixlKSxvfSwkby5wcm90b3R5cGUuX3NldEJ1dHRvblRpdGxlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZygiTmF2aWdhdGlvbkNvbnRyb2wuIitlKTt0LnRpdGxlPWksdC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLGkpO307dmFyIGVyPXtjZW50ZXI6InRyYW5zbGF0ZSgtNTAlLC01MCUpIix0b3A6InRyYW5zbGF0ZSgtNTAlLDApIiwidG9wLWxlZnQiOiJ0cmFuc2xhdGUoMCwwKSIsInRvcC1yaWdodCI6InRyYW5zbGF0ZSgtMTAwJSwwKSIsYm90dG9tOiJ0cmFuc2xhdGUoLTUwJSwtMTAwJSkiLCJib3R0b20tbGVmdCI6InRyYW5zbGF0ZSgwLC0xMDAlKSIsImJvdHRvbS1yaWdodCI6InRyYW5zbGF0ZSgtMTAwJSwtMTAwJSkiLGxlZnQ6InRyYW5zbGF0ZSgwLC01MCUpIixyaWdodDoidHJhbnNsYXRlKC0xMDAlLC01MCUpIn07ZnVuY3Rpb24gaXIodCxlLGkpe3ZhciBvPXQuY2xhc3NMaXN0O2Zvcih2YXIgciBpbiBlcilvLnJlbW92ZSgibWFwYm94Z2wtIitpKyItYW5jaG9yLSIrcik7by5hZGQoIm1hcGJveGdsLSIraSsiLWFuY2hvci0iK2UpO312YXIgb3IscnI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhvLHIpe3ZhciBhPXRoaXM7aWYoZS5jYWxsKHRoaXMpLChvIGluc3RhbmNlb2YgdC53aW5kb3cuSFRNTEVsZW1lbnR8fHIpJiYobz10LmV4dGVuZCh7ZWxlbWVudDpvfSxyKSksdC5iaW5kQWxsKFsiX3VwZGF0ZSIsIl9vbk1vdmUiLCJfb25VcCIsIl9hZGREcmFnSGFuZGxlciIsIl9vbk1hcENsaWNrIiwiX29uS2V5UHJlc3MiXSx0aGlzKSx0aGlzLl9hbmNob3I9byYmby5hbmNob3J8fCJjZW50ZXIiLHRoaXMuX2NvbG9yPW8mJm8uY29sb3J8fCIjM0ZCMUNFIix0aGlzLl9kcmFnZ2FibGU9byYmby5kcmFnZ2FibGV8fCExLHRoaXMuX3N0YXRlPSJpbmFjdGl2ZSIsdGhpcy5fcm90YXRpb249byYmby5yb3RhdGlvbnx8MCx0aGlzLl9yb3RhdGlvbkFsaWdubWVudD1vJiZvLnJvdGF0aW9uQWxpZ25tZW50fHwiYXV0byIsdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9byYmby5waXRjaEFsaWdubWVudCYmImF1dG8iIT09by5waXRjaEFsaWdubWVudD9vLnBpdGNoQWxpZ25tZW50OnRoaXMuX3JvdGF0aW9uQWxpZ25tZW50LG8mJm8uZWxlbWVudCl0aGlzLl9lbGVtZW50PW8uZWxlbWVudCx0aGlzLl9vZmZzZXQ9dC5Qb2ludC5jb252ZXJ0KG8mJm8ub2Zmc2V0fHxbMCwwXSk7ZWxzZXt0aGlzLl9kZWZhdWx0TWFya2VyPSEwLHRoaXMuX2VsZW1lbnQ9aS5jcmVhdGUoImRpdiIpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIiwiTWFwIG1hcmtlciIpO3ZhciBuPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwic3ZnIik7bi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJkaXNwbGF5IiwiYmxvY2siKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsIjQxcHgiKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIiwiMjdweCIpLG4uc2V0QXR0cmlidXRlTlMobnVsbCwidmlld0JveCIsIjAgMCAyNyA0MSIpO3ZhciBzPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO3Muc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlIiwibm9uZSIpLHMuc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLXdpZHRoIiwiMSIpLHMuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIm5vbmUiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwtcnVsZSIsImV2ZW5vZGQiKTt2YXIgbD1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImciKTtsLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwtcnVsZSIsIm5vbnplcm8iKTt2YXIgYz1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImciKTtjLnNldEF0dHJpYnV0ZU5TKG51bGwsInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgzLjAsIDI5LjApIiksYy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIiwiIzAwMDAwMCIpO2Zvcih2YXIgdT0wLGg9W3tyeDoiMTAuNSIscnk6IjUuMjUwMDIyNzMifSx7cng6IjEwLjUiLHJ5OiI1LjI1MDAyMjczIn0se3J4OiI5LjUiLHJ5OiI0Ljc3Mjc1MDA3In0se3J4OiI4LjUiLHJ5OiI0LjI5NTQ5OTM2In0se3J4OiI3LjUiLHJ5OiIzLjgxODIyMzA4In0se3J4OiI2LjUiLHJ5OiIzLjM0MDk0Njc5In0se3J4OiI1LjUiLHJ5OiIyLjg2MzY3MDUxIn0se3J4OiI0LjUiLHJ5OiIyLjM4NjM2ODY0In1dO3U8aC5sZW5ndGg7dSs9MSl7dmFyIHA9aFt1XSxkPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZWxsaXBzZSIpO2Quc2V0QXR0cmlidXRlTlMobnVsbCwib3BhY2l0eSIsIjAuMDQiKSxkLnNldEF0dHJpYnV0ZU5TKG51bGwsImN4IiwiMTAuNSIpLGQuc2V0QXR0cmlidXRlTlMobnVsbCwiY3kiLCI1LjgwMDI5MDA4IiksZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyeCIscC5yeCksZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyeSIscC5yeSksYy5hcHBlbmRDaGlsZChkKTt9dmFyIF89aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIik7Xy5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIix0aGlzLl9jb2xvcik7dmFyIGY9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJwYXRoIik7Zi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJkIiwiTTI3LDEzLjUgQzI3LDE5LjA3NDY0NCAyMC4yNTAwMDEsMjcuMDAwMDAyIDE0Ljc1LDM0LjUwMDAwMiBDMTQuMDE2NjY1LDM1LjUwMDAwNCAxMi45ODMzMzUsMzUuNTAwMDA0IDEyLjI1LDM0LjUwMDAwMiBDNi43NDk5OTkzLDI3LjAwMDAwMiAwLDE5LjIyMjU2MiAwLDEzLjUgQzAsNi4wNDQxNTU5IDYuMDQ0MTU1OSwwIDEzLjUsMCBDMjAuOTU1ODQ0LDAgMjcsNi4wNDQxNTU5IDI3LDEzLjUgWiIpLF8uYXBwZW5kQ2hpbGQoZik7dmFyIG09aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIik7bS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJvcGFjaXR5IiwiMC4yNSIpLG0uc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiMwMDAwMDAiKTt2YXIgZz1pLmNyZWF0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInBhdGgiKTtnLnNldEF0dHJpYnV0ZU5TKG51bGwsImQiLCJNMTMuNSwwIEM2LjA0NDE1NTksMCAwLDYuMDQ0MTU1OSAwLDEzLjUgQzAsMTkuMjIyNTYyIDYuNzQ5OTk5MywyNyAxMi4yNSwzNC41IEMxMywzNS41MjI3MjcgMTQuMDE2NjY0LDM1LjUwMDAwNCAxNC43NSwzNC41IEMyMC4yNTAwMDEsMjcgMjcsMTkuMDc0NjQ0IDI3LDEzLjUgQzI3LDYuMDQ0MTU1OSAyMC45NTU4NDQsMCAxMy41LDAgWiBNMTMuNSwxIEMyMC40MTU0MDQsMSAyNiw2LjU4NDU5NiAyNiwxMy41IEMyNiwxNS44OTg2NTcgMjQuNDk1NTg0LDE5LjE4MTQzMSAyMi4yMjA3MDMsMjIuNzM4MjgxIEMxOS45NDU4MjMsMjYuMjk1MTMyIDE2LjcwNTExOSwzMC4xNDIxNjcgMTMuOTQzMzU5LDMzLjkwODIwMyBDMTMuNzQzNDQ1LDM0LjE4MDgxNCAxMy42MTI3MTUsMzQuMzIyNzM4IDEzLjUsMzQuNDQxNDA2IEMxMy4zODcyODUsMzQuMzIyNzM4IDEzLjI1NjU1NSwzNC4xODA4MTQgMTMuMDU2NjQxLDMzLjkwODIwMyBDMTAuMjg0NDgxLDMwLjEyNzk4NSA3LjQxNDg2ODQsMjYuMzE0MTU5IDUuMDE1NjI1LDIyLjc3MzQzOCBDMi42MTYzODE2LDE5LjIzMjcxNSAxLDE1Ljk1MzUzOCAxLDEzLjUgQzEsNi41ODQ1OTYgNi41ODQ1OTYsMSAxMy41LDEgWiIpLG0uYXBwZW5kQ2hpbGQoZyk7dmFyIHY9aS5jcmVhdGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJnIik7di5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoNi4wLCA3LjApIiksdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIiwiI0ZGRkZGRiIpO3ZhciB5PWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZyIpO3kuc2V0QXR0cmlidXRlTlMobnVsbCwidHJhbnNmb3JtIiwidHJhbnNsYXRlKDguMCwgOC4wKSIpO3ZhciB4PWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiY2lyY2xlIik7eC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIiwiIzAwMDAwMCIpLHguc2V0QXR0cmlidXRlTlMobnVsbCwib3BhY2l0eSIsIjAuMjUiKSx4LnNldEF0dHJpYnV0ZU5TKG51bGwsImN4IiwiNS41IikseC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIsIjUuNSIpLHguc2V0QXR0cmlidXRlTlMobnVsbCwiciIsIjUuNDk5OTk2MiIpO3ZhciBiPWkuY3JlYXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiY2lyY2xlIik7Yi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIiwiI0ZGRkZGRiIpLGIuc2V0QXR0cmlidXRlTlMobnVsbCwiY3giLCI1LjUiKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsImN5IiwiNS41IiksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyIiwiNS40OTk5OTYyIikseS5hcHBlbmRDaGlsZCh4KSx5LmFwcGVuZENoaWxkKGIpLGwuYXBwZW5kQ2hpbGQoYyksbC5hcHBlbmRDaGlsZChfKSxsLmFwcGVuZENoaWxkKG0pLGwuYXBwZW5kQ2hpbGQodiksbC5hcHBlbmRDaGlsZCh5KSxuLmFwcGVuZENoaWxkKGwpLHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQobiksdGhpcy5fb2Zmc2V0PXQuUG9pbnQuY29udmVydChvJiZvLm9mZnNldHx8WzAsLTE0XSk7fXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtbWFya2VyIiksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJkcmFnc3RhcnQiLChmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7fSkpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO30pKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIiwoZnVuY3Rpb24oKXt2YXIgdD1hLl9tYXAuZ2V0Q29udGFpbmVyKCk7dC5zY3JvbGxUb3A9MCx0LnNjcm9sbExlZnQ9MDt9KSksaXIodGhpcy5fZWxlbWVudCx0aGlzLl9hbmNob3IsIm1hcmtlciIpLHRoaXMuX3BvcHVwPW51bGw7fXJldHVybiBlJiYoby5fX3Byb3RvX189ZSksKG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLmFkZFRvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD10LHQuZ2V0Q2FudmFzQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCksdC5vbigibW92ZSIsdGhpcy5fdXBkYXRlKSx0Lm9uKCJtb3ZlZW5kIix0aGlzLl91cGRhdGUpLHRoaXMuc2V0RHJhZ2dhYmxlKHRoaXMuX2RyYWdnYWJsZSksdGhpcy5fdXBkYXRlKCksdGhpcy5fbWFwLm9uKCJjbGljayIsdGhpcy5fb25NYXBDbGljayksdGhpc30sby5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMuX21hcC5vZmYoImNsaWNrIix0aGlzLl9vbk1hcENsaWNrKSx0aGlzLl9tYXAub2ZmKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vZmYoIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwLm9mZigibW91c2Vkb3duIix0aGlzLl9hZGREcmFnSGFuZGxlciksdGhpcy5fbWFwLm9mZigidG91Y2hzdGFydCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHRoaXMuX21hcC5vZmYoIm1vdXNldXAiLHRoaXMuX29uVXApLHRoaXMuX21hcC5vZmYoInRvdWNoZW5kIix0aGlzLl9vblVwKSx0aGlzLl9tYXAub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwLm9mZigidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUpLGRlbGV0ZSB0aGlzLl9tYXApLGkucmVtb3ZlKHRoaXMuX2VsZW1lbnQpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRMbmdMYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG5nTGF0fSxvLnByb3RvdHlwZS5zZXRMbmdMYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xuZ0xhdD10LkxuZ0xhdC5jb252ZXJ0KGUpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl91cGRhdGUoKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VsZW1lbnR9LG8ucHJvdG90eXBlLnNldFBvcHVwPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpcy5fcG9wdXA9bnVsbCx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXByZXNzIix0aGlzLl9vbktleVByZXNzKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4fHx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgidGFiaW5kZXgiKSksdCl7aWYoISgib2Zmc2V0ImluIHQub3B0aW9ucykpe3ZhciBlPU1hdGguc3FydChNYXRoLnBvdygxMy41LDIpLzIpO3Qub3B0aW9ucy5vZmZzZXQ9dGhpcy5fZGVmYXVsdE1hcmtlcj97dG9wOlswLDBdLCJ0b3AtbGVmdCI6WzAsMF0sInRvcC1yaWdodCI6WzAsMF0sYm90dG9tOlswLC0zOC4xXSwiYm90dG9tLWxlZnQiOltlLC0xKigyNC42K2UpXSwiYm90dG9tLXJpZ2h0IjpbLWUsLTEqKDI0LjYrZSldLGxlZnQ6WzEzLjUsLTI0LjZdLHJpZ2h0OlstMTMuNSwtMjQuNl19OnRoaXMuX29mZnNldDt9dGhpcy5fcG9wdXA9dCx0aGlzLl9sbmdMYXQmJnRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXg9dGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoInRhYmluZGV4IiksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiMCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5cHJlc3MiLHRoaXMuX29uS2V5UHJlc3MpO31yZXR1cm4gdGhpc30sby5wcm90b3R5cGUuX29uS2V5UHJlc3M9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb2RlLGk9dC5jaGFyQ29kZXx8dC5rZXlDb2RlOyJTcGFjZSIhPT1lJiYiRW50ZXIiIT09ZSYmMzIhPT1pJiYxMyE9PWl8fHRoaXMudG9nZ2xlUG9wdXAoKTt9LG8ucHJvdG90eXBlLl9vbk1hcENsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXQub3JpZ2luYWxFdmVudC50YXJnZXQsaT10aGlzLl9lbGVtZW50O3RoaXMuX3BvcHVwJiYoZT09PWl8fGkuY29udGFpbnMoZSkpJiZ0aGlzLnRvZ2dsZVBvcHVwKCk7fSxvLnByb3RvdHlwZS5nZXRQb3B1cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cH0sby5wcm90b3R5cGUudG9nZ2xlUG9wdXA9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb3B1cDtyZXR1cm4gdD8odC5pc09wZW4oKT90LnJlbW92ZSgpOnQuYWRkVG8odGhpcy5fbWFwKSx0aGlzKTp0aGlzfSxvLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX21hcCl7dGhpcy5fbWFwLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmKHRoaXMuX2xuZ0xhdD10cih0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLHRoaXMuX21hcC50cmFuc2Zvcm0pKSx0aGlzLl9wb3M9dGhpcy5fbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KS5fYWRkKHRoaXMuX29mZnNldCk7dmFyIGU9IiI7InZpZXdwb3J0Ij09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fHwiYXV0byI9PT10aGlzLl9yb3RhdGlvbkFsaWdubWVudD9lPSJyb3RhdGVaKCIrdGhpcy5fcm90YXRpb24rImRlZykiOiJtYXAiPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnQmJihlPSJyb3RhdGVaKCIrKHRoaXMuX3JvdGF0aW9uLXRoaXMuX21hcC5nZXRCZWFyaW5nKCkpKyJkZWcpIik7dmFyIG89IiI7InZpZXdwb3J0Ij09PXRoaXMuX3BpdGNoQWxpZ25tZW50fHwiYXV0byI9PT10aGlzLl9waXRjaEFsaWdubWVudD9vPSJyb3RhdGVYKDBkZWcpIjoibWFwIj09PXRoaXMuX3BpdGNoQWxpZ25tZW50JiYobz0icm90YXRlWCgiK3RoaXMuX21hcC5nZXRQaXRjaCgpKyJkZWcpIiksdCYmIm1vdmVlbmQiIT09dC50eXBlfHwodGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpKSxpLnNldFRyYW5zZm9ybSh0aGlzLl9lbGVtZW50LGVyW3RoaXMuX2FuY2hvcl0rIiB0cmFuc2xhdGUoIit0aGlzLl9wb3MueCsicHgsICIrdGhpcy5fcG9zLnkrInB4KSAiK28rIiAiK2UpO319LG8ucHJvdG90eXBlLmdldE9mZnNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vZmZzZXR9LG8ucHJvdG90eXBlLnNldE9mZnNldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fb2Zmc2V0PXQuUG9pbnQuY29udmVydChlKSx0aGlzLl91cGRhdGUoKSx0aGlzfSxvLnByb3RvdHlwZS5fb25Nb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuX3Bvcz1lLnBvaW50LnN1Yih0aGlzLl9wb3NpdGlvbkRlbHRhKSx0aGlzLl9sbmdMYXQ9dGhpcy5fbWFwLnVucHJvamVjdCh0aGlzLl9wb3MpLHRoaXMuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPSJub25lIiwicGVuZGluZyI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPSJhY3RpdmUiLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZHJhZ3N0YXJ0IikpKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImRyYWciKSk7fSxvLnByb3RvdHlwZS5fb25VcD1mdW5jdGlvbigpe3RoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz0iYXV0byIsdGhpcy5fcG9zaXRpb25EZWx0YT1udWxsLHRoaXMuX21hcC5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3ZlKSx0aGlzLl9tYXAub2ZmKCJ0b3VjaG1vdmUiLHRoaXMuX29uTW92ZSksImFjdGl2ZSI9PT10aGlzLl9zdGF0ZSYmdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJkcmFnZW5kIikpLHRoaXMuX3N0YXRlPSJpbmFjdGl2ZSI7fSxvLnByb3RvdHlwZS5fYWRkRHJhZ0hhbmRsZXI9ZnVuY3Rpb24odCl7dGhpcy5fZWxlbWVudC5jb250YWlucyh0Lm9yaWdpbmFsRXZlbnQudGFyZ2V0KSYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLl9wb3NpdGlvbkRlbHRhPXQucG9pbnQuc3ViKHRoaXMuX3BvcykuYWRkKHRoaXMuX29mZnNldCksdGhpcy5fc3RhdGU9InBlbmRpbmciLHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdmUpLHRoaXMuX21hcC5vbigidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUpLHRoaXMuX21hcC5vbmNlKCJtb3VzZXVwIix0aGlzLl9vblVwKSx0aGlzLl9tYXAub25jZSgidG91Y2hlbmQiLHRoaXMuX29uVXApKTt9LG8ucHJvdG90eXBlLnNldERyYWdnYWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlPSEhdCx0aGlzLl9tYXAmJih0Pyh0aGlzLl9tYXAub24oIm1vdXNlZG93biIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHRoaXMuX21hcC5vbigidG91Y2hzdGFydCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKToodGhpcy5fbWFwLm9mZigibW91c2Vkb3duIix0aGlzLl9hZGREcmFnSGFuZGxlciksdGhpcy5fbWFwLm9mZigidG91Y2hzdGFydCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKSksdGhpc30sby5wcm90b3R5cGUuaXNEcmFnZ2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlfSxvLnByb3RvdHlwZS5zZXRSb3RhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcm90YXRpb249dHx8MCx0aGlzLl91cGRhdGUoKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn0sby5wcm90b3R5cGUuc2V0Um90YXRpb25BbGlnbm1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PXR8fCJhdXRvIix0aGlzLl91cGRhdGUoKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRSb3RhdGlvbkFsaWdubWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbkFsaWdubWVudH0sby5wcm90b3R5cGUuc2V0UGl0Y2hBbGlnbm1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BpdGNoQWxpZ25tZW50PXQmJiJhdXRvIiE9PXQ/dDp0aGlzLl9yb3RhdGlvbkFsaWdubWVudCx0aGlzLl91cGRhdGUoKSx0aGlzfSxvLnByb3RvdHlwZS5nZXRQaXRjaEFsaWdubWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waXRjaEFsaWdubWVudH0sb30odC5FdmVudGVkKSxhcj17cG9zaXRpb25PcHRpb25zOntlbmFibGVIaWdoQWNjdXJhY3k6ITEsbWF4aW11bUFnZTowLHRpbWVvdXQ6NmUzfSxmaXRCb3VuZHNPcHRpb25zOnttYXhab29tOjE1fSx0cmFja1VzZXJMb2NhdGlvbjohMSxzaG93QWNjdXJhY3lDaXJjbGU6ITAsc2hvd1VzZXJMb2NhdGlvbjohMH0sbnI9MCxzcj0hMSxscj1mdW5jdGlvbihlKXtmdW5jdGlvbiBvKGkpe2UuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9dC5leHRlbmQoe30sYXIsaSksdC5iaW5kQWxsKFsiX29uU3VjY2VzcyIsIl9vbkVycm9yIiwiX29uWm9vbSIsIl9maW5pc2giLCJfc2V0dXBVSSIsIl91cGRhdGVDYW1lcmEiLCJfdXBkYXRlTWFya2VyIl0sdGhpcyk7fXJldHVybiBlJiYoby5fX3Byb3RvX189ZSksKG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLm9uQWRkPWZ1bmN0aW9uKGUpe3ZhciBvO3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cCIpLG89dGhpcy5fc2V0dXBVSSx2b2lkIDAhPT1vcj9vKG9yKTp2b2lkIDAhPT10LndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnM/dC53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOiJnZW9sb2NhdGlvbiJ9KS50aGVuKChmdW5jdGlvbih0KXtvKG9yPSJkZW5pZWQiIT09dC5zdGF0ZSk7fSkpOm8ob3I9ISF0LndpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLHRoaXMuX2NvbnRhaW5lcn0sby5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJih0LndpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDApLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlciYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCksaS5yZW1vdmUodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXAub2ZmKCJ6b29tIix0aGlzLl9vblpvb20pLHRoaXMuX21hcD12b2lkIDAsbnI9MCxzcj0hMTt9LG8ucHJvdG90eXBlLl9pc091dE9mTWFwTWF4Qm91bmRzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcC5nZXRNYXhCb3VuZHMoKSxpPXQuY29vcmRzO3JldHVybiBlJiYoaS5sb25naXR1ZGU8ZS5nZXRXZXN0KCl8fGkubG9uZ2l0dWRlPmUuZ2V0RWFzdCgpfHxpLmxhdGl0dWRlPGUuZ2V0U291dGgoKXx8aS5sYXRpdHVkZT5lLmdldE5vcnRoKCkpfSxvLnByb3RvdHlwZS5fc2V0RXJyb3JTdGF0ZT1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlIldBSVRJTkdfQUNUSVZFIjp0aGlzLl93YXRjaFN0YXRlPSJBQ1RJVkVfRVJST1IiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIik7YnJlYWs7Y2FzZSJBQ1RJVkVfTE9DSyI6dGhpcy5fd2F0Y2hTdGF0ZT0iQUNUSVZFX0VSUk9SIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIik7YnJlYWs7Y2FzZSJCQUNLR1JPVU5EIjp0aGlzLl93YXRjaFN0YXRlPSJCQUNLR1JPVU5EX0VSUk9SIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmciKTt9fSxvLnByb3RvdHlwZS5fb25TdWNjZXNzPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5faXNPdXRPZk1hcE1heEJvdW5kcyhlKSlyZXR1cm4gdGhpcy5fc2V0RXJyb3JTdGF0ZSgpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgib3V0b2ZtYXhib3VuZHMiLGUpKSx0aGlzLl91cGRhdGVNYXJrZXIoKSx2b2lkIHRoaXMuX2ZpbmlzaCgpO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilzd2l0Y2godGhpcy5fbGFzdEtub3duUG9zaXRpb249ZSx0aGlzLl93YXRjaFN0YXRlKXtjYXNlIldBSVRJTkdfQUNUSVZFIjpjYXNlIkFDVElWRV9MT0NLIjpjYXNlIkFDVElWRV9FUlJPUiI6dGhpcy5fd2F0Y2hTdGF0ZT0iQUNUSVZFX0xPQ0siLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKTticmVhaztjYXNlIkJBQ0tHUk9VTkQiOmNhc2UiQkFDS0dST1VORF9FUlJPUiI6dGhpcy5fd2F0Y2hTdGF0ZT0iQkFDS0dST1VORCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmciKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIik7fXRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiYiT0ZGIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMuX3VwZGF0ZU1hcmtlcihlKSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJiJBQ1RJVkVfTE9DSyIhPT10aGlzLl93YXRjaFN0YXRlfHx0aGlzLl91cGRhdGVDYW1lcmEoZSksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUiKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoImdlb2xvY2F0ZSIsZSkpLHRoaXMuX2ZpbmlzaCgpO319LG8ucHJvdG90eXBlLl91cGRhdGVDYW1lcmE9ZnVuY3Rpb24oZSl7dmFyIGk9bmV3IHQuTG5nTGF0KGUuY29vcmRzLmxvbmdpdHVkZSxlLmNvb3Jkcy5sYXRpdHVkZSksbz1lLmNvb3Jkcy5hY2N1cmFjeSxyPXRoaXMuX21hcC5nZXRCZWFyaW5nKCksYT10LmV4dGVuZCh7YmVhcmluZzpyfSx0aGlzLm9wdGlvbnMuZml0Qm91bmRzT3B0aW9ucyk7dGhpcy5fbWFwLmZpdEJvdW5kcyhpLnRvQm91bmRzKG8pLGEse2dlb2xvY2F0ZVNvdXJjZTohMH0pO30sby5wcm90b3R5cGUuX3VwZGF0ZU1hcmtlcj1mdW5jdGlvbihlKXtpZihlKXt2YXIgaT1uZXcgdC5MbmdMYXQoZS5jb29yZHMubG9uZ2l0dWRlLGUuY29vcmRzLmxhdGl0dWRlKTt0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5zZXRMbmdMYXQoaSkuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KGkpLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fYWNjdXJhY3k9ZS5jb29yZHMuYWNjdXJhY3ksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpO31lbHNlIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5yZW1vdmUoKTt9LG8ucHJvdG90eXBlLl91cGRhdGVDaXJjbGVSYWRpdXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQvMixlPXRoaXMuX21hcC51bnByb2plY3QoWzAsdF0pLGk9dGhpcy5fbWFwLnVucHJvamVjdChbMSx0XSksbz1lLmRpc3RhbmNlVG8oaSkscj1NYXRoLmNlaWwoMip0aGlzLl9hY2N1cmFjeS9vKTt0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLndpZHRoPXIrInB4Iix0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLmhlaWdodD1yKyJweCI7fSxvLnByb3RvdHlwZS5fb25ab29tPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpO30sby5wcm90b3R5cGUuX29uRXJyb3I9ZnVuY3Rpb24oZSl7aWYodGhpcy5fbWFwKXtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24paWYoMT09PWUuY29kZSl7dGhpcy5fd2F0Y2hTdGF0ZT0iT0ZGIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvciIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMDt2YXIgaT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnRpdGxlPWksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsaSksdm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiZ0aGlzLl9jbGVhcldhdGNoKCk7fWVsc2V7aWYoMz09PWUuY29kZSYmc3IpcmV0dXJuO3RoaXMuX3NldEVycm9yU3RhdGUoKTt9Ik9GRiIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZSIpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiZXJyb3IiLGUpKSx0aGlzLl9maW5pc2goKTt9fSxvLnByb3RvdHlwZS5fZmluaXNoPWZ1bmN0aW9uKCl7dGhpcy5fdGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKSx0aGlzLl90aW1lb3V0SWQ9dm9pZCAwO30sby5wcm90b3R5cGUuX3NldHVwVUk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcztpZih0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpfSkpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbj1pLmNyZWF0ZSgiYnV0dG9uIiwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUiLHRoaXMuX2NvbnRhaW5lciksaS5jcmVhdGUoInNwYW4iLCJtYXBib3hnbC1jdHJsLWljb24iLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbikuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsITApLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlPSJidXR0b24iLCExPT09ZSl7dC53YXJuT25jZSgiR2VvbG9jYXRpb24gc3VwcG9ydCBpcyBub3QgYXZhaWxhYmxlIHNvIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgYmUgZGlzYWJsZWQuIik7dmFyIHI9dGhpcy5fbWFwLl9nZXRVSVN0cmluZygiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZSIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24udGl0bGU9cix0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIixyKTt9ZWxzZXt2YXIgYT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnRpdGxlPWEsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsYSk7fXRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsImZhbHNlIiksdGhpcy5fd2F0Y2hTdGF0ZT0iT0ZGIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJih0aGlzLl9kb3RFbGVtZW50PWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdCIpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlcj1uZXcgcnIodGhpcy5fZG90RWxlbWVudCksdGhpcy5fY2lyY2xlRWxlbWVudD1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGUiKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcj1uZXcgcnIoe2VsZW1lbnQ6dGhpcy5fY2lyY2xlRWxlbWVudCxwaXRjaEFsaWdubWVudDoibWFwIn0pLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX3dhdGNoU3RhdGU9Ik9GRiIpLHRoaXMuX21hcC5vbigiem9vbSIsdGhpcy5fb25ab29tKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSksdGhpcy5fc2V0dXA9ITAsdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZ0aGlzLl9tYXAub24oIm1vdmVzdGFydCIsKGZ1bmN0aW9uKGUpe2UuZ2VvbG9jYXRlU291cmNlfHwiQUNUSVZFX0xPQ0siIT09by5fd2F0Y2hTdGF0ZXx8ZS5vcmlnaW5hbEV2ZW50JiYicmVzaXplIj09PWUub3JpZ2luYWxFdmVudC50eXBlfHwoby5fd2F0Y2hTdGF0ZT0iQkFDS0dST1VORCIsby5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSxvLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIiksby5maXJlKG5ldyB0LkV2ZW50KCJ0cmFja3VzZXJsb2NhdGlvbmVuZCIpKSk7fSkpO30sby5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gdC53YXJuT25jZSgiR2VvbG9jYXRlIGNvbnRyb2wgdHJpZ2dlcmVkIGJlZm9yZSBhZGRlZCB0byBhIG1hcCIpLCExO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbil7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2UiT0ZGIjp0aGlzLl93YXRjaFN0YXRlPSJXQUlUSU5HX0FDVElWRSIsdGhpcy5maXJlKG5ldyB0LkV2ZW50KCJ0cmFja3VzZXJsb2NhdGlvbnN0YXJ0IikpO2JyZWFrO2Nhc2UiV0FJVElOR19BQ1RJVkUiOmNhc2UiQUNUSVZFX0xPQ0siOmNhc2UiQUNUSVZFX0VSUk9SIjpjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOm5yLS0sc3I9ITEsdGhpcy5fd2F0Y2hTdGF0ZT0iT0ZGIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvciIpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgidHJhY2t1c2VybG9jYXRpb25lbmQiKSk7YnJlYWs7Y2FzZSJCQUNLR1JPVU5EIjp0aGlzLl93YXRjaFN0YXRlPSJBQ1RJVkVfTE9DSyIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKSx0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiYmdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKSx0aGlzLmZpcmUobmV3IHQuRXZlbnQoInRyYWNrdXNlcmxvY2F0aW9uc3RhcnQiKSk7fXN3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlIldBSVRJTkdfQUNUSVZFIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUiKTticmVhaztjYXNlIkFDVElWRV9MT0NLIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIik7YnJlYWs7Y2FzZSJBQ1RJVkVfRVJST1IiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciIpO2JyZWFrO2Nhc2UiQkFDS0dST1VORCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQiKTticmVhaztjYXNlIkJBQ0tHUk9VTkRfRVJST1IiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IiKTt9aWYoIk9GRiI9PT10aGlzLl93YXRjaFN0YXRlJiZ2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2UgaWYodm9pZCAwPT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXt2YXIgZTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsInRydWUiKSwrK25yPjE/KGU9e21heGltdW1BZ2U6NmU1LHRpbWVvdXQ6MH0sc3I9ITApOihlPXRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMsc3I9ITEpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD10LndpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcixlKTt9fWVsc2UgdC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcix0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKSx0aGlzLl90aW1lb3V0SWQ9c2V0VGltZW91dCh0aGlzLl9maW5pc2gsMWU0KTtyZXR1cm4gITB9LG8ucHJvdG90eXBlLl9jbGVhcldhdGNoPWZ1bmN0aW9uKCl7dC53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIiwiZmFsc2UiKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXBkYXRlTWFya2VyKG51bGwpO30sb30odC5FdmVudGVkKSxjcj17bWF4V2lkdGg6MTAwLHVuaXQ6Im1ldHJpYyJ9LHVyPWZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxjcixlKSx0LmJpbmRBbGwoWyJfb25Nb3ZlIiwic2V0VW5pdCJdLHRoaXMpO307ZnVuY3Rpb24gaHIodCxlLGkpe3ZhciBvPWkmJmkubWF4V2lkdGh8fDEwMCxyPXQuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQvMixhPXQudW5wcm9qZWN0KFswLHJdKSxuPXQudW5wcm9qZWN0KFtvLHJdKSxzPWEuZGlzdGFuY2VUbyhuKTtpZihpJiYiaW1wZXJpYWwiPT09aS51bml0KXt2YXIgbD0zLjI4MDgqcztsPjUyODA/cHIoZSxvLGwvNTI4MCx0Ll9nZXRVSVN0cmluZygiU2NhbGVDb250cm9sLk1pbGVzIikpOnByKGUsbyxsLHQuX2dldFVJU3RyaW5nKCJTY2FsZUNvbnRyb2wuRmVldCIpKTt9ZWxzZSBpJiYibmF1dGljYWwiPT09aS51bml0P3ByKGUsbyxzLzE4NTIsdC5fZ2V0VUlTdHJpbmcoIlNjYWxlQ29udHJvbC5OYXV0aWNhbE1pbGVzIikpOnM+PTFlMz9wcihlLG8scy8xZTMsdC5fZ2V0VUlTdHJpbmcoIlNjYWxlQ29udHJvbC5LaWxvbWV0ZXJzIikpOnByKGUsbyxzLHQuX2dldFVJU3RyaW5nKCJTY2FsZUNvbnRyb2wuTWV0ZXJzIikpO31mdW5jdGlvbiBwcih0LGUsaSxvKXt2YXIgcixhLG4scz0ocj1pLChhPU1hdGgucG93KDEwLCgiIitNYXRoLmZsb29yKHIpKS5sZW5ndGgtMSkpKihuPShuPXIvYSk+PTEwPzEwOm4+PTU/NTpuPj0zPzM6bj49Mj8yOm4+PTE/MTpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLnBvdygxMCxNYXRoLmNlaWwoLU1hdGgubG9nKHQpL01hdGguTE4xMCkpO3JldHVybiBNYXRoLnJvdW5kKHQqZSkvZX0obikpKTt0LnN0eWxlLndpZHRoPWUqKHMvaSkrInB4Iix0LmlubmVySFRNTD1zKyImbmJzcDsiK287fXVyLnByb3RvdHlwZS5nZXREZWZhdWx0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gImJvdHRvbS1sZWZ0In0sdXIucHJvdG90eXBlLl9vbk1vdmU9ZnVuY3Rpb24oKXtocih0aGlzLl9tYXAsdGhpcy5fY29udGFpbmVyLHRoaXMub3B0aW9ucyk7fSx1ci5wcm90b3R5cGUub25BZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlIix0LmdldENvbnRhaW5lcigpKSx0aGlzLl9tYXAub24oIm1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fb25Nb3ZlKCksdGhpcy5fY29udGFpbmVyfSx1ci5wcm90b3R5cGUub25SZW1vdmU9ZnVuY3Rpb24oKXtpLnJlbW92ZSh0aGlzLl9jb250YWluZXIpLHRoaXMuX21hcC5vZmYoIm1vdmUiLHRoaXMuX29uTW92ZSksdGhpcy5fbWFwPXZvaWQgMDt9LHVyLnByb3RvdHlwZS5zZXRVbml0PWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy51bml0PXQsaHIodGhpcy5fbWFwLHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMpO307dmFyIGRyPWZ1bmN0aW9uKGUpe3RoaXMuX2Z1bGxzY3JlZW49ITEsZSYmZS5jb250YWluZXImJihlLmNvbnRhaW5lciBpbnN0YW5jZW9mIHQud2luZG93LkhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjp0Lndhcm5PbmNlKCJGdWxsIHNjcmVlbiBjb250cm9sICdjb250YWluZXInIG11c3QgYmUgYSBET00gZWxlbWVudC4iKSksdC5iaW5kQWxsKFsiX29uQ2xpY2tGdWxsc2NyZWVuIiwiX2NoYW5nZUljb24iXSx0aGlzKSwib25mdWxsc2NyZWVuY2hhbmdlImluIHQud2luZG93LmRvY3VtZW50P3RoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9ImZ1bGxzY3JlZW5jaGFuZ2UiOiJvbm1vemZ1bGxzY3JlZW5jaGFuZ2UiaW4gdC53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT0ibW96ZnVsbHNjcmVlbmNoYW5nZSI6Im9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZSJpbiB0LndpbmRvdy5kb2N1bWVudD90aGlzLl9mdWxsc2NyZWVuY2hhbmdlPSJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIjoib25tc2Z1bGxzY3JlZW5jaGFuZ2UiaW4gdC53aW5kb3cuZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPSJNU0Z1bGxzY3JlZW5DaGFuZ2UiKTt9O2RyLnByb3RvdHlwZS5vbkFkZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPXRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fY29udHJvbENvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwIiksdGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpP3RoaXMuX3NldHVwVUkoKToodGhpcy5fY29udHJvbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJub25lIix0Lndhcm5PbmNlKCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS4iKSksdGhpcy5fY29udHJvbENvbnRhaW5lcn0sZHIucHJvdG90eXBlLm9uUmVtb3ZlPWZ1bmN0aW9uKCl7aS5yZW1vdmUodGhpcy5fY29udHJvbENvbnRhaW5lciksdGhpcy5fbWFwPW51bGwsdC53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pO30sZHIucHJvdG90eXBlLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuICEhKHQud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkfHx0LndpbmRvdy5kb2N1bWVudC5tb3pGdWxsU2NyZWVuRW5hYmxlZHx8dC53aW5kb3cuZG9jdW1lbnQubXNGdWxsc2NyZWVuRW5hYmxlZHx8dC53aW5kb3cuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpfSxkci5wcm90b3R5cGUuX3NldHVwVUk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPWkuY3JlYXRlKCJidXR0b24iLCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4iLHRoaXMuX2NvbnRyb2xDb250YWluZXIpO2kuY3JlYXRlKCJzcGFuIiwibWFwYm94Z2wtY3RybC1pY29uIixlKS5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksZS50eXBlPSJidXR0b24iLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pLHQud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKTt9LGRyLnByb3RvdHlwZS5fdXBkYXRlVGl0bGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUaXRsZSgpO3RoaXMuX2Z1bGxzY3JlZW5CdXR0b24uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIix0KSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnRpdGxlPXQ7fSxkci5wcm90b3R5cGUuX2dldFRpdGxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcodGhpcy5faXNGdWxsc2NyZWVuKCk/IkZ1bGxzY3JlZW5Db250cm9sLkV4aXQiOiJGdWxsc2NyZWVuQ29udHJvbC5FbnRlciIpfSxkci5wcm90b3R5cGUuX2lzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdWxsc2NyZWVufSxkci5wcm90b3R5cGUuX2NoYW5nZUljb249ZnVuY3Rpb24oKXsodC53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fHQud2luZG93LmRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHx0LndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8dC53aW5kb3cuZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCk9PT10aGlzLl9jb250YWluZXIhPT10aGlzLl9mdWxsc2NyZWVuJiYodGhpcy5fZnVsbHNjcmVlbj0hdGhpcy5fZnVsbHNjcmVlbix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoIm1hcGJveGdsLWN0cmwtc2hyaW5rIiksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4iKSx0aGlzLl91cGRhdGVUaXRsZSgpKTt9LGRyLnByb3RvdHlwZS5fb25DbGlja0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT90LndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj90LndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOnQud2luZG93LmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4/dC53aW5kb3cuZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOnQud2luZG93LmRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4/dC53aW5kb3cuZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpOnQud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJnQud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuP3RoaXMuX2NvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOnRoaXMuX2NvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuP3RoaXMuX2NvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTt9O3ZhciBfcj17Y2xvc2VCdXR0b246ITAsY2xvc2VPbkNsaWNrOiEwLGNsYXNzTmFtZToiIixtYXhXaWR0aDoiMjQwcHgifSxmcj1mdW5jdGlvbihlKXtmdW5jdGlvbiBvKGkpe2UuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnM9dC5leHRlbmQoT2JqZWN0LmNyZWF0ZShfciksaSksdC5iaW5kQWxsKFsiX3VwZGF0ZSIsIl9vbkNsb3NlIiwicmVtb3ZlIl0sdGhpcyk7fXJldHVybiBlJiYoby5fX3Byb3RvX189ZSksKG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLmFkZFRvPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2smJnRoaXMuX21hcC5vbigiY2xpY2siLHRoaXMuX29uQ2xvc2UpLHRoaXMub3B0aW9ucy5jbG9zZU9uTW92ZSYmdGhpcy5fbWFwLm9uKCJtb3ZlIix0aGlzLl9vbkNsb3NlKSx0aGlzLl9tYXAub24oInJlbW92ZSIsdGhpcy5yZW1vdmUpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3RyYWNrUG9pbnRlcj8odGhpcy5fbWFwLm9uKCJtb3VzZW1vdmUiLChmdW5jdGlvbih0KXtpLl91cGRhdGUodC5wb2ludCk7fSkpLHRoaXMuX21hcC5vbigibW91c2V1cCIsKGZ1bmN0aW9uKHQpe2kuX3VwZGF0ZSh0LnBvaW50KTt9KSksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlciIpLHRoaXMuX21hcC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXRyYWNrLXBvaW50ZXIiKSk6dGhpcy5fbWFwLm9uKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuZmlyZShuZXcgdC5FdmVudCgib3BlbiIpKSx0aGlzfSxvLnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLl9tYXB9LG8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZW50JiZpLnJlbW92ZSh0aGlzLl9jb250ZW50KSx0aGlzLl9jb250YWluZXImJihpLnJlbW92ZSh0aGlzLl9jb250YWluZXIpLGRlbGV0ZSB0aGlzLl9jb250YWluZXIpLHRoaXMuX21hcCYmKHRoaXMuX21hcC5vZmYoIm1vdmUiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwLm9mZigibW92ZSIsdGhpcy5fb25DbG9zZSksdGhpcy5fbWFwLm9mZigiY2xpY2siLHRoaXMuX29uQ2xvc2UpLHRoaXMuX21hcC5vZmYoInJlbW92ZSIsdGhpcy5yZW1vdmUpLHRoaXMuX21hcC5vZmYoIm1vdXNlbW92ZSIpLGRlbGV0ZSB0aGlzLl9tYXApLHRoaXMuZmlyZShuZXcgdC5FdmVudCgiY2xvc2UiKSksdGhpc30sby5wcm90b3R5cGUuZ2V0TG5nTGF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xuZ0xhdH0sby5wcm90b3R5cGUuc2V0TG5nTGF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9sbmdMYXQ9dC5MbmdMYXQuY29udmVydChlKSx0aGlzLl9wb3M9bnVsbCx0aGlzLl90cmFja1BvaW50ZXI9ITEsdGhpcy5fdXBkYXRlKCksdGhpcy5fbWFwJiYodGhpcy5fbWFwLm9uKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vZmYoIm1vdXNlbW92ZSIpLHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIiKSx0aGlzLl9tYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCJtYXBib3hnbC10cmFjay1wb2ludGVyIikpLHRoaXN9LG8ucHJvdG90eXBlLnRyYWNrUG9pbnRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3RyYWNrUG9pbnRlcj0hMCx0aGlzLl9wb3M9bnVsbCx0aGlzLl91cGRhdGUoKSx0aGlzLl9tYXAmJih0aGlzLl9tYXAub2ZmKCJtb3ZlIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIiwoZnVuY3Rpb24oZSl7dC5fdXBkYXRlKGUucG9pbnQpO30pKSx0aGlzLl9tYXAub24oImRyYWciLChmdW5jdGlvbihlKXt0Ll91cGRhdGUoZS5wb2ludCk7fSkpLHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIiKSx0aGlzLl9tYXAuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJtYXBib3hnbC10cmFjay1wb2ludGVyIikpLHRoaXN9LG8ucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfSxvLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQodC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSkpfSxvLnByb3RvdHlwZS5zZXRIVE1MPWZ1bmN0aW9uKGUpe3ZhciBpLG89dC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHI9dC53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYm9keSIpO2ZvcihyLmlubmVySFRNTD1lO2k9ci5maXJzdENoaWxkOylvLmFwcGVuZENoaWxkKGkpO3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQobyl9LG8ucHJvdG90eXBlLmdldE1heFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRofSxvLnByb3RvdHlwZS5zZXRNYXhXaWR0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heFdpZHRoPXQsdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuc2V0RE9NQ29udGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3JlYXRlQ29udGVudCgpLHRoaXMuX2NvbnRlbnQuYXBwZW5kQ2hpbGQodCksdGhpcy5fdXBkYXRlKCksdGhpc30sby5wcm90b3R5cGUuYWRkQ2xhc3NOYW1lPWZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodCk7fSxvLnByb3RvdHlwZS5yZW1vdmVDbGFzc05hbWU9ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSh0KTt9LG8ucHJvdG90eXBlLnRvZ2dsZUNsYXNzTmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLl9jb250YWluZXIpcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKHQpfSxvLnByb3RvdHlwZS5fY3JlYXRlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuX2NvbnRlbnQmJmkucmVtb3ZlKHRoaXMuX2NvbnRlbnQpLHRoaXMuX2NvbnRlbnQ9aS5jcmVhdGUoImRpdiIsIm1hcGJveGdsLXBvcHVwLWNvbnRlbnQiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uJiYodGhpcy5fY2xvc2VCdXR0b249aS5jcmVhdGUoImJ1dHRvbiIsIm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbiIsdGhpcy5fY29udGVudCksdGhpcy5fY2xvc2VCdXR0b24udHlwZT0iYnV0dG9uIix0aGlzLl9jbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLCJDbG9zZSBwb3B1cCIpLHRoaXMuX2Nsb3NlQnV0dG9uLmlubmVySFRNTD0iJiMyMTU7Iix0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5fb25DbG9zZSkpO30sby5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzO2lmKHRoaXMuX21hcCYmKHRoaXMuX2xuZ0xhdHx8dGhpcy5fdHJhY2tQb2ludGVyKSYmdGhpcy5fY29udGVudCYmKHRoaXMuX2NvbnRhaW5lcnx8KHRoaXMuX2NvbnRhaW5lcj1pLmNyZWF0ZSgiZGl2IiwibWFwYm94Z2wtcG9wdXAiLHRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fdGlwPWkuY3JlYXRlKCJkaXYiLCJtYXBib3hnbC1wb3B1cC10aXAiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnQpLHRoaXMub3B0aW9ucy5jbGFzc05hbWUmJnRoaXMub3B0aW9ucy5jbGFzc05hbWUuc3BsaXQoIiAiKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gby5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodCl9KSksdGhpcy5fdHJhY2tQb2ludGVyJiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgibWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlciIpKSx0aGlzLm9wdGlvbnMubWF4V2lkdGgmJnRoaXMuX2NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCE9PXRoaXMub3B0aW9ucy5tYXhXaWR0aCYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aD10aGlzLm9wdGlvbnMubWF4V2lkdGgpLHRoaXMuX21hcC50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJiF0aGlzLl90cmFja1BvaW50ZXImJih0aGlzLl9sbmdMYXQ9dHIodGhpcy5fbG5nTGF0LHRoaXMuX3Bvcyx0aGlzLl9tYXAudHJhbnNmb3JtKSksIXRoaXMuX3RyYWNrUG9pbnRlcnx8ZSkpe3ZhciByPXRoaXMuX3Bvcz10aGlzLl90cmFja1BvaW50ZXImJmU/ZTp0aGlzLl9tYXAucHJvamVjdCh0aGlzLl9sbmdMYXQpLGE9dGhpcy5vcHRpb25zLmFuY2hvcixuPWZ1bmN0aW9uIGUoaSl7aWYoaSl7aWYoIm51bWJlciI9PXR5cGVvZiBpKXt2YXIgbz1NYXRoLnJvdW5kKE1hdGguc3FydCguNSpNYXRoLnBvdyhpLDIpKSk7cmV0dXJuIHtjZW50ZXI6bmV3IHQuUG9pbnQoMCwwKSx0b3A6bmV3IHQuUG9pbnQoMCxpKSwidG9wLWxlZnQiOm5ldyB0LlBvaW50KG8sbyksInRvcC1yaWdodCI6bmV3IHQuUG9pbnQoLW8sbyksYm90dG9tOm5ldyB0LlBvaW50KDAsLWkpLCJib3R0b20tbGVmdCI6bmV3IHQuUG9pbnQobywtbyksImJvdHRvbS1yaWdodCI6bmV3IHQuUG9pbnQoLW8sLW8pLGxlZnQ6bmV3IHQuUG9pbnQoaSwwKSxyaWdodDpuZXcgdC5Qb2ludCgtaSwwKX19aWYoaSBpbnN0YW5jZW9mIHQuUG9pbnR8fEFycmF5LmlzQXJyYXkoaSkpe3ZhciByPXQuUG9pbnQuY29udmVydChpKTtyZXR1cm4ge2NlbnRlcjpyLHRvcDpyLCJ0b3AtbGVmdCI6ciwidG9wLXJpZ2h0IjpyLGJvdHRvbTpyLCJib3R0b20tbGVmdCI6ciwiYm90dG9tLXJpZ2h0IjpyLGxlZnQ6cixyaWdodDpyfX1yZXR1cm4ge2NlbnRlcjp0LlBvaW50LmNvbnZlcnQoaS5jZW50ZXJ8fFswLDBdKSx0b3A6dC5Qb2ludC5jb252ZXJ0KGkudG9wfHxbMCwwXSksInRvcC1sZWZ0Ijp0LlBvaW50LmNvbnZlcnQoaVsidG9wLWxlZnQiXXx8WzAsMF0pLCJ0b3AtcmlnaHQiOnQuUG9pbnQuY29udmVydChpWyJ0b3AtcmlnaHQiXXx8WzAsMF0pLGJvdHRvbTp0LlBvaW50LmNvbnZlcnQoaS5ib3R0b218fFswLDBdKSwiYm90dG9tLWxlZnQiOnQuUG9pbnQuY29udmVydChpWyJib3R0b20tbGVmdCJdfHxbMCwwXSksImJvdHRvbS1yaWdodCI6dC5Qb2ludC5jb252ZXJ0KGlbImJvdHRvbS1yaWdodCJdfHxbMCwwXSksbGVmdDp0LlBvaW50LmNvbnZlcnQoaS5sZWZ0fHxbMCwwXSkscmlnaHQ6dC5Qb2ludC5jb252ZXJ0KGkucmlnaHR8fFswLDBdKX19cmV0dXJuIGUobmV3IHQuUG9pbnQoMCwwKSl9KHRoaXMub3B0aW9ucy5vZmZzZXQpO2lmKCFhKXt2YXIgcyxsPXRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aCxjPXRoaXMuX2NvbnRhaW5lci5vZmZzZXRIZWlnaHQ7cz1yLnkrbi5ib3R0b20ueTxjP1sidG9wIl06ci55PnRoaXMuX21hcC50cmFuc2Zvcm0uaGVpZ2h0LWM/WyJib3R0b20iXTpbXSxyLng8bC8yP3MucHVzaCgibGVmdCIpOnIueD50aGlzLl9tYXAudHJhbnNmb3JtLndpZHRoLWwvMiYmcy5wdXNoKCJyaWdodCIpLGE9MD09PXMubGVuZ3RoPyJib3R0b20iOnMuam9pbigiLSIpO312YXIgdT1yLmFkZChuW2FdKS5yb3VuZCgpO2kuc2V0VHJhbnNmb3JtKHRoaXMuX2NvbnRhaW5lcixlclthXSsiIHRyYW5zbGF0ZSgiK3UueCsicHgsIit1LnkrInB4KSIpLGlyKHRoaXMuX2NvbnRhaW5lcixhLCJwb3B1cCIpO319LG8ucHJvdG90eXBlLl9vbkNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmUoKTt9LG99KHQuRXZlbnRlZCksbXI9e3ZlcnNpb246dC52ZXJzaW9uLHN1cHBvcnRlZDplLHNldFJUTFRleHRQbHVnaW46dC5zZXRSVExUZXh0UGx1Z2luLGdldFJUTFRleHRQbHVnaW5TdGF0dXM6dC5nZXRSVExUZXh0UGx1Z2luU3RhdHVzLE1hcDpZbyxOYXZpZ2F0aW9uQ29udHJvbDokbyxHZW9sb2NhdGVDb250cm9sOmxyLEF0dHJpYnV0aW9uQ29udHJvbDpObyxTY2FsZUNvbnRyb2w6dXIsRnVsbHNjcmVlbkNvbnRyb2w6ZHIsUG9wdXA6ZnIsTWFya2VyOnJyLFN0eWxlOk5lLExuZ0xhdDp0LkxuZ0xhdCxMbmdMYXRCb3VuZHM6dC5MbmdMYXRCb3VuZHMsUG9pbnQ6dC5Qb2ludCxNZXJjYXRvckNvb3JkaW5hdGU6dC5NZXJjYXRvckNvb3JkaW5hdGUsRXZlbnRlZDp0LkV2ZW50ZWQsY29uZmlnOnQuY29uZmlnLGdldCBhY2Nlc3NUb2tlbigpe3JldHVybiB0LmNvbmZpZy5BQ0NFU1NfVE9LRU59LHNldCBhY2Nlc3NUb2tlbihlKXt0LmNvbmZpZy5BQ0NFU1NfVE9LRU49ZTt9LGdldCBiYXNlQXBpVXJsKCl7cmV0dXJuIHQuY29uZmlnLkFQSV9VUkx9LHNldCBiYXNlQXBpVXJsKGUpe3QuY29uZmlnLkFQSV9VUkw9ZTt9LGdldCB3b3JrZXJDb3VudCgpe3JldHVybiBrdC53b3JrZXJDb3VudH0sc2V0IHdvcmtlckNvdW50KHQpe2t0LndvcmtlckNvdW50PXQ7fSxnZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKCl7cmV0dXJuIHQuY29uZmlnLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUU30sc2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyhlKXt0LmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM9ZTt9LGNsZWFyU3RvcmFnZTpmdW5jdGlvbihlKXt0LmNsZWFyVGlsZUNhY2hlKGUpO30sd29ya2VyVXJsOiIifTtyZXR1cm4gbXJ9KSk7CgovLwoKcmV0dXJuIG1hcGJveGdsOwoKfSkpKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwYm94LWdsLmpzLm1hcAo="></script>
<link href="data:text/css;charset=utf-8,%2EmapViewStateContainer%20%7B%0A%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%7D%0A%2EmapViewState%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aheight%3A%20auto%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0A%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3A%20inline%2Dblock%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0A%7D%0A%2EmapTitleContainer%20%7B%0A%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%7D%0A%2EmapTitle%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aheight%3A%20auto%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0A%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3A%20inline%2Dblock%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0A%7D%0A%0A%2ElegendContainer%20%7B%0Aposition%3A%20absolute%3B%0Abottom%3A%200%3B%0Aright%3A%200%3B%0Az%2Dindex%3A%2099%3B%0A%0Apadding%2Dbottom%3A%2014px%3B%0A%7D%0A%2Elegend%20%7B%0Afont%2Dfamily%3A%20Arial%2C%20sans%2Dserif%3B%0Abackground%3A%20%23fff%3B%0Apadding%3A%208px%3B%0Amargin%3A%208px%3B%0Aborder%3A%201px%20solid%20%23b8b8b8%3B%0Aborder%2Dradius%3A%204px%3B%0Adisplay%3Ainline%2Dblock%3B%0Amax%2Dheight%3A%20200px%3B%0Amax%2Dwidth%3A%20200px%3B%0Aoverflow%3A%20auto%3B%0Aposition%3A%20relative%3B%0Abottom%3A%200%3B%0Aright%3A%200%3B%0A%7D%0A%2ElegendTitle%20%7B%0A%0Afont%2Dsize%3A%2014px%3B%0Apadding%2Dbottom%3A%204px%3B%0Aheight%3A%20auto%3B%0Aleft%3A%20float%3B%0A%7D%0A%2ElegendContent%7B%0A%0Adisplay%3A%20inline%2Dflex%3B%0Awhite%2Dspace%3A%20nowrap%3B%0A%7D%0A%2EtickContainer%7B%0Apadding%2Dleft%3A%202px%3B%0Aheight%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0A%2ElabelContainer%7B%0A%0Apadding%2Dleft%3A%206px%3B%0Aheight%3A%20auto%3B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0A%23legend%20h3%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0A%23legend%20img%20%7B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%0A%2Eoverlays%20canvas%20%7B%0Amix%2Dblend%2Dmode%3A%20multiply%3B%0A%7D%0A%2Edeckgl%2Dparent%2Dclass%20%7B%0Aisolation%3A%20%27isolate%27%3B%0A%7D%0A%0A%2Emapdecktooltip%3Aempty%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%2Emapdecktooltip%20%7B%0A%0A%0A%0Afont%2Dfamily%3A%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2011px%3B%0Aposition%3A%20absolute%3B%0Apadding%3A%204px%3B%0Amargin%3A%208px%3B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E8%29%3B%0Acolor%3A%20%23fff%3B%0Amax%2Dwidth%3A%20300px%3B%0Afont%2Dsize%3A%2010px%3B%0Az%2Dindex%3A%209%3B%0Apointer%2Devents%3A%20none%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ21hcGRlY2snLAogIHR5cGU6ICdvdXRwdXQnLAoKICBmYWN0b3J5OiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIHJldHVybiB7CgogICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24oeCkgewoKICAgICAgCW1kX3NldHVwX3dpbmRvdyggZWwuaWQgKTsKCgkJCQlpZiggeC5zaG93X3ZpZXdfc3RhdGUgKSB7CiAgICAgIAkgIG1kX3NldHVwX3ZpZXdfc3RhdGUoIGVsLmlkICk7CiAgICAgIAkgIHdpbmRvd1tlbC5pZCArICdtYXBWaWV3U3RhdGUnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdpZCcsIGVsLmlkICsgJ21hcFZpZXdTdGF0ZScpOwogICAgICAJICB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uc2V0QXR0cmlidXRlKCdjbGFzcycsICdtYXBWaWV3U3RhdGUnKTsKICAgICAgCSAgdmFyIG1hcGJveF9jdHJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJtYXBWaWV3U3RhdGVDb250YWluZXIiK2VsLmlkKTsKICAgIAkJCW1hcGJveF9jdHJsLmFwcGVuZENoaWxkKCB3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10gKTsKCQkJCX0KCiAgICAgICAgLy8gSU5JVElBTCBWSUVXCiAgICAgICAgd2luZG93W2VsLmlkICsgJ0lOSVRJQUxfVklFV19TVEFURSddID0gewogICAgICAgIAlsb25naXR1ZGU6IHgubG9jYXRpb25bMF0sCiAgICAgICAgCWxhdGl0dWRlOiB4LmxvY2F0aW9uWzFdLAogICAgICAgIAl6b29tOiB4Lnpvb20sCiAgICAgICAgCXBpdGNoOiB4LnBpdGNoLAogICAgICAgIAliZWFyaW5nOiB4LmJlYXJpbmcsCiAgICAgICAgCW1heFpvb206IHgubWF4X3pvb20sCiAgICAgICAJIAltaW5ab29tOiB4Lm1pbl96b29tLAogICAgICAgCSAJbWF4UGl0Y2g6IHgubWF4X3BpdGNoLAogICAgICAgCSAJbWluUGl0Y2g6IHgubWluX3BpdGNoCiAgICAgICAgfTsKCiAgICAgICBpZiggeC5hY2Nlc3NfdG9rZW4gPT09IG51bGwgKSB7CiAgICAgICAJIGNvbnN0IGRlY2tnbCA9IG5ldyBkZWNrLkRlY2tHTCh7CiAgICAgICAJIAkgIHZpZXdzOiBbIG5ldyBkZWNrLk1hcFZpZXcoewogICAgICAgCSAJICAJaWQ6IGVsLmlkLAogICAgICAgCSAJICAJcmVwZWF0OiB4LnJlcGVhdF92aWV3CiAgICAgICAJIAkgIAl9KSBdLAogICAgICAgCSAJICBtYXA6IGZhbHNlLAoJCQkgICAgICBjb250YWluZXI6IGVsLmlkLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUKCQkJICAgICAgLy9vbkxheWVySG92ZXI6IHNldFRvb2x0aXAKCQkJICAgfSk7CgkJCSAgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKICAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZGVja2dsID0gbmV3IGRlY2suRGVja0dMKHsKICAgICAgICAJICB2aWV3czogWyBuZXcgZGVjay5NYXBWaWV3KHsKICAgICAgICAJICAJaWQ6IGVsLmlkLAogICAgICAgIAkgIAlyZXBlYXQ6IHgucmVwZWF0X3ZpZXcKICAgICAgICAJICAJfSkgXSwKICAgICAgICAgIAltYXBib3hBcGlBY2Nlc3NUb2tlbjogeC5hY2Nlc3NfdG9rZW4sCgkJCSAgICAgIGNvbnRhaW5lcjogZWwuaWQsCgkJCSAgICAgIG1hcFN0eWxlOiB4LnN0eWxlLAoJCQkgICAgICBpbml0aWFsVmlld1N0YXRlOiB3aW5kb3dbZWwuaWQgKyAnSU5JVElBTF9WSUVXX1NUQVRFJ10sCgkJCSAgICAgIGxheWVyczogW10sCgkJCSAgICAgIGNvbnRyb2xsZXI6IHRydWUsCgkJCSAgICAgIC8vb25MYXllckhvdmVyOiBzZXRUb29sdGlwCgkJCSAgICAgIG9uVmlld1N0YXRlQ2hhbmdlOiAoe3ZpZXdJZCwgdmlld1N0YXRlLCBpbnRlcmFjdGlvblN0YXRlfSkgPT4gewoKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmICF4LnNob3dfdmlld19zdGF0ZSApIHsgcmV0dXJuOyB9CgkJCQkJCQkvLyBhcyBwZXI6CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL2lzc3Vlcy8zMzQ0CgkJCQkJCQkvLyBodHRwczovL2dpdGh1Yi5jb20vU3ltYm9saXhBVS9tYXBkZWNrL2lzc3Vlcy8yMTEKCQkJICAgICAgCWNvbnN0IHZpZXdwb3J0ID0gbmV3IGRlY2suV2ViTWVyY2F0b3JWaWV3cG9ydCh2aWV3U3RhdGUpOwogIAkJCQkJCWNvbnN0IG53ID0gdmlld3BvcnQudW5wcm9qZWN0KFswLCAwXSk7CiAgCQkJCQkJY29uc3Qgc2UgPSB2aWV3cG9ydC51bnByb2plY3QoW3ZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHRdKTsKCiAgCQkJCQkJY29uc3QgdyA9IG53WzBdIDwgLTE4MCA/IC0xODAgOiAoIG53WzBdID4gMTgwID8gMTgwIDogbndbMF0gKTsKICAJCQkJCQljb25zdCBuID0gbndbMV0gPCAtOTAgPyAtOTAgOiAoIG53WzFdID4gOTAgPyA5MCA6IG53WzFdICk7CgogIAkJCQkJCWNvbnN0IGUgPSBzZVswXSA8IC0xODAgPyAtMTgwIDogKCBzZVswXSA+IDE4MCA/IDE4MCA6IHNlWzBdICk7CiAgCQkJCQkJY29uc3QgcyA9IHNlWzFdIDwgLTkwID8gLTkwIDogKCBzZVsxXSA+IDkwID8gOTAgOiBzZVsxXSApOwoKICAJCQkJCQl2aWV3U3RhdGUudmlld0lkID0gdmlld0lkOwoKCQkJCQkJCXZpZXdTdGF0ZS52aWV3Qm91bmRzID0gewogIAkJCQkJCQlub3J0aDogbiwgLy9ud1sxXSwKICAJCQkJCQkJZWFzdDogIGUsIC8vc2VbMF0sCiAgCQkJCQkJCXNvdXRoOiBzLCAvL3NlWzFdLAogIAkJCQkJCQl3ZXN0OiAgdyAvL253WzBdCiAgCQkJCQkJfTsKICAJCQkJCQl2aWV3U3RhdGUuaW50ZXJhY3Rpb25TdGF0ZSA9IGludGVyYWN0aW9uU3RhdGU7CgogIAkJCQkJCWlmKCB4LnNob3dfdmlld19zdGF0ZSApIHsKICAJCQkJCQkJdmFyIHZzID0gSlNPTi5zdHJpbmdpZnkoIHZpZXdTdGF0ZSApOwogIAkJCQkJCQkvL2NvbnNvbGUubG9nKCB2cyApOwogIAkJCQkJCQl3aW5kb3dbZWwuaWQgKyAnbWFwVmlld1N0YXRlJ10uaW5uZXJIVE1MID0gdnM7CiAgCQkJCQkJfQoKICAJCQkJCQlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSApIHsgcmV0dXJuOyB9CgoJCQkJCQkgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKyAnX3ZpZXdfY2hhbmdlJywgdmlld1N0YXRlKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnU3RhcnQoaW5mbywgZXZlbnQpewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAkvL2lmKCBpbmZvLmxheWVyICE9PSBudWxsICkgeyBpbmZvLmxheWVyID0gbnVsbDsgfSAgLy8gZHJhZ2dpbmcgYSBsYXllcjsKCQkJICAgICAgCWluZm8ubGF5ZXIgPSB1bmRlZmluZWQ7IC8vIGluIGNhc2Ugb2YgZHJhZ2dpbmcgYSBsYXllcgoJCQkgICAgICAJU2hpbnkub25JbnB1dENoYW5nZShlbC5pZCArJ19kcmFnX3N0YXJ0JywgaW5mbyk7CgkJCSAgICAgIH0sCgkJCSAgICAgIG9uRHJhZyhpbmZvLCBldmVudCl7CgkJCSAgICAgIAlpZiAoIUhUTUxXaWRnZXRzLnNoaW55TW9kZSkgeyByZXR1cm47IH0KCQkJICAgICAgCS8vaWYoIGluZm8ubGF5ZXIgIT09IG51bGwgKSB7IGluZm8ubGF5ZXIgPSBudWxsOyB9ICAvLyBkcmFnZ2luZyBhIGxheWVyOwoJCQkgICAgICAJaW5mby5sYXllciA9IHVuZGVmaW5lZDsgLy8gaW4gY2FzZSBvZiBkcmFnZ2luZyBhIGxheWVyCgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX2RyYWcnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25EcmFnRW5kKGluZm8sIGV2ZW50KXsKCQkJICAgICAgCWlmICghSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7IHJldHVybjsgfQoJCQkgICAgICAJLy9pZiggaW5mby5sYXllciAhPT0gbnVsbCApIHsgaW5mby5sYXllciA9IG51bGw7IH0gIC8vIGRyYWdnaW5nIGEgbGF5ZXI7CgkJCSAgICAgIAlpbmZvLmxheWVyID0gdW5kZWZpbmVkOyAvLyBpbiBjYXNlIG9mIGRyYWdnaW5nIGEgbGF5ZXIKCQkJICAgICAgCVNoaW55Lm9uSW5wdXRDaGFuZ2UoZWwuaWQgKydfZHJhZ19lbmQnLCBpbmZvKTsKCQkJICAgICAgfSwKCQkJICAgICAgb25SZXNpemUoc2l6ZSkgewoJCQkgICAgICAJaWYgKCFIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsgcmV0dXJuOyB9CgkJCSAgICAgIAlTaGlueS5vbklucHV0Q2hhbmdlKGVsLmlkICsnX3Jlc2l6ZScsIHNpemUpOwoJCQkgICAgICB9CgkJCSAgfSk7CgoJCQkgIHdpbmRvd1tlbC5pZCArICdtYXAnXSA9IGRlY2tnbDsKCiAgICAgICB9CgkJCSAgICBtZF9pbml0aWFsaXNlX21hcChlbCwgeCk7CiAgICAgIH0sCgogICAgICByZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemUKICAgICAgfQogICAgfTsKICB9Cn0pOwoKCmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCiAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoIm1hcGRlY2ttYXAtY2FsbHMiLCBmdW5jdGlvbiAoZGF0YSkgewoKICAJLy9jb25zb2xlLmxvZyggIm1hcGRlY2ttYXAtY2FsbHMiICk7CgogICAgdmFyIGlkID0gZGF0YS5pZCwgICAvLyB0aGUgZGl2IGlkIG9mIHRoZSBtYXAKICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksCiAgICAgIG1hcCA9IGVsLAogICAgICBjYWxsID0gW10sCiAgICAgIGkgPSAwOwoKICAgIGlmICghbWFwKSB7CiAgICAgIC8vY29uc29sZS5sb2coIkNvdWxkbid0IGZpbmQgbWFwIHdpdGggaWQgIiArIGlkKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmNhbGxzLmxlbmd0aDsgaSsrKSB7CgogICAgICBjYWxsID0gZGF0YS5jYWxsc1tpXTsKCiAgICAgIC8vcHVzaCB0aGUgbWFwSWQgaW50byB0aGUgY2FsbC5hcmdzCiAgICAgIGNhbGwuYXJncy51bnNoaWZ0KGlkKTsKCiAgICAgIGlmIChjYWxsLmRlcGVuZGVuY2llcykgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhjYWxsLmRlcGVuZGVuY2llcyk7CiAgICAgIH0KCiAgICAgIGlmICh3aW5kb3dbY2FsbC5tZXRob2RdKSB7CiAgICAgICAgd2luZG93W2NhbGwubWV0aG9kXS5hcHBseSh3aW5kb3dbaWQgKyAnbWFwJ10sIGNhbGwuYXJncyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9jb25zb2xlLmxvZygiVW5rbm93biBmdW5jdGlvbiAiICsgY2FsbC5tZXRob2QpOwogICAgICB9CiAgICB9CiAgfSk7Cn0KCg=="></script>
<script src="data:application/x-javascript;base64,CmZ1bmN0aW9uIGFkZF9jb2x1bW5fZ2VvX2NvbHVtbmFyKCBtYXBfaWQsIG1hcF90eXBlLCBjb2x1bW5fZGF0YSwgZGF0YV9jb3VudCwgbGF5ZXJfaWQsIGF1dG9faGlnaGxpZ2h0LCBoaWdobGlnaHRfY29sb3VyLCByYWRpdXMsIGVsZXZhdGlvbl9zY2FsZSwgZGlza19yZXNvbHV0aW9uLCBhbmdsZSwgY292ZXJhZ2UsIGxlZ2VuZCwgYmJveCwgdXBkYXRlX3ZpZXcsIGZvY3VzX2xheWVyLCBqc190cmFuc2l0aW9uLCBpc19leHRydWRlZCwgYnJ1c2hfcmFkaXVzICkgewoKICB2YXIgZXh0ZW5zaW9ucyA9IFtdOwoKICBpZiAoIGJydXNoX3JhZGl1cyA+IDAgKSB7CiAgCWV4dGVuc2lvbnMucHVzaCggbmV3IGRlY2suQnJ1c2hpbmdFeHRlbnNpb24oKSApOwogIH0KCiAgbGV0IGhhc1Rvb2x0aXAgPSBjb2x1bW5fZGF0YS50b29sdGlwICE9PSB1bmRlZmluZWQ7CgogIGNvbnN0IGJpbmFyeUxvY2F0aW9uID0gbmV3IEZsb2F0MzJBcnJheShjb2x1bW5fZGF0YS5nZW9tZXRyeSk7CiAgLy9jb25zdCBiaW5hcnlSYWRpdXMgPSBuZXcgRmxvYXQzMkFycmF5KGNvbHVtbl9kYXRhLnJhZGl1cyk7CiAgY29uc3QgYmluYXJ5RmlsbENvbG91ciA9IG5ldyBVaW50OEFycmF5KGNvbHVtbl9kYXRhLmZpbGxfY29sb3VyKTsKICBjb25zdCBiaW5hcnlMaW5lQ29sb3VyID0gbmV3IFVpbnQ4QXJyYXkoY29sdW1uX2RhdGEuc3Ryb2tlX2NvbG91cik7CiAgY29uc3QgYmluYXJ5TGluZVdpZHRoID0gbmV3IEZsb2F0MzJBcnJheShjb2x1bW5fZGF0YS5zdHJva2Vfd2lkdGgpOwogIGNvbnN0IGJpbmFyeUVsZXZhdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoY29sdW1uX2RhdGEuZWxldmF0aW9uKTsKCiAgY29uc3QgY29sdW1uTGF5ZXIgPSBuZXcgZGVjay5Db2x1bW5MYXllcih7CiAgICBtYXBfaWQ6IG1hcF9pZCwKICAgIGlkOiAnY29sdW1uLScrbGF5ZXJfaWQsCgogICAgZGF0YTogewogICAgICBsZW5ndGg6IGRhdGFfY291bnQsCiAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICBnZXRQb3NpdGlvbjoge3ZhbHVlOiBiaW5hcnlMb2NhdGlvbiwgc2l6ZTogMn0sCiAgICAgICAgLy9nZXRSYWRpdXM6IHt2YWx1ZTogYmluYXJ5UmFkaXVzLCBzaXplOiAxfSwKICAgICAgICBnZXRGaWxsQ29sb3I6IHt2YWx1ZTogYmluYXJ5RmlsbENvbG91ciwgc2l6ZTogNH0sCiAgICAgICAgZ2V0TGluZUNvbG9yOiB7dmFsdWU6IGJpbmFyeUxpbmVDb2xvdXIsIHNpemU6IDR9LAogICAgICAgIGdldExpbmVXaWR0aDoge3ZhbHVlOiBiaW5hcnlMaW5lV2lkdGgsIHNpemU6IDF9LAogICAgICAgIGdldEVsZXZhdGlvbjoge3ZhbHVlOiBiaW5hcnlFbGV2YXRpb24sIHNpemU6IDF9CiAgICAgIH0sCiAgICAgIHRvb2x0aXA6IGNvbHVtbl9kYXRhLnRvb2x0aXAKICAgIH0sCgoKICAgIHBpY2thYmxlOiB0cnVlLAogICAgc3Ryb2tlZDogdHJ1ZSwKICAgIGZpbGxlZDogdHJ1ZSwKICAgIHdpcmVmcmFtZTogZmFsc2UsCiAgICBleHRydWRlZDogaXNfZXh0cnVkZWQsCgogICAgZWxldmF0aW9uU2NhbGU6IGVsZXZhdGlvbl9zY2FsZSwKICAgIHJhZGl1czogcmFkaXVzLAogICAgZGlza1Jlc29sdXRpb246IGRpc2tfcmVzb2x1dGlvbiwKICAgIGFuZ2xlOiBhbmdsZSwKICAgIGNvdmVyYWdlOiBjb3ZlcmFnZSwKICAgIGF1dG9IaWdobGlnaHQ6IGF1dG9faGlnaGxpZ2h0LAogICAgaGlnaGxpZ2h0Q29sb3I6IG1kX2hleFRvUkdCQSggaGlnaGxpZ2h0X2NvbG91ciApLAogICAgb25DbGljazogaW5mbyA9PiBtZF9sYXllcl9jbGljayggbWFwX2lkLCAiY29sdW1uIiwgaW5mbyApLAogICAgb25Ib3ZlcjogaW5mbyA9PiBoYXNUb29sdGlwID8gbWRfdXBkYXRlX2JpbmFyeV90b29sdGlwKCBpbmZvLmxheWVyLCBpbmZvLmluZGV4LCBpbmZvLngsIGluZm8ueSApIDogbnVsbCwKICAgIHRyYW5zaXRpb25zOiBqc190cmFuc2l0aW9uIHx8IHt9LAogICAgYnJ1c2hpbmdSYWRpdXM6IGJydXNoX3JhZGl1cywKICAgIGV4dGVuc2lvbnM6IGV4dGVuc2lvbnMKICB9KTsKCiAgaWYoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIikgewoJICBtZF91cGRhdGVfb3ZlcmxheSggbWFwX2lkLCAnY29sdW1uLScrbGF5ZXJfaWQsIGNvbHVtbkxheWVyICk7Cgl9IGVsc2UgewoJCW1kX3VwZGF0ZV9sYXllciggbWFwX2lkLCAnY29sdW1uLScrbGF5ZXJfaWQsIGNvbHVtbkxheWVyICk7Cgl9CgogIGlmIChsZWdlbmQgIT09IGZhbHNlKSB7CgkgIG1kX2FkZF9sZWdlbmQobWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxlZ2VuZCwgInJnYiIpOwoJfQoJbWRfbGF5ZXJfdmlldyggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGZvY3VzX2xheWVyLCBiYm94LCB1cGRhdGVfdmlldyApOwp9CgoKZnVuY3Rpb24gYWRkX2NvbHVtbl9wb2x5bGluZSggbWFwX2lkLCBtYXBfdHlwZSwgY29sdW1uX2RhdGEsIGxheWVyX2lkLCBhdXRvX2hpZ2hsaWdodCwgaGlnaGxpZ2h0X2NvbG91ciwgcmFkaXVzLCBlbGV2YXRpb25fc2NhbGUsIGRpc2tfcmVzb2x1dGlvbiwgYW5nbGUsIGNvdmVyYWdlLCBsZWdlbmQsIGJib3gsIHVwZGF0ZV92aWV3LCBmb2N1c19sYXllciwganNfdHJhbnNpdGlvbiwgaXNfZXh0cnVkZWQsIGJydXNoX3JhZGl1cyApIHsKCiAgdmFyIGV4dGVuc2lvbnMgPSBbXTsKCiAgaWYgKCBicnVzaF9yYWRpdXMgPiAwICkgewogIAlleHRlbnNpb25zLnB1c2goIG5ldyBkZWNrLkJydXNoaW5nRXh0ZW5zaW9uKCkgKTsKICB9CgogIGNvbnN0IGNvbHVtbkxheWVyID0gbmV3IGRlY2suQ29sdW1uTGF5ZXIoewogICAgbWFwX2lkOiBtYXBfaWQsCiAgICBpZDogJ2NvbHVtbi0nK2xheWVyX2lkLAogICAgZGF0YTogY29sdW1uX2RhdGEsCgkJcGlja2FibGU6IHRydWUsCiAgICBzdHJva2VkOiB0cnVlLAogICAgZmlsbGVkOiB0cnVlLAogICAgd2lyZWZyYW1lOiBmYWxzZSwKICAgIGV4dHJ1ZGVkOiBpc19leHRydWRlZCwKICAgIGdldEZpbGxDb2xvcjogZCA9PiBtZF9oZXhUb1JHQkEoIGQuZmlsbF9jb2xvdXIgKSwKICAgIGdldExpbmVDb2xvcjogZCA9PiBtZF9oZXhUb1JHQkEoIGQuc3Ryb2tlX2NvbG91ciApLAogICAgZ2V0TGluZVdpZHRoOiBkID0+IGQuc3Ryb2tlX3dpZHRoLAogICAgZ2V0RWxldmF0aW9uOiBkID0+IGQuZWxldmF0aW9uLAogICAgZ2V0UG9zaXRpb246IGQgPT4gbWRfZ2V0X3BvaW50X2Nvb3JkaW5hdGVzKCBkICksCiAgICBlbGV2YXRpb25TY2FsZTogZWxldmF0aW9uX3NjYWxlLAogICAgcmFkaXVzOiByYWRpdXMsCiAgICBkaXNrUmVzb2x1dGlvbjogZGlza19yZXNvbHV0aW9uLAogICAgYW5nbGU6IGFuZ2xlLAogICAgY292ZXJhZ2U6IGNvdmVyYWdlLAogICAgYXV0b0hpZ2hsaWdodDogYXV0b19oaWdobGlnaHQsCiAgICBoaWdobGlnaHRDb2xvcjogbWRfaGV4VG9SR0JBKCBoaWdobGlnaHRfY29sb3VyICksCiAgICBvbkNsaWNrOiBpbmZvID0+IG1kX2xheWVyX2NsaWNrKCBtYXBfaWQsICJjb2x1bW4iLCBpbmZvICksCiAgICBvbkhvdmVyOiBtZF91cGRhdGVfdG9vbHRpcCwKICAgIHRyYW5zaXRpb25zOiBqc190cmFuc2l0aW9uIHx8IHt9LAogICAgYnJ1c2hpbmdSYWRpdXM6IGJydXNoX3JhZGl1cywKICAgIGV4dGVuc2lvbnM6IGV4dGVuc2lvbnMKICB9KTsKCiAgaWYoIG1hcF90eXBlID09ICJnb29nbGVfbWFwIikgewoJICBtZF91cGRhdGVfb3ZlcmxheSggbWFwX2lkLCAnY29sdW1uLScrbGF5ZXJfaWQsIGNvbHVtbkxheWVyICk7Cgl9IGVsc2UgewoKCQltZF91cGRhdGVfbGF5ZXIoIG1hcF9pZCwgJ2NvbHVtbi0nK2xheWVyX2lkLCBjb2x1bW5MYXllciApOwoJfQoKCWlmIChsZWdlbmQgIT09IGZhbHNlKSB7CgkgIG1kX2FkZF9sZWdlbmQobWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGxlZ2VuZCwgImhleCIpOwoJfQoJbWRfbGF5ZXJfdmlldyggbWFwX2lkLCBtYXBfdHlwZSwgbGF5ZXJfaWQsIGZvY3VzX2xheWVyLCBiYm94LCB1cGRhdGVfdmlldyApOwp9Cgo="></script>
</head>
<body style="background-color: white;">
<div id="htmlwidget_container">
<div id="htmlwidget-bfc858dc26eb1c415156" class="mapdeck html-widget" style="width:1500px;height:1500px;">

</div>
</div>
<script type="application/json" data-for="htmlwidget-bfc858dc26eb1c415156">{"x":{"access_token":"pk.eyJ1IjoiZGFyd2luYW5kZGF2aXMiLCJhIjoiY2plNjl4d2RzN3A2ejMzcWh2MzZqNDI0bCJ9.dGj3EImirFhPZAuNytMOYg","style":"mapbox://styles/darwinanddavis/ck980j6wc3knc1imtt565hl5r/draft","pitch":30,"zoom":3,"location":[0,0],"bearing":0,"max_zoom":20,"min_zoom":0,"max_pitch":60,"min_pitch":0,"show_view_state":false,"repeat_view":false,"calls":[{"functions":"add_column_geo_columnar","args":["mapdeck",{"elevation":[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0],"fill_colour":[255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0,255.0],"stroke_colour":[68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0,68.0,1.0,84.0,255.0],"stroke_width":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"lat":[33.7865,33.7865,33.7865,33.7865,33.7865,33.7865,33.7865,33.7865,33.7865,33.7865],"lon":[-84.3773,-84.3773,-84.3773,-84.3773,-84.3773,-84.3773,-84.3773,-84.3773,-84.3773,-84.3773],"geometry":[-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865,-84.3773,33.7865]},10,"column_layer",true,"#CC030303",200,10000000000,20,180,0.5,{"fill_colour":[false]},[[-84.3773,33.7865],[-84.3773,33.7865]],true,false,null,true,null]}]},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-bfc858dc26eb1c415156">{"viewer":{"width":1500,"height":1500,"padding":0,"fill":false},"browser":{"width":1500,"height":1500,"padding":0,"fill":false}}</script>
</body>
</html>
